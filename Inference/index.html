<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Inference</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Inference: 双向类型推理</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Inference-105" class="Keyword">module</a> <a id="plfa_plfa-part2-Inference-112" href="../Inference/#" class="Module">plfa.part2.Inference</a> <a id="plfa_plfa-part2-Inference-133" class="Keyword">where</a>
</pre><p>在本书至此的进展中，项的类型推导是如法令一般直接给出的。 在 <a href="../Lambda/">Lambda</a> 章节，类型推导以外在于项的形式给出， 而在 <a href="../DeBruijn/">DeBruijn</a> 章节，类型推导以内在于项的形式给出， 但在两者均要求我们将类型推导完全写出。</p><p>在实践中，我们一般可以给项加上一些装饰，然后运用算法来<strong>推理</strong>（Infer）出类型推导。 的确，Agda 中也是这样：我们给顶层的函数声明指定类型，而其余可由给出的信息推理而来。 Agda 使用的这种推理被称为<strong>双向</strong>（Bidirectional）类型推理，我们将在本章中进行展示。</p><p>本章中，我们讲之前的进展结合在一起。 我们首先由带有类型注释的项开始，其与 <a href="../Lambda/">Lambda</a> 章节中的源项相似， 从此我们计算出内在类型的项，如同 <a href="../DeBruijn">DeBruijn</a> 章节中那样。</p><h2 id="algorithms">绪论：推理规则作为算法</h2><p>在我们至此使用的演算中，一个项可以有多于一个类型。例如，</p><pre><code>(ƛ x ⇒ x) ⦂ (A ⇒ A)</code></pre><p>对于<strong>任意</strong>类型 <code>A</code> 成立。 我们首先考虑一个带有 λ 项的小语言，其每一项有其唯一的类型。 我们只需要给抽象加上参数的类型。 这样我们可以得到如下的语法：</p><pre><code>L, M, N ::=                         带装饰的项
  x                                   变量
  ƛ x ⦂ A ⇒ N                         抽象（装饰后）
  L · M                               应用</code></pre><p>每一条相关的赋型规则可以被读作类型检查的算法。 对于每一条赋型规则，我们将每个位置标记如<strong>输入</strong>（Input）或者<strong>输出</strong>（Output）。</p><p>对于下面的判断</p><pre><code>Γ ∋ x ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和变量 <code>x</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>----------------- Z
Γ , x ⦂ A ∋ x ⦂ A

Γ ∋ x ⦂ A
----------------- S
Γ , y ⦂ B ∋ x ⦂ A</code></pre><p>从输入中，我们可以决定应用哪一条规则： 如果语境中最后一个变量与给定的变量一致，那么应用第一条规则，否则应用第二条。 （对于 de Bruijn 因子来说，这更加简单：零对应第一条，后继对应第二条。） 对于第一条，输出类型可以直接从语境中得到。 对于第二条，结论中的输入可以作为假设的输入，而假设的输出决定了结论的输出。</p><p>对于下面的判断：</p><pre><code>Γ ⊢ M ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和项 <code>M</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>Γ ∋ x ⦂ A
-----------
Γ ⊢ ` x ⦂ A

Γ , x ⦂ A ⊢ N ⦂ B
---------------------------
Γ ⊢ (ƛ x ⦂ A ⇒ N) ⦂ (A ⇒ B)

Γ ⊢ L ⦂ A ⇒ B
Γ ⊢ M ⦂ A′
A ≡ A′
-------------
Γ ⊢ L · M ⦂ B</code></pre><p>输入项决定了应用哪一条规则： 变量使用第一条，抽象使用第二条，应用使用第三条。 我们把这样的规则叫做<strong>语法导向的</strong>（Syntax directed）规则。 对于变量的规则，结论的输入决定了结论的输出。 抽象的规则也是一样——约束变量和参数从结论的输入流向假设中的语境； 这得以实现，因为我们在抽象中加入了参数的类型。 对于应用的规则，我们加入第三条假设来检查函数类型中的作用域是否与参数的类型一致； 这条判断是在两个类型已知时是可判定的。 结论的输入决定了前两个假设的输入，而前两个假设的输出决定了第三个假设的输入，而第一个假设的输出决定了结论的输出。</p><p>我们可以直接地把上述内容转换成一个算法，加入自然数和不动点也很直接。我们省略其明细。 取而代之的是，我们考虑一种需要更少装饰的表示方法。 其核心思想是将普通的赋型判断拆分成两个判断，一个生成类型作为输出，另一个取类型作为输入。</p><h2 id="生成和继承类型">生成和继承类型</h2><p>我们保留之前的变量的查询判断。除此之外，我们有两种联系类型和项的判断：</p><pre><code>Γ ⊢ M ↑ A
Γ ⊢ M ↓ A</code></pre><p>第一类判断<strong>生成</strong>（Synthesise）项的类型，如上，而第二类<strong>继承</strong>（Inherit）类型。 在第一类中，语境和项作为输入，类型作为输出； 而在第二类中，语境、项和类型三者都作为输入。</p><p>什么项生成类型，什么项继承类型的？ 我们的宗旨是<strong>解构子</strong>中的主项使用生成来赋型，而<strong>构造子</strong>使用继承。 比如，函数应用中的函数由生成来赋型，而抽象是由继承来赋型。 抽象中继承的类型和之前我们为参数额外增加的注解起到一样的作用。</p><p>解构某一类型的值的项总有一个主项（提供一个所需类型的参数），且经常有副项。 对于函数应用来说，主项提供了函数，副项提供了参数。 对于分情况讨论来说，主项提供了自然数，副项则是两种情况不同的情况。 在解构子中，主项使用生成进行赋型，而副项使用继承进行赋型。 我们将看到，这自然地导致函数应用作为整体由生成进行赋型，而分情况讨论作为整体则使用继承进行赋型。 变量一般使用生成进行赋型，因为我们可以直接从语境中查询其类型。 不动点自然是用继承来赋型。</p><p>为了达成赋型系统的语法导向性，我们将项分为两类： <code>Term⁺</code> 和 <code>Term⁻</code>，分别用生成和继承来赋型。 由生成赋型的子项可能出现在由继承赋型的子项中，反之亦然，这给我们带来两种新形式。</p><p>例如，我们之前提到函数应用的参数由继承赋型，而变量由生成赋型。 在参数是变量时会出现不匹配的情况。 因此，我们需要一种把生成的项当作继承的项的方法。 我们引入 <code>M ↑</code> 这种新的形式来达成此目的。 它的赋型判断即为检查其生成和继承的类型是否一致。</p><p>同样，函数应用的函数部分由生成来赋型，而抽象是由继承来赋型。 在函数是抽象时会出现不匹配的情况。 因此，我们需要一种把继承的项当作生成的项的方法。 我们引入 <code>M ↓ A</code> 这种新的形式来达成此目的。 它的赋型判断返回 <code>A</code> 作为生成的类型，并把它作为 <code>M</code> 继承的类型。</p><p><code>M ↓ A</code> 这种形式表示了我们唯一需要用类型来装饰的项。 它只在从生成切换成继承时出现， 即当一个<strong>解构</strong>某一类型的值的项的主项中包含了一个<strong>构造</strong>某一类型的值的时候， 也就是说，这是在 <code>β</code> 归约发生的地方出现。 一般来说，我们只需要在顶层声明中需要这样的装饰。</p><p>我们可以从上文中提取出项的语法：</p><pre><code>L⁺, M⁺, N⁺ ::=                      带有生成类型的项
  x                                   变量
  L⁺ · M⁻                             应用
  M⁻ ↓ A                              切换至继承

L⁻, M⁻, N⁻ ::=                      带有继承类型的项
  ƛ x ⇒ N⁻                            抽象
  `zero                               零
  `suc M⁻                             后继
  case L⁺ [zero⇒ M⁻ |suc x ⇒ N⁻ ]     分情况讨论
  μ x ⇒ N⁻                            不动点
  M⁺ ↑                                切换至生成</code></pre><p>我们将在下文中形式化上述定义。</p><h2 id="可靠性和完备性">可靠性和完备性</h2><p>我们试图证明赋型判断是<strong>可判定</strong>的：</p><pre><code>synthesize : ∀ (Γ : Context) (M : Term⁺)
    ------------------------------------
  → Dec (∃[ A ] Γ ⊢ M ↑ A)

inherit : ∀ (Γ : Context) (M : Term⁻) (A : Type)
          --------------------------------------
        → Dec (Γ ⊢ M ↓ A)</code></pre><p>给定语境 <code>Γ</code> 和生成项 <code>M</code>，我们必须判定是否存在一个类型 <code>A</code> 使得 <code>Γ ⊢ M ↑ A</code> 成立， 或者其否定。 同样，给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code>，我们必须判定 <code>Γ ⊢ M ↓ A</code> 成立，或者其否定。</p><p>我们的证明是构造性的。 在生成的情况中，它要么给出一个包括类型 <code>A</code> 和 <code>Γ ⊢ M ↓ A</code> 成立的证明的有序对，或是一个将上述有序对转换成矛盾的函数。 在继承的情况中，它要么给出 <code>Γ ⊢ M ↑ A</code> 成立的证明，或是一个将上述证明转换成矛盾的函数。 成立的情况被称为<strong>可靠性</strong>（Soundness）——生成和继承只在对应关系成立时成功。 不成立的情况被称为<strong>完备性</strong>（Completeness）——生成和继承只在对应关系无法成立时失败。</p><p>另一种实现方法可能在生成或继承成功时返回其推导，并在失败时返回一条错误信息——例如， 参见 Agda 用户手册中讨论<a href="https://agda.readthedocs.io/en/latest/language/syntactic-sugar.html#example">语法糖</a>的章节。 这样的方法可以实现可靠性，而不是完备性。 如果其返回一个推导，那么我们知道它是正确的； 但没有人阻挡我们来给出一个<strong>总是</strong>返回错误的函数，即使正确的推导存在。 证明可靠性和完备性两者比起单独证明可靠性一者更加有力。 其反向的证明可以被看作是一个语义上验证过的错误信息，即便它本身比仔细撰写的错误信息更让人难懂。</p><p>我们现在可以开始正式的形式化了：</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Inference-14534" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14541" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Inference-14579" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-14582" class="Module">Eq</a>
<a id="plfa_plfa-part2-Inference-14585" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14590" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Inference-14593" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14599" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14600" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Inference-14603" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14605" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-14609" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14611" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Inference-14614" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14616" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="plfa_plfa-part2-Inference-14621" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14623" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Inference-14627" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14629" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Inference-14634" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14636" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part2-Inference-14639" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14641" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14646" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14653" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Inference-14664" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14670" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14671" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Inference-14672" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14674" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Inference-14680" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14682" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14687" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14694" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Inference-14703" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14709" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14710" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Inference-14711" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14713" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Inference-14717" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14719" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Inference-14722" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14724" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#319" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Inference-14727" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14729" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">_*_</a><a id="plfa_plfa-part2-Inference-14732" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14734" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14739" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14746" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="plfa_plfa-part2-Inference-14758" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14764" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14765" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a><a id="plfa_plfa-part2-Inference-14771" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14773" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="plfa_plfa-part2-Inference-14776" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14778" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14783" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14790" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Inference-14803" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14809" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14810" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Inference-14813" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14815" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Inference-14816" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14818" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Inference-14826" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-14828" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Inference-14837" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14838" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Inference-14842" class="Symbol">to</a> <a id="plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Inference-14850" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14852" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14857" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14864" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Inference-14881" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14887" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14888" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Inference-14890" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14892" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="plfa_plfa-part2-Inference-14895" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14897" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Inference-14900" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14902" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Inference-14904" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14906" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14911" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14918" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Inference-14945" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14951" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14952" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="plfa_plfa-part2-Inference-14957" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14959" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="plfa_plfa-part2-Inference-14973" class="Symbol">)</a>
</pre><p>当我们有一个赋型推导时，从它构造出内在类型的表示方法更加方便。 为了与我们之前的结果进行比较，我们导入模块 <code>plfa.part2.More</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15278" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-15285" href="../More/#" class="Module">plfa.part2.More</a> <a id="plfa_plfa-part2-Inference-15301" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-15304" class="Module">DB</a>
</pre><p><code>as DB</code> 这个词组让我们可以用例如 <code>DB._⊢_</code> 的方法来指代其中的定义， 我们用 <code>Γ DB.⊢ A</code> 来使用它，其中 <code>Γ</code> 的类型是 <code>DB.Context</code>， <code>A</code> 的类型是 <code>DB.Type</code>。</p><h2 id="语法">语法</h2><p>首先，我们来定义中缀声明。 我们将判断和项的运算符分别列出：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15810" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15818" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15821" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">_∋_⦂_</a>
<a id="plfa_plfa-part2-Inference-15827" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15835" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15838" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">_⊢_↑_</a>
<a id="plfa_plfa-part2-Inference-15844" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15852" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15855" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">_⊢_↓_</a>
<a id="plfa_plfa-part2-Inference-15861" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15869" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15872" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">_,_⦂_</a>

<a id="plfa_plfa-part2-Inference-15879" class="Keyword">infixr</a>  <a id="plfa_plfa-part2-Inference-15887" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15890" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">_⇒_</a>

<a id="plfa_plfa-part2-Inference-15895" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15903" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15906" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15911" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15919" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15922" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">μ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15927" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15935" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15938" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">_↑</a>
<a id="plfa_plfa-part2-Inference-15941" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15949" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15952" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">_↓_</a>
<a id="plfa_plfa-part2-Inference-15956" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15964" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15967" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">_·_</a>
<a id="plfa_plfa-part2-Inference-15971" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15979" class="Number">8</a>  <a id="plfa_plfa-part2-Inference-15982" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc_</a>
<a id="plfa_plfa-part2-Inference-15988" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15996" class="Number">9</a>  <a id="plfa_plfa-part2-Inference-15999" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`_</a>
</pre><p>标识符、类型和语境与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Id"></a><a id="plfa_plfa-part2-Inference-16090" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16093" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16095" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16099" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16102" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-16104" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a>

<a id="plfa_plfa-part2-Inference-16112" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Type"></a><a id="plfa_plfa-part2-Inference-16117" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16122" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16124" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16128" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Type.`ℕ"></a><a id="plfa_plfa-part2-Inference-16136" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>    <a id="plfa_plfa-part2-Inference-16142" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16144" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a>
  <a id="plfa_plfa-part2-Inference-Type._⇒_"></a><a id="plfa_plfa-part2-Inference-16151" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">_⇒_</a>   <a id="plfa_plfa-part2-Inference-16157" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16159" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16164" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16166" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16171" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16173" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a>

<a id="plfa_plfa-part2-Inference-16179" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Context"></a><a id="plfa_plfa-part2-Inference-16184" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16192" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16194" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16198" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Context.∅"></a><a id="plfa_plfa-part2-Inference-16206" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a>     <a id="plfa_plfa-part2-Inference-16212" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16214" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Inference-Context._,_⦂_"></a><a id="plfa_plfa-part2-Inference-16224" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">_,_⦂_</a> <a id="plfa_plfa-part2-Inference-16230" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16232" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16240" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16242" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16245" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16247" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16252" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16254" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a>
</pre><p>项的语法由共同递归来定义。 我们用 <code>Term⁺</code> 和 <code>Term⁻</code> 来分别表示生成和继承的项。 注意我们包括了变向的形式 <code>M ↓ A</code> 和 <code>M ↑</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-16569" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁺"></a><a id="plfa_plfa-part2-Inference-16574" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16580" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16582" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16586" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁻"></a><a id="plfa_plfa-part2-Inference-16591" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16597" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16599" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-16604" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16609" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16615" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁺.`_"></a><a id="plfa_plfa-part2-Inference-16623" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`_</a>                       <a id="plfa_plfa-part2-Inference-16648" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16650" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16653" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16655" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._·_"></a><a id="plfa_plfa-part2-Inference-16663" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">_·_</a>                      <a id="plfa_plfa-part2-Inference-16688" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16690" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16696" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16698" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16704" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16706" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._↓_"></a><a id="plfa_plfa-part2-Inference-16714" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">_↓_</a>                      <a id="plfa_plfa-part2-Inference-16739" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16741" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16747" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16749" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16754" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16756" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>

<a id="plfa_plfa-part2-Inference-16763" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16768" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16774" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.ƛ_⇒_"></a><a id="plfa_plfa-part2-Inference-16782" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16807" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16809" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16812" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16814" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16820" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16822" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`zero"></a><a id="plfa_plfa-part2-Inference-16830" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a>                    <a id="plfa_plfa-part2-Inference-16855" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16857" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`suc_"></a><a id="plfa_plfa-part2-Inference-16865" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc_</a>                    <a id="plfa_plfa-part2-Inference-16890" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16892" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16898" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16900" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="plfa_plfa-part2-Inference-16908" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="plfa_plfa-part2-Inference-16933" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16935" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16941" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16943" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16949" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16951" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16954" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16956" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16962" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16964" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.μ_⇒_"></a><a id="plfa_plfa-part2-Inference-16972" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16997" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16999" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-17002" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17004" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-17010" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17012" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻._↑"></a><a id="plfa_plfa-part2-Inference-17020" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">_↑</a>                       <a id="plfa_plfa-part2-Inference-17045" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17047" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-17053" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17055" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
</pre><p>至于每个项是由继承或者生成来赋型，我们在上文中已经讨论过，并且可以直接上文的非形式化语法中直接得来。 解构子中的主项由生成赋型，解构子中的构造子和副项由继承赋型。</p><h2 id="项的例子">项的例子</h2><p>我们重新给出前几章中的例子。 首先，计算自然数二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-two"></a><a id="plfa_plfa-part2-Inference-17594" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17598" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17600" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-17606" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17610" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17612" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17617" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17618" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17623" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a><a id="plfa_plfa-part2-Inference-17628" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plus"></a><a id="plfa_plfa-part2-Inference-17631" href="../Inference/#plfa_plfa-part2-Inference-17631" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17636" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17638" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17644" href="../Inference/#plfa_plfa-part2-Inference-17631" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17649" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17651" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17652" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-17654" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17658" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17660" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17662" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17666" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17668" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17670" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17674" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a>
          <a id="plfa_plfa-part2-Inference-17686" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-17692" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17693" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17695" class="String">&quot;m&quot;</a><a id="plfa_plfa-part2-Inference-17698" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17700" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-17707" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17709" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17713" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a>
                        <a id="plfa_plfa-part2-Inference-17739" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-17744" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17748" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17750" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17755" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17756" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17758" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17762" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17764" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17765" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17767" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17771" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17772" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17774" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17776" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17777" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17779" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17783" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17784" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17786" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17787" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17789" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-17790" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Inference-17804" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-17806" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17807" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17810" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17812" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17815" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17817" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-17819" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2"></a><a id="plfa_plfa-part2-Inference-17822" href="../Inference/#plfa_plfa-part2-Inference-17822" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17826" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17828" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17834" href="../Inference/#plfa_plfa-part2-Inference-17822" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17838" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17840" href="../Inference/#plfa_plfa-part2-Inference-17631" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17845" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17847" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17851" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17853" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a>
</pre><p>唯一的变化是我们需要在需要时加入上下箭头。唯一的类型注释出现在 <code>plus</code>。</p><p>接下来，计算 Church 数的二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Ch"></a><a id="plfa_plfa-part2-Inference-18121" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18124" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18126" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a>
<a id="plfa_plfa-part2-Inference-18131" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18134" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18136" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18137" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18140" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18142" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-18144" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18146" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18148" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18151" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18153" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>

<a id="plfa_plfa-part2-Inference-twoᶜ"></a><a id="plfa_plfa-part2-Inference-18157" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18162" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18164" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18170" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18175" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18177" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18178" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18180" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18184" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18186" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18188" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18192" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18194" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18196" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18200" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18202" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18203" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18205" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18209" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18211" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18212" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18214" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18218" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18219" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18221" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18222" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18224" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18225" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plusᶜ"></a><a id="plfa_plfa-part2-Inference-18228" href="../Inference/#plfa_plfa-part2-Inference-18228" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18234" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18236" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18242" href="../Inference/#plfa_plfa-part2-Inference-18228" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18248" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18250" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18251" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18253" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18257" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18259" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18261" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18265" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18267" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18269" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18273" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18275" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18277" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18281" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a>
           <a id="plfa_plfa-part2-Inference-18294" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18296" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18300" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18302" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18303" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18305" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18309" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18310" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18312" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18314" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18315" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18317" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18321" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18323" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18324" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18326" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18330" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18331" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18333" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18335" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18336" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18338" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18342" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18343" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18345" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18346" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18348" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18349" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-18364" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-18366" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18367" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18370" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18372" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18375" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18377" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-18379" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-sucᶜ"></a><a id="plfa_plfa-part2-Inference-18382" href="../Inference/#plfa_plfa-part2-Inference-18382" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18387" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18389" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18395" href="../Inference/#plfa_plfa-part2-Inference-18382" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18400" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18402" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18404" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18408" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18410" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-18415" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18416" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18418" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18422" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18423" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-18426" href="../Inference/#plfa_plfa-part2-Inference-18426" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18431" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18433" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18439" href="../Inference/#plfa_plfa-part2-Inference-18426" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18444" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18446" href="../Inference/#plfa_plfa-part2-Inference-18228" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18452" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18454" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18459" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18461" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18466" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18468" href="../Inference/#plfa_plfa-part2-Inference-18382" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18473" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18475" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a>
</pre><p>唯一的类型注释出现在 <code>plusᶜ</code>。 <code>sucᶜ</code> 甚至不需要类型注释，因为它从 <code>plusᶜ</code> 的参数中继承了类型。</p><h2 id="双向类型检查">双向类型检查</h2><p>变量的赋型规则与 <a href="../Lambda/">Lambda</a> 章节中一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-18864" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_∋_⦂_"></a><a id="plfa_plfa-part2-Inference-18869" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">_∋_⦂_</a> <a id="plfa_plfa-part2-Inference-18875" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18877" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-18885" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18887" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-18890" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18892" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-18897" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18899" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-18903" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.Z"></a><a id="plfa_plfa-part2-Inference-18912" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-18914" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18916" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18918" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18919" href="../Inference/#plfa_plfa-part2-Inference-18919" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18921" href="../Inference/#plfa_plfa-part2-Inference-18921" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18923" href="../Inference/#plfa_plfa-part2-Inference-18923" class="Bound">A</a><a id="plfa_plfa-part2-Inference-18924" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-18932" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-18954" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18956" href="../Inference/#plfa_plfa-part2-Inference-18919" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18958" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-18960" href="../Inference/#plfa_plfa-part2-Inference-18921" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18962" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18964" href="../Inference/#plfa_plfa-part2-Inference-18923" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18966" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-18968" href="../Inference/#plfa_plfa-part2-Inference-18921" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18970" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18972" href="../Inference/#plfa_plfa-part2-Inference-18923" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.S"></a><a id="plfa_plfa-part2-Inference-18977" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-18979" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18981" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18983" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18984" href="../Inference/#plfa_plfa-part2-Inference-18984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18986" href="../Inference/#plfa_plfa-part2-Inference-18986" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18988" href="../Inference/#plfa_plfa-part2-Inference-18988" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-18990" href="../Inference/#plfa_plfa-part2-Inference-18990" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18992" href="../Inference/#plfa_plfa-part2-Inference-18992" class="Bound">B</a><a id="plfa_plfa-part2-Inference-18993" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-18999" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19001" href="../Inference/#plfa_plfa-part2-Inference-18986" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19003" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-19005" href="../Inference/#plfa_plfa-part2-Inference-18988" class="Bound">y</a>
    <a id="plfa_plfa-part2-Inference-19011" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19013" href="../Inference/#plfa_plfa-part2-Inference-18984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19015" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19017" href="../Inference/#plfa_plfa-part2-Inference-18986" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19019" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19021" href="../Inference/#plfa_plfa-part2-Inference-18990" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19029" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-19051" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19053" href="../Inference/#plfa_plfa-part2-Inference-18984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19055" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19057" href="../Inference/#plfa_plfa-part2-Inference-18988" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19059" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19061" href="../Inference/#plfa_plfa-part2-Inference-18992" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-19063" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19065" href="../Inference/#plfa_plfa-part2-Inference-18986" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19067" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19069" href="../Inference/#plfa_plfa-part2-Inference-18990" class="Bound">A</a>
</pre><p>与语法一样，生成和继承的赋型判断也是共同递归的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-19212" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↑_"></a><a id="plfa_plfa-part2-Inference-19217" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19223" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19225" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19233" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19235" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-19241" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19243" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19248" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19250" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-19254" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↓_"></a><a id="plfa_plfa-part2-Inference-19259" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19265" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19267" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19275" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19277" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-19283" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19285" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19290" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19292" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-19297" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19302" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19308" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢`"></a><a id="plfa_plfa-part2-Inference-19317" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-19320" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19322" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19324" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19325" href="../Inference/#plfa_plfa-part2-Inference-19325" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19327" href="../Inference/#plfa_plfa-part2-Inference-19327" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19329" href="../Inference/#plfa_plfa-part2-Inference-19329" class="Bound">x</a><a id="plfa_plfa-part2-Inference-19330" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19336" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19338" href="../Inference/#plfa_plfa-part2-Inference-19325" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19340" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19342" href="../Inference/#plfa_plfa-part2-Inference-19329" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19344" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19346" href="../Inference/#plfa_plfa-part2-Inference-19327" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19354" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Inference-19370" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19372" href="../Inference/#plfa_plfa-part2-Inference-19325" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19374" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19376" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-19378" href="../Inference/#plfa_plfa-part2-Inference-19329" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19380" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19382" href="../Inference/#plfa_plfa-part2-Inference-19327" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_._·_"></a><a id="plfa_plfa-part2-Inference-19387" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Inference-19391" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19393" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19395" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19396" href="../Inference/#plfa_plfa-part2-Inference-19396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19398" href="../Inference/#plfa_plfa-part2-Inference-19398" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19400" href="../Inference/#plfa_plfa-part2-Inference-19400" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19402" href="../Inference/#plfa_plfa-part2-Inference-19402" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19404" href="../Inference/#plfa_plfa-part2-Inference-19404" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19405" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19411" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19413" href="../Inference/#plfa_plfa-part2-Inference-19396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19415" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19417" href="../Inference/#plfa_plfa-part2-Inference-19398" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19419" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19421" href="../Inference/#plfa_plfa-part2-Inference-19402" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19423" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19425" href="../Inference/#plfa_plfa-part2-Inference-19404" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-19431" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19433" href="../Inference/#plfa_plfa-part2-Inference-19396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19435" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19437" href="../Inference/#plfa_plfa-part2-Inference-19400" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19439" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19441" href="../Inference/#plfa_plfa-part2-Inference-19402" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19449" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-19467" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19469" href="../Inference/#plfa_plfa-part2-Inference-19396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19471" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19473" href="../Inference/#plfa_plfa-part2-Inference-19398" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19475" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-19477" href="../Inference/#plfa_plfa-part2-Inference-19400" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19479" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19481" href="../Inference/#plfa_plfa-part2-Inference-19404" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢↓"></a><a id="plfa_plfa-part2-Inference-19486" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-19489" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19491" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19493" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19494" href="../Inference/#plfa_plfa-part2-Inference-19494" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19496" href="../Inference/#plfa_plfa-part2-Inference-19496" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19498" href="../Inference/#plfa_plfa-part2-Inference-19498" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19499" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19505" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19507" href="../Inference/#plfa_plfa-part2-Inference-19494" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19509" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19511" href="../Inference/#plfa_plfa-part2-Inference-19496" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19513" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19515" href="../Inference/#plfa_plfa-part2-Inference-19498" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19523" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19543" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19545" href="../Inference/#plfa_plfa-part2-Inference-19494" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19547" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19549" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-19550" href="../Inference/#plfa_plfa-part2-Inference-19496" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19552" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-19554" href="../Inference/#plfa_plfa-part2-Inference-19498" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19555" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-19557" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19559" href="../Inference/#plfa_plfa-part2-Inference-19498" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-19562" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19567" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19573" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢ƛ"></a><a id="plfa_plfa-part2-Inference-19582" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-19585" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19587" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19589" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19590" href="../Inference/#plfa_plfa-part2-Inference-19590" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19592" href="../Inference/#plfa_plfa-part2-Inference-19592" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19594" href="../Inference/#plfa_plfa-part2-Inference-19594" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19596" href="../Inference/#plfa_plfa-part2-Inference-19596" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19598" href="../Inference/#plfa_plfa-part2-Inference-19598" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19599" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19605" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19607" href="../Inference/#plfa_plfa-part2-Inference-19590" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19609" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19611" href="../Inference/#plfa_plfa-part2-Inference-19592" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19613" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19615" href="../Inference/#plfa_plfa-part2-Inference-19596" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19617" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19619" href="../Inference/#plfa_plfa-part2-Inference-19594" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19621" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19623" href="../Inference/#plfa_plfa-part2-Inference-19598" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-19631" class="Comment">-------------------</a>
    <a id="plfa_plfa-part2-Inference-19655" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19657" href="../Inference/#plfa_plfa-part2-Inference-19590" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19659" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19661" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-19663" href="../Inference/#plfa_plfa-part2-Inference-19592" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19665" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19667" href="../Inference/#plfa_plfa-part2-Inference-19594" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19669" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19671" href="../Inference/#plfa_plfa-part2-Inference-19596" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19673" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19675" href="../Inference/#plfa_plfa-part2-Inference-19598" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢zero"></a><a id="plfa_plfa-part2-Inference-19680" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-19686" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19688" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19690" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19691" href="../Inference/#plfa_plfa-part2-Inference-19691" class="Bound">Γ</a><a id="plfa_plfa-part2-Inference-19692" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-19700" class="Comment">--------------</a>
    <a id="plfa_plfa-part2-Inference-19719" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19721" href="../Inference/#plfa_plfa-part2-Inference-19691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19723" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19725" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-19731" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19733" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢suc"></a><a id="plfa_plfa-part2-Inference-19739" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-19744" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19746" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19748" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19749" href="../Inference/#plfa_plfa-part2-Inference-19749" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19751" href="../Inference/#plfa_plfa-part2-Inference-19751" class="Bound">M</a><a id="plfa_plfa-part2-Inference-19752" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19758" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19760" href="../Inference/#plfa_plfa-part2-Inference-19749" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19762" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19764" href="../Inference/#plfa_plfa-part2-Inference-19751" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19766" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19768" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>
      <a id="plfa_plfa-part2-Inference-19777" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19797" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19799" href="../Inference/#plfa_plfa-part2-Inference-19749" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19801" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19803" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-19808" href="../Inference/#plfa_plfa-part2-Inference-19751" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19810" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19812" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢case"></a><a id="plfa_plfa-part2-Inference-19818" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-19824" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19826" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19828" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19829" href="../Inference/#plfa_plfa-part2-Inference-19829" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19831" href="../Inference/#plfa_plfa-part2-Inference-19831" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19833" href="../Inference/#plfa_plfa-part2-Inference-19833" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19835" href="../Inference/#plfa_plfa-part2-Inference-19835" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19837" href="../Inference/#plfa_plfa-part2-Inference-19837" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19839" href="../Inference/#plfa_plfa-part2-Inference-19839" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19840" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19846" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19848" href="../Inference/#plfa_plfa-part2-Inference-19829" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19850" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19852" href="../Inference/#plfa_plfa-part2-Inference-19831" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19854" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19856" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>
    <a id="plfa_plfa-part2-Inference-19863" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19865" href="../Inference/#plfa_plfa-part2-Inference-19829" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19867" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19869" href="../Inference/#plfa_plfa-part2-Inference-19833" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19871" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19873" href="../Inference/#plfa_plfa-part2-Inference-19839" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-19879" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19881" href="../Inference/#plfa_plfa-part2-Inference-19829" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19883" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19885" href="../Inference/#plfa_plfa-part2-Inference-19835" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19887" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19889" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-19892" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19894" href="../Inference/#plfa_plfa-part2-Inference-19837" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19896" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19898" href="../Inference/#plfa_plfa-part2-Inference-19839" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19906" class="Comment">-------------------------------------</a>
    <a id="plfa_plfa-part2-Inference-19948" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19950" href="../Inference/#plfa_plfa-part2-Inference-19829" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19952" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19954" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-19960" href="../Inference/#plfa_plfa-part2-Inference-19831" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19962" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-19969" href="../Inference/#plfa_plfa-part2-Inference-19833" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19971" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-19976" href="../Inference/#plfa_plfa-part2-Inference-19835" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19978" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19980" href="../Inference/#plfa_plfa-part2-Inference-19837" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19982" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-19984" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19986" href="../Inference/#plfa_plfa-part2-Inference-19839" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢μ"></a><a id="plfa_plfa-part2-Inference-19991" href="../Inference/#plfa_plfa-part2-Inference-19991" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-19994" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19996" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19998" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19999" href="../Inference/#plfa_plfa-part2-Inference-19999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20001" href="../Inference/#plfa_plfa-part2-Inference-20001" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20003" href="../Inference/#plfa_plfa-part2-Inference-20003" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20005" href="../Inference/#plfa_plfa-part2-Inference-20005" class="Bound">A</a><a id="plfa_plfa-part2-Inference-20006" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20012" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20014" href="../Inference/#plfa_plfa-part2-Inference-19999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20016" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-20018" href="../Inference/#plfa_plfa-part2-Inference-20001" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20020" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-20022" href="../Inference/#plfa_plfa-part2-Inference-20005" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20024" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20026" href="../Inference/#plfa_plfa-part2-Inference-20003" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20028" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20030" href="../Inference/#plfa_plfa-part2-Inference-20005" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-20038" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-20060" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20062" href="../Inference/#plfa_plfa-part2-Inference-19999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20064" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20066" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-20068" href="../Inference/#plfa_plfa-part2-Inference-20001" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20070" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20072" href="../Inference/#plfa_plfa-part2-Inference-20003" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20074" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20076" href="../Inference/#plfa_plfa-part2-Inference-20005" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢↑"></a><a id="plfa_plfa-part2-Inference-20081" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-20084" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20086" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20088" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20089" href="../Inference/#plfa_plfa-part2-Inference-20089" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20091" href="../Inference/#plfa_plfa-part2-Inference-20091" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20093" href="../Inference/#plfa_plfa-part2-Inference-20093" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20095" href="../Inference/#plfa_plfa-part2-Inference-20095" class="Bound">B</a><a id="plfa_plfa-part2-Inference-20096" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20102" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20104" href="../Inference/#plfa_plfa-part2-Inference-20089" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20106" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20108" href="../Inference/#plfa_plfa-part2-Inference-20091" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20110" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-20112" href="../Inference/#plfa_plfa-part2-Inference-20093" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-20118" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20120" href="../Inference/#plfa_plfa-part2-Inference-20093" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20122" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-20124" href="../Inference/#plfa_plfa-part2-Inference-20095" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-20132" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-20150" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20152" href="../Inference/#plfa_plfa-part2-Inference-20089" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20154" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20156" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-20157" href="../Inference/#plfa_plfa-part2-Inference-20091" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20159" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-20160" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-20162" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20164" href="../Inference/#plfa_plfa-part2-Inference-20095" class="Bound">B</a>
</pre><p>我们用和 <a href="../Lambda/">Lambda</a> 中一样的命名规则， 把 <code>⊢</code> 加在构造子之前，来当作对应赋型规则的名称。</p><p>这些规则和 <a href="../Lambda/">Lambda</a> 章节中相似，修改成支持生成和继承类型的样式。 其中有两条新规则 <code>⊢↓</code> 和 <code>⊢↑</code>。 前者把类型装饰当作继承的类型，并将其返回作为生成的类型。 后者取其生成的类型，并检查是否与继承的类型一致——这应该让你回忆起第一<a href="../Inference/#algorithms">部分</a>中函数应用规则的相等性测试。</p><h4 id="bidirectional-mul">练习 <code>bidirectional-mul</code> （推荐）</h4><p>将你在 <a href="../Lambda/">Lambda</a> 章节中乘法的定义重写，将其装饰至支持类型推理的形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21367" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="bidirectional-products">练习 <code>bidirectional-products</code> （推荐）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21681" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="bidirectional-rest">练习 <code>bidirectional-rest</code> （延伸）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的其余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21994" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="前置需求">前置需求</h2><p><code>M ↑</code> 规则需要我们有能力来判定两个类型是否相等。 我们可以直接地给出代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-_≟Tp_"></a><a id="plfa_plfa-part2-Inference-22219" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">_≟Tp_</a> <a id="plfa_plfa-part2-Inference-22225" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22227" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22228" href="../Inference/#plfa_plfa-part2-Inference-22228" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22230" href="../Inference/#plfa_plfa-part2-Inference-22230" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22232" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22234" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-22238" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22240" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22242" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-22246" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22247" href="../Inference/#plfa_plfa-part2-Inference-22228" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22249" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22251" href="../Inference/#plfa_plfa-part2-Inference-22230" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22252" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-22254" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22262" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22266" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22282" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22285" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22289" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-22294" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22302" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22306" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22307" href="../Inference/#plfa_plfa-part2-Inference-22307" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22309" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22311" href="../Inference/#plfa_plfa-part2-Inference-22311" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22312" class="Symbol">)</a>         <a id="plfa_plfa-part2-Inference-22322" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22325" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22328" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22332" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22333" href="../Inference/#plfa_plfa-part2-Inference-22333" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22335" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22337" href="../Inference/#plfa_plfa-part2-Inference-22337" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22338" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22340" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22344" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22360" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22363" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22366" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22370" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22371" href="../Inference/#plfa_plfa-part2-Inference-22371" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22373" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22375" href="../Inference/#plfa_plfa-part2-Inference-22375" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22376" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22378" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22382" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22383" href="../Inference/#plfa_plfa-part2-Inference-22383" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22386" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22388" href="../Inference/#plfa_plfa-part2-Inference-22388" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22390" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Inference-22394" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-22399" href="../Inference/#plfa_plfa-part2-Inference-22371" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22401" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22405" href="../Inference/#plfa_plfa-part2-Inference-22383" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22408" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22410" href="../Inference/#plfa_plfa-part2-Inference-22375" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22412" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22416" href="../Inference/#plfa_plfa-part2-Inference-22388" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22419" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22424" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22426" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22429" href="../Inference/#plfa_plfa-part2-Inference-22429" class="Bound">A≢</a>    <a id="plfa_plfa-part2-Inference-22435" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22437" class="Symbol">_</a>         <a id="plfa_plfa-part2-Inference-22447" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22450" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22453" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22455" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22460" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22462" href="../Inference/#plfa_plfa-part2-Inference-22429" class="Bound">A≢</a> <a id="plfa_plfa-part2-Inference-22465" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22469" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22471" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22476" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22478" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22482" class="Symbol">_</a>    <a id="plfa_plfa-part2-Inference-22487" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22489" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22492" href="../Inference/#plfa_plfa-part2-Inference-22492" class="Bound">B≢</a>     <a id="plfa_plfa-part2-Inference-22499" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22502" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22505" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22507" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22512" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22514" href="../Inference/#plfa_plfa-part2-Inference-22492" class="Bound">B≢</a> <a id="plfa_plfa-part2-Inference-22517" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22521" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22523" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22528" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22530" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22534" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22539" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22541" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22545" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>  <a id="plfa_plfa-part2-Inference-22551" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22554" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22558" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也会需要一些显然的引理； 作用域和值域相等的函数类型相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-dom≡"></a><a id="plfa_plfa-part2-Inference-22721" href="../Inference/#plfa_plfa-part2-Inference-22721" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22726" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22728" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22730" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22731" href="../Inference/#plfa_plfa-part2-Inference-22731" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22733" href="../Inference/#plfa_plfa-part2-Inference-22733" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22736" href="../Inference/#plfa_plfa-part2-Inference-22736" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22738" href="../Inference/#plfa_plfa-part2-Inference-22738" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22740" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22742" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22744" href="../Inference/#plfa_plfa-part2-Inference-22731" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22746" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22748" href="../Inference/#plfa_plfa-part2-Inference-22736" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22750" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22752" href="../Inference/#plfa_plfa-part2-Inference-22733" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22755" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22757" href="../Inference/#plfa_plfa-part2-Inference-22738" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22760" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22762" href="../Inference/#plfa_plfa-part2-Inference-22731" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22764" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22766" href="../Inference/#plfa_plfa-part2-Inference-22733" class="Bound">A′</a>
<a id="plfa_plfa-part2-Inference-22769" href="../Inference/#plfa_plfa-part2-Inference-22721" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22774" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22779" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22781" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-rng≡"></a><a id="plfa_plfa-part2-Inference-22787" href="../Inference/#plfa_plfa-part2-Inference-22787" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22792" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22794" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22796" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22797" href="../Inference/#plfa_plfa-part2-Inference-22797" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22799" href="../Inference/#plfa_plfa-part2-Inference-22799" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22802" href="../Inference/#plfa_plfa-part2-Inference-22802" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22804" href="../Inference/#plfa_plfa-part2-Inference-22804" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22806" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22808" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22810" href="../Inference/#plfa_plfa-part2-Inference-22797" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22812" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22814" href="../Inference/#plfa_plfa-part2-Inference-22802" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22816" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22818" href="../Inference/#plfa_plfa-part2-Inference-22799" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22821" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22823" href="../Inference/#plfa_plfa-part2-Inference-22804" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22826" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22828" href="../Inference/#plfa_plfa-part2-Inference-22802" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22830" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22832" href="../Inference/#plfa_plfa-part2-Inference-22804" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22835" href="../Inference/#plfa_plfa-part2-Inference-22787" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22840" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22845" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22847" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也需要知道 <code>`ℕ</code> 和 <code>A ⇒ B</code> 这两个类型不相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ℕ≢⇒"></a><a id="plfa_plfa-part2-Inference-22990" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-22994" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22996" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22998" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22999" href="../Inference/#plfa_plfa-part2-Inference-22999" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23001" href="../Inference/#plfa_plfa-part2-Inference-23001" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23002" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23004" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23006" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-23009" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-23011" href="../Inference/#plfa_plfa-part2-Inference-22999" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23013" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-23015" href="../Inference/#plfa_plfa-part2-Inference-23001" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23017" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23021" class="Symbol">()</a>
</pre><h2 id="唯一的类型">唯一的类型</h2><p>从语境查询一个类型是唯一的。 给定两个推导，其一证明 <code>Γ ∋ x ⦂ A</code>，另一个证明 <code>Γ ∋ x ⦂ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-∋"></a><a id="plfa_plfa-part2-Inference-23331" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23338" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23340" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23342" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23343" href="../Inference/#plfa_plfa-part2-Inference-23343" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23345" href="../Inference/#plfa_plfa-part2-Inference-23345" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23347" href="../Inference/#plfa_plfa-part2-Inference-23347" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23349" href="../Inference/#plfa_plfa-part2-Inference-23349" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23350" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23352" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23354" href="../Inference/#plfa_plfa-part2-Inference-23343" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23356" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23358" href="../Inference/#plfa_plfa-part2-Inference-23345" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23360" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23362" href="../Inference/#plfa_plfa-part2-Inference-23347" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23364" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23366" href="../Inference/#plfa_plfa-part2-Inference-23343" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23368" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23370" href="../Inference/#plfa_plfa-part2-Inference-23345" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23372" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23374" href="../Inference/#plfa_plfa-part2-Inference-23349" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-23376" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23378" href="../Inference/#plfa_plfa-part2-Inference-23347" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23380" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-23382" href="../Inference/#plfa_plfa-part2-Inference-23349" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23384" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23391" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23393" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a>                 <a id="plfa_plfa-part2-Inference-23411" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23414" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-23419" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23426" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23428" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23429" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23431" href="../Inference/#plfa_plfa-part2-Inference-23431" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23435" class="Symbol">_)</a>         <a id="plfa_plfa-part2-Inference-23446" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23449" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23456" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23457" href="../Inference/#plfa_plfa-part2-Inference-23431" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23461" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23465" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23467" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23474" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23475" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23477" href="../Inference/#plfa_plfa-part2-Inference-23477" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23481" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-23484" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a>         <a id="plfa_plfa-part2-Inference-23494" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23497" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23504" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23505" href="../Inference/#plfa_plfa-part2-Inference-23477" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23509" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23513" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23515" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23522" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23523" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23525" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23527" href="../Inference/#plfa_plfa-part2-Inference-23527" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-23529" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-23531" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23532" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23534" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23536" href="../Inference/#plfa_plfa-part2-Inference-23536" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-23539" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-23542" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23545" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23552" href="../Inference/#plfa_plfa-part2-Inference-23527" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-23555" href="../Inference/#plfa_plfa-part2-Inference-23536" class="Bound">∋x′</a>
</pre><p>如果两个推导都使用 <code>Z</code> 规则，那么唯一性即可直接得出； 如果两个推导都使用 <code>S</code> 规则，那么唯一性可以由归纳得出。 如果一个使用了 <code>Z</code> 规则，另一个使用了 <code>S</code> 规则，这则是一个矛盾， 因为 <code>Z</code> 要求我们查询的变量是语境中的最后一个，而 <code>S</code> 要求不是这样。</p><p>生成的类型也是唯一的。 给定两个推导，其一证明 <code>Γ ⊢ M ↑ A</code>，另一个证明 <code>Γ ⊢ M ↑ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-↑"></a><a id="plfa_plfa-part2-Inference-24321" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24328" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-24330" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-24332" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-24333" href="../Inference/#plfa_plfa-part2-Inference-24333" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24335" href="../Inference/#plfa_plfa-part2-Inference-24335" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24337" href="../Inference/#plfa_plfa-part2-Inference-24337" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24339" href="../Inference/#plfa_plfa-part2-Inference-24339" class="Bound">B</a><a id="plfa_plfa-part2-Inference-24340" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-24342" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24344" href="../Inference/#plfa_plfa-part2-Inference-24333" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24346" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24348" href="../Inference/#plfa_plfa-part2-Inference-24335" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24350" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24352" href="../Inference/#plfa_plfa-part2-Inference-24337" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24354" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24356" href="../Inference/#plfa_plfa-part2-Inference-24333" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24358" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24360" href="../Inference/#plfa_plfa-part2-Inference-24335" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24362" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24364" href="../Inference/#plfa_plfa-part2-Inference-24339" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-24366" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24368" href="../Inference/#plfa_plfa-part2-Inference-24337" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24370" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-24372" href="../Inference/#plfa_plfa-part2-Inference-24339" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-24374" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24381" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24382" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24385" href="../Inference/#plfa_plfa-part2-Inference-24385" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-24387" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24389" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24390" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24393" href="../Inference/#plfa_plfa-part2-Inference-24393" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-24396" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24404" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24407" href="../Inference/#plfa_plfa-part2-Inference-23331" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-24414" href="../Inference/#plfa_plfa-part2-Inference-24385" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-24417" href="../Inference/#plfa_plfa-part2-Inference-24393" class="Bound">∋x′</a>
<a id="plfa_plfa-part2-Inference-24421" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24428" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24429" href="../Inference/#plfa_plfa-part2-Inference-24429" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24432" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24434" href="../Inference/#plfa_plfa-part2-Inference-24434" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24436" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24438" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24439" href="../Inference/#plfa_plfa-part2-Inference-24439" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-24443" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24445" href="../Inference/#plfa_plfa-part2-Inference-24445" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24448" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-24451" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24454" href="../Inference/#plfa_plfa-part2-Inference-22787" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-24459" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24460" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24467" href="../Inference/#plfa_plfa-part2-Inference-24429" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24470" href="../Inference/#plfa_plfa-part2-Inference-24439" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-24473" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-24475" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24482" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24483" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24486" href="../Inference/#plfa_plfa-part2-Inference-24486" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24488" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24490" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24491" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24494" href="../Inference/#plfa_plfa-part2-Inference-24494" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24497" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24505" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24508" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>有三种项的形式。 如果项是变量，那么生成的唯一性从查询的唯一性中直接得出。 如果项是函数应用，那么唯一性由应用中的函数之上的归纳得出，因为值域相等的类型相等。 如果项是变向，两者装饰的类型相等，从此可得唯一性。</p><h2 id="查询语境中变量的类型">查询语境中变量的类型</h2><p>给定 <code>Γ</code> 和两个不同的变量 <code>x</code> 和 <code>y</code>， 如果不存在类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立， 那么也不存在类型 <code>A</code> 使得 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ext∋"></a><a id="plfa_plfa-part2-Inference-25352" href="../Inference/#plfa_plfa-part2-Inference-25352" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25357" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-25359" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-25361" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-25362" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25364" href="../Inference/#plfa_plfa-part2-Inference-25364" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25366" href="../Inference/#plfa_plfa-part2-Inference-25366" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25368" href="../Inference/#plfa_plfa-part2-Inference-25368" class="Bound">y</a><a id="plfa_plfa-part2-Inference-25369" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-25373" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25375" href="../Inference/#plfa_plfa-part2-Inference-25366" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25377" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-25379" href="../Inference/#plfa_plfa-part2-Inference-25368" class="Bound">y</a>
  <a id="plfa_plfa-part2-Inference-25383" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25385" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25387" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25388" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25391" href="../Inference/#plfa_plfa-part2-Inference-25391" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25393" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25395" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25397" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25399" href="../Inference/#plfa_plfa-part2-Inference-25366" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25401" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25403" href="../Inference/#plfa_plfa-part2-Inference-25391" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25404" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-25410" class="Comment">----------------------------</a>
  <a id="plfa_plfa-part2-Inference-25441" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25443" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25445" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25446" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25449" href="../Inference/#plfa_plfa-part2-Inference-25449" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25451" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25453" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25455" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25457" href="../Inference/#plfa_plfa-part2-Inference-25368" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-25459" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25461" href="../Inference/#plfa_plfa-part2-Inference-25364" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25463" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25465" href="../Inference/#plfa_plfa-part2-Inference-25366" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25467" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25469" href="../Inference/#plfa_plfa-part2-Inference-25449" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25470" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-25472" href="../Inference/#plfa_plfa-part2-Inference-25352" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25477" href="../Inference/#plfa_plfa-part2-Inference-25477" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25481" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-25484" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25486" href="../Inference/#plfa_plfa-part2-Inference-25486" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25488" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25490" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-25492" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>       <a id="plfa_plfa-part2-Inference-25500" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25503" href="../Inference/#plfa_plfa-part2-Inference-25477" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25507" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-25512" href="../Inference/#plfa_plfa-part2-Inference-25352" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25517" class="Symbol">_</a>   <a id="plfa_plfa-part2-Inference-25521" href="../Inference/#plfa_plfa-part2-Inference-25521" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25524" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25526" href="../Inference/#plfa_plfa-part2-Inference-25526" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25528" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25530" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-25532" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-25534" href="../Inference/#plfa_plfa-part2-Inference-25534" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25537" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-25540" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25543" href="../Inference/#plfa_plfa-part2-Inference-25521" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25546" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25548" href="../Inference/#plfa_plfa-part2-Inference-25526" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25550" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25552" href="../Inference/#plfa_plfa-part2-Inference-25534" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25555" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
</pre><p>给定类型 <code>A</code> 和 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立的证明，我们必须构造一个矛盾。 如果判断由 <code>Z</code> 成立，那么 <code>x</code> 和 <code>y</code> 一定是一样的，与第一个假设矛盾。 如果判断由 <code>S _ ∋x</code> 成立，那么 <code>∋x</code> 提供了 <code>Γ ∋ x ⦂ A</code> 成立的证明，与第二个假设矛盾。</p><p>给定语境 <code>Γ</code> 和变量 <code>x</code>，我们可判断是否存在一个类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立，或者其反命题：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-lookup"></a><a id="plfa_plfa-part2-Inference-26271" href="../Inference/#plfa_plfa-part2-Inference-26271" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26278" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26280" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-26282" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26283" href="../Inference/#plfa_plfa-part2-Inference-26283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26285" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26287" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-26294" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26296" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26297" href="../Inference/#plfa_plfa-part2-Inference-26297" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26299" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26301" href="../Inference/#plfa_plfa-part2-Inference-16090" class="Function">Id</a><a id="plfa_plfa-part2-Inference-26303" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-26314" class="Comment">------------------------</a>
       <a id="plfa_plfa-part2-Inference-26346" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-26348" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-26352" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26353" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-26356" href="../Inference/#plfa_plfa-part2-Inference-26356" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26358" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-26360" href="../Inference/#plfa_plfa-part2-Inference-26283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26362" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-26364" href="../Inference/#plfa_plfa-part2-Inference-26297" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26366" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26368" href="../Inference/#plfa_plfa-part2-Inference-26356" class="Bound">A</a><a id="plfa_plfa-part2-Inference-26369" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26371" href="../Inference/#plfa_plfa-part2-Inference-26271" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26378" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-26380" href="../Inference/#plfa_plfa-part2-Inference-26380" class="Bound">x</a>                        <a id="plfa_plfa-part2-Inference-26405" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26408" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26412" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Inference-26415" class="Symbol">())</a>
<a id="plfa_plfa-part2-Inference-26419" href="../Inference/#plfa_plfa-part2-Inference-26271" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26426" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26427" href="../Inference/#plfa_plfa-part2-Inference-26427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26429" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26431" href="../Inference/#plfa_plfa-part2-Inference-26431" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-26433" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26435" href="../Inference/#plfa_plfa-part2-Inference-26435" class="Bound">B</a><a id="plfa_plfa-part2-Inference-26436" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26438" href="../Inference/#plfa_plfa-part2-Inference-26438" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26440" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26445" href="../Inference/#plfa_plfa-part2-Inference-26438" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26447" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-26449" href="../Inference/#plfa_plfa-part2-Inference-26431" class="Bound">y</a>
<a id="plfa_plfa-part2-Inference-26451" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26455" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26457" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26461" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>                    <a id="plfa_plfa-part2-Inference-26485" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26488" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26492" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26494" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-26496" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26498" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-26500" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-26502" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26506" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26508" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-26511" href="../Inference/#plfa_plfa-part2-Inference-26511" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26515" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26520" href="../Inference/#plfa_plfa-part2-Inference-26271" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26527" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26529" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-26531" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26547" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26549" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26553" href="../Inference/#plfa_plfa-part2-Inference-26553" class="Bound">¬∃</a>          <a id="plfa_plfa-part2-Inference-26565" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26568" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26572" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26573" href="../Inference/#plfa_plfa-part2-Inference-25352" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-26578" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26582" href="../Inference/#plfa_plfa-part2-Inference-26553" class="Bound">¬∃</a><a id="plfa_plfa-part2-Inference-26584" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26586" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26602" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26604" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26608" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26610" href="../Inference/#plfa_plfa-part2-Inference-26610" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26612" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26614" href="../Inference/#plfa_plfa-part2-Inference-26614" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26617" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-26620" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26623" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26627" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26629" href="../Inference/#plfa_plfa-part2-Inference-26610" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26631" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26633" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-26635" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26639" href="../Inference/#plfa_plfa-part2-Inference-26614" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26642" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
</pre><p>考虑语境的情况：</p><ul><li>如果语境为空，那么平凡地，我们没有任何可能的推导。</li></ul><ul><li><p>如果语境非空，比较给定的变量和最新的绑定：</p><ul><li>如果它们一致，我们完成了判定，使用 <code>Z</code> 作为对应的推导。</li></ul><ul><li><p>如果它们不一致，我们递归：</p><ul><li>如果查询失败了，我们使用 <code>ext∋</code> 将变量不存在于内部的语境中的证明扩充至扩充后的语境。</li></ul><ul><li>如果查询成功了，我们对返回的推导使用 <code>S</code>。</li></ul></li></ul></li></ul><h2 id="提升否定">提升否定</h2><p>对于每一个可能的项的形式，我们需要证明：如果其内部的子项无法被赋型，那么整个项无法被赋型。 大多数情况下，我们可以直接在行中直接完成所需的证明，但有一些困难的情况， 我们提供一些帮助函数。</p><p>如果 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立而 <code>Γ ⊢ M ↓ A</code> 不成立，那么不存在使得 <code>Γ ⊢ L · M ↑ B′</code> 成立的类型 <code>B′</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬arg"></a><a id="plfa_plfa-part2-Inference-28052" href="../Inference/#plfa_plfa-part2-Inference-28052" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28057" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-28059" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-28061" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-28062" href="../Inference/#plfa_plfa-part2-Inference-28062" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28064" href="../Inference/#plfa_plfa-part2-Inference-28064" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28066" href="../Inference/#plfa_plfa-part2-Inference-28066" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-28068" href="../Inference/#plfa_plfa-part2-Inference-28068" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28070" href="../Inference/#plfa_plfa-part2-Inference-28070" class="Bound">M</a><a id="plfa_plfa-part2-Inference-28071" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-28075" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28077" href="../Inference/#plfa_plfa-part2-Inference-28062" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28079" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28081" href="../Inference/#plfa_plfa-part2-Inference-28068" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28083" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28085" href="../Inference/#plfa_plfa-part2-Inference-28064" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28087" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-28089" href="../Inference/#plfa_plfa-part2-Inference-28066" class="Bound">B</a>
  <a id="plfa_plfa-part2-Inference-28093" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28095" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28097" href="../Inference/#plfa_plfa-part2-Inference-28062" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28099" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28101" href="../Inference/#plfa_plfa-part2-Inference-28070" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28103" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-28105" href="../Inference/#plfa_plfa-part2-Inference-28064" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-28111" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Inference-28140" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28142" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28144" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28145" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-28148" href="../Inference/#plfa_plfa-part2-Inference-28148" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28151" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-28153" href="../Inference/#plfa_plfa-part2-Inference-28062" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28155" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28157" href="../Inference/#plfa_plfa-part2-Inference-28068" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28159" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28161" href="../Inference/#plfa_plfa-part2-Inference-28070" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28163" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28165" href="../Inference/#plfa_plfa-part2-Inference-28148" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-28167" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-28169" href="../Inference/#plfa_plfa-part2-Inference-28052" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28174" href="../Inference/#plfa_plfa-part2-Inference-28174" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28177" href="../Inference/#plfa_plfa-part2-Inference-28177" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28181" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-28183" href="../Inference/#plfa_plfa-part2-Inference-28183" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28186" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-28188" href="../Inference/#plfa_plfa-part2-Inference-28188" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-28192" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28194" href="../Inference/#plfa_plfa-part2-Inference-28194" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-28198" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-28200" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-28208" href="../Inference/#plfa_plfa-part2-Inference-22721" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-28213" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28214" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-28221" href="../Inference/#plfa_plfa-part2-Inference-28174" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28224" href="../Inference/#plfa_plfa-part2-Inference-28188" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-28227" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-28229" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-28231" href="../Inference/#plfa_plfa-part2-Inference-28177" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28235" href="../Inference/#plfa_plfa-part2-Inference-28194" class="Bound">⊢M′</a>
</pre><p>让 <code>⊢L</code> 作为 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明、 <code>¬⊢M</code> 作为 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 给定类型 <code>B′</code> 和 <code>Γ ⊢ L · M ↑ B′</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢L′ · ⊢M′</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A′ ⇒ B′</code> 成立的证明、<code>⊢M′</code> 是 <code>Γ ⊢ M ↓ A′</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code>，我们知道 <code>A ⇒ B ≡ A′ ⇒ B′</code>， 所以可得 <code>A ≡ A′</code>，这意味着 <code>¬⊢M</code> 和 <code>⊢M′</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>¬⊢M</code> 和 <code>⊢M′</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><p>如果 <code>Γ ⊢ M ↑ A</code> 成立且 <code>A ≢ B</code>，那么 <code>Γ ⊢ (M ↑) ↓ B</code> 不成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬switch"></a><a id="plfa_plfa-part2-Inference-29412" href="../Inference/#plfa_plfa-part2-Inference-29412" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29420" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-29422" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-29424" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-29425" href="../Inference/#plfa_plfa-part2-Inference-29425" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29427" href="../Inference/#plfa_plfa-part2-Inference-29427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29429" href="../Inference/#plfa_plfa-part2-Inference-29429" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29431" href="../Inference/#plfa_plfa-part2-Inference-29431" class="Bound">B</a><a id="plfa_plfa-part2-Inference-29432" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-29436" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29438" href="../Inference/#plfa_plfa-part2-Inference-29425" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29440" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29442" href="../Inference/#plfa_plfa-part2-Inference-29427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29444" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-29446" href="../Inference/#plfa_plfa-part2-Inference-29429" class="Bound">A</a>
  <a id="plfa_plfa-part2-Inference-29450" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29452" href="../Inference/#plfa_plfa-part2-Inference-29429" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29454" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-29456" href="../Inference/#plfa_plfa-part2-Inference-29431" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-29462" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-29480" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29482" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-29484" href="../Inference/#plfa_plfa-part2-Inference-29425" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29486" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29488" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29489" href="../Inference/#plfa_plfa-part2-Inference-29427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29491" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-29492" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29494" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-29496" href="../Inference/#plfa_plfa-part2-Inference-29431" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-29498" href="../Inference/#plfa_plfa-part2-Inference-29412" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29506" href="../Inference/#plfa_plfa-part2-Inference-29506" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29509" href="../Inference/#plfa_plfa-part2-Inference-29509" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29513" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29514" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-29517" href="../Inference/#plfa_plfa-part2-Inference-29517" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29521" href="../Inference/#plfa_plfa-part2-Inference-29521" class="Bound">A′≡B</a><a id="plfa_plfa-part2-Inference-29525" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29527" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-29535" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-29542" href="../Inference/#plfa_plfa-part2-Inference-29506" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29545" href="../Inference/#plfa_plfa-part2-Inference-29517" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29549" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-29551" href="../Inference/#plfa_plfa-part2-Inference-29509" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29555" href="../Inference/#plfa_plfa-part2-Inference-29521" class="Bound">A′≡B</a>
</pre><p>让 <code>⊢M</code> 作为 <code>Γ ⊢ M ↑ A</code> 成立的证明、<code>A≢B</code> 作为 <code>A ≢ B</code> 成立的证明。 给定 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢↑ ⊢M′ A′≡B</code> 的形式，其中 <code>⊢M′</code> 是 <code>Γ ⊢ M ↑ A′</code> 成立的证明、<code>A′≡B</code> 是 <code>A′ ≡ B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢M</code> 和 <code>⊢M′</code>，我们知道 <code>A ≡ A′</code>，这意味着 <code>A≢B</code> 和 <code>A′≡B</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>A≢B</code> 和 <code>A′≡B</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><h2 id="生成和继承类型-1">生成和继承类型</h2><p>餐桌已经布置好了，我们已经准备好享用今天的主菜了。 我们定义两个共同递归的函数，一个用于生成，一个用于继承。 生成在给定语境 <code>Γ</code> 和生成项 <code>M</code> 时，要么返回一个类型 <code>A</code> 和 <code>Γ ⊢ M ↑ A</code> 成立的证明，或者其/否定。 继承在给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code> 时要么返回 <code>Γ ⊢ M ↓ A</code> 成立的证明，或者其否定：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-synthesize"></a><a id="plfa_plfa-part2-Inference-31144" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31155" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31157" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31159" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31160" href="../Inference/#plfa_plfa-part2-Inference-31160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31162" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31164" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31171" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31173" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31174" href="../Inference/#plfa_plfa-part2-Inference-31174" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31176" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31178" href="../Inference/#plfa_plfa-part2-Inference-16574" class="Datatype">Term⁺</a><a id="plfa_plfa-part2-Inference-31183" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-31198" class="Comment">---------------------------</a>
           <a id="plfa_plfa-part2-Inference-31237" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31239" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31243" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31244" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-31247" href="../Inference/#plfa_plfa-part2-Inference-31247" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31249" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-31251" href="../Inference/#plfa_plfa-part2-Inference-31160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31253" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31255" href="../Inference/#plfa_plfa-part2-Inference-31174" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31257" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-31259" href="../Inference/#plfa_plfa-part2-Inference-31247" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31261" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-inherit"></a><a id="plfa_plfa-part2-Inference-31264" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31272" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31274" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31276" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31277" href="../Inference/#plfa_plfa-part2-Inference-31277" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31279" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31281" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31288" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31290" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31291" href="../Inference/#plfa_plfa-part2-Inference-31291" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31293" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31295" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁻</a><a id="plfa_plfa-part2-Inference-31300" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31302" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31303" href="../Inference/#plfa_plfa-part2-Inference-31303" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31305" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31307" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-31311" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-31317" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-31335" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31337" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31341" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31342" href="../Inference/#plfa_plfa-part2-Inference-31277" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31344" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31346" href="../Inference/#plfa_plfa-part2-Inference-31291" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31348" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-31350" href="../Inference/#plfa_plfa-part2-Inference-31303" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31351" class="Symbol">)</a>
</pre><p>我们首先考虑生成的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-31432" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31443" href="../Inference/#plfa_plfa-part2-Inference-31443" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31445" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31446" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-31448" href="../Inference/#plfa_plfa-part2-Inference-31448" class="Bound">x</a><a id="plfa_plfa-part2-Inference-31449" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31451" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31456" href="../Inference/#plfa_plfa-part2-Inference-26271" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-31463" href="../Inference/#plfa_plfa-part2-Inference-31443" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31465" href="../Inference/#plfa_plfa-part2-Inference-31448" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-31467" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31471" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31473" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31477" href="../Inference/#plfa_plfa-part2-Inference-31477" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31493" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31496" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31500" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31504" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31506" href="../Inference/#plfa_plfa-part2-Inference-31506" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31508" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31510" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31513" href="../Inference/#plfa_plfa-part2-Inference-31513" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31516" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31518" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31520" href="../Inference/#plfa_plfa-part2-Inference-31477" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31523" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31525" href="../Inference/#plfa_plfa-part2-Inference-31506" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31527" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31529" href="../Inference/#plfa_plfa-part2-Inference-31513" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31532" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31534" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31537" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31541" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31543" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31547" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31549" href="../Inference/#plfa_plfa-part2-Inference-31549" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31551" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31553" href="../Inference/#plfa_plfa-part2-Inference-31553" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31556" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>      <a id="plfa_plfa-part2-Inference-31563" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31566" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31570" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31572" href="../Inference/#plfa_plfa-part2-Inference-31549" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31574" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31576" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31579" href="../Inference/#plfa_plfa-part2-Inference-31553" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31582" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31584" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31595" href="../Inference/#plfa_plfa-part2-Inference-31595" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31597" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31598" href="../Inference/#plfa_plfa-part2-Inference-31598" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-31600" href="../Inference/#plfa_plfa-part2-Inference-16663" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31602" href="../Inference/#plfa_plfa-part2-Inference-31602" class="Bound">M</a><a id="plfa_plfa-part2-Inference-31603" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31605" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31610" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31621" href="../Inference/#plfa_plfa-part2-Inference-31595" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31623" href="../Inference/#plfa_plfa-part2-Inference-31598" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-31625" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31629" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31631" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31635" href="../Inference/#plfa_plfa-part2-Inference-31635" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31651" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31654" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31658" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31662" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31664" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31666" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31668" href="../Inference/#plfa_plfa-part2-Inference-31668" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-31672" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31674" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31677" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31680" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31683" href="../Inference/#plfa_plfa-part2-Inference-31635" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31686" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31688" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31690" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31692" href="../Inference/#plfa_plfa-part2-Inference-31668" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31695" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31697" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31700" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31704" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31706" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31710" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31712" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-31715" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-31720" href="../Inference/#plfa_plfa-part2-Inference-31720" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31723" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31726" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31729" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31733" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31737" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31739" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31741" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31743" href="../Inference/#plfa_plfa-part2-Inference-31743" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-31747" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31749" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31752" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31755" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31758" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-31762" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31763" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-31770" href="../Inference/#plfa_plfa-part2-Inference-31720" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31773" href="../Inference/#plfa_plfa-part2-Inference-31743" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-31776" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31778" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31781" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31785" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31787" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31791" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31793" href="../Inference/#plfa_plfa-part2-Inference-31793" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31795" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-31797" href="../Inference/#plfa_plfa-part2-Inference-31797" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31799" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31801" href="../Inference/#plfa_plfa-part2-Inference-31801" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31804" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31806" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31811" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31819" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31821" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31823" href="../Inference/#plfa_plfa-part2-Inference-31793" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31825" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31832" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31834" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31838" href="../Inference/#plfa_plfa-part2-Inference-31838" class="Bound">¬⊢M</a>          <a id="plfa_plfa-part2-Inference-31851" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31854" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31858" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31859" href="../Inference/#plfa_plfa-part2-Inference-28052" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-31864" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31867" href="../Inference/#plfa_plfa-part2-Inference-31838" class="Bound">¬⊢M</a><a id="plfa_plfa-part2-Inference-31870" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-31872" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31879" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31881" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31885" href="../Inference/#plfa_plfa-part2-Inference-31885" class="Bound">⊢M</a>           <a id="plfa_plfa-part2-Inference-31898" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31901" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31905" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31907" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31909" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31911" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31914" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31916" href="../Inference/#plfa_plfa-part2-Inference-31885" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31919" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31921" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31932" href="../Inference/#plfa_plfa-part2-Inference-31932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31934" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31935" href="../Inference/#plfa_plfa-part2-Inference-31935" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31937" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-31939" href="../Inference/#plfa_plfa-part2-Inference-31939" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31940" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31942" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31947" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31955" href="../Inference/#plfa_plfa-part2-Inference-31932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31957" href="../Inference/#plfa_plfa-part2-Inference-31935" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31959" href="../Inference/#plfa_plfa-part2-Inference-31939" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31961" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31965" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31967" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31971" href="../Inference/#plfa_plfa-part2-Inference-31971" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-31987" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31990" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31994" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31998" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32000" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-32002" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32004" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32007" href="../Inference/#plfa_plfa-part2-Inference-32007" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32010" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-32013" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-32016" href="../Inference/#plfa_plfa-part2-Inference-31971" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-32020" href="../Inference/#plfa_plfa-part2-Inference-32007" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32023" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-32026" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32030" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32032" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32036" href="../Inference/#plfa_plfa-part2-Inference-32036" class="Bound">⊢M</a>              <a id="plfa_plfa-part2-Inference-32052" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32055" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32059" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32061" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-32063" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32065" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32068" href="../Inference/#plfa_plfa-part2-Inference-32036" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32071" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
</pre><p>有三种情况来考虑：</p><ul><li><p>如果项是变量 <code>` x</code>，我们使用之前定义的查询：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ∋ x ⦂ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ ` x ↑ A</code> 成立的证明一定是 <code>⊢` ∋x</code> 的形式，其中 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，所以 <code>⊢` ∋x</code> 是 <code>Γ ⊢ ` x ↑ A</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是函数应用 <code>L · M</code>，我们递归于函数项 <code>L</code>：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在任何类型 <code>Γ ⊢ L ↑ _</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L · _</code> 的形式，其中 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么有两种情况：</p><ul><li>其一是 <code>⊢L</code> 是 <code>Γ ⊢ L ⦂ `ℕ</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L′ · _</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 对于一些类型 <code>A</code> 和 <code>B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code> 构成了一个矛盾， 因为 <code>`ℕ</code> 无法与 <code>A ⇒ B</code> 相等。</li></ul><ul><li><p>另一是 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明，那么我们在参数项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 将 <code>¬arg</code> 应用于 <code>⊢L</code> 和 <code>¬⊢M</code>，我们可得 <code>Γ ⊢ L · M ↑ B</code> 不成立。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明， 且 <code>⊢L · ⊢M</code> 提供了 <code>Γ ⊢ L · M ↑ B</code> 成立的证明。</li></ul></li></ul></li></ul></li></ul><ul><li><p>如果项是从生成到继承的变向项 <code>M ↓ A</code>，我们在子项 <code>M</code> 上递归，并向继承提供类型 <code>A</code>：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明一定是 <code>⊢↓ ⊢M</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，且 <code>⊢↓ ⊢M</code> 提供了 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明。</li></ul></li></ul><p>我们接下来考虑继承的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-35594" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35602" href="../Inference/#plfa_plfa-part2-Inference-35602" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35604" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35605" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35607" href="../Inference/#plfa_plfa-part2-Inference-35607" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35609" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35611" href="../Inference/#plfa_plfa-part2-Inference-35611" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35612" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35614" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-35622" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35625" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35629" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35635" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35643" href="../Inference/#plfa_plfa-part2-Inference-35643" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35645" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35646" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35648" href="../Inference/#plfa_plfa-part2-Inference-35648" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35650" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35652" href="../Inference/#plfa_plfa-part2-Inference-35652" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35653" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35655" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35656" href="../Inference/#plfa_plfa-part2-Inference-35656" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35658" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35660" href="../Inference/#plfa_plfa-part2-Inference-35660" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35661" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35663" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35668" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35676" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35677" href="../Inference/#plfa_plfa-part2-Inference-35643" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35679" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-35681" href="../Inference/#plfa_plfa-part2-Inference-35648" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35683" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-35685" href="../Inference/#plfa_plfa-part2-Inference-35656" class="Bound">A</a><a id="plfa_plfa-part2-Inference-35686" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35688" href="../Inference/#plfa_plfa-part2-Inference-35652" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-35690" href="../Inference/#plfa_plfa-part2-Inference-35660" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-35692" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35696" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35698" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35701" href="../Inference/#plfa_plfa-part2-Inference-35701" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-35720" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35723" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35727" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35731" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35732" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35735" href="../Inference/#plfa_plfa-part2-Inference-35735" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35737" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35740" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35743" href="../Inference/#plfa_plfa-part2-Inference-35701" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-35747" href="../Inference/#plfa_plfa-part2-Inference-35735" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-35750" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35753" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35757" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35759" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35763" href="../Inference/#plfa_plfa-part2-Inference-35763" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-35781" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35784" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35788" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35789" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35792" href="../Inference/#plfa_plfa-part2-Inference-35763" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35794" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35796" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35804" href="../Inference/#plfa_plfa-part2-Inference-35804" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35806" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35812" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>          <a id="plfa_plfa-part2-Inference-35824" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35827" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35831" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a>
<a id="plfa_plfa-part2-Inference-35837" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35845" href="../Inference/#plfa_plfa-part2-Inference-35845" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35847" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35853" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35854" href="../Inference/#plfa_plfa-part2-Inference-35854" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35856" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35858" href="../Inference/#plfa_plfa-part2-Inference-35858" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35859" class="Symbol">)</a>     <a id="plfa_plfa-part2-Inference-35865" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35868" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35872" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35878" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35886" href="../Inference/#plfa_plfa-part2-Inference-35886" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35888" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35889" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35894" href="../Inference/#plfa_plfa-part2-Inference-35894" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35895" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35897" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-35900" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35905" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35913" href="../Inference/#plfa_plfa-part2-Inference-35886" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35915" href="../Inference/#plfa_plfa-part2-Inference-35894" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-35917" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-35920" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35924" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35926" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35929" href="../Inference/#plfa_plfa-part2-Inference-35929" class="Bound">¬⊢M</a>                <a id="plfa_plfa-part2-Inference-35948" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35951" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35955" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35959" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35960" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-35965" href="../Inference/#plfa_plfa-part2-Inference-35965" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-35967" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35970" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35973" href="../Inference/#plfa_plfa-part2-Inference-35929" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-35977" href="../Inference/#plfa_plfa-part2-Inference-35965" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-35980" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35983" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35987" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35989" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35993" href="../Inference/#plfa_plfa-part2-Inference-35993" class="Bound">⊢M</a>                <a id="plfa_plfa-part2-Inference-36011" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36014" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36018" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36019" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36024" href="../Inference/#plfa_plfa-part2-Inference-35993" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36026" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36028" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36036" href="../Inference/#plfa_plfa-part2-Inference-36036" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36038" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36039" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-36044" href="../Inference/#plfa_plfa-part2-Inference-36044" class="Bound">M</a><a id="plfa_plfa-part2-Inference-36045" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36047" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36048" href="../Inference/#plfa_plfa-part2-Inference-36048" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36050" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36052" href="../Inference/#plfa_plfa-part2-Inference-36052" class="Bound">B</a><a id="plfa_plfa-part2-Inference-36053" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36056" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36059" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36063" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-36069" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36077" href="../Inference/#plfa_plfa-part2-Inference-36077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36079" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36080" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-36086" href="../Inference/#plfa_plfa-part2-Inference-36086" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-36088" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-36095" href="../Inference/#plfa_plfa-part2-Inference-36095" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36097" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-36102" href="../Inference/#plfa_plfa-part2-Inference-36102" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36104" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36106" href="../Inference/#plfa_plfa-part2-Inference-36106" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36108" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-36109" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36111" href="../Inference/#plfa_plfa-part2-Inference-36111" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36113" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36118" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36129" href="../Inference/#plfa_plfa-part2-Inference-36077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36131" href="../Inference/#plfa_plfa-part2-Inference-36086" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-36133" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36137" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36139" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36142" href="../Inference/#plfa_plfa-part2-Inference-36142" class="Bound">¬∃</a>                 <a id="plfa_plfa-part2-Inference-36161" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36164" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36168" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36172" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36173" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36179" href="../Inference/#plfa_plfa-part2-Inference-36179" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-36183" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36185" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36188" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36190" href="../Inference/#plfa_plfa-part2-Inference-36142" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36193" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36195" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36198" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36200" href="../Inference/#plfa_plfa-part2-Inference-36179" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36203" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a><a id="plfa_plfa-part2-Inference-36204" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36207" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36211" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36213" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36217" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36219" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36221" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36223" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36225" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36227" href="../Inference/#plfa_plfa-part2-Inference-36227" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36230" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>    <a id="plfa_plfa-part2-Inference-36235" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36238" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36242" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36246" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36247" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36253" href="../Inference/#plfa_plfa-part2-Inference-36253" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36257" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36259" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36262" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36264" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-36268" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36269" href="../Inference/#plfa_plfa-part2-Inference-24321" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-36276" href="../Inference/#plfa_plfa-part2-Inference-36253" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36280" href="../Inference/#plfa_plfa-part2-Inference-36227" class="Bound">⊢L</a><a id="plfa_plfa-part2-Inference-36282" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36284" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36287" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36291" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36293" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36297" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36299" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36302" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-36307" href="../Inference/#plfa_plfa-part2-Inference-36307" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36310" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36312" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36317" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36325" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36327" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36329" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36331" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36338" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36340" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36343" href="../Inference/#plfa_plfa-part2-Inference-36343" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-36359" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36362" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36366" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36370" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36371" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36377" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36379" href="../Inference/#plfa_plfa-part2-Inference-36379" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36382" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36385" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36387" href="../Inference/#plfa_plfa-part2-Inference-36343" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36391" href="../Inference/#plfa_plfa-part2-Inference-36379" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36394" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36397" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36404" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36406" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36410" href="../Inference/#plfa_plfa-part2-Inference-36410" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36413" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36418" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36426" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36429" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36431" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36433" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36435" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-36437" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36439" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36441" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36443" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36453" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36455" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36458" href="../Inference/#plfa_plfa-part2-Inference-36458" class="Bound">¬⊢N</a>          <a id="plfa_plfa-part2-Inference-36471" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36474" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36478" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36482" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36483" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36489" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36491" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36493" href="../Inference/#plfa_plfa-part2-Inference-36493" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36495" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36497" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36499" href="../Inference/#plfa_plfa-part2-Inference-36458" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36503" href="../Inference/#plfa_plfa-part2-Inference-36493" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36506" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36509" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36519" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36521" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36525" href="../Inference/#plfa_plfa-part2-Inference-36525" class="Bound">⊢N</a>          <a id="plfa_plfa-part2-Inference-36537" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36540" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36544" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36545" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36551" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36554" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36557" href="../Inference/#plfa_plfa-part2-Inference-36525" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36559" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36561" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36569" href="../Inference/#plfa_plfa-part2-Inference-36569" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36571" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36572" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-36574" href="../Inference/#plfa_plfa-part2-Inference-36574" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36576" href="../Inference/#plfa_plfa-part2-Inference-16972" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36578" href="../Inference/#plfa_plfa-part2-Inference-36578" class="Bound">N</a><a id="plfa_plfa-part2-Inference-36579" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36581" href="../Inference/#plfa_plfa-part2-Inference-36581" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36583" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36588" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36596" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36597" href="../Inference/#plfa_plfa-part2-Inference-36569" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36599" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36601" href="../Inference/#plfa_plfa-part2-Inference-36574" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36603" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36605" href="../Inference/#plfa_plfa-part2-Inference-36581" class="Bound">A</a><a id="plfa_plfa-part2-Inference-36606" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36608" href="../Inference/#plfa_plfa-part2-Inference-36578" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36610" href="../Inference/#plfa_plfa-part2-Inference-36581" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36612" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36616" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36618" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36621" href="../Inference/#plfa_plfa-part2-Inference-36621" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-36640" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36643" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36647" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36651" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36652" href="../Inference/#plfa_plfa-part2-Inference-19991" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36655" href="../Inference/#plfa_plfa-part2-Inference-36655" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36657" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36659" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36661" href="../Inference/#plfa_plfa-part2-Inference-36621" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36665" href="../Inference/#plfa_plfa-part2-Inference-36655" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36668" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36671" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36675" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36677" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36681" href="../Inference/#plfa_plfa-part2-Inference-36681" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-36699" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36702" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36706" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36707" href="../Inference/#plfa_plfa-part2-Inference-19991" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36710" href="../Inference/#plfa_plfa-part2-Inference-36681" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36712" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36714" href="../Inference/#plfa_plfa-part2-Inference-31264" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36722" href="../Inference/#plfa_plfa-part2-Inference-36722" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36724" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36725" href="../Inference/#plfa_plfa-part2-Inference-36725" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36727" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-36728" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36730" href="../Inference/#plfa_plfa-part2-Inference-36730" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-36732" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36737" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36748" href="../Inference/#plfa_plfa-part2-Inference-36722" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36750" href="../Inference/#plfa_plfa-part2-Inference-36725" class="Bound">M</a>
<a id="plfa_plfa-part2-Inference-36752" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36756" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36758" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36762" href="../Inference/#plfa_plfa-part2-Inference-36762" class="Bound">¬∃</a>                <a id="plfa_plfa-part2-Inference-36780" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36783" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36787" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36791" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36792" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36795" href="../Inference/#plfa_plfa-part2-Inference-36795" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36798" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36801" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36803" href="../Inference/#plfa_plfa-part2-Inference-36762" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36806" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36808" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36810" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36812" href="../Inference/#plfa_plfa-part2-Inference-36795" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36815" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36817" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36820" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36824" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36826" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36830" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36832" href="../Inference/#plfa_plfa-part2-Inference-36832" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36834" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36836" href="../Inference/#plfa_plfa-part2-Inference-36836" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36839" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36841" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36846" href="../Inference/#plfa_plfa-part2-Inference-36832" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36848" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-36852" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-36854" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36860" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36862" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36866" href="../Inference/#plfa_plfa-part2-Inference-36866" class="Bound">A≢B</a>             <a id="plfa_plfa-part2-Inference-36882" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36885" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36889" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36890" href="../Inference/#plfa_plfa-part2-Inference-29412" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-36898" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36901" href="../Inference/#plfa_plfa-part2-Inference-36866" class="Bound">A≢B</a><a id="plfa_plfa-part2-Inference-36904" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36906" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36912" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36914" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36918" href="../Inference/#plfa_plfa-part2-Inference-36918" class="Bound">A≡B</a>             <a id="plfa_plfa-part2-Inference-36934" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36937" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36941" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36942" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36945" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36948" href="../Inference/#plfa_plfa-part2-Inference-36918" class="Bound">A≡B</a><a id="plfa_plfa-part2-Inference-36951" class="Symbol">)</a>
</pre><p>我们在此只考虑抽象和从继承变向至生成的情况：</p><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>`ℕ</code>，那么平凡地， <code>Γ ⊢ (ƛ x ⇒ N) ↓ `ℕ</code> 无法成立。</li></ul><ul><li><p>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>A ⇒ B</code>，我们用语境 <code>Γ , x ⦂ A</code> 递归至 子项 <code>N</code> 继承类型 <code>B</code>：</p><ul><li>如果失败了，那么 <code>¬⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 不成立的证明。 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明一定是 <code>⊢ƛ ⊢N</code> 的形式，其中 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，且 <code>⊢ƛ ⊢N</code> 提供了 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是从继承到生成的变向项 <code>M ↑</code>，我们在子项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ⊢ M ↑ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明一定是 <code>⊢↑ ⊢M _</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ A</code> 成立的证明。 我们应用 <code>_≟Tp_</code> 来判定 <code>A</code> 和 <code>B</code> 是否相等：</p><ul><li>如果失败了，那么 <code>A≢B</code> 是 <code>A ≢ B</code> 的证明。 将 <code>¬switch</code> 应用于 <code>⊢M</code> 和 <code>A≢B</code>，我们可得 <code>Γ ⊢ (M ↑) ↓ B</code> 无法成立。</li></ul><ul><li>如果成功了，那么 <code>A≡B</code> 是 <code>A ≡ B</code> 的证明， 且 <code>⊢↑ ⊢M A≡B</code> 提供了 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明。</li></ul></li></ul></li></ul><p>剩余的情况类似，它们的代码可以由对应的赋型规则直接对应得来。</p><h2 id="测试项的例子">测试项的例子</h2><p>首先，我们复制之前介绍过的智能构造子 <code>S′</code>，使得访问语境中的变量更加便利：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-S′"></a><a id="plfa_plfa-part2-Inference-39838" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39841" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39843" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-39845" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39846" href="../Inference/#plfa_plfa-part2-Inference-39846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39848" href="../Inference/#plfa_plfa-part2-Inference-39848" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39850" href="../Inference/#plfa_plfa-part2-Inference-39850" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39852" href="../Inference/#plfa_plfa-part2-Inference-39852" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-39854" href="../Inference/#plfa_plfa-part2-Inference-39854" class="Bound">B</a><a id="plfa_plfa-part2-Inference-39855" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Inference-39860" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39862" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39863" href="../Inference/#plfa_plfa-part2-Inference-39863" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-39867" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39869" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a> <a id="plfa_plfa-part2-Inference-39875" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39876" href="../Inference/#plfa_plfa-part2-Inference-39848" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39878" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-39880" href="../Inference/#plfa_plfa-part2-Inference-39850" class="Bound">y</a><a id="plfa_plfa-part2-Inference-39881" class="Symbol">)}</a>
   <a id="plfa_plfa-part2-Inference-39887" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39889" href="../Inference/#plfa_plfa-part2-Inference-39846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39891" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39893" href="../Inference/#plfa_plfa-part2-Inference-39848" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39895" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39897" href="../Inference/#plfa_plfa-part2-Inference-39852" class="Bound">A</a>
     <a id="plfa_plfa-part2-Inference-39904" class="Comment">------------------</a>
   <a id="plfa_plfa-part2-Inference-39926" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39928" href="../Inference/#plfa_plfa-part2-Inference-39846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39930" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-39932" href="../Inference/#plfa_plfa-part2-Inference-39850" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39934" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39936" href="../Inference/#plfa_plfa-part2-Inference-39854" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-39938" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39940" href="../Inference/#plfa_plfa-part2-Inference-39848" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39942" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39944" href="../Inference/#plfa_plfa-part2-Inference-39852" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-39947" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39950" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39951" class="Argument">x≢y</a> <a id="plfa_plfa-part2-Inference-39955" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39957" href="../Inference/#plfa_plfa-part2-Inference-39957" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39960" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-39962" href="../Inference/#plfa_plfa-part2-Inference-39962" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39964" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39966" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-39968" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39969" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="plfa_plfa-part2-Inference-39984" href="../Inference/#plfa_plfa-part2-Inference-39957" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39987" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-39989" href="../Inference/#plfa_plfa-part2-Inference-39962" class="Bound">x</a>
</pre><p>下面是给自然数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2"></a><a id="plfa_plfa-part2-Inference-40087" href="../Inference/#plfa_plfa-part2-Inference-40087" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40092" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40094" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40096" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-40098" href="../Inference/#plfa_plfa-part2-Inference-17822" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40102" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-40104" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-40107" href="../Inference/#plfa_plfa-part2-Inference-40087" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40112" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-40116" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40117" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a>
   <a id="plfa_plfa-part2-Inference-40123" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40124" href="../Inference/#plfa_plfa-part2-Inference-19991" class="InductiveConstructor">⊢μ</a>
    <a id="plfa_plfa-part2-Inference-40131" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40132" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-40140" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40141" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-40150" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40151" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-40157" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40158" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40161" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40162" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40165" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40166" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40169" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40170" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40173" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40174" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40177" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40178" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40180" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40184" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-40193" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40194" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a>
        <a id="plfa_plfa-part2-Inference-40207" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40208" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a>
         <a id="plfa_plfa-part2-Inference-40220" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40221" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a>
          <a id="plfa_plfa-part2-Inference-40234" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40235" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a>
           <a id="plfa_plfa-part2-Inference-40249" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40250" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a>
            <a id="plfa_plfa-part2-Inference-40265" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40266" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40269" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40270" class="Symbol">)))</a>
          <a id="plfa_plfa-part2-Inference-40284" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40286" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40289" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40290" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40293" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40294" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40296" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="plfa_plfa-part2-Inference-40311" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40313" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40316" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40317" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40320" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40321" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40324" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40325" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40328" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40332" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-40343" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40347" class="Symbol">))))))</a>
   <a id="plfa_plfa-part2-Inference-40357" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40359" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40364" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40365" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40370" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40375" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Inference-40380" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40382" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40387" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40388" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40393" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40398" class="Symbol">))</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-40559" href="../Inference/#plfa_plfa-part2-Inference-40559" class="Function">_</a> <a id="plfa_plfa-part2-Inference-40561" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40563" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-40574" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40576" href="../Inference/#plfa_plfa-part2-Inference-17822" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40580" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-40582" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-40586" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-40588" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-40591" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-40593" href="../Inference/#plfa_plfa-part2-Inference-40087" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40598" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-40600" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-40602" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40604" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>的确，上述的推导是用左边的项求值所得的，再加上一些微小的修改。 所需的修改只是使用智能构造子 <code>S′</code> 来获取两个变量名（使用字符串）不同的证明（其无法打印或阅读）。</p><p>下面是给 Church 数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-41098" href="../Inference/#plfa_plfa-part2-Inference-41098" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41104" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41106" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41108" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-41110" href="../Inference/#plfa_plfa-part2-Inference-18426" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41115" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-41117" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-41120" href="../Inference/#plfa_plfa-part2-Inference-41098" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41126" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-41130" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a>
  <a id="plfa_plfa-part2-Inference-41135" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41136" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41142" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41143" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
    <a id="plfa_plfa-part2-Inference-41150" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41151" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-41159" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41160" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-41169" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41170" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a>
       <a id="plfa_plfa-part2-Inference-41180" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41181" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a>
        <a id="plfa_plfa-part2-Inference-41192" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41193" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a>
         <a id="plfa_plfa-part2-Inference-41205" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41206" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41219" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41220" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41223" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41224" class="Symbol">)))</a>
        <a id="plfa_plfa-part2-Inference-41236" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41238" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41241" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41242" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41245" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41246" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41249" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41250" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41253" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Inference-41266" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Inference-41276" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a>
        <a id="plfa_plfa-part2-Inference-41287" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41288" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a>
         <a id="plfa_plfa-part2-Inference-41300" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41301" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41314" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41315" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41318" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41319" class="Symbol">))</a>
         <a id="plfa_plfa-part2-Inference-41331" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41333" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41336" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41337" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41340" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41341" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41344" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41345" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41348" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
         <a id="plfa_plfa-part2-Inference-41362" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41364" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41367" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41368" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41371" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41372" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41374" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41378" class="Symbol">)</a>
        <a id="plfa_plfa-part2-Inference-41388" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41392" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-41401" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41405" class="Symbol">)))))</a>
  <a id="plfa_plfa-part2-Inference-41413" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41417" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41422" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41423" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41429" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41430" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41437" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41438" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41441" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41442" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41445" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41446" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41448" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41455" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41458" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41459" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41462" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41463" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41466" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41467" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41469" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41471" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41474" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41475" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41478" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41479" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41485" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41492" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41496" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41502" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41506" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41511" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41515" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41520" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41521" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41527" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41528" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41535" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41536" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41539" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41540" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41543" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41544" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41546" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41553" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41556" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41557" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41560" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41561" href="../Inference/#plfa_plfa-part2-Inference-39838" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41564" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41565" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41567" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41569" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41572" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41573" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41576" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41577" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41579" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41583" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41590" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41594" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41600" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41604" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41609" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41611" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-41614" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41615" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-41620" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41621" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41624" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41625" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41628" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41629" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41631" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41635" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41640" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41642" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-41806" href="../Inference/#plfa_plfa-part2-Inference-41806" class="Function">_</a> <a id="plfa_plfa-part2-Inference-41808" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41810" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-41821" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41823" href="../Inference/#plfa_plfa-part2-Inference-18426" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41828" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-41830" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-41834" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-41836" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-41839" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-41841" href="../Inference/#plfa_plfa-part2-Inference-41098" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41847" href="../Inference/#plfa_plfa-part2-Inference-14845" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-41849" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-41851" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-41853" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>同样，上面的推导使用对左手边的项求值所得，加上一些修改。</p><h2 id="测试错误的例子">测试错误的例子</h2><p>很重要的是，不仅要检查代码是否按照意图工作，以及代码是否按照意图不工作。 下面是检查不同种类错误的例子：</p><p>未约束的变量：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42295" href="../Inference/#plfa_plfa-part2-Inference-42295" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42297" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42299" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42310" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42312" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42314" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-42316" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-42320" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42322" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-42324" class="String">&quot;y&quot;</a> <a id="plfa_plfa-part2-Inference-42328" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-42329" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42331" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42333" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42334" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42337" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42339" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42341" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-42344" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42346" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42349" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42351" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42353" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42355" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的参数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42437" href="../Inference/#plfa_plfa-part2-Inference-42437" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42439" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42441" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42452" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42454" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42455" href="../Inference/#plfa_plfa-part2-Inference-17631" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42460" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42462" href="../Inference/#plfa_plfa-part2-Inference-18382" class="Function">sucᶜ</a><a id="plfa_plfa-part2-Inference-42466" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42468" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42470" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42473" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42475" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42477" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42479" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42561" href="../Inference/#plfa_plfa-part2-Inference-42561" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42563" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42565" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42576" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42578" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42579" href="../Inference/#plfa_plfa-part2-Inference-17631" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42584" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42586" href="../Inference/#plfa_plfa-part2-Inference-18382" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-42591" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42593" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a><a id="plfa_plfa-part2-Inference-42596" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42598" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42600" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42603" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42605" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42607" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42609" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数是自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42695" href="../Inference/#plfa_plfa-part2-Inference-42695" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42697" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42699" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42710" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42712" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42714" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42718" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42720" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42722" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42724" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42726" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a><a id="plfa_plfa-part2-Inference-42729" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42731" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42733" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42736" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42738" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42740" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42742" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>抽象继承了自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42818" href="../Inference/#plfa_plfa-part2-Inference-42818" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42820" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42822" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42833" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42835" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42836" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-42841" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42843" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42845" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42847" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42849" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42852" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42854" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42856" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42858" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>零继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42928" href="../Inference/#plfa_plfa-part2-Inference-42928" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42930" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42932" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42943" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42945" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42946" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-42952" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42954" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42957" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42959" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42961" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42963" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42965" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42968" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42970" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42972" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42974" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>后继继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43050" href="../Inference/#plfa_plfa-part2-Inference-43050" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43052" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43054" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43065" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43067" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43068" href="../Inference/#plfa_plfa-part2-Inference-17594" class="Function">two</a> <a id="plfa_plfa-part2-Inference-43072" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43074" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43077" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43079" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43081" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43083" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43085" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43088" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43090" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43092" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43094" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>非良类型项的后继：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43165" href="../Inference/#plfa_plfa-part2-Inference-43165" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43167" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43169" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43180" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43182" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43183" href="../Inference/#plfa_plfa-part2-Inference-16865" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-43188" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43193" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43195" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43197" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43199" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43201" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43204" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43206" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43208" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43210" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对函数类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43290" href="../Inference/#plfa_plfa-part2-Inference-43290" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43292" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43294" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43305" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43313" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43315" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43321" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43322" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43327" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43329" href="../Inference/#plfa_plfa-part2-Inference-18121" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-43331" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43333" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43340" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43346" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43351" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43355" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43357" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43359" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43363" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43365" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43367" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43369" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43371" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43373" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43375" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43377" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43380" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43382" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43384" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43386" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对不良类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43456" href="../Inference/#plfa_plfa-part2-Inference-43456" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43458" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43460" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43471" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43479" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43481" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43487" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43488" href="../Inference/#plfa_plfa-part2-Inference-18157" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43493" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43495" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43497" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43499" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43506" href="../Inference/#plfa_plfa-part2-Inference-16830" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43512" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43517" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43521" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43523" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43525" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43529" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43531" href="../Inference/#plfa_plfa-part2-Inference-16908" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43533" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43535" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43537" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43539" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43541" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43543" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43546" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43548" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43550" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43552" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>变向时继承与生成的项不一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43650" href="../Inference/#plfa_plfa-part2-Inference-43650" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43652" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43654" href="../Inference/#plfa_plfa-part2-Inference-31144" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43665" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43667" class="Symbol">(((</a><a id="plfa_plfa-part2-Inference-43670" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-43672" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43676" href="../Inference/#plfa_plfa-part2-Inference-16782" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43678" href="../Inference/#plfa_plfa-part2-Inference-16623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43680" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43684" href="../Inference/#plfa_plfa-part2-Inference-17020" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-43685" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43687" href="../Inference/#plfa_plfa-part2-Inference-16714" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43689" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43692" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43694" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43695" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43698" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43700" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43702" class="Symbol">)))</a> <a id="plfa_plfa-part2-Inference-43706" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43708" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43711" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43713" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43715" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43717" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="擦除">擦除</h2><p>从装饰过的项拥有正确的类型的证明中，我们可以简单地提取出对应的内在类型的项。 我们使用 <code>DB</code> 来指代 <a href="../DeBruijn/">DeBruijn</a> 章节中的代码。 我们可以简单地定义一个<strong>擦除</strong>（Erasure）从外在的赋型判断，至对应的内在类型的项的函数。</p><p>首先，我们给出擦除类型的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Tp"></a><a id="plfa_plfa-part2-Inference-44308" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥_∥Tp</a> <a id="plfa_plfa-part2-Inference-44314" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44316" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-44321" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44323" href="../More/#plfa_plfa-part2-More-21281" class="Datatype">DB.Type</a>
<a id="plfa_plfa-part2-Inference-44331" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44333" href="../Inference/#plfa_plfa-part2-Inference-16136" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-44336" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>             <a id="plfa_plfa-part2-Inference-44352" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44355" href="../More/#plfa_plfa-part2-More-21300" class="InductiveConstructor">DB.`ℕ</a>
<a id="plfa_plfa-part2-Inference-44361" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44363" href="../Inference/#plfa_plfa-part2-Inference-44363" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44365" href="../Inference/#plfa_plfa-part2-Inference-16151" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-44367" href="../Inference/#plfa_plfa-part2-Inference-44367" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44369" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>          <a id="plfa_plfa-part2-Inference-44382" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44385" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44387" href="../Inference/#plfa_plfa-part2-Inference-44363" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44389" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a> <a id="plfa_plfa-part2-Inference-44393" href="../More/#plfa_plfa-part2-More-21315" class="InductiveConstructor Operator">DB.⇒</a> <a id="plfa_plfa-part2-Inference-44398" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44400" href="../Inference/#plfa_plfa-part2-Inference-44367" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44402" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>
</pre><p>它简单地把对应的构造子重命名至 <code>DB</code> 模块中。</p><p>接下来，我们给出擦除语境的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Cx"></a><a id="plfa_plfa-part2-Inference-44595" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥_∥Cx</a> <a id="plfa_plfa-part2-Inference-44601" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44603" href="../Inference/#plfa_plfa-part2-Inference-16184" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-44611" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44613" href="../More/#plfa_plfa-part2-More-21435" class="Datatype">DB.Context</a>
<a id="plfa_plfa-part2-Inference-44624" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44626" href="../Inference/#plfa_plfa-part2-Inference-16206" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-44628" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a>              <a id="plfa_plfa-part2-Inference-44645" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44648" href="../More/#plfa_plfa-part2-More-21457" class="InductiveConstructor">DB.∅</a>
<a id="plfa_plfa-part2-Inference-44653" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44655" href="../Inference/#plfa_plfa-part2-Inference-44655" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44657" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-44659" href="../Inference/#plfa_plfa-part2-Inference-44659" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44661" href="../Inference/#plfa_plfa-part2-Inference-16224" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44663" href="../Inference/#plfa_plfa-part2-Inference-44663" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44665" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a>      <a id="plfa_plfa-part2-Inference-44674" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44677" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44679" href="../Inference/#plfa_plfa-part2-Inference-44655" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44681" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44685" href="../More/#plfa_plfa-part2-More-21473" class="InductiveConstructor Operator">DB.,</a> <a id="plfa_plfa-part2-Inference-44690" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44692" href="../Inference/#plfa_plfa-part2-Inference-44663" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44694" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>
</pre><p>它简单地丢弃了变量名。</p><p>接下来，我们给出擦除查询判断的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥∋"></a><a id="plfa_plfa-part2-Inference-44851" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥_∥∋</a> <a id="plfa_plfa-part2-Inference-44856" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44858" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-44860" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-44861" href="../Inference/#plfa_plfa-part2-Inference-44861" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44863" href="../Inference/#plfa_plfa-part2-Inference-44863" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44865" href="../Inference/#plfa_plfa-part2-Inference-44865" class="Bound">A</a><a id="plfa_plfa-part2-Inference-44866" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-44868" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44870" href="../Inference/#plfa_plfa-part2-Inference-44861" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44872" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-44874" href="../Inference/#plfa_plfa-part2-Inference-44863" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44876" href="../Inference/#plfa_plfa-part2-Inference-18869" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44878" href="../Inference/#plfa_plfa-part2-Inference-44865" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44880" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44882" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44884" href="../Inference/#plfa_plfa-part2-Inference-44861" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44886" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44890" href="../More/#plfa_plfa-part2-More-21583" class="Datatype Operator">DB.∋</a> <a id="plfa_plfa-part2-Inference-44895" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44897" href="../Inference/#plfa_plfa-part2-Inference-44865" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44899" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-44903" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44905" href="../Inference/#plfa_plfa-part2-Inference-18912" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-44907" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥∋</a>               <a id="plfa_plfa-part2-Inference-44924" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44927" href="../More/#plfa_plfa-part2-More-21619" class="InductiveConstructor">DB.Z</a>
<a id="plfa_plfa-part2-Inference-44932" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44934" href="../Inference/#plfa_plfa-part2-Inference-18977" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-44936" href="../Inference/#plfa_plfa-part2-Inference-44936" class="Bound">x≢</a> <a id="plfa_plfa-part2-Inference-44939" href="../Inference/#plfa_plfa-part2-Inference-44939" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44942" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥∋</a>         <a id="plfa_plfa-part2-Inference-44953" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44956" href="../More/#plfa_plfa-part2-More-21666" class="InductiveConstructor Operator">DB.S</a> <a id="plfa_plfa-part2-Inference-44961" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44963" href="../Inference/#plfa_plfa-part2-Inference-44939" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44966" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥∋</a>
</pre><p>它简单地丢弃了变量名不同的证明。</p><p>最后，我们给出擦除赋型判断的代码。 正如由两个共同递归的赋型判断，我们有两个共同递归的擦除函数：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥⁺"></a><a id="plfa_plfa-part2-Inference-45298" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥_∥⁺</a> <a id="plfa_plfa-part2-Inference-45303" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45305" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45307" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45308" href="../Inference/#plfa_plfa-part2-Inference-45308" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45310" href="../Inference/#plfa_plfa-part2-Inference-45310" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45312" href="../Inference/#plfa_plfa-part2-Inference-45312" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45313" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45315" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45317" href="../Inference/#plfa_plfa-part2-Inference-45308" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45319" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45321" href="../Inference/#plfa_plfa-part2-Inference-45310" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45323" href="../Inference/#plfa_plfa-part2-Inference-19217" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-45325" href="../Inference/#plfa_plfa-part2-Inference-45312" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45327" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45329" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45331" href="../Inference/#plfa_plfa-part2-Inference-45308" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45333" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45337" href="../More/#plfa_plfa-part2-More-22725" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45342" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45344" href="../Inference/#plfa_plfa-part2-Inference-45312" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45346" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-∥_∥⁻"></a><a id="plfa_plfa-part2-Inference-45350" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥_∥⁻</a> <a id="plfa_plfa-part2-Inference-45355" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45357" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45359" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45360" href="../Inference/#plfa_plfa-part2-Inference-45360" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45362" href="../Inference/#plfa_plfa-part2-Inference-45362" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45364" href="../Inference/#plfa_plfa-part2-Inference-45364" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45365" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45367" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45369" href="../Inference/#plfa_plfa-part2-Inference-45360" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45371" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45373" href="../Inference/#plfa_plfa-part2-Inference-45362" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45375" href="../Inference/#plfa_plfa-part2-Inference-19259" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-45377" href="../Inference/#plfa_plfa-part2-Inference-45364" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45379" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45381" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45383" href="../Inference/#plfa_plfa-part2-Inference-45360" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45385" href="../Inference/#plfa_plfa-part2-Inference-44595" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45389" href="../More/#plfa_plfa-part2-More-22725" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45394" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45396" href="../Inference/#plfa_plfa-part2-Inference-45364" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45398" href="../Inference/#plfa_plfa-part2-Inference-44308" class="Function Operator">∥Tp</a>

<a id="plfa_plfa-part2-Inference-45403" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45405" href="../Inference/#plfa_plfa-part2-Inference-19317" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-45408" href="../Inference/#plfa_plfa-part2-Inference-45408" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45411" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45424" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45427" href="../More/#plfa_plfa-part2-More-22770" class="InductiveConstructor Operator">DB.`</a> <a id="plfa_plfa-part2-Inference-45432" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45434" href="../Inference/#plfa_plfa-part2-Inference-45408" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45437" href="../Inference/#plfa_plfa-part2-Inference-44851" class="Function Operator">∥∋</a>
<a id="plfa_plfa-part2-Inference-45440" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45442" href="../Inference/#plfa_plfa-part2-Inference-45442" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45445" href="../Inference/#plfa_plfa-part2-Inference-19387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-45447" href="../Inference/#plfa_plfa-part2-Inference-45447" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45450" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a>         <a id="plfa_plfa-part2-Inference-45461" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45464" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45466" href="../Inference/#plfa_plfa-part2-Inference-45442" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45469" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45472" href="../More/#plfa_plfa-part2-More-22899" class="InductiveConstructor Operator">DB.·</a> <a id="plfa_plfa-part2-Inference-45477" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45479" href="../Inference/#plfa_plfa-part2-Inference-45447" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45482" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45485" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45487" href="../Inference/#plfa_plfa-part2-Inference-19486" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-45490" href="../Inference/#plfa_plfa-part2-Inference-45490" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45493" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45506" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45509" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45511" href="../Inference/#plfa_plfa-part2-Inference-45490" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45514" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>

<a id="plfa_plfa-part2-Inference-45518" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45520" href="../Inference/#plfa_plfa-part2-Inference-19582" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-45523" href="../Inference/#plfa_plfa-part2-Inference-45523" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45526" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45539" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45542" href="../More/#plfa_plfa-part2-More-22831" class="InductiveConstructor Operator">DB.ƛ</a> <a id="plfa_plfa-part2-Inference-45547" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45549" href="../Inference/#plfa_plfa-part2-Inference-45523" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45552" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45555" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45557" href="../Inference/#plfa_plfa-part2-Inference-19680" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-45563" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45576" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45579" href="../More/#plfa_plfa-part2-More-22984" class="InductiveConstructor">DB.`zero</a>
<a id="plfa_plfa-part2-Inference-45588" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45590" href="../Inference/#plfa_plfa-part2-Inference-19739" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-45595" href="../Inference/#plfa_plfa-part2-Inference-45595" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45598" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>         <a id="plfa_plfa-part2-Inference-45609" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45612" href="../More/#plfa_plfa-part2-More-23027" class="InductiveConstructor Operator">DB.`suc</a> <a id="plfa_plfa-part2-Inference-45620" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45622" href="../Inference/#plfa_plfa-part2-Inference-45595" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45625" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45628" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45630" href="../Inference/#plfa_plfa-part2-Inference-19818" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-45636" href="../Inference/#plfa_plfa-part2-Inference-45636" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45639" href="../Inference/#plfa_plfa-part2-Inference-45639" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45642" href="../Inference/#plfa_plfa-part2-Inference-45642" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45645" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>  <a id="plfa_plfa-part2-Inference-45649" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45652" href="../More/#plfa_plfa-part2-More-23083" class="InductiveConstructor">DB.case</a> <a id="plfa_plfa-part2-Inference-45660" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45662" href="../Inference/#plfa_plfa-part2-Inference-45636" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45665" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45668" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45670" href="../Inference/#plfa_plfa-part2-Inference-45639" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45673" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a> <a id="plfa_plfa-part2-Inference-45676" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45678" href="../Inference/#plfa_plfa-part2-Inference-45642" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45681" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45684" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45686" href="../Inference/#plfa_plfa-part2-Inference-19991" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-45689" href="../Inference/#plfa_plfa-part2-Inference-45689" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45692" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45705" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45708" href="../More/#plfa_plfa-part2-More-23177" class="InductiveConstructor Operator">DB.μ</a> <a id="plfa_plfa-part2-Inference-45713" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45715" href="../Inference/#plfa_plfa-part2-Inference-45689" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45718" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45721" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45723" href="../Inference/#plfa_plfa-part2-Inference-20081" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-45726" href="../Inference/#plfa_plfa-part2-Inference-45726" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45729" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-45734" href="../Inference/#plfa_plfa-part2-Inference-45350" class="Function Operator">∥⁻</a>      <a id="plfa_plfa-part2-Inference-45742" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45745" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45747" href="../Inference/#plfa_plfa-part2-Inference-45726" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45750" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a>
</pre><p>擦除将每个赋型判断中的构造子替换成 <code>DB</code> 中对应的项构造子。 对应变向的构造子被丢弃。</p><p>我们证实本章中的赋型判断擦除后，与之前使用内在类型项章节中的那些一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46222" href="../Inference/#plfa_plfa-part2-Inference-46222" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46224" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46226" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46228" href="../Inference/#plfa_plfa-part2-Inference-40087" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-46233" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46236" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46238" href="../More/#plfa_plfa-part2-More-40210" class="Function">DB.2+2</a>
<a id="plfa_plfa-part2-Inference-46245" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46247" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46249" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-46255" href="../Inference/#plfa_plfa-part2-Inference-46255" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46257" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46259" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46261" href="../Inference/#plfa_plfa-part2-Inference-41098" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-46267" href="../Inference/#plfa_plfa-part2-Inference-45298" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46270" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46272" href="../More/#plfa_plfa-part2-More-40494" class="Function">DB.2+2ᶜ</a>
<a id="plfa_plfa-part2-Inference-46280" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46282" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46284" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>因此，我们证实了双向类型推理把装饰后的 <a href="../Lambda/">Lambda</a> 章节的 λ 项转换至 <a href="../DeBruijn">DeBruijn</a> 章节中内在类型的项。</p><h4 id="练习-inference-multiplication-推荐">练习 <code>inference-multiplication</code> （推荐）</h4><p>对你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的乘法项应用双向推理， 并证明推理得到的赋型可以擦除至 <a href="../DeBruijn/">DeBruijn</a> 章节中你的定义。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47093" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-inference-products-推荐">练习 <code>inference-products</code> （推荐）</h4><p>使用你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的赋型规则， 将双向推理扩充至包括积。此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47482" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-inference-rest-延伸">练习 <code>inference-rest</code> （延伸）</h4><p>使用你从练习 <a href="../Inference/#bidirectional-rest"><code>bidirectional-rest</code></a> 中得到的规则，扩充双向推导规则，来包括 <a href="../More/">More</a> 章节的剩余构造。 此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47923" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="agda-中的双向推理">Agda 中的双向推理</h2><p>Agda 本身也使用双向推理。 这解释了为什么构造子可以被重载，而其他定义的名称不可以——此处的<strong>重载</strong>指的是我们可以给不同类型的构造子使用相同的名称。 构造子是由继承来赋型，而变量由生成来赋型，因此每个变量必须有唯一的类型。</p><p>Agda 中多数的顶层声明时函数，其由继承来赋型，也就是为什么 Agda 会对这些定义要求类型声明。 一个由生成赋型的右手边的定义，比如说函数应用，则不需要类型声明。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-answer"></a><a id="plfa_plfa-part2-Inference-48932" href="../Inference/#plfa_plfa-part2-Inference-48932" class="Function">answer</a> <a id="plfa_plfa-part2-Inference-48939" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-48941" class="Number">6</a> <a id="plfa_plfa-part2-Inference-48943" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="plfa_plfa-part2-Inference-48945" class="Number">7</a>
</pre><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>↓  U+2193:  DOWNWARDS ARROW (\d)
↑  U+2191:  UPWARDS ARROW (\u)
∥  U+2225:  PARALLEL TO (\||)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：Fangyi Zhou<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>