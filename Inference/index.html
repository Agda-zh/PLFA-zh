<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-dJLJysMdqXtVegSgJLzVykvHbDNrQjmEoKen2rU7YiGMbNpIJIZA1D6HLml44nUJyUGPQ1vkYmT4t5PXKVuBxw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-/ARdgOQa4vn2XAt4Y1F6NSxFACJwwEuz9pC9NZJHfA6M70ZLUlDoqqeh1kAoVZXgqSw2W4T4J1xuBba725O5/A==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Inference</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Inference: 双向类型推理</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Inference-105" class="Keyword">module</a> <a id="plfa_plfa-part2-Inference-112" href="../Inference/#" class="Module">plfa.part2.Inference</a> <a id="plfa_plfa-part2-Inference-133" class="Keyword">where</a>
</pre><p>在本书至此的进展中，项的类型推导是如法令一般直接给出的。 在 <a href="../Lambda/">Lambda</a> 章节，类型推导以外在于项的形式给出， 而在 <a href="../DeBruijn/">DeBruijn</a> 章节，类型推导以内在于项的形式给出， 但在两者均要求我们将类型推导完全写出。</p><p>在实践中，我们一般可以给项加上一些装饰，然后运用算法来<strong>推理</strong>（Infer）出类型推导。 的确，Agda 中也是这样：我们给顶层的函数声明指定类型，而其余可由给出的信息推理而来。 Agda 使用的这种推理被称为<strong>双向</strong>（Bidirectional）类型推理，我们将在本章中进行展示。</p><p>本章中，我们讲之前的进展结合在一起。 我们首先由带有类型注释的项开始，其与 <a href="../Lambda/">Lambda</a> 章节中的源项相似， 从此我们计算出内在类型的项，如同 <a href="../DeBruijn">DeBruijn</a> 章节中那样。</p><h2 id="algorithms">绪论：推理规则作为算法</h2><p>在我们至此使用的演算中，一个项可以有多于一个类型。例如，</p><pre><code>(ƛ x ⇒ x) ⦂ (A ⇒ A)</code></pre><p>对于<strong>任意</strong>类型 <code>A</code> 成立。 我们首先考虑一个带有 λ 项的小语言，其每一项有其唯一的类型。 我们只需要给抽象加上参数的类型。 这样我们可以得到如下的语法：</p><pre><code>L, M, N ::=                         带装饰的项
  x                                   变量
  ƛ x ⦂ A ⇒ N                         抽象（装饰后）
  L · M                               应用</code></pre><p>每一条相关的赋型规则可以被读作类型检查的算法。 对于每一条赋型规则，我们将每个位置标记如<strong>输入</strong>（Input）或者<strong>输出</strong>（Output）。</p><p>对于下面的判断</p><pre><code>Γ ∋ x ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和变量 <code>x</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>----------------- Z
Γ , x ⦂ A ∋ x ⦂ A

Γ ∋ x ⦂ A
----------------- S
Γ , y ⦂ B ∋ x ⦂ A</code></pre><p>从输入中，我们可以决定应用哪一条规则： 如果语境中最后一个变量与给定的变量一致，那么应用第一条规则，否则应用第二条。 （对于 de Bruijn 因子来说，这更加简单：零对应第一条，后继对应第二条。） 对于第一条，输出类型可以直接从语境中得到。 对于第二条，结论中的输入可以作为假设的输入，而假设的输出决定了结论的输出。</p><p>对于下面的判断：</p><pre><code>Γ ⊢ M ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和项 <code>M</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>Γ ∋ x ⦂ A
-----------
Γ ⊢ ` x ⦂ A

Γ , x ⦂ A ⊢ N ⦂ B
---------------------------
Γ ⊢ (ƛ x ⦂ A ⇒ N) ⦂ (A ⇒ B)

Γ ⊢ L ⦂ A ⇒ B
Γ ⊢ M ⦂ A′
A ≡ A′
-------------
Γ ⊢ L · M ⦂ B</code></pre><p>输入项决定了应用哪一条规则： 变量使用第一条，抽象使用第二条，应用使用第三条。 我们把这样的规则叫做<strong>语法导向的</strong>（Syntax directed）规则。 对于变量的规则，结论的输入决定了结论的输出。 抽象的规则也是一样——约束变量和参数从结论的输入流向假设中的语境； 这得以实现，因为我们在抽象中加入了参数的类型。 对于应用的规则，我们加入第三条假设来检查函数类型中的作用域是否与参数的类型一致； 这条判断是在两个类型已知时是可判定的。 结论的输入决定了前两个假设的输入，而前两个假设的输出决定了第三个假设的输入，而第一个假设的输出决定了结论的输出。</p><p>我们可以直接地把上述内容转换成一个算法，加入自然数和不动点也很直接。我们省略其明细。 取而代之的是，我们考虑一种需要更少装饰的表示方法。 其核心思想是将普通的赋型判断拆分成两个判断，一个生成类型作为输出，另一个取类型作为输入。</p><h2 id="生成和继承类型">生成和继承类型</h2><p>我们保留之前的变量的查询判断。除此之外，我们有两种联系类型和项的判断：</p><pre><code>Γ ⊢ M ↑ A
Γ ⊢ M ↓ A</code></pre><p>第一类判断<strong>生成</strong>（Synthesise）项的类型，如上，而第二类<strong>继承</strong>（Inherit）类型。 在第一类中，语境和项作为输入，类型作为输出； 而在第二类中，语境、项和类型三者都作为输入。</p><p>什么项生成类型，什么项继承类型的？ 我们的宗旨是<strong>解构子</strong>中的主项使用生成来赋型，而<strong>构造子</strong>使用继承。 比如，函数应用中的函数由生成来赋型，而抽象是由继承来赋型。 抽象中继承的类型和之前我们为参数额外增加的注解起到一样的作用。</p><p>解构某一类型的值的项总有一个主项（提供一个所需类型的参数），且经常有副项。 对于函数应用来说，主项提供了函数，副项提供了参数。 对于分情况讨论来说，主项提供了自然数，副项则是两种情况不同的情况。 在解构子中，主项使用生成进行赋型，而副项使用继承进行赋型。 我们将看到，这自然地导致函数应用作为整体由生成进行赋型，而分情况讨论作为整体则使用继承进行赋型。 变量一般使用生成进行赋型，因为我们可以直接从语境中查询其类型。 不动点自然是用继承来赋型。</p><p>为了达成赋型系统的语法导向性，我们将项分为两类： <code>Term⁺</code> 和 <code>Term⁻</code>，分别用生成和继承来赋型。 由生成赋型的子项可能出现在由继承赋型的子项中，反之亦然，这给我们带来两种新形式。</p><p>例如，我们之前提到函数应用的参数由继承赋型，而变量由生成赋型。 在参数是变量时会出现不匹配的情况。 因此，我们需要一种把生成的项当作继承的项的方法。 我们引入 <code>M ↑</code> 这种新的形式来达成此目的。 它的赋型判断即为检查其生成和继承的类型是否一致。</p><p>同样，函数应用的函数部分由生成来赋型，而抽象是由继承来赋型。 在函数是抽象时会出现不匹配的情况。 因此，我们需要一种把继承的项当作生成的项的方法。 我们引入 <code>M ↓ A</code> 这种新的形式来达成此目的。 它的赋型判断返回 <code>A</code> 作为生成的类型，并把它作为 <code>M</code> 继承的类型。</p><p><code>M ↓ A</code> 这种形式表示了我们唯一需要用类型来装饰的项。 它只在从生成切换成继承时出现， 即当一个<strong>解构</strong>某一类型的值的项的主项中包含了一个<strong>构造</strong>某一类型的值的时候， 也就是说，这是在 <code>β</code> 归约发生的地方出现。 一般来说，我们只需要在顶层声明中需要这样的装饰。</p><p>我们可以从上文中提取出项的语法：</p><pre><code>L⁺, M⁺, N⁺ ::=                      带有生成类型的项
  x                                   变量
  L⁺ · M⁻                             应用
  M⁻ ↓ A                              切换至继承

L⁻, M⁻, N⁻ ::=                      带有继承类型的项
  ƛ x ⇒ N⁻                            抽象
  `zero                               零
  `suc M⁻                             后继
  case L⁺ [zero⇒ M⁻ |suc x ⇒ N⁻ ]     分情况讨论
  μ x ⇒ N⁻                            不动点
  M⁺ ↑                                切换至生成</code></pre><p>我们将在下文中形式化上述定义。</p><h2 id="可靠性和完备性">可靠性和完备性</h2><p>我们试图证明赋型判断是<strong>可判定</strong>的：</p><pre><code>synthesize : ∀ (Γ : Context) (M : Term⁺)
    ------------------------------------
  → Dec (∃[ A ] Γ ⊢ M ↑ A)

inherit : ∀ (Γ : Context) (M : Term⁻) (A : Type)
          --------------------------------------
        → Dec (Γ ⊢ M ↓ A)</code></pre><p>给定语境 <code>Γ</code> 和生成项 <code>M</code>，我们必须判定是否存在一个类型 <code>A</code> 使得 <code>Γ ⊢ M ↑ A</code> 成立， 或者其否定。 同样，给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code>，我们必须判定 <code>Γ ⊢ M ↓ A</code> 成立，或者其否定。</p><p>我们的证明是构造性的。 在生成的情况中，它要么给出一个包括类型 <code>A</code> 和 <code>Γ ⊢ M ↓ A</code> 成立的证明的有序对，或是一个将上述有序对转换成矛盾的函数。 在继承的情况中，它要么给出 <code>Γ ⊢ M ↑ A</code> 成立的证明，或是一个将上述证明转换成矛盾的函数。 成立的情况被称为<strong>可靠性</strong>（Soundness）——生成和继承只在对应关系成立时成功。 不成立的情况被称为<strong>完备性</strong>（Completeness）——生成和继承只在对应关系无法成立时失败。</p><p>另一种实现方法可能在生成或继承成功时返回其推导，并在失败时返回一条错误信息——例如， 参见 Agda 用户手册中讨论<a href="https://agda.readthedocs.io/en/latest/language/syntactic-sugar.html#example">语法糖</a>的章节。 这样的方法可以实现可靠性，而不是完备性。 如果其返回一个推导，那么我们知道它是正确的； 但没有人阻挡我们来给出一个<strong>总是</strong>返回错误的函数，即使正确的推导存在。 证明可靠性和完备性两者比起单独证明可靠性一者更加有力。 其反向的证明可以被看作是一个语义上验证过的错误信息，即便它本身比仔细撰写的错误信息更让人难懂。</p><p>我们现在可以开始正式的形式化了：</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Inference-14534" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14541" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Inference-14579" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-14582" class="Module">Eq</a>
<a id="plfa_plfa-part2-Inference-14585" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14590" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Inference-14593" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14599" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14600" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Inference-14603" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14605" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-14609" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14611" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="plfa_plfa-part2-Inference-14614" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14616" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a><a id="plfa_plfa-part2-Inference-14621" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14623" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="plfa_plfa-part2-Inference-14627" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14629" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a><a id="plfa_plfa-part2-Inference-14634" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14636" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">_≢_</a><a id="plfa_plfa-part2-Inference-14639" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14641" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14646" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14653" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Inference-14664" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14670" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14671" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Empty.html#914" class="Function">⊥</a><a id="plfa_plfa-part2-Inference-14672" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14674" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14679" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14686" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="plfa_plfa-part2-Inference-14700" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14706" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14707" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Inference-14708" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14710" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Inference-14714" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14716" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Inference-14719" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14721" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Inference-14724" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14726" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="plfa_plfa-part2-Inference-14729" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14731" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14736" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14743" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.String.html" class="Module">Data.String</a> <a id="plfa_plfa-part2-Inference-14755" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14761" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14762" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.String.html#335" class="Postulate">String</a><a id="plfa_plfa-part2-Inference-14768" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14770" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.String.Properties.html#2733" class="Function Operator">_≟_</a><a id="plfa_plfa-part2-Inference-14773" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14775" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14780" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14787" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="plfa_plfa-part2-Inference-14805" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14811" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14812" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Inference-14815" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14817" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#852" class="Function">∃</a><a id="plfa_plfa-part2-Inference-14818" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14820" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Inference-14828" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-14830" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Inference-14839" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14840" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Inference-14844" class="Symbol">to</a> <a id="plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Inference-14852" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14854" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14859" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14866" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part2-Inference-14892" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14898" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14899" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Inference-14901" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14903" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a><a id="plfa_plfa-part2-Inference-14916" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14918" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14923" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14930" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Inference-14957" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14963" class="Symbol">(</a> <a id="plfa_plfa-part2-Inference-14965" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="plfa_plfa-part2-Inference-14968" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14970" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Inference-14973" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14975" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Inference-14977" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14979" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4518" class="Function">False</a><a id="plfa_plfa-part2-Inference-14984" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14986" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#5108" class="Function">toWitnessFalse</a><a id="plfa_plfa-part2-Inference-15000" class="Symbol">)</a>
</pre><p>当我们有一个赋型推导时，从它构造出内在类型的表示方法更加方便。 为了与我们之前的结果进行比较，我们导入模块 <code>plfa.part2.More</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15305" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-15312" href="../More/#" class="Module">plfa.part2.More</a> <a id="plfa_plfa-part2-Inference-15328" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-15331" class="Module">DB</a>
</pre><p><code>as DB</code> 这个词组让我们可以用例如 <code>DB._⊢_</code> 的方法来指代其中的定义， 我们用 <code>Γ DB.⊢ A</code> 来使用它，其中 <code>Γ</code> 的类型是 <code>DB.Context</code>， <code>A</code> 的类型是 <code>DB.Type</code>。</p><h2 id="语法">语法</h2><p>首先，我们来定义中缀声明。 我们将判断和项的运算符分别列出：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15837" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15845" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15848" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">_∋_⦂_</a>
<a id="plfa_plfa-part2-Inference-15854" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15862" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15865" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">_⊢_↑_</a>
<a id="plfa_plfa-part2-Inference-15871" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15879" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15882" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">_⊢_↓_</a>
<a id="plfa_plfa-part2-Inference-15888" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15896" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15899" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">_,_⦂_</a>

<a id="plfa_plfa-part2-Inference-15906" class="Keyword">infixr</a>  <a id="plfa_plfa-part2-Inference-15914" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15917" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">_⇒_</a>

<a id="plfa_plfa-part2-Inference-15922" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15930" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15933" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15938" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15946" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15949" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">μ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15954" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15962" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15965" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">_↑</a>
<a id="plfa_plfa-part2-Inference-15968" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15976" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15979" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">_↓_</a>
<a id="plfa_plfa-part2-Inference-15983" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15991" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15994" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">_·_</a>
<a id="plfa_plfa-part2-Inference-15998" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16006" class="Number">8</a>  <a id="plfa_plfa-part2-Inference-16009" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc_</a>
<a id="plfa_plfa-part2-Inference-16015" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16023" class="Number">9</a>  <a id="plfa_plfa-part2-Inference-16026" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`_</a>
</pre><p>标识符、类型和语境与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Id"></a><a id="plfa_plfa-part2-Inference-16117" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16120" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16122" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16126" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16129" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-16131" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.String.html#335" class="Postulate">String</a>

<a id="plfa_plfa-part2-Inference-16139" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Type"></a><a id="plfa_plfa-part2-Inference-16144" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16149" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16151" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16155" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Type.`ℕ"></a><a id="plfa_plfa-part2-Inference-16163" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>    <a id="plfa_plfa-part2-Inference-16169" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16171" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a>
  <a id="plfa_plfa-part2-Inference-Type._⇒_"></a><a id="plfa_plfa-part2-Inference-16178" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">_⇒_</a>   <a id="plfa_plfa-part2-Inference-16184" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16186" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16191" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16193" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16198" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16200" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a>

<a id="plfa_plfa-part2-Inference-16206" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Context"></a><a id="plfa_plfa-part2-Inference-16211" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16219" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16221" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16225" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Context.∅"></a><a id="plfa_plfa-part2-Inference-16233" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a>     <a id="plfa_plfa-part2-Inference-16239" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16241" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Inference-Context._,_⦂_"></a><a id="plfa_plfa-part2-Inference-16251" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">_,_⦂_</a> <a id="plfa_plfa-part2-Inference-16257" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16259" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16267" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16269" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16272" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16274" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16279" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16281" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a>
</pre><p>项的语法由共同递归来定义。 我们用 <code>Term⁺</code> 和 <code>Term⁻</code> 来分别表示生成和继承的项。 注意我们包括了变向的形式 <code>M ↓ A</code> 和 <code>M ↑</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-16596" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁺"></a><a id="plfa_plfa-part2-Inference-16601" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16607" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16609" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16613" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁻"></a><a id="plfa_plfa-part2-Inference-16618" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16624" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16626" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-16631" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16636" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16642" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁺.`_"></a><a id="plfa_plfa-part2-Inference-16650" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`_</a>                       <a id="plfa_plfa-part2-Inference-16675" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16677" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16680" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16682" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._·_"></a><a id="plfa_plfa-part2-Inference-16690" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">_·_</a>                      <a id="plfa_plfa-part2-Inference-16715" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16717" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16723" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16725" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16731" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16733" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._↓_"></a><a id="plfa_plfa-part2-Inference-16741" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">_↓_</a>                      <a id="plfa_plfa-part2-Inference-16766" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16768" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16774" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16776" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16781" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16783" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>

<a id="plfa_plfa-part2-Inference-16790" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16795" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16801" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.ƛ_⇒_"></a><a id="plfa_plfa-part2-Inference-16809" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16834" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16836" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16839" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16841" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16847" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16849" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`zero"></a><a id="plfa_plfa-part2-Inference-16857" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a>                    <a id="plfa_plfa-part2-Inference-16882" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16884" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`suc_"></a><a id="plfa_plfa-part2-Inference-16892" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc_</a>                    <a id="plfa_plfa-part2-Inference-16917" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16919" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16925" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16927" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="plfa_plfa-part2-Inference-16935" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="plfa_plfa-part2-Inference-16960" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16962" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16968" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16970" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16976" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16978" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16981" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16983" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16989" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16991" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.μ_⇒_"></a><a id="plfa_plfa-part2-Inference-16999" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-17024" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17026" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-17029" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17031" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-17037" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17039" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻._↑"></a><a id="plfa_plfa-part2-Inference-17047" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">_↑</a>                       <a id="plfa_plfa-part2-Inference-17072" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17074" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-17080" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17082" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
</pre><p>至于每个项是由继承或者生成来赋型，我们在上文中已经讨论过，并且可以直接上文的非形式化语法中直接得来。 解构子中的主项由生成赋型，解构子中的构造子和副项由继承赋型。</p><h2 id="项的例子">项的例子</h2><p>我们重新给出前几章中的例子。 首先，计算自然数二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-two"></a><a id="plfa_plfa-part2-Inference-17621" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17625" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17627" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-17633" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17637" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17639" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17644" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17645" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17650" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a><a id="plfa_plfa-part2-Inference-17655" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plus"></a><a id="plfa_plfa-part2-Inference-17658" href="../Inference/#plfa_plfa-part2-Inference-17658" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17663" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17665" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17671" href="../Inference/#plfa_plfa-part2-Inference-17658" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17676" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17678" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17679" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-17681" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17685" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17687" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17689" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17693" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17695" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17697" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17701" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a>
          <a id="plfa_plfa-part2-Inference-17713" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-17719" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17720" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17722" class="String">&quot;m&quot;</a><a id="plfa_plfa-part2-Inference-17725" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17727" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-17734" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17736" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17740" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a>
                        <a id="plfa_plfa-part2-Inference-17766" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-17771" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17775" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17777" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17782" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17783" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17785" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17789" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17791" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17792" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17794" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17798" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17799" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17801" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17803" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17804" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17806" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17810" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17811" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17813" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17814" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17816" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-17817" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Inference-17831" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-17833" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17834" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17837" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17839" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17842" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17844" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-17846" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2"></a><a id="plfa_plfa-part2-Inference-17849" href="../Inference/#plfa_plfa-part2-Inference-17849" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17853" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17855" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17861" href="../Inference/#plfa_plfa-part2-Inference-17849" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17865" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17867" href="../Inference/#plfa_plfa-part2-Inference-17658" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17872" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17874" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17878" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17880" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a>
</pre><p>唯一的变化是我们需要在需要时加入上下箭头。唯一的类型注释出现在 <code>plus</code>。</p><p>接下来，计算 Church 数的二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Ch"></a><a id="plfa_plfa-part2-Inference-18148" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18151" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18153" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a>
<a id="plfa_plfa-part2-Inference-18158" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18161" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18163" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18164" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18167" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18169" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-18171" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18173" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18175" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18178" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18180" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>

<a id="plfa_plfa-part2-Inference-twoᶜ"></a><a id="plfa_plfa-part2-Inference-18184" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18189" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18191" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18197" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18202" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18204" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18205" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18207" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18211" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18213" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18215" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18219" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18221" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18223" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18227" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18229" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18230" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18232" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18236" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18238" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18239" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18241" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18245" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18246" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18248" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18249" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18251" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18252" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plusᶜ"></a><a id="plfa_plfa-part2-Inference-18255" href="../Inference/#plfa_plfa-part2-Inference-18255" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18261" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18263" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18269" href="../Inference/#plfa_plfa-part2-Inference-18255" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18275" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18277" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18278" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18280" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18284" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18286" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18288" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18292" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18294" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18296" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18300" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18302" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18304" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18308" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a>
           <a id="plfa_plfa-part2-Inference-18321" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18323" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18327" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18329" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18330" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18332" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18336" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18337" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18339" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18341" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18342" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18344" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18348" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18350" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18351" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18353" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18357" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18358" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18360" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18362" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18363" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18365" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18369" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18370" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18372" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18373" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18375" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18376" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-18391" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-18393" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18394" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18397" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18399" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18402" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18404" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-18406" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-sucᶜ"></a><a id="plfa_plfa-part2-Inference-18409" href="../Inference/#plfa_plfa-part2-Inference-18409" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18414" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18416" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18422" href="../Inference/#plfa_plfa-part2-Inference-18409" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18427" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18429" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18431" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18435" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18437" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-18442" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18443" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18445" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18449" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18450" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-18453" href="../Inference/#plfa_plfa-part2-Inference-18453" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18458" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18460" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18466" href="../Inference/#plfa_plfa-part2-Inference-18453" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18471" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18473" href="../Inference/#plfa_plfa-part2-Inference-18255" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18479" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18481" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18486" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18488" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18493" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18495" href="../Inference/#plfa_plfa-part2-Inference-18409" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18500" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18502" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a>
</pre><p>唯一的类型注释出现在 <code>plusᶜ</code>。 <code>sucᶜ</code> 甚至不需要类型注释，因为它从 <code>plusᶜ</code> 的参数中继承了类型。</p><h2 id="双向类型检查">双向类型检查</h2><p>变量的赋型规则与 <a href="../Lambda/">Lambda</a> 章节中一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-18891" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_∋_⦂_"></a><a id="plfa_plfa-part2-Inference-18896" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">_∋_⦂_</a> <a id="plfa_plfa-part2-Inference-18902" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18904" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-18912" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18914" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-18917" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18919" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-18924" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18926" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-18930" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.Z"></a><a id="plfa_plfa-part2-Inference-18939" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-18941" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18943" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18945" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18946" href="../Inference/#plfa_plfa-part2-Inference-18946" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18948" href="../Inference/#plfa_plfa-part2-Inference-18948" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18950" href="../Inference/#plfa_plfa-part2-Inference-18950" class="Bound">A</a><a id="plfa_plfa-part2-Inference-18951" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-18959" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-18981" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18983" href="../Inference/#plfa_plfa-part2-Inference-18946" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18985" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-18987" href="../Inference/#plfa_plfa-part2-Inference-18948" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18989" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18991" href="../Inference/#plfa_plfa-part2-Inference-18950" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18993" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-18995" href="../Inference/#plfa_plfa-part2-Inference-18948" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18997" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18999" href="../Inference/#plfa_plfa-part2-Inference-18950" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.S"></a><a id="plfa_plfa-part2-Inference-19004" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-19006" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19008" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19010" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19011" href="../Inference/#plfa_plfa-part2-Inference-19011" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19013" href="../Inference/#plfa_plfa-part2-Inference-19013" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19015" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19017" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19019" href="../Inference/#plfa_plfa-part2-Inference-19019" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19020" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19026" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19028" href="../Inference/#plfa_plfa-part2-Inference-19013" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19030" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-19032" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">y</a>
    <a id="plfa_plfa-part2-Inference-19038" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19040" href="../Inference/#plfa_plfa-part2-Inference-19011" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19042" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19044" href="../Inference/#plfa_plfa-part2-Inference-19013" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19046" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19048" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19056" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-19078" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19080" href="../Inference/#plfa_plfa-part2-Inference-19011" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19082" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19084" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19086" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19088" href="../Inference/#plfa_plfa-part2-Inference-19019" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-19090" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19092" href="../Inference/#plfa_plfa-part2-Inference-19013" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19094" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19096" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">A</a>
</pre><p>与语法一样，生成和继承的赋型判断也是共同递归的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-19239" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↑_"></a><a id="plfa_plfa-part2-Inference-19244" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19250" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19252" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19260" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19262" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-19268" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19270" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19275" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19277" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-19281" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↓_"></a><a id="plfa_plfa-part2-Inference-19286" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19292" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19294" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19302" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19304" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-19310" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19312" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19317" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19319" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-19324" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19329" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19335" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢`"></a><a id="plfa_plfa-part2-Inference-19344" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-19347" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19349" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19351" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19352" href="../Inference/#plfa_plfa-part2-Inference-19352" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19354" href="../Inference/#plfa_plfa-part2-Inference-19354" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19356" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">x</a><a id="plfa_plfa-part2-Inference-19357" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19363" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19365" href="../Inference/#plfa_plfa-part2-Inference-19352" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19367" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19369" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19371" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19373" href="../Inference/#plfa_plfa-part2-Inference-19354" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19381" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Inference-19397" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19399" href="../Inference/#plfa_plfa-part2-Inference-19352" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19401" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19403" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-19405" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19407" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19409" href="../Inference/#plfa_plfa-part2-Inference-19354" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_._·_"></a><a id="plfa_plfa-part2-Inference-19414" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Inference-19418" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19420" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19422" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19423" href="../Inference/#plfa_plfa-part2-Inference-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19425" href="../Inference/#plfa_plfa-part2-Inference-19425" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19427" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19429" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19431" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19432" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19438" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19440" href="../Inference/#plfa_plfa-part2-Inference-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19442" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19444" href="../Inference/#plfa_plfa-part2-Inference-19425" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19446" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19448" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19450" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19452" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-19458" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19460" href="../Inference/#plfa_plfa-part2-Inference-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19462" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19464" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19466" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19468" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19476" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-19494" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19496" href="../Inference/#plfa_plfa-part2-Inference-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19498" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19500" href="../Inference/#plfa_plfa-part2-Inference-19425" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19502" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-19504" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19506" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19508" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢↓"></a><a id="plfa_plfa-part2-Inference-19513" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-19516" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19518" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19520" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19521" href="../Inference/#plfa_plfa-part2-Inference-19521" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19523" href="../Inference/#plfa_plfa-part2-Inference-19523" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19525" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19526" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19532" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19534" href="../Inference/#plfa_plfa-part2-Inference-19521" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19536" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19538" href="../Inference/#plfa_plfa-part2-Inference-19523" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19540" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19542" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19550" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19570" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19572" href="../Inference/#plfa_plfa-part2-Inference-19521" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19574" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19576" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-19577" href="../Inference/#plfa_plfa-part2-Inference-19523" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19579" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-19581" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19582" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-19584" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19586" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-19589" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19594" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19600" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢ƛ"></a><a id="plfa_plfa-part2-Inference-19609" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-19612" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19614" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19616" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19617" href="../Inference/#plfa_plfa-part2-Inference-19617" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19619" href="../Inference/#plfa_plfa-part2-Inference-19619" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19621" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19623" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19625" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19626" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19632" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19634" href="../Inference/#plfa_plfa-part2-Inference-19617" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19636" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19638" href="../Inference/#plfa_plfa-part2-Inference-19619" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19640" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19642" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19644" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19646" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19648" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19650" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-19658" class="Comment">-------------------</a>
    <a id="plfa_plfa-part2-Inference-19682" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19684" href="../Inference/#plfa_plfa-part2-Inference-19617" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19686" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19688" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-19690" href="../Inference/#plfa_plfa-part2-Inference-19619" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19692" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19694" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19696" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19698" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19700" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19702" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢zero"></a><a id="plfa_plfa-part2-Inference-19707" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-19713" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19715" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19717" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19718" href="../Inference/#plfa_plfa-part2-Inference-19718" class="Bound">Γ</a><a id="plfa_plfa-part2-Inference-19719" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-19727" class="Comment">--------------</a>
    <a id="plfa_plfa-part2-Inference-19746" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19748" href="../Inference/#plfa_plfa-part2-Inference-19718" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19750" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19752" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-19758" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19760" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢suc"></a><a id="plfa_plfa-part2-Inference-19766" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-19771" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19773" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19775" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19776" href="../Inference/#plfa_plfa-part2-Inference-19776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19778" href="../Inference/#plfa_plfa-part2-Inference-19778" class="Bound">M</a><a id="plfa_plfa-part2-Inference-19779" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19785" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19787" href="../Inference/#plfa_plfa-part2-Inference-19776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19789" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19791" href="../Inference/#plfa_plfa-part2-Inference-19778" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19793" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19795" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>
      <a id="plfa_plfa-part2-Inference-19804" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19824" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19826" href="../Inference/#plfa_plfa-part2-Inference-19776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19828" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19830" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-19835" href="../Inference/#plfa_plfa-part2-Inference-19778" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19837" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19839" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢case"></a><a id="plfa_plfa-part2-Inference-19845" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-19851" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19853" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19855" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19856" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19858" href="../Inference/#plfa_plfa-part2-Inference-19858" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19860" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19862" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19864" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19866" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19867" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19873" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19875" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19877" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19879" href="../Inference/#plfa_plfa-part2-Inference-19858" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19881" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19883" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>
    <a id="plfa_plfa-part2-Inference-19890" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19892" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19894" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19896" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19898" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19900" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-19906" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19908" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19910" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19912" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19914" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19916" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-19919" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19921" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19923" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19925" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19933" class="Comment">-------------------------------------</a>
    <a id="plfa_plfa-part2-Inference-19975" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19977" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19979" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19981" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-19987" href="../Inference/#plfa_plfa-part2-Inference-19858" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19989" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-19996" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19998" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-20003" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20005" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20007" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20009" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-20011" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20013" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢μ"></a><a id="plfa_plfa-part2-Inference-20018" href="../Inference/#plfa_plfa-part2-Inference-20018" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-20021" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20023" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20025" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20026" href="../Inference/#plfa_plfa-part2-Inference-20026" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20028" href="../Inference/#plfa_plfa-part2-Inference-20028" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20030" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20032" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">A</a><a id="plfa_plfa-part2-Inference-20033" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20039" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20041" href="../Inference/#plfa_plfa-part2-Inference-20026" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20043" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-20045" href="../Inference/#plfa_plfa-part2-Inference-20028" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20047" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-20049" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20051" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20053" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20055" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20057" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-20065" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-20087" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20089" href="../Inference/#plfa_plfa-part2-Inference-20026" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20091" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20093" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-20095" href="../Inference/#plfa_plfa-part2-Inference-20028" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20097" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20099" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20101" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20103" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢↑"></a><a id="plfa_plfa-part2-Inference-20108" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-20111" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20113" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20115" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20116" href="../Inference/#plfa_plfa-part2-Inference-20116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20118" href="../Inference/#plfa_plfa-part2-Inference-20118" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20120" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20122" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">B</a><a id="plfa_plfa-part2-Inference-20123" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20129" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20131" href="../Inference/#plfa_plfa-part2-Inference-20116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20133" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20135" href="../Inference/#plfa_plfa-part2-Inference-20118" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20137" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-20139" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-20145" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20147" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20149" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-20151" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-20159" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-20177" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20179" href="../Inference/#plfa_plfa-part2-Inference-20116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20181" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20183" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-20184" href="../Inference/#plfa_plfa-part2-Inference-20118" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20186" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-20187" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-20189" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20191" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">B</a>
</pre><p>我们用和 <a href="../Lambda/">Lambda</a> 中一样的命名规则， 把 <code>⊢</code> 加在构造子之前，来当作对应赋型规则的名称。</p><p>这些规则和 <a href="../Lambda/">Lambda</a> 章节中相似，修改成支持生成和继承类型的样式。 其中有两条新规则 <code>⊢↓</code> 和 <code>⊢↑</code>。 前者把类型装饰当作继承的类型，并将其返回作为生成的类型。 后者取其生成的类型，并检查是否与继承的类型一致——这应该让你回忆起第一<a href="../Inference/#algorithms">部分</a>中函数应用规则的相等性测试。</p><h4 id="bidirectional-mul">练习 <code>bidirectional-mul</code> （推荐）</h4><p>将你在 <a href="../Lambda/">Lambda</a> 章节中乘法的定义重写，将其装饰至支持类型推理的形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21394" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="bidirectional-products">练习 <code>bidirectional-products</code> （推荐）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21708" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="bidirectional-rest">练习 <code>bidirectional-rest</code> （延伸）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的其余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-22021" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="前置需求">前置需求</h2><p><code>M ↑</code> 规则需要我们有能力来判定两个类型是否相等。 我们可以直接地给出代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-_≟Tp_"></a><a id="plfa_plfa-part2-Inference-22246" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">_≟Tp_</a> <a id="plfa_plfa-part2-Inference-22252" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22254" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22255" href="../Inference/#plfa_plfa-part2-Inference-22255" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22257" href="../Inference/#plfa_plfa-part2-Inference-22257" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22259" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22261" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-22265" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22267" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22269" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-22273" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22274" href="../Inference/#plfa_plfa-part2-Inference-22255" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22276" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22278" href="../Inference/#plfa_plfa-part2-Inference-22257" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22279" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-22281" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22289" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22293" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22309" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22312" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22316" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-22321" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22329" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22333" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22334" href="../Inference/#plfa_plfa-part2-Inference-22334" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22336" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22338" href="../Inference/#plfa_plfa-part2-Inference-22338" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22339" class="Symbol">)</a>         <a id="plfa_plfa-part2-Inference-22349" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22352" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22355" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22359" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22360" href="../Inference/#plfa_plfa-part2-Inference-22360" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22362" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22364" href="../Inference/#plfa_plfa-part2-Inference-22364" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22365" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22367" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22371" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22387" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22390" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22393" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22397" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22398" href="../Inference/#plfa_plfa-part2-Inference-22398" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22400" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22402" href="../Inference/#plfa_plfa-part2-Inference-22402" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22403" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22405" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22409" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22410" href="../Inference/#plfa_plfa-part2-Inference-22410" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22413" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22415" href="../Inference/#plfa_plfa-part2-Inference-22415" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22417" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Inference-22421" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-22426" href="../Inference/#plfa_plfa-part2-Inference-22398" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22428" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22432" href="../Inference/#plfa_plfa-part2-Inference-22410" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22435" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22437" href="../Inference/#plfa_plfa-part2-Inference-22402" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22439" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22443" href="../Inference/#plfa_plfa-part2-Inference-22415" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22446" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22451" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22453" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22456" href="../Inference/#plfa_plfa-part2-Inference-22456" class="Bound">A≢</a>    <a id="plfa_plfa-part2-Inference-22462" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22464" class="Symbol">_</a>         <a id="plfa_plfa-part2-Inference-22474" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22477" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22480" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22482" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22487" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22489" href="../Inference/#plfa_plfa-part2-Inference-22456" class="Bound">A≢</a> <a id="plfa_plfa-part2-Inference-22492" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22496" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22498" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22503" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22505" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22509" class="Symbol">_</a>    <a id="plfa_plfa-part2-Inference-22514" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22516" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22519" href="../Inference/#plfa_plfa-part2-Inference-22519" class="Bound">B≢</a>     <a id="plfa_plfa-part2-Inference-22526" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22529" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22532" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22534" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22539" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22541" href="../Inference/#plfa_plfa-part2-Inference-22519" class="Bound">B≢</a> <a id="plfa_plfa-part2-Inference-22544" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22548" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22550" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22555" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22557" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22561" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22566" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22568" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22572" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>  <a id="plfa_plfa-part2-Inference-22578" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22581" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22585" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>我们也会需要一些显然的引理； 作用域和值域相等的函数类型相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-dom≡"></a><a id="plfa_plfa-part2-Inference-22748" href="../Inference/#plfa_plfa-part2-Inference-22748" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22753" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22755" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22757" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22758" href="../Inference/#plfa_plfa-part2-Inference-22758" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22760" href="../Inference/#plfa_plfa-part2-Inference-22760" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22763" href="../Inference/#plfa_plfa-part2-Inference-22763" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22765" href="../Inference/#plfa_plfa-part2-Inference-22765" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22767" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22769" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22771" href="../Inference/#plfa_plfa-part2-Inference-22758" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22773" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22775" href="../Inference/#plfa_plfa-part2-Inference-22763" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22777" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22779" href="../Inference/#plfa_plfa-part2-Inference-22760" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22782" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22784" href="../Inference/#plfa_plfa-part2-Inference-22765" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22787" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22789" href="../Inference/#plfa_plfa-part2-Inference-22758" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22791" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22793" href="../Inference/#plfa_plfa-part2-Inference-22760" class="Bound">A′</a>
<a id="plfa_plfa-part2-Inference-22796" href="../Inference/#plfa_plfa-part2-Inference-22748" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22801" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22806" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22808" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-rng≡"></a><a id="plfa_plfa-part2-Inference-22814" href="../Inference/#plfa_plfa-part2-Inference-22814" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22819" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22821" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22823" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22824" href="../Inference/#plfa_plfa-part2-Inference-22824" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22826" href="../Inference/#plfa_plfa-part2-Inference-22826" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22829" href="../Inference/#plfa_plfa-part2-Inference-22829" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22831" href="../Inference/#plfa_plfa-part2-Inference-22831" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22833" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22835" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22837" href="../Inference/#plfa_plfa-part2-Inference-22824" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22839" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22841" href="../Inference/#plfa_plfa-part2-Inference-22829" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22843" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22845" href="../Inference/#plfa_plfa-part2-Inference-22826" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22848" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22850" href="../Inference/#plfa_plfa-part2-Inference-22831" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22853" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22855" href="../Inference/#plfa_plfa-part2-Inference-22829" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22857" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22859" href="../Inference/#plfa_plfa-part2-Inference-22831" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22862" href="../Inference/#plfa_plfa-part2-Inference-22814" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22867" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22872" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22874" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>我们也需要知道 <code>`ℕ</code> 和 <code>A ⇒ B</code> 这两个类型不相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ℕ≢⇒"></a><a id="plfa_plfa-part2-Inference-23017" href="../Inference/#plfa_plfa-part2-Inference-23017" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23021" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23023" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23025" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23026" href="../Inference/#plfa_plfa-part2-Inference-23026" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23028" href="../Inference/#plfa_plfa-part2-Inference-23028" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23029" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23031" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23033" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-23036" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-23038" href="../Inference/#plfa_plfa-part2-Inference-23026" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23040" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-23042" href="../Inference/#plfa_plfa-part2-Inference-23028" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23044" href="../Inference/#plfa_plfa-part2-Inference-23017" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23048" class="Symbol">()</a>
</pre><h2 id="唯一的类型">唯一的类型</h2><p>从语境查询一个类型是唯一的。 给定两个推导，其一证明 <code>Γ ∋ x ⦂ A</code>，另一个证明 <code>Γ ∋ x ⦂ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-∋"></a><a id="plfa_plfa-part2-Inference-23358" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23365" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23367" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23369" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23370" href="../Inference/#plfa_plfa-part2-Inference-23370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23372" href="../Inference/#plfa_plfa-part2-Inference-23372" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23374" href="../Inference/#plfa_plfa-part2-Inference-23374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23376" href="../Inference/#plfa_plfa-part2-Inference-23376" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23377" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23379" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23381" href="../Inference/#plfa_plfa-part2-Inference-23370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23383" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23385" href="../Inference/#plfa_plfa-part2-Inference-23372" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23387" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23389" href="../Inference/#plfa_plfa-part2-Inference-23374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23391" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23393" href="../Inference/#plfa_plfa-part2-Inference-23370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23395" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23397" href="../Inference/#plfa_plfa-part2-Inference-23372" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23399" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23401" href="../Inference/#plfa_plfa-part2-Inference-23376" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-23403" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23405" href="../Inference/#plfa_plfa-part2-Inference-23374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23407" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-23409" href="../Inference/#plfa_plfa-part2-Inference-23376" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23411" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23418" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23420" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a>                 <a id="plfa_plfa-part2-Inference-23438" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23441" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-23446" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23453" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23455" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23456" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23458" href="../Inference/#plfa_plfa-part2-Inference-23458" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23462" class="Symbol">_)</a>         <a id="plfa_plfa-part2-Inference-23473" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23476" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="plfa_plfa-part2-Inference-23490" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-23495" href="../Inference/#plfa_plfa-part2-Inference-23458" class="Bound">x≢y</a>
<a id="plfa_plfa-part2-Inference-23499" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23506" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23507" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23509" href="../Inference/#plfa_plfa-part2-Inference-23509" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23513" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-23516" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a>         <a id="plfa_plfa-part2-Inference-23526" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23529" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="plfa_plfa-part2-Inference-23543" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-23548" href="../Inference/#plfa_plfa-part2-Inference-23509" class="Bound">x≢y</a>
<a id="plfa_plfa-part2-Inference-23552" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23559" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23560" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23562" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23564" href="../Inference/#plfa_plfa-part2-Inference-23564" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-23566" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-23568" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23569" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23571" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23573" href="../Inference/#plfa_plfa-part2-Inference-23573" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-23576" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-23579" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23582" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23589" href="../Inference/#plfa_plfa-part2-Inference-23564" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-23592" href="../Inference/#plfa_plfa-part2-Inference-23573" class="Bound">∋x′</a>
</pre><p>如果两个推导都使用 <code>Z</code> 规则，那么唯一性即可直接得出； 如果两个推导都使用 <code>S</code> 规则，那么唯一性可以由归纳得出。 如果一个使用了 <code>Z</code> 规则，另一个使用了 <code>S</code> 规则，这则是一个矛盾， 因为 <code>Z</code> 要求我们查询的变量是语境中的最后一个，而 <code>S</code> 要求不是这样。</p><p>生成的类型也是唯一的。 给定两个推导，其一证明 <code>Γ ⊢ M ↑ A</code>，另一个证明 <code>Γ ⊢ M ↑ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-↑"></a><a id="plfa_plfa-part2-Inference-24358" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24365" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-24367" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-24369" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-24370" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24372" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24374" href="../Inference/#plfa_plfa-part2-Inference-24374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24376" href="../Inference/#plfa_plfa-part2-Inference-24376" class="Bound">B</a><a id="plfa_plfa-part2-Inference-24377" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-24379" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24381" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24383" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24385" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24387" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24389" href="../Inference/#plfa_plfa-part2-Inference-24374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24391" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24393" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24395" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24397" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24399" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24401" href="../Inference/#plfa_plfa-part2-Inference-24376" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-24403" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24405" href="../Inference/#plfa_plfa-part2-Inference-24374" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24407" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-24409" href="../Inference/#plfa_plfa-part2-Inference-24376" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-24411" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24418" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24419" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24422" href="../Inference/#plfa_plfa-part2-Inference-24422" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-24424" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24426" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24427" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24430" href="../Inference/#plfa_plfa-part2-Inference-24430" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-24433" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24441" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24444" href="../Inference/#plfa_plfa-part2-Inference-23358" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-24451" href="../Inference/#plfa_plfa-part2-Inference-24422" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-24454" href="../Inference/#plfa_plfa-part2-Inference-24430" class="Bound">∋x′</a>
<a id="plfa_plfa-part2-Inference-24458" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24465" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24466" href="../Inference/#plfa_plfa-part2-Inference-24466" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24469" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24471" href="../Inference/#plfa_plfa-part2-Inference-24471" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24473" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24475" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24476" href="../Inference/#plfa_plfa-part2-Inference-24476" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-24480" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24482" href="../Inference/#plfa_plfa-part2-Inference-24482" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24485" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-24488" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24491" href="../Inference/#plfa_plfa-part2-Inference-22814" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-24496" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24497" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24504" href="../Inference/#plfa_plfa-part2-Inference-24466" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24507" href="../Inference/#plfa_plfa-part2-Inference-24476" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-24510" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-24512" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24519" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24520" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24523" href="../Inference/#plfa_plfa-part2-Inference-24523" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24525" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24527" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24528" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24531" href="../Inference/#plfa_plfa-part2-Inference-24531" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24534" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24542" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24545" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>有三种项的形式。 如果项是变量，那么生成的唯一性从查询的唯一性中直接得出。 如果项是函数应用，那么唯一性由应用中的函数之上的归纳得出，因为值域相等的类型相等。 如果项是变向，两者装饰的类型相等，从此可得唯一性。</p><h2 id="查询语境中变量的类型">查询语境中变量的类型</h2><p>给定 <code>Γ</code> 和两个不同的变量 <code>x</code> 和 <code>y</code>， 如果不存在类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立， 那么也不存在类型 <code>A</code> 使得 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ext∋"></a><a id="plfa_plfa-part2-Inference-25389" href="../Inference/#plfa_plfa-part2-Inference-25389" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25394" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-25396" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-25398" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-25399" href="../Inference/#plfa_plfa-part2-Inference-25399" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25401" href="../Inference/#plfa_plfa-part2-Inference-25401" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25403" href="../Inference/#plfa_plfa-part2-Inference-25403" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25405" href="../Inference/#plfa_plfa-part2-Inference-25405" class="Bound">y</a><a id="plfa_plfa-part2-Inference-25406" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-25410" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25412" href="../Inference/#plfa_plfa-part2-Inference-25403" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25414" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-25416" href="../Inference/#plfa_plfa-part2-Inference-25405" class="Bound">y</a>
  <a id="plfa_plfa-part2-Inference-25420" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25422" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25424" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25425" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25428" href="../Inference/#plfa_plfa-part2-Inference-25428" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25430" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25432" href="../Inference/#plfa_plfa-part2-Inference-25399" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25434" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25436" href="../Inference/#plfa_plfa-part2-Inference-25403" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25438" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25440" href="../Inference/#plfa_plfa-part2-Inference-25428" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25441" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-25447" class="Comment">----------------------------</a>
  <a id="plfa_plfa-part2-Inference-25478" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25480" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25482" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25483" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25486" href="../Inference/#plfa_plfa-part2-Inference-25486" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25488" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25490" href="../Inference/#plfa_plfa-part2-Inference-25399" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25492" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25494" href="../Inference/#plfa_plfa-part2-Inference-25405" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-25496" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25498" href="../Inference/#plfa_plfa-part2-Inference-25401" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25500" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25502" href="../Inference/#plfa_plfa-part2-Inference-25403" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25504" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25506" href="../Inference/#plfa_plfa-part2-Inference-25486" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25507" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-25509" href="../Inference/#plfa_plfa-part2-Inference-25389" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25514" href="../Inference/#plfa_plfa-part2-Inference-25514" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25518" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-25521" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25523" href="../Inference/#plfa_plfa-part2-Inference-25523" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25525" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25527" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-25529" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>       <a id="plfa_plfa-part2-Inference-25537" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25540" href="../Inference/#plfa_plfa-part2-Inference-25514" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25544" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-25549" href="../Inference/#plfa_plfa-part2-Inference-25389" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25554" class="Symbol">_</a>   <a id="plfa_plfa-part2-Inference-25558" href="../Inference/#plfa_plfa-part2-Inference-25558" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25561" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25563" href="../Inference/#plfa_plfa-part2-Inference-25563" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25565" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25567" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-25569" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-25571" href="../Inference/#plfa_plfa-part2-Inference-25571" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25574" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-25577" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25580" href="../Inference/#plfa_plfa-part2-Inference-25558" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25583" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25585" href="../Inference/#plfa_plfa-part2-Inference-25563" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25587" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25589" href="../Inference/#plfa_plfa-part2-Inference-25571" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25592" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
</pre><p>给定类型 <code>A</code> 和 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立的证明，我们必须构造一个矛盾。 如果判断由 <code>Z</code> 成立，那么 <code>x</code> 和 <code>y</code> 一定是一样的，与第一个假设矛盾。 如果判断由 <code>S _ ∋x</code> 成立，那么 <code>∋x</code> 提供了 <code>Γ ∋ x ⦂ A</code> 成立的证明，与第二个假设矛盾。</p><p>给定语境 <code>Γ</code> 和变量 <code>x</code>，我们可判断是否存在一个类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立，或者其反命题：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-lookup"></a><a id="plfa_plfa-part2-Inference-26308" href="../Inference/#plfa_plfa-part2-Inference-26308" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26315" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26317" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-26319" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26320" href="../Inference/#plfa_plfa-part2-Inference-26320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26322" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26324" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-26331" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26333" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26334" href="../Inference/#plfa_plfa-part2-Inference-26334" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26336" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26338" href="../Inference/#plfa_plfa-part2-Inference-16117" class="Function">Id</a><a id="plfa_plfa-part2-Inference-26340" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-26351" class="Comment">------------------------</a>
       <a id="plfa_plfa-part2-Inference-26383" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-26385" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-26389" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26390" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-26393" href="../Inference/#plfa_plfa-part2-Inference-26393" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26395" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">]</a> <a id="plfa_plfa-part2-Inference-26397" href="../Inference/#plfa_plfa-part2-Inference-26320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26399" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-26401" href="../Inference/#plfa_plfa-part2-Inference-26334" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26403" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26405" href="../Inference/#plfa_plfa-part2-Inference-26393" class="Bound">A</a><a id="plfa_plfa-part2-Inference-26406" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26408" href="../Inference/#plfa_plfa-part2-Inference-26308" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26415" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-26417" href="../Inference/#plfa_plfa-part2-Inference-26417" class="Bound">x</a>                        <a id="plfa_plfa-part2-Inference-26442" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26445" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26449" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Inference-26452" class="Symbol">())</a>
<a id="plfa_plfa-part2-Inference-26456" href="../Inference/#plfa_plfa-part2-Inference-26308" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26463" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26464" href="../Inference/#plfa_plfa-part2-Inference-26464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26466" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26468" href="../Inference/#plfa_plfa-part2-Inference-26468" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-26470" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26472" href="../Inference/#plfa_plfa-part2-Inference-26472" class="Bound">B</a><a id="plfa_plfa-part2-Inference-26473" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26475" href="../Inference/#plfa_plfa-part2-Inference-26475" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26477" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26482" href="../Inference/#plfa_plfa-part2-Inference-26475" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26484" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.String.Properties.html#2733" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-26486" href="../Inference/#plfa_plfa-part2-Inference-26468" class="Bound">y</a>
<a id="plfa_plfa-part2-Inference-26488" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26492" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26494" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26498" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>                    <a id="plfa_plfa-part2-Inference-26522" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26525" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26529" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26531" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-26533" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26535" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-26537" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-26539" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26543" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26545" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-26548" href="../Inference/#plfa_plfa-part2-Inference-26548" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26552" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26557" href="../Inference/#plfa_plfa-part2-Inference-26308" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26564" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26566" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-26568" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26584" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26586" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26590" href="../Inference/#plfa_plfa-part2-Inference-26590" class="Bound">¬∃</a>          <a id="plfa_plfa-part2-Inference-26602" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26605" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26609" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26610" href="../Inference/#plfa_plfa-part2-Inference-25389" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-26615" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26619" href="../Inference/#plfa_plfa-part2-Inference-26590" class="Bound">¬∃</a><a id="plfa_plfa-part2-Inference-26621" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26623" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26639" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26641" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26645" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26647" href="../Inference/#plfa_plfa-part2-Inference-26647" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26649" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26651" href="../Inference/#plfa_plfa-part2-Inference-26651" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26654" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-26657" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26660" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26664" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26666" href="../Inference/#plfa_plfa-part2-Inference-26647" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26668" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26670" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-26672" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26676" href="../Inference/#plfa_plfa-part2-Inference-26651" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26679" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
</pre><p>考虑语境的情况：</p><ul><li>如果语境为空，那么平凡地，我们没有任何可能的推导。</li></ul><ul><li><p>如果语境非空，比较给定的变量和最新的绑定：</p><ul><li>如果它们一致，我们完成了判定，使用 <code>Z</code> 作为对应的推导。</li></ul><ul><li><p>如果它们不一致，我们递归：</p><ul><li>如果查询失败了，我们使用 <code>ext∋</code> 将变量不存在于内部的语境中的证明扩充至扩充后的语境。</li></ul><ul><li>如果查询成功了，我们对返回的推导使用 <code>S</code>。</li></ul></li></ul></li></ul><h2 id="提升否定">提升否定</h2><p>对于每一个可能的项的形式，我们需要证明：如果其内部的子项无法被赋型，那么整个项无法被赋型。 大多数情况下，我们可以直接在行中直接完成所需的证明，但有一些困难的情况， 我们提供一些帮助函数。</p><p>如果 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立而 <code>Γ ⊢ M ↓ A</code> 不成立，那么不存在使得 <code>Γ ⊢ L · M ↑ B′</code> 成立的类型 <code>B′</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬arg"></a><a id="plfa_plfa-part2-Inference-28089" href="../Inference/#plfa_plfa-part2-Inference-28089" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28094" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-28096" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-28098" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-28099" href="../Inference/#plfa_plfa-part2-Inference-28099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28101" href="../Inference/#plfa_plfa-part2-Inference-28101" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28103" href="../Inference/#plfa_plfa-part2-Inference-28103" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-28105" href="../Inference/#plfa_plfa-part2-Inference-28105" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28107" href="../Inference/#plfa_plfa-part2-Inference-28107" class="Bound">M</a><a id="plfa_plfa-part2-Inference-28108" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-28112" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28114" href="../Inference/#plfa_plfa-part2-Inference-28099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28116" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28118" href="../Inference/#plfa_plfa-part2-Inference-28105" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28120" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28122" href="../Inference/#plfa_plfa-part2-Inference-28101" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28124" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-28126" href="../Inference/#plfa_plfa-part2-Inference-28103" class="Bound">B</a>
  <a id="plfa_plfa-part2-Inference-28130" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28132" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28134" href="../Inference/#plfa_plfa-part2-Inference-28099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28136" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28138" href="../Inference/#plfa_plfa-part2-Inference-28107" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28140" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-28142" href="../Inference/#plfa_plfa-part2-Inference-28101" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-28148" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Inference-28177" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28179" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28181" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28182" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-28185" href="../Inference/#plfa_plfa-part2-Inference-28185" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28188" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">]</a> <a id="plfa_plfa-part2-Inference-28190" href="../Inference/#plfa_plfa-part2-Inference-28099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28192" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28194" href="../Inference/#plfa_plfa-part2-Inference-28105" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28196" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28198" href="../Inference/#plfa_plfa-part2-Inference-28107" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28200" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28202" href="../Inference/#plfa_plfa-part2-Inference-28185" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-28204" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-28206" href="../Inference/#plfa_plfa-part2-Inference-28089" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28211" href="../Inference/#plfa_plfa-part2-Inference-28211" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28214" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28218" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-28220" href="../Inference/#plfa_plfa-part2-Inference-28220" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28223" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-28225" href="../Inference/#plfa_plfa-part2-Inference-28225" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-28229" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28231" href="../Inference/#plfa_plfa-part2-Inference-28231" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-28235" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-28237" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-28245" href="../Inference/#plfa_plfa-part2-Inference-22748" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-28250" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28251" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-28258" href="../Inference/#plfa_plfa-part2-Inference-28211" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28261" href="../Inference/#plfa_plfa-part2-Inference-28225" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-28264" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-28266" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-28268" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28272" href="../Inference/#plfa_plfa-part2-Inference-28231" class="Bound">⊢M′</a>
</pre><p>让 <code>⊢L</code> 作为 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明、 <code>¬⊢M</code> 作为 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 给定类型 <code>B′</code> 和 <code>Γ ⊢ L · M ↑ B′</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢L′ · ⊢M′</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A′ ⇒ B′</code> 成立的证明、<code>⊢M′</code> 是 <code>Γ ⊢ M ↓ A′</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code>，我们知道 <code>A ⇒ B ≡ A′ ⇒ B′</code>， 所以可得 <code>A ≡ A′</code>，这意味着 <code>¬⊢M</code> 和 <code>⊢M′</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>¬⊢M</code> 和 <code>⊢M′</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><p>如果 <code>Γ ⊢ M ↑ A</code> 成立且 <code>A ≢ B</code>，那么 <code>Γ ⊢ (M ↑) ↓ B</code> 不成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬switch"></a><a id="plfa_plfa-part2-Inference-29449" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29457" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-29459" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-29461" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-29462" href="../Inference/#plfa_plfa-part2-Inference-29462" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29464" href="../Inference/#plfa_plfa-part2-Inference-29464" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29466" href="../Inference/#plfa_plfa-part2-Inference-29466" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29468" href="../Inference/#plfa_plfa-part2-Inference-29468" class="Bound">B</a><a id="plfa_plfa-part2-Inference-29469" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-29473" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29475" href="../Inference/#plfa_plfa-part2-Inference-29462" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29477" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29479" href="../Inference/#plfa_plfa-part2-Inference-29464" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29481" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-29483" href="../Inference/#plfa_plfa-part2-Inference-29466" class="Bound">A</a>
  <a id="plfa_plfa-part2-Inference-29487" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29489" href="../Inference/#plfa_plfa-part2-Inference-29466" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29491" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-29493" href="../Inference/#plfa_plfa-part2-Inference-29468" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-29499" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-29517" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29519" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-29521" href="../Inference/#plfa_plfa-part2-Inference-29462" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29523" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29525" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29526" href="../Inference/#plfa_plfa-part2-Inference-29464" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29528" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-29529" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29531" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-29533" href="../Inference/#plfa_plfa-part2-Inference-29468" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-29535" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29543" href="../Inference/#plfa_plfa-part2-Inference-29543" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29546" href="../Inference/#plfa_plfa-part2-Inference-29546" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29550" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29551" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-29554" href="../Inference/#plfa_plfa-part2-Inference-29554" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29558" href="../Inference/#plfa_plfa-part2-Inference-29558" class="Bound">A′≡B</a><a id="plfa_plfa-part2-Inference-29562" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29564" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-29572" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-29579" href="../Inference/#plfa_plfa-part2-Inference-29543" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29582" href="../Inference/#plfa_plfa-part2-Inference-29554" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29586" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-29588" href="../Inference/#plfa_plfa-part2-Inference-29546" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29592" href="../Inference/#plfa_plfa-part2-Inference-29558" class="Bound">A′≡B</a>
</pre><p>让 <code>⊢M</code> 作为 <code>Γ ⊢ M ↑ A</code> 成立的证明、<code>A≢B</code> 作为 <code>A ≢ B</code> 成立的证明。 给定 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢↑ ⊢M′ A′≡B</code> 的形式，其中 <code>⊢M′</code> 是 <code>Γ ⊢ M ↑ A′</code> 成立的证明、<code>A′≡B</code> 是 <code>A′ ≡ B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢M</code> 和 <code>⊢M′</code>，我们知道 <code>A ≡ A′</code>，这意味着 <code>A≢B</code> 和 <code>A′≡B</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>A≢B</code> 和 <code>A′≡B</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><h2 id="生成和继承类型-1">生成和继承类型</h2><p>餐桌已经布置好了，我们已经准备好享用今天的主菜了。 我们定义两个共同递归的函数，一个用于生成，一个用于继承。 生成在给定语境 <code>Γ</code> 和生成项 <code>M</code> 时，要么返回一个类型 <code>A</code> 和 <code>Γ ⊢ M ↑ A</code> 成立的证明，或者其/否定。 继承在给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code> 时要么返回 <code>Γ ⊢ M ↓ A</code> 成立的证明，或者其否定：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-synthesize"></a><a id="plfa_plfa-part2-Inference-31181" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31192" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31194" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31196" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31197" href="../Inference/#plfa_plfa-part2-Inference-31197" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31199" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31201" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31208" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31210" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31211" href="../Inference/#plfa_plfa-part2-Inference-31211" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31213" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31215" href="../Inference/#plfa_plfa-part2-Inference-16601" class="Datatype">Term⁺</a><a id="plfa_plfa-part2-Inference-31220" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-31235" class="Comment">---------------------------</a>
           <a id="plfa_plfa-part2-Inference-31274" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31276" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31280" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31281" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-31284" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31286" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">]</a> <a id="plfa_plfa-part2-Inference-31288" href="../Inference/#plfa_plfa-part2-Inference-31197" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31290" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31292" href="../Inference/#plfa_plfa-part2-Inference-31211" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31294" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-31296" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31298" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-inherit"></a><a id="plfa_plfa-part2-Inference-31301" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31309" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31311" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31313" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31314" href="../Inference/#plfa_plfa-part2-Inference-31314" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31316" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31318" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31325" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31327" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31328" href="../Inference/#plfa_plfa-part2-Inference-31328" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31330" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31332" href="../Inference/#plfa_plfa-part2-Inference-16618" class="Datatype">Term⁻</a><a id="plfa_plfa-part2-Inference-31337" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31339" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31340" href="../Inference/#plfa_plfa-part2-Inference-31340" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31342" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31344" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-31348" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-31354" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-31372" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31374" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31378" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31379" href="../Inference/#plfa_plfa-part2-Inference-31314" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31381" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31383" href="../Inference/#plfa_plfa-part2-Inference-31328" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31385" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-31387" href="../Inference/#plfa_plfa-part2-Inference-31340" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31388" class="Symbol">)</a>
</pre><p>我们首先考虑生成的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-31469" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31480" href="../Inference/#plfa_plfa-part2-Inference-31480" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31482" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31483" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-31485" href="../Inference/#plfa_plfa-part2-Inference-31485" class="Bound">x</a><a id="plfa_plfa-part2-Inference-31486" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31488" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31493" href="../Inference/#plfa_plfa-part2-Inference-26308" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-31500" href="../Inference/#plfa_plfa-part2-Inference-31480" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31502" href="../Inference/#plfa_plfa-part2-Inference-31485" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-31504" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31508" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31510" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31514" href="../Inference/#plfa_plfa-part2-Inference-31514" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31530" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31533" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31537" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31541" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31543" href="../Inference/#plfa_plfa-part2-Inference-31543" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31545" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31547" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31550" href="../Inference/#plfa_plfa-part2-Inference-31550" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31553" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31555" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31557" href="../Inference/#plfa_plfa-part2-Inference-31514" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31560" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31562" href="../Inference/#plfa_plfa-part2-Inference-31543" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31564" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31566" href="../Inference/#plfa_plfa-part2-Inference-31550" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31569" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31571" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31574" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31578" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31580" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31584" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31586" href="../Inference/#plfa_plfa-part2-Inference-31586" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31588" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31590" href="../Inference/#plfa_plfa-part2-Inference-31590" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31593" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>      <a id="plfa_plfa-part2-Inference-31600" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31603" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31607" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31609" href="../Inference/#plfa_plfa-part2-Inference-31586" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31611" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31613" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31616" href="../Inference/#plfa_plfa-part2-Inference-31590" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31619" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31621" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31632" href="../Inference/#plfa_plfa-part2-Inference-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31634" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31635" href="../Inference/#plfa_plfa-part2-Inference-31635" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-31637" href="../Inference/#plfa_plfa-part2-Inference-16690" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31639" href="../Inference/#plfa_plfa-part2-Inference-31639" class="Bound">M</a><a id="plfa_plfa-part2-Inference-31640" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31642" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31647" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31658" href="../Inference/#plfa_plfa-part2-Inference-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31660" href="../Inference/#plfa_plfa-part2-Inference-31635" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-31662" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31666" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31668" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31672" href="../Inference/#plfa_plfa-part2-Inference-31672" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31688" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31691" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31695" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31699" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31701" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31703" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31705" href="../Inference/#plfa_plfa-part2-Inference-31705" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-31709" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31711" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31714" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31717" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31720" href="../Inference/#plfa_plfa-part2-Inference-31672" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31723" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31725" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31727" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31729" href="../Inference/#plfa_plfa-part2-Inference-31705" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31732" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31734" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31737" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31741" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31743" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31747" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31749" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-31752" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-31757" href="../Inference/#plfa_plfa-part2-Inference-31757" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31760" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31763" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31766" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31770" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31774" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31776" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31778" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31780" href="../Inference/#plfa_plfa-part2-Inference-31780" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-31784" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31786" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31789" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31792" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31795" href="../Inference/#plfa_plfa-part2-Inference-23017" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-31799" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31800" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-31807" href="../Inference/#plfa_plfa-part2-Inference-31757" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31810" href="../Inference/#plfa_plfa-part2-Inference-31780" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-31813" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31815" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31818" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31822" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31824" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31828" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31830" href="../Inference/#plfa_plfa-part2-Inference-31830" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31832" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-31834" href="../Inference/#plfa_plfa-part2-Inference-31834" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31836" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31838" href="../Inference/#plfa_plfa-part2-Inference-31838" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31841" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31843" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31848" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31858" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31860" href="../Inference/#plfa_plfa-part2-Inference-31830" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31862" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31869" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31871" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31875" href="../Inference/#plfa_plfa-part2-Inference-31875" class="Bound">¬⊢M</a>          <a id="plfa_plfa-part2-Inference-31888" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31891" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31895" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31896" href="../Inference/#plfa_plfa-part2-Inference-28089" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-31901" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31904" href="../Inference/#plfa_plfa-part2-Inference-31875" class="Bound">¬⊢M</a><a id="plfa_plfa-part2-Inference-31907" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-31909" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31916" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31918" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31922" href="../Inference/#plfa_plfa-part2-Inference-31922" class="Bound">⊢M</a>           <a id="plfa_plfa-part2-Inference-31935" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31938" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31942" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31944" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31946" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31948" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31951" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31953" href="../Inference/#plfa_plfa-part2-Inference-31922" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31956" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31958" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31969" href="../Inference/#plfa_plfa-part2-Inference-31969" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31971" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31972" href="../Inference/#plfa_plfa-part2-Inference-31972" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31974" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-31976" href="../Inference/#plfa_plfa-part2-Inference-31976" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31977" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31979" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31984" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31992" href="../Inference/#plfa_plfa-part2-Inference-31969" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31994" href="../Inference/#plfa_plfa-part2-Inference-31972" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31996" href="../Inference/#plfa_plfa-part2-Inference-31976" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31998" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32002" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32004" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-32008" href="../Inference/#plfa_plfa-part2-Inference-32008" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-32024" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32027" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-32031" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-32035" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32037" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-32039" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32041" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32044" href="../Inference/#plfa_plfa-part2-Inference-32044" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32047" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-32050" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-32053" href="../Inference/#plfa_plfa-part2-Inference-32008" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-32057" href="../Inference/#plfa_plfa-part2-Inference-32044" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32060" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-32063" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32067" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32069" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32073" href="../Inference/#plfa_plfa-part2-Inference-32073" class="Bound">⊢M</a>              <a id="plfa_plfa-part2-Inference-32089" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32092" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32096" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32098" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-32100" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32102" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32105" href="../Inference/#plfa_plfa-part2-Inference-32073" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32108" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
</pre><p>有三种情况来考虑：</p><ul><li><p>如果项是变量 <code>` x</code>，我们使用之前定义的查询：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ∋ x ⦂ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ ` x ↑ A</code> 成立的证明一定是 <code>⊢` ∋x</code> 的形式，其中 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，所以 <code>⊢` ∋x</code> 是 <code>Γ ⊢ ` x ↑ A</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是函数应用 <code>L · M</code>，我们递归于函数项 <code>L</code>：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在任何类型 <code>Γ ⊢ L ↑ _</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L · _</code> 的形式，其中 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么有两种情况：</p><ul><li>其一是 <code>⊢L</code> 是 <code>Γ ⊢ L ⦂ `ℕ</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L′ · _</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 对于一些类型 <code>A</code> 和 <code>B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code> 构成了一个矛盾， 因为 <code>`ℕ</code> 无法与 <code>A ⇒ B</code> 相等。</li></ul><ul><li><p>另一是 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明，那么我们在参数项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 将 <code>¬arg</code> 应用于 <code>⊢L</code> 和 <code>¬⊢M</code>，我们可得 <code>Γ ⊢ L · M ↑ B</code> 不成立。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明， 且 <code>⊢L · ⊢M</code> 提供了 <code>Γ ⊢ L · M ↑ B</code> 成立的证明。</li></ul></li></ul></li></ul></li></ul><ul><li><p>如果项是从生成到继承的变向项 <code>M ↓ A</code>，我们在子项 <code>M</code> 上递归，并向继承提供类型 <code>A</code>：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明一定是 <code>⊢↓ ⊢M</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，且 <code>⊢↓ ⊢M</code> 提供了 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明。</li></ul></li></ul><p>我们接下来考虑继承的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-35631" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35639" href="../Inference/#plfa_plfa-part2-Inference-35639" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35641" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35642" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35644" href="../Inference/#plfa_plfa-part2-Inference-35644" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35646" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35648" href="../Inference/#plfa_plfa-part2-Inference-35648" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35649" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35651" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-35659" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35662" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35666" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35672" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35680" href="../Inference/#plfa_plfa-part2-Inference-35680" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35682" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35683" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35685" href="../Inference/#plfa_plfa-part2-Inference-35685" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35687" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35689" href="../Inference/#plfa_plfa-part2-Inference-35689" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35690" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35692" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35693" href="../Inference/#plfa_plfa-part2-Inference-35693" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35695" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35697" href="../Inference/#plfa_plfa-part2-Inference-35697" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35698" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35700" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35705" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35713" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35714" href="../Inference/#plfa_plfa-part2-Inference-35680" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35716" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-35718" href="../Inference/#plfa_plfa-part2-Inference-35685" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35720" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-35722" href="../Inference/#plfa_plfa-part2-Inference-35693" class="Bound">A</a><a id="plfa_plfa-part2-Inference-35723" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35725" href="../Inference/#plfa_plfa-part2-Inference-35689" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-35727" href="../Inference/#plfa_plfa-part2-Inference-35697" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-35729" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35733" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35735" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35738" href="../Inference/#plfa_plfa-part2-Inference-35738" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-35757" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35760" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35764" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35768" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35769" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35772" href="../Inference/#plfa_plfa-part2-Inference-35772" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35774" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35777" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35780" href="../Inference/#plfa_plfa-part2-Inference-35738" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-35784" href="../Inference/#plfa_plfa-part2-Inference-35772" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-35787" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35790" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35794" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35796" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35800" href="../Inference/#plfa_plfa-part2-Inference-35800" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-35818" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35821" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35825" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35826" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35829" href="../Inference/#plfa_plfa-part2-Inference-35800" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35831" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35833" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35841" href="../Inference/#plfa_plfa-part2-Inference-35841" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35843" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35849" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>          <a id="plfa_plfa-part2-Inference-35861" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35864" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35868" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a>
<a id="plfa_plfa-part2-Inference-35874" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35882" href="../Inference/#plfa_plfa-part2-Inference-35882" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35884" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35890" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35891" href="../Inference/#plfa_plfa-part2-Inference-35891" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35893" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35895" href="../Inference/#plfa_plfa-part2-Inference-35895" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35896" class="Symbol">)</a>     <a id="plfa_plfa-part2-Inference-35902" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35905" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35909" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35915" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35923" href="../Inference/#plfa_plfa-part2-Inference-35923" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35925" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35926" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35931" href="../Inference/#plfa_plfa-part2-Inference-35931" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35932" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35934" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-35937" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35942" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35950" href="../Inference/#plfa_plfa-part2-Inference-35923" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35952" href="../Inference/#plfa_plfa-part2-Inference-35931" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-35954" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-35957" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35961" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35963" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35966" href="../Inference/#plfa_plfa-part2-Inference-35966" class="Bound">¬⊢M</a>                <a id="plfa_plfa-part2-Inference-35985" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35988" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35992" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35996" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35997" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36002" href="../Inference/#plfa_plfa-part2-Inference-36002" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36004" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36007" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-36010" href="../Inference/#plfa_plfa-part2-Inference-35966" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36014" href="../Inference/#plfa_plfa-part2-Inference-36002" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36017" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36020" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36024" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36026" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36030" href="../Inference/#plfa_plfa-part2-Inference-36030" class="Bound">⊢M</a>                <a id="plfa_plfa-part2-Inference-36048" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36051" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36055" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36056" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36061" href="../Inference/#plfa_plfa-part2-Inference-36030" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36063" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36065" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36073" href="../Inference/#plfa_plfa-part2-Inference-36073" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36075" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36076" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-36081" href="../Inference/#plfa_plfa-part2-Inference-36081" class="Bound">M</a><a id="plfa_plfa-part2-Inference-36082" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36084" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36085" href="../Inference/#plfa_plfa-part2-Inference-36085" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36087" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36089" href="../Inference/#plfa_plfa-part2-Inference-36089" class="Bound">B</a><a id="plfa_plfa-part2-Inference-36090" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36093" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36096" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36100" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-36106" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36114" href="../Inference/#plfa_plfa-part2-Inference-36114" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36116" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36117" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-36123" href="../Inference/#plfa_plfa-part2-Inference-36123" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-36125" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-36132" href="../Inference/#plfa_plfa-part2-Inference-36132" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36134" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-36139" href="../Inference/#plfa_plfa-part2-Inference-36139" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36141" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36143" href="../Inference/#plfa_plfa-part2-Inference-36143" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36145" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-36146" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36148" href="../Inference/#plfa_plfa-part2-Inference-36148" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36150" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36155" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36166" href="../Inference/#plfa_plfa-part2-Inference-36114" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36168" href="../Inference/#plfa_plfa-part2-Inference-36123" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-36170" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36174" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36176" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36179" href="../Inference/#plfa_plfa-part2-Inference-36179" class="Bound">¬∃</a>                 <a id="plfa_plfa-part2-Inference-36198" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36201" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36205" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36209" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36210" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36216" href="../Inference/#plfa_plfa-part2-Inference-36216" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-36220" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36222" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36225" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36227" href="../Inference/#plfa_plfa-part2-Inference-36179" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36230" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36232" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36235" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36237" href="../Inference/#plfa_plfa-part2-Inference-36216" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36240" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a><a id="plfa_plfa-part2-Inference-36241" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36244" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36248" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36250" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36254" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36256" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36258" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36260" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36262" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36264" href="../Inference/#plfa_plfa-part2-Inference-36264" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36267" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>    <a id="plfa_plfa-part2-Inference-36272" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36275" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36279" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36283" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36284" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36290" href="../Inference/#plfa_plfa-part2-Inference-36290" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36294" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36296" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36299" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36301" href="../Inference/#plfa_plfa-part2-Inference-23017" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-36305" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36306" href="../Inference/#plfa_plfa-part2-Inference-24358" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-36313" href="../Inference/#plfa_plfa-part2-Inference-36290" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36317" href="../Inference/#plfa_plfa-part2-Inference-36264" class="Bound">⊢L</a><a id="plfa_plfa-part2-Inference-36319" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36321" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36324" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36328" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36330" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36334" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36336" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36339" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-36344" href="../Inference/#plfa_plfa-part2-Inference-36344" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36347" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36349" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36354" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36364" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36366" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36368" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36375" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36377" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36380" href="../Inference/#plfa_plfa-part2-Inference-36380" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-36396" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36399" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36403" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36407" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36408" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36414" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36416" href="../Inference/#plfa_plfa-part2-Inference-36416" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36419" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36422" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36424" href="../Inference/#plfa_plfa-part2-Inference-36380" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36428" href="../Inference/#plfa_plfa-part2-Inference-36416" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36431" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36434" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36441" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36443" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36447" href="../Inference/#plfa_plfa-part2-Inference-36447" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36450" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36455" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36463" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36466" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36468" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36470" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36472" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-36474" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36476" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36478" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36480" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36490" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36492" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36495" href="../Inference/#plfa_plfa-part2-Inference-36495" class="Bound">¬⊢N</a>          <a id="plfa_plfa-part2-Inference-36508" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36511" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36515" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36519" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36520" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36526" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36528" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36530" href="../Inference/#plfa_plfa-part2-Inference-36530" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36532" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36534" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36536" href="../Inference/#plfa_plfa-part2-Inference-36495" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36540" href="../Inference/#plfa_plfa-part2-Inference-36530" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36543" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36546" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36556" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36558" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36562" href="../Inference/#plfa_plfa-part2-Inference-36562" class="Bound">⊢N</a>          <a id="plfa_plfa-part2-Inference-36574" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36577" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36581" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36582" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36588" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36591" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36594" href="../Inference/#plfa_plfa-part2-Inference-36562" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36596" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36598" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36606" href="../Inference/#plfa_plfa-part2-Inference-36606" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36608" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36609" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-36611" href="../Inference/#plfa_plfa-part2-Inference-36611" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36613" href="../Inference/#plfa_plfa-part2-Inference-16999" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36615" href="../Inference/#plfa_plfa-part2-Inference-36615" class="Bound">N</a><a id="plfa_plfa-part2-Inference-36616" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36618" href="../Inference/#plfa_plfa-part2-Inference-36618" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36620" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36625" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36633" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36634" href="../Inference/#plfa_plfa-part2-Inference-36606" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36636" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36638" href="../Inference/#plfa_plfa-part2-Inference-36611" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36640" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36642" href="../Inference/#plfa_plfa-part2-Inference-36618" class="Bound">A</a><a id="plfa_plfa-part2-Inference-36643" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36645" href="../Inference/#plfa_plfa-part2-Inference-36615" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36647" href="../Inference/#plfa_plfa-part2-Inference-36618" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36649" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36653" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36655" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36658" href="../Inference/#plfa_plfa-part2-Inference-36658" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-36677" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36680" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36684" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36688" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36689" href="../Inference/#plfa_plfa-part2-Inference-20018" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36692" href="../Inference/#plfa_plfa-part2-Inference-36692" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36694" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36696" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36698" href="../Inference/#plfa_plfa-part2-Inference-36658" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36702" href="../Inference/#plfa_plfa-part2-Inference-36692" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36705" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36708" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36712" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36714" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36718" href="../Inference/#plfa_plfa-part2-Inference-36718" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-36736" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36739" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36743" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36744" href="../Inference/#plfa_plfa-part2-Inference-20018" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36747" href="../Inference/#plfa_plfa-part2-Inference-36718" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36749" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36751" href="../Inference/#plfa_plfa-part2-Inference-31301" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36759" href="../Inference/#plfa_plfa-part2-Inference-36759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36761" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36762" href="../Inference/#plfa_plfa-part2-Inference-36762" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36764" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-36765" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36767" href="../Inference/#plfa_plfa-part2-Inference-36767" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-36769" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36774" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36785" href="../Inference/#plfa_plfa-part2-Inference-36759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36787" href="../Inference/#plfa_plfa-part2-Inference-36762" class="Bound">M</a>
<a id="plfa_plfa-part2-Inference-36789" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36793" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36795" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36799" href="../Inference/#plfa_plfa-part2-Inference-36799" class="Bound">¬∃</a>                <a id="plfa_plfa-part2-Inference-36817" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36820" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36824" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36828" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36829" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36832" href="../Inference/#plfa_plfa-part2-Inference-36832" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36835" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36838" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36840" href="../Inference/#plfa_plfa-part2-Inference-36799" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36843" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36845" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36847" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36849" href="../Inference/#plfa_plfa-part2-Inference-36832" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36852" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36854" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36857" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36861" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36863" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36867" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36869" href="../Inference/#plfa_plfa-part2-Inference-36869" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36871" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36873" href="../Inference/#plfa_plfa-part2-Inference-36873" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36876" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36878" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36883" href="../Inference/#plfa_plfa-part2-Inference-36869" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36885" href="../Inference/#plfa_plfa-part2-Inference-22246" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-36889" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-36891" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36897" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36899" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36903" href="../Inference/#plfa_plfa-part2-Inference-36903" class="Bound">A≢B</a>             <a id="plfa_plfa-part2-Inference-36919" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36922" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36926" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36927" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-36935" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36938" href="../Inference/#plfa_plfa-part2-Inference-36903" class="Bound">A≢B</a><a id="plfa_plfa-part2-Inference-36941" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36943" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36949" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36951" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36955" href="../Inference/#plfa_plfa-part2-Inference-36955" class="Bound">A≡B</a>             <a id="plfa_plfa-part2-Inference-36971" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36974" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36978" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36979" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36982" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36985" href="../Inference/#plfa_plfa-part2-Inference-36955" class="Bound">A≡B</a><a id="plfa_plfa-part2-Inference-36988" class="Symbol">)</a>
</pre><p>我们在此只考虑抽象和从继承变向至生成的情况：</p><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>`ℕ</code>，那么平凡地， <code>Γ ⊢ (ƛ x ⇒ N) ↓ `ℕ</code> 无法成立。</li></ul><ul><li><p>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>A ⇒ B</code>，我们用语境 <code>Γ , x ⦂ A</code> 递归至 子项 <code>N</code> 继承类型 <code>B</code>：</p><ul><li>如果失败了，那么 <code>¬⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 不成立的证明。 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明一定是 <code>⊢ƛ ⊢N</code> 的形式，其中 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，且 <code>⊢ƛ ⊢N</code> 提供了 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是从继承到生成的变向项 <code>M ↑</code>，我们在子项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ⊢ M ↑ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明一定是 <code>⊢↑ ⊢M _</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ A</code> 成立的证明。 我们应用 <code>_≟Tp_</code> 来判定 <code>A</code> 和 <code>B</code> 是否相等：</p><ul><li>如果失败了，那么 <code>A≢B</code> 是 <code>A ≢ B</code> 的证明。 将 <code>¬switch</code> 应用于 <code>⊢M</code> 和 <code>A≢B</code>，我们可得 <code>Γ ⊢ (M ↑) ↓ B</code> 无法成立。</li></ul><ul><li>如果成功了，那么 <code>A≡B</code> 是 <code>A ≡ B</code> 的证明， 且 <code>⊢↑ ⊢M A≡B</code> 提供了 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明。</li></ul></li></ul></li></ul><p>剩余的情况类似，它们的代码可以由对应的赋型规则直接对应得来。</p><h2 id="测试项的例子">测试项的例子</h2><p>首先，我们复制之前介绍过的智能构造子 <code>S′</code>，使得访问语境中的变量更加便利：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-S′"></a><a id="plfa_plfa-part2-Inference-39875" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39878" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39880" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-39882" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39883" href="../Inference/#plfa_plfa-part2-Inference-39883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39885" href="../Inference/#plfa_plfa-part2-Inference-39885" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39887" href="../Inference/#plfa_plfa-part2-Inference-39887" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39889" href="../Inference/#plfa_plfa-part2-Inference-39889" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-39891" href="../Inference/#plfa_plfa-part2-Inference-39891" class="Bound">B</a><a id="plfa_plfa-part2-Inference-39892" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Inference-39897" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39899" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39900" href="../Inference/#plfa_plfa-part2-Inference-39900" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-39904" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39906" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4518" class="Function">False</a> <a id="plfa_plfa-part2-Inference-39912" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39913" href="../Inference/#plfa_plfa-part2-Inference-39885" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39915" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.String.Properties.html#2733" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-39917" href="../Inference/#plfa_plfa-part2-Inference-39887" class="Bound">y</a><a id="plfa_plfa-part2-Inference-39918" class="Symbol">)}</a>
   <a id="plfa_plfa-part2-Inference-39924" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39926" href="../Inference/#plfa_plfa-part2-Inference-39883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39928" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39930" href="../Inference/#plfa_plfa-part2-Inference-39885" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39932" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39934" href="../Inference/#plfa_plfa-part2-Inference-39889" class="Bound">A</a>
     <a id="plfa_plfa-part2-Inference-39941" class="Comment">------------------</a>
   <a id="plfa_plfa-part2-Inference-39963" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39965" href="../Inference/#plfa_plfa-part2-Inference-39883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39967" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-39969" href="../Inference/#plfa_plfa-part2-Inference-39887" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39971" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39973" href="../Inference/#plfa_plfa-part2-Inference-39891" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-39975" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39977" href="../Inference/#plfa_plfa-part2-Inference-39885" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39979" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39981" href="../Inference/#plfa_plfa-part2-Inference-39889" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-39984" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39987" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39988" class="Argument">x≢y</a> <a id="plfa_plfa-part2-Inference-39992" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39994" href="../Inference/#plfa_plfa-part2-Inference-39994" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39997" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-39999" href="../Inference/#plfa_plfa-part2-Inference-39999" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-40001" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40003" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-40005" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40006" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#5108" class="Function">toWitnessFalse</a> <a id="plfa_plfa-part2-Inference-40021" href="../Inference/#plfa_plfa-part2-Inference-39994" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-40024" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40026" href="../Inference/#plfa_plfa-part2-Inference-39999" class="Bound">x</a>
</pre><p>下面是给自然数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2"></a><a id="plfa_plfa-part2-Inference-40124" href="../Inference/#plfa_plfa-part2-Inference-40124" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40129" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40131" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40133" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-40135" href="../Inference/#plfa_plfa-part2-Inference-17849" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40139" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-40141" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-40144" href="../Inference/#plfa_plfa-part2-Inference-40124" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40149" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-40153" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40154" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a>
   <a id="plfa_plfa-part2-Inference-40160" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40161" href="../Inference/#plfa_plfa-part2-Inference-20018" class="InductiveConstructor">⊢μ</a>
    <a id="plfa_plfa-part2-Inference-40168" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40169" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-40177" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40178" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-40187" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40188" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-40194" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40195" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40198" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40199" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40202" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40203" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40206" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40207" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40210" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40211" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40214" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40215" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40217" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40221" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-40230" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40231" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a>
        <a id="plfa_plfa-part2-Inference-40244" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40245" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a>
         <a id="plfa_plfa-part2-Inference-40257" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40258" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a>
          <a id="plfa_plfa-part2-Inference-40271" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40272" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a>
           <a id="plfa_plfa-part2-Inference-40286" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40287" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a>
            <a id="plfa_plfa-part2-Inference-40302" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40303" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40306" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40307" class="Symbol">)))</a>
          <a id="plfa_plfa-part2-Inference-40321" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40323" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40326" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40327" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40330" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40331" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40333" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
          <a id="plfa_plfa-part2-Inference-40348" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40350" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40353" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40354" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40357" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40358" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40361" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40362" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40365" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40369" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-40380" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40384" class="Symbol">))))))</a>
   <a id="plfa_plfa-part2-Inference-40394" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40396" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40401" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40402" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40407" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40412" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Inference-40417" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40419" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40424" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40425" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40430" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40435" class="Symbol">))</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-40596" href="../Inference/#plfa_plfa-part2-Inference-40596" class="Function">_</a> <a id="plfa_plfa-part2-Inference-40598" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40600" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-40611" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40613" href="../Inference/#plfa_plfa-part2-Inference-17849" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40617" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-40619" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-40623" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-40625" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-40628" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-40630" href="../Inference/#plfa_plfa-part2-Inference-40124" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40635" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-40637" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-40639" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40641" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>的确，上述的推导是用左边的项求值所得的，再加上一些微小的修改。 所需的修改只是使用智能构造子 <code>S′</code> 来获取两个变量名（使用字符串）不同的证明（其无法打印或阅读）。</p><p>下面是给 Church 数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-41135" href="../Inference/#plfa_plfa-part2-Inference-41135" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41141" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41143" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41145" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-41147" href="../Inference/#plfa_plfa-part2-Inference-18453" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41152" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-41154" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-41157" href="../Inference/#plfa_plfa-part2-Inference-41135" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41163" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-41167" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a>
  <a id="plfa_plfa-part2-Inference-41172" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41173" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41179" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41180" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
    <a id="plfa_plfa-part2-Inference-41187" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41188" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-41196" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41197" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-41206" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41207" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a>
       <a id="plfa_plfa-part2-Inference-41217" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41218" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a>
        <a id="plfa_plfa-part2-Inference-41229" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41230" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a>
         <a id="plfa_plfa-part2-Inference-41242" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41243" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41256" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41257" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41260" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41261" class="Symbol">)))</a>
        <a id="plfa_plfa-part2-Inference-41273" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41275" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41278" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41279" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41282" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41283" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41286" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41287" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41290" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Inference-41303" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Inference-41313" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a>
        <a id="plfa_plfa-part2-Inference-41324" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41325" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a>
         <a id="plfa_plfa-part2-Inference-41337" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41338" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41351" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41352" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41355" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41356" class="Symbol">))</a>
         <a id="plfa_plfa-part2-Inference-41368" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41370" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41373" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41374" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41377" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41378" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41381" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41382" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41385" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
         <a id="plfa_plfa-part2-Inference-41399" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41401" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41404" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41405" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41408" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41409" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41411" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41415" class="Symbol">)</a>
        <a id="plfa_plfa-part2-Inference-41425" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41429" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-41438" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41442" class="Symbol">)))))</a>
  <a id="plfa_plfa-part2-Inference-41450" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41454" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41459" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41460" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41466" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41467" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41474" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41475" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41478" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41479" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41482" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41483" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41485" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41492" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41495" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41496" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41499" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41500" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41503" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41504" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41506" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41508" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41511" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41512" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41515" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41516" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41518" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41522" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41529" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41533" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41539" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41543" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41548" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41552" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41557" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41558" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41564" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41565" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41572" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41573" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41576" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41577" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41580" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41581" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41583" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41590" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41593" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41594" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41597" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41598" href="../Inference/#plfa_plfa-part2-Inference-39875" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41601" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41602" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41604" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41606" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41609" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41610" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41613" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41614" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41616" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41620" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41627" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41631" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41637" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41641" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41646" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41648" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-41651" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41652" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-41657" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41658" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41661" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41662" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41665" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41666" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41668" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41672" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41677" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41679" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-41843" href="../Inference/#plfa_plfa-part2-Inference-41843" class="Function">_</a> <a id="plfa_plfa-part2-Inference-41845" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41847" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-41858" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41860" href="../Inference/#plfa_plfa-part2-Inference-18453" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41865" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-41867" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-41871" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-41873" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-41876" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-41878" href="../Inference/#plfa_plfa-part2-Inference-41135" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41884" href="../Inference/#plfa_plfa-part2-Inference-14847" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-41886" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-41888" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-41890" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>同样，上面的推导使用对左手边的项求值所得，加上一些修改。</p><h2 id="测试错误的例子">测试错误的例子</h2><p>很重要的是，不仅要检查代码是否按照意图工作，以及代码是否按照意图不工作。 下面是检查不同种类错误的例子：</p><p>未约束的变量：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42332" href="../Inference/#plfa_plfa-part2-Inference-42332" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42334" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42336" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42347" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42349" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42351" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-42353" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-42357" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42359" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-42361" class="String">&quot;y&quot;</a> <a id="plfa_plfa-part2-Inference-42365" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-42366" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42368" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42370" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42371" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42374" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42376" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42378" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-42381" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42383" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42386" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42388" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42390" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42392" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>函数应用的参数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42474" href="../Inference/#plfa_plfa-part2-Inference-42474" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42476" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42478" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42489" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42491" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42492" href="../Inference/#plfa_plfa-part2-Inference-17658" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42497" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42499" href="../Inference/#plfa_plfa-part2-Inference-18409" class="Function">sucᶜ</a><a id="plfa_plfa-part2-Inference-42503" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42505" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42507" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42510" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42512" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42514" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42516" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42598" href="../Inference/#plfa_plfa-part2-Inference-42598" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42600" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42602" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42613" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42615" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42616" href="../Inference/#plfa_plfa-part2-Inference-17658" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42621" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42623" href="../Inference/#plfa_plfa-part2-Inference-18409" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-42628" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42630" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a><a id="plfa_plfa-part2-Inference-42633" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42635" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42637" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42640" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42642" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42644" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42646" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数是自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42732" href="../Inference/#plfa_plfa-part2-Inference-42732" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42734" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42736" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42747" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42749" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42751" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42755" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42757" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42759" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42761" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42763" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a><a id="plfa_plfa-part2-Inference-42766" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42768" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42770" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42773" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42775" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42777" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42779" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>抽象继承了自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42855" href="../Inference/#plfa_plfa-part2-Inference-42855" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42857" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42859" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42870" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42872" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42873" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-42878" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42880" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42882" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42884" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42886" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42889" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42891" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42893" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42895" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>零继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42965" href="../Inference/#plfa_plfa-part2-Inference-42965" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42967" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42969" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42980" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42982" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42983" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-42989" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42991" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42994" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42996" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42998" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43000" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43002" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43005" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43007" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43009" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43011" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>后继继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43087" href="../Inference/#plfa_plfa-part2-Inference-43087" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43089" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43091" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43102" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43104" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43105" href="../Inference/#plfa_plfa-part2-Inference-17621" class="Function">two</a> <a id="plfa_plfa-part2-Inference-43109" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43111" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43114" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43116" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43118" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43120" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43122" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43125" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43127" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43129" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43131" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>非良类型项的后继：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43202" href="../Inference/#plfa_plfa-part2-Inference-43202" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43204" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43206" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43217" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43219" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43220" href="../Inference/#plfa_plfa-part2-Inference-16892" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-43225" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43230" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43232" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43234" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43236" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43238" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43241" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43243" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43245" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43247" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>对函数类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43327" href="../Inference/#plfa_plfa-part2-Inference-43327" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43329" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43331" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43342" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43350" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43352" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43358" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43359" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43364" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43366" href="../Inference/#plfa_plfa-part2-Inference-18148" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-43368" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43370" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43377" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43383" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43388" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43392" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43394" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43396" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43400" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43402" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43404" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43406" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43408" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43410" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43412" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43414" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43417" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43419" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43421" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43423" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>对不良类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43493" href="../Inference/#plfa_plfa-part2-Inference-43493" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43495" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43497" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43508" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43516" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43518" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43524" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43525" href="../Inference/#plfa_plfa-part2-Inference-18184" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43530" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43532" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43534" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43536" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43543" href="../Inference/#plfa_plfa-part2-Inference-16857" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43549" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43554" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43558" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43560" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43562" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43566" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43568" href="../Inference/#plfa_plfa-part2-Inference-16935" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43570" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43572" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43574" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43576" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43578" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43580" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43583" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43585" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43587" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43589" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>变向时继承与生成的项不一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43687" href="../Inference/#plfa_plfa-part2-Inference-43687" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43689" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43691" href="../Inference/#plfa_plfa-part2-Inference-31181" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43702" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43704" class="Symbol">(((</a><a id="plfa_plfa-part2-Inference-43707" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-43709" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43713" href="../Inference/#plfa_plfa-part2-Inference-16809" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43715" href="../Inference/#plfa_plfa-part2-Inference-16650" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43717" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43721" href="../Inference/#plfa_plfa-part2-Inference-17047" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-43722" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43724" href="../Inference/#plfa_plfa-part2-Inference-16741" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43726" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43729" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43731" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43732" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43735" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43737" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43739" class="Symbol">)))</a> <a id="plfa_plfa-part2-Inference-43743" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43745" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43748" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43750" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43752" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43754" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h2 id="擦除">擦除</h2><p>从装饰过的项拥有正确的类型的证明中，我们可以简单地提取出对应的内在类型的项。 我们使用 <code>DB</code> 来指代 <a href="../DeBruijn/">DeBruijn</a> 章节中的代码。 我们可以简单地定义一个<strong>擦除</strong>（Erasure）从外在的赋型判断，至对应的内在类型的项的函数。</p><p>首先，我们给出擦除类型的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Tp"></a><a id="plfa_plfa-part2-Inference-44345" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥_∥Tp</a> <a id="plfa_plfa-part2-Inference-44351" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44353" href="../Inference/#plfa_plfa-part2-Inference-16144" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-44358" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44360" href="../More/#plfa_plfa-part2-More-21253" class="Datatype">DB.Type</a>
<a id="plfa_plfa-part2-Inference-44368" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44370" href="../Inference/#plfa_plfa-part2-Inference-16163" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-44373" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>             <a id="plfa_plfa-part2-Inference-44389" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44392" href="../More/#plfa_plfa-part2-More-21272" class="InductiveConstructor">DB.`ℕ</a>
<a id="plfa_plfa-part2-Inference-44398" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44400" href="../Inference/#plfa_plfa-part2-Inference-44400" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44402" href="../Inference/#plfa_plfa-part2-Inference-16178" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-44404" href="../Inference/#plfa_plfa-part2-Inference-44404" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44406" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>          <a id="plfa_plfa-part2-Inference-44419" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44422" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44424" href="../Inference/#plfa_plfa-part2-Inference-44400" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44426" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a> <a id="plfa_plfa-part2-Inference-44430" href="../More/#plfa_plfa-part2-More-21287" class="InductiveConstructor Operator">DB.⇒</a> <a id="plfa_plfa-part2-Inference-44435" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44437" href="../Inference/#plfa_plfa-part2-Inference-44404" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44439" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>
</pre><p>它简单地把对应的构造子重命名至 <code>DB</code> 模块中。</p><p>接下来，我们给出擦除语境的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Cx"></a><a id="plfa_plfa-part2-Inference-44632" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥_∥Cx</a> <a id="plfa_plfa-part2-Inference-44638" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44640" href="../Inference/#plfa_plfa-part2-Inference-16211" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-44648" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44650" href="../More/#plfa_plfa-part2-More-21407" class="Datatype">DB.Context</a>
<a id="plfa_plfa-part2-Inference-44661" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44663" href="../Inference/#plfa_plfa-part2-Inference-16233" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-44665" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a>              <a id="plfa_plfa-part2-Inference-44682" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44685" href="../More/#plfa_plfa-part2-More-21429" class="InductiveConstructor">DB.∅</a>
<a id="plfa_plfa-part2-Inference-44690" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44692" href="../Inference/#plfa_plfa-part2-Inference-44692" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44694" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-44696" href="../Inference/#plfa_plfa-part2-Inference-44696" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44698" href="../Inference/#plfa_plfa-part2-Inference-16251" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44700" href="../Inference/#plfa_plfa-part2-Inference-44700" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44702" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a>      <a id="plfa_plfa-part2-Inference-44711" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44714" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44716" href="../Inference/#plfa_plfa-part2-Inference-44692" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44718" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44722" href="../More/#plfa_plfa-part2-More-21445" class="InductiveConstructor Operator">DB.,</a> <a id="plfa_plfa-part2-Inference-44727" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44729" href="../Inference/#plfa_plfa-part2-Inference-44700" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44731" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>
</pre><p>它简单地丢弃了变量名。</p><p>接下来，我们给出擦除查询判断的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥∋"></a><a id="plfa_plfa-part2-Inference-44888" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥_∥∋</a> <a id="plfa_plfa-part2-Inference-44893" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44895" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-44897" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-44898" href="../Inference/#plfa_plfa-part2-Inference-44898" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44900" href="../Inference/#plfa_plfa-part2-Inference-44900" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44902" href="../Inference/#plfa_plfa-part2-Inference-44902" class="Bound">A</a><a id="plfa_plfa-part2-Inference-44903" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-44905" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44907" href="../Inference/#plfa_plfa-part2-Inference-44898" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44909" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-44911" href="../Inference/#plfa_plfa-part2-Inference-44900" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44913" href="../Inference/#plfa_plfa-part2-Inference-18896" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44915" href="../Inference/#plfa_plfa-part2-Inference-44902" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44917" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44919" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44921" href="../Inference/#plfa_plfa-part2-Inference-44898" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44923" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44927" href="../More/#plfa_plfa-part2-More-21555" class="Datatype Operator">DB.∋</a> <a id="plfa_plfa-part2-Inference-44932" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44934" href="../Inference/#plfa_plfa-part2-Inference-44902" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44936" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-44940" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44942" href="../Inference/#plfa_plfa-part2-Inference-18939" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-44944" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥∋</a>               <a id="plfa_plfa-part2-Inference-44961" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44964" href="../More/#plfa_plfa-part2-More-21591" class="InductiveConstructor">DB.Z</a>
<a id="plfa_plfa-part2-Inference-44969" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44971" href="../Inference/#plfa_plfa-part2-Inference-19004" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-44973" href="../Inference/#plfa_plfa-part2-Inference-44973" class="Bound">x≢</a> <a id="plfa_plfa-part2-Inference-44976" href="../Inference/#plfa_plfa-part2-Inference-44976" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44979" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥∋</a>         <a id="plfa_plfa-part2-Inference-44990" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44993" href="../More/#plfa_plfa-part2-More-21638" class="InductiveConstructor Operator">DB.S</a> <a id="plfa_plfa-part2-Inference-44998" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45000" href="../Inference/#plfa_plfa-part2-Inference-44976" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-45003" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥∋</a>
</pre><p>它简单地丢弃了变量名不同的证明。</p><p>最后，我们给出擦除赋型判断的代码。 正如由两个共同递归的赋型判断，我们有两个共同递归的擦除函数：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥⁺"></a><a id="plfa_plfa-part2-Inference-45335" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥_∥⁺</a> <a id="plfa_plfa-part2-Inference-45340" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45342" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45344" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45345" href="../Inference/#plfa_plfa-part2-Inference-45345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45347" href="../Inference/#plfa_plfa-part2-Inference-45347" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45349" href="../Inference/#plfa_plfa-part2-Inference-45349" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45350" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45352" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45354" href="../Inference/#plfa_plfa-part2-Inference-45345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45356" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45358" href="../Inference/#plfa_plfa-part2-Inference-45347" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45360" href="../Inference/#plfa_plfa-part2-Inference-19244" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-45362" href="../Inference/#plfa_plfa-part2-Inference-45349" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45364" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45366" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45368" href="../Inference/#plfa_plfa-part2-Inference-45345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45370" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45374" href="../More/#plfa_plfa-part2-More-22697" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45379" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45381" href="../Inference/#plfa_plfa-part2-Inference-45349" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45383" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-∥_∥⁻"></a><a id="plfa_plfa-part2-Inference-45387" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥_∥⁻</a> <a id="plfa_plfa-part2-Inference-45392" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45394" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45396" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45397" href="../Inference/#plfa_plfa-part2-Inference-45397" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45399" href="../Inference/#plfa_plfa-part2-Inference-45399" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45401" href="../Inference/#plfa_plfa-part2-Inference-45401" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45402" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45404" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45406" href="../Inference/#plfa_plfa-part2-Inference-45397" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45408" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45410" href="../Inference/#plfa_plfa-part2-Inference-45399" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45412" href="../Inference/#plfa_plfa-part2-Inference-19286" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-45414" href="../Inference/#plfa_plfa-part2-Inference-45401" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45416" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45418" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45420" href="../Inference/#plfa_plfa-part2-Inference-45397" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45422" href="../Inference/#plfa_plfa-part2-Inference-44632" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45426" href="../More/#plfa_plfa-part2-More-22697" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45431" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45433" href="../Inference/#plfa_plfa-part2-Inference-45401" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45435" href="../Inference/#plfa_plfa-part2-Inference-44345" class="Function Operator">∥Tp</a>

<a id="plfa_plfa-part2-Inference-45440" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45442" href="../Inference/#plfa_plfa-part2-Inference-19344" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-45445" href="../Inference/#plfa_plfa-part2-Inference-45445" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45448" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45461" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45464" href="../More/#plfa_plfa-part2-More-22742" class="InductiveConstructor Operator">DB.`</a> <a id="plfa_plfa-part2-Inference-45469" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45471" href="../Inference/#plfa_plfa-part2-Inference-45445" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45474" href="../Inference/#plfa_plfa-part2-Inference-44888" class="Function Operator">∥∋</a>
<a id="plfa_plfa-part2-Inference-45477" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45479" href="../Inference/#plfa_plfa-part2-Inference-45479" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45482" href="../Inference/#plfa_plfa-part2-Inference-19414" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-45484" href="../Inference/#plfa_plfa-part2-Inference-45484" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45487" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a>         <a id="plfa_plfa-part2-Inference-45498" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45501" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45503" href="../Inference/#plfa_plfa-part2-Inference-45479" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45506" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45509" href="../More/#plfa_plfa-part2-More-22871" class="InductiveConstructor Operator">DB.·</a> <a id="plfa_plfa-part2-Inference-45514" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45516" href="../Inference/#plfa_plfa-part2-Inference-45484" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45519" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45522" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45524" href="../Inference/#plfa_plfa-part2-Inference-19513" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-45527" href="../Inference/#plfa_plfa-part2-Inference-45527" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45530" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45543" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45546" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45548" href="../Inference/#plfa_plfa-part2-Inference-45527" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45551" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>

<a id="plfa_plfa-part2-Inference-45555" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45557" href="../Inference/#plfa_plfa-part2-Inference-19609" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-45560" href="../Inference/#plfa_plfa-part2-Inference-45560" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45563" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45576" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45579" href="../More/#plfa_plfa-part2-More-22803" class="InductiveConstructor Operator">DB.ƛ</a> <a id="plfa_plfa-part2-Inference-45584" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45586" href="../Inference/#plfa_plfa-part2-Inference-45560" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45589" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45592" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45594" href="../Inference/#plfa_plfa-part2-Inference-19707" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-45600" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45613" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45616" href="../More/#plfa_plfa-part2-More-22956" class="InductiveConstructor">DB.`zero</a>
<a id="plfa_plfa-part2-Inference-45625" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45627" href="../Inference/#plfa_plfa-part2-Inference-19766" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-45632" href="../Inference/#plfa_plfa-part2-Inference-45632" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45635" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>         <a id="plfa_plfa-part2-Inference-45646" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45649" href="../More/#plfa_plfa-part2-More-22999" class="InductiveConstructor Operator">DB.`suc</a> <a id="plfa_plfa-part2-Inference-45657" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45659" href="../Inference/#plfa_plfa-part2-Inference-45632" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45662" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45665" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45667" href="../Inference/#plfa_plfa-part2-Inference-19845" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-45673" href="../Inference/#plfa_plfa-part2-Inference-45673" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45676" href="../Inference/#plfa_plfa-part2-Inference-45676" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45679" href="../Inference/#plfa_plfa-part2-Inference-45679" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45682" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>  <a id="plfa_plfa-part2-Inference-45686" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45689" href="../More/#plfa_plfa-part2-More-23055" class="InductiveConstructor">DB.case</a> <a id="plfa_plfa-part2-Inference-45697" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45699" href="../Inference/#plfa_plfa-part2-Inference-45673" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45702" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45705" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45707" href="../Inference/#plfa_plfa-part2-Inference-45676" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45710" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a> <a id="plfa_plfa-part2-Inference-45713" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45715" href="../Inference/#plfa_plfa-part2-Inference-45679" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45718" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45721" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45723" href="../Inference/#plfa_plfa-part2-Inference-20018" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-45726" href="../Inference/#plfa_plfa-part2-Inference-45726" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45729" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45742" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45745" href="../More/#plfa_plfa-part2-More-23149" class="InductiveConstructor Operator">DB.μ</a> <a id="plfa_plfa-part2-Inference-45750" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45752" href="../Inference/#plfa_plfa-part2-Inference-45726" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45755" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45758" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45760" href="../Inference/#plfa_plfa-part2-Inference-20108" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-45763" href="../Inference/#plfa_plfa-part2-Inference-45763" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45766" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-45771" href="../Inference/#plfa_plfa-part2-Inference-45387" class="Function Operator">∥⁻</a>      <a id="plfa_plfa-part2-Inference-45779" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45782" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45784" href="../Inference/#plfa_plfa-part2-Inference-45763" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45787" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a>
</pre><p>擦除将每个赋型判断中的构造子替换成 <code>DB</code> 中对应的项构造子。 对应变向的构造子被丢弃。</p><p>我们证实本章中的赋型判断擦除后，与之前使用内在类型项章节中的那些一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46259" href="../Inference/#plfa_plfa-part2-Inference-46259" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46261" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46263" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46265" href="../Inference/#plfa_plfa-part2-Inference-40124" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-46270" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46273" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46275" href="../More/#plfa_plfa-part2-More-40182" class="Function">DB.2+2</a>
<a id="plfa_plfa-part2-Inference-46282" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46284" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46286" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-46292" href="../Inference/#plfa_plfa-part2-Inference-46292" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46294" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46296" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46298" href="../Inference/#plfa_plfa-part2-Inference-41135" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-46304" href="../Inference/#plfa_plfa-part2-Inference-45335" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46307" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46309" href="../More/#plfa_plfa-part2-More-40466" class="Function">DB.2+2ᶜ</a>
<a id="plfa_plfa-part2-Inference-46317" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46319" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46321" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>因此，我们证实了双向类型推理把装饰后的 <a href="../Lambda/">Lambda</a> 章节的 λ 项转换至 <a href="../DeBruijn">DeBruijn</a> 章节中内在类型的项。</p><h4 id="练习-inference-multiplication-推荐">练习 <code>inference-multiplication</code> （推荐）</h4><p>对你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的乘法项应用双向推理， 并证明推理得到的赋型可以擦除至 <a href="../DeBruijn/">DeBruijn</a> 章节中你的定义。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47130" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-inference-products-推荐">练习 <code>inference-products</code> （推荐）</h4><p>使用你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的赋型规则， 将双向推理扩充至包括积。此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47519" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-inference-rest-延伸">练习 <code>inference-rest</code> （延伸）</h4><p>使用你从练习 <a href="../Inference/#bidirectional-rest"><code>bidirectional-rest</code></a> 中得到的规则，扩充双向推导规则，来包括 <a href="../More/">More</a> 章节的剩余构造。 此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47960" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="agda-中的双向推理">Agda 中的双向推理</h2><p>Agda 本身也使用双向推理。 这解释了为什么构造子可以被重载，而其他定义的名称不可以——此处的<strong>重载</strong>指的是我们可以给不同类型的构造子使用相同的名称。 构造子是由继承来赋型，而变量由生成来赋型，因此每个变量必须有唯一的类型。</p><p>Agda 中多数的顶层声明时函数，其由继承来赋型，也就是为什么 Agda 会对这些定义要求类型声明。 一个由生成赋型的右手边的定义，比如说函数应用，则不需要类型声明。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-answer"></a><a id="plfa_plfa-part2-Inference-48969" href="../Inference/#plfa_plfa-part2-Inference-48969" class="Function">answer</a> <a id="plfa_plfa-part2-Inference-48976" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-48978" class="Number">6</a> <a id="plfa_plfa-part2-Inference-48980" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="plfa_plfa-part2-Inference-48982" class="Number">7</a>
</pre><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>↓  U+2193:  DOWNWARDS ARROW (\d)
↑  U+2191:  UPWARDS ARROW (\u)
∥  U+2225:  PARALLEL TO (\||)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：Fangyi Zhou<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer><script src="../assets/js/ruby-tags.js" integrity="sha512-ohLx3ydhHH5A2SRALHSSKZ1WRfgHk35NR9ef+bnxc1XgZCXDRYG5oNYdx2STnACcshdWXXnPjb5doJLM6Zhaew==" id="script-ruby-tags"></script></body></html>