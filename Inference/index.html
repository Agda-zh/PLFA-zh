<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Inference</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Inference: 双向类型推理</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Inference-122" class="Keyword">module</a> <a id="plfa_plfa-part2-Inference-129" href="../Inference/#" class="Module">plfa.part2.Inference</a> <a id="plfa_plfa-part2-Inference-150" class="Keyword">where</a>
</pre><p>在本书至此的进展中，项的类型推导是如法令一般直接给出的。 在 <a href="../Lambda/">Lambda</a> 章节，类型推导以外在于项的形式给出， 而在 <a href="../DeBruijn/">DeBruijn</a> 章节，类型推导以内在于项的形式给出， 但在两者均要求我们将类型推导完全写出。</p><p>在实践中，我们一般可以给项加上一些装饰，然后运用算法来<strong>推理</strong>（Infer）出类型推导。 的确，Agda 中也是这样：我们给顶层的函数声明指定类型，而其余可由给出的信息推理而来。 Agda 使用的这种推理被称为<strong>双向</strong>（Bidirectional）类型推理，我们将在本章中进行展示。</p><p>本章中，我们讲之前的进展结合在一起。 我们首先由带有类型注释的项开始，其与 <a href="../Lambda/">Lambda</a> 章节中的源项相似， 从此我们计算出内在类型的项，如同 <a href="../DeBruijn">DeBruijn</a> 章节中那样。</p><h2 id="algorithms">绪论：推理规则作为算法</h2><p>在我们至此使用的演算中，一个项可以有多于一个类型。例如，</p><pre><code>(ƛ x ⇒ x) ⦂ (A ⇒ A)</code></pre><p>对于<strong>任意</strong>类型 <code>A</code> 成立。 我们首先考虑一个带有 λ 项的小语言，其每一项有其唯一的类型。 我们只需要给抽象加上参数的类型。 这样我们可以得到如下的语法：</p><pre><code>L, M, N ::=                         带装饰的项
  x                                   变量
  ƛ x ⦂ A ⇒ N                         抽象（装饰后）
  L · M                               应用</code></pre><p>每一条相关的赋型规则可以被读作类型检查的算法。 对于每一条赋型规则，我们将每个位置标记如<strong>输入</strong>（Input）或者<strong>输出</strong>（Output）。</p><p>对于下面的判断</p><pre><code>Γ ∋ x ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和变量 <code>x</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>----------------- Z
Γ , x ⦂ A ∋ x ⦂ A

Γ ∋ x ⦂ A
----------------- S
Γ , y ⦂ B ∋ x ⦂ A</code></pre><p>从输入中，我们可以决定应用哪一条规则： 如果语境中最后一个变量与给定的变量一致，那么应用第一条规则，否则应用第二条。 （对于 de Bruijn 因子来说，这更加简单：零对应第一条，后继对应第二条。） 对于第一条，输出类型可以直接从语境中得到。 对于第二条，结论中的输入可以作为假设的输入，而假设的输出决定了结论的输出。</p><p>对于下面的判断：</p><pre><code>Γ ⊢ M ⦂ A</code></pre><p>我们将语境 <code>Γ</code> 和项 <code>M</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>Γ ∋ x ⦂ A
-----------
Γ ⊢ ` x ⦂ A

Γ , x ⦂ A ⊢ N ⦂ B
---------------------------
Γ ⊢ (ƛ x ⦂ A ⇒ N) ⦂ (A ⇒ B)

Γ ⊢ L ⦂ A ⇒ B
Γ ⊢ M ⦂ A′
A ≡ A′
-------------
Γ ⊢ L · M ⦂ B</code></pre><p>输入项决定了应用哪一条规则： 变量使用第一条，抽象使用第二条，应用使用第三条。 我们把这样的规则叫做<strong>语法导向的</strong>（Syntax directed）规则。 对于变量的规则，结论的输入决定了结论的输出。 抽象的规则也是一样——约束变量和参数从结论的输入流向假设中的语境； 这得以实现，因为我们在抽象中加入了参数的类型。 对于应用的规则，我们加入第三条假设来检查函数类型中的作用域是否与参数的类型一致； 这条判断是在两个类型已知时是可判定的。 结论的输入决定了前两个假设的输入，而前两个假设的输出决定了第三个假设的输入，而第一个假设的输出决定了结论的输出。</p><p>我们可以直接地把上述内容转换成一个算法，加入自然数和不动点也很直接。我们省略其明细。 取而代之的是，我们考虑一种需要更少装饰的表示方法。 其核心思想是将普通的赋型判断拆分成两个判断，一个生成类型作为输出，另一个取类型作为输入。</p><h2 id="生成和继承类型">生成和继承类型</h2><p>我们保留之前的变量的查询判断。除此之外，我们有两种联系类型和项的判断：</p><pre><code>Γ ⊢ M ↑ A
Γ ⊢ M ↓ A</code></pre><p>第一类判断<strong>生成</strong>（Synthesise）项的类型，如上，而第二类<strong>继承</strong>（Inherit）类型。 在第一类中，语境和项作为输入，类型作为输出； 而在第二类中，语境、项和类型三者都作为输入。</p><p>什么项生成类型，什么项继承类型的？ 我们的宗旨是<strong>解构子</strong>中的主项使用生成来赋型，而<strong>构造子</strong>使用继承。 比如，函数应用中的函数由生成来赋型，而抽象是由继承来赋型。 抽象中继承的类型和之前我们为参数额外增加的注解起到一样的作用。</p><p>解构某一类型的值的项总有一个主项（提供一个所需类型的参数），且经常有副项。 对于函数应用来说，主项提供了函数，副项提供了参数。 对于分情况讨论来说，主项提供了自然数，副项则是两种情况不同的情况。 在解构子中，主项使用生成进行赋型，而副项使用继承进行赋型。 我们将看到，这自然地导致函数应用作为整体由生成进行赋型，而分情况讨论作为整体则使用继承进行赋型。 变量一般使用生成进行赋型，因为我们可以直接从语境中查询其类型。 不动点自然是用继承来赋型。</p><p>为了达成赋型系统的语法导向性，我们将项分为两类： <code>Term⁺</code> 和 <code>Term⁻</code>，分别用生成和继承来赋型。 由生成赋型的子项可能出现在由继承赋型的子项中，反之亦然，这给我们带来两种新形式。</p><p>例如，我们之前提到函数应用的参数由继承赋型，而变量由生成赋型。 在参数是变量时会出现不匹配的情况。 因此，我们需要一种把生成的项当作继承的项的方法。 我们引入 <code>M ↑</code> 这种新的形式来达成此目的。 它的赋型判断即为检查其生成和继承的类型是否一致。</p><p>同样，函数应用的函数部分由生成来赋型，而抽象是由继承来赋型。 在函数是抽象时会出现不匹配的情况。 因此，我们需要一种把继承的项当作生成的项的方法。 我们引入 <code>M ↓ A</code> 这种新的形式来达成此目的。 它的赋型判断返回 <code>A</code> 作为生成的类型，并把它作为 <code>M</code> 继承的类型。</p><p><code>M ↓ A</code> 这种形式表示了我们唯一需要用类型来装饰的项。 它只在从生成切换成继承时出现， 即当一个<strong>解构</strong>某一类型的值的项的主项中包含了一个<strong>构造</strong>某一类型的值的时候， 也就是说，这是在 <code>β</code> 归约发生的地方出现。 一般来说，我们只需要在顶层声明中需要这样的装饰。</p><p>我们可以从上文中提取出项的语法：</p><pre><code>L⁺, M⁺, N⁺ ::=                      带有生成类型的项
  x                                   变量
  L⁺ · M⁻                             应用
  M⁻ ↓ A                              切换至继承

L⁻, M⁻, N⁻ ::=                      带有继承类型的项
  ƛ x ⇒ N⁻                            抽象
  `zero                               零
  `suc M⁻                             后继
  case L⁺ [zero⇒ M⁻ |suc x ⇒ N⁻ ]     分情况讨论
  μ x ⇒ N⁻                            不动点
  M⁺ ↑                                切换至生成</code></pre><p>我们将在下文中形式化上述定义。</p><h2 id="可靠性和完备性">可靠性和完备性</h2><p>我们试图证明赋型判断是<strong>可判定</strong>的：</p><pre><code>synthesize : ∀ (Γ : Context) (M : Term⁺)
    ------------------------------------
  → Dec (∃[ A ] Γ ⊢ M ↑ A)

inherit : ∀ (Γ : Context) (M : Term⁻) (A : Type)
          --------------------------------------
        → Dec (Γ ⊢ M ↓ A)</code></pre><p>给定语境 <code>Γ</code> 和生成项 <code>M</code>，我们必须判定是否存在一个类型 <code>A</code> 使得 <code>Γ ⊢ M ↑ A</code> 成立， 或者其否定。 同样，给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code>，我们必须判定 <code>Γ ⊢ M ↓ A</code> 成立，或者其否定。</p><p>我们的证明是构造性的。 在生成的情况中，它要么给出一个包括类型 <code>A</code> 和 <code>Γ ⊢ M ↓ A</code> 成立的证明的有序对，或是一个将上述有序对转换成矛盾的函数。 在继承的情况中，它要么给出 <code>Γ ⊢ M ↑ A</code> 成立的证明，或是一个将上述证明转换成矛盾的函数。 成立的情况被称为<strong>可靠性</strong>（Soundness）——生成和继承只在对应关系成立时成功。 不成立的情况被称为<strong>完备性</strong>（Completeness）——生成和继承只在对应关系无法成立时失败。</p><p>另一种实现方法可能在生成或继承成功时返回其推导，并在失败时返回一条错误信息——例如， 参见 Agda 用户手册中讨论<a href="https://agda.readthedocs.io/en/latest/language/syntactic-sugar.html#example">语法糖</a>的章节。 这样的方法可以实现可靠性，而不是完备性。 如果其返回一个推导，那么我们知道它是正确的； 但没有人阻挡我们来给出一个<strong>总是</strong>返回错误的函数，即使正确的推导存在。 证明可靠性和完备性两者比起单独证明可靠性一者更加有力。 其反向的证明可以被看作是一个语义上验证过的错误信息，即便它本身比仔细撰写的错误信息更让人难懂。</p><p>我们现在可以开始正式的形式化了：</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Inference-14551" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14558" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Inference-14596" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-14599" class="Module">Eq</a>
<a id="plfa_plfa-part2-Inference-14602" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14607" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Inference-14610" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14616" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14617" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Inference-14620" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14622" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-14626" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14628" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Inference-14631" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14633" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="plfa_plfa-part2-Inference-14638" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14640" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Inference-14644" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14646" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Inference-14651" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14653" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part2-Inference-14656" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14658" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14663" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14670" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Inference-14681" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14687" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14688" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Inference-14689" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14691" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Inference-14697" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14699" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14704" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14711" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Inference-14720" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14726" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14727" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Inference-14728" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14730" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Inference-14734" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14736" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Inference-14739" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14741" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#319" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Inference-14744" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14746" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">_*_</a><a id="plfa_plfa-part2-Inference-14749" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14751" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14756" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14763" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="plfa_plfa-part2-Inference-14775" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14781" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14782" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a><a id="plfa_plfa-part2-Inference-14788" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14790" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="plfa_plfa-part2-Inference-14793" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14795" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14800" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14807" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Inference-14820" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14826" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14827" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Inference-14830" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14832" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Inference-14833" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14835" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Inference-14843" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-14845" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Inference-14854" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14855" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Inference-14859" class="Symbol">to</a> <a id="plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Inference-14867" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14869" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14874" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14881" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Inference-14898" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14904" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14905" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Inference-14907" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14909" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="plfa_plfa-part2-Inference-14912" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14914" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Inference-14917" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14919" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Inference-14921" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14923" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14928" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14935" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Inference-14962" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14968" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14969" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="plfa_plfa-part2-Inference-14974" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14976" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="plfa_plfa-part2-Inference-14990" class="Symbol">)</a>
</pre><p>当我们有一个赋型推导时，从它构造出内在类型的表示方法更加方便。 为了与我们之前的结果进行比较，我们导入模块 <code>plfa.part2.More</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15295" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-15302" href="../More/#" class="Module">plfa.part2.More</a> <a id="plfa_plfa-part2-Inference-15318" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-15321" class="Module">DB</a>
</pre><p><code>as DB</code> 这个词组让我们可以用例如 <code>DB._⊢_</code> 的方法来指代其中的定义， 我们用 <code>Γ DB.⊢ A</code> 来使用它，其中 <code>Γ</code> 的类型是 <code>DB.Context</code>， <code>A</code> 的类型是 <code>DB.Type</code>。</p><h2 id="语法">语法</h2><p>首先，我们来定义中缀声明。 我们将判断和项的运算符分别列出：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15827" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15835" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15838" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">_∋_⦂_</a>
<a id="plfa_plfa-part2-Inference-15844" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15852" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15855" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">_⊢_↑_</a>
<a id="plfa_plfa-part2-Inference-15861" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15869" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15872" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">_⊢_↓_</a>
<a id="plfa_plfa-part2-Inference-15878" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15886" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15889" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">_,_⦂_</a>

<a id="plfa_plfa-part2-Inference-15896" class="Keyword">infixr</a>  <a id="plfa_plfa-part2-Inference-15904" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15907" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">_⇒_</a>

<a id="plfa_plfa-part2-Inference-15912" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15920" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15923" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15928" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15936" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15939" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">μ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15944" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15952" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15955" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">_↑</a>
<a id="plfa_plfa-part2-Inference-15958" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15966" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15969" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">_↓_</a>
<a id="plfa_plfa-part2-Inference-15973" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15981" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15984" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">_·_</a>
<a id="plfa_plfa-part2-Inference-15988" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15996" class="Number">8</a>  <a id="plfa_plfa-part2-Inference-15999" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc_</a>
<a id="plfa_plfa-part2-Inference-16005" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16013" class="Number">9</a>  <a id="plfa_plfa-part2-Inference-16016" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`_</a>
</pre><p>标识符、类型和语境与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Id"></a><a id="plfa_plfa-part2-Inference-16107" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16110" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16112" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16116" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16119" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-16121" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a>

<a id="plfa_plfa-part2-Inference-16129" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Type"></a><a id="plfa_plfa-part2-Inference-16134" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16139" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16141" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16145" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Type.`ℕ"></a><a id="plfa_plfa-part2-Inference-16153" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>    <a id="plfa_plfa-part2-Inference-16159" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16161" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a>
  <a id="plfa_plfa-part2-Inference-Type._⇒_"></a><a id="plfa_plfa-part2-Inference-16168" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">_⇒_</a>   <a id="plfa_plfa-part2-Inference-16174" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16176" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16181" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16183" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16188" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16190" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a>

<a id="plfa_plfa-part2-Inference-16196" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Context"></a><a id="plfa_plfa-part2-Inference-16201" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16209" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16211" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16215" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Context.∅"></a><a id="plfa_plfa-part2-Inference-16223" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a>     <a id="plfa_plfa-part2-Inference-16229" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16231" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Inference-Context._,_⦂_"></a><a id="plfa_plfa-part2-Inference-16241" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">_,_⦂_</a> <a id="plfa_plfa-part2-Inference-16247" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16249" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16257" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16259" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16262" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16264" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16269" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16271" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a>
</pre><p>项的语法由共同递归来定义。 我们用 <code>Term⁺</code> 和 <code>Term⁻</code> 来分别表示生成和继承的项。 注意我们包括了变向的形式 <code>M ↓ A</code> 和 <code>M ↑</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-16586" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁺"></a><a id="plfa_plfa-part2-Inference-16591" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16597" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16599" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16603" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁻"></a><a id="plfa_plfa-part2-Inference-16608" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16614" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16616" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-16621" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16626" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16632" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁺.`_"></a><a id="plfa_plfa-part2-Inference-16640" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`_</a>                       <a id="plfa_plfa-part2-Inference-16665" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16667" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16670" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16672" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._·_"></a><a id="plfa_plfa-part2-Inference-16680" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">_·_</a>                      <a id="plfa_plfa-part2-Inference-16705" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16707" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16713" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16715" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16721" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16723" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._↓_"></a><a id="plfa_plfa-part2-Inference-16731" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">_↓_</a>                      <a id="plfa_plfa-part2-Inference-16756" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16758" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16764" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16766" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16771" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16773" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>

<a id="plfa_plfa-part2-Inference-16780" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16785" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16791" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.ƛ_⇒_"></a><a id="plfa_plfa-part2-Inference-16799" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16824" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16826" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16829" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16831" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16837" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16839" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`zero"></a><a id="plfa_plfa-part2-Inference-16847" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a>                    <a id="plfa_plfa-part2-Inference-16872" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16874" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`suc_"></a><a id="plfa_plfa-part2-Inference-16882" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc_</a>                    <a id="plfa_plfa-part2-Inference-16907" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16909" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16915" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16917" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="plfa_plfa-part2-Inference-16925" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="plfa_plfa-part2-Inference-16950" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16952" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16958" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16960" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16966" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16968" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16971" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16973" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16979" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16981" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.μ_⇒_"></a><a id="plfa_plfa-part2-Inference-16989" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-17014" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17016" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-17019" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17021" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-17027" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17029" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻._↑"></a><a id="plfa_plfa-part2-Inference-17037" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">_↑</a>                       <a id="plfa_plfa-part2-Inference-17062" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17064" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-17070" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17072" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
</pre><p>至于每个项是由继承或者生成来赋型，我们在上文中已经讨论过，并且可以直接上文的非形式化语法中直接得来。 解构子中的主项由生成赋型，解构子中的构造子和副项由继承赋型。</p><h2 id="项的例子">项的例子</h2><p>我们重新给出前几章中的例子。 首先，计算自然数二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-two"></a><a id="plfa_plfa-part2-Inference-17611" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17615" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17617" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-17623" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17627" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17629" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17634" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17635" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17640" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a><a id="plfa_plfa-part2-Inference-17645" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plus"></a><a id="plfa_plfa-part2-Inference-17648" href="../Inference/#plfa_plfa-part2-Inference-17648" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17653" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17655" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17661" href="../Inference/#plfa_plfa-part2-Inference-17648" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17666" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17668" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17669" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-17671" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17675" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17677" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17679" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17683" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17685" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17687" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17691" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a>
          <a id="plfa_plfa-part2-Inference-17703" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-17709" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17710" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17712" class="String">&quot;m&quot;</a><a id="plfa_plfa-part2-Inference-17715" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17717" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-17724" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17726" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17730" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a>
                        <a id="plfa_plfa-part2-Inference-17756" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-17761" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17765" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17767" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17772" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17773" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17775" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17779" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17781" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17782" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17784" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17788" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17789" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17791" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17793" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17794" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17796" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17800" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17801" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17803" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17804" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17806" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-17807" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Inference-17821" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-17823" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17824" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17827" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17829" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17832" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17834" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-17836" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2"></a><a id="plfa_plfa-part2-Inference-17839" href="../Inference/#plfa_plfa-part2-Inference-17839" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17843" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17845" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17851" href="../Inference/#plfa_plfa-part2-Inference-17839" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17855" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17857" href="../Inference/#plfa_plfa-part2-Inference-17648" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17862" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17864" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17868" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17870" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a>
</pre><p>唯一的变化是我们需要在需要时加入上下箭头。唯一的类型注释出现在 <code>plus</code>。</p><p>接下来，计算 Church 数的二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Ch"></a><a id="plfa_plfa-part2-Inference-18138" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18141" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18143" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a>
<a id="plfa_plfa-part2-Inference-18148" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18151" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18153" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18154" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18157" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18159" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-18161" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18163" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18165" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18168" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18170" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>

<a id="plfa_plfa-part2-Inference-twoᶜ"></a><a id="plfa_plfa-part2-Inference-18174" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18179" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18181" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18187" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18192" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18194" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18195" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18197" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18201" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18203" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18205" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18209" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18211" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18213" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18217" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18219" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18220" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18222" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18226" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18228" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18229" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18231" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18235" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18236" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18238" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18239" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18241" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18242" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plusᶜ"></a><a id="plfa_plfa-part2-Inference-18245" href="../Inference/#plfa_plfa-part2-Inference-18245" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18251" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18253" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18259" href="../Inference/#plfa_plfa-part2-Inference-18245" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18265" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18267" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18268" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18270" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18274" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18276" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18278" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18282" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18284" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18286" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18290" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18292" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18294" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18298" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a>
           <a id="plfa_plfa-part2-Inference-18311" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18313" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18317" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18319" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18320" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18322" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18326" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18327" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18329" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18331" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18332" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18334" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18338" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18340" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18341" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18343" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18347" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18348" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18350" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18352" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18353" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18355" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18359" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18360" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18362" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18363" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18365" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18366" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-18381" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-18383" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18384" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18387" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18389" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18392" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18394" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-18396" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-sucᶜ"></a><a id="plfa_plfa-part2-Inference-18399" href="../Inference/#plfa_plfa-part2-Inference-18399" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18404" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18406" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18412" href="../Inference/#plfa_plfa-part2-Inference-18399" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18417" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18419" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18421" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18425" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18427" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-18432" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18433" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18435" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18439" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18440" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-18443" href="../Inference/#plfa_plfa-part2-Inference-18443" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18448" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18450" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18456" href="../Inference/#plfa_plfa-part2-Inference-18443" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18461" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18463" href="../Inference/#plfa_plfa-part2-Inference-18245" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18469" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18471" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18476" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18478" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18483" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18485" href="../Inference/#plfa_plfa-part2-Inference-18399" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18490" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18492" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a>
</pre><p>唯一的类型注释出现在 <code>plusᶜ</code>。 <code>sucᶜ</code> 甚至不需要类型注释，因为它从 <code>plusᶜ</code> 的参数中继承了类型。</p><h2 id="双向类型检查">双向类型检查</h2><p>变量的赋型规则与 <a href="../Lambda/">Lambda</a> 章节中一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-18881" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_∋_⦂_"></a><a id="plfa_plfa-part2-Inference-18886" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">_∋_⦂_</a> <a id="plfa_plfa-part2-Inference-18892" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18894" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-18902" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18904" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-18907" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18909" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-18914" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18916" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-18920" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.Z"></a><a id="plfa_plfa-part2-Inference-18929" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-18931" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18933" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18935" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18936" href="../Inference/#plfa_plfa-part2-Inference-18936" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18938" href="../Inference/#plfa_plfa-part2-Inference-18938" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18940" href="../Inference/#plfa_plfa-part2-Inference-18940" class="Bound">A</a><a id="plfa_plfa-part2-Inference-18941" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-18949" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-18971" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18973" href="../Inference/#plfa_plfa-part2-Inference-18936" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18975" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-18977" href="../Inference/#plfa_plfa-part2-Inference-18938" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18979" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18981" href="../Inference/#plfa_plfa-part2-Inference-18940" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18983" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-18985" href="../Inference/#plfa_plfa-part2-Inference-18938" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18987" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18989" href="../Inference/#plfa_plfa-part2-Inference-18940" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.S"></a><a id="plfa_plfa-part2-Inference-18994" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-18996" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18998" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19000" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19001" href="../Inference/#plfa_plfa-part2-Inference-19001" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19003" href="../Inference/#plfa_plfa-part2-Inference-19003" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19005" href="../Inference/#plfa_plfa-part2-Inference-19005" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19007" href="../Inference/#plfa_plfa-part2-Inference-19007" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19009" href="../Inference/#plfa_plfa-part2-Inference-19009" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19010" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19016" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19018" href="../Inference/#plfa_plfa-part2-Inference-19003" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19020" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-19022" href="../Inference/#plfa_plfa-part2-Inference-19005" class="Bound">y</a>
    <a id="plfa_plfa-part2-Inference-19028" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19030" href="../Inference/#plfa_plfa-part2-Inference-19001" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19032" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19034" href="../Inference/#plfa_plfa-part2-Inference-19003" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19036" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19038" href="../Inference/#plfa_plfa-part2-Inference-19007" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19046" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-19068" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19070" href="../Inference/#plfa_plfa-part2-Inference-19001" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19072" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19074" href="../Inference/#plfa_plfa-part2-Inference-19005" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19076" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19078" href="../Inference/#plfa_plfa-part2-Inference-19009" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-19080" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19082" href="../Inference/#plfa_plfa-part2-Inference-19003" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19084" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19086" href="../Inference/#plfa_plfa-part2-Inference-19007" class="Bound">A</a>
</pre><p>与语法一样，生成和继承的赋型判断也是共同递归的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-19229" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↑_"></a><a id="plfa_plfa-part2-Inference-19234" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19240" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19242" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19250" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19252" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-19258" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19260" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19265" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-19271" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↓_"></a><a id="plfa_plfa-part2-Inference-19276" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19282" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19284" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19292" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19294" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-19300" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19302" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19307" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19309" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-19314" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19319" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19325" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢`"></a><a id="plfa_plfa-part2-Inference-19334" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-19337" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19339" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19341" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19342" href="../Inference/#plfa_plfa-part2-Inference-19342" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19344" href="../Inference/#plfa_plfa-part2-Inference-19344" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19346" href="../Inference/#plfa_plfa-part2-Inference-19346" class="Bound">x</a><a id="plfa_plfa-part2-Inference-19347" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19353" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19355" href="../Inference/#plfa_plfa-part2-Inference-19342" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19357" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19359" href="../Inference/#plfa_plfa-part2-Inference-19346" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19361" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19363" href="../Inference/#plfa_plfa-part2-Inference-19344" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19371" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Inference-19387" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19389" href="../Inference/#plfa_plfa-part2-Inference-19342" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19391" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19393" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-19395" href="../Inference/#plfa_plfa-part2-Inference-19346" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19397" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19399" href="../Inference/#plfa_plfa-part2-Inference-19344" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_._·_"></a><a id="plfa_plfa-part2-Inference-19404" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Inference-19408" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19410" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19412" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19413" href="../Inference/#plfa_plfa-part2-Inference-19413" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19415" href="../Inference/#plfa_plfa-part2-Inference-19415" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19417" href="../Inference/#plfa_plfa-part2-Inference-19417" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19419" href="../Inference/#plfa_plfa-part2-Inference-19419" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19421" href="../Inference/#plfa_plfa-part2-Inference-19421" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19422" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19428" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19430" href="../Inference/#plfa_plfa-part2-Inference-19413" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19432" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19434" href="../Inference/#plfa_plfa-part2-Inference-19415" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19436" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19438" href="../Inference/#plfa_plfa-part2-Inference-19419" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19440" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19442" href="../Inference/#plfa_plfa-part2-Inference-19421" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-19448" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19450" href="../Inference/#plfa_plfa-part2-Inference-19413" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19452" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19454" href="../Inference/#plfa_plfa-part2-Inference-19417" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19456" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19458" href="../Inference/#plfa_plfa-part2-Inference-19419" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19466" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-19484" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19486" href="../Inference/#plfa_plfa-part2-Inference-19413" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19488" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19490" href="../Inference/#plfa_plfa-part2-Inference-19415" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19492" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-19494" href="../Inference/#plfa_plfa-part2-Inference-19417" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19496" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19498" href="../Inference/#plfa_plfa-part2-Inference-19421" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢↓"></a><a id="plfa_plfa-part2-Inference-19503" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-19506" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19508" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19510" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19511" href="../Inference/#plfa_plfa-part2-Inference-19511" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19513" href="../Inference/#plfa_plfa-part2-Inference-19513" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19515" href="../Inference/#plfa_plfa-part2-Inference-19515" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19516" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19522" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19524" href="../Inference/#plfa_plfa-part2-Inference-19511" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19526" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19528" href="../Inference/#plfa_plfa-part2-Inference-19513" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19530" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19532" href="../Inference/#plfa_plfa-part2-Inference-19515" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19540" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19560" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19562" href="../Inference/#plfa_plfa-part2-Inference-19511" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19564" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19566" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-19567" href="../Inference/#plfa_plfa-part2-Inference-19513" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19569" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-19571" href="../Inference/#plfa_plfa-part2-Inference-19515" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19572" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-19574" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19576" href="../Inference/#plfa_plfa-part2-Inference-19515" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-19579" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19584" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19590" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢ƛ"></a><a id="plfa_plfa-part2-Inference-19599" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-19602" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19604" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19606" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19607" href="../Inference/#plfa_plfa-part2-Inference-19607" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19609" href="../Inference/#plfa_plfa-part2-Inference-19609" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19611" href="../Inference/#plfa_plfa-part2-Inference-19611" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19613" href="../Inference/#plfa_plfa-part2-Inference-19613" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19615" href="../Inference/#plfa_plfa-part2-Inference-19615" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19616" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19622" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19624" href="../Inference/#plfa_plfa-part2-Inference-19607" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19626" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19628" href="../Inference/#plfa_plfa-part2-Inference-19609" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19630" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19632" href="../Inference/#plfa_plfa-part2-Inference-19613" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19634" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19636" href="../Inference/#plfa_plfa-part2-Inference-19611" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19638" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19640" href="../Inference/#plfa_plfa-part2-Inference-19615" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-19648" class="Comment">-------------------</a>
    <a id="plfa_plfa-part2-Inference-19672" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19674" href="../Inference/#plfa_plfa-part2-Inference-19607" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19676" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19678" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-19680" href="../Inference/#plfa_plfa-part2-Inference-19609" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19682" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19684" href="../Inference/#plfa_plfa-part2-Inference-19611" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19686" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19688" href="../Inference/#plfa_plfa-part2-Inference-19613" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19690" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19692" href="../Inference/#plfa_plfa-part2-Inference-19615" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢zero"></a><a id="plfa_plfa-part2-Inference-19697" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-19703" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19705" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19707" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19708" href="../Inference/#plfa_plfa-part2-Inference-19708" class="Bound">Γ</a><a id="plfa_plfa-part2-Inference-19709" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-19717" class="Comment">--------------</a>
    <a id="plfa_plfa-part2-Inference-19736" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19738" href="../Inference/#plfa_plfa-part2-Inference-19708" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19740" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19742" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-19748" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19750" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢suc"></a><a id="plfa_plfa-part2-Inference-19756" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-19761" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19763" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19765" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19766" href="../Inference/#plfa_plfa-part2-Inference-19766" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19768" href="../Inference/#plfa_plfa-part2-Inference-19768" class="Bound">M</a><a id="plfa_plfa-part2-Inference-19769" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19775" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19777" href="../Inference/#plfa_plfa-part2-Inference-19766" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19779" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19781" href="../Inference/#plfa_plfa-part2-Inference-19768" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19783" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19785" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>
      <a id="plfa_plfa-part2-Inference-19794" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19814" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19816" href="../Inference/#plfa_plfa-part2-Inference-19766" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19818" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19820" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-19825" href="../Inference/#plfa_plfa-part2-Inference-19768" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19827" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19829" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢case"></a><a id="plfa_plfa-part2-Inference-19835" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-19841" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19843" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19845" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19846" href="../Inference/#plfa_plfa-part2-Inference-19846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19848" href="../Inference/#plfa_plfa-part2-Inference-19848" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19850" href="../Inference/#plfa_plfa-part2-Inference-19850" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19852" href="../Inference/#plfa_plfa-part2-Inference-19852" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19854" href="../Inference/#plfa_plfa-part2-Inference-19854" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19856" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19857" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19863" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19865" href="../Inference/#plfa_plfa-part2-Inference-19846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19867" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19869" href="../Inference/#plfa_plfa-part2-Inference-19848" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19871" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19873" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>
    <a id="plfa_plfa-part2-Inference-19880" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19882" href="../Inference/#plfa_plfa-part2-Inference-19846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19884" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19886" href="../Inference/#plfa_plfa-part2-Inference-19850" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19888" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19890" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-19896" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19898" href="../Inference/#plfa_plfa-part2-Inference-19846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19900" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19902" href="../Inference/#plfa_plfa-part2-Inference-19852" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19904" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19906" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-19909" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19911" href="../Inference/#plfa_plfa-part2-Inference-19854" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19913" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19915" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19923" class="Comment">-------------------------------------</a>
    <a id="plfa_plfa-part2-Inference-19965" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19967" href="../Inference/#plfa_plfa-part2-Inference-19846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19969" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19971" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-19977" href="../Inference/#plfa_plfa-part2-Inference-19848" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19979" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-19986" href="../Inference/#plfa_plfa-part2-Inference-19850" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19988" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-19993" href="../Inference/#plfa_plfa-part2-Inference-19852" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19995" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19997" href="../Inference/#plfa_plfa-part2-Inference-19854" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19999" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-20001" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20003" href="../Inference/#plfa_plfa-part2-Inference-19856" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢μ"></a><a id="plfa_plfa-part2-Inference-20008" href="../Inference/#plfa_plfa-part2-Inference-20008" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-20011" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20013" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20015" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20016" href="../Inference/#plfa_plfa-part2-Inference-20016" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20018" href="../Inference/#plfa_plfa-part2-Inference-20018" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20020" href="../Inference/#plfa_plfa-part2-Inference-20020" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20022" href="../Inference/#plfa_plfa-part2-Inference-20022" class="Bound">A</a><a id="plfa_plfa-part2-Inference-20023" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20029" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20031" href="../Inference/#plfa_plfa-part2-Inference-20016" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20033" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-20035" href="../Inference/#plfa_plfa-part2-Inference-20018" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20037" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-20039" href="../Inference/#plfa_plfa-part2-Inference-20022" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20041" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20043" href="../Inference/#plfa_plfa-part2-Inference-20020" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20045" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20047" href="../Inference/#plfa_plfa-part2-Inference-20022" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-20055" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-20077" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20079" href="../Inference/#plfa_plfa-part2-Inference-20016" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20081" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20083" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-20085" href="../Inference/#plfa_plfa-part2-Inference-20018" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20087" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20089" href="../Inference/#plfa_plfa-part2-Inference-20020" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20091" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20093" href="../Inference/#plfa_plfa-part2-Inference-20022" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢↑"></a><a id="plfa_plfa-part2-Inference-20098" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-20101" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20103" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20105" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20106" href="../Inference/#plfa_plfa-part2-Inference-20106" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20108" href="../Inference/#plfa_plfa-part2-Inference-20108" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20110" href="../Inference/#plfa_plfa-part2-Inference-20110" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20112" href="../Inference/#plfa_plfa-part2-Inference-20112" class="Bound">B</a><a id="plfa_plfa-part2-Inference-20113" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20119" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20121" href="../Inference/#plfa_plfa-part2-Inference-20106" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20123" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20125" href="../Inference/#plfa_plfa-part2-Inference-20108" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20127" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-20129" href="../Inference/#plfa_plfa-part2-Inference-20110" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-20135" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20137" href="../Inference/#plfa_plfa-part2-Inference-20110" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20139" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-20141" href="../Inference/#plfa_plfa-part2-Inference-20112" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-20149" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-20167" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20169" href="../Inference/#plfa_plfa-part2-Inference-20106" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20171" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20173" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-20174" href="../Inference/#plfa_plfa-part2-Inference-20108" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20176" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-20177" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-20179" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20181" href="../Inference/#plfa_plfa-part2-Inference-20112" class="Bound">B</a>
</pre><p>我们用和 <a href="../Lambda/">Lambda</a> 中一样的命名规则， 把 <code>⊢</code> 加在构造子之前，来当作对应赋型规则的名称。</p><p>这些规则和 <a href="../Lambda/">Lambda</a> 章节中相似，修改成支持生成和继承类型的样式。 其中有两条新规则 <code>⊢↓</code> 和 <code>⊢↑</code>。 前者把类型装饰当作继承的类型，并将其返回作为生成的类型。 后者取其生成的类型，并检查是否与继承的类型一致——这应该让你回忆起第一<a href="../Inference/#algorithms">部分</a>中函数应用规则的相等性测试。</p><h4 id="bidirectional-mul">练习 <code>bidirectional-mul</code> （推荐）</h4><p>将你在 <a href="../Lambda/">Lambda</a> 章节中乘法的定义重写，将其装饰至支持类型推理的形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21384" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="bidirectional-products">练习 <code>bidirectional-products</code> （推荐）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21699" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="bidirectional-rest">练习 <code>bidirectional-rest</code> （延伸）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的其余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-22013" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="前置需求">前置需求</h2><p><code>M ↑</code> 规则需要我们有能力来判定两个类型是否相等。 我们可以直接地给出代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-_≟Tp_"></a><a id="plfa_plfa-part2-Inference-22239" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">_≟Tp_</a> <a id="plfa_plfa-part2-Inference-22245" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22247" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22248" href="../Inference/#plfa_plfa-part2-Inference-22248" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22250" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22252" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22254" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-22258" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22260" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22262" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-22266" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22267" href="../Inference/#plfa_plfa-part2-Inference-22248" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22269" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22271" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22272" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-22274" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22282" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22286" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22302" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22305" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22309" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-22314" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22322" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22326" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22327" href="../Inference/#plfa_plfa-part2-Inference-22327" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22329" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22331" href="../Inference/#plfa_plfa-part2-Inference-22331" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22332" class="Symbol">)</a>         <a id="plfa_plfa-part2-Inference-22342" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22345" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22348" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22352" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22353" href="../Inference/#plfa_plfa-part2-Inference-22353" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22355" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22357" href="../Inference/#plfa_plfa-part2-Inference-22357" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22358" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22360" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22364" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22380" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22383" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22386" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22390" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22391" href="../Inference/#plfa_plfa-part2-Inference-22391" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22393" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22395" href="../Inference/#plfa_plfa-part2-Inference-22395" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22396" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22398" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22402" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22403" href="../Inference/#plfa_plfa-part2-Inference-22403" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22406" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22408" href="../Inference/#plfa_plfa-part2-Inference-22408" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22410" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Inference-22414" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-22419" href="../Inference/#plfa_plfa-part2-Inference-22391" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22421" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22425" href="../Inference/#plfa_plfa-part2-Inference-22403" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22428" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22430" href="../Inference/#plfa_plfa-part2-Inference-22395" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22432" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22436" href="../Inference/#plfa_plfa-part2-Inference-22408" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22439" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22444" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22446" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22449" href="../Inference/#plfa_plfa-part2-Inference-22449" class="Bound">A≢</a>    <a id="plfa_plfa-part2-Inference-22455" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22457" class="Symbol">_</a>         <a id="plfa_plfa-part2-Inference-22467" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22470" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22473" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22475" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22480" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22482" href="../Inference/#plfa_plfa-part2-Inference-22449" class="Bound">A≢</a> <a id="plfa_plfa-part2-Inference-22485" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22489" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22491" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22496" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22498" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22502" class="Symbol">_</a>    <a id="plfa_plfa-part2-Inference-22507" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22509" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22512" href="../Inference/#plfa_plfa-part2-Inference-22512" class="Bound">B≢</a>     <a id="plfa_plfa-part2-Inference-22519" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22522" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22525" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22532" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22534" href="../Inference/#plfa_plfa-part2-Inference-22512" class="Bound">B≢</a> <a id="plfa_plfa-part2-Inference-22537" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22541" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22543" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22548" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22550" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22554" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22559" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22561" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22565" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>  <a id="plfa_plfa-part2-Inference-22571" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22574" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22578" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也会需要一些显然的引理； 作用域和值域相等的函数类型相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-dom≡"></a><a id="plfa_plfa-part2-Inference-22741" href="../Inference/#plfa_plfa-part2-Inference-22741" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22746" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22748" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22750" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22751" href="../Inference/#plfa_plfa-part2-Inference-22751" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22753" href="../Inference/#plfa_plfa-part2-Inference-22753" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22756" href="../Inference/#plfa_plfa-part2-Inference-22756" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22758" href="../Inference/#plfa_plfa-part2-Inference-22758" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22760" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22762" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22764" href="../Inference/#plfa_plfa-part2-Inference-22751" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22766" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22768" href="../Inference/#plfa_plfa-part2-Inference-22756" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22770" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22772" href="../Inference/#plfa_plfa-part2-Inference-22753" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22775" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22777" href="../Inference/#plfa_plfa-part2-Inference-22758" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22780" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22782" href="../Inference/#plfa_plfa-part2-Inference-22751" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22784" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22786" href="../Inference/#plfa_plfa-part2-Inference-22753" class="Bound">A′</a>
<a id="plfa_plfa-part2-Inference-22789" href="../Inference/#plfa_plfa-part2-Inference-22741" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22794" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22799" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22801" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-rng≡"></a><a id="plfa_plfa-part2-Inference-22807" href="../Inference/#plfa_plfa-part2-Inference-22807" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22812" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22814" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22816" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22817" href="../Inference/#plfa_plfa-part2-Inference-22817" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22819" href="../Inference/#plfa_plfa-part2-Inference-22819" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22822" href="../Inference/#plfa_plfa-part2-Inference-22822" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22824" href="../Inference/#plfa_plfa-part2-Inference-22824" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22826" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22828" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22830" href="../Inference/#plfa_plfa-part2-Inference-22817" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22832" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22834" href="../Inference/#plfa_plfa-part2-Inference-22822" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22836" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22838" href="../Inference/#plfa_plfa-part2-Inference-22819" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22841" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22843" href="../Inference/#plfa_plfa-part2-Inference-22824" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22846" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22848" href="../Inference/#plfa_plfa-part2-Inference-22822" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22850" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22852" href="../Inference/#plfa_plfa-part2-Inference-22824" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22855" href="../Inference/#plfa_plfa-part2-Inference-22807" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22860" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22865" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22867" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也需要知道 <code>`ℕ</code> 和 <code>A ⇒ B</code> 这两个类型不相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ℕ≢⇒"></a><a id="plfa_plfa-part2-Inference-23010" href="../Inference/#plfa_plfa-part2-Inference-23010" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23014" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23016" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23018" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23019" href="../Inference/#plfa_plfa-part2-Inference-23019" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23021" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23022" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23024" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23026" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-23029" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-23031" href="../Inference/#plfa_plfa-part2-Inference-23019" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23033" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-23035" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23037" href="../Inference/#plfa_plfa-part2-Inference-23010" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23041" class="Symbol">()</a>
</pre><h2 id="唯一的类型">唯一的类型</h2><p>从语境查询一个类型是唯一的。 给定两个推导，其一证明 <code>Γ ∋ x ⦂ A</code>，另一个证明 <code>Γ ∋ x ⦂ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-∋"></a><a id="plfa_plfa-part2-Inference-23351" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23358" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23360" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23362" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23363" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23365" href="../Inference/#plfa_plfa-part2-Inference-23365" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23367" href="../Inference/#plfa_plfa-part2-Inference-23367" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23369" href="../Inference/#plfa_plfa-part2-Inference-23369" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23370" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23372" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23374" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23376" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23378" href="../Inference/#plfa_plfa-part2-Inference-23365" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23380" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23382" href="../Inference/#plfa_plfa-part2-Inference-23367" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23384" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23386" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23388" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23390" href="../Inference/#plfa_plfa-part2-Inference-23365" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23392" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23394" href="../Inference/#plfa_plfa-part2-Inference-23369" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-23396" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23398" href="../Inference/#plfa_plfa-part2-Inference-23367" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23400" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-23402" href="../Inference/#plfa_plfa-part2-Inference-23369" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23404" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23411" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23413" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a>                 <a id="plfa_plfa-part2-Inference-23431" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23434" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-23439" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23446" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23448" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23449" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23451" href="../Inference/#plfa_plfa-part2-Inference-23451" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23455" class="Symbol">_)</a>         <a id="plfa_plfa-part2-Inference-23466" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23469" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23476" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23477" href="../Inference/#plfa_plfa-part2-Inference-23451" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23485" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23487" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23494" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23495" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23497" href="../Inference/#plfa_plfa-part2-Inference-23497" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23501" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-23504" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a>         <a id="plfa_plfa-part2-Inference-23514" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23517" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23524" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23525" href="../Inference/#plfa_plfa-part2-Inference-23497" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23529" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23533" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23535" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23542" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23543" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23545" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23547" href="../Inference/#plfa_plfa-part2-Inference-23547" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-23549" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-23551" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23552" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23554" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23556" href="../Inference/#plfa_plfa-part2-Inference-23556" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-23559" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-23562" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23565" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23572" href="../Inference/#plfa_plfa-part2-Inference-23547" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-23575" href="../Inference/#plfa_plfa-part2-Inference-23556" class="Bound">∋x′</a>
</pre><p>如果两个推导都使用 <code>Z</code> 规则，那么唯一性即可直接得出； 如果两个推导都使用 <code>S</code> 规则，那么唯一性可以由归纳得出。 如果一个使用了 <code>Z</code> 规则，另一个使用了 <code>S</code> 规则，这则是一个矛盾， 因为 <code>Z</code> 要求我们查询的变量是语境中的最后一个，而 <code>S</code> 要求不是这样。</p><p>生成的类型也是唯一的。 给定两个推导，其一证明 <code>Γ ⊢ M ↑ A</code>，另一个证明 <code>Γ ⊢ M ↑ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-↑"></a><a id="plfa_plfa-part2-Inference-24341" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24348" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-24350" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-24352" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-24353" href="../Inference/#plfa_plfa-part2-Inference-24353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24355" href="../Inference/#plfa_plfa-part2-Inference-24355" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24357" href="../Inference/#plfa_plfa-part2-Inference-24357" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24359" href="../Inference/#plfa_plfa-part2-Inference-24359" class="Bound">B</a><a id="plfa_plfa-part2-Inference-24360" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-24362" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24364" href="../Inference/#plfa_plfa-part2-Inference-24353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24366" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24368" href="../Inference/#plfa_plfa-part2-Inference-24355" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24370" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24372" href="../Inference/#plfa_plfa-part2-Inference-24357" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24374" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24376" href="../Inference/#plfa_plfa-part2-Inference-24353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24378" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24380" href="../Inference/#plfa_plfa-part2-Inference-24355" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24382" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24384" href="../Inference/#plfa_plfa-part2-Inference-24359" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-24386" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24388" href="../Inference/#plfa_plfa-part2-Inference-24357" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24390" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-24392" href="../Inference/#plfa_plfa-part2-Inference-24359" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-24394" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24401" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24402" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24405" href="../Inference/#plfa_plfa-part2-Inference-24405" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-24407" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24409" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24410" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24413" href="../Inference/#plfa_plfa-part2-Inference-24413" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-24416" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24424" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24427" href="../Inference/#plfa_plfa-part2-Inference-23351" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-24434" href="../Inference/#plfa_plfa-part2-Inference-24405" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-24437" href="../Inference/#plfa_plfa-part2-Inference-24413" class="Bound">∋x′</a>
<a id="plfa_plfa-part2-Inference-24441" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24448" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24449" href="../Inference/#plfa_plfa-part2-Inference-24449" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24452" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24454" href="../Inference/#plfa_plfa-part2-Inference-24454" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24456" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24458" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24459" href="../Inference/#plfa_plfa-part2-Inference-24459" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-24463" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24465" href="../Inference/#plfa_plfa-part2-Inference-24465" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24468" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-24471" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24474" href="../Inference/#plfa_plfa-part2-Inference-22807" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-24479" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24480" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24487" href="../Inference/#plfa_plfa-part2-Inference-24449" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24490" href="../Inference/#plfa_plfa-part2-Inference-24459" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-24493" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-24495" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24502" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24503" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24506" href="../Inference/#plfa_plfa-part2-Inference-24506" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24508" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24510" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24511" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24514" href="../Inference/#plfa_plfa-part2-Inference-24514" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24517" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24525" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24528" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>有三种项的形式。 如果项是变量，那么生成的唯一性从查询的唯一性中直接得出。 如果项是函数应用，那么唯一性由应用中的函数之上的归纳得出，因为值域相等的类型相等。 如果项是变向，两者装饰的类型相等，从此可得唯一性。</p><h2 id="查询语境中变量的类型">查询语境中变量的类型</h2><p>给定 <code>Γ</code> 和两个不同的变量 <code>x</code> 和 <code>y</code>， 如果不存在类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立， 那么也不存在类型 <code>A</code> 使得 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ext∋"></a><a id="plfa_plfa-part2-Inference-25372" href="../Inference/#plfa_plfa-part2-Inference-25372" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25377" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-25379" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-25381" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-25382" href="../Inference/#plfa_plfa-part2-Inference-25382" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25384" href="../Inference/#plfa_plfa-part2-Inference-25384" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25386" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25388" href="../Inference/#plfa_plfa-part2-Inference-25388" class="Bound">y</a><a id="plfa_plfa-part2-Inference-25389" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-25393" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25395" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25397" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-25399" href="../Inference/#plfa_plfa-part2-Inference-25388" class="Bound">y</a>
  <a id="plfa_plfa-part2-Inference-25403" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25405" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25407" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25408" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25411" href="../Inference/#plfa_plfa-part2-Inference-25411" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25413" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25415" href="../Inference/#plfa_plfa-part2-Inference-25382" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25417" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25419" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25421" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25423" href="../Inference/#plfa_plfa-part2-Inference-25411" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25424" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-25430" class="Comment">----------------------------</a>
  <a id="plfa_plfa-part2-Inference-25461" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25463" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25465" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25466" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25469" href="../Inference/#plfa_plfa-part2-Inference-25469" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25471" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25473" href="../Inference/#plfa_plfa-part2-Inference-25382" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25475" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25477" href="../Inference/#plfa_plfa-part2-Inference-25388" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-25479" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25481" href="../Inference/#plfa_plfa-part2-Inference-25384" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25483" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25485" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25487" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25489" href="../Inference/#plfa_plfa-part2-Inference-25469" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25490" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-25492" href="../Inference/#plfa_plfa-part2-Inference-25372" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25497" href="../Inference/#plfa_plfa-part2-Inference-25497" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25501" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-25504" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25506" href="../Inference/#plfa_plfa-part2-Inference-25506" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25508" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25510" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-25512" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>       <a id="plfa_plfa-part2-Inference-25520" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25523" href="../Inference/#plfa_plfa-part2-Inference-25497" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-25532" href="../Inference/#plfa_plfa-part2-Inference-25372" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25537" class="Symbol">_</a>   <a id="plfa_plfa-part2-Inference-25541" href="../Inference/#plfa_plfa-part2-Inference-25541" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25544" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25546" href="../Inference/#plfa_plfa-part2-Inference-25546" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25548" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25550" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-25552" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-25554" href="../Inference/#plfa_plfa-part2-Inference-25554" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25557" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-25560" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25563" href="../Inference/#plfa_plfa-part2-Inference-25541" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25566" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25568" href="../Inference/#plfa_plfa-part2-Inference-25546" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25570" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25572" href="../Inference/#plfa_plfa-part2-Inference-25554" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25575" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
</pre><p>给定类型 <code>A</code> 和 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立的证明，我们必须构造一个矛盾。 如果判断由 <code>Z</code> 成立，那么 <code>x</code> 和 <code>y</code> 一定是一样的，与第一个假设矛盾。 如果判断由 <code>S _ ∋x</code> 成立，那么 <code>∋x</code> 提供了 <code>Γ ∋ x ⦂ A</code> 成立的证明，与第二个假设矛盾。</p><p>给定语境 <code>Γ</code> 和变量 <code>x</code>，我们可判断是否存在一个类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立，或者其反命题：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-lookup"></a><a id="plfa_plfa-part2-Inference-26291" href="../Inference/#plfa_plfa-part2-Inference-26291" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26298" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26300" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-26302" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26303" href="../Inference/#plfa_plfa-part2-Inference-26303" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26305" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26307" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-26314" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26316" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26317" href="../Inference/#plfa_plfa-part2-Inference-26317" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26319" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26321" href="../Inference/#plfa_plfa-part2-Inference-16107" class="Function">Id</a><a id="plfa_plfa-part2-Inference-26323" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-26334" class="Comment">------------------------</a>
       <a id="plfa_plfa-part2-Inference-26366" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-26368" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-26372" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26373" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-26376" href="../Inference/#plfa_plfa-part2-Inference-26376" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26378" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-26380" href="../Inference/#plfa_plfa-part2-Inference-26303" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26382" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-26384" href="../Inference/#plfa_plfa-part2-Inference-26317" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26386" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26388" href="../Inference/#plfa_plfa-part2-Inference-26376" class="Bound">A</a><a id="plfa_plfa-part2-Inference-26389" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26391" href="../Inference/#plfa_plfa-part2-Inference-26291" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26398" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-26400" href="../Inference/#plfa_plfa-part2-Inference-26400" class="Bound">x</a>                        <a id="plfa_plfa-part2-Inference-26425" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26428" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26432" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Inference-26435" class="Symbol">())</a>
<a id="plfa_plfa-part2-Inference-26439" href="../Inference/#plfa_plfa-part2-Inference-26291" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26446" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26447" href="../Inference/#plfa_plfa-part2-Inference-26447" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26449" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26451" href="../Inference/#plfa_plfa-part2-Inference-26451" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-26453" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26455" href="../Inference/#plfa_plfa-part2-Inference-26455" class="Bound">B</a><a id="plfa_plfa-part2-Inference-26456" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26458" href="../Inference/#plfa_plfa-part2-Inference-26458" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26460" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26465" href="../Inference/#plfa_plfa-part2-Inference-26458" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26467" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-26469" href="../Inference/#plfa_plfa-part2-Inference-26451" class="Bound">y</a>
<a id="plfa_plfa-part2-Inference-26471" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26475" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26477" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>                    <a id="plfa_plfa-part2-Inference-26505" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26508" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26512" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26514" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-26516" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26518" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-26520" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-26522" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26526" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26528" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-26531" href="../Inference/#plfa_plfa-part2-Inference-26531" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26535" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26540" href="../Inference/#plfa_plfa-part2-Inference-26291" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26547" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26549" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-26551" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26567" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26569" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26573" href="../Inference/#plfa_plfa-part2-Inference-26573" class="Bound">¬∃</a>          <a id="plfa_plfa-part2-Inference-26585" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26588" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26592" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26593" href="../Inference/#plfa_plfa-part2-Inference-25372" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-26598" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26602" href="../Inference/#plfa_plfa-part2-Inference-26573" class="Bound">¬∃</a><a id="plfa_plfa-part2-Inference-26604" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26606" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26622" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26624" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26628" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26630" href="../Inference/#plfa_plfa-part2-Inference-26630" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26632" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26634" href="../Inference/#plfa_plfa-part2-Inference-26634" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26637" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-26640" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26643" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26647" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26649" href="../Inference/#plfa_plfa-part2-Inference-26630" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26651" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26653" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-26655" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26659" href="../Inference/#plfa_plfa-part2-Inference-26634" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26662" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
</pre><p>考虑语境的情况：</p><ul><li>如果语境为空，那么平凡地，我们没有任何可能的推导。</li></ul><ul><li><p>如果语境非空，比较给定的变量和最新的绑定：</p><ul><li>如果它们一致，我们完成了判定，使用 <code>Z</code> 作为对应的推导。</li></ul><ul><li><p>如果它们不一致，我们递归：</p><ul><li>如果查询失败了，我们使用 <code>ext∋</code> 将变量不存在于内部的语境中的证明扩充至扩充后的语境。</li></ul><ul><li>如果查询成功了，我们对返回的推导使用 <code>S</code>。</li></ul></li></ul></li></ul><h2 id="提升否定">提升否定</h2><p>对于每一个可能的项的形式，我们需要证明：如果其内部的子项无法被赋型，那么整个项无法被赋型。 大多数情况下，我们可以直接在行中直接完成所需的证明，但有一些困难的情况， 我们提供一些帮助函数。</p><p>如果 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立而 <code>Γ ⊢ M ↓ A</code> 不成立，那么不存在使得 <code>Γ ⊢ L · M ↑ B′</code> 成立的类型 <code>B′</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬arg"></a><a id="plfa_plfa-part2-Inference-28072" href="../Inference/#plfa_plfa-part2-Inference-28072" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28077" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-28079" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-28081" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-28082" href="../Inference/#plfa_plfa-part2-Inference-28082" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28084" href="../Inference/#plfa_plfa-part2-Inference-28084" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28086" href="../Inference/#plfa_plfa-part2-Inference-28086" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-28088" href="../Inference/#plfa_plfa-part2-Inference-28088" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28090" href="../Inference/#plfa_plfa-part2-Inference-28090" class="Bound">M</a><a id="plfa_plfa-part2-Inference-28091" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-28095" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28097" href="../Inference/#plfa_plfa-part2-Inference-28082" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28099" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28101" href="../Inference/#plfa_plfa-part2-Inference-28088" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28103" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28105" href="../Inference/#plfa_plfa-part2-Inference-28084" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28107" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-28109" href="../Inference/#plfa_plfa-part2-Inference-28086" class="Bound">B</a>
  <a id="plfa_plfa-part2-Inference-28113" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28115" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28117" href="../Inference/#plfa_plfa-part2-Inference-28082" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28119" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28121" href="../Inference/#plfa_plfa-part2-Inference-28090" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28123" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-28125" href="../Inference/#plfa_plfa-part2-Inference-28084" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-28131" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Inference-28160" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28162" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28164" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28165" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-28168" href="../Inference/#plfa_plfa-part2-Inference-28168" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28171" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-28173" href="../Inference/#plfa_plfa-part2-Inference-28082" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28175" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28177" href="../Inference/#plfa_plfa-part2-Inference-28088" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28179" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28181" href="../Inference/#plfa_plfa-part2-Inference-28090" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28183" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28185" href="../Inference/#plfa_plfa-part2-Inference-28168" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-28187" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-28189" href="../Inference/#plfa_plfa-part2-Inference-28072" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28194" href="../Inference/#plfa_plfa-part2-Inference-28194" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28197" href="../Inference/#plfa_plfa-part2-Inference-28197" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28201" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-28203" href="../Inference/#plfa_plfa-part2-Inference-28203" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28206" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-28208" href="../Inference/#plfa_plfa-part2-Inference-28208" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-28212" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28214" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-28218" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-28220" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-28228" href="../Inference/#plfa_plfa-part2-Inference-22741" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-28233" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28234" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-28241" href="../Inference/#plfa_plfa-part2-Inference-28194" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28244" href="../Inference/#plfa_plfa-part2-Inference-28208" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-28247" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-28249" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-28251" href="../Inference/#plfa_plfa-part2-Inference-28197" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28255" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">⊢M′</a>
</pre><p>让 <code>⊢L</code> 作为 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明、 <code>¬⊢M</code> 作为 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 给定类型 <code>B′</code> 和 <code>Γ ⊢ L · M ↑ B′</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢L′ · ⊢M′</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A′ ⇒ B′</code> 成立的证明、<code>⊢M′</code> 是 <code>Γ ⊢ M ↓ A′</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code>，我们知道 <code>A ⇒ B ≡ A′ ⇒ B′</code>， 所以可得 <code>A ≡ A′</code>，这意味着 <code>¬⊢M</code> 和 <code>⊢M′</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>¬⊢M</code> 和 <code>⊢M′</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><p>如果 <code>Γ ⊢ M ↑ A</code> 成立且 <code>A ≢ B</code>，那么 <code>Γ ⊢ (M ↑) ↓ B</code> 不成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬switch"></a><a id="plfa_plfa-part2-Inference-29432" href="../Inference/#plfa_plfa-part2-Inference-29432" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29440" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-29442" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-29444" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-29445" href="../Inference/#plfa_plfa-part2-Inference-29445" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29447" href="../Inference/#plfa_plfa-part2-Inference-29447" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29449" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29451" href="../Inference/#plfa_plfa-part2-Inference-29451" class="Bound">B</a><a id="plfa_plfa-part2-Inference-29452" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-29456" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29458" href="../Inference/#plfa_plfa-part2-Inference-29445" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29460" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29462" href="../Inference/#plfa_plfa-part2-Inference-29447" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29464" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-29466" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Bound">A</a>
  <a id="plfa_plfa-part2-Inference-29470" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29472" href="../Inference/#plfa_plfa-part2-Inference-29449" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29474" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-29476" href="../Inference/#plfa_plfa-part2-Inference-29451" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-29482" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-29500" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29502" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-29504" href="../Inference/#plfa_plfa-part2-Inference-29445" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29506" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29508" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29509" href="../Inference/#plfa_plfa-part2-Inference-29447" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29511" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-29512" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29514" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-29516" href="../Inference/#plfa_plfa-part2-Inference-29451" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-29518" href="../Inference/#plfa_plfa-part2-Inference-29432" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29526" href="../Inference/#plfa_plfa-part2-Inference-29526" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29529" href="../Inference/#plfa_plfa-part2-Inference-29529" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29533" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29534" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-29537" href="../Inference/#plfa_plfa-part2-Inference-29537" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29541" href="../Inference/#plfa_plfa-part2-Inference-29541" class="Bound">A′≡B</a><a id="plfa_plfa-part2-Inference-29545" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29547" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-29555" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-29562" href="../Inference/#plfa_plfa-part2-Inference-29526" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29565" href="../Inference/#plfa_plfa-part2-Inference-29537" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29569" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-29571" href="../Inference/#plfa_plfa-part2-Inference-29529" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29575" href="../Inference/#plfa_plfa-part2-Inference-29541" class="Bound">A′≡B</a>
</pre><p>让 <code>⊢M</code> 作为 <code>Γ ⊢ M ↑ A</code> 成立的证明、<code>A≢B</code> 作为 <code>A ≢ B</code> 成立的证明。 给定 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢↑ ⊢M′ A′≡B</code> 的形式，其中 <code>⊢M′</code> 是 <code>Γ ⊢ M ↑ A′</code> 成立的证明、<code>A′≡B</code> 是 <code>A′ ≡ B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢M</code> 和 <code>⊢M′</code>，我们知道 <code>A ≡ A′</code>，这意味着 <code>A≢B</code> 和 <code>A′≡B</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>A≢B</code> 和 <code>A′≡B</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><h2 id="生成和继承类型-1">生成和继承类型</h2><p>餐桌已经布置好了，我们已经准备好享用今天的主菜了。 我们定义两个共同递归的函数，一个用于生成，一个用于继承。 生成在给定语境 <code>Γ</code> 和生成项 <code>M</code> 时，要么返回一个类型 <code>A</code> 和 <code>Γ ⊢ M ↑ A</code> 成立的证明，或者其/否定。 继承在给定语境 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code> 时要么返回 <code>Γ ⊢ M ↓ A</code> 成立的证明，或者其否定：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-synthesize"></a><a id="plfa_plfa-part2-Inference-31164" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31175" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31177" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31179" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31180" href="../Inference/#plfa_plfa-part2-Inference-31180" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31182" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31184" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31191" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31193" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31194" href="../Inference/#plfa_plfa-part2-Inference-31194" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31196" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31198" href="../Inference/#plfa_plfa-part2-Inference-16591" class="Datatype">Term⁺</a><a id="plfa_plfa-part2-Inference-31203" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-31218" class="Comment">---------------------------</a>
           <a id="plfa_plfa-part2-Inference-31257" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31259" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31263" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31264" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-31267" href="../Inference/#plfa_plfa-part2-Inference-31267" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31269" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-31271" href="../Inference/#plfa_plfa-part2-Inference-31180" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31273" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31275" href="../Inference/#plfa_plfa-part2-Inference-31194" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31277" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-31279" href="../Inference/#plfa_plfa-part2-Inference-31267" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31281" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-inherit"></a><a id="plfa_plfa-part2-Inference-31284" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31292" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31294" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31296" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31297" href="../Inference/#plfa_plfa-part2-Inference-31297" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31299" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31301" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31308" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31310" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31311" href="../Inference/#plfa_plfa-part2-Inference-31311" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31313" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31315" href="../Inference/#plfa_plfa-part2-Inference-16608" class="Datatype">Term⁻</a><a id="plfa_plfa-part2-Inference-31320" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31322" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31323" href="../Inference/#plfa_plfa-part2-Inference-31323" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31325" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31327" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-31331" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-31337" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-31355" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31357" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31361" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31362" href="../Inference/#plfa_plfa-part2-Inference-31297" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31364" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31366" href="../Inference/#plfa_plfa-part2-Inference-31311" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31368" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-31370" href="../Inference/#plfa_plfa-part2-Inference-31323" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31371" class="Symbol">)</a>
</pre><p>我们首先考虑生成的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-31452" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31463" href="../Inference/#plfa_plfa-part2-Inference-31463" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31465" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31466" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-31468" href="../Inference/#plfa_plfa-part2-Inference-31468" class="Bound">x</a><a id="plfa_plfa-part2-Inference-31469" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31471" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31476" href="../Inference/#plfa_plfa-part2-Inference-26291" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-31483" href="../Inference/#plfa_plfa-part2-Inference-31463" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31485" href="../Inference/#plfa_plfa-part2-Inference-31468" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-31487" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31491" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31493" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31497" href="../Inference/#plfa_plfa-part2-Inference-31497" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31513" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31516" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31520" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31524" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31526" href="../Inference/#plfa_plfa-part2-Inference-31526" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31528" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31530" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31533" href="../Inference/#plfa_plfa-part2-Inference-31533" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31536" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31538" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31540" href="../Inference/#plfa_plfa-part2-Inference-31497" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31543" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31545" href="../Inference/#plfa_plfa-part2-Inference-31526" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31547" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31549" href="../Inference/#plfa_plfa-part2-Inference-31533" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31552" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31554" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31557" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31561" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31563" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31567" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31569" href="../Inference/#plfa_plfa-part2-Inference-31569" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31571" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31573" href="../Inference/#plfa_plfa-part2-Inference-31573" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31576" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>      <a id="plfa_plfa-part2-Inference-31583" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31586" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31590" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31592" href="../Inference/#plfa_plfa-part2-Inference-31569" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31594" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31596" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31599" href="../Inference/#plfa_plfa-part2-Inference-31573" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31602" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31604" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31615" href="../Inference/#plfa_plfa-part2-Inference-31615" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31617" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31618" href="../Inference/#plfa_plfa-part2-Inference-31618" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-31620" href="../Inference/#plfa_plfa-part2-Inference-16680" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31622" href="../Inference/#plfa_plfa-part2-Inference-31622" class="Bound">M</a><a id="plfa_plfa-part2-Inference-31623" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31625" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31630" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31641" href="../Inference/#plfa_plfa-part2-Inference-31615" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31643" href="../Inference/#plfa_plfa-part2-Inference-31618" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-31645" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31649" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31651" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31655" href="../Inference/#plfa_plfa-part2-Inference-31655" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31671" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31674" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31678" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31682" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31684" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31686" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31688" href="../Inference/#plfa_plfa-part2-Inference-31688" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-31692" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31694" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31697" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31700" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31703" href="../Inference/#plfa_plfa-part2-Inference-31655" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31706" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31708" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31710" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31712" href="../Inference/#plfa_plfa-part2-Inference-31688" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31715" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31717" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31720" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31724" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31726" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31730" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31732" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-31735" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-31740" href="../Inference/#plfa_plfa-part2-Inference-31740" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31743" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31746" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31749" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31753" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31757" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31759" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31761" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31763" href="../Inference/#plfa_plfa-part2-Inference-31763" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-31767" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31769" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31772" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31775" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31778" href="../Inference/#plfa_plfa-part2-Inference-23010" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-31782" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31783" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-31790" href="../Inference/#plfa_plfa-part2-Inference-31740" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31793" href="../Inference/#plfa_plfa-part2-Inference-31763" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-31796" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31798" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31801" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31805" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31807" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31811" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31813" href="../Inference/#plfa_plfa-part2-Inference-31813" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31815" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-31817" href="../Inference/#plfa_plfa-part2-Inference-31817" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31819" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31821" href="../Inference/#plfa_plfa-part2-Inference-31821" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31824" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31826" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31831" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31839" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31841" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31843" href="../Inference/#plfa_plfa-part2-Inference-31813" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31845" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31852" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31854" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31858" href="../Inference/#plfa_plfa-part2-Inference-31858" class="Bound">¬⊢M</a>          <a id="plfa_plfa-part2-Inference-31871" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31874" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31878" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31879" href="../Inference/#plfa_plfa-part2-Inference-28072" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-31884" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31887" href="../Inference/#plfa_plfa-part2-Inference-31858" class="Bound">¬⊢M</a><a id="plfa_plfa-part2-Inference-31890" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-31892" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31899" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31901" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31905" href="../Inference/#plfa_plfa-part2-Inference-31905" class="Bound">⊢M</a>           <a id="plfa_plfa-part2-Inference-31918" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31921" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31925" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31927" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31929" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31931" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31934" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31936" href="../Inference/#plfa_plfa-part2-Inference-31905" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31939" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31941" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31952" href="../Inference/#plfa_plfa-part2-Inference-31952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31954" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31955" href="../Inference/#plfa_plfa-part2-Inference-31955" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31957" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-31959" href="../Inference/#plfa_plfa-part2-Inference-31959" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31960" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31962" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31967" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31975" href="../Inference/#plfa_plfa-part2-Inference-31952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31977" href="../Inference/#plfa_plfa-part2-Inference-31955" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31979" href="../Inference/#plfa_plfa-part2-Inference-31959" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31981" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31985" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31987" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31991" href="../Inference/#plfa_plfa-part2-Inference-31991" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-32007" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32010" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-32014" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-32018" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32020" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-32022" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32024" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32027" href="../Inference/#plfa_plfa-part2-Inference-32027" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32030" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-32033" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-32036" href="../Inference/#plfa_plfa-part2-Inference-31991" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-32040" href="../Inference/#plfa_plfa-part2-Inference-32027" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32043" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-32046" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32050" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32052" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32056" href="../Inference/#plfa_plfa-part2-Inference-32056" class="Bound">⊢M</a>              <a id="plfa_plfa-part2-Inference-32072" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32075" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32079" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32081" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-32083" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32085" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32088" href="../Inference/#plfa_plfa-part2-Inference-32056" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32091" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
</pre><p>有三种情况来考虑：</p><ul><li><p>如果项是变量 <code>` x</code>，我们使用之前定义的查询：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ∋ x ⦂ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ ` x ↑ A</code> 成立的证明一定是 <code>⊢` ∋x</code> 的形式，其中 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，所以 <code>⊢` ∋x</code> 是 <code>Γ ⊢ ` x ↑ A</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是函数应用 <code>L · M</code>，我们递归于函数项 <code>L</code>：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在任何类型 <code>Γ ⊢ L ↑ _</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L · _</code> 的形式，其中 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么有两种情况：</p><ul><li>其一是 <code>⊢L</code> 是 <code>Γ ⊢ L ⦂ `ℕ</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L′ · _</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 对于一些类型 <code>A</code> 和 <code>B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code> 构成了一个矛盾， 因为 <code>`ℕ</code> 无法与 <code>A ⇒ B</code> 相等。</li></ul><ul><li><p>另一是 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明，那么我们在参数项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 将 <code>¬arg</code> 应用于 <code>⊢L</code> 和 <code>¬⊢M</code>，我们可得 <code>Γ ⊢ L · M ↑ B</code> 不成立。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明， 且 <code>⊢L · ⊢M</code> 提供了 <code>Γ ⊢ L · M ↑ B</code> 成立的证明。</li></ul></li></ul></li></ul></li></ul><ul><li><p>如果项是从生成到继承的变向项 <code>M ↓ A</code>，我们在子项 <code>M</code> 上递归，并向继承提供类型 <code>A</code>：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明一定是 <code>⊢↓ ⊢M</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，且 <code>⊢↓ ⊢M</code> 提供了 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明。</li></ul></li></ul><p>我们接下来考虑继承的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-35614" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35622" href="../Inference/#plfa_plfa-part2-Inference-35622" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35624" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35625" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35627" href="../Inference/#plfa_plfa-part2-Inference-35627" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35629" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35631" href="../Inference/#plfa_plfa-part2-Inference-35631" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35632" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35634" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-35642" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35645" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35649" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35655" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35663" href="../Inference/#plfa_plfa-part2-Inference-35663" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35665" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35666" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35668" href="../Inference/#plfa_plfa-part2-Inference-35668" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35670" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35672" href="../Inference/#plfa_plfa-part2-Inference-35672" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35673" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35675" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35676" href="../Inference/#plfa_plfa-part2-Inference-35676" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35678" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35680" href="../Inference/#plfa_plfa-part2-Inference-35680" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35681" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35683" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35688" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35696" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35697" href="../Inference/#plfa_plfa-part2-Inference-35663" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35699" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-35701" href="../Inference/#plfa_plfa-part2-Inference-35668" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35703" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-35705" href="../Inference/#plfa_plfa-part2-Inference-35676" class="Bound">A</a><a id="plfa_plfa-part2-Inference-35706" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35708" href="../Inference/#plfa_plfa-part2-Inference-35672" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-35710" href="../Inference/#plfa_plfa-part2-Inference-35680" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-35712" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35716" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35718" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35721" href="../Inference/#plfa_plfa-part2-Inference-35721" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-35740" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35743" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35747" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35751" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35752" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35755" href="../Inference/#plfa_plfa-part2-Inference-35755" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35757" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35760" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35763" href="../Inference/#plfa_plfa-part2-Inference-35721" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-35767" href="../Inference/#plfa_plfa-part2-Inference-35755" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-35770" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35773" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35777" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35779" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35783" href="../Inference/#plfa_plfa-part2-Inference-35783" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-35801" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35804" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35808" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35809" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35812" href="../Inference/#plfa_plfa-part2-Inference-35783" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35814" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35816" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35824" href="../Inference/#plfa_plfa-part2-Inference-35824" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35826" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35832" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>          <a id="plfa_plfa-part2-Inference-35844" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35847" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35851" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a>
<a id="plfa_plfa-part2-Inference-35857" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35865" href="../Inference/#plfa_plfa-part2-Inference-35865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35867" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35873" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35874" href="../Inference/#plfa_plfa-part2-Inference-35874" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35876" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35878" href="../Inference/#plfa_plfa-part2-Inference-35878" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35879" class="Symbol">)</a>     <a id="plfa_plfa-part2-Inference-35885" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35888" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35892" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35898" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35906" href="../Inference/#plfa_plfa-part2-Inference-35906" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35908" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35909" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35914" href="../Inference/#plfa_plfa-part2-Inference-35914" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35915" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35917" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-35920" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35925" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35933" href="../Inference/#plfa_plfa-part2-Inference-35906" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35935" href="../Inference/#plfa_plfa-part2-Inference-35914" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-35937" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-35940" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35944" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35946" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35949" href="../Inference/#plfa_plfa-part2-Inference-35949" class="Bound">¬⊢M</a>                <a id="plfa_plfa-part2-Inference-35968" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35971" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35975" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35979" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35980" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-35985" href="../Inference/#plfa_plfa-part2-Inference-35985" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-35987" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35990" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35993" href="../Inference/#plfa_plfa-part2-Inference-35949" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-35997" href="../Inference/#plfa_plfa-part2-Inference-35985" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36000" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36003" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36007" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36009" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36013" href="../Inference/#plfa_plfa-part2-Inference-36013" class="Bound">⊢M</a>                <a id="plfa_plfa-part2-Inference-36031" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36034" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36038" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36039" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36044" href="../Inference/#plfa_plfa-part2-Inference-36013" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36046" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36048" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36056" href="../Inference/#plfa_plfa-part2-Inference-36056" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36058" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36059" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-36064" href="../Inference/#plfa_plfa-part2-Inference-36064" class="Bound">M</a><a id="plfa_plfa-part2-Inference-36065" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36067" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36068" href="../Inference/#plfa_plfa-part2-Inference-36068" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36070" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36072" href="../Inference/#plfa_plfa-part2-Inference-36072" class="Bound">B</a><a id="plfa_plfa-part2-Inference-36073" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36076" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36079" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36083" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-36089" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36097" href="../Inference/#plfa_plfa-part2-Inference-36097" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36099" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36100" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-36106" href="../Inference/#plfa_plfa-part2-Inference-36106" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-36108" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-36115" href="../Inference/#plfa_plfa-part2-Inference-36115" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36117" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-36122" href="../Inference/#plfa_plfa-part2-Inference-36122" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36124" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36126" href="../Inference/#plfa_plfa-part2-Inference-36126" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36128" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-36129" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36131" href="../Inference/#plfa_plfa-part2-Inference-36131" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36133" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36138" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36149" href="../Inference/#plfa_plfa-part2-Inference-36097" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36151" href="../Inference/#plfa_plfa-part2-Inference-36106" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-36153" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36157" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36159" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36162" href="../Inference/#plfa_plfa-part2-Inference-36162" class="Bound">¬∃</a>                 <a id="plfa_plfa-part2-Inference-36181" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36184" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36188" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36192" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36193" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36199" href="../Inference/#plfa_plfa-part2-Inference-36199" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-36203" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36205" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36208" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36210" href="../Inference/#plfa_plfa-part2-Inference-36162" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36213" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36215" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36218" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36220" href="../Inference/#plfa_plfa-part2-Inference-36199" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36223" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a><a id="plfa_plfa-part2-Inference-36224" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36227" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36231" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36233" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36237" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36239" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36241" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36243" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36245" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36247" href="../Inference/#plfa_plfa-part2-Inference-36247" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36250" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>    <a id="plfa_plfa-part2-Inference-36255" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36258" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36262" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36266" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36267" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36273" href="../Inference/#plfa_plfa-part2-Inference-36273" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36277" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36279" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36282" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36284" href="../Inference/#plfa_plfa-part2-Inference-23010" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-36288" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36289" href="../Inference/#plfa_plfa-part2-Inference-24341" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-36296" href="../Inference/#plfa_plfa-part2-Inference-36273" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36300" href="../Inference/#plfa_plfa-part2-Inference-36247" class="Bound">⊢L</a><a id="plfa_plfa-part2-Inference-36302" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36304" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36307" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36311" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36313" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36317" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36319" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36322" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-36327" href="../Inference/#plfa_plfa-part2-Inference-36327" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36330" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36332" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36337" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36347" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36349" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36351" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36358" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36360" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36363" href="../Inference/#plfa_plfa-part2-Inference-36363" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-36379" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36382" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36386" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36390" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36391" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36397" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36399" href="../Inference/#plfa_plfa-part2-Inference-36399" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36402" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36405" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36407" href="../Inference/#plfa_plfa-part2-Inference-36363" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36411" href="../Inference/#plfa_plfa-part2-Inference-36399" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36414" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36417" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36424" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36426" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36430" href="../Inference/#plfa_plfa-part2-Inference-36430" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36433" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36438" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36446" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36447" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36449" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36451" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36453" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36455" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-36457" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36459" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36461" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36463" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36473" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36475" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36478" href="../Inference/#plfa_plfa-part2-Inference-36478" class="Bound">¬⊢N</a>          <a id="plfa_plfa-part2-Inference-36491" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36494" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36498" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36502" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36503" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36509" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36511" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36513" href="../Inference/#plfa_plfa-part2-Inference-36513" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36515" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36517" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36519" href="../Inference/#plfa_plfa-part2-Inference-36478" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36523" href="../Inference/#plfa_plfa-part2-Inference-36513" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36526" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36529" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36539" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36541" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36545" href="../Inference/#plfa_plfa-part2-Inference-36545" class="Bound">⊢N</a>          <a id="plfa_plfa-part2-Inference-36557" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36560" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36564" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36565" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36571" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36574" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36577" href="../Inference/#plfa_plfa-part2-Inference-36545" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36579" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36581" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36589" href="../Inference/#plfa_plfa-part2-Inference-36589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36591" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36592" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-36594" href="../Inference/#plfa_plfa-part2-Inference-36594" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36596" href="../Inference/#plfa_plfa-part2-Inference-16989" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36598" href="../Inference/#plfa_plfa-part2-Inference-36598" class="Bound">N</a><a id="plfa_plfa-part2-Inference-36599" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36601" href="../Inference/#plfa_plfa-part2-Inference-36601" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36603" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36608" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36616" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36617" href="../Inference/#plfa_plfa-part2-Inference-36589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36619" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36621" href="../Inference/#plfa_plfa-part2-Inference-36594" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36623" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36625" href="../Inference/#plfa_plfa-part2-Inference-36601" class="Bound">A</a><a id="plfa_plfa-part2-Inference-36626" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36628" href="../Inference/#plfa_plfa-part2-Inference-36598" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36630" href="../Inference/#plfa_plfa-part2-Inference-36601" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36632" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36636" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36638" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36641" href="../Inference/#plfa_plfa-part2-Inference-36641" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-36660" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36663" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36667" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36671" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36672" href="../Inference/#plfa_plfa-part2-Inference-20008" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36675" href="../Inference/#plfa_plfa-part2-Inference-36675" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36677" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36679" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36681" href="../Inference/#plfa_plfa-part2-Inference-36641" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36685" href="../Inference/#plfa_plfa-part2-Inference-36675" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36688" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36691" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36695" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36697" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36701" href="../Inference/#plfa_plfa-part2-Inference-36701" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-36719" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36722" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36726" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36727" href="../Inference/#plfa_plfa-part2-Inference-20008" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36730" href="../Inference/#plfa_plfa-part2-Inference-36701" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36732" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36734" href="../Inference/#plfa_plfa-part2-Inference-31284" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36742" href="../Inference/#plfa_plfa-part2-Inference-36742" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36744" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36745" href="../Inference/#plfa_plfa-part2-Inference-36745" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36747" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-36748" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36750" href="../Inference/#plfa_plfa-part2-Inference-36750" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-36752" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36757" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36768" href="../Inference/#plfa_plfa-part2-Inference-36742" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36770" href="../Inference/#plfa_plfa-part2-Inference-36745" class="Bound">M</a>
<a id="plfa_plfa-part2-Inference-36772" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36776" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36778" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36782" href="../Inference/#plfa_plfa-part2-Inference-36782" class="Bound">¬∃</a>                <a id="plfa_plfa-part2-Inference-36800" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36803" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36807" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36811" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36812" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36815" href="../Inference/#plfa_plfa-part2-Inference-36815" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36818" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36821" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36823" href="../Inference/#plfa_plfa-part2-Inference-36782" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36826" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36828" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36830" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36832" href="../Inference/#plfa_plfa-part2-Inference-36815" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36835" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36837" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36840" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36844" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36846" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36850" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36852" href="../Inference/#plfa_plfa-part2-Inference-36852" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36854" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36856" href="../Inference/#plfa_plfa-part2-Inference-36856" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36859" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36861" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36866" href="../Inference/#plfa_plfa-part2-Inference-36852" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36868" href="../Inference/#plfa_plfa-part2-Inference-22239" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-36872" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-36874" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36880" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36882" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36886" href="../Inference/#plfa_plfa-part2-Inference-36886" class="Bound">A≢B</a>             <a id="plfa_plfa-part2-Inference-36902" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36905" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36909" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36910" href="../Inference/#plfa_plfa-part2-Inference-29432" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-36918" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36921" href="../Inference/#plfa_plfa-part2-Inference-36886" class="Bound">A≢B</a><a id="plfa_plfa-part2-Inference-36924" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36926" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36932" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36934" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36938" href="../Inference/#plfa_plfa-part2-Inference-36938" class="Bound">A≡B</a>             <a id="plfa_plfa-part2-Inference-36954" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36957" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36961" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36962" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36965" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36968" href="../Inference/#plfa_plfa-part2-Inference-36938" class="Bound">A≡B</a><a id="plfa_plfa-part2-Inference-36971" class="Symbol">)</a>
</pre><p>我们在此只考虑抽象和从继承变向至生成的情况：</p><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>`ℕ</code>，那么平凡地， <code>Γ ⊢ (ƛ x ⇒ N) ↓ `ℕ</code> 无法成立。</li></ul><ul><li><p>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>A ⇒ B</code>，我们用语境 <code>Γ , x ⦂ A</code> 递归至 子项 <code>N</code> 继承类型 <code>B</code>：</p><ul><li>如果失败了，那么 <code>¬⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 不成立的证明。 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明一定是 <code>⊢ƛ ⊢N</code> 的形式，其中 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，且 <code>⊢ƛ ⊢N</code> 提供了 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是从继承到生成的变向项 <code>M ↑</code>，我们在子项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ⊢ M ↑ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明一定是 <code>⊢↑ ⊢M _</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ A</code> 成立的证明。 我们应用 <code>_≟Tp_</code> 来判定 <code>A</code> 和 <code>B</code> 是否相等：</p><ul><li>如果失败了，那么 <code>A≢B</code> 是 <code>A ≢ B</code> 的证明。 将 <code>¬switch</code> 应用于 <code>⊢M</code> 和 <code>A≢B</code>，我们可得 <code>Γ ⊢ (M ↑) ↓ B</code> 无法成立。</li></ul><ul><li>如果成功了，那么 <code>A≡B</code> 是 <code>A ≡ B</code> 的证明， 且 <code>⊢↑ ⊢M A≡B</code> 提供了 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明。</li></ul></li></ul></li></ul><p>剩余的情况类似，它们的代码可以由对应的赋型规则直接对应得来。</p><h2 id="测试项的例子">测试项的例子</h2><p>首先，我们复制之前介绍过的智能构造子 <code>S′</code>，使得访问语境中的变量更加便利：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-S′"></a><a id="plfa_plfa-part2-Inference-39858" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39861" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39863" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-39865" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39866" href="../Inference/#plfa_plfa-part2-Inference-39866" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39868" href="../Inference/#plfa_plfa-part2-Inference-39868" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39870" href="../Inference/#plfa_plfa-part2-Inference-39870" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39872" href="../Inference/#plfa_plfa-part2-Inference-39872" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-39874" href="../Inference/#plfa_plfa-part2-Inference-39874" class="Bound">B</a><a id="plfa_plfa-part2-Inference-39875" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Inference-39880" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39882" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39883" href="../Inference/#plfa_plfa-part2-Inference-39883" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-39887" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39889" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a> <a id="plfa_plfa-part2-Inference-39895" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39896" href="../Inference/#plfa_plfa-part2-Inference-39868" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39898" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-39900" href="../Inference/#plfa_plfa-part2-Inference-39870" class="Bound">y</a><a id="plfa_plfa-part2-Inference-39901" class="Symbol">)}</a>
   <a id="plfa_plfa-part2-Inference-39907" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39909" href="../Inference/#plfa_plfa-part2-Inference-39866" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39911" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39913" href="../Inference/#plfa_plfa-part2-Inference-39868" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39915" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39917" href="../Inference/#plfa_plfa-part2-Inference-39872" class="Bound">A</a>
     <a id="plfa_plfa-part2-Inference-39924" class="Comment">------------------</a>
   <a id="plfa_plfa-part2-Inference-39946" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39948" href="../Inference/#plfa_plfa-part2-Inference-39866" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39950" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-39952" href="../Inference/#plfa_plfa-part2-Inference-39870" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39954" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39956" href="../Inference/#plfa_plfa-part2-Inference-39874" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-39958" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39960" href="../Inference/#plfa_plfa-part2-Inference-39868" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39962" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39964" href="../Inference/#plfa_plfa-part2-Inference-39872" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-39967" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39970" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39971" class="Argument">x≢y</a> <a id="plfa_plfa-part2-Inference-39975" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39977" href="../Inference/#plfa_plfa-part2-Inference-39977" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39980" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-39982" href="../Inference/#plfa_plfa-part2-Inference-39982" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39984" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39986" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-39988" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39989" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="plfa_plfa-part2-Inference-40004" href="../Inference/#plfa_plfa-part2-Inference-39977" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-40007" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40009" href="../Inference/#plfa_plfa-part2-Inference-39982" class="Bound">x</a>
</pre><p>下面是给自然数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2"></a><a id="plfa_plfa-part2-Inference-40107" href="../Inference/#plfa_plfa-part2-Inference-40107" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40112" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40114" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40116" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-40118" href="../Inference/#plfa_plfa-part2-Inference-17839" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40122" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-40124" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-40127" href="../Inference/#plfa_plfa-part2-Inference-40107" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40132" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-40136" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40137" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a>
   <a id="plfa_plfa-part2-Inference-40143" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40144" href="../Inference/#plfa_plfa-part2-Inference-20008" class="InductiveConstructor">⊢μ</a>
    <a id="plfa_plfa-part2-Inference-40151" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40152" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-40160" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40161" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-40170" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40171" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-40177" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40178" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40181" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40182" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40185" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40186" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40189" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40190" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40193" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40194" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40197" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40198" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40200" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40204" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-40213" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40214" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a>
        <a id="plfa_plfa-part2-Inference-40227" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40228" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a>
         <a id="plfa_plfa-part2-Inference-40240" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40241" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a>
          <a id="plfa_plfa-part2-Inference-40254" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40255" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a>
           <a id="plfa_plfa-part2-Inference-40269" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40270" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a>
            <a id="plfa_plfa-part2-Inference-40285" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40286" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40289" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40290" class="Symbol">)))</a>
          <a id="plfa_plfa-part2-Inference-40304" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40306" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40309" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40310" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40313" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40314" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40316" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="plfa_plfa-part2-Inference-40331" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40333" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40336" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40337" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40340" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40341" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40344" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40345" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40348" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40352" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-40363" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40367" class="Symbol">))))))</a>
   <a id="plfa_plfa-part2-Inference-40377" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40379" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40384" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40385" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40390" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40395" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Inference-40400" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40402" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40407" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40408" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40413" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40418" class="Symbol">))</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-40579" href="../Inference/#plfa_plfa-part2-Inference-40579" class="Function">_</a> <a id="plfa_plfa-part2-Inference-40581" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40583" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-40594" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40596" href="../Inference/#plfa_plfa-part2-Inference-17839" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40600" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-40602" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-40606" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-40608" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-40611" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-40613" href="../Inference/#plfa_plfa-part2-Inference-40107" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40618" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-40620" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-40622" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40624" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>的确，上述的推导是用左边的项求值所得的，再加上一些微小的修改。 所需的修改只是使用智能构造子 <code>S′</code> 来获取两个变量名（使用字符串）不同的证明（其无法打印或阅读）。</p><p>下面是给 Church 数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-41118" href="../Inference/#plfa_plfa-part2-Inference-41118" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41124" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41126" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41128" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-41130" href="../Inference/#plfa_plfa-part2-Inference-18443" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41135" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-41137" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-41140" href="../Inference/#plfa_plfa-part2-Inference-41118" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41146" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-41150" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a>
  <a id="plfa_plfa-part2-Inference-41155" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41156" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41162" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41163" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
    <a id="plfa_plfa-part2-Inference-41170" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41171" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-41179" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41180" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-41189" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41190" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a>
       <a id="plfa_plfa-part2-Inference-41200" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41201" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a>
        <a id="plfa_plfa-part2-Inference-41212" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41213" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a>
         <a id="plfa_plfa-part2-Inference-41225" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41226" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41239" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41240" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41243" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41244" class="Symbol">)))</a>
        <a id="plfa_plfa-part2-Inference-41256" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41258" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41261" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41262" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41265" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41266" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41269" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41270" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41273" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Inference-41286" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Inference-41296" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a>
        <a id="plfa_plfa-part2-Inference-41307" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41308" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a>
         <a id="plfa_plfa-part2-Inference-41320" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41321" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41334" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41335" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41338" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41339" class="Symbol">))</a>
         <a id="plfa_plfa-part2-Inference-41351" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41353" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41356" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41357" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41360" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41361" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41364" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41365" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41368" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
         <a id="plfa_plfa-part2-Inference-41382" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41384" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41387" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41388" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41391" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41392" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41394" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41398" class="Symbol">)</a>
        <a id="plfa_plfa-part2-Inference-41408" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41412" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-41421" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41425" class="Symbol">)))))</a>
  <a id="plfa_plfa-part2-Inference-41433" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41437" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41442" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41443" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41449" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41450" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41457" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41458" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41461" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41462" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41465" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41466" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41468" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41475" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41478" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41479" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41482" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41483" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41486" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41487" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41489" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41491" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41494" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41495" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41498" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41499" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41501" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41505" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41512" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41516" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41522" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41526" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41531" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41535" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41540" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41541" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41547" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41548" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41555" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41556" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41559" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41560" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41563" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41564" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41566" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41573" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41576" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41577" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41580" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41581" href="../Inference/#plfa_plfa-part2-Inference-39858" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41584" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41585" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41587" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41589" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41592" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41593" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41596" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41597" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41599" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41603" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41610" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41614" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41620" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41624" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41629" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41631" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-41634" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41635" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-41640" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41641" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41644" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41645" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41648" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41649" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41651" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41655" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41660" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41662" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-41826" href="../Inference/#plfa_plfa-part2-Inference-41826" class="Function">_</a> <a id="plfa_plfa-part2-Inference-41828" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41830" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-41841" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41843" href="../Inference/#plfa_plfa-part2-Inference-18443" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41848" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-41850" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-41854" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-41856" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-41859" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-41861" href="../Inference/#plfa_plfa-part2-Inference-41118" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41867" href="../Inference/#plfa_plfa-part2-Inference-14862" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-41869" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-41871" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-41873" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>同样，上面的推导使用对左手边的项求值所得，加上一些修改。</p><h2 id="测试错误的例子">测试错误的例子</h2><p>很重要的是，不仅要检查代码是否按照意图工作，以及代码是否按照意图不工作。 下面是检查不同种类错误的例子：</p><p>未约束的变量：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42315" href="../Inference/#plfa_plfa-part2-Inference-42315" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42317" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42319" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42330" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42332" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42334" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-42336" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-42340" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42342" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-42344" class="String">&quot;y&quot;</a> <a id="plfa_plfa-part2-Inference-42348" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-42349" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42351" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42353" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42354" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42357" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42359" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42361" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-42364" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42366" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42369" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42371" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42373" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42375" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的参数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42457" href="../Inference/#plfa_plfa-part2-Inference-42457" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42459" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42461" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42472" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42474" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42475" href="../Inference/#plfa_plfa-part2-Inference-17648" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42480" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42482" href="../Inference/#plfa_plfa-part2-Inference-18399" class="Function">sucᶜ</a><a id="plfa_plfa-part2-Inference-42486" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42488" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42490" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42493" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42495" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42497" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42499" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42581" href="../Inference/#plfa_plfa-part2-Inference-42581" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42583" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42585" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42596" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42598" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42599" href="../Inference/#plfa_plfa-part2-Inference-17648" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42604" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42606" href="../Inference/#plfa_plfa-part2-Inference-18399" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-42611" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42613" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a><a id="plfa_plfa-part2-Inference-42616" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42618" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42620" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42623" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42625" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42627" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42629" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数是自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42715" href="../Inference/#plfa_plfa-part2-Inference-42715" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42717" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42719" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42730" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42732" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42734" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42738" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42740" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42742" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42744" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42746" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a><a id="plfa_plfa-part2-Inference-42749" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42751" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42753" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42756" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42758" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42760" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42762" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>抽象继承了自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42838" href="../Inference/#plfa_plfa-part2-Inference-42838" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42840" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42842" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42853" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42855" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42856" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-42861" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42863" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42865" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42867" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42869" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42872" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42874" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42876" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42878" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>零继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42948" href="../Inference/#plfa_plfa-part2-Inference-42948" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42950" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42952" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42963" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42965" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42966" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-42972" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42974" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42977" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42979" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42981" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42983" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42985" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42988" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42990" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42992" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42994" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>后继继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43070" href="../Inference/#plfa_plfa-part2-Inference-43070" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43072" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43074" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43085" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43087" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43088" href="../Inference/#plfa_plfa-part2-Inference-17611" class="Function">two</a> <a id="plfa_plfa-part2-Inference-43092" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43094" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43097" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43099" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43101" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43103" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43105" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43108" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43110" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43112" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43114" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>非良类型项的后继：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43185" href="../Inference/#plfa_plfa-part2-Inference-43185" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43187" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43189" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43200" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43202" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43203" href="../Inference/#plfa_plfa-part2-Inference-16882" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-43208" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43213" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43215" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43217" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43219" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43221" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43224" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43226" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43228" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43230" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对函数类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43310" href="../Inference/#plfa_plfa-part2-Inference-43310" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43312" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43314" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43325" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43333" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43335" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43341" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43342" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43347" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43349" href="../Inference/#plfa_plfa-part2-Inference-18138" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-43351" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43353" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43360" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43366" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43371" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43375" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43377" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43379" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43383" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43385" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43387" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43389" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43391" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43393" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43395" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43397" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43400" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43402" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43404" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43406" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对不良类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43476" href="../Inference/#plfa_plfa-part2-Inference-43476" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43478" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43480" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43491" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43499" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43501" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43507" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43508" href="../Inference/#plfa_plfa-part2-Inference-18174" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43513" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43515" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43517" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43519" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43526" href="../Inference/#plfa_plfa-part2-Inference-16847" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43532" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43537" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43541" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43543" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43545" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43549" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43551" href="../Inference/#plfa_plfa-part2-Inference-16925" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43553" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43555" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43557" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43559" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43561" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43563" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43566" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43568" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43570" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43572" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>变向时继承与生成的项不一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43670" href="../Inference/#plfa_plfa-part2-Inference-43670" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43672" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43674" href="../Inference/#plfa_plfa-part2-Inference-31164" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43685" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43687" class="Symbol">(((</a><a id="plfa_plfa-part2-Inference-43690" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-43692" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43696" href="../Inference/#plfa_plfa-part2-Inference-16799" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43698" href="../Inference/#plfa_plfa-part2-Inference-16640" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43700" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43704" href="../Inference/#plfa_plfa-part2-Inference-17037" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-43705" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43707" href="../Inference/#plfa_plfa-part2-Inference-16731" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43709" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43712" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43714" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43715" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43718" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43720" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43722" class="Symbol">)))</a> <a id="plfa_plfa-part2-Inference-43726" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43728" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43731" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43733" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43735" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43737" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="擦除">擦除</h2><p>从装饰过的项拥有正确的类型的证明中，我们可以简单地提取出对应的内在类型的项。 我们使用 <code>DB</code> 来指代 <a href="../DeBruijn/">DeBruijn</a> 章节中的代码。 我们可以简单地定义一个<strong>擦除</strong>（Erasure）从外在的赋型判断，至对应的内在类型的项的函数。</p><p>首先，我们给出擦除类型的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Tp"></a><a id="plfa_plfa-part2-Inference-44328" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥_∥Tp</a> <a id="plfa_plfa-part2-Inference-44334" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44336" href="../Inference/#plfa_plfa-part2-Inference-16134" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-44341" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44343" href="../More/#plfa_plfa-part2-More-21298" class="Datatype">DB.Type</a>
<a id="plfa_plfa-part2-Inference-44351" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44353" href="../Inference/#plfa_plfa-part2-Inference-16153" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-44356" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>             <a id="plfa_plfa-part2-Inference-44372" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44375" href="../More/#plfa_plfa-part2-More-21317" class="InductiveConstructor">DB.`ℕ</a>
<a id="plfa_plfa-part2-Inference-44381" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44383" href="../Inference/#plfa_plfa-part2-Inference-44383" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44385" href="../Inference/#plfa_plfa-part2-Inference-16168" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-44387" href="../Inference/#plfa_plfa-part2-Inference-44387" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44389" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>          <a id="plfa_plfa-part2-Inference-44402" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44405" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44407" href="../Inference/#plfa_plfa-part2-Inference-44383" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44409" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a> <a id="plfa_plfa-part2-Inference-44413" href="../More/#plfa_plfa-part2-More-21332" class="InductiveConstructor Operator">DB.⇒</a> <a id="plfa_plfa-part2-Inference-44418" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44420" href="../Inference/#plfa_plfa-part2-Inference-44387" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44422" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>
</pre><p>它简单地把对应的构造子重命名至 <code>DB</code> 模块中。</p><p>接下来，我们给出擦除语境的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Cx"></a><a id="plfa_plfa-part2-Inference-44615" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥_∥Cx</a> <a id="plfa_plfa-part2-Inference-44621" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44623" href="../Inference/#plfa_plfa-part2-Inference-16201" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-44631" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44633" href="../More/#plfa_plfa-part2-More-21452" class="Datatype">DB.Context</a>
<a id="plfa_plfa-part2-Inference-44644" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44646" href="../Inference/#plfa_plfa-part2-Inference-16223" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-44648" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a>              <a id="plfa_plfa-part2-Inference-44665" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44668" href="../More/#plfa_plfa-part2-More-21474" class="InductiveConstructor">DB.∅</a>
<a id="plfa_plfa-part2-Inference-44673" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44675" href="../Inference/#plfa_plfa-part2-Inference-44675" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44677" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-44679" href="../Inference/#plfa_plfa-part2-Inference-44679" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44681" href="../Inference/#plfa_plfa-part2-Inference-16241" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44683" href="../Inference/#plfa_plfa-part2-Inference-44683" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44685" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a>      <a id="plfa_plfa-part2-Inference-44694" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44697" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44699" href="../Inference/#plfa_plfa-part2-Inference-44675" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44701" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44705" href="../More/#plfa_plfa-part2-More-21490" class="InductiveConstructor Operator">DB.,</a> <a id="plfa_plfa-part2-Inference-44710" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44712" href="../Inference/#plfa_plfa-part2-Inference-44683" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44714" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>
</pre><p>它简单地丢弃了变量名。</p><p>接下来，我们给出擦除查询判断的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥∋"></a><a id="plfa_plfa-part2-Inference-44871" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥_∥∋</a> <a id="plfa_plfa-part2-Inference-44876" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44878" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-44880" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-44881" href="../Inference/#plfa_plfa-part2-Inference-44881" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44883" href="../Inference/#plfa_plfa-part2-Inference-44883" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44885" href="../Inference/#plfa_plfa-part2-Inference-44885" class="Bound">A</a><a id="plfa_plfa-part2-Inference-44886" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-44888" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44890" href="../Inference/#plfa_plfa-part2-Inference-44881" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44892" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-44894" href="../Inference/#plfa_plfa-part2-Inference-44883" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44896" href="../Inference/#plfa_plfa-part2-Inference-18886" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44898" href="../Inference/#plfa_plfa-part2-Inference-44885" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44900" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44902" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44904" href="../Inference/#plfa_plfa-part2-Inference-44881" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44906" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44910" href="../More/#plfa_plfa-part2-More-21600" class="Datatype Operator">DB.∋</a> <a id="plfa_plfa-part2-Inference-44915" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44917" href="../Inference/#plfa_plfa-part2-Inference-44885" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44919" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-44923" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44925" href="../Inference/#plfa_plfa-part2-Inference-18929" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-44927" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥∋</a>               <a id="plfa_plfa-part2-Inference-44944" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44947" href="../More/#plfa_plfa-part2-More-21636" class="InductiveConstructor">DB.Z</a>
<a id="plfa_plfa-part2-Inference-44952" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44954" href="../Inference/#plfa_plfa-part2-Inference-18994" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-44956" href="../Inference/#plfa_plfa-part2-Inference-44956" class="Bound">x≢</a> <a id="plfa_plfa-part2-Inference-44959" href="../Inference/#plfa_plfa-part2-Inference-44959" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44962" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥∋</a>         <a id="plfa_plfa-part2-Inference-44973" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44976" href="../More/#plfa_plfa-part2-More-21683" class="InductiveConstructor Operator">DB.S</a> <a id="plfa_plfa-part2-Inference-44981" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44983" href="../Inference/#plfa_plfa-part2-Inference-44959" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44986" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥∋</a>
</pre><p>它简单地丢弃了变量名不同的证明。</p><p>最后，我们给出擦除赋型判断的代码。 正如由两个共同递归的赋型判断，我们有两个共同递归的擦除函数：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥⁺"></a><a id="plfa_plfa-part2-Inference-45318" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥_∥⁺</a> <a id="plfa_plfa-part2-Inference-45323" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45325" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45327" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45328" href="../Inference/#plfa_plfa-part2-Inference-45328" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45330" href="../Inference/#plfa_plfa-part2-Inference-45330" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45332" href="../Inference/#plfa_plfa-part2-Inference-45332" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45333" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45335" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45337" href="../Inference/#plfa_plfa-part2-Inference-45328" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45339" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45341" href="../Inference/#plfa_plfa-part2-Inference-45330" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45343" href="../Inference/#plfa_plfa-part2-Inference-19234" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-45345" href="../Inference/#plfa_plfa-part2-Inference-45332" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45347" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45349" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45351" href="../Inference/#plfa_plfa-part2-Inference-45328" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45353" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45357" href="../More/#plfa_plfa-part2-More-22742" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45362" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45364" href="../Inference/#plfa_plfa-part2-Inference-45332" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45366" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-∥_∥⁻"></a><a id="plfa_plfa-part2-Inference-45370" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥_∥⁻</a> <a id="plfa_plfa-part2-Inference-45375" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45377" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45379" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45380" href="../Inference/#plfa_plfa-part2-Inference-45380" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45382" href="../Inference/#plfa_plfa-part2-Inference-45382" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45384" href="../Inference/#plfa_plfa-part2-Inference-45384" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45385" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45387" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45389" href="../Inference/#plfa_plfa-part2-Inference-45380" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45391" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45393" href="../Inference/#plfa_plfa-part2-Inference-45382" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45395" href="../Inference/#plfa_plfa-part2-Inference-19276" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-45397" href="../Inference/#plfa_plfa-part2-Inference-45384" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45399" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45401" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45403" href="../Inference/#plfa_plfa-part2-Inference-45380" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45405" href="../Inference/#plfa_plfa-part2-Inference-44615" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45409" href="../More/#plfa_plfa-part2-More-22742" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45414" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45416" href="../Inference/#plfa_plfa-part2-Inference-45384" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45418" href="../Inference/#plfa_plfa-part2-Inference-44328" class="Function Operator">∥Tp</a>

<a id="plfa_plfa-part2-Inference-45423" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45425" href="../Inference/#plfa_plfa-part2-Inference-19334" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-45428" href="../Inference/#plfa_plfa-part2-Inference-45428" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45431" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45444" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45447" href="../More/#plfa_plfa-part2-More-22787" class="InductiveConstructor Operator">DB.`</a> <a id="plfa_plfa-part2-Inference-45452" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45454" href="../Inference/#plfa_plfa-part2-Inference-45428" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45457" href="../Inference/#plfa_plfa-part2-Inference-44871" class="Function Operator">∥∋</a>
<a id="plfa_plfa-part2-Inference-45460" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45462" href="../Inference/#plfa_plfa-part2-Inference-45462" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45465" href="../Inference/#plfa_plfa-part2-Inference-19404" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-45467" href="../Inference/#plfa_plfa-part2-Inference-45467" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45470" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a>         <a id="plfa_plfa-part2-Inference-45481" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45484" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45486" href="../Inference/#plfa_plfa-part2-Inference-45462" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45489" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45492" href="../More/#plfa_plfa-part2-More-22916" class="InductiveConstructor Operator">DB.·</a> <a id="plfa_plfa-part2-Inference-45497" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45499" href="../Inference/#plfa_plfa-part2-Inference-45467" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45502" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45505" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45507" href="../Inference/#plfa_plfa-part2-Inference-19503" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-45510" href="../Inference/#plfa_plfa-part2-Inference-45510" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45513" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45526" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45529" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45531" href="../Inference/#plfa_plfa-part2-Inference-45510" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45534" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>

<a id="plfa_plfa-part2-Inference-45538" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45540" href="../Inference/#plfa_plfa-part2-Inference-19599" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-45543" href="../Inference/#plfa_plfa-part2-Inference-45543" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45546" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45559" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45562" href="../More/#plfa_plfa-part2-More-22848" class="InductiveConstructor Operator">DB.ƛ</a> <a id="plfa_plfa-part2-Inference-45567" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45569" href="../Inference/#plfa_plfa-part2-Inference-45543" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45572" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45575" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45577" href="../Inference/#plfa_plfa-part2-Inference-19697" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-45583" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45596" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45599" href="../More/#plfa_plfa-part2-More-23001" class="InductiveConstructor">DB.`zero</a>
<a id="plfa_plfa-part2-Inference-45608" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45610" href="../Inference/#plfa_plfa-part2-Inference-19756" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-45615" href="../Inference/#plfa_plfa-part2-Inference-45615" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45618" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>         <a id="plfa_plfa-part2-Inference-45629" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45632" href="../More/#plfa_plfa-part2-More-23044" class="InductiveConstructor Operator">DB.`suc</a> <a id="plfa_plfa-part2-Inference-45640" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45642" href="../Inference/#plfa_plfa-part2-Inference-45615" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45645" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45648" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45650" href="../Inference/#plfa_plfa-part2-Inference-19835" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-45656" href="../Inference/#plfa_plfa-part2-Inference-45656" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45659" href="../Inference/#plfa_plfa-part2-Inference-45659" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45662" href="../Inference/#plfa_plfa-part2-Inference-45662" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45665" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>  <a id="plfa_plfa-part2-Inference-45669" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45672" href="../More/#plfa_plfa-part2-More-23100" class="InductiveConstructor">DB.case</a> <a id="plfa_plfa-part2-Inference-45680" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45682" href="../Inference/#plfa_plfa-part2-Inference-45656" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45685" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45688" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45690" href="../Inference/#plfa_plfa-part2-Inference-45659" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45693" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a> <a id="plfa_plfa-part2-Inference-45696" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45698" href="../Inference/#plfa_plfa-part2-Inference-45662" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45701" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45704" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45706" href="../Inference/#plfa_plfa-part2-Inference-20008" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-45709" href="../Inference/#plfa_plfa-part2-Inference-45709" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45712" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45725" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45728" href="../More/#plfa_plfa-part2-More-23194" class="InductiveConstructor Operator">DB.μ</a> <a id="plfa_plfa-part2-Inference-45733" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45735" href="../Inference/#plfa_plfa-part2-Inference-45709" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45738" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45741" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45743" href="../Inference/#plfa_plfa-part2-Inference-20098" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-45746" href="../Inference/#plfa_plfa-part2-Inference-45746" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45749" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-45754" href="../Inference/#plfa_plfa-part2-Inference-45370" class="Function Operator">∥⁻</a>      <a id="plfa_plfa-part2-Inference-45762" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45765" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45767" href="../Inference/#plfa_plfa-part2-Inference-45746" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45770" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a>
</pre><p>擦除将每个赋型判断中的构造子替换成 <code>DB</code> 中对应的项构造子。 对应变向的构造子被丢弃。</p><p>我们证实本章中的赋型判断擦除后，与之前使用内在类型项章节中的那些一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46242" href="../Inference/#plfa_plfa-part2-Inference-46242" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46244" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46246" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46248" href="../Inference/#plfa_plfa-part2-Inference-40107" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-46253" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46256" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46258" href="../More/#plfa_plfa-part2-More-40227" class="Function">DB.2+2</a>
<a id="plfa_plfa-part2-Inference-46265" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46267" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46269" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-46275" href="../Inference/#plfa_plfa-part2-Inference-46275" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46277" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46279" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46281" href="../Inference/#plfa_plfa-part2-Inference-41118" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-46287" href="../Inference/#plfa_plfa-part2-Inference-45318" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46290" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46292" href="../More/#plfa_plfa-part2-More-40511" class="Function">DB.2+2ᶜ</a>
<a id="plfa_plfa-part2-Inference-46300" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46302" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46304" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>因此，我们证实了双向类型推理把装饰后的 <a href="../Lambda/">Lambda</a> 章节的 λ 项转换至 <a href="../DeBruijn">DeBruijn</a> 章节中内在类型的项。</p><h4 id="练习-inference-multiplication-推荐">练习 <code>inference-multiplication</code> （推荐）</h4><p>对你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的乘法项应用双向推理， 并证明推理得到的赋型可以擦除至 <a href="../DeBruijn/">DeBruijn</a> 章节中你的定义。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47113" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-products-推荐">练习 <code>inference-products</code> （推荐）</h4><p>使用你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的赋型规则， 将双向推理扩充至包括积。此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47503" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-rest-延伸">练习 <code>inference-rest</code> （延伸）</h4><p>使用你从练习 <a href="../Inference/#bidirectional-rest"><code>bidirectional-rest</code></a> 中得到的规则，扩充双向推导规则，来包括 <a href="../More/">More</a> 章节的剩余构造。 此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47945" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="agda-中的双向推理">Agda 中的双向推理</h2><p>Agda 本身也使用双向推理。 这解释了为什么构造子可以被重载，而其他定义的名称不可以——此处的<strong>重载</strong>指的是我们可以给不同类型的构造子使用相同的名称。 构造子是由继承来赋型，而变量由生成来赋型，因此每个变量必须有唯一的类型。</p><p>Agda 中多数的顶层声明时函数，其由继承来赋型，也就是为什么 Agda 会对这些定义要求类型声明。 一个由生成赋型的右手边的定义，比如说函数应用，则不需要类型声明。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-answer"></a><a id="plfa_plfa-part2-Inference-48955" href="../Inference/#plfa_plfa-part2-Inference-48955" class="Function">answer</a> <a id="plfa_plfa-part2-Inference-48962" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-48964" class="Number">6</a> <a id="plfa_plfa-part2-Inference-48966" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="plfa_plfa-part2-Inference-48968" class="Number">7</a>
</pre><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>↓  U+2193:  DOWNWARDS ARROW (\d)
↑  U+2191:  UPWARDS ARROW (\u)
∥  U+2225:  PARALLEL TO (\||)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：Fangyi Zhou</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>