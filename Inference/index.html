<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-MkpYfmkWIfATGEd6NpDhZJQB2nIkJDL4/+fTWrR8KGUYK4WpHdNkNtsOewHrkVqI4K1SrtjK7aC/fwQljbifBA==" title="Light" id="stylesheet-light"><link rel="alternate stylesheet" href="../assets/css/dark.css" integrity="sha512-T2Tad3PSo5pIHyLVaV57XanuJRwSgTPT+WVb96FUf6y0ZJIXP4d/lNPJUqbUZ3j0Nq/gej2yteryEz/Hkr2Cdg==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Inference</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Inference: 双向类型推理</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Inference-122" class="Keyword">module</a> <a id="plfa_plfa-part2-Inference-129" href="../Inference/#" class="Module">plfa.part2.Inference</a> <a id="plfa_plfa-part2-Inference-150" class="Keyword">where</a>
</pre><p>在本书至此的进展中，项的类型推导是如法令一般直接给出的。 在 <a href="../Lambda/">Lambda</a> 章节，类型推导以外在于项的形式给出， 而在 <a href="../DeBruijn/">DeBruijn</a> 章节，类型推导以内在于项的形式给出， 但在两者均要求我们将类型推导完全写出。</p><p>在实践中，我们一般可以给项加上一些装饰，然后运用算法来<strong>推理</strong>（Infer）出类型推导。 的确，Agda 中也是这样：我们给顶层的函数声明指定类型，而其余可由给出的信息推理而来。 Agda 使用的这种推理被称为<strong>双向</strong>（Bidirectional）类型推理，我们将在本章中进行展示。</p><p>本章中，我们讲之前的进展结合在一起。 我们首先由带有类型注释的项开始，其与 <a href="../Lambda/">Lambda</a> 章节中的源项相似， 从此我们计算出内在类型的项，如同 <a href="../DeBruijn">DeBruijn</a> 章节中那样。</p><h2 id="algorithms">绪论：推理规则作为算法</h2><p>在我们至此使用的演算中，一个项可以有多于一个类型。例如，</p><pre><code>(ƛ x ⇒ x) ⦂ (A ⇒ A)</code></pre><p>对于<strong>任意</strong>类型 <code>A</code> 成立。 我们首先考虑一个带有 λ 项的小语言，其每一项有其唯一的类型。 我们只需要给抽象加上参数的类型。 这样我们可以得到如下的语法：</p><pre><code>L, M, N ::=                         带装饰的项
  x                                   变量
  ƛ x ⦂ A ⇒ N                         抽象（装饰后）
  L · M                               应用</code></pre><p>每一条相关的赋型规则可以被读作类型检查的算法。 对于每一条赋型规则，我们将每个位置标记如<strong>输入</strong>（Input）或者<strong>输出</strong>（Output）。</p><p>对于下面的判断</p><pre><code>Γ ∋ x ⦂ A</code></pre><p>我们将上下文 <code>Γ</code> 和变量 <code>x</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>----------------- Z
Γ , x ⦂ A ∋ x ⦂ A

Γ ∋ x ⦂ A
----------------- S
Γ , y ⦂ B ∋ x ⦂ A</code></pre><p>从输入中，我们可以决定应用哪一条规则： 如果上下文中最后一个变量与给定的变量一致，那么应用第一条规则，否则应用第二条。 （对于 de Bruijn 因子来说，这更加简单：零对应第一条，后继对应第二条。） 对于第一条，输出类型可以直接从上下文中得到。 对于第二条，结论中的输入可以作为假设的输入，而假设的输出决定了结论的输出。</p><p>对于下面的判断：</p><pre><code>Γ ⊢ M ⦂ A</code></pre><p>我们将上下文 <code>Γ</code> 和项 <code>M</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>Γ ∋ x ⦂ A
-----------
Γ ⊢ ` x ⦂ A

Γ , x ⦂ A ⊢ N ⦂ B
---------------------------
Γ ⊢ (ƛ x ⦂ A ⇒ N) ⦂ (A ⇒ B)

Γ ⊢ L ⦂ A ⇒ B
Γ ⊢ M ⦂ A′
A ≡ A′
-------------
Γ ⊢ L · M ⦂ B</code></pre><p>输入项决定了应用哪一条规则： 变量使用第一条，抽象使用第二条，应用使用第三条。 我们把这样的规则叫做<strong>语法导向的</strong>（Syntax directed）规则。 对于变量的规则，结论的输入决定了结论的输出。 抽象的规则也是一样——约束变量和参数从结论的输入流向假设中的上下文； 这得以实现，因为我们在抽象中加入了参数的类型。 对于应用的规则，我们加入第三条假设来检查函数类型中的作用域是否与参数的类型一致； 这条判断是在两个类型已知时是可决定的。 结论的输入决定了前两个假设的输入，而前两个假设的输出决定了第三个假设的输入，而第一个假设的输出决定了结论的输出。</p><p>我们可以直接地把上述内容转换成一个算法，加入自然数和不动点也很直接。我们省略其明细。 取而代之的是，我们考虑一种需要更少装饰的表示方法。 其核心思想是将普通的赋型判断拆分成两个判断，一个生成类型作为输出，另一个取类型作为输入。</p><h2 id="生成和继承类型">生成和继承类型</h2><p>我们保留之前的变量的查询判断。除此之外，我们有两种联系类型和项的判断：</p><pre><code>Γ ⊢ M ↑ A
Γ ⊢ M ↓ A</code></pre><p>第一类判断<strong>生成</strong>（Synthesise）项的类型，如上，而第二类<strong>继承</strong>（Inherit）类型。 在第一类中，上下文和项作为输入，类型作为输出； 而在第二类中，上下文、项和类型三者都作为输入。</p><p>什么项生成类型，什么项继承类型的？ 我们的宗旨是<strong>析构器</strong>中的主项使用生成来赋型，而<strong>构造子</strong>使用继承。 比如，函数应用中的函数由生成来赋型，而抽象是由继承来赋型。 抽象中继承的类型和之前我们为参数额外增加的注解起到一样的作用。</p><p>析构某一类型的值的项总有一个主项（提供一个所需类型的参数），且经常有副项。 对于函数应用来说，主项提供了函数，副项提供了参数。 对于分情况讨论来说，主项提供了自然数，副项则是两种情况不同的情况。 在析构器中，主项使用生成进行赋型，而副项使用继承进行赋型。 我们将看到，这自然地导致函数应用作为整体由生成进行赋型，而分情况讨论作为整体则使用继承进行赋型。 变量一般使用生成进行赋型，因为我们可以直接从上下文中查询其类型。 不动点自然是用继承来赋型。</p><p>为了达成赋型系统的语法导向性，我们将项分为两类： <code>Term⁺</code> 和 <code>Term⁻</code>，分别用生成和继承来赋型。 由生成赋型的子项可能出现在由继承赋型的子项中，反之亦然，这给我们带来两种新形式。</p><p>例如，我们之前提到函数应用的参数由继承赋型，而变量由生成赋型。 在参数是变量时会出现不匹配的情况。 因此，我们需要一种把生成的项当作继承的项的方法。 我们引入 <code>M ↑</code> 这种新的形式来达成此目的。 它的赋型判断即为检查其生成和继承的类型是否一致。</p><p>同样，函数应用的函数部分由生成来赋型，而抽象是由继承来赋型。 在函数是抽象时会出现不匹配的情况。 因此，我们需要一种把继承的项当作生成的项的方法。 我们引入 <code>M ↓ A</code> 这种新的形式来达成此目的。 它的赋型判断返回 <code>A</code> 作为生成的类型，并把它作为 <code>M</code> 继承的类型。</p><p><code>M ↓ A</code> 这种形式表示了我们唯一需要用类型来装饰的项。 它只在从生成切换成继承时出现， 即当一个<strong>析构</strong>某一类型的值的项的主项中包含了一个<strong>构造</strong>某一类型的值的时候， 也就是说，这是在 <code>β</code> 规约发生的地方出现。 一般来说，我们只需要在顶层声明中需要这样的装饰。</p><p>我们可以从上文中提取出项的语法：</p><pre><code>L⁺, M⁺, N⁺ ::=                      带有生成类型的项
  x                                   变量
  L⁺ · M⁻                             应用
  M⁻ ↓ A                              切换至继承

L⁻, M⁻, N⁻ ::=                      带有继承类型的项
  ƛ x ⇒ N⁻                            抽象
  `zero                               零
  `suc M⁻                             后继
  case L⁺ [zero⇒ M⁻ |suc x ⇒ N⁻ ]     分情况讨论
  μ x ⇒ N⁻                            不动点
  M⁺ ↑                                切换至生成</code></pre><p>我们将在下文中形式化上述定义。</p><h2 id="可靠性和完备性">可靠性和完备性</h2><p>我们试图证明赋型判断是<strong>可决定</strong>的：</p><pre><code>synthesize : ∀ (Γ : Context) (M : Term⁺)
    ------------------------------------
  → Dec (∃[ A ] Γ ⊢ M ↑ A)

inherit : ∀ (Γ : Context) (M : Term⁻) (A : Type)
          --------------------------------------
        → Dec (Γ ⊢ M ↓ A)</code></pre><p>给定上下文 <code>Γ</code> 和生成项 <code>M</code>，我们必须判定是否存在一个类型 <code>A</code> 使得 <code>Γ ⊢ M ↑ A</code> 成立， 或者其否定。 同样，给定上下文 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code>，我们必须判定 <code>Γ ⊢ M ↓ A</code> 成立，或者其否定。</p><p>我们的证明是构造性的。 在生成的情况中，它要么给出一个包括类型 <code>A</code> 和 <code>Γ ⊢ M ↓ A</code> 成立的证明的有序对，或是一个将上述有序对转换成矛盾的函数。 在继承的情况中，它要么给出 <code>Γ ⊢ M ↑ A</code> 成立的证明，或是一个将上述证明转换成矛盾的函数。 成立的情况被称为<strong>可靠性</strong>（Soundness）——生成和继承只在对应关系成立时成功。 不成立的情况被称为<strong>完备性</strong>（Completeness）——生成和继承只在对应关系无法成立时失败。</p><p>另一种实现方法可能在生成或继承成功时返回其推导，并在失败时返回一条错误信息——例如， 参见 Agda 用户手册中讨论 <a href="https://agda.readthedocs.io/en/latest/language/syntactic-sugar.html#example">语法糖</a>. 的章节。 这样的方法可以实现可靠性，而不是完备性。 如果其返回一个推导，那么我们知道它是正确的； 但没有人阻挡我们来给出一个<strong>总是</strong>返回错误的函数，即使正确的推导存在。 证明可靠性和完备性两者比起单独证明可靠性一者更加有力。 其反向的证明可以被看作是一个语义上验证过的错误信息，即便它本身比仔细撰写的错误信息更让人难懂。</p><p>我们现在可以开始正式的形式化了：</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Inference-14564" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14571" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Inference-14609" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-14612" class="Module">Eq</a>
<a id="plfa_plfa-part2-Inference-14615" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14620" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Inference-14623" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14629" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14630" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Inference-14633" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14635" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-14639" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14641" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Inference-14644" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14646" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="plfa_plfa-part2-Inference-14651" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14653" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Inference-14657" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14659" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Inference-14664" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14666" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part2-Inference-14669" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14671" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14676" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14683" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Inference-14694" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14700" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14701" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Inference-14702" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14704" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Inference-14710" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14712" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14717" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14724" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Inference-14733" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14739" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14740" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Inference-14741" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14743" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Inference-14747" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14749" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Inference-14752" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14754" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Inference-14757" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14759" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="plfa_plfa-part2-Inference-14762" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14764" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14769" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14776" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="plfa_plfa-part2-Inference-14788" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14794" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14795" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#336" class="Postulate">String</a><a id="plfa_plfa-part2-Inference-14801" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14803" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="plfa_plfa-part2-Inference-14806" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14808" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14813" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14820" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Inference-14833" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14839" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14840" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Inference-14843" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14845" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Inference-14846" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14848" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Inference-14856" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-14858" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Inference-14867" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14868" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Inference-14872" class="Symbol">to</a> <a id="plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Inference-14880" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14882" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14887" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14894" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Inference-14911" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14917" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14918" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Inference-14920" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14922" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="plfa_plfa-part2-Inference-14925" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14927" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Inference-14930" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14932" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Inference-14934" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14936" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14941" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14948" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Inference-14975" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14981" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14982" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="plfa_plfa-part2-Inference-14987" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14989" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="plfa_plfa-part2-Inference-15003" class="Symbol">)</a>
</pre><p>当我们有一个赋型推导时，从它构造出内在类型的表示方法更加方便。 为了与我们之前的结果进行比较，我们导入模块 <code>plfa.part2.More</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15308" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-15315" href="../More/#" class="Module">plfa.part2.More</a> <a id="plfa_plfa-part2-Inference-15331" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-15334" class="Module">DB</a>
</pre><p><code>as DB</code> 这个词组让我们可以用例如 <code>DB._⊢_</code> 的方法来指代其中的定义， 我们用 <code>Γ DB.⊢ A</code> 来使用它，其中 <code>Γ</code> 的类型是 <code>DB.Context</code>， <code>A</code> 的类型是 <code>DB.Type</code>。</p><h2 id="语法">语法</h2><p>首先，我们来定义中缀声明。 我们将判断和项的运算符分别列出：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15840" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15848" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15851" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">_∋_⦂_</a>
<a id="plfa_plfa-part2-Inference-15857" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15865" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15868" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">_⊢_↑_</a>
<a id="plfa_plfa-part2-Inference-15874" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15882" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15885" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">_⊢_↓_</a>
<a id="plfa_plfa-part2-Inference-15891" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15899" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15902" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">_,_⦂_</a>

<a id="plfa_plfa-part2-Inference-15909" class="Keyword">infixr</a>  <a id="plfa_plfa-part2-Inference-15917" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15920" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">_⇒_</a>

<a id="plfa_plfa-part2-Inference-15925" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15933" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15936" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15941" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15949" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15952" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">μ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15957" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15965" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15968" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">_↑</a>
<a id="plfa_plfa-part2-Inference-15971" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15979" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15982" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">_↓_</a>
<a id="plfa_plfa-part2-Inference-15986" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15994" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15997" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">_·_</a>
<a id="plfa_plfa-part2-Inference-16001" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16009" class="Number">8</a>  <a id="plfa_plfa-part2-Inference-16012" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc_</a>
<a id="plfa_plfa-part2-Inference-16018" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16026" class="Number">9</a>  <a id="plfa_plfa-part2-Inference-16029" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`_</a>
</pre><p>标识符、类型和上下文与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Id"></a><a id="plfa_plfa-part2-Inference-16121" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16124" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16126" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16130" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16133" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-16135" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#336" class="Postulate">String</a>

<a id="plfa_plfa-part2-Inference-16143" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Type"></a><a id="plfa_plfa-part2-Inference-16148" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16153" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16155" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16159" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Type.`ℕ"></a><a id="plfa_plfa-part2-Inference-16167" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>    <a id="plfa_plfa-part2-Inference-16173" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16175" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a>
  <a id="plfa_plfa-part2-Inference-Type._⇒_"></a><a id="plfa_plfa-part2-Inference-16182" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">_⇒_</a>   <a id="plfa_plfa-part2-Inference-16188" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16190" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16195" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16197" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16202" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16204" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a>

<a id="plfa_plfa-part2-Inference-16210" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Context"></a><a id="plfa_plfa-part2-Inference-16215" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16223" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16225" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16229" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Context.∅"></a><a id="plfa_plfa-part2-Inference-16237" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a>     <a id="plfa_plfa-part2-Inference-16243" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16245" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Inference-Context._,_⦂_"></a><a id="plfa_plfa-part2-Inference-16255" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">_,_⦂_</a> <a id="plfa_plfa-part2-Inference-16261" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16263" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16271" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16273" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16276" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16278" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16283" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16285" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a>
</pre><p>项的语法由共同递归来定义。 我们用 <code>Term⁺</code> 和 <code>Term⁻</code> 来分别表示生成和继承的项。 注意我们包括了变向的形式 <code>M ↓ A</code> 和 <code>M ↑</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-16600" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁺"></a><a id="plfa_plfa-part2-Inference-16605" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16611" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16613" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16617" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁻"></a><a id="plfa_plfa-part2-Inference-16622" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16628" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16630" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-16635" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16640" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16646" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁺.`_"></a><a id="plfa_plfa-part2-Inference-16654" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`_</a>                       <a id="plfa_plfa-part2-Inference-16679" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16681" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16684" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16686" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._·_"></a><a id="plfa_plfa-part2-Inference-16694" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">_·_</a>                      <a id="plfa_plfa-part2-Inference-16719" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16721" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16727" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16729" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16735" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16737" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._↓_"></a><a id="plfa_plfa-part2-Inference-16745" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">_↓_</a>                      <a id="plfa_plfa-part2-Inference-16770" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16772" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16778" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16780" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16785" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16787" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>

<a id="plfa_plfa-part2-Inference-16794" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16799" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16805" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.ƛ_⇒_"></a><a id="plfa_plfa-part2-Inference-16813" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16838" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16840" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16843" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16845" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16851" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16853" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`zero"></a><a id="plfa_plfa-part2-Inference-16861" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a>                    <a id="plfa_plfa-part2-Inference-16886" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16888" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`suc_"></a><a id="plfa_plfa-part2-Inference-16896" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc_</a>                    <a id="plfa_plfa-part2-Inference-16921" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16923" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16929" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16931" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="plfa_plfa-part2-Inference-16939" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="plfa_plfa-part2-Inference-16964" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16966" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16972" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16974" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16980" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16982" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16985" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16987" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16993" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16995" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.μ_⇒_"></a><a id="plfa_plfa-part2-Inference-17003" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-17028" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17030" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-17033" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17035" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-17041" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17043" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻._↑"></a><a id="plfa_plfa-part2-Inference-17051" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">_↑</a>                       <a id="plfa_plfa-part2-Inference-17076" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17078" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-17084" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17086" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
</pre><p>至于每个项是由继承或者生成来赋型，我们在上文中已经讨论过，并且可以直接上文的非形式化语法中直接得来。 析构器中的主项由生成赋型，析构器中的构造子和副项由继承赋型。</p><h2 id="项的例子">项的例子</h2><p>我们重新给出前几章中的例子。 首先，计算自然数二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-two"></a><a id="plfa_plfa-part2-Inference-17625" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17629" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17631" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-17637" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17641" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17643" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17648" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17649" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17654" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a><a id="plfa_plfa-part2-Inference-17659" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plus"></a><a id="plfa_plfa-part2-Inference-17662" href="../Inference/#plfa_plfa-part2-Inference-17662" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17667" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17669" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17675" href="../Inference/#plfa_plfa-part2-Inference-17662" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17680" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17682" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17683" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-17685" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17689" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17691" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17693" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17697" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17699" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17701" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17705" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a>
          <a id="plfa_plfa-part2-Inference-17717" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-17723" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17724" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17726" class="String">&quot;m&quot;</a><a id="plfa_plfa-part2-Inference-17729" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17731" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-17738" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17740" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17744" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a>
                        <a id="plfa_plfa-part2-Inference-17770" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-17775" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17779" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17781" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17786" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17787" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17789" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17793" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17795" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17796" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17798" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17802" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17803" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17805" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17807" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17808" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17810" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17814" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17815" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17817" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17818" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17820" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-17821" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Inference-17835" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-17837" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17838" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17841" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17843" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17846" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17848" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-17850" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2"></a><a id="plfa_plfa-part2-Inference-17853" href="../Inference/#plfa_plfa-part2-Inference-17853" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17857" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17859" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17865" href="../Inference/#plfa_plfa-part2-Inference-17853" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17869" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17871" href="../Inference/#plfa_plfa-part2-Inference-17662" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17876" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17878" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17882" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17884" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a>
</pre><p>唯一的变化是我们需要在需要时加入上下箭头。唯一的类型注释出现在 <code>plus</code>。</p><p>接下来，计算 Church 数的二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Ch"></a><a id="plfa_plfa-part2-Inference-18152" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18155" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18157" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a>
<a id="plfa_plfa-part2-Inference-18162" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18165" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18167" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18168" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18171" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18173" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-18175" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18177" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18179" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18182" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18184" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>

<a id="plfa_plfa-part2-Inference-twoᶜ"></a><a id="plfa_plfa-part2-Inference-18188" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18193" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18195" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18201" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18206" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18208" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18209" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18211" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18215" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18217" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18219" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18223" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18225" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18227" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18231" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18233" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18234" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18236" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18240" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18242" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18243" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18245" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18249" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18250" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18252" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18253" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18255" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18256" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plusᶜ"></a><a id="plfa_plfa-part2-Inference-18259" href="../Inference/#plfa_plfa-part2-Inference-18259" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18265" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18267" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18273" href="../Inference/#plfa_plfa-part2-Inference-18259" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18279" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18281" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18282" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18284" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18288" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18290" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18292" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18296" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18298" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18300" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18304" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18306" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18308" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18312" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a>
           <a id="plfa_plfa-part2-Inference-18325" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18327" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18331" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18333" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18334" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18336" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18340" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18341" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18343" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18345" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18346" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18348" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18352" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18354" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18355" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18357" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18361" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18362" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18364" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18366" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18367" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18369" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18373" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18374" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18376" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18377" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18379" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18380" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-18395" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-18397" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18398" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18401" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18403" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18406" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18408" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-18410" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-sucᶜ"></a><a id="plfa_plfa-part2-Inference-18413" href="../Inference/#plfa_plfa-part2-Inference-18413" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18418" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18420" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18426" href="../Inference/#plfa_plfa-part2-Inference-18413" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18431" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18433" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18435" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18439" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18441" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-18446" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18447" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18449" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18453" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18454" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-18457" href="../Inference/#plfa_plfa-part2-Inference-18457" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18462" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18464" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18470" href="../Inference/#plfa_plfa-part2-Inference-18457" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18475" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18477" href="../Inference/#plfa_plfa-part2-Inference-18259" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18483" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18485" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18490" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18492" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18497" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18499" href="../Inference/#plfa_plfa-part2-Inference-18413" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18504" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18506" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a>
</pre><p>唯一的类型注释出现在 <code>plusᶜ</code>。 <code>sucᶜ</code> 甚至不需要类型注释，因为它从 <code>plusᶜ</code> 的参数中继承了类型。</p><h2 id="双向类型检查">双向类型检查</h2><p>变量的赋型规则与 <a href="../Lambda/">Lambda</a> 章节中一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-18895" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_∋_⦂_"></a><a id="plfa_plfa-part2-Inference-18900" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">_∋_⦂_</a> <a id="plfa_plfa-part2-Inference-18906" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18908" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-18916" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18918" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-18921" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18923" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-18928" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18930" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-18934" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.Z"></a><a id="plfa_plfa-part2-Inference-18943" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-18945" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18947" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18949" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18950" href="../Inference/#plfa_plfa-part2-Inference-18950" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18952" href="../Inference/#plfa_plfa-part2-Inference-18952" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18954" href="../Inference/#plfa_plfa-part2-Inference-18954" class="Bound">A</a><a id="plfa_plfa-part2-Inference-18955" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-18963" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-18985" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18987" href="../Inference/#plfa_plfa-part2-Inference-18950" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18989" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-18991" href="../Inference/#plfa_plfa-part2-Inference-18952" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18993" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18995" href="../Inference/#plfa_plfa-part2-Inference-18954" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18997" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-18999" href="../Inference/#plfa_plfa-part2-Inference-18952" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19001" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19003" href="../Inference/#plfa_plfa-part2-Inference-18954" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.S"></a><a id="plfa_plfa-part2-Inference-19008" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-19010" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19012" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19014" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19015" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19017" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19019" href="../Inference/#plfa_plfa-part2-Inference-19019" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19021" href="../Inference/#plfa_plfa-part2-Inference-19021" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19023" href="../Inference/#plfa_plfa-part2-Inference-19023" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19024" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19030" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19032" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19034" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-19036" href="../Inference/#plfa_plfa-part2-Inference-19019" class="Bound">y</a>
    <a id="plfa_plfa-part2-Inference-19042" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19044" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19046" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19048" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19050" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19052" href="../Inference/#plfa_plfa-part2-Inference-19021" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19060" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-19082" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19084" href="../Inference/#plfa_plfa-part2-Inference-19015" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19086" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19088" href="../Inference/#plfa_plfa-part2-Inference-19019" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19090" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19092" href="../Inference/#plfa_plfa-part2-Inference-19023" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-19094" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19096" href="../Inference/#plfa_plfa-part2-Inference-19017" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19098" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19100" href="../Inference/#plfa_plfa-part2-Inference-19021" class="Bound">A</a>
</pre><p>与语法一样，生成和继承的赋型判断也是共同递归的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-19243" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↑_"></a><a id="plfa_plfa-part2-Inference-19248" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19254" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19256" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19264" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19266" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-19272" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19274" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19279" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19281" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-19285" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↓_"></a><a id="plfa_plfa-part2-Inference-19290" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19296" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19298" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19306" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19308" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-19314" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19316" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19321" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19323" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-19328" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19333" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19339" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢`"></a><a id="plfa_plfa-part2-Inference-19348" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-19351" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19353" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19355" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19356" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19358" href="../Inference/#plfa_plfa-part2-Inference-19358" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19360" href="../Inference/#plfa_plfa-part2-Inference-19360" class="Bound">x</a><a id="plfa_plfa-part2-Inference-19361" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19367" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19369" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19371" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19373" href="../Inference/#plfa_plfa-part2-Inference-19360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19375" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19377" href="../Inference/#plfa_plfa-part2-Inference-19358" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19385" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Inference-19401" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19403" href="../Inference/#plfa_plfa-part2-Inference-19356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19405" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19407" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-19409" href="../Inference/#plfa_plfa-part2-Inference-19360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19411" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19413" href="../Inference/#plfa_plfa-part2-Inference-19358" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_._·_"></a><a id="plfa_plfa-part2-Inference-19418" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Inference-19422" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19424" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19426" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19427" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19429" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19431" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19433" href="../Inference/#plfa_plfa-part2-Inference-19433" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19435" href="../Inference/#plfa_plfa-part2-Inference-19435" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19436" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19442" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19444" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19446" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19448" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19450" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19452" href="../Inference/#plfa_plfa-part2-Inference-19433" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19454" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19456" href="../Inference/#plfa_plfa-part2-Inference-19435" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-19462" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19464" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19466" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19468" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19470" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19472" href="../Inference/#plfa_plfa-part2-Inference-19433" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19480" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-19498" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19500" href="../Inference/#plfa_plfa-part2-Inference-19427" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19502" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19504" href="../Inference/#plfa_plfa-part2-Inference-19429" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19506" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-19508" href="../Inference/#plfa_plfa-part2-Inference-19431" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19510" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19512" href="../Inference/#plfa_plfa-part2-Inference-19435" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢↓"></a><a id="plfa_plfa-part2-Inference-19517" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-19520" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19522" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19524" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19525" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19527" href="../Inference/#plfa_plfa-part2-Inference-19527" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19529" href="../Inference/#plfa_plfa-part2-Inference-19529" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19530" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19536" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19538" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19540" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19542" href="../Inference/#plfa_plfa-part2-Inference-19527" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19544" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19546" href="../Inference/#plfa_plfa-part2-Inference-19529" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19554" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19574" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19576" href="../Inference/#plfa_plfa-part2-Inference-19525" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19578" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19580" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-19581" href="../Inference/#plfa_plfa-part2-Inference-19527" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19583" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-19585" href="../Inference/#plfa_plfa-part2-Inference-19529" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19586" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-19588" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19590" href="../Inference/#plfa_plfa-part2-Inference-19529" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-19593" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19598" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19604" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢ƛ"></a><a id="plfa_plfa-part2-Inference-19613" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-19616" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19618" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19620" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19621" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19623" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19625" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19627" href="../Inference/#plfa_plfa-part2-Inference-19627" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19629" href="../Inference/#plfa_plfa-part2-Inference-19629" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19630" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19636" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19638" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19640" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19642" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19644" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19646" href="../Inference/#plfa_plfa-part2-Inference-19627" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19648" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19650" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19652" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19654" href="../Inference/#plfa_plfa-part2-Inference-19629" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-19662" class="Comment">-------------------</a>
    <a id="plfa_plfa-part2-Inference-19686" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19688" href="../Inference/#plfa_plfa-part2-Inference-19621" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19690" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19692" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-19694" href="../Inference/#plfa_plfa-part2-Inference-19623" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19696" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19698" href="../Inference/#plfa_plfa-part2-Inference-19625" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19700" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19702" href="../Inference/#plfa_plfa-part2-Inference-19627" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19704" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19706" href="../Inference/#plfa_plfa-part2-Inference-19629" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢zero"></a><a id="plfa_plfa-part2-Inference-19711" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-19717" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19719" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19721" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19722" href="../Inference/#plfa_plfa-part2-Inference-19722" class="Bound">Γ</a><a id="plfa_plfa-part2-Inference-19723" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-19731" class="Comment">--------------</a>
    <a id="plfa_plfa-part2-Inference-19750" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19752" href="../Inference/#plfa_plfa-part2-Inference-19722" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19754" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19756" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-19762" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19764" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢suc"></a><a id="plfa_plfa-part2-Inference-19770" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-19775" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19777" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19779" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19780" href="../Inference/#plfa_plfa-part2-Inference-19780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19782" href="../Inference/#plfa_plfa-part2-Inference-19782" class="Bound">M</a><a id="plfa_plfa-part2-Inference-19783" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19789" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19791" href="../Inference/#plfa_plfa-part2-Inference-19780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19793" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19795" href="../Inference/#plfa_plfa-part2-Inference-19782" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19797" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19799" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>
      <a id="plfa_plfa-part2-Inference-19808" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19828" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19830" href="../Inference/#plfa_plfa-part2-Inference-19780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19832" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19834" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-19839" href="../Inference/#plfa_plfa-part2-Inference-19782" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19841" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19843" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢case"></a><a id="plfa_plfa-part2-Inference-19849" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-19855" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19857" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19859" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19860" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19862" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19864" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19866" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19868" href="../Inference/#plfa_plfa-part2-Inference-19868" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19870" href="../Inference/#plfa_plfa-part2-Inference-19870" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19871" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19877" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19879" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19881" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19883" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19885" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19887" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>
    <a id="plfa_plfa-part2-Inference-19894" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19896" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19898" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19900" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19902" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19904" href="../Inference/#plfa_plfa-part2-Inference-19870" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-19910" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19912" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19914" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19916" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19918" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19920" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-19923" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19925" href="../Inference/#plfa_plfa-part2-Inference-19868" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19927" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19929" href="../Inference/#plfa_plfa-part2-Inference-19870" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19937" class="Comment">-------------------------------------</a>
    <a id="plfa_plfa-part2-Inference-19979" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19981" href="../Inference/#plfa_plfa-part2-Inference-19860" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19983" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19985" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-19991" href="../Inference/#plfa_plfa-part2-Inference-19862" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19993" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-20000" href="../Inference/#plfa_plfa-part2-Inference-19864" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20002" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-20007" href="../Inference/#plfa_plfa-part2-Inference-19866" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20009" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20011" href="../Inference/#plfa_plfa-part2-Inference-19868" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20013" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-20015" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20017" href="../Inference/#plfa_plfa-part2-Inference-19870" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢μ"></a><a id="plfa_plfa-part2-Inference-20022" href="../Inference/#plfa_plfa-part2-Inference-20022" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-20025" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20027" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20029" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20030" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20032" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20034" href="../Inference/#plfa_plfa-part2-Inference-20034" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20036" href="../Inference/#plfa_plfa-part2-Inference-20036" class="Bound">A</a><a id="plfa_plfa-part2-Inference-20037" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20043" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20045" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20047" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-20049" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20051" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-20053" href="../Inference/#plfa_plfa-part2-Inference-20036" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20055" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20057" href="../Inference/#plfa_plfa-part2-Inference-20034" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20059" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20061" href="../Inference/#plfa_plfa-part2-Inference-20036" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-20069" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-20091" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20093" href="../Inference/#plfa_plfa-part2-Inference-20030" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20095" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20097" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-20099" href="../Inference/#plfa_plfa-part2-Inference-20032" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20101" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20103" href="../Inference/#plfa_plfa-part2-Inference-20034" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20105" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20107" href="../Inference/#plfa_plfa-part2-Inference-20036" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢↑"></a><a id="plfa_plfa-part2-Inference-20112" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-20115" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20117" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20119" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20120" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20122" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20124" href="../Inference/#plfa_plfa-part2-Inference-20124" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20126" href="../Inference/#plfa_plfa-part2-Inference-20126" class="Bound">B</a><a id="plfa_plfa-part2-Inference-20127" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20133" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20135" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20137" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20139" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20141" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-20143" href="../Inference/#plfa_plfa-part2-Inference-20124" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-20149" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20151" href="../Inference/#plfa_plfa-part2-Inference-20124" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20153" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-20155" href="../Inference/#plfa_plfa-part2-Inference-20126" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-20163" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-20181" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20183" href="../Inference/#plfa_plfa-part2-Inference-20120" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20185" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20187" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-20188" href="../Inference/#plfa_plfa-part2-Inference-20122" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20190" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-20191" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-20193" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20195" href="../Inference/#plfa_plfa-part2-Inference-20126" class="Bound">B</a>
</pre><p>我们用和 <a href="../Lambda/">Lambda</a> 中一样的命名规则， 把 <code>⊢</code> 加在构造子之前，来当作对应赋型规则的名称。</p><p>这些规则和 <a href="../Lambda/">Lambda</a> 章节中相似，修改成支持生成和继承类型的样式。 其中有两条新规则 <code>⊢↓</code> 和 <code>⊢↑</code>。 前者把类型装饰当作继承的类型，并将其返回作为生成的类型。 后者取其生成的类型，并检查是否与继承的类型一致——这应该让你回忆起第一<a href="../Inference/#algorithms">部分</a>中函数应用规则的相等性测试。</p><h4 id="bidirectional-mul">练习 <code>bidirectional-mul</code> （推荐）</h4><p>将你在 <a href="../Lambda/">Lambda</a> 章节中乘法的定义重写，将其装饰至支持类型推理的形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21398" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="bidirectional-products">练习 <code>bidirectional-products</code> （推荐）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21713" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-bidirectional-rest-延伸">练习 <code>bidirectional-rest</code> （延伸）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的其余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21984" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="前置需求">前置需求</h2><p><code>M ↑</code> 规则需要我们有能力来判定两个类型是否相等。 我们可以直接的给出代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-_≟Tp_"></a><a id="plfa_plfa-part2-Inference-22210" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">_≟Tp_</a> <a id="plfa_plfa-part2-Inference-22216" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22218" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22219" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22221" href="../Inference/#plfa_plfa-part2-Inference-22221" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22223" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22225" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-22229" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22231" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22233" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-22237" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22238" href="../Inference/#plfa_plfa-part2-Inference-22219" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22240" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22242" href="../Inference/#plfa_plfa-part2-Inference-22221" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22243" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-22245" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22253" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22257" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22273" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22276" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22280" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-22285" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22293" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22297" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22298" href="../Inference/#plfa_plfa-part2-Inference-22298" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22300" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22302" href="../Inference/#plfa_plfa-part2-Inference-22302" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22303" class="Symbol">)</a>         <a id="plfa_plfa-part2-Inference-22313" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22316" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22319" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22323" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22324" href="../Inference/#plfa_plfa-part2-Inference-22324" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22326" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22328" href="../Inference/#plfa_plfa-part2-Inference-22328" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22329" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22331" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22335" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22351" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22354" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22357" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22361" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22362" href="../Inference/#plfa_plfa-part2-Inference-22362" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22364" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22366" href="../Inference/#plfa_plfa-part2-Inference-22366" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22367" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22369" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22373" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22374" href="../Inference/#plfa_plfa-part2-Inference-22374" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22377" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22379" href="../Inference/#plfa_plfa-part2-Inference-22379" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22381" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Inference-22385" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-22390" href="../Inference/#plfa_plfa-part2-Inference-22362" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22392" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22396" href="../Inference/#plfa_plfa-part2-Inference-22374" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22399" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22401" href="../Inference/#plfa_plfa-part2-Inference-22366" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22403" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22407" href="../Inference/#plfa_plfa-part2-Inference-22379" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22410" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22415" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22417" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22420" href="../Inference/#plfa_plfa-part2-Inference-22420" class="Bound">A≢</a>    <a id="plfa_plfa-part2-Inference-22426" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22428" class="Symbol">_</a>         <a id="plfa_plfa-part2-Inference-22438" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22441" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22444" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22446" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22451" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22453" href="../Inference/#plfa_plfa-part2-Inference-22420" class="Bound">A≢</a> <a id="plfa_plfa-part2-Inference-22456" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22460" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22462" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22467" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22469" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22473" class="Symbol">_</a>    <a id="plfa_plfa-part2-Inference-22478" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22480" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22483" href="../Inference/#plfa_plfa-part2-Inference-22483" class="Bound">B≢</a>     <a id="plfa_plfa-part2-Inference-22490" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22493" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22496" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22498" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22503" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22505" href="../Inference/#plfa_plfa-part2-Inference-22483" class="Bound">B≢</a> <a id="plfa_plfa-part2-Inference-22508" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22512" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22514" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22519" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22521" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22525" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22530" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22532" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22536" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="plfa_plfa-part2-Inference-22542" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22545" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22549" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>我们也会需要一些显然的引理； 作用域和值域相等的函数类型相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-dom≡"></a><a id="plfa_plfa-part2-Inference-22712" href="../Inference/#plfa_plfa-part2-Inference-22712" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22717" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22719" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22721" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22722" href="../Inference/#plfa_plfa-part2-Inference-22722" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22724" href="../Inference/#plfa_plfa-part2-Inference-22724" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22727" href="../Inference/#plfa_plfa-part2-Inference-22727" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22729" href="../Inference/#plfa_plfa-part2-Inference-22729" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22731" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22733" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22735" href="../Inference/#plfa_plfa-part2-Inference-22722" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22737" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22739" href="../Inference/#plfa_plfa-part2-Inference-22727" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22741" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22743" href="../Inference/#plfa_plfa-part2-Inference-22724" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22746" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22748" href="../Inference/#plfa_plfa-part2-Inference-22729" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22751" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22753" href="../Inference/#plfa_plfa-part2-Inference-22722" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22755" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22757" href="../Inference/#plfa_plfa-part2-Inference-22724" class="Bound">A′</a>
<a id="plfa_plfa-part2-Inference-22760" href="../Inference/#plfa_plfa-part2-Inference-22712" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22765" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22770" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22772" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-rng≡"></a><a id="plfa_plfa-part2-Inference-22778" href="../Inference/#plfa_plfa-part2-Inference-22778" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22783" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22785" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22787" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22788" href="../Inference/#plfa_plfa-part2-Inference-22788" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22790" href="../Inference/#plfa_plfa-part2-Inference-22790" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22793" href="../Inference/#plfa_plfa-part2-Inference-22793" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22795" href="../Inference/#plfa_plfa-part2-Inference-22795" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22797" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22799" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22801" href="../Inference/#plfa_plfa-part2-Inference-22788" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22803" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22805" href="../Inference/#plfa_plfa-part2-Inference-22793" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22807" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22809" href="../Inference/#plfa_plfa-part2-Inference-22790" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22812" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22814" href="../Inference/#plfa_plfa-part2-Inference-22795" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22817" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22819" href="../Inference/#plfa_plfa-part2-Inference-22793" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22821" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22823" href="../Inference/#plfa_plfa-part2-Inference-22795" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22826" href="../Inference/#plfa_plfa-part2-Inference-22778" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22831" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22836" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22838" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>我们也需要知道 <code>`ℕ</code> 和 <code>A ⇒ B</code> 这两个类型不相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ℕ≢⇒"></a><a id="plfa_plfa-part2-Inference-22981" href="../Inference/#plfa_plfa-part2-Inference-22981" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-22985" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22987" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22989" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22990" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22992" href="../Inference/#plfa_plfa-part2-Inference-22992" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22993" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22995" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22997" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-23000" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-23002" href="../Inference/#plfa_plfa-part2-Inference-22990" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23004" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-23006" href="../Inference/#plfa_plfa-part2-Inference-22992" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23008" href="../Inference/#plfa_plfa-part2-Inference-22981" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23012" class="Symbol">()</a>
</pre><h2 id="唯一的类型">唯一的类型</h2><p>从上下文查询一个类型是唯一的。 给定两个推导，其一证明 <code>Γ ∋ x ⦂ A</code>，另一个证明 <code>Γ ∋ x ⦂ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-∋"></a><a id="plfa_plfa-part2-Inference-23323" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23330" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23332" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23334" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23335" href="../Inference/#plfa_plfa-part2-Inference-23335" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23337" href="../Inference/#plfa_plfa-part2-Inference-23337" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23339" href="../Inference/#plfa_plfa-part2-Inference-23339" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23341" href="../Inference/#plfa_plfa-part2-Inference-23341" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23342" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23344" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23346" href="../Inference/#plfa_plfa-part2-Inference-23335" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23348" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23350" href="../Inference/#plfa_plfa-part2-Inference-23337" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23352" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23354" href="../Inference/#plfa_plfa-part2-Inference-23339" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23356" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23358" href="../Inference/#plfa_plfa-part2-Inference-23335" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23360" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23362" href="../Inference/#plfa_plfa-part2-Inference-23337" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23364" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23366" href="../Inference/#plfa_plfa-part2-Inference-23341" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-23368" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23370" href="../Inference/#plfa_plfa-part2-Inference-23339" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23372" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-23374" href="../Inference/#plfa_plfa-part2-Inference-23341" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23376" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23383" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23385" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a>                 <a id="plfa_plfa-part2-Inference-23403" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23406" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-23411" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23418" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23420" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23421" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23423" href="../Inference/#plfa_plfa-part2-Inference-23423" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23427" class="Symbol">_)</a>         <a id="plfa_plfa-part2-Inference-23438" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23441" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23448" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23449" href="../Inference/#plfa_plfa-part2-Inference-23423" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23453" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23457" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23459" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23466" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23467" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23469" href="../Inference/#plfa_plfa-part2-Inference-23469" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23473" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-23476" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a>         <a id="plfa_plfa-part2-Inference-23486" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23489" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23496" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23497" href="../Inference/#plfa_plfa-part2-Inference-23469" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23501" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23505" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23507" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23514" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23515" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23517" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23519" href="../Inference/#plfa_plfa-part2-Inference-23519" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-23521" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-23523" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23524" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23526" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23528" href="../Inference/#plfa_plfa-part2-Inference-23528" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-23531" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-23534" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23537" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23544" href="../Inference/#plfa_plfa-part2-Inference-23519" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-23547" href="../Inference/#plfa_plfa-part2-Inference-23528" class="Bound">∋x′</a>
</pre><p>如果两个推导都使用 <code>Z</code> 规则，那么唯一性即可直接得出； 如果两个推导都使用 <code>S</code> 规则，那么唯一性可以由归纳得出。 如果一个使用了 <code>Z</code> 规则，另一个使用了 <code>S</code> 规则，这则是一个矛盾， 因为 <code>Z</code> 要求我们查询的变量是上下文中的最后一个，而 <code>S</code> 要求不是这样。</p><p>生成的类型也是唯一的。 给定两个推导，其一证明 <code>Γ ⊢ M ↑ A</code>，另一个证明 <code>Γ ⊢ M ↑ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-↑"></a><a id="plfa_plfa-part2-Inference-24314" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24321" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-24323" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-24325" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-24326" href="../Inference/#plfa_plfa-part2-Inference-24326" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24328" href="../Inference/#plfa_plfa-part2-Inference-24328" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24330" href="../Inference/#plfa_plfa-part2-Inference-24330" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24332" href="../Inference/#plfa_plfa-part2-Inference-24332" class="Bound">B</a><a id="plfa_plfa-part2-Inference-24333" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-24335" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24337" href="../Inference/#plfa_plfa-part2-Inference-24326" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24339" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24341" href="../Inference/#plfa_plfa-part2-Inference-24328" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24343" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24345" href="../Inference/#plfa_plfa-part2-Inference-24330" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24347" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24349" href="../Inference/#plfa_plfa-part2-Inference-24326" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24351" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24353" href="../Inference/#plfa_plfa-part2-Inference-24328" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24355" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24357" href="../Inference/#plfa_plfa-part2-Inference-24332" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-24359" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24361" href="../Inference/#plfa_plfa-part2-Inference-24330" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24363" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-24365" href="../Inference/#plfa_plfa-part2-Inference-24332" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-24367" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24374" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24375" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24378" href="../Inference/#plfa_plfa-part2-Inference-24378" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-24380" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24382" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24383" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24386" href="../Inference/#plfa_plfa-part2-Inference-24386" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-24389" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24397" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24400" href="../Inference/#plfa_plfa-part2-Inference-23323" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-24407" href="../Inference/#plfa_plfa-part2-Inference-24378" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-24410" href="../Inference/#plfa_plfa-part2-Inference-24386" class="Bound">∋x′</a>
<a id="plfa_plfa-part2-Inference-24414" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24421" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24422" href="../Inference/#plfa_plfa-part2-Inference-24422" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24425" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24427" href="../Inference/#plfa_plfa-part2-Inference-24427" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24429" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24431" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24432" href="../Inference/#plfa_plfa-part2-Inference-24432" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-24436" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24438" href="../Inference/#plfa_plfa-part2-Inference-24438" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24441" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-24444" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24447" href="../Inference/#plfa_plfa-part2-Inference-22778" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-24452" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24453" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24460" href="../Inference/#plfa_plfa-part2-Inference-24422" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24463" href="../Inference/#plfa_plfa-part2-Inference-24432" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-24466" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-24468" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24475" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24476" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24479" href="../Inference/#plfa_plfa-part2-Inference-24479" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24481" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24483" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24484" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24487" href="../Inference/#plfa_plfa-part2-Inference-24487" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24490" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24498" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24501" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>有三种项的形式。 如果项是变量，那么生成的唯一性从查询的唯一性中直接得出。 如果项是函数应用，那么唯一性由应用中的函数之上的归纳得出，因为值域相等的类型相等。 如果项是变向，两者装饰的类型相等，从此可得唯一性。</p><h2 id="查询上下文中变量的类型">查询上下文中变量的类型</h2><p>给定 <code>Γ</code> 和两个不同的变量 <code>x</code> 和 <code>y</code>， 如果不存在类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立， 那么也不存在类型 <code>A</code> 使得 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ext∋"></a><a id="plfa_plfa-part2-Inference-25346" href="../Inference/#plfa_plfa-part2-Inference-25346" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25351" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-25353" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-25355" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-25356" href="../Inference/#plfa_plfa-part2-Inference-25356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25358" href="../Inference/#plfa_plfa-part2-Inference-25358" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25360" href="../Inference/#plfa_plfa-part2-Inference-25360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25362" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">y</a><a id="plfa_plfa-part2-Inference-25363" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-25367" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25369" href="../Inference/#plfa_plfa-part2-Inference-25360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25371" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-25373" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">y</a>
  <a id="plfa_plfa-part2-Inference-25377" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25379" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25381" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25382" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25385" href="../Inference/#plfa_plfa-part2-Inference-25385" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25387" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25389" href="../Inference/#plfa_plfa-part2-Inference-25356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25391" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25393" href="../Inference/#plfa_plfa-part2-Inference-25360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25395" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25397" href="../Inference/#plfa_plfa-part2-Inference-25385" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25398" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-25404" class="Comment">----------------------------</a>
  <a id="plfa_plfa-part2-Inference-25435" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25437" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25439" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25440" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25443" href="../Inference/#plfa_plfa-part2-Inference-25443" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25445" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25447" href="../Inference/#plfa_plfa-part2-Inference-25356" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25449" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25451" href="../Inference/#plfa_plfa-part2-Inference-25362" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-25453" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25455" href="../Inference/#plfa_plfa-part2-Inference-25358" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25457" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25459" href="../Inference/#plfa_plfa-part2-Inference-25360" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25461" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25463" href="../Inference/#plfa_plfa-part2-Inference-25443" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25464" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-25466" href="../Inference/#plfa_plfa-part2-Inference-25346" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25471" href="../Inference/#plfa_plfa-part2-Inference-25471" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25475" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-25478" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25480" href="../Inference/#plfa_plfa-part2-Inference-25480" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25482" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25484" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-25486" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>       <a id="plfa_plfa-part2-Inference-25494" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25497" href="../Inference/#plfa_plfa-part2-Inference-25471" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25501" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-25506" href="../Inference/#plfa_plfa-part2-Inference-25346" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25511" class="Symbol">_</a>   <a id="plfa_plfa-part2-Inference-25515" href="../Inference/#plfa_plfa-part2-Inference-25515" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25518" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25520" href="../Inference/#plfa_plfa-part2-Inference-25520" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25522" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25524" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-25526" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-25528" href="../Inference/#plfa_plfa-part2-Inference-25528" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25531" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-25534" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25537" href="../Inference/#plfa_plfa-part2-Inference-25515" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25540" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25542" href="../Inference/#plfa_plfa-part2-Inference-25520" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25544" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25546" href="../Inference/#plfa_plfa-part2-Inference-25528" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25549" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
</pre><p>给定类型 <code>A</code> 和 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立的证明，我们必须构造一个矛盾。 如果判断由 <code>Z</code> 成立，那么 <code>x</code> 和 <code>y</code> 一定是一样的，与第一个假设矛盾。 如果判断由 <code>S _ ∋x</code> 成立，那么 <code>∋x</code> 提供了 <code>Γ ∋ x ⦂ A</code> 成立的证明，与第二个假设矛盾。</p><p>给定上下文 <code>Γ</code> 和变量 <code>x</code>，我们可判断是否存在一个类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立，或者其反命题：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-lookup"></a><a id="plfa_plfa-part2-Inference-26266" href="../Inference/#plfa_plfa-part2-Inference-26266" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26273" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26275" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-26277" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26278" href="../Inference/#plfa_plfa-part2-Inference-26278" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26280" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26282" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-26289" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26291" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26292" href="../Inference/#plfa_plfa-part2-Inference-26292" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26294" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26296" href="../Inference/#plfa_plfa-part2-Inference-16121" class="Function">Id</a><a id="plfa_plfa-part2-Inference-26298" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-26309" class="Comment">------------------------</a>
       <a id="plfa_plfa-part2-Inference-26341" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-26343" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-26347" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26348" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-26351" href="../Inference/#plfa_plfa-part2-Inference-26351" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26353" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-26355" href="../Inference/#plfa_plfa-part2-Inference-26278" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26357" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-26359" href="../Inference/#plfa_plfa-part2-Inference-26292" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26361" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26363" href="../Inference/#plfa_plfa-part2-Inference-26351" class="Bound">A</a><a id="plfa_plfa-part2-Inference-26364" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26366" href="../Inference/#plfa_plfa-part2-Inference-26266" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26373" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-26375" href="../Inference/#plfa_plfa-part2-Inference-26375" class="Bound">x</a>                        <a id="plfa_plfa-part2-Inference-26400" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26403" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26407" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Inference-26410" class="Symbol">())</a>
<a id="plfa_plfa-part2-Inference-26414" href="../Inference/#plfa_plfa-part2-Inference-26266" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26421" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26422" href="../Inference/#plfa_plfa-part2-Inference-26422" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26424" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26426" href="../Inference/#plfa_plfa-part2-Inference-26426" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-26428" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26430" href="../Inference/#plfa_plfa-part2-Inference-26430" class="Bound">B</a><a id="plfa_plfa-part2-Inference-26431" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26433" href="../Inference/#plfa_plfa-part2-Inference-26433" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26435" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26440" href="../Inference/#plfa_plfa-part2-Inference-26433" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26442" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-26444" href="../Inference/#plfa_plfa-part2-Inference-26426" class="Bound">y</a>
<a id="plfa_plfa-part2-Inference-26446" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26450" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26452" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26456" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>                    <a id="plfa_plfa-part2-Inference-26480" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26483" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26487" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26489" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-26491" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26493" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-26495" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-26497" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26501" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26503" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-26506" href="../Inference/#plfa_plfa-part2-Inference-26506" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26510" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26515" href="../Inference/#plfa_plfa-part2-Inference-26266" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26522" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26524" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-26526" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26542" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26544" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26548" href="../Inference/#plfa_plfa-part2-Inference-26548" class="Bound">¬∃</a>          <a id="plfa_plfa-part2-Inference-26560" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26563" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26567" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26568" href="../Inference/#plfa_plfa-part2-Inference-25346" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-26573" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26577" href="../Inference/#plfa_plfa-part2-Inference-26548" class="Bound">¬∃</a><a id="plfa_plfa-part2-Inference-26579" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26581" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26597" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26599" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26603" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26605" href="../Inference/#plfa_plfa-part2-Inference-26605" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26607" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26609" href="../Inference/#plfa_plfa-part2-Inference-26609" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26612" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-26615" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26618" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26622" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26624" href="../Inference/#plfa_plfa-part2-Inference-26605" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26626" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26628" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-26630" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26634" href="../Inference/#plfa_plfa-part2-Inference-26609" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26637" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
</pre><p>考虑上下文的情况：</p><ul><li>如果上下文为空，那么平凡地，我们没有任何可能的推导。</li></ul><ul><li>如果上下文非空，比较给定的变量和最新的绑定：</li></ul><ul><li>如果它们一致，我们完成了判定，使用 <code>Z</code> 作为对应的推导。</li></ul><ul><li>如果它们不一致，我们递归：</li></ul><pre><code>- 如果查询失败了，我们使用 `ext∋` 将变量不存在于内部的上下文中的证明扩充至扩充后的上下文。</code></pre><pre><code>- 如果查询成功了，我们对返回的推导使用 `S`。</code></pre><h2 id="提升否定">提升否定</h2><p>对于每一个可能的项的形式，我们需要证明：如果其内部的子项无法被赋型，那么整个项无法被赋型。 大多数情况下，我们可以直接在行中直接完成所需的证明，但有一些困难的情况， 我们提供一些帮助函数。</p><p>如果 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立而 <code>Γ ⊢ M ↓ A</code> 不成立，那么不存在使得 <code>Γ ⊢ L · M ↑ B′</code> 成立的类型 <code>B′</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬arg"></a><a id="plfa_plfa-part2-Inference-28028" href="../Inference/#plfa_plfa-part2-Inference-28028" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28033" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-28035" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-28037" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-28038" href="../Inference/#plfa_plfa-part2-Inference-28038" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28040" href="../Inference/#plfa_plfa-part2-Inference-28040" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28042" href="../Inference/#plfa_plfa-part2-Inference-28042" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-28044" href="../Inference/#plfa_plfa-part2-Inference-28044" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28046" href="../Inference/#plfa_plfa-part2-Inference-28046" class="Bound">M</a><a id="plfa_plfa-part2-Inference-28047" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-28051" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28053" href="../Inference/#plfa_plfa-part2-Inference-28038" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28055" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28057" href="../Inference/#plfa_plfa-part2-Inference-28044" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28059" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28061" href="../Inference/#plfa_plfa-part2-Inference-28040" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28063" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-28065" href="../Inference/#plfa_plfa-part2-Inference-28042" class="Bound">B</a>
  <a id="plfa_plfa-part2-Inference-28069" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28071" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28073" href="../Inference/#plfa_plfa-part2-Inference-28038" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28075" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28077" href="../Inference/#plfa_plfa-part2-Inference-28046" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28079" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-28081" href="../Inference/#plfa_plfa-part2-Inference-28040" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-28087" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Inference-28116" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28118" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28120" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28121" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-28124" href="../Inference/#plfa_plfa-part2-Inference-28124" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28127" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-28129" href="../Inference/#plfa_plfa-part2-Inference-28038" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28131" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28133" href="../Inference/#plfa_plfa-part2-Inference-28044" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28135" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28137" href="../Inference/#plfa_plfa-part2-Inference-28046" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28139" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28141" href="../Inference/#plfa_plfa-part2-Inference-28124" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-28143" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-28145" href="../Inference/#plfa_plfa-part2-Inference-28028" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28150" href="../Inference/#plfa_plfa-part2-Inference-28150" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28153" href="../Inference/#plfa_plfa-part2-Inference-28153" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28157" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-28159" href="../Inference/#plfa_plfa-part2-Inference-28159" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28162" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-28164" href="../Inference/#plfa_plfa-part2-Inference-28164" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-28168" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28170" href="../Inference/#plfa_plfa-part2-Inference-28170" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-28174" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-28176" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-28184" href="../Inference/#plfa_plfa-part2-Inference-22712" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-28189" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28190" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-28197" href="../Inference/#plfa_plfa-part2-Inference-28150" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28200" href="../Inference/#plfa_plfa-part2-Inference-28164" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-28203" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-28205" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-28207" href="../Inference/#plfa_plfa-part2-Inference-28153" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28211" href="../Inference/#plfa_plfa-part2-Inference-28170" class="Bound">⊢M′</a>
</pre><p>让 <code>⊢L</code> 作为 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明、 <code>¬⊢M</code> 作为 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 给定类型 <code>B′</code> 和 <code>Γ ⊢ L · M ↑ B′</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢L′ · ⊢M′</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A′ ⇒ B′</code> 成立的证明、<code>⊢M′</code> 是 <code>Γ ⊢ M ↓ A′</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code>，我们知道 <code>A ⇒ B ≡ A′ ⇒ B′</code>， 所以可得 <code>A ≡ A′</code>，这意味着 <code>¬⊢M</code> 和 <code>⊢M′</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>¬⊢M</code> 和 <code>⊢M′</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><p>如果 <code>Γ ⊢ M ↑ A</code> 成立且 <code>A ≢ B</code>，那么 <code>Γ ⊢ (M ↑) ↓ B</code> 不成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬switch"></a><a id="plfa_plfa-part2-Inference-29388" href="../Inference/#plfa_plfa-part2-Inference-29388" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29396" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-29398" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-29400" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-29401" href="../Inference/#plfa_plfa-part2-Inference-29401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29403" href="../Inference/#plfa_plfa-part2-Inference-29403" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29405" href="../Inference/#plfa_plfa-part2-Inference-29405" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29407" href="../Inference/#plfa_plfa-part2-Inference-29407" class="Bound">B</a><a id="plfa_plfa-part2-Inference-29408" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-29412" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29414" href="../Inference/#plfa_plfa-part2-Inference-29401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29416" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29418" href="../Inference/#plfa_plfa-part2-Inference-29403" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29420" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-29422" href="../Inference/#plfa_plfa-part2-Inference-29405" class="Bound">A</a>
  <a id="plfa_plfa-part2-Inference-29426" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29428" href="../Inference/#plfa_plfa-part2-Inference-29405" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29430" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-29432" href="../Inference/#plfa_plfa-part2-Inference-29407" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-29438" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-29456" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29458" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-29460" href="../Inference/#plfa_plfa-part2-Inference-29401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29462" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29464" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29465" href="../Inference/#plfa_plfa-part2-Inference-29403" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29467" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-29468" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29470" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-29472" href="../Inference/#plfa_plfa-part2-Inference-29407" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-29474" href="../Inference/#plfa_plfa-part2-Inference-29388" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29482" href="../Inference/#plfa_plfa-part2-Inference-29482" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29485" href="../Inference/#plfa_plfa-part2-Inference-29485" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29489" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29490" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-29493" href="../Inference/#plfa_plfa-part2-Inference-29493" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29497" href="../Inference/#plfa_plfa-part2-Inference-29497" class="Bound">A′≡B</a><a id="plfa_plfa-part2-Inference-29501" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29503" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-29511" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-29518" href="../Inference/#plfa_plfa-part2-Inference-29482" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29521" href="../Inference/#plfa_plfa-part2-Inference-29493" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29525" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-29527" href="../Inference/#plfa_plfa-part2-Inference-29485" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29531" href="../Inference/#plfa_plfa-part2-Inference-29497" class="Bound">A′≡B</a>
</pre><p>让 <code>⊢M</code> 作为 <code>Γ ⊢ M ↑ A</code> 成立的证明、<code>A≢B</code> 作为 <code>A ≢ B</code> 成立的证明。 给定 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢↑ ⊢M′ A′≡B</code> 的形式，其中 <code>⊢M′</code> 是 <code>Γ ⊢ M ↑ A′</code> 成立的证明、<code>A′≡B</code> 是 <code>A′ ≡ B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢M</code> 和 <code>⊢M′</code>，我们知道 <code>A ≡ A′</code>，这意味着 <code>A≢B</code> 和 <code>A′≡B</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>A≢B</code> 和 <code>A′≡B</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><h2 id="生成和继承类型-1">生成和继承类型</h2><p>餐桌已经布置好了，我们已经准备好享用今天的主菜了。 我们定义两个共同递归的函数，一个用于生成，一个用于继承。 生成在给定上下文 <code>Γ</code> 和生成项 <code>M</code> 时，要么返回一个类型 <code>A</code> 和 <code>Γ ⊢ M ↑ A</code> 成立的证明，或者其/否定。 继承在给定上下文 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code> 时要么返回 <code>Γ ⊢ M ↓ A</code> 成立的证明，或者其否定：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-synthesize"></a><a id="plfa_plfa-part2-Inference-31122" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31133" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31135" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31137" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31138" href="../Inference/#plfa_plfa-part2-Inference-31138" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31140" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31142" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31149" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31151" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31152" href="../Inference/#plfa_plfa-part2-Inference-31152" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31154" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31156" href="../Inference/#plfa_plfa-part2-Inference-16605" class="Datatype">Term⁺</a><a id="plfa_plfa-part2-Inference-31161" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-31176" class="Comment">---------------------------</a>
           <a id="plfa_plfa-part2-Inference-31215" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31217" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31221" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31222" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-31225" href="../Inference/#plfa_plfa-part2-Inference-31225" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31227" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-31229" href="../Inference/#plfa_plfa-part2-Inference-31138" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31231" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31233" href="../Inference/#plfa_plfa-part2-Inference-31152" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31235" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-31237" href="../Inference/#plfa_plfa-part2-Inference-31225" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31239" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-inherit"></a><a id="plfa_plfa-part2-Inference-31242" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31250" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31252" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31254" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31255" href="../Inference/#plfa_plfa-part2-Inference-31255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31257" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31259" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31266" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31268" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31269" href="../Inference/#plfa_plfa-part2-Inference-31269" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31271" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31273" href="../Inference/#plfa_plfa-part2-Inference-16622" class="Datatype">Term⁻</a><a id="plfa_plfa-part2-Inference-31278" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31280" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31281" href="../Inference/#plfa_plfa-part2-Inference-31281" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31283" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31285" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-31289" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-31295" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-31313" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31315" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31319" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31320" href="../Inference/#plfa_plfa-part2-Inference-31255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31322" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31324" href="../Inference/#plfa_plfa-part2-Inference-31269" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31326" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-31328" href="../Inference/#plfa_plfa-part2-Inference-31281" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31329" class="Symbol">)</a>
</pre><p>我们首先考虑生成的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-31410" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31421" href="../Inference/#plfa_plfa-part2-Inference-31421" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31423" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31424" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-31426" href="../Inference/#plfa_plfa-part2-Inference-31426" class="Bound">x</a><a id="plfa_plfa-part2-Inference-31427" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31429" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31434" href="../Inference/#plfa_plfa-part2-Inference-26266" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-31441" href="../Inference/#plfa_plfa-part2-Inference-31421" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31443" href="../Inference/#plfa_plfa-part2-Inference-31426" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-31445" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31449" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31451" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31455" href="../Inference/#plfa_plfa-part2-Inference-31455" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31471" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31474" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31478" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31482" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31484" href="../Inference/#plfa_plfa-part2-Inference-31484" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31486" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31488" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31491" href="../Inference/#plfa_plfa-part2-Inference-31491" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31494" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31496" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31498" href="../Inference/#plfa_plfa-part2-Inference-31455" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31501" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31503" href="../Inference/#plfa_plfa-part2-Inference-31484" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31505" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31507" href="../Inference/#plfa_plfa-part2-Inference-31491" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31510" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31512" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31515" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31519" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31521" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31525" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31527" href="../Inference/#plfa_plfa-part2-Inference-31527" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31529" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31531" href="../Inference/#plfa_plfa-part2-Inference-31531" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31534" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>      <a id="plfa_plfa-part2-Inference-31541" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31544" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31548" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31550" href="../Inference/#plfa_plfa-part2-Inference-31527" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31552" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31554" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31557" href="../Inference/#plfa_plfa-part2-Inference-31531" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31560" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31562" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31573" href="../Inference/#plfa_plfa-part2-Inference-31573" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31575" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31576" href="../Inference/#plfa_plfa-part2-Inference-31576" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-31578" href="../Inference/#plfa_plfa-part2-Inference-16694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31580" href="../Inference/#plfa_plfa-part2-Inference-31580" class="Bound">M</a><a id="plfa_plfa-part2-Inference-31581" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31583" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31588" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31599" href="../Inference/#plfa_plfa-part2-Inference-31573" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31601" href="../Inference/#plfa_plfa-part2-Inference-31576" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-31603" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31607" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31609" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31613" href="../Inference/#plfa_plfa-part2-Inference-31613" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31629" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31632" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31636" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31640" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31642" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31644" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31646" href="../Inference/#plfa_plfa-part2-Inference-31646" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-31650" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31652" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31655" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31658" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31661" href="../Inference/#plfa_plfa-part2-Inference-31613" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31664" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31666" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31668" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31670" href="../Inference/#plfa_plfa-part2-Inference-31646" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31673" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31675" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31678" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31682" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31684" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31688" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31690" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-31693" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-31698" href="../Inference/#plfa_plfa-part2-Inference-31698" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31701" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31704" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31707" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31711" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31715" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31717" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31719" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31721" href="../Inference/#plfa_plfa-part2-Inference-31721" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-31725" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31727" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31730" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31733" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31736" href="../Inference/#plfa_plfa-part2-Inference-22981" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-31740" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31741" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-31748" href="../Inference/#plfa_plfa-part2-Inference-31698" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31751" href="../Inference/#plfa_plfa-part2-Inference-31721" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-31754" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31756" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31759" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31763" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31765" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31769" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31771" href="../Inference/#plfa_plfa-part2-Inference-31771" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31773" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-31775" href="../Inference/#plfa_plfa-part2-Inference-31775" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31777" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31779" href="../Inference/#plfa_plfa-part2-Inference-31779" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31782" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31784" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31789" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31797" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31799" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31801" href="../Inference/#plfa_plfa-part2-Inference-31771" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31803" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31810" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31812" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31816" href="../Inference/#plfa_plfa-part2-Inference-31816" class="Bound">¬⊢M</a>          <a id="plfa_plfa-part2-Inference-31829" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31832" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31836" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31837" href="../Inference/#plfa_plfa-part2-Inference-28028" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-31842" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31845" href="../Inference/#plfa_plfa-part2-Inference-31816" class="Bound">¬⊢M</a><a id="plfa_plfa-part2-Inference-31848" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-31850" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31857" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31859" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31863" href="../Inference/#plfa_plfa-part2-Inference-31863" class="Bound">⊢M</a>           <a id="plfa_plfa-part2-Inference-31876" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31879" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31883" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31885" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31887" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31889" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31892" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31894" href="../Inference/#plfa_plfa-part2-Inference-31863" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31897" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31899" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31910" href="../Inference/#plfa_plfa-part2-Inference-31910" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31912" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31913" href="../Inference/#plfa_plfa-part2-Inference-31913" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31915" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-31917" href="../Inference/#plfa_plfa-part2-Inference-31917" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31918" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31920" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31925" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31933" href="../Inference/#plfa_plfa-part2-Inference-31910" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31935" href="../Inference/#plfa_plfa-part2-Inference-31913" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31937" href="../Inference/#plfa_plfa-part2-Inference-31917" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31939" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31943" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31945" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31949" href="../Inference/#plfa_plfa-part2-Inference-31949" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-31965" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31968" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31972" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31976" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31978" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31980" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31982" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-31985" href="../Inference/#plfa_plfa-part2-Inference-31985" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31988" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31991" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31994" href="../Inference/#plfa_plfa-part2-Inference-31949" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-31998" href="../Inference/#plfa_plfa-part2-Inference-31985" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32001" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-32004" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32008" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32010" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32014" href="../Inference/#plfa_plfa-part2-Inference-32014" class="Bound">⊢M</a>              <a id="plfa_plfa-part2-Inference-32030" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32033" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32037" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32039" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-32041" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32043" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32046" href="../Inference/#plfa_plfa-part2-Inference-32014" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32049" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
</pre><p>有三种情况来考虑：</p><ul><li>如果项是变量 <code>` x</code>，我们使用之前定义的查询：</li></ul><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ∋ x ⦂ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ ` x ↑ A</code> 成立的证明一定是 <code>⊢` ∋x</code> 的形式，其中 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，所以 <code>⊢` ∋x</code> 是 <code>Γ ⊢ ` x ↑ A</code> 成立的证明。</li></ul><ul><li>如果项是函数应用 <code>L · M</code>，我们递归于函数项 <code>L</code>：</li></ul><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在任何类型 <code>Γ ⊢ L ↑ _</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L · _</code> 的形式，其中 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么有两种情况：</li></ul><pre><code>- 其一是 `⊢L` 是 `` Γ ⊢ L ⦂ `ℕ `` 成立的证明。
  `Γ ⊢ L · M ↑ _` 成立的证明一定是 `⊢L′ · _` 的形式，其中
  `⊢L′` 是 `Γ ⊢ L ↑ A ⇒ B` 对于一些类型 `A` 和 `B` 成立的证明。
  将 `uniq-↑` 应用于 `⊢L` 和 `⊢L′` 构成了一个矛盾，
  因为 `` `ℕ `` 无法与 `A ⇒ B` 相等。</code></pre><pre><code>- 另一是 `⊢L` 是 `Γ ⊢ L ↑ A ⇒ B` 成立的证明，那么我们在参数项 `M` 上递归：</code></pre><pre><code>  * 如果失败了，那么 `¬⊢M` 是 `Γ ⊢ M ↓ A` 不成立的证明。
    将 `¬arg` 应用于 `⊢L` 和 `¬⊢M`，我们可得
    `Γ ⊢ L · M ↑ B` 不成立。</code></pre><pre><code>  * 如果成功了，那么 `⊢M` 是 `Γ ⊢ M ↓ A` 成立的证明，
    且 `⊢L · ⊢M` 提供了 `Γ ⊢ L · M ↑ B` 成立的证明。</code></pre><ul><li>如果项是从生成到继承的变向项 <code>M ↓ A</code>，我们在子项 <code>M</code> 上递归，并向继承提供类型 <code>A</code>：</li></ul><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明一定是 <code>⊢↓ ⊢M</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，且 <code>⊢↓ ⊢M</code> 提供了 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明。</li></ul><p>我们接下来考虑继承的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-35507" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35515" href="../Inference/#plfa_plfa-part2-Inference-35515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35517" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35518" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35520" href="../Inference/#plfa_plfa-part2-Inference-35520" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35522" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35524" href="../Inference/#plfa_plfa-part2-Inference-35524" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35525" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35527" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-35535" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35538" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35542" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35548" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35556" href="../Inference/#plfa_plfa-part2-Inference-35556" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35558" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35559" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35561" href="../Inference/#plfa_plfa-part2-Inference-35561" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35563" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35565" href="../Inference/#plfa_plfa-part2-Inference-35565" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35566" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35568" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35569" href="../Inference/#plfa_plfa-part2-Inference-35569" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35571" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35573" href="../Inference/#plfa_plfa-part2-Inference-35573" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35574" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35576" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35581" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35589" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35590" href="../Inference/#plfa_plfa-part2-Inference-35556" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35592" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-35594" href="../Inference/#plfa_plfa-part2-Inference-35561" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35596" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-35598" href="../Inference/#plfa_plfa-part2-Inference-35569" class="Bound">A</a><a id="plfa_plfa-part2-Inference-35599" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35601" href="../Inference/#plfa_plfa-part2-Inference-35565" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-35603" href="../Inference/#plfa_plfa-part2-Inference-35573" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-35605" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35609" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35611" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35614" href="../Inference/#plfa_plfa-part2-Inference-35614" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-35633" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35636" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35640" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35644" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35645" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35648" href="../Inference/#plfa_plfa-part2-Inference-35648" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35650" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35653" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35656" href="../Inference/#plfa_plfa-part2-Inference-35614" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-35660" href="../Inference/#plfa_plfa-part2-Inference-35648" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-35663" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35666" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35670" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35672" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35676" href="../Inference/#plfa_plfa-part2-Inference-35676" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-35694" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35697" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35701" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35702" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35705" href="../Inference/#plfa_plfa-part2-Inference-35676" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35707" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35709" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35717" href="../Inference/#plfa_plfa-part2-Inference-35717" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35719" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35725" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>          <a id="plfa_plfa-part2-Inference-35737" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35740" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35744" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a>
<a id="plfa_plfa-part2-Inference-35750" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35758" href="../Inference/#plfa_plfa-part2-Inference-35758" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35760" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35766" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35767" href="../Inference/#plfa_plfa-part2-Inference-35767" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35769" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35771" href="../Inference/#plfa_plfa-part2-Inference-35771" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35772" class="Symbol">)</a>     <a id="plfa_plfa-part2-Inference-35778" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35781" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35785" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35791" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35799" href="../Inference/#plfa_plfa-part2-Inference-35799" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35801" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35802" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35807" href="../Inference/#plfa_plfa-part2-Inference-35807" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35808" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35810" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-35813" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35818" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35826" href="../Inference/#plfa_plfa-part2-Inference-35799" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35828" href="../Inference/#plfa_plfa-part2-Inference-35807" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-35830" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-35833" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35837" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35839" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35842" href="../Inference/#plfa_plfa-part2-Inference-35842" class="Bound">¬⊢M</a>                <a id="plfa_plfa-part2-Inference-35861" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35864" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35868" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35872" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35873" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-35878" href="../Inference/#plfa_plfa-part2-Inference-35878" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-35880" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35883" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35886" href="../Inference/#plfa_plfa-part2-Inference-35842" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-35890" href="../Inference/#plfa_plfa-part2-Inference-35878" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-35893" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35896" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35900" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35902" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35906" href="../Inference/#plfa_plfa-part2-Inference-35906" class="Bound">⊢M</a>                <a id="plfa_plfa-part2-Inference-35924" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35927" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35931" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35932" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-35937" href="../Inference/#plfa_plfa-part2-Inference-35906" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-35939" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35941" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35949" href="../Inference/#plfa_plfa-part2-Inference-35949" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35951" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35952" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35957" href="../Inference/#plfa_plfa-part2-Inference-35957" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35958" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35960" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35961" href="../Inference/#plfa_plfa-part2-Inference-35961" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35963" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35965" href="../Inference/#plfa_plfa-part2-Inference-35965" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35966" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35969" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35972" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35976" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35982" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35990" href="../Inference/#plfa_plfa-part2-Inference-35990" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35992" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35993" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-35999" href="../Inference/#plfa_plfa-part2-Inference-35999" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-36001" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-36008" href="../Inference/#plfa_plfa-part2-Inference-36008" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36010" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-36015" href="../Inference/#plfa_plfa-part2-Inference-36015" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36017" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36019" href="../Inference/#plfa_plfa-part2-Inference-36019" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36021" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-36022" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36024" href="../Inference/#plfa_plfa-part2-Inference-36024" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36026" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36031" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36042" href="../Inference/#plfa_plfa-part2-Inference-35990" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36044" href="../Inference/#plfa_plfa-part2-Inference-35999" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-36046" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36050" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36052" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36055" href="../Inference/#plfa_plfa-part2-Inference-36055" class="Bound">¬∃</a>                 <a id="plfa_plfa-part2-Inference-36074" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36077" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36081" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36085" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36086" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36092" href="../Inference/#plfa_plfa-part2-Inference-36092" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-36096" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36098" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36101" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36103" href="../Inference/#plfa_plfa-part2-Inference-36055" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36106" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36108" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36111" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36113" href="../Inference/#plfa_plfa-part2-Inference-36092" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36116" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a><a id="plfa_plfa-part2-Inference-36117" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36120" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36124" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36126" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36130" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36132" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36134" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36136" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36138" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36140" href="../Inference/#plfa_plfa-part2-Inference-36140" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36143" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>    <a id="plfa_plfa-part2-Inference-36148" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36151" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36155" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36159" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36160" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36166" href="../Inference/#plfa_plfa-part2-Inference-36166" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36170" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36172" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36175" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36177" href="../Inference/#plfa_plfa-part2-Inference-22981" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-36181" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36182" href="../Inference/#plfa_plfa-part2-Inference-24314" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-36189" href="../Inference/#plfa_plfa-part2-Inference-36166" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36193" href="../Inference/#plfa_plfa-part2-Inference-36140" class="Bound">⊢L</a><a id="plfa_plfa-part2-Inference-36195" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36197" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36200" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36204" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36206" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36210" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36212" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36215" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-36220" href="../Inference/#plfa_plfa-part2-Inference-36220" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36223" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36225" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36230" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36238" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36240" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36242" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36244" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36251" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36253" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36256" href="../Inference/#plfa_plfa-part2-Inference-36256" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-36272" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36275" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36279" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36283" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36284" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36290" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36292" href="../Inference/#plfa_plfa-part2-Inference-36292" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36295" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36298" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36300" href="../Inference/#plfa_plfa-part2-Inference-36256" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36304" href="../Inference/#plfa_plfa-part2-Inference-36292" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36307" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36310" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36317" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36319" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36323" href="../Inference/#plfa_plfa-part2-Inference-36323" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36326" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36331" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36339" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36340" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36342" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36344" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36346" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36348" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-36350" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36352" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36354" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36356" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36366" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36368" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36371" href="../Inference/#plfa_plfa-part2-Inference-36371" class="Bound">¬⊢N</a>          <a id="plfa_plfa-part2-Inference-36384" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36387" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36391" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36395" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36396" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36402" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36404" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36406" href="../Inference/#plfa_plfa-part2-Inference-36406" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36408" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36410" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36412" href="../Inference/#plfa_plfa-part2-Inference-36371" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36416" href="../Inference/#plfa_plfa-part2-Inference-36406" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36419" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36422" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36432" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36434" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36438" href="../Inference/#plfa_plfa-part2-Inference-36438" class="Bound">⊢N</a>          <a id="plfa_plfa-part2-Inference-36450" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36453" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36457" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36458" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36464" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36467" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36470" href="../Inference/#plfa_plfa-part2-Inference-36438" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36472" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36474" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36482" href="../Inference/#plfa_plfa-part2-Inference-36482" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36484" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36485" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-36487" href="../Inference/#plfa_plfa-part2-Inference-36487" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36489" href="../Inference/#plfa_plfa-part2-Inference-17003" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36491" href="../Inference/#plfa_plfa-part2-Inference-36491" class="Bound">N</a><a id="plfa_plfa-part2-Inference-36492" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36494" href="../Inference/#plfa_plfa-part2-Inference-36494" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36496" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36501" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36509" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36510" href="../Inference/#plfa_plfa-part2-Inference-36482" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36512" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36514" href="../Inference/#plfa_plfa-part2-Inference-36487" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36516" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36518" href="../Inference/#plfa_plfa-part2-Inference-36494" class="Bound">A</a><a id="plfa_plfa-part2-Inference-36519" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36521" href="../Inference/#plfa_plfa-part2-Inference-36491" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36523" href="../Inference/#plfa_plfa-part2-Inference-36494" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36525" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36529" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36531" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36534" href="../Inference/#plfa_plfa-part2-Inference-36534" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-36553" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36556" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36560" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36564" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36565" href="../Inference/#plfa_plfa-part2-Inference-20022" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36568" href="../Inference/#plfa_plfa-part2-Inference-36568" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36570" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36572" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36574" href="../Inference/#plfa_plfa-part2-Inference-36534" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36578" href="../Inference/#plfa_plfa-part2-Inference-36568" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36581" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36584" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36588" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36590" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36594" href="../Inference/#plfa_plfa-part2-Inference-36594" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-36612" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36615" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36619" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36620" href="../Inference/#plfa_plfa-part2-Inference-20022" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36623" href="../Inference/#plfa_plfa-part2-Inference-36594" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36625" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36627" href="../Inference/#plfa_plfa-part2-Inference-31242" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36635" href="../Inference/#plfa_plfa-part2-Inference-36635" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36637" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36638" href="../Inference/#plfa_plfa-part2-Inference-36638" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36640" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-36641" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36643" href="../Inference/#plfa_plfa-part2-Inference-36643" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-36645" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36650" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36661" href="../Inference/#plfa_plfa-part2-Inference-36635" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36663" href="../Inference/#plfa_plfa-part2-Inference-36638" class="Bound">M</a>
<a id="plfa_plfa-part2-Inference-36665" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36669" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36671" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36675" href="../Inference/#plfa_plfa-part2-Inference-36675" class="Bound">¬∃</a>                <a id="plfa_plfa-part2-Inference-36693" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36696" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36700" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36704" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36705" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36708" href="../Inference/#plfa_plfa-part2-Inference-36708" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36711" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36714" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36716" href="../Inference/#plfa_plfa-part2-Inference-36675" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36719" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36721" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36723" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36725" href="../Inference/#plfa_plfa-part2-Inference-36708" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36728" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36730" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36733" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36737" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36739" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36743" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36745" href="../Inference/#plfa_plfa-part2-Inference-36745" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36747" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36749" href="../Inference/#plfa_plfa-part2-Inference-36749" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36752" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36754" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36759" href="../Inference/#plfa_plfa-part2-Inference-36745" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36761" href="../Inference/#plfa_plfa-part2-Inference-22210" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-36765" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-36767" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36773" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36775" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36779" href="../Inference/#plfa_plfa-part2-Inference-36779" class="Bound">A≢B</a>             <a id="plfa_plfa-part2-Inference-36795" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36798" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36802" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36803" href="../Inference/#plfa_plfa-part2-Inference-29388" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-36811" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36814" href="../Inference/#plfa_plfa-part2-Inference-36779" class="Bound">A≢B</a><a id="plfa_plfa-part2-Inference-36817" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36819" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36825" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36827" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36831" href="../Inference/#plfa_plfa-part2-Inference-36831" class="Bound">A≡B</a>             <a id="plfa_plfa-part2-Inference-36847" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36850" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36854" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36855" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36858" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36861" href="../Inference/#plfa_plfa-part2-Inference-36831" class="Bound">A≡B</a><a id="plfa_plfa-part2-Inference-36864" class="Symbol">)</a>
</pre><p>我们在此只考虑抽象和从继承变向至生成的情况：</p><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>`ℕ</code>，那么平凡地， <code>Γ ⊢ (ƛ x ⇒ N) ↓ `ℕ</code> 无法成立。</li></ul><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>A ⇒ B</code>，我们用上下文 <code>Γ , x ⦂ A</code> 递归至 子项 <code>N</code> 继承类型 <code>B</code>：</li></ul><ul><li>如果失败了，那么 <code>¬⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 不成立的证明。 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明一定是 <code>⊢ƛ ⊢N</code> 的形式，其中 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，且 <code>⊢ƛ ⊢N</code> 提供了 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明。</li></ul><ul><li>如果项是从继承到生成的变向项 <code>M ↑</code>，我们在子项 <code>M</code> 上递归：</li></ul><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ⊢ M ↑ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明一定是 <code>⊢↑ ⊢M _</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ A</code> 成立的证明。 我们应用 <code>_≟Tp_</code> 来判定 <code>A</code> 和 <code>B</code> 是否相等：</li></ul><pre><code>- 如果失败了，那么 `A≢B` 是 `A ≢ B` 的证明。
  将 `¬switch` 应用于 `⊢M` 和 `A≢B`，我们可得
  `Γ ⊢ (M ↑) ↓ B` 无法成立。</code></pre><pre><code>- 如果成功了，那么 `A≡B` 是 `A ≡ B` 的证明，
  且 `⊢↑ ⊢M A≡B` 提供了 `Γ ⊢ (M ↑) ↓ B` 成立的证明。</code></pre><p>剩余的情况类似，它们的代码可以由对应的赋型规则直接对应得来。</p><h2 id="测试项的例子">测试项的例子</h2><p>首先，我们复制之前介绍过的智能构造子 <code>S′</code>，使得访问上下文中的变量更加便利：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-S′"></a><a id="plfa_plfa-part2-Inference-39721" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39724" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39726" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-39728" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39729" href="../Inference/#plfa_plfa-part2-Inference-39729" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39731" href="../Inference/#plfa_plfa-part2-Inference-39731" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39733" href="../Inference/#plfa_plfa-part2-Inference-39733" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39735" href="../Inference/#plfa_plfa-part2-Inference-39735" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-39737" href="../Inference/#plfa_plfa-part2-Inference-39737" class="Bound">B</a><a id="plfa_plfa-part2-Inference-39738" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Inference-39743" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39745" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39746" href="../Inference/#plfa_plfa-part2-Inference-39746" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-39750" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39752" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a> <a id="plfa_plfa-part2-Inference-39758" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39759" href="../Inference/#plfa_plfa-part2-Inference-39731" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39761" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-39763" href="../Inference/#plfa_plfa-part2-Inference-39733" class="Bound">y</a><a id="plfa_plfa-part2-Inference-39764" class="Symbol">)}</a>
   <a id="plfa_plfa-part2-Inference-39770" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39772" href="../Inference/#plfa_plfa-part2-Inference-39729" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39774" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39776" href="../Inference/#plfa_plfa-part2-Inference-39731" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39778" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39780" href="../Inference/#plfa_plfa-part2-Inference-39735" class="Bound">A</a>
     <a id="plfa_plfa-part2-Inference-39787" class="Comment">------------------</a>
   <a id="plfa_plfa-part2-Inference-39809" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39811" href="../Inference/#plfa_plfa-part2-Inference-39729" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39813" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-39815" href="../Inference/#plfa_plfa-part2-Inference-39733" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39817" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39819" href="../Inference/#plfa_plfa-part2-Inference-39737" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-39821" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39823" href="../Inference/#plfa_plfa-part2-Inference-39731" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39825" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39827" href="../Inference/#plfa_plfa-part2-Inference-39735" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-39830" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39833" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39834" class="Argument">x≢y</a> <a id="plfa_plfa-part2-Inference-39838" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39840" href="../Inference/#plfa_plfa-part2-Inference-39840" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39843" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-39845" href="../Inference/#plfa_plfa-part2-Inference-39845" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39847" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-39849" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-39851" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39852" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="plfa_plfa-part2-Inference-39867" href="../Inference/#plfa_plfa-part2-Inference-39840" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-39870" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-39872" href="../Inference/#plfa_plfa-part2-Inference-39845" class="Bound">x</a>
</pre><p>下面是给自然数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2"></a><a id="plfa_plfa-part2-Inference-39970" href="../Inference/#plfa_plfa-part2-Inference-39970" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-39975" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39977" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-39979" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-39981" href="../Inference/#plfa_plfa-part2-Inference-17853" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-39985" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-39987" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-39990" href="../Inference/#plfa_plfa-part2-Inference-39970" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-39995" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-39999" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40000" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a>
   <a id="plfa_plfa-part2-Inference-40006" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40007" href="../Inference/#plfa_plfa-part2-Inference-20022" class="InductiveConstructor">⊢μ</a>
    <a id="plfa_plfa-part2-Inference-40014" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40015" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-40023" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40024" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-40033" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40034" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-40040" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40041" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40044" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40045" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40048" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40049" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40052" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40053" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40056" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40057" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40060" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40061" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40063" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40067" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-40076" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40077" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a>
        <a id="plfa_plfa-part2-Inference-40090" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40091" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a>
         <a id="plfa_plfa-part2-Inference-40103" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40104" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a>
          <a id="plfa_plfa-part2-Inference-40117" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40118" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a>
           <a id="plfa_plfa-part2-Inference-40132" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40133" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a>
            <a id="plfa_plfa-part2-Inference-40148" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40149" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40152" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40153" class="Symbol">)))</a>
          <a id="plfa_plfa-part2-Inference-40167" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40169" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40172" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40173" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40176" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40177" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40179" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
          <a id="plfa_plfa-part2-Inference-40194" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40196" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40199" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40200" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40203" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40204" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40207" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40208" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40211" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40215" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-40226" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40230" class="Symbol">))))))</a>
   <a id="plfa_plfa-part2-Inference-40240" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40242" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40247" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40248" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40253" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40258" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Inference-40263" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40265" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40270" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40271" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40276" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40281" class="Symbol">))</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-40442" href="../Inference/#plfa_plfa-part2-Inference-40442" class="Function">_</a> <a id="plfa_plfa-part2-Inference-40444" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40446" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-40457" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40459" href="../Inference/#plfa_plfa-part2-Inference-17853" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40463" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-40465" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-40469" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-40471" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-40474" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-40476" href="../Inference/#plfa_plfa-part2-Inference-39970" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40481" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-40483" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-40485" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40487" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>的确，上述的推导是用左边的项求值所得的，再加上一些微小的修改。 所需的修改只是使用智能构造子 <code>S′</code> 来获取两个变量名（使用字符串）不同的证明（其无法打印或阅读）。</p><p>下面是给 Church 数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-40981" href="../Inference/#plfa_plfa-part2-Inference-40981" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-40987" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40989" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40991" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-40993" href="../Inference/#plfa_plfa-part2-Inference-18457" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-40998" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-41000" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-41003" href="../Inference/#plfa_plfa-part2-Inference-40981" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41009" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-41013" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a>
  <a id="plfa_plfa-part2-Inference-41018" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41019" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41025" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41026" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
    <a id="plfa_plfa-part2-Inference-41033" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41034" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-41042" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41043" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-41052" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41053" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a>
       <a id="plfa_plfa-part2-Inference-41063" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41064" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a>
        <a id="plfa_plfa-part2-Inference-41075" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41076" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a>
         <a id="plfa_plfa-part2-Inference-41088" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41089" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41102" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41103" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41106" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41107" class="Symbol">)))</a>
        <a id="plfa_plfa-part2-Inference-41119" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41121" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41124" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41125" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41128" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41129" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41132" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41133" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41136" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Inference-41149" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Inference-41159" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a>
        <a id="plfa_plfa-part2-Inference-41170" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41171" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a>
         <a id="plfa_plfa-part2-Inference-41183" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41184" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41197" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41198" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41201" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41202" class="Symbol">))</a>
         <a id="plfa_plfa-part2-Inference-41214" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41216" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41219" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41220" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41223" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41224" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41227" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41228" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41231" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
         <a id="plfa_plfa-part2-Inference-41245" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41247" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41250" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41251" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41254" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41255" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41257" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41261" class="Symbol">)</a>
        <a id="plfa_plfa-part2-Inference-41271" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41275" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-41284" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41288" class="Symbol">)))))</a>
  <a id="plfa_plfa-part2-Inference-41296" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41300" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41305" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41306" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41312" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41313" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41320" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41321" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41324" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41325" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41328" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41329" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41331" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41338" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41341" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41342" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41345" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41346" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41349" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41350" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41352" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41354" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41357" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41358" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41361" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41362" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41364" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41368" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41375" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41379" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41385" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41389" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41394" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41398" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41403" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41404" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41410" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41411" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41418" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41419" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41422" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41423" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41426" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41427" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41429" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41436" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41439" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41440" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41443" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41444" href="../Inference/#plfa_plfa-part2-Inference-39721" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41447" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41448" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41450" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41452" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41455" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41456" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41459" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41460" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41462" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41466" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41473" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41477" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41483" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41487" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41492" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41494" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-41497" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41498" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-41503" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41504" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41507" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41508" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41511" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41512" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41514" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41518" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41523" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41525" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-41689" href="../Inference/#plfa_plfa-part2-Inference-41689" class="Function">_</a> <a id="plfa_plfa-part2-Inference-41691" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41693" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-41704" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41706" href="../Inference/#plfa_plfa-part2-Inference-18457" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41711" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-41713" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-41717" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-41719" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-41722" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-41724" href="../Inference/#plfa_plfa-part2-Inference-40981" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41730" href="../Inference/#plfa_plfa-part2-Inference-14875" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-41732" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-41734" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-41736" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>同样，上面的推导使用对左手边的项求值所得，加上一些修改。</p><h2 id="测试错误的例子">测试错误的例子</h2><p>很重要的是，不仅要检查代码是否按照意图工作，以及代码是否按照意图不工作。 下面是检查不同种类错误的例子：</p><p>未约束的变量：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42178" href="../Inference/#plfa_plfa-part2-Inference-42178" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42180" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42182" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42193" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42195" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42197" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-42199" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-42203" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42205" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-42207" class="String">&quot;y&quot;</a> <a id="plfa_plfa-part2-Inference-42211" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-42212" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42214" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42216" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42217" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42220" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42222" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42224" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-42227" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42229" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42232" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42234" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42236" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42238" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>函数应用的参数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42320" href="../Inference/#plfa_plfa-part2-Inference-42320" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42322" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42324" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42335" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42337" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42338" href="../Inference/#plfa_plfa-part2-Inference-17662" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42343" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42345" href="../Inference/#plfa_plfa-part2-Inference-18413" class="Function">sucᶜ</a><a id="plfa_plfa-part2-Inference-42349" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42351" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42353" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42356" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42358" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42360" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42362" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42444" href="../Inference/#plfa_plfa-part2-Inference-42444" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42446" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42448" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42459" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42461" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42462" href="../Inference/#plfa_plfa-part2-Inference-17662" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42467" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42469" href="../Inference/#plfa_plfa-part2-Inference-18413" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-42474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42476" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a><a id="plfa_plfa-part2-Inference-42479" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42483" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42486" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42488" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42490" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42492" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数是自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42578" href="../Inference/#plfa_plfa-part2-Inference-42578" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42580" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42582" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42593" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42595" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42597" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42601" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42603" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42605" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42607" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42609" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a><a id="plfa_plfa-part2-Inference-42612" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42614" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42616" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42619" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42621" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42623" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42625" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>抽象继承了自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42701" href="../Inference/#plfa_plfa-part2-Inference-42701" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42703" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42705" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42716" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42718" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42719" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-42724" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42726" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42728" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42730" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42732" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42735" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42737" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42739" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42741" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>零继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42811" href="../Inference/#plfa_plfa-part2-Inference-42811" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42813" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42815" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42826" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42828" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42829" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-42835" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42837" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42840" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42842" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42844" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42846" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42848" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42851" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42853" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42855" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42857" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>后继继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42933" href="../Inference/#plfa_plfa-part2-Inference-42933" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42935" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42937" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42948" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42950" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42951" href="../Inference/#plfa_plfa-part2-Inference-17625" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42955" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42957" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42960" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42962" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42964" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42966" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42968" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42971" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42973" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42975" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42977" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>非良类型项的后继：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43048" href="../Inference/#plfa_plfa-part2-Inference-43048" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43050" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43052" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43063" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43065" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43066" href="../Inference/#plfa_plfa-part2-Inference-16896" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-43071" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43076" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43078" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43080" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43082" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43084" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43087" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43089" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43091" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43093" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>对函数类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43173" href="../Inference/#plfa_plfa-part2-Inference-43173" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43175" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43177" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43188" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43196" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43198" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43204" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43205" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43210" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43212" href="../Inference/#plfa_plfa-part2-Inference-18152" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-43214" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43216" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43223" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43229" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43234" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43238" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43240" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43242" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43246" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43248" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43250" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43252" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43254" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43256" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43258" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43260" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43263" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43265" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43267" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43269" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>对不良类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43339" href="../Inference/#plfa_plfa-part2-Inference-43339" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43341" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43343" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43354" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43362" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43364" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43370" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43371" href="../Inference/#plfa_plfa-part2-Inference-18188" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43376" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43378" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43380" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43382" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43389" href="../Inference/#plfa_plfa-part2-Inference-16861" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43395" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43400" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43404" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43406" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43408" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43412" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43414" href="../Inference/#plfa_plfa-part2-Inference-16939" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43416" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43418" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43420" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43422" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43424" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43426" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43429" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43431" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43433" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43435" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>变向时继承与生成的项不一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43533" href="../Inference/#plfa_plfa-part2-Inference-43533" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43535" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43537" href="../Inference/#plfa_plfa-part2-Inference-31122" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43548" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43550" class="Symbol">(((</a><a id="plfa_plfa-part2-Inference-43553" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-43555" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43559" href="../Inference/#plfa_plfa-part2-Inference-16813" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43561" href="../Inference/#plfa_plfa-part2-Inference-16654" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43563" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43567" href="../Inference/#plfa_plfa-part2-Inference-17051" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-43568" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43570" href="../Inference/#plfa_plfa-part2-Inference-16745" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43572" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43575" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43577" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43578" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43581" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43583" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43585" class="Symbol">)))</a> <a id="plfa_plfa-part2-Inference-43589" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43591" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43594" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43596" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43598" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43600" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><h2 id="擦除">擦除</h2><p>从装饰过的项拥有正确的类型的证明中，我们可以简单地提取出对应的内在类型的项。 我们使用 <code>DB</code> 来指代 <a href="../DeBruijn/">DeBruijn</a> 章节中的代码。 我们可以简单地定义一个<strong>擦除</strong>（Erasure）从外在的赋型判断，至对应的内在类型的项的函数。</p><p>首先，我们给出擦除类型的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Tp"></a><a id="plfa_plfa-part2-Inference-44191" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥_∥Tp</a> <a id="plfa_plfa-part2-Inference-44197" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44199" href="../Inference/#plfa_plfa-part2-Inference-16148" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-44204" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44206" href="../More/#plfa_plfa-part2-More-21298" class="Datatype">DB.Type</a>
<a id="plfa_plfa-part2-Inference-44214" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44216" href="../Inference/#plfa_plfa-part2-Inference-16167" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-44219" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>             <a id="plfa_plfa-part2-Inference-44235" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44238" href="../More/#plfa_plfa-part2-More-21317" class="InductiveConstructor">DB.`ℕ</a>
<a id="plfa_plfa-part2-Inference-44244" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44246" href="../Inference/#plfa_plfa-part2-Inference-44246" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44248" href="../Inference/#plfa_plfa-part2-Inference-16182" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-44250" href="../Inference/#plfa_plfa-part2-Inference-44250" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44252" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>          <a id="plfa_plfa-part2-Inference-44265" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44268" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44270" href="../Inference/#plfa_plfa-part2-Inference-44246" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44272" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a> <a id="plfa_plfa-part2-Inference-44276" href="../More/#plfa_plfa-part2-More-21332" class="InductiveConstructor Operator">DB.⇒</a> <a id="plfa_plfa-part2-Inference-44281" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44283" href="../Inference/#plfa_plfa-part2-Inference-44250" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44285" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>
</pre><p>它简单地把对应的构造子重命名至 <code>DB</code> 模块中。</p><p>接下来，我们给出擦除上下文的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Cx"></a><a id="plfa_plfa-part2-Inference-44479" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥_∥Cx</a> <a id="plfa_plfa-part2-Inference-44485" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44487" href="../Inference/#plfa_plfa-part2-Inference-16215" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-44495" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44497" href="../More/#plfa_plfa-part2-More-21453" class="Datatype">DB.Context</a>
<a id="plfa_plfa-part2-Inference-44508" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44510" href="../Inference/#plfa_plfa-part2-Inference-16237" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-44512" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a>              <a id="plfa_plfa-part2-Inference-44529" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44532" href="../More/#plfa_plfa-part2-More-21475" class="InductiveConstructor">DB.∅</a>
<a id="plfa_plfa-part2-Inference-44537" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44539" href="../Inference/#plfa_plfa-part2-Inference-44539" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44541" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-44543" href="../Inference/#plfa_plfa-part2-Inference-44543" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44545" href="../Inference/#plfa_plfa-part2-Inference-16255" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44547" href="../Inference/#plfa_plfa-part2-Inference-44547" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44549" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a>      <a id="plfa_plfa-part2-Inference-44558" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44561" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44563" href="../Inference/#plfa_plfa-part2-Inference-44539" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44565" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44569" href="../More/#plfa_plfa-part2-More-21491" class="InductiveConstructor Operator">DB.,</a> <a id="plfa_plfa-part2-Inference-44574" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44576" href="../Inference/#plfa_plfa-part2-Inference-44547" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44578" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>
</pre><p>它简单地丢弃了变量名。</p><p>接下来，我们给出擦除查询判断的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥∋"></a><a id="plfa_plfa-part2-Inference-44735" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥_∥∋</a> <a id="plfa_plfa-part2-Inference-44740" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44742" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-44744" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-44745" href="../Inference/#plfa_plfa-part2-Inference-44745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44747" href="../Inference/#plfa_plfa-part2-Inference-44747" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44749" href="../Inference/#plfa_plfa-part2-Inference-44749" class="Bound">A</a><a id="plfa_plfa-part2-Inference-44750" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-44752" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44754" href="../Inference/#plfa_plfa-part2-Inference-44745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44756" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-44758" href="../Inference/#plfa_plfa-part2-Inference-44747" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44760" href="../Inference/#plfa_plfa-part2-Inference-18900" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44762" href="../Inference/#plfa_plfa-part2-Inference-44749" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44764" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44766" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44768" href="../Inference/#plfa_plfa-part2-Inference-44745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44770" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44774" href="../More/#plfa_plfa-part2-More-21601" class="Datatype Operator">DB.∋</a> <a id="plfa_plfa-part2-Inference-44779" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44781" href="../Inference/#plfa_plfa-part2-Inference-44749" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44783" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-44787" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44789" href="../Inference/#plfa_plfa-part2-Inference-18943" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-44791" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥∋</a>               <a id="plfa_plfa-part2-Inference-44808" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44811" href="../More/#plfa_plfa-part2-More-21637" class="InductiveConstructor">DB.Z</a>
<a id="plfa_plfa-part2-Inference-44816" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44818" href="../Inference/#plfa_plfa-part2-Inference-19008" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-44820" href="../Inference/#plfa_plfa-part2-Inference-44820" class="Bound">x≢</a> <a id="plfa_plfa-part2-Inference-44823" href="../Inference/#plfa_plfa-part2-Inference-44823" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44826" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥∋</a>         <a id="plfa_plfa-part2-Inference-44837" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44840" href="../More/#plfa_plfa-part2-More-21684" class="InductiveConstructor Operator">DB.S</a> <a id="plfa_plfa-part2-Inference-44845" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44847" href="../Inference/#plfa_plfa-part2-Inference-44823" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44850" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥∋</a>
</pre><p>它简单地丢弃了变量名不同的证明。</p><p>最后，我们给出擦除赋型判断的代码。 正如由两个共同递归的赋型判断，我们有两个共同递归的擦除函数：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥⁺"></a><a id="plfa_plfa-part2-Inference-45182" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥_∥⁺</a> <a id="plfa_plfa-part2-Inference-45187" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45189" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45191" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45192" href="../Inference/#plfa_plfa-part2-Inference-45192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45194" href="../Inference/#plfa_plfa-part2-Inference-45194" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45196" href="../Inference/#plfa_plfa-part2-Inference-45196" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45197" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45199" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45201" href="../Inference/#plfa_plfa-part2-Inference-45192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45203" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45205" href="../Inference/#plfa_plfa-part2-Inference-45194" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45207" href="../Inference/#plfa_plfa-part2-Inference-19248" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-45209" href="../Inference/#plfa_plfa-part2-Inference-45196" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45211" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45213" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45215" href="../Inference/#plfa_plfa-part2-Inference-45192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45217" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45221" href="../More/#plfa_plfa-part2-More-22743" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45226" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45228" href="../Inference/#plfa_plfa-part2-Inference-45196" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45230" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-∥_∥⁻"></a><a id="plfa_plfa-part2-Inference-45234" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥_∥⁻</a> <a id="plfa_plfa-part2-Inference-45239" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45241" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45243" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45244" href="../Inference/#plfa_plfa-part2-Inference-45244" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45246" href="../Inference/#plfa_plfa-part2-Inference-45246" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45248" href="../Inference/#plfa_plfa-part2-Inference-45248" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45249" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45251" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45253" href="../Inference/#plfa_plfa-part2-Inference-45244" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45255" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45257" href="../Inference/#plfa_plfa-part2-Inference-45246" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45259" href="../Inference/#plfa_plfa-part2-Inference-19290" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-45261" href="../Inference/#plfa_plfa-part2-Inference-45248" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45263" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45265" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45267" href="../Inference/#plfa_plfa-part2-Inference-45244" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45269" href="../Inference/#plfa_plfa-part2-Inference-44479" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45273" href="../More/#plfa_plfa-part2-More-22743" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45278" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45280" href="../Inference/#plfa_plfa-part2-Inference-45248" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45282" href="../Inference/#plfa_plfa-part2-Inference-44191" class="Function Operator">∥Tp</a>

<a id="plfa_plfa-part2-Inference-45287" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45289" href="../Inference/#plfa_plfa-part2-Inference-19348" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-45292" href="../Inference/#plfa_plfa-part2-Inference-45292" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45295" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45308" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45311" href="../More/#plfa_plfa-part2-More-22788" class="InductiveConstructor Operator">DB.`</a> <a id="plfa_plfa-part2-Inference-45316" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45318" href="../Inference/#plfa_plfa-part2-Inference-45292" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45321" href="../Inference/#plfa_plfa-part2-Inference-44735" class="Function Operator">∥∋</a>
<a id="plfa_plfa-part2-Inference-45324" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45326" href="../Inference/#plfa_plfa-part2-Inference-45326" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45329" href="../Inference/#plfa_plfa-part2-Inference-19418" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-45331" href="../Inference/#plfa_plfa-part2-Inference-45331" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45334" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a>         <a id="plfa_plfa-part2-Inference-45345" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45348" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45350" href="../Inference/#plfa_plfa-part2-Inference-45326" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45353" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45356" href="../More/#plfa_plfa-part2-More-22917" class="InductiveConstructor Operator">DB.·</a> <a id="plfa_plfa-part2-Inference-45361" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45363" href="../Inference/#plfa_plfa-part2-Inference-45331" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45366" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45369" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45371" href="../Inference/#plfa_plfa-part2-Inference-19517" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-45374" href="../Inference/#plfa_plfa-part2-Inference-45374" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45377" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45390" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45393" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45395" href="../Inference/#plfa_plfa-part2-Inference-45374" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45398" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>

<a id="plfa_plfa-part2-Inference-45402" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45404" href="../Inference/#plfa_plfa-part2-Inference-19613" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-45407" href="../Inference/#plfa_plfa-part2-Inference-45407" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45410" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45423" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45426" href="../More/#plfa_plfa-part2-More-22849" class="InductiveConstructor Operator">DB.ƛ</a> <a id="plfa_plfa-part2-Inference-45431" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45433" href="../Inference/#plfa_plfa-part2-Inference-45407" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45436" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45439" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45441" href="../Inference/#plfa_plfa-part2-Inference-19711" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-45447" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45460" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45463" href="../More/#plfa_plfa-part2-More-23002" class="InductiveConstructor">DB.`zero</a>
<a id="plfa_plfa-part2-Inference-45472" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45474" href="../Inference/#plfa_plfa-part2-Inference-19770" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-45479" href="../Inference/#plfa_plfa-part2-Inference-45479" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45482" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>         <a id="plfa_plfa-part2-Inference-45493" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45496" href="../More/#plfa_plfa-part2-More-23045" class="InductiveConstructor Operator">DB.`suc</a> <a id="plfa_plfa-part2-Inference-45504" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45506" href="../Inference/#plfa_plfa-part2-Inference-45479" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45509" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45512" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45514" href="../Inference/#plfa_plfa-part2-Inference-19849" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-45520" href="../Inference/#plfa_plfa-part2-Inference-45520" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45523" href="../Inference/#plfa_plfa-part2-Inference-45523" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45526" href="../Inference/#plfa_plfa-part2-Inference-45526" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45529" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>  <a id="plfa_plfa-part2-Inference-45533" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45536" href="../More/#plfa_plfa-part2-More-23101" class="InductiveConstructor">DB.case</a> <a id="plfa_plfa-part2-Inference-45544" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45546" href="../Inference/#plfa_plfa-part2-Inference-45520" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45549" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45552" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45554" href="../Inference/#plfa_plfa-part2-Inference-45523" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45557" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a> <a id="plfa_plfa-part2-Inference-45560" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45562" href="../Inference/#plfa_plfa-part2-Inference-45526" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45565" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45568" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45570" href="../Inference/#plfa_plfa-part2-Inference-20022" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-45573" href="../Inference/#plfa_plfa-part2-Inference-45573" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45576" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45589" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45592" href="../More/#plfa_plfa-part2-More-23195" class="InductiveConstructor Operator">DB.μ</a> <a id="plfa_plfa-part2-Inference-45597" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45599" href="../Inference/#plfa_plfa-part2-Inference-45573" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45602" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45605" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45607" href="../Inference/#plfa_plfa-part2-Inference-20112" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-45610" href="../Inference/#plfa_plfa-part2-Inference-45610" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45613" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-45618" href="../Inference/#plfa_plfa-part2-Inference-45234" class="Function Operator">∥⁻</a>      <a id="plfa_plfa-part2-Inference-45626" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45629" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45631" href="../Inference/#plfa_plfa-part2-Inference-45610" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45634" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a>
</pre><p>擦除将每个赋型判断中的构造子替换成 <code>DB</code> 中对应的项构造子。 对应变向的构造子被丢弃。</p><p>我们证实本章中的赋型判断擦除后，与之前使用内在类型项章节中的那些一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46106" href="../Inference/#plfa_plfa-part2-Inference-46106" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46108" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46110" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46112" href="../Inference/#plfa_plfa-part2-Inference-39970" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-46117" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46120" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46122" href="../More/#plfa_plfa-part2-More-40212" class="Function">DB.2+2</a>
<a id="plfa_plfa-part2-Inference-46129" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46131" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46133" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-46139" href="../Inference/#plfa_plfa-part2-Inference-46139" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46141" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46143" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46145" href="../Inference/#plfa_plfa-part2-Inference-40981" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-46151" href="../Inference/#plfa_plfa-part2-Inference-45182" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46154" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46156" href="../More/#plfa_plfa-part2-More-40496" class="Function">DB.2+2ᶜ</a>
<a id="plfa_plfa-part2-Inference-46164" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46166" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46168" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>因此，我们证实了双向类型推理把装饰后的 <a href="../Lambda/">Lambda</a> 章节的 λ 项转换至 <a href="../DeBruijn">DeBruijn</a> 章节中内在类型的项。</p><h4 id="练习-inference-multiplication-推荐">练习 <code>inference-multiplication</code> （推荐）</h4><p>对你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的乘法项应用双向推理， 并证明推理得到的赋型可以擦除至 <a href="../DeBruijn/">DeBruijn</a> 章节中你的定义。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46977" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-products-推荐">练习 <code>inference-products</code> （推荐）</h4><p>使用你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的赋型规则， 将双向推理扩充至包括积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47336" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-rest-延伸">练习 <code>inference-rest</code> （延伸）</h4><p>扩充双向赋型规则，来包括 <a href="../More/">More</a> 章节的剩余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47595" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="agda-中的双向推理">Agda 中的双向推理</h2><p>Agda 本身也使用双向推理。 这解释了为什么构造子可以被重载，而其他定义的名称不可以——此处的<strong>重载</strong>指的是我们可以给不同类型的构造子使用相同的名称。 构造子是由继承来赋型，而变量由生成来赋型，因此每个变量必须有唯一的类型。</p><p>Agda 中多数的顶层声明时函数，其由继承来赋型，也就是为什么 Agda 会对这些定义要求类型声明。 一个由生成赋型的右手边的定义，比如说函数应用，则不需要类型声明。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-answer"></a><a id="plfa_plfa-part2-Inference-48605" href="../Inference/#plfa_plfa-part2-Inference-48605" class="Function">answer</a> <a id="plfa_plfa-part2-Inference-48612" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-48614" class="Number">6</a> <a id="plfa_plfa-part2-Inference-48616" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#528" class="Primitive Operator">*</a> <a id="plfa_plfa-part2-Inference-48618" class="Number">7</a>
</pre><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>↓  U+2193:  DOWNWARDS ARROW (\d)
↑  U+2191:  UPWARDS ARROW (\u)
∥  U+2225:  PARALLEL TO (\||)</code></pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100%</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>