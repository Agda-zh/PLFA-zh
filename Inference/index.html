<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Inference</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Inference: 双向类型推理</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Inference-122" class="Keyword">module</a> <a id="plfa_plfa-part2-Inference-129" href="../Inference/#" class="Module">plfa.part2.Inference</a> <a id="plfa_plfa-part2-Inference-150" class="Keyword">where</a>
</pre><p>在本书至此的进展中，项的类型推导是如法令一般直接给出的。 在 <a href="../Lambda/">Lambda</a> 章节，类型推导以外在于项的形式给出， 而在 <a href="../DeBruijn/">DeBruijn</a> 章节，类型推导以内在于项的形式给出， 但在两者均要求我们将类型推导完全写出。</p><p>在实践中，我们一般可以给项加上一些装饰，然后运用算法来<strong>推理</strong>（Infer）出类型推导。 的确，Agda 中也是这样：我们给顶层的函数声明指定类型，而其余可由给出的信息推理而来。 Agda 使用的这种推理被称为<strong>双向</strong>（Bidirectional）类型推理，我们将在本章中进行展示。</p><p>本章中，我们讲之前的进展结合在一起。 我们首先由带有类型注释的项开始，其与 <a href="../Lambda/">Lambda</a> 章节中的源项相似， 从此我们计算出内在类型的项，如同 <a href="../DeBruijn">DeBruijn</a> 章节中那样。</p><h2 id="algorithms">绪论：推理规则作为算法</h2><p>在我们至此使用的演算中，一个项可以有多于一个类型。例如，</p><pre><code>(ƛ x ⇒ x) ⦂ (A ⇒ A)</code></pre><p>对于<strong>任意</strong>类型 <code>A</code> 成立。 我们首先考虑一个带有 λ 项的小语言，其每一项有其唯一的类型。 我们只需要给抽象加上参数的类型。 这样我们可以得到如下的语法：</p><pre><code>L, M, N ::=                         带装饰的项
  x                                   变量
  ƛ x ⦂ A ⇒ N                         抽象（装饰后）
  L · M                               应用</code></pre><p>每一条相关的赋型规则可以被读作类型检查的算法。 对于每一条赋型规则，我们将每个位置标记如<strong>输入</strong>（Input）或者<strong>输出</strong>（Output）。</p><p>对于下面的判断</p><pre><code>Γ ∋ x ⦂ A</code></pre><p>我们将上下文 <code>Γ</code> 和变量 <code>x</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>----------------- Z
Γ , x ⦂ A ∋ x ⦂ A

Γ ∋ x ⦂ A
----------------- S
Γ , y ⦂ B ∋ x ⦂ A</code></pre><p>从输入中，我们可以决定应用哪一条规则： 如果上下文中最后一个变量与给定的变量一致，那么应用第一条规则，否则应用第二条。 （对于 de Bruijn 因子来说，这更加简单：零对应第一条，后继对应第二条。） 对于第一条，输出类型可以直接从上下文中得到。 对于第二条，结论中的输入可以作为假设的输入，而假设的输出决定了结论的输出。</p><p>对于下面的判断：</p><pre><code>Γ ⊢ M ⦂ A</code></pre><p>我们将上下文 <code>Γ</code> 和项 <code>M</code> 作为输入，类型 <code>A</code> 作为输出。 考虑下面的规则：</p><pre><code>Γ ∋ x ⦂ A
-----------
Γ ⊢ ` x ⦂ A

Γ , x ⦂ A ⊢ N ⦂ B
---------------------------
Γ ⊢ (ƛ x ⦂ A ⇒ N) ⦂ (A ⇒ B)

Γ ⊢ L ⦂ A ⇒ B
Γ ⊢ M ⦂ A′
A ≡ A′
-------------
Γ ⊢ L · M ⦂ B</code></pre><p>输入项决定了应用哪一条规则： 变量使用第一条，抽象使用第二条，应用使用第三条。 我们把这样的规则叫做<strong>语法导向的</strong>（Syntax directed）规则。 对于变量的规则，结论的输入决定了结论的输出。 抽象的规则也是一样——约束变量和参数从结论的输入流向假设中的上下文； 这得以实现，因为我们在抽象中加入了参数的类型。 对于应用的规则，我们加入第三条假设来检查函数类型中的作用域是否与参数的类型一致； 这条判断是在两个类型已知时是可决定的。 结论的输入决定了前两个假设的输入，而前两个假设的输出决定了第三个假设的输入，而第一个假设的输出决定了结论的输出。</p><p>我们可以直接地把上述内容转换成一个算法，加入自然数和不动点也很直接。我们省略其明细。 取而代之的是，我们考虑一种需要更少装饰的表示方法。 其核心思想是将普通的赋型判断拆分成两个判断，一个生成类型作为输出，另一个取类型作为输入。</p><h2 id="生成和继承类型">生成和继承类型</h2><p>我们保留之前的变量的查询判断。除此之外，我们有两种联系类型和项的判断：</p><pre><code>Γ ⊢ M ↑ A
Γ ⊢ M ↓ A</code></pre><p>第一类判断<strong>生成</strong>（Synthesise）项的类型，如上，而第二类<strong>继承</strong>（Inherit）类型。 在第一类中，上下文和项作为输入，类型作为输出； 而在第二类中，上下文、项和类型三者都作为输入。</p><p>什么项生成类型，什么项继承类型的？ 我们的宗旨是<strong>析构器</strong>中的主项使用生成来赋型，而<strong>构造子</strong>使用继承。 比如，函数应用中的函数由生成来赋型，而抽象是由继承来赋型。 抽象中继承的类型和之前我们为参数额外增加的注解起到一样的作用。</p><p>析构某一类型的值的项总有一个主项（提供一个所需类型的参数），且经常有副项。 对于函数应用来说，主项提供了函数，副项提供了参数。 对于分情况讨论来说，主项提供了自然数，副项则是两种情况不同的情况。 在析构器中，主项使用生成进行赋型，而副项使用继承进行赋型。 我们将看到，这自然地导致函数应用作为整体由生成进行赋型，而分情况讨论作为整体则使用继承进行赋型。 变量一般使用生成进行赋型，因为我们可以直接从上下文中查询其类型。 不动点自然是用继承来赋型。</p><p>为了达成赋型系统的语法导向性，我们将项分为两类： <code>Term⁺</code> 和 <code>Term⁻</code>，分别用生成和继承来赋型。 由生成赋型的子项可能出现在由继承赋型的子项中，反之亦然，这给我们带来两种新形式。</p><p>例如，我们之前提到函数应用的参数由继承赋型，而变量由生成赋型。 在参数是变量时会出现不匹配的情况。 因此，我们需要一种把生成的项当作继承的项的方法。 我们引入 <code>M ↑</code> 这种新的形式来达成此目的。 它的赋型判断即为检查其生成和继承的类型是否一致。</p><p>同样，函数应用的函数部分由生成来赋型，而抽象是由继承来赋型。 在函数是抽象时会出现不匹配的情况。 因此，我们需要一种把继承的项当作生成的项的方法。 我们引入 <code>M ↓ A</code> 这种新的形式来达成此目的。 它的赋型判断返回 <code>A</code> 作为生成的类型，并把它作为 <code>M</code> 继承的类型。</p><p><code>M ↓ A</code> 这种形式表示了我们唯一需要用类型来装饰的项。 它只在从生成切换成继承时出现， 即当一个<strong>析构</strong>某一类型的值的项的主项中包含了一个<strong>构造</strong>某一类型的值的时候， 也就是说，这是在 <code>β</code> 规约发生的地方出现。 一般来说，我们只需要在顶层声明中需要这样的装饰。</p><p>我们可以从上文中提取出项的语法：</p><pre><code>L⁺, M⁺, N⁺ ::=                      带有生成类型的项
  x                                   变量
  L⁺ · M⁻                             应用
  M⁻ ↓ A                              切换至继承

L⁻, M⁻, N⁻ ::=                      带有继承类型的项
  ƛ x ⇒ N⁻                            抽象
  `zero                               零
  `suc M⁻                             后继
  case L⁺ [zero⇒ M⁻ |suc x ⇒ N⁻ ]     分情况讨论
  μ x ⇒ N⁻                            不动点
  M⁺ ↑                                切换至生成</code></pre><p>我们将在下文中形式化上述定义。</p><h2 id="可靠性和完备性">可靠性和完备性</h2><p>我们试图证明赋型判断是<strong>可决定</strong>的：</p><pre><code>synthesize : ∀ (Γ : Context) (M : Term⁺)
    ------------------------------------
  → Dec (∃[ A ] Γ ⊢ M ↑ A)

inherit : ∀ (Γ : Context) (M : Term⁻) (A : Type)
          --------------------------------------
        → Dec (Γ ⊢ M ↓ A)</code></pre><p>给定上下文 <code>Γ</code> 和生成项 <code>M</code>，我们必须判定是否存在一个类型 <code>A</code> 使得 <code>Γ ⊢ M ↑ A</code> 成立， 或者其否定。 同样，给定上下文 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code>，我们必须判定 <code>Γ ⊢ M ↓ A</code> 成立，或者其否定。</p><p>我们的证明是构造性的。 在生成的情况中，它要么给出一个包括类型 <code>A</code> 和 <code>Γ ⊢ M ↓ A</code> 成立的证明的有序对，或是一个将上述有序对转换成矛盾的函数。 在继承的情况中，它要么给出 <code>Γ ⊢ M ↑ A</code> 成立的证明，或是一个将上述证明转换成矛盾的函数。 成立的情况被称为<strong>可靠性</strong>（Soundness）——生成和继承只在对应关系成立时成功。 不成立的情况被称为<strong>完备性</strong>（Completeness）——生成和继承只在对应关系无法成立时失败。</p><p>另一种实现方法可能在生成或继承成功时返回其推导，并在失败时返回一条错误信息——例如， 参见 Agda 用户手册中讨论<a href="https://agda.readthedocs.io/en/latest/language/syntactic-sugar.html#example">语法糖</a>的章节。 这样的方法可以实现可靠性，而不是完备性。 如果其返回一个推导，那么我们知道它是正确的； 但没有人阻挡我们来给出一个<strong>总是</strong>返回错误的函数，即使正确的推导存在。 证明可靠性和完备性两者比起单独证明可靠性一者更加有力。 其反向的证明可以被看作是一个语义上验证过的错误信息，即便它本身比仔细撰写的错误信息更让人难懂。</p><p>我们现在可以开始正式的形式化了：</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Inference-14561" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14568" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Inference-14606" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-14609" class="Module">Eq</a>
<a id="plfa_plfa-part2-Inference-14612" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14617" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Inference-14620" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14626" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14627" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Inference-14630" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14632" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-14636" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14638" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Inference-14641" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14643" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="plfa_plfa-part2-Inference-14648" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14650" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Inference-14654" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14656" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Inference-14661" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14663" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part2-Inference-14666" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14668" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14673" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14680" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Inference-14691" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14697" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14698" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Inference-14699" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14701" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Inference-14707" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14709" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14714" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14721" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Inference-14730" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14736" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14737" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Inference-14738" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14740" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Inference-14744" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14746" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Inference-14749" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14751" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#319" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Inference-14754" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14756" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">_*_</a><a id="plfa_plfa-part2-Inference-14759" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14761" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14766" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14773" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="plfa_plfa-part2-Inference-14785" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14791" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14792" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a><a id="plfa_plfa-part2-Inference-14798" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14800" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="plfa_plfa-part2-Inference-14803" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14805" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14810" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14817" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Inference-14830" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14836" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14837" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Inference-14840" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14842" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Inference-14843" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14845" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Inference-14853" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-14855" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Inference-14864" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14865" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Inference-14869" class="Symbol">to</a> <a id="plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Inference-14877" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14879" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14884" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14891" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Inference-14908" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14914" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14915" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Inference-14917" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14919" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="plfa_plfa-part2-Inference-14922" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14924" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Inference-14927" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14929" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Inference-14931" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-14933" class="Keyword">open</a> <a id="plfa_plfa-part2-Inference-14938" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-14945" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Inference-14972" class="Keyword">using</a> <a id="plfa_plfa-part2-Inference-14978" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-14979" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="plfa_plfa-part2-Inference-14984" class="Symbol">;</a> <a id="plfa_plfa-part2-Inference-14986" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="plfa_plfa-part2-Inference-15000" class="Symbol">)</a>
</pre><p>当我们有一个赋型推导时，从它构造出内在类型的表示方法更加方便。 为了与我们之前的结果进行比较，我们导入模块 <code>plfa.part2.More</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15305" class="Keyword">import</a> <a id="plfa_plfa-part2-Inference-15312" href="../More/#" class="Module">plfa.part2.More</a> <a id="plfa_plfa-part2-Inference-15328" class="Symbol">as</a> <a id="plfa_plfa-part2-Inference-15331" class="Module">DB</a>
</pre><p><code>as DB</code> 这个词组让我们可以用例如 <code>DB._⊢_</code> 的方法来指代其中的定义， 我们用 <code>Γ DB.⊢ A</code> 来使用它，其中 <code>Γ</code> 的类型是 <code>DB.Context</code>， <code>A</code> 的类型是 <code>DB.Type</code>。</p><h2 id="语法">语法</h2><p>首先，我们来定义中缀声明。 我们将判断和项的运算符分别列出：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-15837" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15845" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15848" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">_∋_⦂_</a>
<a id="plfa_plfa-part2-Inference-15854" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15862" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15865" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">_⊢_↑_</a>
<a id="plfa_plfa-part2-Inference-15871" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15879" class="Number">4</a>  <a id="plfa_plfa-part2-Inference-15882" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">_⊢_↓_</a>
<a id="plfa_plfa-part2-Inference-15888" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15896" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15899" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">_,_⦂_</a>

<a id="plfa_plfa-part2-Inference-15906" class="Keyword">infixr</a>  <a id="plfa_plfa-part2-Inference-15914" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15917" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">_⇒_</a>

<a id="plfa_plfa-part2-Inference-15922" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15930" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15933" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15938" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15946" class="Number">5</a>  <a id="plfa_plfa-part2-Inference-15949" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">μ_⇒_</a>
<a id="plfa_plfa-part2-Inference-15954" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15962" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15965" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">_↑</a>
<a id="plfa_plfa-part2-Inference-15968" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-15976" class="Number">6</a>  <a id="plfa_plfa-part2-Inference-15979" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">_↓_</a>
<a id="plfa_plfa-part2-Inference-15983" class="Keyword">infixl</a>  <a id="plfa_plfa-part2-Inference-15991" class="Number">7</a>  <a id="plfa_plfa-part2-Inference-15994" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">_·_</a>
<a id="plfa_plfa-part2-Inference-15998" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16006" class="Number">8</a>  <a id="plfa_plfa-part2-Inference-16009" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc_</a>
<a id="plfa_plfa-part2-Inference-16015" class="Keyword">infix</a>   <a id="plfa_plfa-part2-Inference-16023" class="Number">9</a>  <a id="plfa_plfa-part2-Inference-16026" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`_</a>
</pre><p>标识符、类型和上下文与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Id"></a><a id="plfa_plfa-part2-Inference-16118" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16121" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16123" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16127" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16130" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-16132" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#318" class="Postulate">String</a>

<a id="plfa_plfa-part2-Inference-16140" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Type"></a><a id="plfa_plfa-part2-Inference-16145" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16150" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16152" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16156" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Type.`ℕ"></a><a id="plfa_plfa-part2-Inference-16164" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>    <a id="plfa_plfa-part2-Inference-16170" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16172" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a>
  <a id="plfa_plfa-part2-Inference-Type._⇒_"></a><a id="plfa_plfa-part2-Inference-16179" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">_⇒_</a>   <a id="plfa_plfa-part2-Inference-16185" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16187" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16192" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16194" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16199" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16201" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a>

<a id="plfa_plfa-part2-Inference-16207" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Context"></a><a id="plfa_plfa-part2-Inference-16212" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16220" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16222" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-16226" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Context.∅"></a><a id="plfa_plfa-part2-Inference-16234" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a>     <a id="plfa_plfa-part2-Inference-16240" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16242" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Inference-Context._,_⦂_"></a><a id="plfa_plfa-part2-Inference-16252" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">_,_⦂_</a> <a id="plfa_plfa-part2-Inference-16258" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16260" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-16268" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16270" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16273" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16275" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16280" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16282" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a>
</pre><p>项的语法由共同递归来定义。 我们用 <code>Term⁺</code> 和 <code>Term⁻</code> 来分别表示生成和继承的项。 注意我们包括了变向的形式 <code>M ↓ A</code> 和 <code>M ↑</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-16597" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁺"></a><a id="plfa_plfa-part2-Inference-16602" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16608" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16610" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-16614" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-Term⁻"></a><a id="plfa_plfa-part2-Inference-16619" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16625" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16627" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-16632" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16637" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16643" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁺.`_"></a><a id="plfa_plfa-part2-Inference-16651" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`_</a>                       <a id="plfa_plfa-part2-Inference-16676" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16678" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16681" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16683" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._·_"></a><a id="plfa_plfa-part2-Inference-16691" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">_·_</a>                      <a id="plfa_plfa-part2-Inference-16716" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16718" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16724" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16726" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16732" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16734" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
  <a id="plfa_plfa-part2-Inference-Term⁺._↓_"></a><a id="plfa_plfa-part2-Inference-16742" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">_↓_</a>                      <a id="plfa_plfa-part2-Inference-16767" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16769" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16775" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16777" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-16782" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16784" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>

<a id="plfa_plfa-part2-Inference-16791" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-16796" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16802" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.ƛ_⇒_"></a><a id="plfa_plfa-part2-Inference-16810" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-16835" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16837" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16840" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16842" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16848" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16850" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`zero"></a><a id="plfa_plfa-part2-Inference-16858" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a>                    <a id="plfa_plfa-part2-Inference-16883" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16885" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`suc_"></a><a id="plfa_plfa-part2-Inference-16893" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc_</a>                    <a id="plfa_plfa-part2-Inference-16918" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16920" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16926" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16928" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="plfa_plfa-part2-Inference-16936" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="plfa_plfa-part2-Inference-16961" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-16963" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-16969" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16971" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16977" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16979" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-16982" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16984" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-16990" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-16992" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻.μ_⇒_"></a><a id="plfa_plfa-part2-Inference-17000" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="plfa_plfa-part2-Inference-17025" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17027" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-17030" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17032" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-17038" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17040" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
  <a id="plfa_plfa-part2-Inference-Term⁻._↑"></a><a id="plfa_plfa-part2-Inference-17048" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">_↑</a>                       <a id="plfa_plfa-part2-Inference-17073" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17075" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-17081" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-17083" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
</pre><p>至于每个项是由继承或者生成来赋型，我们在上文中已经讨论过，并且可以直接上文的非形式化语法中直接得来。 析构器中的主项由生成赋型，析构器中的构造子和副项由继承赋型。</p><h2 id="项的例子">项的例子</h2><p>我们重新给出前几章中的例子。 首先，计算自然数二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-two"></a><a id="plfa_plfa-part2-Inference-17622" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17626" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17628" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-17634" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17638" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17640" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17645" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17646" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17651" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a><a id="plfa_plfa-part2-Inference-17656" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plus"></a><a id="plfa_plfa-part2-Inference-17659" href="../Inference/#plfa_plfa-part2-Inference-17659" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17664" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17666" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17672" href="../Inference/#plfa_plfa-part2-Inference-17659" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17677" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17679" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17680" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-17682" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17686" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17688" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17690" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17694" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17696" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-17698" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17702" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a>
          <a id="plfa_plfa-part2-Inference-17714" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-17720" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17721" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17723" class="String">&quot;m&quot;</a><a id="plfa_plfa-part2-Inference-17726" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17728" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-17735" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17737" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17741" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a>
                        <a id="plfa_plfa-part2-Inference-17767" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-17772" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17776" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17778" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-17783" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17784" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17786" class="String">&quot;p&quot;</a> <a id="plfa_plfa-part2-Inference-17790" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17792" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17793" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17795" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-17799" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17800" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17802" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17804" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17805" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-17807" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-17811" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17812" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17814" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-17815" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-17817" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-17818" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Inference-17832" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-17834" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-17835" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17838" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17840" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-17843" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-17845" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-17847" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2"></a><a id="plfa_plfa-part2-Inference-17850" href="../Inference/#plfa_plfa-part2-Inference-17850" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17854" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-17856" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-17862" href="../Inference/#plfa_plfa-part2-Inference-17850" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-17866" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-17868" href="../Inference/#plfa_plfa-part2-Inference-17659" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-17873" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17875" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a> <a id="plfa_plfa-part2-Inference-17879" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-17881" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a>
</pre><p>唯一的变化是我们需要在需要时加入上下箭头。唯一的类型注释出现在 <code>plus</code>。</p><p>接下来，计算 Church 数的二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-Ch"></a><a id="plfa_plfa-part2-Inference-18149" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18152" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18154" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a>
<a id="plfa_plfa-part2-Inference-18159" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18162" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18164" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18165" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18168" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18170" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-18172" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18174" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18176" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-18179" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18181" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>

<a id="plfa_plfa-part2-Inference-twoᶜ"></a><a id="plfa_plfa-part2-Inference-18185" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18190" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18192" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18198" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18203" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18205" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18206" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18208" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18212" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18214" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18216" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18220" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18222" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18224" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18228" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18230" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18231" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18233" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18237" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18239" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18240" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18242" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18246" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18247" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18249" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18250" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18252" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18253" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-plusᶜ"></a><a id="plfa_plfa-part2-Inference-18256" href="../Inference/#plfa_plfa-part2-Inference-18256" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18262" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18264" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18270" href="../Inference/#plfa_plfa-part2-Inference-18256" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18276" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18278" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18279" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18281" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18285" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18287" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18289" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18293" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18295" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18297" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18301" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18303" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18305" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18309" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a>
           <a id="plfa_plfa-part2-Inference-18322" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18324" class="String">&quot;m&quot;</a> <a id="plfa_plfa-part2-Inference-18328" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18330" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18331" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18333" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18337" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18338" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18340" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18342" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18343" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18345" class="String">&quot;n&quot;</a> <a id="plfa_plfa-part2-Inference-18349" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18351" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18352" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18354" class="String">&quot;s&quot;</a> <a id="plfa_plfa-part2-Inference-18358" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18359" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18361" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18363" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18364" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18366" class="String">&quot;z&quot;</a> <a id="plfa_plfa-part2-Inference-18370" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18371" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18373" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18374" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-18376" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18377" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-18392" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-18394" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18395" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18398" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18400" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a> <a id="plfa_plfa-part2-Inference-18403" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18405" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-18407" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-sucᶜ"></a><a id="plfa_plfa-part2-Inference-18410" href="../Inference/#plfa_plfa-part2-Inference-18410" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18415" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18417" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a>
<a id="plfa_plfa-part2-Inference-18423" href="../Inference/#plfa_plfa-part2-Inference-18410" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18428" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18430" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-18432" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18436" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-18438" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-18443" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-18444" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-18446" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-18450" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-18451" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-18454" href="../Inference/#plfa_plfa-part2-Inference-18454" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18459" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18461" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a>
<a id="plfa_plfa-part2-Inference-18467" href="../Inference/#plfa_plfa-part2-Inference-18454" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-18472" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-18474" href="../Inference/#plfa_plfa-part2-Inference-18256" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Inference-18480" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18482" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18487" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18489" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-18494" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18496" href="../Inference/#plfa_plfa-part2-Inference-18410" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-18501" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-18503" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a>
</pre><p>唯一的类型注释出现在 <code>plusᶜ</code>。 <code>sucᶜ</code> 甚至不需要类型注释，因为它从 <code>plusᶜ</code> 的参数中继承了类型。</p><h2 id="双向类型检查">双向类型检查</h2><p>变量的赋型规则与 <a href="../Lambda/">Lambda</a> 章节中一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-18892" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_∋_⦂_"></a><a id="plfa_plfa-part2-Inference-18897" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">_∋_⦂_</a> <a id="plfa_plfa-part2-Inference-18903" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18905" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-18913" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18915" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a> <a id="plfa_plfa-part2-Inference-18918" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18920" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-18925" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18927" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Inference-18931" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.Z"></a><a id="plfa_plfa-part2-Inference-18940" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-18942" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-18944" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-18946" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-18947" href="../Inference/#plfa_plfa-part2-Inference-18947" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18949" href="../Inference/#plfa_plfa-part2-Inference-18949" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18951" href="../Inference/#plfa_plfa-part2-Inference-18951" class="Bound">A</a><a id="plfa_plfa-part2-Inference-18952" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-18960" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-18982" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-18984" href="../Inference/#plfa_plfa-part2-Inference-18947" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-18986" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-18988" href="../Inference/#plfa_plfa-part2-Inference-18949" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18990" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-18992" href="../Inference/#plfa_plfa-part2-Inference-18951" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-18994" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-18996" href="../Inference/#plfa_plfa-part2-Inference-18949" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-18998" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19000" href="../Inference/#plfa_plfa-part2-Inference-18951" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_∋_⦂_.S"></a><a id="plfa_plfa-part2-Inference-19005" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-19007" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19009" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19011" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19012" href="../Inference/#plfa_plfa-part2-Inference-19012" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19014" href="../Inference/#plfa_plfa-part2-Inference-19014" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19016" href="../Inference/#plfa_plfa-part2-Inference-19016" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19018" href="../Inference/#plfa_plfa-part2-Inference-19018" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19020" href="../Inference/#plfa_plfa-part2-Inference-19020" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19021" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19027" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19029" href="../Inference/#plfa_plfa-part2-Inference-19014" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19031" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-19033" href="../Inference/#plfa_plfa-part2-Inference-19016" class="Bound">y</a>
    <a id="plfa_plfa-part2-Inference-19039" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19041" href="../Inference/#plfa_plfa-part2-Inference-19012" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19043" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19045" href="../Inference/#plfa_plfa-part2-Inference-19014" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19047" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19049" href="../Inference/#plfa_plfa-part2-Inference-19018" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19057" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-19079" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19081" href="../Inference/#plfa_plfa-part2-Inference-19012" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19083" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19085" href="../Inference/#plfa_plfa-part2-Inference-19016" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-19087" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19089" href="../Inference/#plfa_plfa-part2-Inference-19020" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-19091" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19093" href="../Inference/#plfa_plfa-part2-Inference-19014" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19095" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19097" href="../Inference/#plfa_plfa-part2-Inference-19018" class="Bound">A</a>
</pre><p>与语法一样，生成和继承的赋型判断也是共同递归的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-19240" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↑_"></a><a id="plfa_plfa-part2-Inference-19245" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19251" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19253" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19261" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19263" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a> <a id="plfa_plfa-part2-Inference-19269" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19271" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19276" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19278" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Inference-19282" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-_⊢_↓_"></a><a id="plfa_plfa-part2-Inference-19287" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19293" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19295" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-19303" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19305" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a> <a id="plfa_plfa-part2-Inference-19311" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19313" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-19318" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19320" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="plfa_plfa-part2-Inference-19325" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19330" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">_⊢_↑_</a> <a id="plfa_plfa-part2-Inference-19336" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢`"></a><a id="plfa_plfa-part2-Inference-19345" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-19348" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19350" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19352" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19353" href="../Inference/#plfa_plfa-part2-Inference-19353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19355" href="../Inference/#plfa_plfa-part2-Inference-19355" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19357" href="../Inference/#plfa_plfa-part2-Inference-19357" class="Bound">x</a><a id="plfa_plfa-part2-Inference-19358" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19364" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19366" href="../Inference/#plfa_plfa-part2-Inference-19353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19368" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-19370" href="../Inference/#plfa_plfa-part2-Inference-19357" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19372" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19374" href="../Inference/#plfa_plfa-part2-Inference-19355" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19382" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Inference-19398" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19400" href="../Inference/#plfa_plfa-part2-Inference-19353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19402" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19404" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-19406" href="../Inference/#plfa_plfa-part2-Inference-19357" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19408" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19410" href="../Inference/#plfa_plfa-part2-Inference-19355" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_._·_"></a><a id="plfa_plfa-part2-Inference-19415" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Inference-19419" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19421" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19423" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19424" href="../Inference/#plfa_plfa-part2-Inference-19424" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19426" href="../Inference/#plfa_plfa-part2-Inference-19426" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19428" href="../Inference/#plfa_plfa-part2-Inference-19428" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19430" href="../Inference/#plfa_plfa-part2-Inference-19430" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19432" href="../Inference/#plfa_plfa-part2-Inference-19432" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19433" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19439" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19441" href="../Inference/#plfa_plfa-part2-Inference-19424" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19443" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19445" href="../Inference/#plfa_plfa-part2-Inference-19426" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19447" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19449" href="../Inference/#plfa_plfa-part2-Inference-19430" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19451" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19453" href="../Inference/#plfa_plfa-part2-Inference-19432" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-19459" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19461" href="../Inference/#plfa_plfa-part2-Inference-19424" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19463" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19465" href="../Inference/#plfa_plfa-part2-Inference-19428" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19467" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19469" href="../Inference/#plfa_plfa-part2-Inference-19430" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19477" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-19495" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19497" href="../Inference/#plfa_plfa-part2-Inference-19424" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19499" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19501" href="../Inference/#plfa_plfa-part2-Inference-19426" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19503" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-19505" href="../Inference/#plfa_plfa-part2-Inference-19428" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19507" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19509" href="../Inference/#plfa_plfa-part2-Inference-19432" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↑_.⊢↓"></a><a id="plfa_plfa-part2-Inference-19514" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-19517" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19519" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19521" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19522" href="../Inference/#plfa_plfa-part2-Inference-19522" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19524" href="../Inference/#plfa_plfa-part2-Inference-19524" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19526" href="../Inference/#plfa_plfa-part2-Inference-19526" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19527" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19533" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19535" href="../Inference/#plfa_plfa-part2-Inference-19522" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19537" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19539" href="../Inference/#plfa_plfa-part2-Inference-19524" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19541" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19543" href="../Inference/#plfa_plfa-part2-Inference-19526" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19551" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19571" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19573" href="../Inference/#plfa_plfa-part2-Inference-19522" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19575" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19577" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-19578" href="../Inference/#plfa_plfa-part2-Inference-19524" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19580" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-19582" href="../Inference/#plfa_plfa-part2-Inference-19526" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19583" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-19585" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19587" href="../Inference/#plfa_plfa-part2-Inference-19526" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-19590" class="Keyword">data</a> <a id="plfa_plfa-part2-Inference-19595" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part2-Inference-19601" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢ƛ"></a><a id="plfa_plfa-part2-Inference-19610" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-19613" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19615" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19617" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19618" href="../Inference/#plfa_plfa-part2-Inference-19618" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19620" href="../Inference/#plfa_plfa-part2-Inference-19620" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19622" href="../Inference/#plfa_plfa-part2-Inference-19622" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19624" href="../Inference/#plfa_plfa-part2-Inference-19624" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19626" href="../Inference/#plfa_plfa-part2-Inference-19626" class="Bound">B</a><a id="plfa_plfa-part2-Inference-19627" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19633" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19635" href="../Inference/#plfa_plfa-part2-Inference-19618" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19637" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19639" href="../Inference/#plfa_plfa-part2-Inference-19620" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19641" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19643" href="../Inference/#plfa_plfa-part2-Inference-19624" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19645" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19647" href="../Inference/#plfa_plfa-part2-Inference-19622" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19649" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19651" href="../Inference/#plfa_plfa-part2-Inference-19626" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-19659" class="Comment">-------------------</a>
    <a id="plfa_plfa-part2-Inference-19683" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19685" href="../Inference/#plfa_plfa-part2-Inference-19618" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19687" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19689" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-19691" href="../Inference/#plfa_plfa-part2-Inference-19620" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19693" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19695" href="../Inference/#plfa_plfa-part2-Inference-19622" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19697" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19699" href="../Inference/#plfa_plfa-part2-Inference-19624" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-19701" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-19703" href="../Inference/#plfa_plfa-part2-Inference-19626" class="Bound">B</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢zero"></a><a id="plfa_plfa-part2-Inference-19708" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-19714" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19716" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19718" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19719" href="../Inference/#plfa_plfa-part2-Inference-19719" class="Bound">Γ</a><a id="plfa_plfa-part2-Inference-19720" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Inference-19728" class="Comment">--------------</a>
    <a id="plfa_plfa-part2-Inference-19747" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19749" href="../Inference/#plfa_plfa-part2-Inference-19719" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19751" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19753" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-19759" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19761" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢suc"></a><a id="plfa_plfa-part2-Inference-19767" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-19772" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19774" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19776" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19777" href="../Inference/#plfa_plfa-part2-Inference-19777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19779" href="../Inference/#plfa_plfa-part2-Inference-19779" class="Bound">M</a><a id="plfa_plfa-part2-Inference-19780" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19786" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19788" href="../Inference/#plfa_plfa-part2-Inference-19777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19790" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19792" href="../Inference/#plfa_plfa-part2-Inference-19779" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19794" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19796" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>
      <a id="plfa_plfa-part2-Inference-19805" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Inference-19825" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19827" href="../Inference/#plfa_plfa-part2-Inference-19777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19829" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19831" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-19836" href="../Inference/#plfa_plfa-part2-Inference-19779" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19838" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19840" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢case"></a><a id="plfa_plfa-part2-Inference-19846" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-19852" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-19854" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-19856" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-19857" href="../Inference/#plfa_plfa-part2-Inference-19857" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19859" href="../Inference/#plfa_plfa-part2-Inference-19859" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19861" href="../Inference/#plfa_plfa-part2-Inference-19861" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19863" href="../Inference/#plfa_plfa-part2-Inference-19863" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19865" href="../Inference/#plfa_plfa-part2-Inference-19865" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19867" href="../Inference/#plfa_plfa-part2-Inference-19867" class="Bound">A</a><a id="plfa_plfa-part2-Inference-19868" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-19874" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19876" href="../Inference/#plfa_plfa-part2-Inference-19857" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19878" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19880" href="../Inference/#plfa_plfa-part2-Inference-19859" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19882" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-19884" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>
    <a id="plfa_plfa-part2-Inference-19891" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19893" href="../Inference/#plfa_plfa-part2-Inference-19857" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19895" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19897" href="../Inference/#plfa_plfa-part2-Inference-19861" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19899" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19901" href="../Inference/#plfa_plfa-part2-Inference-19867" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-19907" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19909" href="../Inference/#plfa_plfa-part2-Inference-19857" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19911" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-19913" href="../Inference/#plfa_plfa-part2-Inference-19863" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-19915" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-19917" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-19920" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19922" href="../Inference/#plfa_plfa-part2-Inference-19865" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-19924" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-19926" href="../Inference/#plfa_plfa-part2-Inference-19867" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-19934" class="Comment">-------------------------------------</a>
    <a id="plfa_plfa-part2-Inference-19976" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-19978" href="../Inference/#plfa_plfa-part2-Inference-19857" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-19980" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-19982" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-19988" href="../Inference/#plfa_plfa-part2-Inference-19859" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-19990" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-19997" href="../Inference/#plfa_plfa-part2-Inference-19861" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-19999" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-20004" href="../Inference/#plfa_plfa-part2-Inference-19863" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20006" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20008" href="../Inference/#plfa_plfa-part2-Inference-19865" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20010" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-20012" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20014" href="../Inference/#plfa_plfa-part2-Inference-19867" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢μ"></a><a id="plfa_plfa-part2-Inference-20019" href="../Inference/#plfa_plfa-part2-Inference-20019" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-20022" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20024" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20026" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20027" href="../Inference/#plfa_plfa-part2-Inference-20027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20029" href="../Inference/#plfa_plfa-part2-Inference-20029" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20031" href="../Inference/#plfa_plfa-part2-Inference-20031" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20033" href="../Inference/#plfa_plfa-part2-Inference-20033" class="Bound">A</a><a id="plfa_plfa-part2-Inference-20034" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20040" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20042" href="../Inference/#plfa_plfa-part2-Inference-20027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20044" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-20046" href="../Inference/#plfa_plfa-part2-Inference-20029" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20048" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-20050" href="../Inference/#plfa_plfa-part2-Inference-20033" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20052" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20054" href="../Inference/#plfa_plfa-part2-Inference-20031" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20056" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20058" href="../Inference/#plfa_plfa-part2-Inference-20033" class="Bound">A</a>
      <a id="plfa_plfa-part2-Inference-20066" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Inference-20088" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20090" href="../Inference/#plfa_plfa-part2-Inference-20027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20092" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20094" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-20096" href="../Inference/#plfa_plfa-part2-Inference-20029" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-20098" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-20100" href="../Inference/#plfa_plfa-part2-Inference-20031" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-20102" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20104" href="../Inference/#plfa_plfa-part2-Inference-20033" class="Bound">A</a>

  <a id="plfa_plfa-part2-Inference-_⊢_↓_.⊢↑"></a><a id="plfa_plfa-part2-Inference-20109" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-20112" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-20114" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-20116" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-20117" href="../Inference/#plfa_plfa-part2-Inference-20117" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20119" href="../Inference/#plfa_plfa-part2-Inference-20119" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20121" href="../Inference/#plfa_plfa-part2-Inference-20121" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20123" href="../Inference/#plfa_plfa-part2-Inference-20123" class="Bound">B</a><a id="plfa_plfa-part2-Inference-20124" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Inference-20130" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20132" href="../Inference/#plfa_plfa-part2-Inference-20117" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20134" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20136" href="../Inference/#plfa_plfa-part2-Inference-20119" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20138" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-20140" href="../Inference/#plfa_plfa-part2-Inference-20121" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-20146" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20148" href="../Inference/#plfa_plfa-part2-Inference-20121" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-20150" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-20152" href="../Inference/#plfa_plfa-part2-Inference-20123" class="Bound">B</a>
      <a id="plfa_plfa-part2-Inference-20160" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Inference-20178" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-20180" href="../Inference/#plfa_plfa-part2-Inference-20117" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-20182" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-20184" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-20185" href="../Inference/#plfa_plfa-part2-Inference-20119" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-20187" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-20188" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-20190" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-20192" href="../Inference/#plfa_plfa-part2-Inference-20123" class="Bound">B</a>
</pre><p>我们用和 <a href="../Lambda/">Lambda</a> 中一样的命名规则， 把 <code>⊢</code> 加在构造子之前，来当作对应赋型规则的名称。</p><p>这些规则和 <a href="../Lambda/">Lambda</a> 章节中相似，修改成支持生成和继承类型的样式。 其中有两条新规则 <code>⊢↓</code> 和 <code>⊢↑</code>。 前者把类型装饰当作继承的类型，并将其返回作为生成的类型。 后者取其生成的类型，并检查是否与继承的类型一致——这应该让你回忆起第一<a href="../Inference/#algorithms">部分</a>中函数应用规则的相等性测试。</p><h4 id="bidirectional-mul">练习 <code>bidirectional-mul</code> （推荐）</h4><p>将你在 <a href="../Lambda/">Lambda</a> 章节中乘法的定义重写，将其装饰至支持类型推理的形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21395" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="bidirectional-products">练习 <code>bidirectional-products</code> （推荐）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的积。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-21710" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="bidirectional-rest">练习 <code>bidirectional-rest</code> （延伸）</h4><p>扩充你的双向赋型规则，来包括 <a href="../More/">More</a> 章节中的其余构造。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-22024" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="前置需求">前置需求</h2><p><code>M ↑</code> 规则需要我们有能力来判定两个类型是否相等。 我们可以直接地给出代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-_≟Tp_"></a><a id="plfa_plfa-part2-Inference-22250" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">_≟Tp_</a> <a id="plfa_plfa-part2-Inference-22256" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22258" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22259" href="../Inference/#plfa_plfa-part2-Inference-22259" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22261" href="../Inference/#plfa_plfa-part2-Inference-22261" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22263" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22265" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-22269" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22271" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22273" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-22277" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22278" href="../Inference/#plfa_plfa-part2-Inference-22259" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22280" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22282" href="../Inference/#plfa_plfa-part2-Inference-22261" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22283" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-22285" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22293" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22297" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22313" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22316" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22320" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-22325" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-22333" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22337" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22338" href="../Inference/#plfa_plfa-part2-Inference-22338" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22340" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22342" href="../Inference/#plfa_plfa-part2-Inference-22342" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22343" class="Symbol">)</a>         <a id="plfa_plfa-part2-Inference-22353" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22356" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22359" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22363" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22364" href="../Inference/#plfa_plfa-part2-Inference-22364" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22366" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22368" href="../Inference/#plfa_plfa-part2-Inference-22368" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22369" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22371" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22375" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>              <a id="plfa_plfa-part2-Inference-22391" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22394" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22397" class="Symbol">λ()</a>
<a id="plfa_plfa-part2-Inference-22401" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22402" href="../Inference/#plfa_plfa-part2-Inference-22402" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22404" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22406" href="../Inference/#plfa_plfa-part2-Inference-22406" class="Bound">B</a><a id="plfa_plfa-part2-Inference-22407" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-22409" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22413" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-22414" href="../Inference/#plfa_plfa-part2-Inference-22414" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22417" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22419" href="../Inference/#plfa_plfa-part2-Inference-22419" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22421" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Inference-22425" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-22430" href="../Inference/#plfa_plfa-part2-Inference-22402" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22432" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22436" href="../Inference/#plfa_plfa-part2-Inference-22414" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22439" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22441" href="../Inference/#plfa_plfa-part2-Inference-22406" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22443" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-22447" href="../Inference/#plfa_plfa-part2-Inference-22419" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22450" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22455" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22457" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22460" href="../Inference/#plfa_plfa-part2-Inference-22460" class="Bound">A≢</a>    <a id="plfa_plfa-part2-Inference-22466" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22468" class="Symbol">_</a>         <a id="plfa_plfa-part2-Inference-22478" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22481" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22484" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22486" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22491" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22493" href="../Inference/#plfa_plfa-part2-Inference-22460" class="Bound">A≢</a> <a id="plfa_plfa-part2-Inference-22496" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22500" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22502" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22507" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22509" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22513" class="Symbol">_</a>    <a id="plfa_plfa-part2-Inference-22518" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22520" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22523" href="../Inference/#plfa_plfa-part2-Inference-22523" class="Bound">B≢</a>     <a id="plfa_plfa-part2-Inference-22530" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22533" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-22536" class="Symbol">λ{</a><a id="plfa_plfa-part2-Inference-22538" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22543" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22545" href="../Inference/#plfa_plfa-part2-Inference-22523" class="Bound">B≢</a> <a id="plfa_plfa-part2-Inference-22548" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-22552" class="Symbol">}</a>
<a id="plfa_plfa-part2-Inference-22554" class="Symbol">...</a>  <a id="plfa_plfa-part2-Inference-22559" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22561" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22565" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22570" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-22572" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22576" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>  <a id="plfa_plfa-part2-Inference-22582" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-22585" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-22589" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也会需要一些显然的引理； 作用域和值域相等的函数类型相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-dom≡"></a><a id="plfa_plfa-part2-Inference-22752" href="../Inference/#plfa_plfa-part2-Inference-22752" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22757" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22759" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22761" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22762" href="../Inference/#plfa_plfa-part2-Inference-22762" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22764" href="../Inference/#plfa_plfa-part2-Inference-22764" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22767" href="../Inference/#plfa_plfa-part2-Inference-22767" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22769" href="../Inference/#plfa_plfa-part2-Inference-22769" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22771" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22773" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22775" href="../Inference/#plfa_plfa-part2-Inference-22762" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22777" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22779" href="../Inference/#plfa_plfa-part2-Inference-22767" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22781" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22783" href="../Inference/#plfa_plfa-part2-Inference-22764" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22786" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22788" href="../Inference/#plfa_plfa-part2-Inference-22769" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22791" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22793" href="../Inference/#plfa_plfa-part2-Inference-22762" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22795" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22797" href="../Inference/#plfa_plfa-part2-Inference-22764" class="Bound">A′</a>
<a id="plfa_plfa-part2-Inference-22800" href="../Inference/#plfa_plfa-part2-Inference-22752" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-22805" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22810" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22812" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-rng≡"></a><a id="plfa_plfa-part2-Inference-22818" href="../Inference/#plfa_plfa-part2-Inference-22818" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22823" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-22825" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-22827" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-22828" href="../Inference/#plfa_plfa-part2-Inference-22828" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22830" href="../Inference/#plfa_plfa-part2-Inference-22830" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22833" href="../Inference/#plfa_plfa-part2-Inference-22833" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22835" href="../Inference/#plfa_plfa-part2-Inference-22835" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-22837" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-22839" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22841" href="../Inference/#plfa_plfa-part2-Inference-22828" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-22843" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22845" href="../Inference/#plfa_plfa-part2-Inference-22833" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22847" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22849" href="../Inference/#plfa_plfa-part2-Inference-22830" class="Bound">A′</a> <a id="plfa_plfa-part2-Inference-22852" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-22854" href="../Inference/#plfa_plfa-part2-Inference-22835" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-22857" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-22859" href="../Inference/#plfa_plfa-part2-Inference-22833" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-22861" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-22863" href="../Inference/#plfa_plfa-part2-Inference-22835" class="Bound">B′</a>
<a id="plfa_plfa-part2-Inference-22866" href="../Inference/#plfa_plfa-part2-Inference-22818" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-22871" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-22876" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-22878" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们也需要知道 <code>`ℕ</code> 和 <code>A ⇒ B</code> 这两个类型不相等：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ℕ≢⇒"></a><a id="plfa_plfa-part2-Inference-23021" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23025" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23027" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23029" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23030" href="../Inference/#plfa_plfa-part2-Inference-23030" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23032" href="../Inference/#plfa_plfa-part2-Inference-23032" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23033" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23035" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23037" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-23040" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-23042" href="../Inference/#plfa_plfa-part2-Inference-23030" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23044" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-23046" href="../Inference/#plfa_plfa-part2-Inference-23032" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23048" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-23052" class="Symbol">()</a>
</pre><h2 id="唯一的类型">唯一的类型</h2><p>从上下文查询一个类型是唯一的。 给定两个推导，其一证明 <code>Γ ∋ x ⦂ A</code>，另一个证明 <code>Γ ∋ x ⦂ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-∋"></a><a id="plfa_plfa-part2-Inference-23363" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23370" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-23372" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-23374" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-23375" href="../Inference/#plfa_plfa-part2-Inference-23375" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23377" href="../Inference/#plfa_plfa-part2-Inference-23377" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23379" href="../Inference/#plfa_plfa-part2-Inference-23379" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23381" href="../Inference/#plfa_plfa-part2-Inference-23381" class="Bound">B</a><a id="plfa_plfa-part2-Inference-23382" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-23384" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23386" href="../Inference/#plfa_plfa-part2-Inference-23375" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23388" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23390" href="../Inference/#plfa_plfa-part2-Inference-23377" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23392" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23394" href="../Inference/#plfa_plfa-part2-Inference-23379" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23396" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23398" href="../Inference/#plfa_plfa-part2-Inference-23375" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-23400" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-23402" href="../Inference/#plfa_plfa-part2-Inference-23377" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-23404" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-23406" href="../Inference/#plfa_plfa-part2-Inference-23381" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-23408" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-23410" href="../Inference/#plfa_plfa-part2-Inference-23379" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-23412" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-23414" href="../Inference/#plfa_plfa-part2-Inference-23381" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-23416" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23423" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23425" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a>                 <a id="plfa_plfa-part2-Inference-23443" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23446" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-23451" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23458" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-23460" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23461" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23463" href="../Inference/#plfa_plfa-part2-Inference-23463" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23467" class="Symbol">_)</a>         <a id="plfa_plfa-part2-Inference-23478" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23481" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23488" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23489" href="../Inference/#plfa_plfa-part2-Inference-23463" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23493" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23497" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23499" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23506" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23507" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23509" href="../Inference/#plfa_plfa-part2-Inference-23509" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23513" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-23516" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a>         <a id="plfa_plfa-part2-Inference-23526" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23529" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Inference-23536" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23537" href="../Inference/#plfa_plfa-part2-Inference-23509" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-23541" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-23545" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-23547" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23554" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23555" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23557" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23559" href="../Inference/#plfa_plfa-part2-Inference-23559" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-23561" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-23563" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-23564" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-23566" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-23568" href="../Inference/#plfa_plfa-part2-Inference-23568" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-23571" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-23574" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-23577" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-23584" href="../Inference/#plfa_plfa-part2-Inference-23559" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-23587" href="../Inference/#plfa_plfa-part2-Inference-23568" class="Bound">∋x′</a>
</pre><p>如果两个推导都使用 <code>Z</code> 规则，那么唯一性即可直接得出； 如果两个推导都使用 <code>S</code> 规则，那么唯一性可以由归纳得出。 如果一个使用了 <code>Z</code> 规则，另一个使用了 <code>S</code> 规则，这则是一个矛盾， 因为 <code>Z</code> 要求我们查询的变量是上下文中的最后一个，而 <code>S</code> 要求不是这样。</p><p>生成的类型也是唯一的。 给定两个推导，其一证明 <code>Γ ⊢ M ↑ A</code>，另一个证明 <code>Γ ⊢ M ↑ B</code>，那么 <code>A</code> 和 <code>B</code> 一定是一样的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-uniq-↑"></a><a id="plfa_plfa-part2-Inference-24354" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24361" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-24363" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-24365" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-24366" href="../Inference/#plfa_plfa-part2-Inference-24366" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24368" href="../Inference/#plfa_plfa-part2-Inference-24368" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24370" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24372" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">B</a><a id="plfa_plfa-part2-Inference-24373" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-24375" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24377" href="../Inference/#plfa_plfa-part2-Inference-24366" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24379" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24381" href="../Inference/#plfa_plfa-part2-Inference-24368" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24383" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24385" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24387" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24389" href="../Inference/#plfa_plfa-part2-Inference-24366" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-24391" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-24393" href="../Inference/#plfa_plfa-part2-Inference-24368" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-24395" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-24397" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-24399" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-24401" href="../Inference/#plfa_plfa-part2-Inference-24370" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-24403" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-24405" href="../Inference/#plfa_plfa-part2-Inference-24372" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-24407" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24414" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24415" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24418" href="../Inference/#plfa_plfa-part2-Inference-24418" class="Bound">∋x</a><a id="plfa_plfa-part2-Inference-24420" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24422" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24423" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-24426" href="../Inference/#plfa_plfa-part2-Inference-24426" class="Bound">∋x′</a><a id="plfa_plfa-part2-Inference-24429" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24437" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24440" href="../Inference/#plfa_plfa-part2-Inference-23363" class="Function">uniq-∋</a> <a id="plfa_plfa-part2-Inference-24447" href="../Inference/#plfa_plfa-part2-Inference-24418" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-24450" href="../Inference/#plfa_plfa-part2-Inference-24426" class="Bound">∋x′</a>
<a id="plfa_plfa-part2-Inference-24454" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24461" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24462" href="../Inference/#plfa_plfa-part2-Inference-24462" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24465" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24467" href="../Inference/#plfa_plfa-part2-Inference-24467" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24469" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24471" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24472" href="../Inference/#plfa_plfa-part2-Inference-24472" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-24476" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-24478" href="../Inference/#plfa_plfa-part2-Inference-24478" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24481" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-24484" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24487" href="../Inference/#plfa_plfa-part2-Inference-22818" class="Function">rng≡</a> <a id="plfa_plfa-part2-Inference-24492" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24493" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24500" href="../Inference/#plfa_plfa-part2-Inference-24462" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-24503" href="../Inference/#plfa_plfa-part2-Inference-24472" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-24506" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-24508" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-24515" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24516" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24519" href="../Inference/#plfa_plfa-part2-Inference-24519" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-24521" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-24523" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-24524" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-24527" href="../Inference/#plfa_plfa-part2-Inference-24527" class="Bound">⊢M′</a><a id="plfa_plfa-part2-Inference-24530" class="Symbol">)</a>       <a id="plfa_plfa-part2-Inference-24538" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-24541" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>有三种项的形式。 如果项是变量，那么生成的唯一性从查询的唯一性中直接得出。 如果项是函数应用，那么唯一性由应用中的函数之上的归纳得出，因为值域相等的类型相等。 如果项是变向，两者装饰的类型相等，从此可得唯一性。</p><h2 id="查询上下文中变量的类型">查询上下文中变量的类型</h2><p>给定 <code>Γ</code> 和两个不同的变量 <code>x</code> 和 <code>y</code>， 如果不存在类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立， 那么也不存在类型 <code>A</code> 使得 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-ext∋"></a><a id="plfa_plfa-part2-Inference-25386" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25391" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-25393" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-25395" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-25396" href="../Inference/#plfa_plfa-part2-Inference-25396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25398" href="../Inference/#plfa_plfa-part2-Inference-25398" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25400" href="../Inference/#plfa_plfa-part2-Inference-25400" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25402" href="../Inference/#plfa_plfa-part2-Inference-25402" class="Bound">y</a><a id="plfa_plfa-part2-Inference-25403" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-25407" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25409" href="../Inference/#plfa_plfa-part2-Inference-25400" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25411" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-25413" href="../Inference/#plfa_plfa-part2-Inference-25402" class="Bound">y</a>
  <a id="plfa_plfa-part2-Inference-25417" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25419" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25421" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25422" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25425" href="../Inference/#plfa_plfa-part2-Inference-25425" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25427" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25429" href="../Inference/#plfa_plfa-part2-Inference-25396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25431" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25433" href="../Inference/#plfa_plfa-part2-Inference-25400" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25435" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25437" href="../Inference/#plfa_plfa-part2-Inference-25425" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25438" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-25444" class="Comment">----------------------------</a>
  <a id="plfa_plfa-part2-Inference-25475" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-25477" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-25479" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-25480" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-25483" href="../Inference/#plfa_plfa-part2-Inference-25483" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25485" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-25487" href="../Inference/#plfa_plfa-part2-Inference-25396" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-25489" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25491" href="../Inference/#plfa_plfa-part2-Inference-25402" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-25493" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25495" href="../Inference/#plfa_plfa-part2-Inference-25398" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-25497" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-25499" href="../Inference/#plfa_plfa-part2-Inference-25400" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-25501" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-25503" href="../Inference/#plfa_plfa-part2-Inference-25483" class="Bound">A</a><a id="plfa_plfa-part2-Inference-25504" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-25506" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25511" href="../Inference/#plfa_plfa-part2-Inference-25511" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25515" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-25518" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25520" href="../Inference/#plfa_plfa-part2-Inference-25520" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25522" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25524" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-25526" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>       <a id="plfa_plfa-part2-Inference-25534" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25537" href="../Inference/#plfa_plfa-part2-Inference-25511" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-25541" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Inference-25546" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-25551" class="Symbol">_</a>   <a id="plfa_plfa-part2-Inference-25555" href="../Inference/#plfa_plfa-part2-Inference-25555" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25558" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25560" href="../Inference/#plfa_plfa-part2-Inference-25560" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25562" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25564" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-25566" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-25568" href="../Inference/#plfa_plfa-part2-Inference-25568" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25571" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-25574" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-25577" href="../Inference/#plfa_plfa-part2-Inference-25555" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-25580" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-25582" href="../Inference/#plfa_plfa-part2-Inference-25560" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-25584" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-25586" href="../Inference/#plfa_plfa-part2-Inference-25568" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-25589" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
</pre><p>给定类型 <code>A</code> 和 <code>Γ , y ⦂ B ∋ x ⦂ A</code> 成立的证明，我们必须构造一个矛盾。 如果判断由 <code>Z</code> 成立，那么 <code>x</code> 和 <code>y</code> 一定是一样的，与第一个假设矛盾。 如果判断由 <code>S _ ∋x</code> 成立，那么 <code>∋x</code> 提供了 <code>Γ ∋ x ⦂ A</code> 成立的证明，与第二个假设矛盾。</p><p>给定上下文 <code>Γ</code> 和变量 <code>x</code>，我们可判断是否存在一个类型 <code>A</code> 使得 <code>Γ ∋ x ⦂ A</code> 成立，或者其反命题：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-lookup"></a><a id="plfa_plfa-part2-Inference-26306" href="../Inference/#plfa_plfa-part2-Inference-26306" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26313" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26315" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-26317" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26318" href="../Inference/#plfa_plfa-part2-Inference-26318" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26320" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26322" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-26329" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26331" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26332" href="../Inference/#plfa_plfa-part2-Inference-26332" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26334" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-26336" href="../Inference/#plfa_plfa-part2-Inference-16118" class="Function">Id</a><a id="plfa_plfa-part2-Inference-26338" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-26349" class="Comment">------------------------</a>
       <a id="plfa_plfa-part2-Inference-26381" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-26383" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-26387" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26388" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-26391" href="../Inference/#plfa_plfa-part2-Inference-26391" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26393" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-26395" href="../Inference/#plfa_plfa-part2-Inference-26318" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26397" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-26399" href="../Inference/#plfa_plfa-part2-Inference-26332" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26401" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26403" href="../Inference/#plfa_plfa-part2-Inference-26391" class="Bound">A</a><a id="plfa_plfa-part2-Inference-26404" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26406" href="../Inference/#plfa_plfa-part2-Inference-26306" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26413" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-26415" href="../Inference/#plfa_plfa-part2-Inference-26415" class="Bound">x</a>                        <a id="plfa_plfa-part2-Inference-26440" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26443" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26447" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Inference-26450" class="Symbol">())</a>
<a id="plfa_plfa-part2-Inference-26454" href="../Inference/#plfa_plfa-part2-Inference-26306" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26461" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26462" href="../Inference/#plfa_plfa-part2-Inference-26462" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26464" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26466" href="../Inference/#plfa_plfa-part2-Inference-26466" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-26468" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-26470" href="../Inference/#plfa_plfa-part2-Inference-26470" class="Bound">B</a><a id="plfa_plfa-part2-Inference-26471" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-26473" href="../Inference/#plfa_plfa-part2-Inference-26473" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26475" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26480" href="../Inference/#plfa_plfa-part2-Inference-26473" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-26482" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-26484" href="../Inference/#plfa_plfa-part2-Inference-26466" class="Bound">y</a>
<a id="plfa_plfa-part2-Inference-26486" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26490" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26492" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26496" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>                    <a id="plfa_plfa-part2-Inference-26520" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26523" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26527" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26529" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-26531" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26533" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-26535" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-26537" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-26541" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26543" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-26546" href="../Inference/#plfa_plfa-part2-Inference-26546" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26550" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-26555" href="../Inference/#plfa_plfa-part2-Inference-26306" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-26562" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-26564" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-26566" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26582" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26584" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26588" href="../Inference/#plfa_plfa-part2-Inference-26588" class="Bound">¬∃</a>          <a id="plfa_plfa-part2-Inference-26600" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26603" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-26607" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-26608" href="../Inference/#plfa_plfa-part2-Inference-25386" class="Function">ext∋</a> <a id="plfa_plfa-part2-Inference-26613" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26617" href="../Inference/#plfa_plfa-part2-Inference-26588" class="Bound">¬∃</a><a id="plfa_plfa-part2-Inference-26619" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-26621" class="Symbol">...</a>             <a id="plfa_plfa-part2-Inference-26637" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-26639" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26643" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26645" href="../Inference/#plfa_plfa-part2-Inference-26645" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26647" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26649" href="../Inference/#plfa_plfa-part2-Inference-26649" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26652" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-26655" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-26658" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-26662" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-26664" href="../Inference/#plfa_plfa-part2-Inference-26645" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-26666" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-26668" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-26670" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-26674" href="../Inference/#plfa_plfa-part2-Inference-26649" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-26677" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
</pre><p>考虑上下文的情况：</p><ul><li>如果上下文为空，那么平凡地，我们没有任何可能的推导。</li></ul><ul><li><p>如果上下文非空，比较给定的变量和最新的绑定：</p><ul><li>如果它们一致，我们完成了判定，使用 <code>Z</code> 作为对应的推导。</li></ul><ul><li><p>如果它们不一致，我们递归：</p><ul><li>如果查询失败了，我们使用 <code>ext∋</code> 将变量不存在于内部的上下文中的证明扩充至扩充后的上下文。</li></ul><ul><li>如果查询成功了，我们对返回的推导使用 <code>S</code>。</li></ul></li></ul></li></ul><h2 id="提升否定">提升否定</h2><p>对于每一个可能的项的形式，我们需要证明：如果其内部的子项无法被赋型，那么整个项无法被赋型。 大多数情况下，我们可以直接在行中直接完成所需的证明，但有一些困难的情况， 我们提供一些帮助函数。</p><p>如果 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立而 <code>Γ ⊢ M ↓ A</code> 不成立，那么不存在使得 <code>Γ ⊢ L · M ↑ B′</code> 成立的类型 <code>B′</code>：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬arg"></a><a id="plfa_plfa-part2-Inference-28092" href="../Inference/#plfa_plfa-part2-Inference-28092" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28097" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-28099" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-28101" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-28102" href="../Inference/#plfa_plfa-part2-Inference-28102" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28104" href="../Inference/#plfa_plfa-part2-Inference-28104" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28106" href="../Inference/#plfa_plfa-part2-Inference-28106" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-28108" href="../Inference/#plfa_plfa-part2-Inference-28108" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28110" href="../Inference/#plfa_plfa-part2-Inference-28110" class="Bound">M</a><a id="plfa_plfa-part2-Inference-28111" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-28115" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28117" href="../Inference/#plfa_plfa-part2-Inference-28102" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28119" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28121" href="../Inference/#plfa_plfa-part2-Inference-28108" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28123" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28125" href="../Inference/#plfa_plfa-part2-Inference-28104" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-28127" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-28129" href="../Inference/#plfa_plfa-part2-Inference-28106" class="Bound">B</a>
  <a id="plfa_plfa-part2-Inference-28133" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28135" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28137" href="../Inference/#plfa_plfa-part2-Inference-28102" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28139" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28141" href="../Inference/#plfa_plfa-part2-Inference-28110" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28143" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-28145" href="../Inference/#plfa_plfa-part2-Inference-28104" class="Bound">A</a>
    <a id="plfa_plfa-part2-Inference-28151" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Inference-28180" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-28182" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-28184" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28185" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-28188" href="../Inference/#plfa_plfa-part2-Inference-28188" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28191" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-28193" href="../Inference/#plfa_plfa-part2-Inference-28102" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-28195" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-28197" href="../Inference/#plfa_plfa-part2-Inference-28108" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-28199" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28201" href="../Inference/#plfa_plfa-part2-Inference-28110" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-28203" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-28205" href="../Inference/#plfa_plfa-part2-Inference-28188" class="Bound">B′</a><a id="plfa_plfa-part2-Inference-28207" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-28209" href="../Inference/#plfa_plfa-part2-Inference-28092" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-28214" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28217" href="../Inference/#plfa_plfa-part2-Inference-28217" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28221" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-28223" href="../Inference/#plfa_plfa-part2-Inference-28223" class="Bound">B′</a> <a id="plfa_plfa-part2-Inference-28226" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-28228" href="../Inference/#plfa_plfa-part2-Inference-28228" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-28232" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-28234" href="../Inference/#plfa_plfa-part2-Inference-28234" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-28238" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-28240" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-28248" href="../Inference/#plfa_plfa-part2-Inference-22752" class="Function">dom≡</a> <a id="plfa_plfa-part2-Inference-28253" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-28254" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-28261" href="../Inference/#plfa_plfa-part2-Inference-28214" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-28264" href="../Inference/#plfa_plfa-part2-Inference-28228" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-28267" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-28269" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-28271" href="../Inference/#plfa_plfa-part2-Inference-28217" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-28275" href="../Inference/#plfa_plfa-part2-Inference-28234" class="Bound">⊢M′</a>
</pre><p>让 <code>⊢L</code> 作为 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明、 <code>¬⊢M</code> 作为 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 给定类型 <code>B′</code> 和 <code>Γ ⊢ L · M ↑ B′</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢L′ · ⊢M′</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A′ ⇒ B′</code> 成立的证明、<code>⊢M′</code> 是 <code>Γ ⊢ M ↓ A′</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code>，我们知道 <code>A ⇒ B ≡ A′ ⇒ B′</code>， 所以可得 <code>A ≡ A′</code>，这意味着 <code>¬⊢M</code> 和 <code>⊢M′</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>¬⊢M</code> 和 <code>⊢M′</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><p>如果 <code>Γ ⊢ M ↑ A</code> 成立且 <code>A ≢ B</code>，那么 <code>Γ ⊢ (M ↑) ↓ B</code> 不成立：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-¬switch"></a><a id="plfa_plfa-part2-Inference-29452" href="../Inference/#plfa_plfa-part2-Inference-29452" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29460" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-29462" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-29464" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-29465" href="../Inference/#plfa_plfa-part2-Inference-29465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29467" href="../Inference/#plfa_plfa-part2-Inference-29467" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29469" href="../Inference/#plfa_plfa-part2-Inference-29469" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29471" href="../Inference/#plfa_plfa-part2-Inference-29471" class="Bound">B</a><a id="plfa_plfa-part2-Inference-29472" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Inference-29476" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29478" href="../Inference/#plfa_plfa-part2-Inference-29465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29480" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29482" href="../Inference/#plfa_plfa-part2-Inference-29467" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29484" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-29486" href="../Inference/#plfa_plfa-part2-Inference-29469" class="Bound">A</a>
  <a id="plfa_plfa-part2-Inference-29490" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29492" href="../Inference/#plfa_plfa-part2-Inference-29469" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-29494" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="plfa_plfa-part2-Inference-29496" href="../Inference/#plfa_plfa-part2-Inference-29471" class="Bound">B</a>
    <a id="plfa_plfa-part2-Inference-29502" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-29520" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-29522" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part2-Inference-29524" href="../Inference/#plfa_plfa-part2-Inference-29465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-29526" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-29528" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29529" href="../Inference/#plfa_plfa-part2-Inference-29467" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-29531" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-29532" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29534" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-29536" href="../Inference/#plfa_plfa-part2-Inference-29471" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-29538" href="../Inference/#plfa_plfa-part2-Inference-29452" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-29546" href="../Inference/#plfa_plfa-part2-Inference-29546" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29549" href="../Inference/#plfa_plfa-part2-Inference-29549" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29553" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-29554" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-29557" href="../Inference/#plfa_plfa-part2-Inference-29557" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29561" href="../Inference/#plfa_plfa-part2-Inference-29561" class="Bound">A′≡B</a><a id="plfa_plfa-part2-Inference-29565" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-29567" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Inference-29575" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-29582" href="../Inference/#plfa_plfa-part2-Inference-29546" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-29585" href="../Inference/#plfa_plfa-part2-Inference-29557" class="Bound">⊢M′</a> <a id="plfa_plfa-part2-Inference-29589" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-29591" href="../Inference/#plfa_plfa-part2-Inference-29549" class="Bound">A≢B</a> <a id="plfa_plfa-part2-Inference-29595" href="../Inference/#plfa_plfa-part2-Inference-29561" class="Bound">A′≡B</a>
</pre><p>让 <code>⊢M</code> 作为 <code>Γ ⊢ M ↑ A</code> 成立的证明、<code>A≢B</code> 作为 <code>A ≢ B</code> 成立的证明。 给定 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明，我们必须构造一个矛盾。 这样的证明一定是 <code>⊢↑ ⊢M′ A′≡B</code> 的形式，其中 <code>⊢M′</code> 是 <code>Γ ⊢ M ↑ A′</code> 成立的证明、<code>A′≡B</code> 是 <code>A′ ≡ B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢M</code> 和 <code>⊢M′</code>，我们知道 <code>A ≡ A′</code>，这意味着 <code>A≢B</code> 和 <code>A′≡B</code> 可以构造出一个矛盾。 不使用 <code>rewrite</code> 语句的话，Agda 不会让我们从 <code>A≢B</code> 和 <code>A′≡B</code> 中构造出一个矛盾， 因为其中的类型分别是 <code>A</code> 和 <code>A′</code>。</p><h2 id="生成和继承类型-1">生成和继承类型</h2><p>餐桌已经布置好了，我们已经准备好享用今天的主菜了。 我们定义两个共同递归的函数，一个用于生成，一个用于继承。 生成在给定上下文 <code>Γ</code> 和生成项 <code>M</code> 时，要么返回一个类型 <code>A</code> 和 <code>Γ ⊢ M ↑ A</code> 成立的证明，或者其/否定。 继承在给定上下文 <code>Γ</code> 、继承项 <code>M</code> 和类型 <code>A</code> 时要么返回 <code>Γ ⊢ M ↓ A</code> 成立的证明，或者其否定：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-synthesize"></a><a id="plfa_plfa-part2-Inference-31186" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31197" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31199" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31201" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31202" href="../Inference/#plfa_plfa-part2-Inference-31202" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31204" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31206" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31213" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31215" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31216" href="../Inference/#plfa_plfa-part2-Inference-31216" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31218" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31220" href="../Inference/#plfa_plfa-part2-Inference-16602" class="Datatype">Term⁺</a><a id="plfa_plfa-part2-Inference-31225" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Inference-31240" class="Comment">---------------------------</a>
           <a id="plfa_plfa-part2-Inference-31279" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31281" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31285" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31286" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃[</a> <a id="plfa_plfa-part2-Inference-31289" href="../Inference/#plfa_plfa-part2-Inference-31289" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31291" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">]</a> <a id="plfa_plfa-part2-Inference-31293" href="../Inference/#plfa_plfa-part2-Inference-31202" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31295" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31297" href="../Inference/#plfa_plfa-part2-Inference-31216" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31299" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-31301" href="../Inference/#plfa_plfa-part2-Inference-31289" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31303" class="Symbol">)</a>

<a id="plfa_plfa-part2-Inference-inherit"></a><a id="plfa_plfa-part2-Inference-31306" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31314" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31316" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-31318" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31319" href="../Inference/#plfa_plfa-part2-Inference-31319" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31321" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31323" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a><a id="plfa_plfa-part2-Inference-31330" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31332" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31333" href="../Inference/#plfa_plfa-part2-Inference-31333" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31335" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31337" href="../Inference/#plfa_plfa-part2-Inference-16619" class="Datatype">Term⁻</a><a id="plfa_plfa-part2-Inference-31342" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31344" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31345" href="../Inference/#plfa_plfa-part2-Inference-31345" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31347" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-31349" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a><a id="plfa_plfa-part2-Inference-31353" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-31359" class="Comment">---------------</a>
  <a id="plfa_plfa-part2-Inference-31377" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31379" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="plfa_plfa-part2-Inference-31383" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31384" href="../Inference/#plfa_plfa-part2-Inference-31319" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31386" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-31388" href="../Inference/#plfa_plfa-part2-Inference-31333" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31390" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-31392" href="../Inference/#plfa_plfa-part2-Inference-31345" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31393" class="Symbol">)</a>
</pre><p>我们首先考虑生成的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-31474" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31485" href="../Inference/#plfa_plfa-part2-Inference-31485" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31487" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31488" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-31490" href="../Inference/#plfa_plfa-part2-Inference-31490" class="Bound">x</a><a id="plfa_plfa-part2-Inference-31491" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31493" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31498" href="../Inference/#plfa_plfa-part2-Inference-26306" class="Function">lookup</a> <a id="plfa_plfa-part2-Inference-31505" href="../Inference/#plfa_plfa-part2-Inference-31485" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31507" href="../Inference/#plfa_plfa-part2-Inference-31490" class="Bound">x</a>
<a id="plfa_plfa-part2-Inference-31509" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31513" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31515" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31519" href="../Inference/#plfa_plfa-part2-Inference-31519" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31535" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31538" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31542" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31546" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31548" href="../Inference/#plfa_plfa-part2-Inference-31548" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31550" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31552" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31555" href="../Inference/#plfa_plfa-part2-Inference-31555" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31558" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31560" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-31562" href="../Inference/#plfa_plfa-part2-Inference-31519" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31565" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31567" href="../Inference/#plfa_plfa-part2-Inference-31548" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31569" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31571" href="../Inference/#plfa_plfa-part2-Inference-31555" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31574" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31576" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31579" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31583" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31585" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31589" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31591" href="../Inference/#plfa_plfa-part2-Inference-31591" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31593" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31595" href="../Inference/#plfa_plfa-part2-Inference-31595" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31598" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>      <a id="plfa_plfa-part2-Inference-31605" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31608" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31612" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31614" href="../Inference/#plfa_plfa-part2-Inference-31591" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31616" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31618" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-31621" href="../Inference/#plfa_plfa-part2-Inference-31595" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-31624" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31626" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31637" href="../Inference/#plfa_plfa-part2-Inference-31637" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31639" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31640" href="../Inference/#plfa_plfa-part2-Inference-31640" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-31642" href="../Inference/#plfa_plfa-part2-Inference-16691" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31644" href="../Inference/#plfa_plfa-part2-Inference-31644" class="Bound">M</a><a id="plfa_plfa-part2-Inference-31645" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31647" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31652" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31663" href="../Inference/#plfa_plfa-part2-Inference-31637" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31665" href="../Inference/#plfa_plfa-part2-Inference-31640" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-31667" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31671" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31673" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31677" href="../Inference/#plfa_plfa-part2-Inference-31677" class="Bound">¬∃</a>              <a id="plfa_plfa-part2-Inference-31693" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31696" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31700" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31704" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31706" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31708" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31710" href="../Inference/#plfa_plfa-part2-Inference-31710" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-31714" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31716" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31719" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31722" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31725" href="../Inference/#plfa_plfa-part2-Inference-31677" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-31728" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31730" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31732" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31734" href="../Inference/#plfa_plfa-part2-Inference-31710" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31737" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31739" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31742" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31746" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31748" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31752" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31754" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-31757" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-31762" href="../Inference/#plfa_plfa-part2-Inference-31762" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31765" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31768" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31771" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31775" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-31779" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31781" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-31783" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31785" href="../Inference/#plfa_plfa-part2-Inference-31785" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-31789" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31791" class="Symbol">_</a>  <a id="plfa_plfa-part2-Inference-31794" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-31797" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-31800" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-31804" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31805" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-31812" href="../Inference/#plfa_plfa-part2-Inference-31762" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31815" href="../Inference/#plfa_plfa-part2-Inference-31785" class="Bound">⊢L′</a><a id="plfa_plfa-part2-Inference-31818" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31820" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-31823" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-31827" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31829" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31833" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31835" href="../Inference/#plfa_plfa-part2-Inference-31835" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-31837" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-31839" href="../Inference/#plfa_plfa-part2-Inference-31839" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31841" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31843" href="../Inference/#plfa_plfa-part2-Inference-31843" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31846" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-31848" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31853" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31861" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31863" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31865" href="../Inference/#plfa_plfa-part2-Inference-31835" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-31867" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31874" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31876" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31880" href="../Inference/#plfa_plfa-part2-Inference-31880" class="Bound">¬⊢M</a>          <a id="plfa_plfa-part2-Inference-31893" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31896" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-31900" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31901" href="../Inference/#plfa_plfa-part2-Inference-28092" class="Function">¬arg</a> <a id="plfa_plfa-part2-Inference-31906" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31909" href="../Inference/#plfa_plfa-part2-Inference-31880" class="Bound">¬⊢M</a><a id="plfa_plfa-part2-Inference-31912" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-31914" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-31921" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-31923" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31927" href="../Inference/#plfa_plfa-part2-Inference-31927" class="Bound">⊢M</a>           <a id="plfa_plfa-part2-Inference-31940" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-31943" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-31947" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-31949" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-31951" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-31953" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-31956" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-31958" href="../Inference/#plfa_plfa-part2-Inference-31927" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-31961" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-31963" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-31974" href="../Inference/#plfa_plfa-part2-Inference-31974" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31976" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-31977" href="../Inference/#plfa_plfa-part2-Inference-31977" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-31979" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-31981" href="../Inference/#plfa_plfa-part2-Inference-31981" class="Bound">A</a><a id="plfa_plfa-part2-Inference-31982" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-31984" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-31989" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-31997" href="../Inference/#plfa_plfa-part2-Inference-31974" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-31999" href="../Inference/#plfa_plfa-part2-Inference-31977" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-32001" href="../Inference/#plfa_plfa-part2-Inference-31981" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-32003" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32007" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32009" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-32013" href="../Inference/#plfa_plfa-part2-Inference-32013" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-32029" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32032" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-32036" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-32040" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32042" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-32044" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32046" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32049" href="../Inference/#plfa_plfa-part2-Inference-32049" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32052" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>  <a id="plfa_plfa-part2-Inference-32055" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-32058" href="../Inference/#plfa_plfa-part2-Inference-32013" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-32062" href="../Inference/#plfa_plfa-part2-Inference-32049" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32065" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-32068" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-32072" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-32074" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32078" href="../Inference/#plfa_plfa-part2-Inference-32078" class="Bound">⊢M</a>              <a id="plfa_plfa-part2-Inference-32094" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-32097" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-32101" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-32103" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-32105" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-32107" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-32110" href="../Inference/#plfa_plfa-part2-Inference-32078" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-32113" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
</pre><p>有三种情况来考虑：</p><ul><li><p>如果项是变量 <code>` x</code>，我们使用之前定义的查询：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ∋ x ⦂ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ ` x ↑ A</code> 成立的证明一定是 <code>⊢` ∋x</code> 的形式，其中 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>∋x</code> 是 <code>Γ ∋ x ⦂ A</code> 成立的证明，所以 <code>⊢` ∋x</code> 是 <code>Γ ⊢ ` x ↑ A</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是函数应用 <code>L · M</code>，我们递归于函数项 <code>L</code>：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在任何类型 <code>Γ ⊢ L ↑ _</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L · _</code> 的形式，其中 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么有两种情况：</p><ul><li>其一是 <code>⊢L</code> 是 <code>Γ ⊢ L ⦂ `ℕ</code> 成立的证明。 <code>Γ ⊢ L · M ↑ _</code> 成立的证明一定是 <code>⊢L′ · _</code> 的形式，其中 <code>⊢L′</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 对于一些类型 <code>A</code> 和 <code>B</code> 成立的证明。 将 <code>uniq-↑</code> 应用于 <code>⊢L</code> 和 <code>⊢L′</code> 构成了一个矛盾， 因为 <code>`ℕ</code> 无法与 <code>A ⇒ B</code> 相等。</li></ul><ul><li><p>另一是 <code>⊢L</code> 是 <code>Γ ⊢ L ↑ A ⇒ B</code> 成立的证明，那么我们在参数项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 将 <code>¬arg</code> 应用于 <code>⊢L</code> 和 <code>¬⊢M</code>，我们可得 <code>Γ ⊢ L · M ↑ B</code> 不成立。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明， 且 <code>⊢L · ⊢M</code> 提供了 <code>Γ ⊢ L · M ↑ B</code> 成立的证明。</li></ul></li></ul></li></ul></li></ul><ul><li><p>如果项是从生成到继承的变向项 <code>M ↓ A</code>，我们在子项 <code>M</code> 上递归，并向继承提供类型 <code>A</code>：</p><ul><li>如果失败了，那么 <code>¬⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 不成立的证明。 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明一定是 <code>⊢↓ ⊢M</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↓ A</code> 成立的证明，且 <code>⊢↓ ⊢M</code> 提供了 <code>Γ ⊢ (M ↓ A) ↑ A</code> 成立的证明。</li></ul></li></ul><p>我们接下来考虑继承的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-35636" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35644" href="../Inference/#plfa_plfa-part2-Inference-35644" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35646" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35647" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35649" href="../Inference/#plfa_plfa-part2-Inference-35649" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35651" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35653" href="../Inference/#plfa_plfa-part2-Inference-35653" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35654" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35656" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>      <a id="plfa_plfa-part2-Inference-35664" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35667" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35671" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35677" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35685" href="../Inference/#plfa_plfa-part2-Inference-35685" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35687" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35688" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-35690" href="../Inference/#plfa_plfa-part2-Inference-35690" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35692" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35694" href="../Inference/#plfa_plfa-part2-Inference-35694" class="Bound">N</a><a id="plfa_plfa-part2-Inference-35695" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35697" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35698" href="../Inference/#plfa_plfa-part2-Inference-35698" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35700" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35702" href="../Inference/#plfa_plfa-part2-Inference-35702" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35703" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35705" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35710" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35718" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35719" href="../Inference/#plfa_plfa-part2-Inference-35685" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35721" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-35723" href="../Inference/#plfa_plfa-part2-Inference-35690" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-35725" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-35727" href="../Inference/#plfa_plfa-part2-Inference-35698" class="Bound">A</a><a id="plfa_plfa-part2-Inference-35728" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35730" href="../Inference/#plfa_plfa-part2-Inference-35694" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-35732" href="../Inference/#plfa_plfa-part2-Inference-35702" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-35734" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35738" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35740" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35743" href="../Inference/#plfa_plfa-part2-Inference-35743" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-35762" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35765" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35769" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-35773" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35774" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35777" href="../Inference/#plfa_plfa-part2-Inference-35777" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35779" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-35782" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-35785" href="../Inference/#plfa_plfa-part2-Inference-35743" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-35789" href="../Inference/#plfa_plfa-part2-Inference-35777" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-35792" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-35795" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35799" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35801" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35805" href="../Inference/#plfa_plfa-part2-Inference-35805" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-35823" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35826" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35830" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35831" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-35834" href="../Inference/#plfa_plfa-part2-Inference-35805" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-35836" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-35838" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35846" href="../Inference/#plfa_plfa-part2-Inference-35846" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35848" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35854" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>          <a id="plfa_plfa-part2-Inference-35866" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35869" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-35873" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a>
<a id="plfa_plfa-part2-Inference-35879" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35887" href="../Inference/#plfa_plfa-part2-Inference-35887" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35889" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-35895" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35896" href="../Inference/#plfa_plfa-part2-Inference-35896" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-35898" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-35900" href="../Inference/#plfa_plfa-part2-Inference-35900" class="Bound">B</a><a id="plfa_plfa-part2-Inference-35901" class="Symbol">)</a>     <a id="plfa_plfa-part2-Inference-35907" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35910" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35914" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-35920" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35928" href="../Inference/#plfa_plfa-part2-Inference-35928" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35930" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-35931" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-35936" href="../Inference/#plfa_plfa-part2-Inference-35936" class="Bound">M</a><a id="plfa_plfa-part2-Inference-35937" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-35939" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-35942" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-35947" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-35955" href="../Inference/#plfa_plfa-part2-Inference-35928" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-35957" href="../Inference/#plfa_plfa-part2-Inference-35936" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-35959" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-35962" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-35966" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-35968" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-35971" href="../Inference/#plfa_plfa-part2-Inference-35971" class="Bound">¬⊢M</a>                <a id="plfa_plfa-part2-Inference-35990" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-35993" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-35997" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36001" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36002" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36007" href="../Inference/#plfa_plfa-part2-Inference-36007" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36009" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36012" class="Symbol">→</a>  <a id="plfa_plfa-part2-Inference-36015" href="../Inference/#plfa_plfa-part2-Inference-35971" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36019" href="../Inference/#plfa_plfa-part2-Inference-36007" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36022" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36025" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36029" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36031" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36035" href="../Inference/#plfa_plfa-part2-Inference-36035" class="Bound">⊢M</a>                <a id="plfa_plfa-part2-Inference-36053" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36056" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36060" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36061" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-36066" href="../Inference/#plfa_plfa-part2-Inference-36035" class="Bound">⊢M</a><a id="plfa_plfa-part2-Inference-36068" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36070" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36078" href="../Inference/#plfa_plfa-part2-Inference-36078" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36080" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36081" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-36086" href="../Inference/#plfa_plfa-part2-Inference-36086" class="Bound">M</a><a id="plfa_plfa-part2-Inference-36087" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36089" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36090" href="../Inference/#plfa_plfa-part2-Inference-36090" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36092" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36094" href="../Inference/#plfa_plfa-part2-Inference-36094" class="Bound">B</a><a id="plfa_plfa-part2-Inference-36095" class="Symbol">)</a>  <a id="plfa_plfa-part2-Inference-36098" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36101" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36105" class="Symbol">(λ())</a>
<a id="plfa_plfa-part2-Inference-36111" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36119" href="../Inference/#plfa_plfa-part2-Inference-36119" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36121" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36122" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-36128" href="../Inference/#plfa_plfa-part2-Inference-36128" class="Bound">L</a> <a id="plfa_plfa-part2-Inference-36130" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-36137" href="../Inference/#plfa_plfa-part2-Inference-36137" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36139" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-36144" href="../Inference/#plfa_plfa-part2-Inference-36144" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36146" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36148" href="../Inference/#plfa_plfa-part2-Inference-36148" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36150" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">]</a><a id="plfa_plfa-part2-Inference-36151" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36153" href="../Inference/#plfa_plfa-part2-Inference-36153" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36155" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36160" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36171" href="../Inference/#plfa_plfa-part2-Inference-36119" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36173" href="../Inference/#plfa_plfa-part2-Inference-36128" class="Bound">L</a>
<a id="plfa_plfa-part2-Inference-36175" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36179" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36181" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36184" href="../Inference/#plfa_plfa-part2-Inference-36184" class="Bound">¬∃</a>                 <a id="plfa_plfa-part2-Inference-36203" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36206" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36210" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36214" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36215" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36221" href="../Inference/#plfa_plfa-part2-Inference-36221" class="Bound">⊢L</a>  <a id="plfa_plfa-part2-Inference-36225" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36227" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36230" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36232" href="../Inference/#plfa_plfa-part2-Inference-36184" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36235" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36237" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36240" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36242" href="../Inference/#plfa_plfa-part2-Inference-36221" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36245" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a><a id="plfa_plfa-part2-Inference-36246" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36249" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36253" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36255" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36259" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36261" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36263" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36265" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36267" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36269" href="../Inference/#plfa_plfa-part2-Inference-36269" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36272" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>    <a id="plfa_plfa-part2-Inference-36277" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36280" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36284" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36288" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36289" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36295" href="../Inference/#plfa_plfa-part2-Inference-36295" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36299" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36301" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36304" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36306" href="../Inference/#plfa_plfa-part2-Inference-23021" class="Function">ℕ≢⇒</a> <a id="plfa_plfa-part2-Inference-36310" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36311" href="../Inference/#plfa_plfa-part2-Inference-24354" class="Function">uniq-↑</a> <a id="plfa_plfa-part2-Inference-36318" href="../Inference/#plfa_plfa-part2-Inference-36295" class="Bound">⊢L′</a> <a id="plfa_plfa-part2-Inference-36322" href="../Inference/#plfa_plfa-part2-Inference-36269" class="Bound">⊢L</a><a id="plfa_plfa-part2-Inference-36324" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36326" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36329" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36333" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36335" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36339" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36341" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-36344" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a>    <a id="plfa_plfa-part2-Inference-36349" href="../Inference/#plfa_plfa-part2-Inference-36349" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36352" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36354" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36359" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36367" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36369" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36371" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36373" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36380" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36382" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36385" href="../Inference/#plfa_plfa-part2-Inference-36385" class="Bound">¬⊢M</a>             <a id="plfa_plfa-part2-Inference-36401" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36404" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36408" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36412" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36413" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36419" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36421" href="../Inference/#plfa_plfa-part2-Inference-36421" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36424" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36427" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36429" href="../Inference/#plfa_plfa-part2-Inference-36385" class="Bound">¬⊢M</a> <a id="plfa_plfa-part2-Inference-36433" href="../Inference/#plfa_plfa-part2-Inference-36421" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36436" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36439" class="Symbol">...</a>    <a id="plfa_plfa-part2-Inference-36446" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36448" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36452" href="../Inference/#plfa_plfa-part2-Inference-36452" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36455" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36460" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36468" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36469" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36471" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36473" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36475" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36477" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-36479" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36481" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36483" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36485" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36495" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36497" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36500" href="../Inference/#plfa_plfa-part2-Inference-36500" class="Bound">¬⊢N</a>          <a id="plfa_plfa-part2-Inference-36513" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36516" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36520" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36524" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36525" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36531" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36533" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36535" href="../Inference/#plfa_plfa-part2-Inference-36535" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36537" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36539" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36541" href="../Inference/#plfa_plfa-part2-Inference-36500" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36545" href="../Inference/#plfa_plfa-part2-Inference-36535" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36548" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36551" class="Symbol">...</a>       <a id="plfa_plfa-part2-Inference-36561" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36563" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36567" href="../Inference/#plfa_plfa-part2-Inference-36567" class="Bound">⊢N</a>          <a id="plfa_plfa-part2-Inference-36579" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36582" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36586" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36587" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-36593" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-36596" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36599" href="../Inference/#plfa_plfa-part2-Inference-36567" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36601" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36603" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36611" href="../Inference/#plfa_plfa-part2-Inference-36611" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36613" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36614" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">μ</a> <a id="plfa_plfa-part2-Inference-36616" href="../Inference/#plfa_plfa-part2-Inference-36616" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36618" href="../Inference/#plfa_plfa-part2-Inference-17000" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-36620" href="../Inference/#plfa_plfa-part2-Inference-36620" class="Bound">N</a><a id="plfa_plfa-part2-Inference-36621" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36623" href="../Inference/#plfa_plfa-part2-Inference-36623" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36625" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36630" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36638" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36639" href="../Inference/#plfa_plfa-part2-Inference-36611" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36641" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36643" href="../Inference/#plfa_plfa-part2-Inference-36616" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-36645" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-36647" href="../Inference/#plfa_plfa-part2-Inference-36623" class="Bound">A</a><a id="plfa_plfa-part2-Inference-36648" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36650" href="../Inference/#plfa_plfa-part2-Inference-36620" class="Bound">N</a> <a id="plfa_plfa-part2-Inference-36652" href="../Inference/#plfa_plfa-part2-Inference-36623" class="Bound">A</a>
<a id="plfa_plfa-part2-Inference-36654" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36658" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36660" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-36663" href="../Inference/#plfa_plfa-part2-Inference-36663" class="Bound">¬⊢N</a>                <a id="plfa_plfa-part2-Inference-36682" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36685" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36689" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36693" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36694" href="../Inference/#plfa_plfa-part2-Inference-20019" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36697" href="../Inference/#plfa_plfa-part2-Inference-36697" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36699" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36701" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36703" href="../Inference/#plfa_plfa-part2-Inference-36663" class="Bound">¬⊢N</a> <a id="plfa_plfa-part2-Inference-36707" href="../Inference/#plfa_plfa-part2-Inference-36697" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-36710" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36713" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36717" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36719" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36723" href="../Inference/#plfa_plfa-part2-Inference-36723" class="Bound">⊢N</a>                <a id="plfa_plfa-part2-Inference-36741" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36744" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36748" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36749" href="../Inference/#plfa_plfa-part2-Inference-20019" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-36752" href="../Inference/#plfa_plfa-part2-Inference-36723" class="Bound">⊢N</a><a id="plfa_plfa-part2-Inference-36754" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36756" href="../Inference/#plfa_plfa-part2-Inference-31306" class="Function">inherit</a> <a id="plfa_plfa-part2-Inference-36764" href="../Inference/#plfa_plfa-part2-Inference-36764" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36766" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36767" href="../Inference/#plfa_plfa-part2-Inference-36767" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-36769" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-36770" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-36772" href="../Inference/#plfa_plfa-part2-Inference-36772" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-36774" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36779" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-36790" href="../Inference/#plfa_plfa-part2-Inference-36764" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-36792" href="../Inference/#plfa_plfa-part2-Inference-36767" class="Bound">M</a>
<a id="plfa_plfa-part2-Inference-36794" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36798" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36800" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36804" href="../Inference/#plfa_plfa-part2-Inference-36804" class="Bound">¬∃</a>                <a id="plfa_plfa-part2-Inference-36822" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36825" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36829" class="Symbol">(λ{</a> <a id="plfa_plfa-part2-Inference-36833" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36834" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36837" href="../Inference/#plfa_plfa-part2-Inference-36837" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36840" class="Symbol">_)</a> <a id="plfa_plfa-part2-Inference-36843" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-36845" href="../Inference/#plfa_plfa-part2-Inference-36804" class="Bound">¬∃</a> <a id="plfa_plfa-part2-Inference-36848" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36850" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-36852" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36854" href="../Inference/#plfa_plfa-part2-Inference-36837" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36857" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36859" class="Symbol">})</a>
<a id="plfa_plfa-part2-Inference-36862" class="Symbol">...</a> <a id="plfa_plfa-part2-Inference-36866" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36868" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36872" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-36874" href="../Inference/#plfa_plfa-part2-Inference-36874" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36876" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-36878" href="../Inference/#plfa_plfa-part2-Inference-36878" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36881" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Inference-36883" class="Keyword">with</a> <a id="plfa_plfa-part2-Inference-36888" href="../Inference/#plfa_plfa-part2-Inference-36874" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-36890" href="../Inference/#plfa_plfa-part2-Inference-22250" class="Function Operator">≟Tp</a> <a id="plfa_plfa-part2-Inference-36894" class="Bound">B</a>
<a id="plfa_plfa-part2-Inference-36896" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36902" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36904" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36908" href="../Inference/#plfa_plfa-part2-Inference-36908" class="Bound">A≢B</a>             <a id="plfa_plfa-part2-Inference-36924" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36927" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="plfa_plfa-part2-Inference-36931" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36932" href="../Inference/#plfa_plfa-part2-Inference-29452" class="Function">¬switch</a> <a id="plfa_plfa-part2-Inference-36940" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36943" href="../Inference/#plfa_plfa-part2-Inference-36908" class="Bound">A≢B</a><a id="plfa_plfa-part2-Inference-36946" class="Symbol">)</a>
<a id="plfa_plfa-part2-Inference-36948" class="Symbol">...</a>   <a id="plfa_plfa-part2-Inference-36954" class="Symbol">|</a> <a id="plfa_plfa-part2-Inference-36956" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36960" href="../Inference/#plfa_plfa-part2-Inference-36960" class="Bound">A≡B</a>             <a id="plfa_plfa-part2-Inference-36976" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-36979" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-36983" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-36984" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-36987" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-36990" href="../Inference/#plfa_plfa-part2-Inference-36960" class="Bound">A≡B</a><a id="plfa_plfa-part2-Inference-36993" class="Symbol">)</a>
</pre><p>我们在此只考虑抽象和从继承变向至生成的情况：</p><ul><li>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>`ℕ</code>，那么平凡地， <code>Γ ⊢ (ƛ x ⇒ N) ↓ `ℕ</code> 无法成立。</li></ul><ul><li><p>如果项是 <code>ƛ x ⇒ N</code>，而继承的类型是 <code>A ⇒ B</code>，我们用上下文 <code>Γ , x ⦂ A</code> 递归至 子项 <code>N</code> 继承类型 <code>B</code>：</p><ul><li>如果失败了，那么 <code>¬⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 不成立的证明。 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明一定是 <code>⊢ƛ ⊢N</code> 的形式，其中 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li>如果成功了，那么 <code>⊢N</code> 是 <code>Γ , x ⦂ A ⊢ N ↓ B</code> 成立的证明，且 <code>⊢ƛ ⊢N</code> 提供了 <code>Γ ⊢ (ƛ x ⇒ N) ↓ A ⇒ B</code> 成立的证明。</li></ul></li></ul><ul><li><p>如果项是从继承到生成的变向项 <code>M ↑</code>，我们在子项 <code>M</code> 上递归：</p><ul><li>如果失败了，那么 <code>¬∃</code> 是不存在使得 <code>Γ ⊢ M ↑ A</code> 成立的类型 <code>A</code> 的证明。 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明一定是 <code>⊢↑ ⊢M _</code> 的形式，其中 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ _</code> 成立的证明，这构成了一个矛盾。</li></ul><ul><li><p>如果成功了，那么 <code>⊢M</code> 是 <code>Γ ⊢ M ↑ A</code> 成立的证明。 我们应用 <code>_≟Tp_</code> 来判定 <code>A</code> 和 <code>B</code> 是否相等：</p><ul><li>如果失败了，那么 <code>A≢B</code> 是 <code>A ≢ B</code> 的证明。 将 <code>¬switch</code> 应用于 <code>⊢M</code> 和 <code>A≢B</code>，我们可得 <code>Γ ⊢ (M ↑) ↓ B</code> 无法成立。</li></ul><ul><li>如果成功了，那么 <code>A≡B</code> 是 <code>A ≡ B</code> 的证明， 且 <code>⊢↑ ⊢M A≡B</code> 提供了 <code>Γ ⊢ (M ↑) ↓ B</code> 成立的证明。</li></ul></li></ul></li></ul><p>剩余的情况类似，它们的代码可以由对应的赋型规则直接对应得来。</p><h2 id="测试项的例子">测试项的例子</h2><p>首先，我们复制之前介绍过的智能构造子 <code>S′</code>，使得访问上下文中的变量更加便利：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-S′"></a><a id="plfa_plfa-part2-Inference-39882" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39885" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39887" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-39889" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39890" href="../Inference/#plfa_plfa-part2-Inference-39890" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39892" href="../Inference/#plfa_plfa-part2-Inference-39892" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39894" href="../Inference/#plfa_plfa-part2-Inference-39894" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39896" href="../Inference/#plfa_plfa-part2-Inference-39896" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-39898" href="../Inference/#plfa_plfa-part2-Inference-39898" class="Bound">B</a><a id="plfa_plfa-part2-Inference-39899" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Inference-39904" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39906" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39907" href="../Inference/#plfa_plfa-part2-Inference-39907" class="Bound">x≢y</a> <a id="plfa_plfa-part2-Inference-39911" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-39913" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a> <a id="plfa_plfa-part2-Inference-39919" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-39920" href="../Inference/#plfa_plfa-part2-Inference-39892" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39922" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">≟</a> <a id="plfa_plfa-part2-Inference-39924" href="../Inference/#plfa_plfa-part2-Inference-39894" class="Bound">y</a><a id="plfa_plfa-part2-Inference-39925" class="Symbol">)}</a>
   <a id="plfa_plfa-part2-Inference-39931" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39933" href="../Inference/#plfa_plfa-part2-Inference-39890" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39935" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39937" href="../Inference/#plfa_plfa-part2-Inference-39892" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39939" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39941" href="../Inference/#plfa_plfa-part2-Inference-39896" class="Bound">A</a>
     <a id="plfa_plfa-part2-Inference-39948" class="Comment">------------------</a>
   <a id="plfa_plfa-part2-Inference-39970" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-39972" href="../Inference/#plfa_plfa-part2-Inference-39890" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-39974" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-39976" href="../Inference/#plfa_plfa-part2-Inference-39894" class="Bound">y</a> <a id="plfa_plfa-part2-Inference-39978" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39980" href="../Inference/#plfa_plfa-part2-Inference-39898" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-39982" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-39984" href="../Inference/#plfa_plfa-part2-Inference-39892" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-39986" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-39988" href="../Inference/#plfa_plfa-part2-Inference-39896" class="Bound">A</a>

<a id="plfa_plfa-part2-Inference-39991" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-39994" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-39995" class="Argument">x≢y</a> <a id="plfa_plfa-part2-Inference-39999" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40001" href="../Inference/#plfa_plfa-part2-Inference-40001" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-40004" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-40006" href="../Inference/#plfa_plfa-part2-Inference-40006" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-40008" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40010" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-40012" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40013" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="plfa_plfa-part2-Inference-40028" href="../Inference/#plfa_plfa-part2-Inference-40001" class="Bound">x≢y</a><a id="plfa_plfa-part2-Inference-40031" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40033" href="../Inference/#plfa_plfa-part2-Inference-40006" class="Bound">x</a>
</pre><p>下面是给自然数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2"></a><a id="plfa_plfa-part2-Inference-40131" href="../Inference/#plfa_plfa-part2-Inference-40131" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40136" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40138" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40140" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-40142" href="../Inference/#plfa_plfa-part2-Inference-17850" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40146" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-40148" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-40151" href="../Inference/#plfa_plfa-part2-Inference-40131" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40156" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-40160" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40161" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a>
   <a id="plfa_plfa-part2-Inference-40167" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40168" href="../Inference/#plfa_plfa-part2-Inference-20019" class="InductiveConstructor">⊢μ</a>
    <a id="plfa_plfa-part2-Inference-40175" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40176" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-40184" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40185" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-40194" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40195" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-40201" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40202" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40205" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40206" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40209" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40210" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40213" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40214" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40217" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40218" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40221" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40222" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40224" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40228" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-40237" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40238" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a>
        <a id="plfa_plfa-part2-Inference-40251" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40252" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a>
         <a id="plfa_plfa-part2-Inference-40264" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40265" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a>
          <a id="plfa_plfa-part2-Inference-40278" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40279" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a>
           <a id="plfa_plfa-part2-Inference-40293" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40294" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a>
            <a id="plfa_plfa-part2-Inference-40309" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40310" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40313" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40314" class="Symbol">)))</a>
          <a id="plfa_plfa-part2-Inference-40328" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40330" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40333" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40334" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40337" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40338" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-40340" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="plfa_plfa-part2-Inference-40355" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40357" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-40360" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40361" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-40364" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40365" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-40368" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-40369" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-40372" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40376" class="Symbol">)</a>
         <a id="plfa_plfa-part2-Inference-40387" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-40391" class="Symbol">))))))</a>
   <a id="plfa_plfa-part2-Inference-40401" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40403" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40408" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40409" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40414" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40419" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Inference-40424" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-40426" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40431" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-40432" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-40437" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a><a id="plfa_plfa-part2-Inference-40442" class="Symbol">))</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-40603" href="../Inference/#plfa_plfa-part2-Inference-40603" class="Function">_</a> <a id="plfa_plfa-part2-Inference-40605" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-40607" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-40618" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-40620" href="../Inference/#plfa_plfa-part2-Inference-17850" class="Function">2+2</a> <a id="plfa_plfa-part2-Inference-40624" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-40626" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-40630" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-40632" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-40635" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-40637" href="../Inference/#plfa_plfa-part2-Inference-40131" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-40642" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-40644" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-40646" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-40648" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>的确，上述的推导是用左边的项求值所得的，再加上一些微小的修改。 所需的修改只是使用智能构造子 <code>S′</code> 来获取两个变量名（使用字符串）不同的证明（其无法打印或阅读）。</p><p>下面是给 Church 数二加二赋型的结果：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-⊢2+2ᶜ"></a><a id="plfa_plfa-part2-Inference-41142" href="../Inference/#plfa_plfa-part2-Inference-41142" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41148" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41150" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41152" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-41154" href="../Inference/#plfa_plfa-part2-Inference-18454" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41159" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-41161" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a>
<a id="plfa_plfa-part2-Inference-41164" href="../Inference/#plfa_plfa-part2-Inference-41142" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41170" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Inference-41174" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a>
  <a id="plfa_plfa-part2-Inference-41179" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41180" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41186" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41187" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
    <a id="plfa_plfa-part2-Inference-41194" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41195" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
     <a id="plfa_plfa-part2-Inference-41203" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41204" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
      <a id="plfa_plfa-part2-Inference-41213" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41214" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a>
       <a id="plfa_plfa-part2-Inference-41224" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41225" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a>
        <a id="plfa_plfa-part2-Inference-41236" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41237" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a>
         <a id="plfa_plfa-part2-Inference-41249" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41250" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41263" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41264" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41267" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41268" class="Symbol">)))</a>
        <a id="plfa_plfa-part2-Inference-41280" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41282" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41285" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41286" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41289" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41290" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41293" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41294" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41297" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Inference-41310" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Inference-41320" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a>
        <a id="plfa_plfa-part2-Inference-41331" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41332" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a>
         <a id="plfa_plfa-part2-Inference-41344" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41345" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a>
          <a id="plfa_plfa-part2-Inference-41358" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41359" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41362" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41363" class="Symbol">))</a>
         <a id="plfa_plfa-part2-Inference-41375" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41377" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41380" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41381" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41384" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41385" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41388" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41389" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-41392" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
         <a id="plfa_plfa-part2-Inference-41406" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41408" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41411" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41412" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41415" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41416" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41418" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41422" class="Symbol">)</a>
        <a id="plfa_plfa-part2-Inference-41432" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41436" class="Symbol">)</a>
       <a id="plfa_plfa-part2-Inference-41445" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41449" class="Symbol">)))))</a>
  <a id="plfa_plfa-part2-Inference-41457" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41461" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41466" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41467" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41473" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41474" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41481" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41482" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41485" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41486" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41489" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41490" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41492" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41499" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41502" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41503" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41506" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41507" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41510" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41511" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41513" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41515" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41518" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41519" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41522" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41523" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41525" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41529" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41536" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41540" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41546" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41550" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41555" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a>
  <a id="plfa_plfa-part2-Inference-41559" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
  <a id="plfa_plfa-part2-Inference-41564" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41565" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a>
   <a id="plfa_plfa-part2-Inference-41571" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41572" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a>
    <a id="plfa_plfa-part2-Inference-41579" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41580" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41583" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41584" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41587" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41588" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41590" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Inference-41597" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41600" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41601" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41604" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41605" href="../Inference/#plfa_plfa-part2-Inference-39882" class="Function">S′</a> <a id="plfa_plfa-part2-Inference-41608" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41609" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41611" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41613" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41616" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41617" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41620" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41621" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41623" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41627" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Inference-41634" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41638" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Inference-41644" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41648" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41653" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41655" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-41658" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41659" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-41664" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41665" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-41668" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-41669" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-41672" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Inference-41673" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-41675" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Inference-41679" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Inference-41684" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-41686" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a>
</pre><p>我们可以确认，对相应的项生成类型返回了自然数类型，和上述的推导：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-41850" href="../Inference/#plfa_plfa-part2-Inference-41850" class="Function">_</a> <a id="plfa_plfa-part2-Inference-41852" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-41854" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-41865" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-41867" href="../Inference/#plfa_plfa-part2-Inference-18454" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41872" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-41874" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="plfa_plfa-part2-Inference-41878" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Inference-41880" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-41883" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-41885" href="../Inference/#plfa_plfa-part2-Inference-41142" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-41891" href="../Inference/#plfa_plfa-part2-Inference-14872" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Inference-41893" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-41895" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-41897" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>同样，上面的推导使用对左手边的项求值所得，加上一些修改。</p><h2 id="测试错误的例子">测试错误的例子</h2><p>很重要的是，不仅要检查代码是否按照意图工作，以及代码是否按照意图不工作。 下面是检查不同种类错误的例子：</p><p>未约束的变量：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42339" href="../Inference/#plfa_plfa-part2-Inference-42339" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42341" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42343" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42354" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42356" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42358" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-42360" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-42364" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42366" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-42368" class="String">&quot;y&quot;</a> <a id="plfa_plfa-part2-Inference-42372" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-42373" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42375" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42377" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42378" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-42381" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-42383" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42385" class="Symbol">))</a> <a id="plfa_plfa-part2-Inference-42388" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42390" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42393" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42395" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42397" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42399" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的参数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42481" href="../Inference/#plfa_plfa-part2-Inference-42481" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42483" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42485" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42496" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42498" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42499" href="../Inference/#plfa_plfa-part2-Inference-17659" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42504" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42506" href="../Inference/#plfa_plfa-part2-Inference-18410" class="Function">sucᶜ</a><a id="plfa_plfa-part2-Inference-42510" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42512" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42514" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42517" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42519" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42521" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42523" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数不是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42605" href="../Inference/#plfa_plfa-part2-Inference-42605" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42607" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42609" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42620" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42622" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42623" href="../Inference/#plfa_plfa-part2-Inference-17659" class="Function">plus</a> <a id="plfa_plfa-part2-Inference-42628" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42630" href="../Inference/#plfa_plfa-part2-Inference-18410" class="Function">sucᶜ</a> <a id="plfa_plfa-part2-Inference-42635" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42637" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a><a id="plfa_plfa-part2-Inference-42640" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42642" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42644" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42647" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42649" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42651" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42653" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>函数应用的函数是自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42739" href="../Inference/#plfa_plfa-part2-Inference-42739" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42741" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42743" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42754" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42756" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-42758" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a> <a id="plfa_plfa-part2-Inference-42762" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42764" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42766" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42768" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-42770" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a><a id="plfa_plfa-part2-Inference-42773" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42775" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42777" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42780" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42782" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42784" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42786" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>抽象继承了自然数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42862" href="../Inference/#plfa_plfa-part2-Inference-42862" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42864" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42866" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42877" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42879" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42880" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-42885" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42887" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-42889" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-42891" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-42893" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-42896" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-42898" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-42900" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-42902" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>零继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-42972" href="../Inference/#plfa_plfa-part2-Inference-42972" class="Function">_</a> <a id="plfa_plfa-part2-Inference-42974" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-42976" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-42987" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-42989" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-42990" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-42996" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-42998" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43001" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43003" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43005" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43007" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43009" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43012" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43014" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43016" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43018" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>后继继承了函数类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43094" href="../Inference/#plfa_plfa-part2-Inference-43094" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43096" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43098" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43109" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43111" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43112" href="../Inference/#plfa_plfa-part2-Inference-17622" class="Function">two</a> <a id="plfa_plfa-part2-Inference-43116" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43118" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43121" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43123" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43125" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43127" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43129" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43132" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43134" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43136" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43138" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>非良类型项的后继：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43209" href="../Inference/#plfa_plfa-part2-Inference-43209" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43211" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43213" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43224" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43226" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43227" href="../Inference/#plfa_plfa-part2-Inference-16893" class="InductiveConstructor Operator">`suc</a> <a id="plfa_plfa-part2-Inference-43232" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43237" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43239" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43241" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43243" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43245" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43248" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43250" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43252" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43254" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对函数类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43334" href="../Inference/#plfa_plfa-part2-Inference-43334" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43336" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43338" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43349" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43357" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43359" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43365" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43366" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43371" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43373" href="../Inference/#plfa_plfa-part2-Inference-18149" class="Function">Ch</a><a id="plfa_plfa-part2-Inference-43375" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43377" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43384" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43390" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43395" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43399" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43401" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43403" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43407" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43409" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43411" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43413" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43415" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43417" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43419" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43421" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43424" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43426" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43428" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43430" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>对不良类型的项分情况讨论：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43500" href="../Inference/#plfa_plfa-part2-Inference-43500" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43502" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43504" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43515" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a>
      <a id="plfa_plfa-part2-Inference-43523" class="Symbol">((</a><a id="plfa_plfa-part2-Inference-43525" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">`case</a> <a id="plfa_plfa-part2-Inference-43531" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43532" href="../Inference/#plfa_plfa-part2-Inference-18185" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Inference-43537" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43539" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43541" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43543" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">[zero⇒</a> <a id="plfa_plfa-part2-Inference-43550" href="../Inference/#plfa_plfa-part2-Inference-16858" class="InductiveConstructor">`zero</a> <a id="plfa_plfa-part2-Inference-43556" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">|suc</a> <a id="plfa_plfa-part2-Inference-43561" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43565" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43567" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43569" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43573" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a> <a id="plfa_plfa-part2-Inference-43575" href="../Inference/#plfa_plfa-part2-Inference-16936" class="InductiveConstructor Operator">]</a> <a id="plfa_plfa-part2-Inference-43577" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43579" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43581" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43583" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43585" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43587" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43590" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43592" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43594" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43596" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>变向时继承与生成的项不一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-43694" href="../Inference/#plfa_plfa-part2-Inference-43694" class="Function">_</a> <a id="plfa_plfa-part2-Inference-43696" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-43698" href="../Inference/#plfa_plfa-part2-Inference-31186" class="Function">synthesize</a> <a id="plfa_plfa-part2-Inference-43709" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-43711" class="Symbol">(((</a><a id="plfa_plfa-part2-Inference-43714" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Inference-43716" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43720" href="../Inference/#plfa_plfa-part2-Inference-16810" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43722" href="../Inference/#plfa_plfa-part2-Inference-16651" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Inference-43724" class="String">&quot;x&quot;</a> <a id="plfa_plfa-part2-Inference-43728" href="../Inference/#plfa_plfa-part2-Inference-17048" class="InductiveConstructor Operator">↑</a><a id="plfa_plfa-part2-Inference-43729" class="Symbol">)</a> <a id="plfa_plfa-part2-Inference-43731" href="../Inference/#plfa_plfa-part2-Inference-16742" class="InductiveConstructor Operator">↓</a> <a id="plfa_plfa-part2-Inference-43733" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43736" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43738" class="Symbol">(</a><a id="plfa_plfa-part2-Inference-43739" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-43742" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-43744" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a><a id="plfa_plfa-part2-Inference-43746" class="Symbol">)))</a> <a id="plfa_plfa-part2-Inference-43750" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-43752" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="plfa_plfa-part2-Inference-43755" class="Symbol">_</a>
<a id="plfa_plfa-part2-Inference-43757" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-43759" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-43761" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="擦除">擦除</h2><p>从装饰过的项拥有正确的类型的证明中，我们可以简单地提取出对应的内在类型的项。 我们使用 <code>DB</code> 来指代 <a href="../DeBruijn/">DeBruijn</a> 章节中的代码。 我们可以简单地定义一个<strong>擦除</strong>（Erasure）从外在的赋型判断，至对应的内在类型的项的函数。</p><p>首先，我们给出擦除类型的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Tp"></a><a id="plfa_plfa-part2-Inference-44352" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥_∥Tp</a> <a id="plfa_plfa-part2-Inference-44358" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44360" href="../Inference/#plfa_plfa-part2-Inference-16145" class="Datatype">Type</a> <a id="plfa_plfa-part2-Inference-44365" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44367" href="../More/#plfa_plfa-part2-More-21298" class="Datatype">DB.Type</a>
<a id="plfa_plfa-part2-Inference-44375" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44377" href="../Inference/#plfa_plfa-part2-Inference-16164" class="InductiveConstructor">`ℕ</a> <a id="plfa_plfa-part2-Inference-44380" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>             <a id="plfa_plfa-part2-Inference-44396" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44399" href="../More/#plfa_plfa-part2-More-21317" class="InductiveConstructor">DB.`ℕ</a>
<a id="plfa_plfa-part2-Inference-44405" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44407" href="../Inference/#plfa_plfa-part2-Inference-44407" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44409" href="../Inference/#plfa_plfa-part2-Inference-16179" class="InductiveConstructor Operator">⇒</a> <a id="plfa_plfa-part2-Inference-44411" href="../Inference/#plfa_plfa-part2-Inference-44411" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44413" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>          <a id="plfa_plfa-part2-Inference-44426" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44429" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44431" href="../Inference/#plfa_plfa-part2-Inference-44407" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44433" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a> <a id="plfa_plfa-part2-Inference-44437" href="../More/#plfa_plfa-part2-More-21332" class="InductiveConstructor Operator">DB.⇒</a> <a id="plfa_plfa-part2-Inference-44442" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44444" href="../Inference/#plfa_plfa-part2-Inference-44411" class="Bound">B</a> <a id="plfa_plfa-part2-Inference-44446" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>
</pre><p>它简单地把对应的构造子重命名至 <code>DB</code> 模块中。</p><p>接下来，我们给出擦除上下文的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥Cx"></a><a id="plfa_plfa-part2-Inference-44640" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥_∥Cx</a> <a id="plfa_plfa-part2-Inference-44646" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44648" href="../Inference/#plfa_plfa-part2-Inference-16212" class="Datatype">Context</a> <a id="plfa_plfa-part2-Inference-44656" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44658" href="../More/#plfa_plfa-part2-More-21453" class="Datatype">DB.Context</a>
<a id="plfa_plfa-part2-Inference-44669" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44671" href="../Inference/#plfa_plfa-part2-Inference-16234" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Inference-44673" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a>              <a id="plfa_plfa-part2-Inference-44690" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44693" href="../More/#plfa_plfa-part2-More-21475" class="InductiveConstructor">DB.∅</a>
<a id="plfa_plfa-part2-Inference-44698" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44700" href="../Inference/#plfa_plfa-part2-Inference-44700" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44702" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Inference-44704" href="../Inference/#plfa_plfa-part2-Inference-44704" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44706" href="../Inference/#plfa_plfa-part2-Inference-16252" class="InductiveConstructor Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44708" href="../Inference/#plfa_plfa-part2-Inference-44708" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44710" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a>      <a id="plfa_plfa-part2-Inference-44719" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44722" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44724" href="../Inference/#plfa_plfa-part2-Inference-44700" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44726" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44730" href="../More/#plfa_plfa-part2-More-21491" class="InductiveConstructor Operator">DB.,</a> <a id="plfa_plfa-part2-Inference-44735" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44737" href="../Inference/#plfa_plfa-part2-Inference-44708" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44739" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>
</pre><p>它简单地丢弃了变量名。</p><p>接下来，我们给出擦除查询判断的代码：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥∋"></a><a id="plfa_plfa-part2-Inference-44896" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥_∥∋</a> <a id="plfa_plfa-part2-Inference-44901" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-44903" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-44905" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-44906" href="../Inference/#plfa_plfa-part2-Inference-44906" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44908" href="../Inference/#plfa_plfa-part2-Inference-44908" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44910" href="../Inference/#plfa_plfa-part2-Inference-44910" class="Bound">A</a><a id="plfa_plfa-part2-Inference-44911" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-44913" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44915" href="../Inference/#plfa_plfa-part2-Inference-44906" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44917" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Inference-44919" href="../Inference/#plfa_plfa-part2-Inference-44908" class="Bound">x</a> <a id="plfa_plfa-part2-Inference-44921" href="../Inference/#plfa_plfa-part2-Inference-18897" class="Datatype Operator">⦂</a> <a id="plfa_plfa-part2-Inference-44923" href="../Inference/#plfa_plfa-part2-Inference-44910" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44925" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-44927" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44929" href="../Inference/#plfa_plfa-part2-Inference-44906" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-44931" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-44935" href="../More/#plfa_plfa-part2-More-21601" class="Datatype Operator">DB.∋</a> <a id="plfa_plfa-part2-Inference-44940" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44942" href="../Inference/#plfa_plfa-part2-Inference-44910" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-44944" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-44948" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44950" href="../Inference/#plfa_plfa-part2-Inference-18940" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Inference-44952" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥∋</a>               <a id="plfa_plfa-part2-Inference-44969" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-44972" href="../More/#plfa_plfa-part2-More-21637" class="InductiveConstructor">DB.Z</a>
<a id="plfa_plfa-part2-Inference-44977" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-44979" href="../Inference/#plfa_plfa-part2-Inference-19005" class="InductiveConstructor">S</a> <a id="plfa_plfa-part2-Inference-44981" href="../Inference/#plfa_plfa-part2-Inference-44981" class="Bound">x≢</a> <a id="plfa_plfa-part2-Inference-44984" href="../Inference/#plfa_plfa-part2-Inference-44984" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-44987" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥∋</a>         <a id="plfa_plfa-part2-Inference-44998" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45001" href="../More/#plfa_plfa-part2-More-21684" class="InductiveConstructor Operator">DB.S</a> <a id="plfa_plfa-part2-Inference-45006" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45008" href="../Inference/#plfa_plfa-part2-Inference-44984" class="Bound">∋x</a> <a id="plfa_plfa-part2-Inference-45011" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥∋</a>
</pre><p>它简单地丢弃了变量名不同的证明。</p><p>最后，我们给出擦除赋型判断的代码。 正如由两个共同递归的赋型判断，我们有两个共同递归的擦除函数：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-∥_∥⁺"></a><a id="plfa_plfa-part2-Inference-45343" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥_∥⁺</a> <a id="plfa_plfa-part2-Inference-45348" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45350" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45352" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45353" href="../Inference/#plfa_plfa-part2-Inference-45353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45355" href="../Inference/#plfa_plfa-part2-Inference-45355" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45357" href="../Inference/#plfa_plfa-part2-Inference-45357" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45358" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45360" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45362" href="../Inference/#plfa_plfa-part2-Inference-45353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45364" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45366" href="../Inference/#plfa_plfa-part2-Inference-45355" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45368" href="../Inference/#plfa_plfa-part2-Inference-19245" class="Datatype Operator">↑</a> <a id="plfa_plfa-part2-Inference-45370" href="../Inference/#plfa_plfa-part2-Inference-45357" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45372" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45374" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45376" href="../Inference/#plfa_plfa-part2-Inference-45353" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45378" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45382" href="../More/#plfa_plfa-part2-More-22743" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45387" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45389" href="../Inference/#plfa_plfa-part2-Inference-45357" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45391" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>
<a id="plfa_plfa-part2-Inference-∥_∥⁻"></a><a id="plfa_plfa-part2-Inference-45395" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥_∥⁻</a> <a id="plfa_plfa-part2-Inference-45400" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-45402" class="Symbol">∀</a> <a id="plfa_plfa-part2-Inference-45404" class="Symbol">{</a><a id="plfa_plfa-part2-Inference-45405" href="../Inference/#plfa_plfa-part2-Inference-45405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45407" href="../Inference/#plfa_plfa-part2-Inference-45407" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45409" href="../Inference/#plfa_plfa-part2-Inference-45409" class="Bound">A</a><a id="plfa_plfa-part2-Inference-45410" class="Symbol">}</a> <a id="plfa_plfa-part2-Inference-45412" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45414" href="../Inference/#plfa_plfa-part2-Inference-45405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45416" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Inference-45418" href="../Inference/#plfa_plfa-part2-Inference-45407" class="Bound">M</a> <a id="plfa_plfa-part2-Inference-45420" href="../Inference/#plfa_plfa-part2-Inference-19287" class="Datatype Operator">↓</a> <a id="plfa_plfa-part2-Inference-45422" href="../Inference/#plfa_plfa-part2-Inference-45409" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45424" class="Symbol">→</a> <a id="plfa_plfa-part2-Inference-45426" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45428" href="../Inference/#plfa_plfa-part2-Inference-45405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Inference-45430" href="../Inference/#plfa_plfa-part2-Inference-44640" class="Function Operator">∥Cx</a> <a id="plfa_plfa-part2-Inference-45434" href="../More/#plfa_plfa-part2-More-22743" class="Datatype Operator">DB.⊢</a> <a id="plfa_plfa-part2-Inference-45439" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45441" href="../Inference/#plfa_plfa-part2-Inference-45409" class="Bound">A</a> <a id="plfa_plfa-part2-Inference-45443" href="../Inference/#plfa_plfa-part2-Inference-44352" class="Function Operator">∥Tp</a>

<a id="plfa_plfa-part2-Inference-45448" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45450" href="../Inference/#plfa_plfa-part2-Inference-19345" class="InductiveConstructor">⊢`</a> <a id="plfa_plfa-part2-Inference-45453" href="../Inference/#plfa_plfa-part2-Inference-45453" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45456" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45469" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45472" href="../More/#plfa_plfa-part2-More-22788" class="InductiveConstructor Operator">DB.`</a> <a id="plfa_plfa-part2-Inference-45477" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45479" href="../Inference/#plfa_plfa-part2-Inference-45453" class="Bound">⊢x</a> <a id="plfa_plfa-part2-Inference-45482" href="../Inference/#plfa_plfa-part2-Inference-44896" class="Function Operator">∥∋</a>
<a id="plfa_plfa-part2-Inference-45485" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45487" href="../Inference/#plfa_plfa-part2-Inference-45487" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45490" href="../Inference/#plfa_plfa-part2-Inference-19415" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Inference-45492" href="../Inference/#plfa_plfa-part2-Inference-45492" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45495" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a>         <a id="plfa_plfa-part2-Inference-45506" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45509" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45511" href="../Inference/#plfa_plfa-part2-Inference-45487" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45514" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45517" href="../More/#plfa_plfa-part2-More-22917" class="InductiveConstructor Operator">DB.·</a> <a id="plfa_plfa-part2-Inference-45522" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45524" href="../Inference/#plfa_plfa-part2-Inference-45492" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45527" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45530" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45532" href="../Inference/#plfa_plfa-part2-Inference-19514" class="InductiveConstructor">⊢↓</a> <a id="plfa_plfa-part2-Inference-45535" href="../Inference/#plfa_plfa-part2-Inference-45535" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45538" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a>           <a id="plfa_plfa-part2-Inference-45551" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45554" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45556" href="../Inference/#plfa_plfa-part2-Inference-45535" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45559" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>

<a id="plfa_plfa-part2-Inference-45563" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45565" href="../Inference/#plfa_plfa-part2-Inference-19610" class="InductiveConstructor">⊢ƛ</a> <a id="plfa_plfa-part2-Inference-45568" href="../Inference/#plfa_plfa-part2-Inference-45568" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45571" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45584" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45587" href="../More/#plfa_plfa-part2-More-22849" class="InductiveConstructor Operator">DB.ƛ</a> <a id="plfa_plfa-part2-Inference-45592" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45594" href="../Inference/#plfa_plfa-part2-Inference-45568" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45597" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45600" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45602" href="../Inference/#plfa_plfa-part2-Inference-19708" class="InductiveConstructor">⊢zero</a> <a id="plfa_plfa-part2-Inference-45608" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45621" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45624" href="../More/#plfa_plfa-part2-More-23002" class="InductiveConstructor">DB.`zero</a>
<a id="plfa_plfa-part2-Inference-45633" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45635" href="../Inference/#plfa_plfa-part2-Inference-19767" class="InductiveConstructor">⊢suc</a> <a id="plfa_plfa-part2-Inference-45640" href="../Inference/#plfa_plfa-part2-Inference-45640" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45643" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>         <a id="plfa_plfa-part2-Inference-45654" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45657" href="../More/#plfa_plfa-part2-More-23045" class="InductiveConstructor Operator">DB.`suc</a> <a id="plfa_plfa-part2-Inference-45665" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45667" href="../Inference/#plfa_plfa-part2-Inference-45640" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45670" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45673" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45675" href="../Inference/#plfa_plfa-part2-Inference-19846" class="InductiveConstructor">⊢case</a> <a id="plfa_plfa-part2-Inference-45681" href="../Inference/#plfa_plfa-part2-Inference-45681" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45684" href="../Inference/#plfa_plfa-part2-Inference-45684" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45687" href="../Inference/#plfa_plfa-part2-Inference-45687" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45690" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>  <a id="plfa_plfa-part2-Inference-45694" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45697" href="../More/#plfa_plfa-part2-More-23101" class="InductiveConstructor">DB.case</a> <a id="plfa_plfa-part2-Inference-45705" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45707" href="../Inference/#plfa_plfa-part2-Inference-45681" class="Bound">⊢L</a> <a id="plfa_plfa-part2-Inference-45710" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-45713" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45715" href="../Inference/#plfa_plfa-part2-Inference-45684" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45718" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a> <a id="plfa_plfa-part2-Inference-45721" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45723" href="../Inference/#plfa_plfa-part2-Inference-45687" class="Bound">⊢N</a> <a id="plfa_plfa-part2-Inference-45726" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45729" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45731" href="../Inference/#plfa_plfa-part2-Inference-20019" class="InductiveConstructor">⊢μ</a> <a id="plfa_plfa-part2-Inference-45734" href="../Inference/#plfa_plfa-part2-Inference-45734" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45737" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>           <a id="plfa_plfa-part2-Inference-45750" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45753" href="../More/#plfa_plfa-part2-More-23195" class="InductiveConstructor Operator">DB.μ</a> <a id="plfa_plfa-part2-Inference-45758" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45760" href="../Inference/#plfa_plfa-part2-Inference-45734" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45763" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>
<a id="plfa_plfa-part2-Inference-45766" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45768" href="../Inference/#plfa_plfa-part2-Inference-20109" class="InductiveConstructor">⊢↑</a> <a id="plfa_plfa-part2-Inference-45771" href="../Inference/#plfa_plfa-part2-Inference-45771" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45774" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Inference-45779" href="../Inference/#plfa_plfa-part2-Inference-45395" class="Function Operator">∥⁻</a>      <a id="plfa_plfa-part2-Inference-45787" class="Symbol">=</a>  <a id="plfa_plfa-part2-Inference-45790" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-45792" href="../Inference/#plfa_plfa-part2-Inference-45771" class="Bound">⊢M</a> <a id="plfa_plfa-part2-Inference-45795" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a>
</pre><p>擦除将每个赋型判断中的构造子替换成 <code>DB</code> 中对应的项构造子。 对应变向的构造子被丢弃。</p><p>我们证实本章中的赋型判断擦除后，与之前使用内在类型项章节中的那些一致：</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-46267" href="../Inference/#plfa_plfa-part2-Inference-46267" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46269" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46271" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46273" href="../Inference/#plfa_plfa-part2-Inference-40131" class="Function">⊢2+2</a> <a id="plfa_plfa-part2-Inference-46278" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46281" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46283" href="../More/#plfa_plfa-part2-More-40229" class="Function">DB.2+2</a>
<a id="plfa_plfa-part2-Inference-46290" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46292" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46294" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="plfa_plfa-part2-Inference-46300" href="../Inference/#plfa_plfa-part2-Inference-46300" class="Function">_</a> <a id="plfa_plfa-part2-Inference-46302" class="Symbol">:</a> <a id="plfa_plfa-part2-Inference-46304" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥</a> <a id="plfa_plfa-part2-Inference-46306" href="../Inference/#plfa_plfa-part2-Inference-41142" class="Function">⊢2+2ᶜ</a> <a id="plfa_plfa-part2-Inference-46312" href="../Inference/#plfa_plfa-part2-Inference-45343" class="Function Operator">∥⁺</a> <a id="plfa_plfa-part2-Inference-46315" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Inference-46317" href="../More/#plfa_plfa-part2-More-40513" class="Function">DB.2+2ᶜ</a>
<a id="plfa_plfa-part2-Inference-46325" class="Symbol">_</a> <a id="plfa_plfa-part2-Inference-46327" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-46329" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>因此，我们证实了双向类型推理把装饰后的 <a href="../Lambda/">Lambda</a> 章节的 λ 项转换至 <a href="../DeBruijn">DeBruijn</a> 章节中内在类型的项。</p><h4 id="练习-inference-multiplication-推荐">练习 <code>inference-multiplication</code> （推荐）</h4><p>对你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的乘法项应用双向推理， 并证明推理得到的赋型可以擦除至 <a href="../DeBruijn/">DeBruijn</a> 章节中你的定义。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47138" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-products-推荐">练习 <code>inference-products</code> （推荐）</h4><p>使用你在 <a href="../Inference/#bidirectional-mul"><code>bidirectional-mul</code></a> 练习中的赋型规则， 将双向推理扩充至包括积。此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47528" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-inference-rest-延伸">练习 <code>inference-rest</code> （延伸）</h4><p>使用你从练习 <a href="../Inference/#bidirectional-rest"><code>bidirectional-rest</code></a> 中得到的规则，扩充双向推导规则，来包括 <a href="../More/">More</a> 章节的剩余构造。 此外扩充对应的擦除。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-47970" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="agda-中的双向推理">Agda 中的双向推理</h2><p>Agda 本身也使用双向推理。 这解释了为什么构造子可以被重载，而其他定义的名称不可以——此处的<strong>重载</strong>指的是我们可以给不同类型的构造子使用相同的名称。 构造子是由继承来赋型，而变量由生成来赋型，因此每个变量必须有唯一的类型。</p><p>Agda 中多数的顶层声明时函数，其由继承来赋型，也就是为什么 Agda 会对这些定义要求类型声明。 一个由生成赋型的右手边的定义，比如说函数应用，则不需要类型声明。</p><pre class="Agda"><a id="plfa_plfa-part2-Inference-answer"></a><a id="plfa_plfa-part2-Inference-48980" href="../Inference/#plfa_plfa-part2-Inference-48980" class="Function">answer</a> <a id="plfa_plfa-part2-Inference-48987" class="Symbol">=</a> <a id="plfa_plfa-part2-Inference-48989" class="Number">6</a> <a id="plfa_plfa-part2-Inference-48991" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="plfa_plfa-part2-Inference-48993" class="Number">7</a>
</pre><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>↓  U+2193:  DOWNWARDS ARROW (\d)
↑  U+2191:  UPWARDS ARROW (\u)
∥  U+2225:  PARALLEL TO (\||)</code></pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Bisimulation/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Inference.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Untyped/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：Fangyi Zhou</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>