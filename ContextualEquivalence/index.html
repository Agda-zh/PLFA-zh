<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – ContextualEquivalence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">ContextualEquivalence: 指称相等蕴含语境等价</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-129" class="Keyword">module</a> <a id="plfa_plfa-part3-ContextualEquivalence-136" href="../ContextualEquivalence/#" class="Module">plfa.part3.ContextualEquivalence</a> <a id="plfa_plfa-part3-ContextualEquivalence-169" class="Keyword">where</a>
</pre><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-216" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-221" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-228" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-ContextualEquivalence-241" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-247" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-248" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-ContextualEquivalence-251" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-253" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-ContextualEquivalence-254" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-256" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-264" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-266" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-ContextualEquivalence-267" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-269" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-277" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-279" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-ContextualEquivalence-284" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-286" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-ContextualEquivalence-291" class="Symbol">)</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-298" class="Keyword">renaming</a> <a id="plfa_plfa-part3-ContextualEquivalence-307" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-308" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-ContextualEquivalence-312" class="Symbol">to</a> <a id="plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-ContextualEquivalence-320" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-322" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-327" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-334" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part3-ContextualEquivalence-353" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-359" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-360" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-ContextualEquivalence-363" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-365" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-366" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-368" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-369" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-371" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-ContextualEquivalence-374" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-376" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-ContextualEquivalence-378" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-380" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part3-ContextualEquivalence-384" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-386" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-391" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-398" href="../BigStep/#" class="Module">plfa.part2.BigStep</a> <a id="plfa_plfa-part3-ContextualEquivalence-417" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-423" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-424" href="../BigStep/#plfa_plfa-part2-BigStep-3809" class="Datatype Operator">_⊢_⇓_</a><a id="plfa_plfa-part3-ContextualEquivalence-429" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-431" href="../BigStep/#plfa_plfa-part2-BigStep-16222" class="Function">cbn→reduce</a><a id="plfa_plfa-part3-ContextualEquivalence-441" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-443" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-448" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-455" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-ContextualEquivalence-479" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-485" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-486" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a><a id="plfa_plfa-part3-ContextualEquivalence-487" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-489" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">_≃_</a><a id="plfa_plfa-part3-ContextualEquivalence-492" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-494" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a><a id="plfa_plfa-part3-ContextualEquivalence-499" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-501" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a><a id="plfa_plfa-part3-ContextualEquivalence-508" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-510" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">_iff_</a><a id="plfa_plfa-part3-ContextualEquivalence-515" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-517" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-522" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-529" href="../Compositional/#" class="Module">plfa.part3.Compositional</a> <a id="plfa_plfa-part3-ContextualEquivalence-554" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-560" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-561" href="../Compositional/#plfa_plfa-part3-Compositional-17934" class="Datatype">Ctx</a><a id="plfa_plfa-part3-ContextualEquivalence-564" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-566" href="../Compositional/#plfa_plfa-part3-Compositional-19363" class="Function">plug</a><a id="plfa_plfa-part3-ContextualEquivalence-570" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-572" href="../Compositional/#plfa_plfa-part3-Compositional-19861" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-588" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-590" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-595" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-602" href="../Soundness/#" class="Module">plfa.part3.Soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-623" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-629" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-630" href="../Soundness/#plfa_plfa-part3-Soundness-30819" class="Function">soundness</a><a id="plfa_plfa-part3-ContextualEquivalence-639" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-641" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-646" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-653" href="../Adequacy/#" class="Module">plfa.part3.Adequacy</a> <a id="plfa_plfa-part3-ContextualEquivalence-673" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-679" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-680" href="../Adequacy/#plfa_plfa-part3-Adequacy-27490" class="Function">↓→⇓</a><a id="plfa_plfa-part3-ContextualEquivalence-683" class="Symbol">)</a>
</pre><h2 id="语境等价">语境等价</h2><p><strong>语境等价（Contextual Equivalence）</strong>对编程语言来说是一种很重要的概念， 因为它是在保持程序整体行为的同时更改程序子项的充分条件。若两个项 <code>M</code> 和 <code>N</code> 分别插入到任意语境 <code>C</code> 中所产生的结果等价，则二者语境等价。 正如指称语义一章中所讨论过的，λ-演算中程序所产生的结果要么停机要么发散。 我们用下面的归约语义来刻画停机：</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-1448" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1459" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1461" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1463" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1463" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1464" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1466" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1468" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1469" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1469" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1471" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1473" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1463" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1475" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1477" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1478" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1480" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1482" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1486" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1497" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1498" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1498" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1499" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1501" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1501" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1503" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1505" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-ContextualEquivalence-1508" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1508" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1510" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-ContextualEquivalence-1512" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1513" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1498" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1515" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-1517" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-ContextualEquivalence-1519" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1521" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1522" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1524" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-ContextualEquivalence-1526" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1527" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1501" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1529" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part3-ContextualEquivalence-1532" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1534" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1508" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1535" class="Symbol">)</a>
</pre><p>因此将语境等价的两个项插入到相同的语境中，产生的两个程序要么都停机， 要么都发散。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-_≅_"></a><a id="plfa_plfa-part3-ContextualEquivalence-1748" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1748" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1752" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1754" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1756" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1756" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1757" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1759" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1761" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1762" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1762" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1764" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1764" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1766" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1768" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1756" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1770" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1772" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1773" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1775" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1777" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1781" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1782" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1748" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1786" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1787" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1787" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1788" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1790" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1790" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1792" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1792" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1793" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1795" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1797" class="Symbol">∀</a> <a id="plfa_plfa-part3-ContextualEquivalence-1799" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1800" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1800" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1802" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1804" href="../Compositional/#plfa_plfa-part3-Compositional-17934" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-1808" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1787" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1810" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-1811" class="Symbol">}</a>
                <a id="plfa_plfa-part3-ContextualEquivalence-1829" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1831" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1832" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1843" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1844" href="../Compositional/#plfa_plfa-part3-Compositional-19363" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1849" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1800" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1851" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1790" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-1852" class="Symbol">))</a> <a id="plfa_plfa-part3-ContextualEquivalence-1855" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">iff</a> <a id="plfa_plfa-part3-ContextualEquivalence-1859" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1860" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1871" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1872" href="../Compositional/#plfa_plfa-part3-Compositional-19363" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1877" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1800" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1879" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1792" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1880" class="Symbol">))</a>
</pre><p>由于语境 <code>C</code> 是全称量化的，因此两个项是否语境等价很难直接基于上述定义来证明。 发展指称语义的主要动机之一就是找到一种方式，只需要对两个项进行论证就能证明二者语境等价。</p><h2 id="指称等价蕴含语境等价">指称等价蕴含语境等价</h2><p>值得庆幸的是，「指称等价蕴含语境等价」的证明是我们已经证明的结果的一个简单推论。 除此之外，「当且仅当」的两个方向是对称的，因此我们可以证明一个引理， 然后在主定理中应用它两次。</p><p>该引理陈述了，若 <code>M</code> 和 <code>N</code> 指称等价，并且若将 <code>M</code> 插入到 <code>C</code> 中可停机，则将 <code>N</code> 插入到 <code>C</code> 中也停机。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-3025" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3025" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3048" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3050" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-3052" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3052" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3053" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3055" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3056" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3056" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3058" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3058" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-3060" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3062" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3052" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3064" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-3066" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-3067" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3069" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3070" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3070" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3072" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3074" href="../Compositional/#plfa_plfa-part3-Compositional-17934" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-3078" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3052" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3080" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-3081" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3085" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3087" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3089" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3056" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3091" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-3093" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3095" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3058" class="Bound">N</a>  <a id="plfa_plfa-part3-ContextualEquivalence-3098" class="Symbol">→</a>  <a id="plfa_plfa-part3-ContextualEquivalence-3101" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3112" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3113" href="../Compositional/#plfa_plfa-part3-Compositional-19363" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-3118" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3070" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3120" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3056" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-3121" class="Symbol">)</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-3127" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3165" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3167" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1448" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3178" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3179" href="../Compositional/#plfa_plfa-part3-Compositional-19363" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-3184" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3070" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3186" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3058" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-3187" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-3189" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3025" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3212" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3213" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3213" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3214" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3216" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3216" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-3217" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3219" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3219" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-3220" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3222" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3222" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-3223" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3225" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3225" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3231" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-3233" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3233" class="Bound">N′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3236" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-3238" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3238" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3246" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-ContextualEquivalence-3248" class="Symbol">=</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3252" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3256" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3256" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3265" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3267" href="../Soundness/#plfa_plfa-part3-Soundness-30819" class="Function">soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-3277" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3238" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3285" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3290" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3294" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3294" class="Bound">ℰCM≃ℰCN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3302" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3304" href="../Compositional/#plfa_plfa-part3-Compositional-19861" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-3320" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3321" class="Argument">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3323" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3325" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3213" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3326" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3328" class="Argument">Δ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3330" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3332" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-3333" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3335" class="Argument">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3337" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3339" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3222" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-3340" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3342" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3225" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3348" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3353" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3357" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3357" class="Bound">ℰCN≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3366" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3368" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a> <a id="plfa_plfa-part3-ContextualEquivalence-3376" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3377" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-3383" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3294" class="Bound">ℰCM≃ℰCN</a><a id="plfa_plfa-part3-ContextualEquivalence-3390" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-3392" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3256" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3401" class="Keyword">in</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-3408" href="../BigStep/#plfa_plfa-part2-BigStep-16222" class="Function">cbn→reduce</a> <a id="plfa_plfa-part3-ContextualEquivalence-3419" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3420" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3426" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3427" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3433" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3434" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3440" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3441" href="../Adequacy/#plfa_plfa-part3-Adequacy-27490" class="Function">↓→⇓</a> <a id="plfa_plfa-part3-ContextualEquivalence-3445" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3357" class="Bound">ℰCN≃ℰƛN′</a><a id="plfa_plfa-part3-ContextualEquivalence-3453" class="Symbol">))))</a>
</pre><p>证明过程很直白，因为 <code>plug C —↠ plug C (ƛ N′)</code>，我们应用可靠性定理得到</p><pre><code>ℰ (plug C M) ≃ ℰ (ƛ N′)</code></pre><p>根据 <code>ℰ M ≃ ℰ N</code>，应用组合性定理可得</p><pre><code>ℰ (plug C M) ≃ ℰ (plug C N).</code></pre><p>将两个事实合并可得</p><pre><code>ℰ (plug C N) ≃ ℰ (ƛ N′).</code></pre><p>应用<a href="../Adequacy/">充分性</a>一章中的 <code>↓→⇓</code> 可推出</p><pre><code>∅&#39; ⊢ plug C N ⇓ clos (ƛ N′′) δ).</code></pre><p>由于「传名调用求值」蕴含「可归约到 λ-抽象」，因此可得</p><pre><code>terminates (plug C N).</code></pre><p>两次应用该引理后，主定理即可得证。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-contex-equal"></a><a id="plfa_plfa-part3-ContextualEquivalence-4249" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4249" class="Function">denot-equal-contex-equal</a> <a id="plfa_plfa-part3-ContextualEquivalence-4274" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-4276" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-4278" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4278" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-4279" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4281" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4282" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4282" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4284" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4284" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-4286" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-4288" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4278" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4290" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-4292" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-4293" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-4297" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4299" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4301" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4282" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4303" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-4305" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4307" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4284" class="Bound">N</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-4313" class="Comment">---------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-4325" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4327" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4282" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4329" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1748" class="Function Operator">≅</a> <a id="plfa_plfa-part3-ContextualEquivalence-4331" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4284" class="Bound">N</a>
<a id="plfa_plfa-part3-ContextualEquivalence-4333" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4249" class="Function">denot-equal-contex-equal</a><a id="plfa_plfa-part3-ContextualEquivalence-4357" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4358" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4358" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-4359" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-4361" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4361" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-4362" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-4364" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4364" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-4365" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4367" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4367" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-4370" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4371" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4371" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-4372" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4374" class="Symbol">=</a>
   <a id="plfa_plfa-part3-ContextualEquivalence-4379" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-4381" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4384" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4384" class="Bound">tm</a> <a id="plfa_plfa-part3-ContextualEquivalence-4387" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4389" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3025" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-4412" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4367" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-4415" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4384" class="Bound">tm</a><a id="plfa_plfa-part3-ContextualEquivalence-4417" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4419" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">,</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-4426" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4429" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4429" class="Bound">tn</a> <a id="plfa_plfa-part3-ContextualEquivalence-4432" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4434" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3025" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-4457" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-4458" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-4464" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4367" class="Bound">eq</a><a id="plfa_plfa-part3-ContextualEquivalence-4466" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4468" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4429" class="Bound">tn</a><a id="plfa_plfa-part3-ContextualEquivalence-4470" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4472" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-315" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>≅  U+2245  APPROXIMATELY EQUAL TO (\~= or \cong)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：OlingCat<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>