<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – ContextualEquivalence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">ContextualEquivalence: Denotational equality implies contextual equivalence</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-144" class="Keyword">module</a> <a id="plfa_plfa-part3-ContextualEquivalence-151" href="../ContextualEquivalence/#" class="Module">plfa.part3.ContextualEquivalence</a> <a id="plfa_plfa-part3-ContextualEquivalence-184" class="Keyword">where</a>
</pre><h2 id="imports">Imports</h2><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-215" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-220" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-227" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-ContextualEquivalence-240" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-246" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-247" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-ContextualEquivalence-250" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-252" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-ContextualEquivalence-253" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-255" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-263" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-265" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-ContextualEquivalence-266" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-268" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-276" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-278" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-ContextualEquivalence-283" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-285" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-ContextualEquivalence-290" class="Symbol">)</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-297" class="Keyword">renaming</a> <a id="plfa_plfa-part3-ContextualEquivalence-306" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-307" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-ContextualEquivalence-311" class="Symbol">to</a> <a id="plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-ContextualEquivalence-319" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-321" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-326" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-333" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part3-ContextualEquivalence-352" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-358" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-359" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-ContextualEquivalence-362" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-364" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-365" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-367" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-368" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-370" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-ContextualEquivalence-373" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-375" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-ContextualEquivalence-377" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-379" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part3-ContextualEquivalence-383" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-385" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-390" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-397" href="../BigStep/#" class="Module">plfa.part2.BigStep</a> <a id="plfa_plfa-part3-ContextualEquivalence-416" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-422" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-423" href="../BigStep/#plfa_plfa-part2-BigStep-3825" class="Datatype Operator">_⊢_⇓_</a><a id="plfa_plfa-part3-ContextualEquivalence-428" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-430" href="../BigStep/#plfa_plfa-part2-BigStep-16239" class="Function">cbn→reduce</a><a id="plfa_plfa-part3-ContextualEquivalence-440" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-442" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-447" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-454" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-ContextualEquivalence-478" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-484" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-485" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a><a id="plfa_plfa-part3-ContextualEquivalence-486" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-488" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">_≃_</a><a id="plfa_plfa-part3-ContextualEquivalence-491" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-493" href="../Denotational/#plfa_plfa-part3-Denotational-22805" class="Function">≃-sym</a><a id="plfa_plfa-part3-ContextualEquivalence-498" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-500" href="../Denotational/#plfa_plfa-part3-Denotational-22938" class="Function">≃-trans</a><a id="plfa_plfa-part3-ContextualEquivalence-507" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-509" href="../Denotational/#plfa_plfa-part3-Denotational-21657" class="Function Operator">_iff_</a><a id="plfa_plfa-part3-ContextualEquivalence-514" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-516" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-521" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-528" href="../Compositional/#" class="Module">plfa.part3.Compositional</a> <a id="plfa_plfa-part3-ContextualEquivalence-553" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-559" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-560" href="../Compositional/#plfa_plfa-part3-Compositional-13720" class="Datatype">Ctx</a><a id="plfa_plfa-part3-ContextualEquivalence-563" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-565" href="../Compositional/#plfa_plfa-part3-Compositional-14808" class="Function">plug</a><a id="plfa_plfa-part3-ContextualEquivalence-569" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-571" href="../Compositional/#plfa_plfa-part3-Compositional-15221" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-587" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-589" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-594" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-601" href="../Soundness/#" class="Module">plfa.part3.Soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-622" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-628" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-629" href="../Soundness/#plfa_plfa-part3-Soundness-23457" class="Function">soundness</a><a id="plfa_plfa-part3-ContextualEquivalence-638" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-640" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-645" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-652" href="../Adequacy/#" class="Module">plfa.part3.Adequacy</a> <a id="plfa_plfa-part3-ContextualEquivalence-672" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-678" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-679" href="../Adequacy/#plfa_plfa-part3-Adequacy-21033" class="Function">↓→⇓</a><a id="plfa_plfa-part3-ContextualEquivalence-682" class="Symbol">)</a>
</pre><h2 id="contextual-equivalence">Contextual Equivalence</h2><p>The notion of <em>contextual equivalence</em> is an important one for programming languages because it is the sufficient condition for changing a subterm of a program while maintaining the program’s overall behavior. Two terms <code>M</code> and <code>N</code> are contextually equivalent if they can plugged into any context <code>C</code> and produce equivalent results. As discuss in the Denotational chapter, the result of a program in the lambda calculus is to terminate or not. We characterize termination with the reduction semantics as follows.</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-1238" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1249" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1251" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1253" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1253" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1254" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1256" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1258" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1259" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1259" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1261" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1263" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1253" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1265" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1267" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1268" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1270" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1272" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1276" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1287" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1288" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1288" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1289" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1291" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1291" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1293" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1295" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-ContextualEquivalence-1298" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1298" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1300" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-ContextualEquivalence-1302" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1303" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1288" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1305" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-1307" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-ContextualEquivalence-1309" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1311" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1312" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1314" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-ContextualEquivalence-1316" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1317" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1291" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1319" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part3-ContextualEquivalence-1322" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1324" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1298" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1325" class="Symbol">)</a>
</pre><p>So two terms are contextually equivalent if plugging them into the same context produces two programs that either terminate or diverge together.</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-_≅_"></a><a id="plfa_plfa-part3-ContextualEquivalence-1486" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1486" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1490" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1492" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1494" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1494" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1495" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1497" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1499" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1500" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1500" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1502" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1502" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1504" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1506" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1494" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1508" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1510" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1511" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1513" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1515" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1519" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1520" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1486" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1524" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1525" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1525" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1526" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1528" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1528" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1530" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1530" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1531" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1533" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1535" class="Symbol">∀</a> <a id="plfa_plfa-part3-ContextualEquivalence-1537" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1538" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1538" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1540" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1542" href="../Compositional/#plfa_plfa-part3-Compositional-13720" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-1546" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1525" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1548" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-1549" class="Symbol">}</a>
                <a id="plfa_plfa-part3-ContextualEquivalence-1567" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1569" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1570" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1581" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1582" href="../Compositional/#plfa_plfa-part3-Compositional-14808" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1587" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1538" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1589" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1528" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-1590" class="Symbol">))</a> <a id="plfa_plfa-part3-ContextualEquivalence-1593" href="../Denotational/#plfa_plfa-part3-Denotational-21657" class="Function Operator">iff</a> <a id="plfa_plfa-part3-ContextualEquivalence-1597" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1598" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1609" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1610" href="../Compositional/#plfa_plfa-part3-Compositional-14808" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1615" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1538" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1617" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1530" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1618" class="Symbol">))</a>
</pre><p>The contextual equivalence of two terms is difficult to prove directly based on the above definition because of the universal quantification of the context <code>C</code>. One of the main motivations for developing denotational semantics is to have an alternative way to prove contextual equivalence that instead only requires reasoning about the two terms.</p><h2 id="denotational-equivalence-implies-contextual-equivalence">Denotational equivalence implies contextual equivalence</h2><p>Thankfully, the proof that denotational equality implies contextual equivalence is an easy corollary of the results that we have already established. Furthermore, the two directions of the if-and-only-if are symmetric, so we can prove one lemma and then use it twice in the theorem.</p><p>The lemma states that if <code>M</code> and <code>N</code> are denotationally equal and if <code>M</code> plugged into <code>C</code> terminates, then so does <code>N</code> plugged into <code>C</code>.</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-2465" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2465" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-2488" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-2490" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-2492" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2492" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-2493" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-2495" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-2496" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2496" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-2498" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2498" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-2500" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-2502" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2492" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2504" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-2506" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-2507" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-2509" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-2510" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2510" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-2512" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-2514" href="../Compositional/#plfa_plfa-part3-Compositional-13720" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-2518" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2492" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2520" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-2521" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-2525" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-2527" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2529" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2496" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-2531" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-2533" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2535" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2498" class="Bound">N</a>  <a id="plfa_plfa-part3-ContextualEquivalence-2538" class="Symbol">→</a>  <a id="plfa_plfa-part3-ContextualEquivalence-2541" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-2552" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2553" href="../Compositional/#plfa_plfa-part3-Compositional-14808" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-2558" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2510" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-2560" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2496" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-2561" class="Symbol">)</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-2567" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-2605" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-2607" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1238" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-2618" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2619" href="../Compositional/#plfa_plfa-part3-Compositional-14808" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-2624" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2510" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-2626" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2498" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-2627" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-2629" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2465" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-2652" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-2653" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2653" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-2654" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-2656" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2656" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-2657" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-2659" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2659" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-2660" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-2662" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2662" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-2663" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-2665" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2665" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-2671" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-2673" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2673" class="Bound">N′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2676" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-2678" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2678" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2686" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-ContextualEquivalence-2688" class="Symbol">=</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-2692" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-2696" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2696" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2705" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2707" href="../Soundness/#plfa_plfa-part3-Soundness-23457" class="Function">soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-2717" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2678" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2725" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-2730" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-2734" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2734" class="Bound">ℰCM≃ℰCN</a> <a id="plfa_plfa-part3-ContextualEquivalence-2742" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2744" href="../Compositional/#plfa_plfa-part3-Compositional-15221" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-2760" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-2761" class="Argument">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2763" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2765" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2653" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-2766" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-2768" class="Argument">Δ</a> <a id="plfa_plfa-part3-ContextualEquivalence-2770" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2772" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-2773" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-2775" class="Argument">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-2777" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2779" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2662" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-2780" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-2782" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2665" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-2788" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-2793" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-2797" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2797" class="Bound">ℰCN≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2806" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-2808" href="../Denotational/#plfa_plfa-part3-Denotational-22938" class="Function">≃-trans</a> <a id="plfa_plfa-part3-ContextualEquivalence-2816" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2817" href="../Denotational/#plfa_plfa-part3-Denotational-22805" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-2823" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2734" class="Bound">ℰCM≃ℰCN</a><a id="plfa_plfa-part3-ContextualEquivalence-2830" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-2832" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2696" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-2841" class="Keyword">in</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-2848" href="../BigStep/#plfa_plfa-part2-BigStep-16239" class="Function">cbn→reduce</a> <a id="plfa_plfa-part3-ContextualEquivalence-2859" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2860" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-2866" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2867" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-2873" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2874" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-2880" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-2881" href="../Adequacy/#plfa_plfa-part3-Adequacy-21033" class="Function">↓→⇓</a> <a id="plfa_plfa-part3-ContextualEquivalence-2885" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2797" class="Bound">ℰCN≃ℰƛN′</a><a id="plfa_plfa-part3-ContextualEquivalence-2893" class="Symbol">))))</a>
</pre><p>The proof is direct. Because <code>plug C —↠ plug C (ƛ N′)</code>, we can apply soundness to obtain</p><pre><code>ℰ (plug C M) ≃ ℰ (ƛ N′)</code></pre><p>From <code>ℰ M ≃ ℰ N</code>, compositionality gives us</p><pre><code>ℰ (plug C M) ≃ ℰ (plug C N).</code></pre><p>Putting these two facts together gives us</p><pre><code>ℰ (plug C N) ≃ ℰ (ƛ N′).</code></pre><p>We then apply <code>↓→⇓</code> from Chapter <a href="../Adequacy/">Adequacy</a> to deduce</p><pre><code>∅&#39; ⊢ plug C N ⇓ clos (ƛ N′′) δ).</code></pre><p>Call-by-name evaluation implies reduction to a lambda abstraction, so we conclude that</p><pre><code>terminates (plug C N).</code></pre><p>The main theorem follows by two applications of the lemma.</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-contex-equal"></a><a id="plfa_plfa-part3-ContextualEquivalence-3464" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3464" class="Function">denot-equal-contex-equal</a> <a id="plfa_plfa-part3-ContextualEquivalence-3489" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3491" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-3493" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3493" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3494" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3496" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3497" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3497" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3499" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3499" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-3501" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3503" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3493" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3505" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-3507" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-3508" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3512" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3514" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3516" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3497" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3518" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-3520" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3522" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3499" class="Bound">N</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-3528" class="Comment">---------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3540" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3542" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3497" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3544" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1486" class="Function Operator">≅</a> <a id="plfa_plfa-part3-ContextualEquivalence-3546" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3499" class="Bound">N</a>
<a id="plfa_plfa-part3-ContextualEquivalence-3548" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3464" class="Function">denot-equal-contex-equal</a><a id="plfa_plfa-part3-ContextualEquivalence-3572" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3573" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3573" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3574" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3576" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3576" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-3577" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3579" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3579" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-3580" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3582" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3582" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-3585" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3586" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3586" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-3587" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3589" class="Symbol">=</a>
   <a id="plfa_plfa-part3-ContextualEquivalence-3594" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-3596" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3599" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3599" class="Bound">tm</a> <a id="plfa_plfa-part3-ContextualEquivalence-3602" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3604" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2465" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3627" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3582" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-3630" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3599" class="Bound">tm</a><a id="plfa_plfa-part3-ContextualEquivalence-3632" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-3634" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">,</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-3641" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3644" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3644" class="Bound">tn</a> <a id="plfa_plfa-part3-ContextualEquivalence-3647" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3649" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-2465" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3672" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3673" href="../Denotational/#plfa_plfa-part3-Denotational-22805" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-3679" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3582" class="Bound">eq</a><a id="plfa_plfa-part3-ContextualEquivalence-3681" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-3683" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3644" class="Bound">tn</a><a id="plfa_plfa-part3-ContextualEquivalence-3685" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-3687" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-314" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><pre><code>≅  U+2245  APPROXIMATELY EQUAL TO (\~= or \cong)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>