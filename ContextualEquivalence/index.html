<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – ContextualEquivalence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">ContextualEquivalence: Denotational equality implies contextual equivalence</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-171" class="Keyword">module</a> <a id="plfa_plfa-part3-ContextualEquivalence-178" href="../ContextualEquivalence/#" class="Module">plfa.part3.ContextualEquivalence</a> <a id="plfa_plfa-part3-ContextualEquivalence-211" class="Keyword">where</a>
</pre><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-258" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-263" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-270" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-ContextualEquivalence-283" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-289" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-290" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-ContextualEquivalence-293" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-295" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-ContextualEquivalence-296" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-298" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-306" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-308" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-ContextualEquivalence-309" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-311" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-ContextualEquivalence-319" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-321" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-ContextualEquivalence-326" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-328" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-ContextualEquivalence-333" class="Symbol">)</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-340" class="Keyword">renaming</a> <a id="plfa_plfa-part3-ContextualEquivalence-349" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-350" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-ContextualEquivalence-354" class="Symbol">to</a> <a id="plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-ContextualEquivalence-362" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-364" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-369" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-376" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part3-ContextualEquivalence-395" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-401" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-402" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-ContextualEquivalence-405" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-407" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-408" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-410" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-411" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-413" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-ContextualEquivalence-416" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-418" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-ContextualEquivalence-420" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-422" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part3-ContextualEquivalence-426" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-428" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-433" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-440" href="../BigStep/#" class="Module">plfa.part2.BigStep</a> <a id="plfa_plfa-part3-ContextualEquivalence-459" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-465" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-466" href="../BigStep/#plfa_plfa-part2-BigStep-3825" class="Datatype Operator">_⊢_⇓_</a><a id="plfa_plfa-part3-ContextualEquivalence-471" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-473" href="../BigStep/#plfa_plfa-part2-BigStep-16239" class="Function">cbn→reduce</a><a id="plfa_plfa-part3-ContextualEquivalence-483" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-485" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-490" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-497" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-ContextualEquivalence-521" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-527" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-528" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a><a id="plfa_plfa-part3-ContextualEquivalence-529" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-531" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">_≃_</a><a id="plfa_plfa-part3-ContextualEquivalence-534" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-536" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a><a id="plfa_plfa-part3-ContextualEquivalence-541" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-543" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a><a id="plfa_plfa-part3-ContextualEquivalence-550" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-552" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">_iff_</a><a id="plfa_plfa-part3-ContextualEquivalence-557" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-559" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-564" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-571" href="../Compositional/#" class="Module">plfa.part3.Compositional</a> <a id="plfa_plfa-part3-ContextualEquivalence-596" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-602" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-603" href="../Compositional/#plfa_plfa-part3-Compositional-17931" class="Datatype">Ctx</a><a id="plfa_plfa-part3-ContextualEquivalence-606" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-608" href="../Compositional/#plfa_plfa-part3-Compositional-19360" class="Function">plug</a><a id="plfa_plfa-part3-ContextualEquivalence-612" class="Symbol">;</a> <a id="plfa_plfa-part3-ContextualEquivalence-614" href="../Compositional/#plfa_plfa-part3-Compositional-19858" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-630" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-632" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-637" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-644" href="../Soundness/#" class="Module">plfa.part3.Soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-665" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-671" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-672" href="../Soundness/#plfa_plfa-part3-Soundness-30819" class="Function">soundness</a><a id="plfa_plfa-part3-ContextualEquivalence-681" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-683" class="Keyword">open</a> <a id="plfa_plfa-part3-ContextualEquivalence-688" class="Keyword">import</a> <a id="plfa_plfa-part3-ContextualEquivalence-695" href="../Adequacy/#" class="Module">plfa.part3.Adequacy</a> <a id="plfa_plfa-part3-ContextualEquivalence-715" class="Keyword">using</a> <a id="plfa_plfa-part3-ContextualEquivalence-721" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-722" href="../Adequacy/#plfa_plfa-part3-Adequacy-27490" class="Function">↓→⇓</a><a id="plfa_plfa-part3-ContextualEquivalence-725" class="Symbol">)</a>
</pre><h2 id="语境等价">语境等价</h2><p><strong>语境等价（Contextual Equivalence）</strong>对编程语言来说是一种很重要的概念， 因为它是在保持程序整体行为的同时更改程序子项的充分条件。若两个项 <code>M</code> 和 <code>N</code> 分别插入到任意语境 <code>C</code> 中所产生的结果等价，则二者语境等价。 正如指称语义一章中所讨论过的，λ-演算中程序所产生的结果要么停机要么发散。 我们用下面的归约语义来刻画停机：</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-1490" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1501" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1503" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1505" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1505" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1506" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1508" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1510" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1511" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1511" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1513" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1515" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1505" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1517" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1519" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1520" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1522" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1524" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1528" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1539" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1540" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1540" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1541" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1543" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1543" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1545" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1547" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-ContextualEquivalence-1550" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1550" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1552" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-ContextualEquivalence-1554" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1555" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1540" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1557" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-1559" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-ContextualEquivalence-1561" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1563" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1564" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1566" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-ContextualEquivalence-1568" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1569" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1543" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1571" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part3-ContextualEquivalence-1574" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1576" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1550" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1577" class="Symbol">)</a>
</pre><p>因此将语境等价的两个项插入到相同的语境中，产生的两个程序要么都停机， 要么都发散。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-_≅_"></a><a id="plfa_plfa-part3-ContextualEquivalence-1790" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1790" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1794" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1796" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-1798" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1798" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1799" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1801" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1803" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1804" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1804" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1806" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1806" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-1808" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1810" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1798" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1812" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-1814" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-1815" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1817" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1819" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-ContextualEquivalence-1823" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1824" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1790" class="Function Operator">_≅_</a> <a id="plfa_plfa-part3-ContextualEquivalence-1828" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1829" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1829" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-1830" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-1832" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1832" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-1834" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1834" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1835" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-1837" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-1839" class="Symbol">∀</a> <a id="plfa_plfa-part3-ContextualEquivalence-1841" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-1842" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1842" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1844" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-1846" href="../Compositional/#plfa_plfa-part3-Compositional-17931" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-1850" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1829" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-1852" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-1853" class="Symbol">}</a>
                <a id="plfa_plfa-part3-ContextualEquivalence-1871" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-1873" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1874" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1885" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1886" href="../Compositional/#plfa_plfa-part3-Compositional-19360" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1891" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1842" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1893" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1832" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-1894" class="Symbol">))</a> <a id="plfa_plfa-part3-ContextualEquivalence-1897" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">iff</a> <a id="plfa_plfa-part3-ContextualEquivalence-1901" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1902" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-1913" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-1914" href="../Compositional/#plfa_plfa-part3-Compositional-19360" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-1919" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1842" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-1921" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1834" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-1922" class="Symbol">))</a>
</pre><p>由于语境 <code>C</code> 是全称量化的，因此两个项是否语境等价很难直接基于上述定义来证明。 发展指称语义的主要动机之一就是找到一种方式，只需要对两个项进行论证就能证明二者语境等价。</p><h2 id="指称等价蕴含语境等价">指称等价蕴含语境等价</h2><p>值得庆幸的是，「指称等价蕴含语境等价」的证明是我们已经证明的结果的一个简单推论。 除此之外，「当且仅当」的两个方向是对称的，因此我们可以证明一个引理， 然后在主定理中应用它两次。</p><p>该引理陈述了，若 <code>M</code> 和 <code>N</code> 指称等价，并且若将 <code>M</code> 插入到 <code>C</code> 中可停机，则将 <code>N</code> 插入到 <code>C</code> 中也停机。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-terminates"></a><a id="plfa_plfa-part3-ContextualEquivalence-3067" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3067" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3090" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3092" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-3094" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3094" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3095" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3097" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3098" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3098" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3100" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3100" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-3102" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3104" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3094" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3106" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-3108" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-3109" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3111" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3112" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3112" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3114" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-3116" href="../Compositional/#plfa_plfa-part3-Compositional-17931" class="Datatype">Ctx</a> <a id="plfa_plfa-part3-ContextualEquivalence-3120" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3094" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3122" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-3123" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3127" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3129" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3131" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3098" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-3133" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-3135" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3137" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3100" class="Bound">N</a>  <a id="plfa_plfa-part3-ContextualEquivalence-3140" class="Symbol">→</a>  <a id="plfa_plfa-part3-ContextualEquivalence-3143" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3154" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3155" href="../Compositional/#plfa_plfa-part3-Compositional-19360" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-3160" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3112" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3162" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3098" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-3163" class="Symbol">)</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-3169" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3207" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-3209" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1490" class="Function">terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3220" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3221" href="../Compositional/#plfa_plfa-part3-Compositional-19360" class="Function">plug</a> <a id="plfa_plfa-part3-ContextualEquivalence-3226" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3112" class="Bound">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3228" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3100" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-3229" class="Symbol">)</a>
<a id="plfa_plfa-part3-ContextualEquivalence-3231" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3067" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-3254" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3255" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3255" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3256" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3258" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3258" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-3259" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3261" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3261" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-3262" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3264" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3264" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-3265" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3267" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3267" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3273" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-3275" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3275" class="Bound">N′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3278" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-ContextualEquivalence-3280" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3280" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3288" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-ContextualEquivalence-3290" class="Symbol">=</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3294" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3298" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3298" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3307" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3309" href="../Soundness/#plfa_plfa-part3-Soundness-30819" class="Function">soundness</a> <a id="plfa_plfa-part3-ContextualEquivalence-3319" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3280" class="Bound">CM—↠ƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3327" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3332" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3336" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3336" class="Bound">ℰCM≃ℰCN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3344" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3346" href="../Compositional/#plfa_plfa-part3-Compositional-19858" class="Function">compositionality</a><a id="plfa_plfa-part3-ContextualEquivalence-3362" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-3363" class="Argument">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3365" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3367" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3255" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-3368" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3370" class="Argument">Δ</a> <a id="plfa_plfa-part3-ContextualEquivalence-3372" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3374" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-ContextualEquivalence-3375" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-3377" class="Argument">C</a> <a id="plfa_plfa-part3-ContextualEquivalence-3379" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3381" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3264" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-3382" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-3384" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3267" class="Bound">ℰM≃ℰN</a> <a id="plfa_plfa-part3-ContextualEquivalence-3390" class="Keyword">in</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-3395" class="Keyword">let</a> <a id="plfa_plfa-part3-ContextualEquivalence-3399" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3399" class="Bound">ℰCN≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3408" class="Symbol">=</a> <a id="plfa_plfa-part3-ContextualEquivalence-3410" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a> <a id="plfa_plfa-part3-ContextualEquivalence-3418" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3419" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-3425" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3336" class="Bound">ℰCM≃ℰCN</a><a id="plfa_plfa-part3-ContextualEquivalence-3432" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-3434" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3298" class="Bound">ℰCM≃ℰƛN′</a> <a id="plfa_plfa-part3-ContextualEquivalence-3443" class="Keyword">in</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-3450" href="../BigStep/#plfa_plfa-part2-BigStep-16239" class="Function">cbn→reduce</a> <a id="plfa_plfa-part3-ContextualEquivalence-3461" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3462" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3468" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3469" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3475" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3476" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-ContextualEquivalence-3482" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-3483" href="../Adequacy/#plfa_plfa-part3-Adequacy-27490" class="Function">↓→⇓</a> <a id="plfa_plfa-part3-ContextualEquivalence-3487" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3399" class="Bound">ℰCN≃ℰƛN′</a><a id="plfa_plfa-part3-ContextualEquivalence-3495" class="Symbol">))))</a>
</pre><p>证明过程很直白，因为 <code>plug C —↠ plug C (ƛ N′)</code>，我们应用可靠性定理得到</p><pre><code>ℰ (plug C M) ≃ ℰ (ƛ N′)</code></pre><p>根据 <code>ℰ M ≃ ℰ N</code>，应用组合性定理可得</p><pre><code>ℰ (plug C M) ≃ ℰ (plug C N).</code></pre><p>将两个事实合并可得</p><pre><code>ℰ (plug C N) ≃ ℰ (ƛ N′).</code></pre><p>应用<a href="../Adequacy/">充分性</a>一章中的 <code>↓→⇓</code> 可推出</p><pre><code>∅&#39; ⊢ plug C N ⇓ clos (ƛ N′′) δ).</code></pre><p>由于「传名调用求值」蕴含「可归约到 λ-抽象」，因此可得</p><pre><code>terminates (plug C N).</code></pre><p>两次应用该引理后，主定理即可得证。</p><pre class="Agda"><a id="plfa_plfa-part3-ContextualEquivalence-denot-equal-contex-equal"></a><a id="plfa_plfa-part3-ContextualEquivalence-4291" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4291" class="Function">denot-equal-contex-equal</a> <a id="plfa_plfa-part3-ContextualEquivalence-4316" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-4318" class="Symbol">∀{</a><a id="plfa_plfa-part3-ContextualEquivalence-4320" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4320" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-4321" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4323" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4324" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4324" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4326" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4326" class="Bound">N</a> <a id="plfa_plfa-part3-ContextualEquivalence-4328" class="Symbol">:</a> <a id="plfa_plfa-part3-ContextualEquivalence-4330" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4320" class="Bound">Γ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4332" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-ContextualEquivalence-4334" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-ContextualEquivalence-4335" class="Symbol">}</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-4339" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4341" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4343" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4324" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4345" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-ContextualEquivalence-4347" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4349" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4326" class="Bound">N</a>
    <a id="plfa_plfa-part3-ContextualEquivalence-4355" class="Comment">---------</a>
  <a id="plfa_plfa-part3-ContextualEquivalence-4367" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4369" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4324" class="Bound">M</a> <a id="plfa_plfa-part3-ContextualEquivalence-4371" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-1790" class="Function Operator">≅</a> <a id="plfa_plfa-part3-ContextualEquivalence-4373" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4326" class="Bound">N</a>
<a id="plfa_plfa-part3-ContextualEquivalence-4375" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4291" class="Function">denot-equal-contex-equal</a><a id="plfa_plfa-part3-ContextualEquivalence-4399" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4400" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4400" class="Bound">Γ</a><a id="plfa_plfa-part3-ContextualEquivalence-4401" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-4403" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4403" class="Bound">M</a><a id="plfa_plfa-part3-ContextualEquivalence-4404" class="Symbol">}{</a><a id="plfa_plfa-part3-ContextualEquivalence-4406" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4406" class="Bound">N</a><a id="plfa_plfa-part3-ContextualEquivalence-4407" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4409" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4409" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-4412" class="Symbol">{</a><a id="plfa_plfa-part3-ContextualEquivalence-4413" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4413" class="Bound">C</a><a id="plfa_plfa-part3-ContextualEquivalence-4414" class="Symbol">}</a> <a id="plfa_plfa-part3-ContextualEquivalence-4416" class="Symbol">=</a>
   <a id="plfa_plfa-part3-ContextualEquivalence-4421" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-ContextualEquivalence-4423" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4426" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4426" class="Bound">tm</a> <a id="plfa_plfa-part3-ContextualEquivalence-4429" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4431" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3067" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-4454" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4409" class="Bound">eq</a> <a id="plfa_plfa-part3-ContextualEquivalence-4457" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4426" class="Bound">tm</a><a id="plfa_plfa-part3-ContextualEquivalence-4459" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4461" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">,</a>
     <a id="plfa_plfa-part3-ContextualEquivalence-4468" class="Symbol">(λ</a> <a id="plfa_plfa-part3-ContextualEquivalence-4471" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4471" class="Bound">tn</a> <a id="plfa_plfa-part3-ContextualEquivalence-4474" class="Symbol">→</a> <a id="plfa_plfa-part3-ContextualEquivalence-4476" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-3067" class="Function">denot-equal-terminates</a> <a id="plfa_plfa-part3-ContextualEquivalence-4499" class="Symbol">(</a><a id="plfa_plfa-part3-ContextualEquivalence-4500" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-ContextualEquivalence-4506" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4409" class="Bound">eq</a><a id="plfa_plfa-part3-ContextualEquivalence-4508" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4510" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-4471" class="Bound">tn</a><a id="plfa_plfa-part3-ContextualEquivalence-4512" class="Symbol">)</a> <a id="plfa_plfa-part3-ContextualEquivalence-4514" href="../ContextualEquivalence/#plfa_plfa-part3-ContextualEquivalence-357" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>≅  U+2245  APPROXIMATELY EQUAL TO (\~= or \cong)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Adequacy/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/ContextualEquivalence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Substitution/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>