<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-oald/giFwKDrcy9DORpCxMSq2IAFjgwVUM5pRbyPtm60xZT/52VIm0b9qqbL2UcrxYzxM4cYrtRk02or57bQsA==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-3emtxUSJDVriAZnzOyZFTRu0beO+lk81E2cRDhzd62DQrlh2u4kR6+lz2dOUNZwPDvGwcqfFRrKJO2Zu0O4IJA==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Substitution</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Substitution: 无类型 λ-演算中的代换</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Substitution-114" class="Keyword">module</a> <a id="plfa_plfa-part2-Substitution-121" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Substitution-145" class="Keyword">where</a>
</pre><h2 id="引言">引言</h2><p>本章的主要目的是证明代换与自身可交换。Barendregt (1984) 将此称为代换引理：</p><pre><code>M [x:=N] [y:=L] = M [y:=L] [x:= N[y:=L] ]</code></pre><p>在我们的环境中由于，使用了 de Bruijn 索引的变量，因此该引理的陈述变更为：</p><pre><code>M [ N ] [ L ] ≡  M〔 L 〕[ N [ L ] ]                     (substitution)</code></pre><p>其中符号 <code>M 〔 L 〕</code> 表示用 L 代换 M 中的索引 1。此外，由于我们用平行代换来定义代换， 因此我们有以下推广，用任意平行代换 σ 替换掉了 L 的代换。</p><pre><code>subst σ (M [ N ]) ≡ (subst (exts σ) M) [ subst σ N ]    (subst-commute)</code></pre><p>代换的特例「重命名」也很有用：</p><pre><code>rename ρ (M [ N ]) ≡ (rename (ext ρ) M) [ rename ρ N ]
                                                 (rename-subst-commute)</code></pre><p>本章的第二个目的是定义 Abadi、Cardelli、Curien 和 Levy (1991) 提出的平行代换的 σ-代数。这个代数方程不仅可以帮助我们证明代换引理， 而且还很有用。此外，当从左到右应用方程时，它们形成了一个重写系统， 以<strong>确定</strong>任意两个代换是否相等。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1887" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1894" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Substitution-1932" class="Symbol">as</a> <a id="plfa_plfa-part2-Substitution-1935" class="Module">Eq</a>
<a id="plfa_plfa-part2-Substitution-1938" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1943" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Substitution-1946" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1952" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1953" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Substitution-1956" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1958" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-1962" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1964" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="plfa_plfa-part2-Substitution-1967" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1969" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="plfa_plfa-part2-Substitution-1973" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1975" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a><a id="plfa_plfa-part2-Substitution-1980" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1982" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a><a id="plfa_plfa-part2-Substitution-1990" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1992" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1997" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Eq.≡-Reasoning</a> <a id="plfa_plfa-part2-Substitution-2012" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2018" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2019" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Substitution-2025" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2027" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">step-≡-∣</a><a id="plfa_plfa-part2-Substitution-2035" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2037" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">step-≡-⟩</a><a id="plfa_plfa-part2-Substitution-2045" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2047" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">_∎</a><a id="plfa_plfa-part2-Substitution-2049" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-2051" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-2056" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-2063" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html" class="Module">Function.Base</a> <a id="plfa_plfa-part2-Substitution-2077" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2083" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2084" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Substitution-2087" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-2089" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-2094" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-2101" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
     <a id="plfa_plfa-part2-Substitution-2125" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2131" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2132" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-2136" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2138" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-2145" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2147" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Substitution-2150" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2152" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-2153" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2155" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Substitution-2158" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2160" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-2161" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2163" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Substitution-2166" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2168" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-2169" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2171" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-2173" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2175" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Substitution-2177" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2179" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Substitution-2181" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2183" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Substitution-2186" class="Symbol">;</a>
            <a id="plfa_plfa-part2-Substitution-2200" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a><a id="plfa_plfa-part2-Substitution-2206" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2208" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a><a id="plfa_plfa-part2-Substitution-2213" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2215" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a><a id="plfa_plfa-part2-Substitution-2218" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2220" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a><a id="plfa_plfa-part2-Substitution-2224" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2226" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Substitution-2230" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2232" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a><a id="plfa_plfa-part2-Substitution-2242" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-2257" class="Keyword">postulate</a>
  <a id="plfa_plfa-part2-Substitution-extensionality"></a><a id="plfa_plfa-part2-Substitution-2269" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-2284" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2286" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-2288" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-2289" href="../Substitution/#plfa_plfa-part2-Substitution-2289" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2291" href="../Substitution/#plfa_plfa-part2-Substitution-2291" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-2293" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2295" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a><a id="plfa_plfa-part2-Substitution-2298" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2300" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-2301" href="../Substitution/#plfa_plfa-part2-Substitution-2301" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2303" href="../Substitution/#plfa_plfa-part2-Substitution-2303" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-2305" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2307" href="../Substitution/#plfa_plfa-part2-Substitution-2289" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2309" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2311" href="../Substitution/#plfa_plfa-part2-Substitution-2291" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-2312" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-2318" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2320" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Substitution-2323" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2324" href="../Substitution/#plfa_plfa-part2-Substitution-2324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-2326" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2328" href="../Substitution/#plfa_plfa-part2-Substitution-2289" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2329" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-2331" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2333" href="../Substitution/#plfa_plfa-part2-Substitution-2301" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2335" href="../Substitution/#plfa_plfa-part2-Substitution-2324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-2337" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-2339" href="../Substitution/#plfa_plfa-part2-Substitution-2303" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-2341" href="../Substitution/#plfa_plfa-part2-Substitution-2324" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-2342" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-2350" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Substitution-2378" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2380" href="../Substitution/#plfa_plfa-part2-Substitution-2301" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2382" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-2384" href="../Substitution/#plfa_plfa-part2-Substitution-2303" class="Bound">g</a>
</pre><h2 id="记法">记法</h2><p>我们引入了以下简写表示「将语境 <code>Γ</code> 中的变量<strong>重命名</strong>为语境 <code>Δ</code> 中的变量」的类型。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Rename"></a><a id="plfa_plfa-part2-Substitution-2613" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2620" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2622" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2630" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2632" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2640" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2642" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2646" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2653" href="../Substitution/#plfa_plfa-part2-Substitution-2653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2655" href="../Substitution/#plfa_plfa-part2-Substitution-2655" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2657" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2659" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2661" href="../Substitution/#plfa_plfa-part2-Substitution-2661" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2662" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2664" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2666" href="../Substitution/#plfa_plfa-part2-Substitution-2653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2668" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2670" href="../Substitution/#plfa_plfa-part2-Substitution-2661" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2672" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2674" href="../Substitution/#plfa_plfa-part2-Substitution-2655" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2676" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2678" href="../Substitution/#plfa_plfa-part2-Substitution-2661" class="Bound">A</a>
</pre><p>与此类似，我们引入了以下简写表示「将语境 <code>Γ</code> 中的变量<strong>代换</strong>为语境 <code>Δ</code> 中的项」的类型。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Subst"></a><a id="plfa_plfa-part2-Substitution-2892" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2898" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2900" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2908" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2910" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2918" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2920" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2924" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2930" href="../Substitution/#plfa_plfa-part2-Substitution-2930" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2932" href="../Substitution/#plfa_plfa-part2-Substitution-2932" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2934" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2936" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2938" href="../Substitution/#plfa_plfa-part2-Substitution-2938" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2939" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2941" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2943" href="../Substitution/#plfa_plfa-part2-Substitution-2930" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2945" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2947" href="../Substitution/#plfa_plfa-part2-Substitution-2938" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2949" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2951" href="../Substitution/#plfa_plfa-part2-Substitution-2932" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2953" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2955" href="../Substitution/#plfa_plfa-part2-Substitution-2938" class="Bound">A</a>
</pre><p>我们用以下更简洁的记法表示 <code>subst</code> 代换函数。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-⟪_⟫"></a><a id="plfa_plfa-part2-Substitution-3079" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪_⟫</a> <a id="plfa_plfa-part2-Substitution-3083" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3085" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3087" href="../Substitution/#plfa_plfa-part2-Substitution-3087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3089" href="../Substitution/#plfa_plfa-part2-Substitution-3089" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3091" href="../Substitution/#plfa_plfa-part2-Substitution-3091" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3092" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3094" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3096" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3102" href="../Substitution/#plfa_plfa-part2-Substitution-3087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3104" href="../Substitution/#plfa_plfa-part2-Substitution-3089" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3106" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3108" href="../Substitution/#plfa_plfa-part2-Substitution-3087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3110" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3112" href="../Substitution/#plfa_plfa-part2-Substitution-3091" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-3114" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3116" href="../Substitution/#plfa_plfa-part2-Substitution-3089" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3118" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3120" href="../Substitution/#plfa_plfa-part2-Substitution-3091" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-3122" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-3124" href="../Substitution/#plfa_plfa-part2-Substitution-3124" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3126" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-3128" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3130" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-3132" href="../Substitution/#plfa_plfa-part2-Substitution-3132" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3134" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3136" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-3142" href="../Substitution/#plfa_plfa-part2-Substitution-3124" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3144" href="../Substitution/#plfa_plfa-part2-Substitution-3132" class="Bound">M</a>
</pre><h2 id="代换的-σ-代数">代换的 σ-代数</h2><p>代换将 de Bruijn 索引（自然数）映射为项，于是我们可以简单地将代换视作一系列项， 或者更精确地，将它视作项的有限序列。σ-代数由四个运算组成，用来构建这样的序列： 恒等 <code>ids</code>、抬升 <code>↑</code>，构造 <code>M • σ</code>，以及序列 <code>σ ⨟ τ</code>。 序列 <code>0, 1, 2, ...</code> 由恒等代换构造：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ids"></a><a id="plfa_plfa-part2-Substitution-3772" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3776" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3778" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3780" href="../Substitution/#plfa_plfa-part2-Substitution-3780" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-3781" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3783" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3785" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3791" href="../Substitution/#plfa_plfa-part2-Substitution-3780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3793" href="../Substitution/#plfa_plfa-part2-Substitution-3780" class="Bound">Γ</a>
<a id="plfa_plfa-part2-Substitution-3795" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3799" href="../Substitution/#plfa_plfa-part2-Substitution-3799" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3801" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3803" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3805" href="../Substitution/#plfa_plfa-part2-Substitution-3799" class="Bound">x</a>
</pre><p>抬升运算 <code>↑</code> 用于构造序列</p><pre><code>1, 2, 3, ...</code></pre><p>其定义如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-↑"></a><a id="plfa_plfa-part2-Substitution-3958" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3960" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3962" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3964" href="../Substitution/#plfa_plfa-part2-Substitution-3964" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3966" href="../Substitution/#plfa_plfa-part2-Substitution-3966" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3967" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3969" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3971" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3977" href="../Substitution/#plfa_plfa-part2-Substitution-3964" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3979" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3980" href="../Substitution/#plfa_plfa-part2-Substitution-3964" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3982" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3984" href="../Substitution/#plfa_plfa-part2-Substitution-3966" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3985" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-3987" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3989" href="../Substitution/#plfa_plfa-part2-Substitution-3989" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3991" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3993" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3995" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3996" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3998" href="../Substitution/#plfa_plfa-part2-Substitution-3989" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3999" class="Symbol">)</a>
</pre><p>给定项 <code>M</code> 和代换 <code>σ</code>，运算 <code>M • σ</code> 会构造序列</p><pre><code>M , σ 0, σ 1, σ 2, ...</code></pre><p>以下运算类似 Lisp 中的 <code>cons</code> 构造运算。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-4271" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-4278" class="Number">6</a> <a id="plfa_plfa-part2-Substitution-4280" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">_•_</a>

<a id="plfa_plfa-part2-Substitution-_•_"></a><a id="plfa_plfa-part2-Substitution-4285" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">_•_</a> <a id="plfa_plfa-part2-Substitution-4289" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-4291" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-4293" href="../Substitution/#plfa_plfa-part2-Substitution-4293" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4295" href="../Substitution/#plfa_plfa-part2-Substitution-4295" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4297" href="../Substitution/#plfa_plfa-part2-Substitution-4297" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4298" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-4300" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4302" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4303" href="../Substitution/#plfa_plfa-part2-Substitution-4295" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4305" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-4307" href="../Substitution/#plfa_plfa-part2-Substitution-4297" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4308" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4310" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4312" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4318" href="../Substitution/#plfa_plfa-part2-Substitution-4293" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4320" href="../Substitution/#plfa_plfa-part2-Substitution-4295" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4322" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4324" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4330" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4331" href="../Substitution/#plfa_plfa-part2-Substitution-4293" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4333" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-4335" href="../Substitution/#plfa_plfa-part2-Substitution-4297" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4336" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4338" href="../Substitution/#plfa_plfa-part2-Substitution-4295" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-4340" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4341" href="../Substitution/#plfa_plfa-part2-Substitution-4341" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-4343" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-4345" href="../Substitution/#plfa_plfa-part2-Substitution-4345" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-4346" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4348" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-4350" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4352" href="../Substitution/#plfa_plfa-part2-Substitution-4341" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-4354" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4355" href="../Substitution/#plfa_plfa-part2-Substitution-4355" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-4357" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-4359" href="../Substitution/#plfa_plfa-part2-Substitution-4359" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-4360" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4362" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4363" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-4365" href="../Substitution/#plfa_plfa-part2-Substitution-4365" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-4366" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4368" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4370" href="../Substitution/#plfa_plfa-part2-Substitution-4359" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-4372" href="../Substitution/#plfa_plfa-part2-Substitution-4365" class="Bound">x</a>
</pre><p>给定两个代换 <code>σ</code> 和 <code>τ</code>，序列运算 <code>σ ⨟ τ</code> 会通过先应用代换 <code>σ</code>， 然后应用代换 <code>τ</code> 来将两个代换组合到一起，因此它会产生序列</p><pre><code>⟪τ⟫(σ 0), ⟪τ⟫(σ 1), ⟪τ⟫(σ 2), ...</code></pre><p>下面是它的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-4731" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-4738" class="Number">5</a> <a id="plfa_plfa-part2-Substitution-4740" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">_⨟_</a>

<a id="plfa_plfa-part2-Substitution-_⨟_"></a><a id="plfa_plfa-part2-Substitution-4745" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">_⨟_</a> <a id="plfa_plfa-part2-Substitution-4749" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-4751" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-4753" href="../Substitution/#plfa_plfa-part2-Substitution-4753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4755" href="../Substitution/#plfa_plfa-part2-Substitution-4755" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4757" href="../Substitution/#plfa_plfa-part2-Substitution-4757" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-4758" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-4760" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4762" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4768" href="../Substitution/#plfa_plfa-part2-Substitution-4753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4770" href="../Substitution/#plfa_plfa-part2-Substitution-4755" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4772" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4774" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4780" href="../Substitution/#plfa_plfa-part2-Substitution-4755" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4782" href="../Substitution/#plfa_plfa-part2-Substitution-4757" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-4784" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4786" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4792" href="../Substitution/#plfa_plfa-part2-Substitution-4753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4794" href="../Substitution/#plfa_plfa-part2-Substitution-4757" class="Bound">Σ</a>
<a id="plfa_plfa-part2-Substitution-4796" href="../Substitution/#plfa_plfa-part2-Substitution-4796" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-4798" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-4800" href="../Substitution/#plfa_plfa-part2-Substitution-4800" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-4802" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4804" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-4806" href="../Substitution/#plfa_plfa-part2-Substitution-4800" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-4808" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-4810" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-4812" href="../Substitution/#plfa_plfa-part2-Substitution-4796" class="Bound">σ</a>
</pre><p>对于序列操作，Abadi 等人使用了函数复合的记法，将它记作 <code>σ ∘ τ</code>， 但 <code>σ</code> 仍然在 <code>τ</code> 之前被应用，这与标准的数学习惯相反。我们记作 <code>σ ⨟ τ</code>，因为分号是函数向右组合的标准记法。</p><h2 id="σ-代数方程">σ-代数方程</h2><p>σ-代数包含以下方程：</p><pre><code>(sub-head)  ⟪ M • σ ⟫ (` Z) ≡ M
(sub-tail)  ↑ ⨟ (M • σ)    ≡ σ
(sub-η)     (⟪ σ ⟫ (` Z)) • (↑ ⨟ σ) ≡ σ
(Z-shift)   (` Z) • ↑      ≡ ids

(sub-id)    ⟪ ids ⟫ M      ≡ M
(sub-app)   ⟪ σ ⟫ (L · M)  ≡ (⟪ σ ⟫ L) · (⟪ σ ⟫ M)
(sub-abs)   ⟪ σ ⟫ (ƛ N) ≡ ƛ ⟪ (` Z) • (σ ⨟ ↑) ⟫ N
(sub-sub)   ⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M

(sub-idL)   ids ⨟ σ        ≡ σ
(sub-idR)   σ ⨟ ids        ≡ σ
(sub-assoc) (σ ⨟ τ) ⨟ θ    ≡ σ ⨟ (τ ⨟ θ)
(sub-dist)  (M • σ) ⨟ τ    ≡ (⟪ τ ⟫ M) • (σ ⨟ τ)</code></pre><p>第一组方程描述了 <code>•</code> 算子的行为类似于 <code>cons</code>。方程 <code>sub-head</code> 表示变量零 <code>Z</code> 返回序列的头部（它的行为类似于 Lisp 中的 <code>car</code>）。与此类似， <code>sub-tail</code> 表示对序列应用抬升运算 <code>↑</code> 后返回该序列的尾部（它的行为类似于 Lisp 中的 <code>cdr</code>）。<code>sub-η</code> 方程是序列的 η-展开规则，表示接受一个序列的头部和尾部， 将它们 cons 在一起产生原来的序列。<code>Z-shift</code> 方程表示将零 cons 到抬升的序列会得到恒等的序列。</p><p>接下来的四个方程涉及对项的代换。方程 <code>sub-id</code> 表示恒等代换返回的项保持不变。 方程 <code>sub-app</code> 和 <code>sub-abs</code> 表示代换对 λ-演算满足合同性。<code>sub-sub</code> 方程表示序列算子 <code>⨟</code> 的行为符合预期。</p><p>最后四个方程涉及代换的序列。前两个方程 <code>sub-idL</code> 和 <code>sub-idR</code> 表示 <code>ids</code> 是序列算子的左右单位元。<code>sub-assoc</code> 方程表示序列满足结合律。 最后，<code>sub-dist</code> 表示后面的序列对 cons 满足分配率。</p><h2 id="关联-σ-代数和代换函数">关联 σ-代数和代换函数</h2><p>代换的定义 <code>N [ M ]</code> 和平行代换 <code>subst σ N</code> 依赖于几个辅助函数：<code>rename</code>、 <code>exts</code>、<code>ext</code> 和 <code>subst-zero</code>。我们应当在 σ-代数中将这些函数与项关联起来。</p><p>首先，重命名可以用代换表示。我们有：</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M               (rename-subst-ren)</code></pre><p>其中 <code>ren</code> 通过将 <code>ρ</code> 复合到恒等代换后面来将重命名 <code>ρ</code> 转换为一个代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren"></a><a id="plfa_plfa-part2-Substitution-8394" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-8398" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8400" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8402" href="../Substitution/#plfa_plfa-part2-Substitution-8402" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8404" href="../Substitution/#plfa_plfa-part2-Substitution-8404" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8405" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8407" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8409" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-8416" href="../Substitution/#plfa_plfa-part2-Substitution-8402" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8418" href="../Substitution/#plfa_plfa-part2-Substitution-8404" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8420" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8422" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8428" href="../Substitution/#plfa_plfa-part2-Substitution-8402" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8430" href="../Substitution/#plfa_plfa-part2-Substitution-8404" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-8432" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-8436" href="../Substitution/#plfa_plfa-part2-Substitution-8436" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-8438" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8440" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8444" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-8446" href="../Substitution/#plfa_plfa-part2-Substitution-8436" class="Bound">ρ</a>
</pre><p>当重命名为递增函数时，它等价于抬升。</p><pre><code>ren S_ ≡ ↑                             (ren-shift)

rename S_ M ≡ ⟪ ↑ ⟫ M                  (rename-shift)</code></pre><p>带恒等重命名的重命名会保持项不变：</p><pre><code>rename (λ {A} x → x) M ≡ M             (rename-id)</code></pre><p>接下来我们将 <code>exts</code> 函数关联到 σ-代数。回忆 <code>exts</code> 函数将代换扩展为以下形式：</p><pre><code>exts σ = ` Z, rename S_ (σ 0), rename S_ (σ 1), rename S_ (σ 2), ...</code></pre><p>因此 <code>exts</code> 等价于将 Z cons 到应用 <code>σ</code> 所产生的序列上，之后再抬升它：</p><pre><code>exts σ ≡ ` Z • (σ ⨟ ↑)                (exts-cons-shift)</code></pre><p><code>ext</code> 函数做的事情和 <code>exts</code> 一样，只不过用于重命名而非代换，因此将 <code>ren</code> 复合到 <code>ext</code> 等价于将 <code>exts</code> 复合到 <code>ren</code>：</p><pre><code>ren (ext ρ) ≡ exts (ren ρ)            (ren-ext)</code></pre><p>于是，我们可以将 <code>exts-cons-shift</code> 方程重新转换为重命名：</p><pre><code>ren (ext ρ) ≡ ` Z • (ren ρ ⨟ ↑)       (ext-cons-Z-shift)</code></pre><p>将 σ-代数的 <code>sub-sub</code> 方程特化为第一个代换是重命名的情况也很有用：</p><pre><code>⟪ σ ⟫ (rename ρ M) ≡ ⟪ σ ∘ ρ ⟫ M       (rename-subst)</code></pre><p><code>subst-zero M</code> 代换等价于将 <code>M</code> cons 到恒等代换：</p><pre><code>subst-zero M ≡ M • ids                (subst-Z-cons-ids)</code></pre><p>最后，将 <code>subst-zero M</code> 列在 <code>exts σ</code> 之后等价于将 <code>M</code> cons 到 <code>σ</code>。</p><pre><code>exts σ ⨟ subst-zero M ≡ (M • σ)       (subst-zero-exts-cons)</code></pre><h2 id="sub-headsub-tailsub-ηz-shiftsub-idlsub-dist-和-sub-app-的证明">sub-head、sub-tail、sub-η、Z-shift、sub-idL、sub-dist 和 sub-app 的证明</h2><p>我们直接从这些算子的定义就能得它们的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-head"></a><a id="plfa_plfa-part2-Substitution-10742" href="../Substitution/#plfa_plfa-part2-Substitution-10742" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-10751" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10753" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-10755" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10756" href="../Substitution/#plfa_plfa-part2-Substitution-10756" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10758" href="../Substitution/#plfa_plfa-part2-Substitution-10758" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10759" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10761" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10762" href="../Substitution/#plfa_plfa-part2-Substitution-10762" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10763" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10765" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10766" href="../Substitution/#plfa_plfa-part2-Substitution-10766" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10768" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10770" href="../Substitution/#plfa_plfa-part2-Substitution-10758" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-10772" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10774" href="../Substitution/#plfa_plfa-part2-Substitution-10762" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10775" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10777" href="../Substitution/#plfa_plfa-part2-Substitution-10777" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10779" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10781" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10787" href="../Substitution/#plfa_plfa-part2-Substitution-10756" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10789" href="../Substitution/#plfa_plfa-part2-Substitution-10758" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10790" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-10801" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10803" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-10805" href="../Substitution/#plfa_plfa-part2-Substitution-10766" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10807" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-10809" href="../Substitution/#plfa_plfa-part2-Substitution-10777" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10811" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-10813" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10814" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-10816" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-10817" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10819" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10821" href="../Substitution/#plfa_plfa-part2-Substitution-10766" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-10823" href="../Substitution/#plfa_plfa-part2-Substitution-10742" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-10832" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10834" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-tail"></a><a id="plfa_plfa-part2-Substitution-10852" href="../Substitution/#plfa_plfa-part2-Substitution-10852" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-10861" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10863" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10865" href="../Substitution/#plfa_plfa-part2-Substitution-10865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10867" href="../Substitution/#plfa_plfa-part2-Substitution-10867" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10868" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10870" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10871" href="../Substitution/#plfa_plfa-part2-Substitution-10871" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-10873" href="../Substitution/#plfa_plfa-part2-Substitution-10873" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10874" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10876" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10877" href="../Substitution/#plfa_plfa-part2-Substitution-10877" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10879" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10881" href="../Substitution/#plfa_plfa-part2-Substitution-10867" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-10883" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10885" href="../Substitution/#plfa_plfa-part2-Substitution-10871" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10886" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10888" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10889" href="../Substitution/#plfa_plfa-part2-Substitution-10889" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10891" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10893" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10899" href="../Substitution/#plfa_plfa-part2-Substitution-10865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10901" href="../Substitution/#plfa_plfa-part2-Substitution-10867" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10902" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-10913" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10915" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10916" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-10918" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-10920" href="../Substitution/#plfa_plfa-part2-Substitution-10877" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10922" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-10924" href="../Substitution/#plfa_plfa-part2-Substitution-10889" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-10925" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10927" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10928" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-10930" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10932" href="../Substitution/#plfa_plfa-part2-Substitution-10873" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10933" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10935" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10937" href="../Substitution/#plfa_plfa-part2-Substitution-10889" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-10939" href="../Substitution/#plfa_plfa-part2-Substitution-10852" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-10948" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10950" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10965" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10967" href="../Substitution/#plfa_plfa-part2-Substitution-10967" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10969" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10971" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-η"></a><a id="plfa_plfa-part2-Substitution-10989" href="../Substitution/#plfa_plfa-part2-Substitution-10989" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-10995" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10997" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10999" href="../Substitution/#plfa_plfa-part2-Substitution-10999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11001" href="../Substitution/#plfa_plfa-part2-Substitution-11001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11002" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11004" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11005" href="../Substitution/#plfa_plfa-part2-Substitution-11005" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11007" href="../Substitution/#plfa_plfa-part2-Substitution-11007" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11008" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11010" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11011" href="../Substitution/#plfa_plfa-part2-Substitution-11011" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11013" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11015" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11021" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11022" href="../Substitution/#plfa_plfa-part2-Substitution-10999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11024" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11026" href="../Substitution/#plfa_plfa-part2-Substitution-11005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11027" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11029" href="../Substitution/#plfa_plfa-part2-Substitution-11001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11030" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Substitution-11038" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11040" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11041" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-11043" href="../Substitution/#plfa_plfa-part2-Substitution-11011" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11045" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-11047" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11048" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11050" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11051" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11053" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11055" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11056" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-11058" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11060" href="../Substitution/#plfa_plfa-part2-Substitution-11011" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11061" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11064" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11065" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-11067" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11069" href="../Substitution/#plfa_plfa-part2-Substitution-11007" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11070" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11072" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11074" href="../Substitution/#plfa_plfa-part2-Substitution-11011" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-11076" href="../Substitution/#plfa_plfa-part2-Substitution-10989" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-11082" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11083" href="../Substitution/#plfa_plfa-part2-Substitution-11083" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11084" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11086" href="../Substitution/#plfa_plfa-part2-Substitution-11086" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11087" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11089" href="../Substitution/#plfa_plfa-part2-Substitution-11089" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11090" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11092" href="../Substitution/#plfa_plfa-part2-Substitution-11092" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11093" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11095" href="../Substitution/#plfa_plfa-part2-Substitution-11095" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11096" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11098" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11100" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11115" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11117" href="../Substitution/#plfa_plfa-part2-Substitution-11117" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11119" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11121" href="../Substitution/#plfa_plfa-part2-Substitution-11139" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-11130" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-11139" href="../Substitution/#plfa_plfa-part2-Substitution-11139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11145" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11147" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-11149" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11150" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11151" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11153" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11155" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11157" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-11159" href="../Substitution/#plfa_plfa-part2-Substitution-11095" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11161" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-11163" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11164" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11166" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11167" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11170" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11172" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11173" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-11175" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11177" href="../Substitution/#plfa_plfa-part2-Substitution-11095" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11178" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11181" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11183" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11185" href="../Substitution/#plfa_plfa-part2-Substitution-11095" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11187" href="../Substitution/#plfa_plfa-part2-Substitution-11150" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-11192" href="../Substitution/#plfa_plfa-part2-Substitution-11139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11198" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11199" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11201" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11203" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11204" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11206" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11208" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-11216" href="../Substitution/#plfa_plfa-part2-Substitution-11139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11222" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11223" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11225" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11227" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11229" href="../Substitution/#plfa_plfa-part2-Substitution-11229" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11230" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11232" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11234" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Z-shift"></a><a id="plfa_plfa-part2-Substitution-11252" href="../Substitution/#plfa_plfa-part2-Substitution-11252" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-11260" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11262" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11264" href="../Substitution/#plfa_plfa-part2-Substitution-11264" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11265" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11267" href="../Substitution/#plfa_plfa-part2-Substitution-11267" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11269" href="../Substitution/#plfa_plfa-part2-Substitution-11269" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11270" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-11280" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11282" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11284" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11286" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11287" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11289" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11291" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-11292" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11294" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11296" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11300" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11301" href="../Substitution/#plfa_plfa-part2-Substitution-11264" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11303" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11305" href="../Substitution/#plfa_plfa-part2-Substitution-11267" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11306" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11308" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11309" href="../Substitution/#plfa_plfa-part2-Substitution-11269" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11310" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11312" href="../Substitution/#plfa_plfa-part2-Substitution-11252" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-11320" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11321" href="../Substitution/#plfa_plfa-part2-Substitution-11321" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11322" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11324" href="../Substitution/#plfa_plfa-part2-Substitution-11324" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11325" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11327" href="../Substitution/#plfa_plfa-part2-Substitution-11327" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11328" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11330" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11332" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11347" href="../Substitution/#plfa_plfa-part2-Substitution-11365" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-11356" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-11365" href="../Substitution/#plfa_plfa-part2-Substitution-11365" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11371" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11373" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11374" href="../Substitution/#plfa_plfa-part2-Substitution-11374" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11376" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11378" href="../Substitution/#plfa_plfa-part2-Substitution-11321" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11380" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11382" href="../Substitution/#plfa_plfa-part2-Substitution-11324" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11384" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-11386" href="../Substitution/#plfa_plfa-part2-Substitution-11327" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11387" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11389" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11391" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11393" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11395" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11396" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11398" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11400" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-11401" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11403" href="../Substitution/#plfa_plfa-part2-Substitution-11374" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11405" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11407" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11411" href="../Substitution/#plfa_plfa-part2-Substitution-11374" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-11416" href="../Substitution/#plfa_plfa-part2-Substitution-11365" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11422" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-11424" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11426" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-11434" href="../Substitution/#plfa_plfa-part2-Substitution-11365" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11440" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11441" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11443" href="../Substitution/#plfa_plfa-part2-Substitution-11443" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-11444" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11446" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11448" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idL"></a><a id="plfa_plfa-part2-Substitution-11466" href="../Substitution/#plfa_plfa-part2-Substitution-11466" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-11474" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11476" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11478" href="../Substitution/#plfa_plfa-part2-Substitution-11478" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11480" href="../Substitution/#plfa_plfa-part2-Substitution-11480" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11481" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11483" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11484" href="../Substitution/#plfa_plfa-part2-Substitution-11484" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11486" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11488" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11494" href="../Substitution/#plfa_plfa-part2-Substitution-11478" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11496" href="../Substitution/#plfa_plfa-part2-Substitution-11480" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11497" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11499" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11500" href="../Substitution/#plfa_plfa-part2-Substitution-11500" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11501" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-11510" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11512" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11516" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11518" href="../Substitution/#plfa_plfa-part2-Substitution-11484" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11520" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11522" href="../Substitution/#plfa_plfa-part2-Substitution-11484" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11524" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11525" href="../Substitution/#plfa_plfa-part2-Substitution-11500" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11526" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11528" href="../Substitution/#plfa_plfa-part2-Substitution-11466" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-11536" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11538" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11553" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11555" href="../Substitution/#plfa_plfa-part2-Substitution-11555" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11557" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11559" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-dist"></a><a id="plfa_plfa-part2-Substitution-11577" href="../Substitution/#plfa_plfa-part2-Substitution-11577" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-11586" class="Symbol">:</a>  <a id="plfa_plfa-part2-Substitution-11589" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11591" href="../Substitution/#plfa_plfa-part2-Substitution-11591" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11593" href="../Substitution/#plfa_plfa-part2-Substitution-11593" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11595" href="../Substitution/#plfa_plfa-part2-Substitution-11595" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-11597" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11599" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-11606" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11608" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11609" href="../Substitution/#plfa_plfa-part2-Substitution-11609" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11611" href="../Substitution/#plfa_plfa-part2-Substitution-11611" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11612" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11614" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11615" href="../Substitution/#plfa_plfa-part2-Substitution-11615" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11617" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11619" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11625" href="../Substitution/#plfa_plfa-part2-Substitution-11591" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11627" href="../Substitution/#plfa_plfa-part2-Substitution-11593" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11628" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11630" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11631" href="../Substitution/#plfa_plfa-part2-Substitution-11631" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11633" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11635" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11641" href="../Substitution/#plfa_plfa-part2-Substitution-11593" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11643" href="../Substitution/#plfa_plfa-part2-Substitution-11595" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-11644" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-11660" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11661" href="../Substitution/#plfa_plfa-part2-Substitution-11661" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11663" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11665" href="../Substitution/#plfa_plfa-part2-Substitution-11593" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11667" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11669" href="../Substitution/#plfa_plfa-part2-Substitution-11609" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11670" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-11681" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11683" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11685" href="../Substitution/#plfa_plfa-part2-Substitution-11661" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11687" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11689" href="../Substitution/#plfa_plfa-part2-Substitution-11615" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11690" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11692" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11694" href="../Substitution/#plfa_plfa-part2-Substitution-11631" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11695" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11697" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11699" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11701" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11707" href="../Substitution/#plfa_plfa-part2-Substitution-11631" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11709" href="../Substitution/#plfa_plfa-part2-Substitution-11661" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11710" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11712" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11714" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11715" href="../Substitution/#plfa_plfa-part2-Substitution-11615" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11717" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11719" href="../Substitution/#plfa_plfa-part2-Substitution-11631" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11720" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11723" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11724" href="../Substitution/#plfa_plfa-part2-Substitution-11611" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11725" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11727" href="../Substitution/#plfa_plfa-part2-Substitution-11577" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-11736" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11737" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11738" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11740" href="../Substitution/#plfa_plfa-part2-Substitution-11740" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11741" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11743" href="../Substitution/#plfa_plfa-part2-Substitution-11743" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-11744" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11746" href="../Substitution/#plfa_plfa-part2-Substitution-11746" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11747" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11749" href="../Substitution/#plfa_plfa-part2-Substitution-11749" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11750" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11752" href="../Substitution/#plfa_plfa-part2-Substitution-11752" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11753" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11755" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11756" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11758" href="../Substitution/#plfa_plfa-part2-Substitution-11758" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11759" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11761" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11763" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11778" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11780" href="../Substitution/#plfa_plfa-part2-Substitution-11780" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11782" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11784" href="../Substitution/#plfa_plfa-part2-Substitution-11808" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11790" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11791" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11793" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11795" href="../Substitution/#plfa_plfa-part2-Substitution-11780" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11796" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11800" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-11808" href="../Substitution/#plfa_plfa-part2-Substitution-11808" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11814" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11816" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-11818" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11819" href="../Substitution/#plfa_plfa-part2-Substitution-11819" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11821" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11823" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11825" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11827" href="../Substitution/#plfa_plfa-part2-Substitution-11746" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11829" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-11831" href="../Substitution/#plfa_plfa-part2-Substitution-11749" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11832" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11834" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11836" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11838" href="../Substitution/#plfa_plfa-part2-Substitution-11758" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11840" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11842" href="../Substitution/#plfa_plfa-part2-Substitution-11752" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11843" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11845" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11847" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11848" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11850" href="../Substitution/#plfa_plfa-part2-Substitution-11819" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11852" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11854" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11856" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11862" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11864" href="../Substitution/#plfa_plfa-part2-Substitution-11758" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11865" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11867" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11869" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11870" href="../Substitution/#plfa_plfa-part2-Substitution-11752" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11872" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11874" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11875" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11878" href="../Substitution/#plfa_plfa-part2-Substitution-11819" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-11882" href="../Substitution/#plfa_plfa-part2-Substitution-11808" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11888" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11889" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11891" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11893" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11894" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11896" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11898" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-11905" href="../Substitution/#plfa_plfa-part2-Substitution-11808" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11911" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11912" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11914" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11916" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11918" href="../Substitution/#plfa_plfa-part2-Substitution-11918" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11919" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11921" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11923" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-app"></a><a id="plfa_plfa-part2-Substitution-11941" href="../Substitution/#plfa_plfa-part2-Substitution-11941" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-11949" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11951" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11953" href="../Substitution/#plfa_plfa-part2-Substitution-11953" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11955" href="../Substitution/#plfa_plfa-part2-Substitution-11955" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11956" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11958" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11959" href="../Substitution/#plfa_plfa-part2-Substitution-11959" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11961" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11963" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11969" href="../Substitution/#plfa_plfa-part2-Substitution-11953" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11971" href="../Substitution/#plfa_plfa-part2-Substitution-11955" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11972" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11974" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11975" href="../Substitution/#plfa_plfa-part2-Substitution-11975" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-11977" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11979" href="../Substitution/#plfa_plfa-part2-Substitution-11953" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11981" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11983" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-11984" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11986" href="../Substitution/#plfa_plfa-part2-Substitution-11986" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11988" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11990" href="../Substitution/#plfa_plfa-part2-Substitution-11953" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11992" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11994" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-11995" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-12005" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12007" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-12009" href="../Substitution/#plfa_plfa-part2-Substitution-11959" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12011" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-12013" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12014" href="../Substitution/#plfa_plfa-part2-Substitution-11975" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-12016" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-12018" href="../Substitution/#plfa_plfa-part2-Substitution-11986" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-12019" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-12022" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12024" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12025" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-12027" href="../Substitution/#plfa_plfa-part2-Substitution-11959" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12029" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-12031" href="../Substitution/#plfa_plfa-part2-Substitution-11975" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-12032" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12034" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-12036" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12037" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-12039" href="../Substitution/#plfa_plfa-part2-Substitution-11959" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12041" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-12043" href="../Substitution/#plfa_plfa-part2-Substitution-11986" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-12044" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-12046" href="../Substitution/#plfa_plfa-part2-Substitution-11941" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-12054" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12056" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h2 id="插曲合同性">插曲：合同性</h2><p>在本节中，我们将为 σ-代数的算子 <code>•</code> 和 <code>⨟</code>、<code>subst</code> 及其辅助函数 <code>ext</code>、 <code>rename</code>、<code>exts</code> 以及 <code>subst-zero</code> 建立合同律。这些合同律有助于后续章节的等式推理。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-ext"></a><a id="plfa_plfa-part2-Substitution-12507" href="../Substitution/#plfa_plfa-part2-Substitution-12507" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-12516" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12518" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12520" href="../Substitution/#plfa_plfa-part2-Substitution-12520" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12522" href="../Substitution/#plfa_plfa-part2-Substitution-12522" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12523" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12525" href="../Substitution/#plfa_plfa-part2-Substitution-12525" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12527" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12530" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12532" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-12539" href="../Substitution/#plfa_plfa-part2-Substitution-12520" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12541" href="../Substitution/#plfa_plfa-part2-Substitution-12522" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12542" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12544" href="../Substitution/#plfa_plfa-part2-Substitution-12544" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12545" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-12550" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12552" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12555" href="../Substitution/#plfa_plfa-part2-Substitution-12555" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12556" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12558" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12560" href="../Substitution/#plfa_plfa-part2-Substitution-12525" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12562" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12564" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12567" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12568" href="../Substitution/#plfa_plfa-part2-Substitution-12555" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12569" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-12577" class="Comment">---------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-12614" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12616" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12618" href="../Substitution/#plfa_plfa-part2-Substitution-12618" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12619" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12621" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12623" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12627" href="../Substitution/#plfa_plfa-part2-Substitution-12525" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12629" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12630" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-12632" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12634" href="../Substitution/#plfa_plfa-part2-Substitution-12544" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12635" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12637" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12639" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12643" href="../Substitution/#plfa_plfa-part2-Substitution-12527" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12646" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12647" href="../Substitution/#plfa_plfa-part2-Substitution-12618" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12648" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-12650" href="../Substitution/#plfa_plfa-part2-Substitution-12507" class="Function">cong-ext</a><a id="plfa_plfa-part2-Substitution-12658" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12659" href="../Substitution/#plfa_plfa-part2-Substitution-12659" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-12660" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12662" href="../Substitution/#plfa_plfa-part2-Substitution-12662" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12663" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12665" href="../Substitution/#plfa_plfa-part2-Substitution-12665" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-12666" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12668" href="../Substitution/#plfa_plfa-part2-Substitution-12668" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-12670" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12672" href="../Substitution/#plfa_plfa-part2-Substitution-12672" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12673" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12675" href="../Substitution/#plfa_plfa-part2-Substitution-12675" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-12678" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12679" href="../Substitution/#plfa_plfa-part2-Substitution-12679" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12680" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12682" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12684" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-12699" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-12701" href="../Substitution/#plfa_plfa-part2-Substitution-12701" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12703" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12705" href="../Substitution/#plfa_plfa-part2-Substitution-12725" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12711" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12712" href="../Substitution/#plfa_plfa-part2-Substitution-12701" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12713" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-12717" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-12725" href="../Substitution/#plfa_plfa-part2-Substitution-12725" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12731" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12733" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12735" href="../Substitution/#plfa_plfa-part2-Substitution-12735" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12737" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12739" href="../Substitution/#plfa_plfa-part2-Substitution-12659" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12741" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-12743" href="../Substitution/#plfa_plfa-part2-Substitution-12672" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-12745" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-12747" href="../Substitution/#plfa_plfa-part2-Substitution-12679" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12748" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12750" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12752" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12756" href="../Substitution/#plfa_plfa-part2-Substitution-12665" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12758" href="../Substitution/#plfa_plfa-part2-Substitution-12735" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12760" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12762" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12766" href="../Substitution/#plfa_plfa-part2-Substitution-12668" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12769" href="../Substitution/#plfa_plfa-part2-Substitution-12735" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12773" href="../Substitution/#plfa_plfa-part2-Substitution-12725" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12779" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12780" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-12781" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12783" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12785" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-12792" href="../Substitution/#plfa_plfa-part2-Substitution-12725" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12798" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12799" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-12801" href="../Substitution/#plfa_plfa-part2-Substitution-12801" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-12802" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12804" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12806" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-12811" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-12814" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12815" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12824" href="../Substitution/#plfa_plfa-part2-Substitution-12675" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-12827" href="../Substitution/#plfa_plfa-part2-Substitution-12801" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-12828" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-rename"></a><a id="plfa_plfa-part2-Substitution-12843" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-12855" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12857" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12859" href="../Substitution/#plfa_plfa-part2-Substitution-12859" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12861" href="../Substitution/#plfa_plfa-part2-Substitution-12861" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12862" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12864" href="../Substitution/#plfa_plfa-part2-Substitution-12864" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12866" href="../Substitution/#plfa_plfa-part2-Substitution-12866" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12869" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12871" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-12878" href="../Substitution/#plfa_plfa-part2-Substitution-12859" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12880" href="../Substitution/#plfa_plfa-part2-Substitution-12861" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12881" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12883" href="../Substitution/#plfa_plfa-part2-Substitution-12883" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12884" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12886" href="../Substitution/#plfa_plfa-part2-Substitution-12886" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12888" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12890" href="../Substitution/#plfa_plfa-part2-Substitution-12859" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12892" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-12894" href="../Substitution/#plfa_plfa-part2-Substitution-12883" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12895" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-12905" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12907" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12910" href="../Substitution/#plfa_plfa-part2-Substitution-12910" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12911" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12913" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12915" href="../Substitution/#plfa_plfa-part2-Substitution-12864" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12917" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12919" href="../Substitution/#plfa_plfa-part2-Substitution-12866" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12922" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12923" href="../Substitution/#plfa_plfa-part2-Substitution-12910" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12924" class="Symbol">})</a>
          <a id="plfa_plfa-part2-Substitution-12937" class="Comment">------------------------</a>
        <a id="plfa_plfa-part2-Substitution-12970" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12972" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-12979" href="../Substitution/#plfa_plfa-part2-Substitution-12864" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12981" href="../Substitution/#plfa_plfa-part2-Substitution-12886" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12983" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12985" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-12992" href="../Substitution/#plfa_plfa-part2-Substitution-12866" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12995" href="../Substitution/#plfa_plfa-part2-Substitution-12886" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-12997" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13009" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13010" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13012" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13014" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-13016" href="../Substitution/#plfa_plfa-part2-Substitution-13016" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13017" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13019" href="../Substitution/#plfa_plfa-part2-Substitution-13019" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13022" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13024" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13029" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Substitution-13032" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13033" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13042" href="../Substitution/#plfa_plfa-part2-Substitution-13019" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13045" href="../Substitution/#plfa_plfa-part2-Substitution-13016" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13046" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-13048" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13060" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13061" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13063" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13065" href="../Substitution/#plfa_plfa-part2-Substitution-13065" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13066" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13068" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13069" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-13072" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13074" href="../Substitution/#plfa_plfa-part2-Substitution-13074" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-13076" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13078" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13079" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13081" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13083" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13085" href="../Substitution/#plfa_plfa-part2-Substitution-13085" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13086" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13088" href="../Substitution/#plfa_plfa-part2-Substitution-13088" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13091" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13096" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13101" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13104" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13105" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13117" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13118" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13120" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13122" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13126" href="../Substitution/#plfa_plfa-part2-Substitution-13065" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13127" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13129" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-13132" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13134" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13138" href="../Substitution/#plfa_plfa-part2-Substitution-13074" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-13140" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13142" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13144" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13146" href="../Substitution/#plfa_plfa-part2-Substitution-13085" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13147" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13149" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13150" href="../Substitution/#plfa_plfa-part2-Substitution-12507" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-13159" href="../Substitution/#plfa_plfa-part2-Substitution-13088" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13161" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-13164" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13176" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13177" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13179" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13181" href="../Substitution/#plfa_plfa-part2-Substitution-13181" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-13183" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-13185" href="../Substitution/#plfa_plfa-part2-Substitution-13185" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13186" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13188" href="../Substitution/#plfa_plfa-part2-Substitution-13188" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13191" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13196" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-13202" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-13206" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13207" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13219" href="../Substitution/#plfa_plfa-part2-Substitution-13188" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13221" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13223" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13224" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13236" href="../Substitution/#plfa_plfa-part2-Substitution-13188" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13238" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-exts"></a><a id="plfa_plfa-part2-Substitution-13253" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-13263" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13265" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13267" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13269" href="../Substitution/#plfa_plfa-part2-Substitution-13269" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13270" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13272" href="../Substitution/#plfa_plfa-part2-Substitution-13272" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13274" href="../Substitution/#plfa_plfa-part2-Substitution-13274" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13277" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13279" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-13285" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13287" href="../Substitution/#plfa_plfa-part2-Substitution-13269" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13288" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13290" href="../Substitution/#plfa_plfa-part2-Substitution-13290" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13291" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-13296" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13298" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-13301" href="../Substitution/#plfa_plfa-part2-Substitution-13301" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13302" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13304" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13306" href="../Substitution/#plfa_plfa-part2-Substitution-13272" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13308" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13310" href="../Substitution/#plfa_plfa-part2-Substitution-13274" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13313" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13314" href="../Substitution/#plfa_plfa-part2-Substitution-13301" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13315" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-13323" class="Comment">-----------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-13362" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13364" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13366" href="../Substitution/#plfa_plfa-part2-Substitution-13366" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13367" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13369" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13371" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13376" href="../Substitution/#plfa_plfa-part2-Substitution-13272" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13378" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13379" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-13381" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13383" href="../Substitution/#plfa_plfa-part2-Substitution-13290" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13384" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13386" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13388" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13393" href="../Substitution/#plfa_plfa-part2-Substitution-13274" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13396" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13397" href="../Substitution/#plfa_plfa-part2-Substitution-13366" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13398" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-13400" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Function">cong-exts</a><a id="plfa_plfa-part2-Substitution-13409" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13410" href="../Substitution/#plfa_plfa-part2-Substitution-13410" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13411" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13413" href="../Substitution/#plfa_plfa-part2-Substitution-13413" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13414" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13416" href="../Substitution/#plfa_plfa-part2-Substitution-13416" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13417" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13419" href="../Substitution/#plfa_plfa-part2-Substitution-13419" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13421" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13423" href="../Substitution/#plfa_plfa-part2-Substitution-13423" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13424" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13426" href="../Substitution/#plfa_plfa-part2-Substitution-13426" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13429" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13430" href="../Substitution/#plfa_plfa-part2-Substitution-13430" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13431" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13433" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13435" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-13450" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-13452" href="../Substitution/#plfa_plfa-part2-Substitution-13452" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13454" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13456" href="../Substitution/#plfa_plfa-part2-Substitution-13478" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13462" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13463" href="../Substitution/#plfa_plfa-part2-Substitution-13452" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13464" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-13469" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-13478" href="../Substitution/#plfa_plfa-part2-Substitution-13478" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13484" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13486" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13488" href="../Substitution/#plfa_plfa-part2-Substitution-13488" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13489" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13491" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13493" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13498" href="../Substitution/#plfa_plfa-part2-Substitution-13416" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13500" href="../Substitution/#plfa_plfa-part2-Substitution-13488" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13502" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13504" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13509" href="../Substitution/#plfa_plfa-part2-Substitution-13419" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13512" href="../Substitution/#plfa_plfa-part2-Substitution-13488" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-13517" href="../Substitution/#plfa_plfa-part2-Substitution-13478" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13523" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13524" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-13525" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13527" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13529" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-13537" href="../Substitution/#plfa_plfa-part2-Substitution-13478" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13543" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13544" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-13546" href="../Substitution/#plfa_plfa-part2-Substitution-13546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13547" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13549" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13551" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13556" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13557" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13564" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-13566" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13568" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13569" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13578" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13579" href="../Substitution/#plfa_plfa-part2-Substitution-13426" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13582" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13583" href="../Substitution/#plfa_plfa-part2-Substitution-13430" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13584" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13587" href="../Substitution/#plfa_plfa-part2-Substitution-13546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13588" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub"></a><a id="plfa_plfa-part2-Substitution-13603" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13612" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13614" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13616" href="../Substitution/#plfa_plfa-part2-Substitution-13616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13618" href="../Substitution/#plfa_plfa-part2-Substitution-13618" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13619" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13621" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13623" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13626" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13628" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-13634" href="../Substitution/#plfa_plfa-part2-Substitution-13616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13636" href="../Substitution/#plfa_plfa-part2-Substitution-13618" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13637" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13639" href="../Substitution/#plfa_plfa-part2-Substitution-13639" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13640" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13642" href="../Substitution/#plfa_plfa-part2-Substitution-13642" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13644" href="../Substitution/#plfa_plfa-part2-Substitution-13644" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-13647" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13649" href="../Substitution/#plfa_plfa-part2-Substitution-13616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13651" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-13653" href="../Substitution/#plfa_plfa-part2-Substitution-13639" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13654" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-13668" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13670" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-13673" href="../Substitution/#plfa_plfa-part2-Substitution-13673" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13674" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13676" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13678" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13680" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13682" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13685" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13686" href="../Substitution/#plfa_plfa-part2-Substitution-13673" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13687" class="Symbol">})</a>  <a id="plfa_plfa-part2-Substitution-13691" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-13694" href="../Substitution/#plfa_plfa-part2-Substitution-13642" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13696" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13698" href="../Substitution/#plfa_plfa-part2-Substitution-13644" class="Bound">M′</a>
              <a id="plfa_plfa-part2-Substitution-13715" class="Comment">------------------------------</a>
            <a id="plfa_plfa-part2-Substitution-13758" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13760" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-13766" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13768" href="../Substitution/#plfa_plfa-part2-Substitution-13642" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13770" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13772" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-13778" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13781" href="../Substitution/#plfa_plfa-part2-Substitution-13644" class="Bound">M′</a>
<a id="plfa_plfa-part2-Substitution-13784" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13793" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13794" href="../Substitution/#plfa_plfa-part2-Substitution-13794" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13795" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13797" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13798" href="../Substitution/#plfa_plfa-part2-Substitution-13798" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13799" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13801" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13802" href="../Substitution/#plfa_plfa-part2-Substitution-13802" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13803" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13805" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13806" href="../Substitution/#plfa_plfa-part2-Substitution-13806" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13808" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13810" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13811" href="../Substitution/#plfa_plfa-part2-Substitution-13811" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13812" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13814" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13815" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-13817" href="../Substitution/#plfa_plfa-part2-Substitution-13817" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13818" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13820" href="../Substitution/#plfa_plfa-part2-Substitution-13820" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13823" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-13828" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13830" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13839" href="../Substitution/#plfa_plfa-part2-Substitution-13820" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13842" href="../Substitution/#plfa_plfa-part2-Substitution-13817" class="Bound">x</a>
<a id="plfa_plfa-part2-Substitution-13844" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13853" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13854" href="../Substitution/#plfa_plfa-part2-Substitution-13854" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13855" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13857" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13858" href="../Substitution/#plfa_plfa-part2-Substitution-13858" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13859" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13861" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13862" href="../Substitution/#plfa_plfa-part2-Substitution-13862" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13863" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13865" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13866" href="../Substitution/#plfa_plfa-part2-Substitution-13866" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13868" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13870" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13871" href="../Substitution/#plfa_plfa-part2-Substitution-13871" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13872" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13874" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13875" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13877" href="../Substitution/#plfa_plfa-part2-Substitution-13877" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13878" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13880" href="../Substitution/#plfa_plfa-part2-Substitution-13880" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13883" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-13888" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13893" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13898" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13901" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13902" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13911" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13912" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-13914" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13916" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13921" href="../Substitution/#plfa_plfa-part2-Substitution-13862" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13922" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13924" class="Argument">σ′</a> <a id="plfa_plfa-part2-Substitution-13927" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13929" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13934" href="../Substitution/#plfa_plfa-part2-Substitution-13866" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13936" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13938" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13939" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13941" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13943" href="../Substitution/#plfa_plfa-part2-Substitution-13877" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13944" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13946" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13947" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-13957" href="../Substitution/#plfa_plfa-part2-Substitution-13880" class="Bound">ss</a><a id="plfa_plfa-part2-Substitution-13959" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13961" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-13965" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-13967" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13976" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13977" href="../Substitution/#plfa_plfa-part2-Substitution-13977" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13978" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13980" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13981" href="../Substitution/#plfa_plfa-part2-Substitution-13981" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13982" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13984" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13985" href="../Substitution/#plfa_plfa-part2-Substitution-13985" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13986" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13988" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13989" href="../Substitution/#plfa_plfa-part2-Substitution-13989" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13991" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13993" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13994" href="../Substitution/#plfa_plfa-part2-Substitution-13994" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13995" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13997" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13998" href="../Substitution/#plfa_plfa-part2-Substitution-13998" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-14000" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-14002" href="../Substitution/#plfa_plfa-part2-Substitution-14002" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14003" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14005" href="../Substitution/#plfa_plfa-part2-Substitution-14005" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-14008" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-14013" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-14018" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-14024" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-14028" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14029" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-14038" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14039" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14041" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14043" href="../Substitution/#plfa_plfa-part2-Substitution-13998" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-14044" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14046" href="../Substitution/#plfa_plfa-part2-Substitution-14005" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-14049" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-14053" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14055" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14056" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-14065" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14066" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14068" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14070" href="../Substitution/#plfa_plfa-part2-Substitution-14002" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14071" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14073" href="../Substitution/#plfa_plfa-part2-Substitution-14005" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-14076" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-14080" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub-zero"></a><a id="plfa_plfa-part2-Substitution-14095" href="../Substitution/#plfa_plfa-part2-Substitution-14095" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-14109" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14111" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14113" href="../Substitution/#plfa_plfa-part2-Substitution-14113" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14114" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14116" href="../Substitution/#plfa_plfa-part2-Substitution-14116" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-14118" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14120" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-14124" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14126" href="../Substitution/#plfa_plfa-part2-Substitution-14126" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14128" href="../Substitution/#plfa_plfa-part2-Substitution-14128" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-14131" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14133" href="../Substitution/#plfa_plfa-part2-Substitution-14113" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14135" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14137" href="../Substitution/#plfa_plfa-part2-Substitution-14116" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14138" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14142" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14144" href="../Substitution/#plfa_plfa-part2-Substitution-14126" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14146" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14148" href="../Substitution/#plfa_plfa-part2-Substitution-14128" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Substitution-14155" class="Comment">-----------------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-14199" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14201" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14203" href="../Substitution/#plfa_plfa-part2-Substitution-14203" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14204" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14206" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14208" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14219" href="../Substitution/#plfa_plfa-part2-Substitution-14126" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14221" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14223" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14224" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14235" href="../Substitution/#plfa_plfa-part2-Substitution-14128" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-14237" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14239" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14240" href="../Substitution/#plfa_plfa-part2-Substitution-14203" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14241" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14243" href="../Substitution/#plfa_plfa-part2-Substitution-14095" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-14257" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14258" href="../Substitution/#plfa_plfa-part2-Substitution-14258" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14259" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14261" href="../Substitution/#plfa_plfa-part2-Substitution-14261" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14262" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14264" href="../Substitution/#plfa_plfa-part2-Substitution-14264" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14265" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14267" href="../Substitution/#plfa_plfa-part2-Substitution-14267" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-14269" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14271" href="../Substitution/#plfa_plfa-part2-Substitution-14271" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Substitution-14275" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14276" href="../Substitution/#plfa_plfa-part2-Substitution-14276" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14277" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14279" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-14284" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14299" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-14301" href="../Substitution/#plfa_plfa-part2-Substitution-14301" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14303" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14305" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-14310" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-14313" href="../Substitution/#plfa_plfa-part2-Substitution-14313" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-14315" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14317" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14328" href="../Substitution/#plfa_plfa-part2-Substitution-14313" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-14330" href="../Substitution/#plfa_plfa-part2-Substitution-14301" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14331" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14333" href="../Substitution/#plfa_plfa-part2-Substitution-14271" class="Bound">mm&#39;</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-cons"></a><a id="plfa_plfa-part2-Substitution-14350" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-14360" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14362" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14364" href="../Substitution/#plfa_plfa-part2-Substitution-14364" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14366" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14367" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14369" href="../Substitution/#plfa_plfa-part2-Substitution-14369" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14370" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14372" href="../Substitution/#plfa_plfa-part2-Substitution-14372" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14374" href="../Substitution/#plfa_plfa-part2-Substitution-14374" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-14376" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14378" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14380" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14382" href="../Substitution/#plfa_plfa-part2-Substitution-14369" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14383" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14385" href="../Substitution/#plfa_plfa-part2-Substitution-14385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14387" href="../Substitution/#plfa_plfa-part2-Substitution-14387" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14389" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14391" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14397" href="../Substitution/#plfa_plfa-part2-Substitution-14364" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14399" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14400" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14404" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14406" href="../Substitution/#plfa_plfa-part2-Substitution-14372" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14408" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14410" href="../Substitution/#plfa_plfa-part2-Substitution-14374" class="Bound">N</a>  <a id="plfa_plfa-part2-Substitution-14413" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-14416" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14419" href="../Substitution/#plfa_plfa-part2-Substitution-14419" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14420" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14422" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14424" href="../Substitution/#plfa_plfa-part2-Substitution-14385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14426" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14427" href="../Substitution/#plfa_plfa-part2-Substitution-14419" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14428" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14430" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14432" href="../Substitution/#plfa_plfa-part2-Substitution-14387" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14434" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14435" href="../Substitution/#plfa_plfa-part2-Substitution-14419" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14436" class="Symbol">})</a>
    <a id="plfa_plfa-part2-Substitution-14443" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-14478" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14480" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14482" href="../Substitution/#plfa_plfa-part2-Substitution-14482" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14483" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14485" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14487" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14488" href="../Substitution/#plfa_plfa-part2-Substitution-14372" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14490" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14492" href="../Substitution/#plfa_plfa-part2-Substitution-14385" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14493" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14495" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14496" href="../Substitution/#plfa_plfa-part2-Substitution-14482" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14497" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14499" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14501" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14502" href="../Substitution/#plfa_plfa-part2-Substitution-14374" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-14504" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14506" href="../Substitution/#plfa_plfa-part2-Substitution-14387" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14507" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14509" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14510" href="../Substitution/#plfa_plfa-part2-Substitution-14482" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14511" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14513" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a><a id="plfa_plfa-part2-Substitution-14522" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14523" href="../Substitution/#plfa_plfa-part2-Substitution-14523" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14524" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14526" href="../Substitution/#plfa_plfa-part2-Substitution-14526" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14527" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14529" href="../Substitution/#plfa_plfa-part2-Substitution-14529" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14530" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14532" href="../Substitution/#plfa_plfa-part2-Substitution-14532" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14533" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14535" href="../Substitution/#plfa_plfa-part2-Substitution-14535" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-14536" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14538" href="../Substitution/#plfa_plfa-part2-Substitution-14538" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14539" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14541" href="../Substitution/#plfa_plfa-part2-Substitution-14541" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14542" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14544" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-14549" href="../Substitution/#plfa_plfa-part2-Substitution-14549" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-14552" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14553" href="../Substitution/#plfa_plfa-part2-Substitution-14553" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-14555" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14557" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14559" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14574" href="../Substitution/#plfa_plfa-part2-Substitution-14590" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-14582" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14590" href="../Substitution/#plfa_plfa-part2-Substitution-14590" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14596" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14598" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14599" href="../Substitution/#plfa_plfa-part2-Substitution-14599" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14601" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14603" href="../Substitution/#plfa_plfa-part2-Substitution-14523" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14605" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-14607" href="../Substitution/#plfa_plfa-part2-Substitution-14529" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-14609" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14611" href="../Substitution/#plfa_plfa-part2-Substitution-14553" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-14613" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14615" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14617" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14618" href="../Substitution/#plfa_plfa-part2-Substitution-14532" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14620" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14622" href="../Substitution/#plfa_plfa-part2-Substitution-14538" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14623" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14625" href="../Substitution/#plfa_plfa-part2-Substitution-14599" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14627" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14629" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14630" href="../Substitution/#plfa_plfa-part2-Substitution-14532" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14632" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14634" href="../Substitution/#plfa_plfa-part2-Substitution-14541" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14635" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14637" href="../Substitution/#plfa_plfa-part2-Substitution-14599" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14641" href="../Substitution/#plfa_plfa-part2-Substitution-14590" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14647" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-14649" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14651" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-14658" href="../Substitution/#plfa_plfa-part2-Substitution-14590" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14664" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14665" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-14667" href="../Substitution/#plfa_plfa-part2-Substitution-14667" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14668" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14670" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14672" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-14681" href="../Substitution/#plfa_plfa-part2-Substitution-14549" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-14684" href="../Substitution/#plfa_plfa-part2-Substitution-14667" class="Bound">x</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-seq"></a><a id="plfa_plfa-part2-Substitution-14699" href="../Substitution/#plfa_plfa-part2-Substitution-14699" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-14708" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14710" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14712" href="../Substitution/#plfa_plfa-part2-Substitution-14712" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14714" href="../Substitution/#plfa_plfa-part2-Substitution-14714" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14716" href="../Substitution/#plfa_plfa-part2-Substitution-14716" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14717" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14719" href="../Substitution/#plfa_plfa-part2-Substitution-14719" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14721" href="../Substitution/#plfa_plfa-part2-Substitution-14721" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14724" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14726" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14732" href="../Substitution/#plfa_plfa-part2-Substitution-14712" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14734" href="../Substitution/#plfa_plfa-part2-Substitution-14714" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14735" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14737" href="../Substitution/#plfa_plfa-part2-Substitution-14737" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14739" href="../Substitution/#plfa_plfa-part2-Substitution-14739" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-14742" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14744" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14750" href="../Substitution/#plfa_plfa-part2-Substitution-14714" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14752" href="../Substitution/#plfa_plfa-part2-Substitution-14716" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14753" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14757" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14759" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14762" href="../Substitution/#plfa_plfa-part2-Substitution-14762" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14763" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14765" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14767" href="../Substitution/#plfa_plfa-part2-Substitution-14719" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14769" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14770" href="../Substitution/#plfa_plfa-part2-Substitution-14762" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14771" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14773" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14775" href="../Substitution/#plfa_plfa-part2-Substitution-14721" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14778" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14779" href="../Substitution/#plfa_plfa-part2-Substitution-14762" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14780" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14783" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14785" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14788" href="../Substitution/#plfa_plfa-part2-Substitution-14788" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14789" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14791" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14793" href="../Substitution/#plfa_plfa-part2-Substitution-14737" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14795" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14796" href="../Substitution/#plfa_plfa-part2-Substitution-14788" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14797" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14799" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14801" href="../Substitution/#plfa_plfa-part2-Substitution-14739" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-14804" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14805" href="../Substitution/#plfa_plfa-part2-Substitution-14788" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14806" class="Symbol">})</a>
  <a id="plfa_plfa-part2-Substitution-14811" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14813" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14815" href="../Substitution/#plfa_plfa-part2-Substitution-14815" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14816" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14818" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14820" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14821" href="../Substitution/#plfa_plfa-part2-Substitution-14719" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14823" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14825" href="../Substitution/#plfa_plfa-part2-Substitution-14737" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14826" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14828" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14829" href="../Substitution/#plfa_plfa-part2-Substitution-14815" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14830" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14832" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14834" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14835" href="../Substitution/#plfa_plfa-part2-Substitution-14721" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14838" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14840" href="../Substitution/#plfa_plfa-part2-Substitution-14739" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14842" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14844" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14845" href="../Substitution/#plfa_plfa-part2-Substitution-14815" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14846" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14848" href="../Substitution/#plfa_plfa-part2-Substitution-14699" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-14857" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14858" href="../Substitution/#plfa_plfa-part2-Substitution-14858" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14859" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14861" href="../Substitution/#plfa_plfa-part2-Substitution-14861" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14862" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14864" href="../Substitution/#plfa_plfa-part2-Substitution-14864" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14865" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14867" href="../Substitution/#plfa_plfa-part2-Substitution-14867" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14868" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14870" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-14872" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14874" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14875" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14877" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14879" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14881" href="../Substitution/#plfa_plfa-part2-Substitution-14881" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-14885" href="../Substitution/#plfa_plfa-part2-Substitution-14885" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-14889" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14890" href="../Substitution/#plfa_plfa-part2-Substitution-14890" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14891" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14893" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14895" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14910" href="../Substitution/#plfa_plfa-part2-Substitution-14926" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-14918" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14926" href="../Substitution/#plfa_plfa-part2-Substitution-14926" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14932" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14934" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14935" href="../Substitution/#plfa_plfa-part2-Substitution-14935" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14937" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14939" href="../Substitution/#plfa_plfa-part2-Substitution-14858" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14941" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14943" href="../Substitution/#plfa_plfa-part2-Substitution-14890" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14944" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14946" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14948" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14949" href="../Substitution/#plfa_plfa-part2-Substitution-14867" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14951" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14953" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14954" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14956" href="../Substitution/#plfa_plfa-part2-Substitution-14935" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14958" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14960" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14961" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14964" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14966" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14968" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14970" href="../Substitution/#plfa_plfa-part2-Substitution-14935" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14974" href="../Substitution/#plfa_plfa-part2-Substitution-14926" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14980" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14982" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-14989" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-15002" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15003" href="../Substitution/#plfa_plfa-part2-Substitution-14867" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15005" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15007" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-15008" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15010" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-15017" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-15028" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15034" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-15036" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15037" href="../Substitution/#plfa_plfa-part2-Substitution-14867" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15039" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15040" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15047" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15050" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-15055" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15056" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15062" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-15063" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15065" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15066" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1670" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-15075" href="../Substitution/#plfa_plfa-part2-Substitution-14881" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-15079" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15080" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15082" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-15091" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15097" href="../Substitution/#plfa_plfa-part2-Substitution-14874" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-15099" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15100" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15103" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15104" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15111" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15114" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-15122" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15123" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-15125" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15127" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15130" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15131" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15133" href="../Substitution/#plfa_plfa-part2-Substitution-14885" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-15137" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-15142" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-15151" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15157" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-15160" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15161" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15164" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15165" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15172" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-15183" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15184" href="../Substitution/#plfa_plfa-part2-Substitution-14870" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15187" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15189" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-15191" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15193" href="../Substitution/#plfa_plfa-part2-Substitution-14980" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-15200" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="将-renameextsext-和-subst-zero-关联到-σ-代数">将 <code>rename</code>、<code>exts</code>、<code>ext</code> 和 <code>subst-zero</code> 关联到 σ-代数</h2><p>本节中我们将为 σ-代数中的项与 <code>subst</code> 及其辅助函数（<code>rename</code>、<code>exts</code>、<code>ext</code> 和 <code>subst-zero</code>）建立关联方程。</p><p>我们要证明的第一个方程是</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M              (rename-subst-ren)</code></pre><p>由于 <code>subst</code> 使用了 <code>exts</code> 函数，我们需要以下引理，它证明了 <code>exts</code> 和 <code>ext</code> 做的事情一样，只不过 <code>ext</code> 应用于重命名，而 <code>exts</code> 应用于代换。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-ext"></a><a id="plfa_plfa-part2-Substitution-16007" href="../Substitution/#plfa_plfa-part2-Substitution-16007" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-16015" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16017" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-16019" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16020" href="../Substitution/#plfa_plfa-part2-Substitution-16020" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16022" href="../Substitution/#plfa_plfa-part2-Substitution-16022" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16023" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16025" href="../Substitution/#plfa_plfa-part2-Substitution-16025" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16027" href="../Substitution/#plfa_plfa-part2-Substitution-16027" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-16029" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16031" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-16035" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16037" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16038" href="../Substitution/#plfa_plfa-part2-Substitution-16038" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16040" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16042" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-16049" href="../Substitution/#plfa_plfa-part2-Substitution-16020" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16051" href="../Substitution/#plfa_plfa-part2-Substitution-16022" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16052" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-16062" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16064" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16068" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16069" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16073" href="../Substitution/#plfa_plfa-part2-Substitution-16038" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16075" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16076" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-16078" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16080" href="../Substitution/#plfa_plfa-part2-Substitution-16025" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16081" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-16084" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16086" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16091" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16092" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16096" href="../Substitution/#plfa_plfa-part2-Substitution-16038" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16097" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16099" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16100" href="../Substitution/#plfa_plfa-part2-Substitution-16027" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16101" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-16103" href="../Substitution/#plfa_plfa-part2-Substitution-16007" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-16111" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16112" href="../Substitution/#plfa_plfa-part2-Substitution-16112" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16113" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16115" href="../Substitution/#plfa_plfa-part2-Substitution-16115" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16116" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16118" href="../Substitution/#plfa_plfa-part2-Substitution-16118" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16119" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16121" href="../Substitution/#plfa_plfa-part2-Substitution-16121" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16122" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16124" href="../Substitution/#plfa_plfa-part2-Substitution-16124" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16125" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16127" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16129" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-16144" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-16146" href="../Substitution/#plfa_plfa-part2-Substitution-16146" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16148" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16150" href="../Substitution/#plfa_plfa-part2-Substitution-16174" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16156" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16157" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16159" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16161" href="../Substitution/#plfa_plfa-part2-Substitution-16146" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16162" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-16166" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-16174" href="../Substitution/#plfa_plfa-part2-Substitution-16174" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16180" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16182" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-16184" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16185" href="../Substitution/#plfa_plfa-part2-Substitution-16185" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16187" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16189" href="../Substitution/#plfa_plfa-part2-Substitution-16112" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16191" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16193" href="../Substitution/#plfa_plfa-part2-Substitution-16118" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16195" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-16197" href="../Substitution/#plfa_plfa-part2-Substitution-16121" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16198" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16200" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16203" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16207" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16208" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16212" href="../Substitution/#plfa_plfa-part2-Substitution-16124" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16213" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-16216" href="../Substitution/#plfa_plfa-part2-Substitution-16185" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16218" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16220" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16225" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16226" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16230" href="../Substitution/#plfa_plfa-part2-Substitution-16124" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16231" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16233" href="../Substitution/#plfa_plfa-part2-Substitution-16185" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-16237" href="../Substitution/#plfa_plfa-part2-Substitution-16174" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16243" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16244" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16246" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16248" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16249" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16251" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16253" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-16260" href="../Substitution/#plfa_plfa-part2-Substitution-16174" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16266" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16267" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16269" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16271" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-16273" href="../Substitution/#plfa_plfa-part2-Substitution-16273" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16274" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16276" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16278" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>有了这条引理，我们只需对项 <code>M</code> 进行归纳即可：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-ren"></a><a id="plfa_plfa-part2-Substitution-16416" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16433" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16435" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-16437" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16438" href="../Substitution/#plfa_plfa-part2-Substitution-16438" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16440" href="../Substitution/#plfa_plfa-part2-Substitution-16440" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16441" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16443" href="../Substitution/#plfa_plfa-part2-Substitution-16443" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16444" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16446" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16447" href="../Substitution/#plfa_plfa-part2-Substitution-16447" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16449" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16451" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-16458" href="../Substitution/#plfa_plfa-part2-Substitution-16438" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16460" href="../Substitution/#plfa_plfa-part2-Substitution-16440" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16461" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16463" href="../Substitution/#plfa_plfa-part2-Substitution-16463" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16465" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16467" href="../Substitution/#plfa_plfa-part2-Substitution-16438" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16469" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16471" href="../Substitution/#plfa_plfa-part2-Substitution-16443" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16472" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-16491" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16493" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16500" href="../Substitution/#plfa_plfa-part2-Substitution-16447" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16502" href="../Substitution/#plfa_plfa-part2-Substitution-16463" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16504" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16506" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16508" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16512" href="../Substitution/#plfa_plfa-part2-Substitution-16447" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16514" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16516" href="../Substitution/#plfa_plfa-part2-Substitution-16463" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-16518" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16535" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16536" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16538" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16540" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16542" href="../Substitution/#plfa_plfa-part2-Substitution-16542" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16543" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16545" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16547" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-16552" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16569" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16570" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-16572" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16574" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16575" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16577" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16579" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16581" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16583" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16584" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16586" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-16590" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-16602" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16609" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16611" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16612" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16614" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16615" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-16621" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-16631" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16633" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16640" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16641" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16645" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16646" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16648" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16654" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16657" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16662" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16665" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16666" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16683" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16684" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-16686" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16688" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16692" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16693" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16695" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16697" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16699" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16700" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-16703" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-16711" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16713" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16715" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16719" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16720" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16724" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16725" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16727" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16729" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16735" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16738" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16743" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16746" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16747" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-16756" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16757" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16759" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16761" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16762" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16764" href="../Substitution/#plfa_plfa-part2-Substitution-16007" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-16772" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-16776" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16778" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-16786" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16788" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16790" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16795" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16796" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16800" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16801" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16803" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a>  <a id="plfa_plfa-part2-Substitution-16806" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16812" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-16822" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16824" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16828" href="../Substitution/#plfa_plfa-part2-Substitution-16574" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16830" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16832" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16833" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16835" href="../Substitution/#plfa_plfa-part2-Substitution-16583" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16836" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-16840" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-16842" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16859" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16860" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16862" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16864" href="../Substitution/#plfa_plfa-part2-Substitution-16864" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-16866" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-16868" href="../Substitution/#plfa_plfa-part2-Substitution-16868" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-16869" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16871" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16873" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-16879" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-16883" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16900" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a>
</pre><p>代换 <code>ren S_</code> 等价于 <code>↑</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-shift"></a><a id="plfa_plfa-part2-Substitution-17010" href="../Substitution/#plfa_plfa-part2-Substitution-17010" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-17020" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17022" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17024" href="../Substitution/#plfa_plfa-part2-Substitution-17024" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17025" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17027" href="../Substitution/#plfa_plfa-part2-Substitution-17027" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17028" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17030" href="../Substitution/#plfa_plfa-part2-Substitution-17030" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17031" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-17043" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17045" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17049" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17052" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17054" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17056" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17057" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-17059" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17061" href="../Substitution/#plfa_plfa-part2-Substitution-17030" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17062" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17064" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17065" href="../Substitution/#plfa_plfa-part2-Substitution-17027" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17066" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-17068" href="../Substitution/#plfa_plfa-part2-Substitution-17010" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-17078" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17079" href="../Substitution/#plfa_plfa-part2-Substitution-17079" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17080" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17082" href="../Substitution/#plfa_plfa-part2-Substitution-17082" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17083" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17085" href="../Substitution/#plfa_plfa-part2-Substitution-17085" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17086" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17088" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17090" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-17105" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-17107" href="../Substitution/#plfa_plfa-part2-Substitution-17107" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17109" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17111" href="../Substitution/#plfa_plfa-part2-Substitution-17135" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17117" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17118" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17120" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17122" href="../Substitution/#plfa_plfa-part2-Substitution-17107" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17123" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-17127" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-17135" href="../Substitution/#plfa_plfa-part2-Substitution-17135" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17141" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17143" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-17145" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17146" href="../Substitution/#plfa_plfa-part2-Substitution-17146" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17148" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17150" href="../Substitution/#plfa_plfa-part2-Substitution-17079" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17152" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-17154" href="../Substitution/#plfa_plfa-part2-Substitution-17082" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17155" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17157" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17159" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17163" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17164" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-17166" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17167" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-17169" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17171" href="../Substitution/#plfa_plfa-part2-Substitution-17085" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17172" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-17175" href="../Substitution/#plfa_plfa-part2-Substitution-17146" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17177" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17179" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17181" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17182" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-17184" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17186" href="../Substitution/#plfa_plfa-part2-Substitution-17085" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17187" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17189" href="../Substitution/#plfa_plfa-part2-Substitution-17146" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-17193" href="../Substitution/#plfa_plfa-part2-Substitution-17135" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17199" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17200" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17202" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17204" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-17205" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17207" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17209" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-17216" href="../Substitution/#plfa_plfa-part2-Substitution-17135" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17222" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17223" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17225" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17227" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-17229" href="../Substitution/#plfa_plfa-part2-Substitution-17229" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17230" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17232" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17234" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>代换 <code>rename S_ M</code> 等价于抬升：<code>⟪ ↑ ⟫ M</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-shift"></a><a id="plfa_plfa-part2-Substitution-17366" href="../Substitution/#plfa_plfa-part2-Substitution-17366" class="Function">rename-shift</a> <a id="plfa_plfa-part2-Substitution-17379" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17381" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17383" href="../Substitution/#plfa_plfa-part2-Substitution-17383" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17384" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17386" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17387" href="../Substitution/#plfa_plfa-part2-Substitution-17387" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17388" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17390" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17391" href="../Substitution/#plfa_plfa-part2-Substitution-17391" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17392" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17394" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17395" href="../Substitution/#plfa_plfa-part2-Substitution-17395" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17397" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17399" href="../Substitution/#plfa_plfa-part2-Substitution-17383" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17401" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-17403" href="../Substitution/#plfa_plfa-part2-Substitution-17387" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17404" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-17419" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17421" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17428" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17429" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-17431" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17432" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-17434" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17436" href="../Substitution/#plfa_plfa-part2-Substitution-17391" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17437" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-17440" href="../Substitution/#plfa_plfa-part2-Substitution-17395" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17442" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17444" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17446" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17448" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17450" href="../Substitution/#plfa_plfa-part2-Substitution-17395" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-17452" href="../Substitution/#plfa_plfa-part2-Substitution-17366" class="Function">rename-shift</a><a id="plfa_plfa-part2-Substitution-17464" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17465" href="../Substitution/#plfa_plfa-part2-Substitution-17465" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17466" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17468" href="../Substitution/#plfa_plfa-part2-Substitution-17468" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17469" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17471" href="../Substitution/#plfa_plfa-part2-Substitution-17471" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17472" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17474" href="../Substitution/#plfa_plfa-part2-Substitution-17474" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17475" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17477" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-17481" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-17491" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17498" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17501" href="../Substitution/#plfa_plfa-part2-Substitution-17474" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17505" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17508" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-17525" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-17531" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17533" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17537" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17540" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17542" href="../Substitution/#plfa_plfa-part2-Substitution-17474" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17546" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17549" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-17557" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17558" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17560" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17562" href="../Substitution/#plfa_plfa-part2-Substitution-17474" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17563" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17565" href="../Substitution/#plfa_plfa-part2-Substitution-17010" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-17575" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-17580" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-17586" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17588" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17590" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17592" href="../Substitution/#plfa_plfa-part2-Substitution-17474" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17596" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p>接下来证明 <code>exts-cons-shift</code>，它陈述了 <code>exts</code> 等价于将 Z cons 到应用 <code>σ</code> 后抬升所产生的序列上。当 <code>x = S y</code> 时，使用 <code>rename-subst-ren</code> 对变量 <code>x</code> 进行情况分析即可证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-cons-shift"></a><a id="plfa_plfa-part2-Substitution-18000" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-18016" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18018" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18020" href="../Substitution/#plfa_plfa-part2-Substitution-18020" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18022" href="../Substitution/#plfa_plfa-part2-Substitution-18022" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18023" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18025" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18026" href="../Substitution/#plfa_plfa-part2-Substitution-18026" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18028" href="../Substitution/#plfa_plfa-part2-Substitution-18028" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18029" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18031" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18032" href="../Substitution/#plfa_plfa-part2-Substitution-18032" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18034" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18036" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-18042" href="../Substitution/#plfa_plfa-part2-Substitution-18020" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18044" href="../Substitution/#plfa_plfa-part2-Substitution-18022" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18045" class="Symbol">}</a>
                <a id="plfa_plfa-part2-Substitution-18063" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18065" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18070" href="../Substitution/#plfa_plfa-part2-Substitution-18032" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18072" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18073" href="../Substitution/#plfa_plfa-part2-Substitution-18026" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18074" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18076" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18077" href="../Substitution/#plfa_plfa-part2-Substitution-18028" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18078" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18080" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18082" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18083" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18085" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18087" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18089" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18090" href="../Substitution/#plfa_plfa-part2-Substitution-18032" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18092" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18094" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18095" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-18098" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-18114" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18116" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-18131" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-18133" href="../Substitution/#plfa_plfa-part2-Substitution-18133" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18135" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18137" href="../Substitution/#plfa_plfa-part2-Substitution-18160" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-18142" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18143" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18145" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18147" href="../Substitution/#plfa_plfa-part2-Substitution-18133" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18148" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18152" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-18160" href="../Substitution/#plfa_plfa-part2-Substitution-18160" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18166" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18168" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18170" href="../Substitution/#plfa_plfa-part2-Substitution-18170" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18172" href="../Substitution/#plfa_plfa-part2-Substitution-18172" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18173" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18175" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18176" href="../Substitution/#plfa_plfa-part2-Substitution-18176" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18178" href="../Substitution/#plfa_plfa-part2-Substitution-18178" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18179" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18181" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18182" href="../Substitution/#plfa_plfa-part2-Substitution-18182" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18184" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18186" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-18192" href="../Substitution/#plfa_plfa-part2-Substitution-18170" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18194" href="../Substitution/#plfa_plfa-part2-Substitution-18172" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18195" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18197" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18198" href="../Substitution/#plfa_plfa-part2-Substitution-18198" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18200" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18202" href="../Substitution/#plfa_plfa-part2-Substitution-18170" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18204" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-18206" href="../Substitution/#plfa_plfa-part2-Substitution-18178" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18208" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-18210" href="../Substitution/#plfa_plfa-part2-Substitution-18176" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18211" class="Symbol">}</a>
                  <a id="plfa_plfa-part2-Substitution-18231" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18233" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18238" href="../Substitution/#plfa_plfa-part2-Substitution-18182" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18240" href="../Substitution/#plfa_plfa-part2-Substitution-18198" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18242" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18244" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18245" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18247" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18249" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18251" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18252" href="../Substitution/#plfa_plfa-part2-Substitution-18182" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18254" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18256" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18257" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18260" href="../Substitution/#plfa_plfa-part2-Substitution-18198" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-18264" href="../Substitution/#plfa_plfa-part2-Substitution-18160" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18270" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18271" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18273" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18275" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18276" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18278" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18280" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-18287" href="../Substitution/#plfa_plfa-part2-Substitution-18160" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18293" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18294" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18296" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18298" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-18300" href="../Substitution/#plfa_plfa-part2-Substitution-18300" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-18301" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18303" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18305" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a>
</pre><p>我们可以定义一个与 <code>ren (ext ρ)</code> 类似的函数作为辅助：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ext-cons-Z-shift"></a><a id="plfa_plfa-part2-Substitution-18449" href="../Substitution/#plfa_plfa-part2-Substitution-18449" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-18466" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18468" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18470" href="../Substitution/#plfa_plfa-part2-Substitution-18470" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18472" href="../Substitution/#plfa_plfa-part2-Substitution-18472" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18473" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18475" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18476" href="../Substitution/#plfa_plfa-part2-Substitution-18476" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18478" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18480" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18487" href="../Substitution/#plfa_plfa-part2-Substitution-18470" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18489" href="../Substitution/#plfa_plfa-part2-Substitution-18472" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18490" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18492" href="../Substitution/#plfa_plfa-part2-Substitution-18492" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18493" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18495" href="../Substitution/#plfa_plfa-part2-Substitution-18495" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18496" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-18515" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18517" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18521" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18522" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18526" href="../Substitution/#plfa_plfa-part2-Substitution-18476" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18528" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18529" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-18531" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18533" href="../Substitution/#plfa_plfa-part2-Substitution-18495" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18534" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-18537" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18539" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18540" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18542" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18544" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18546" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18547" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18551" href="../Substitution/#plfa_plfa-part2-Substitution-18476" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18553" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18555" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18556" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18559" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18560" href="../Substitution/#plfa_plfa-part2-Substitution-18492" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18561" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18563" href="../Substitution/#plfa_plfa-part2-Substitution-18449" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-18580" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18581" href="../Substitution/#plfa_plfa-part2-Substitution-18581" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-18582" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18584" href="../Substitution/#plfa_plfa-part2-Substitution-18584" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18585" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18587" href="../Substitution/#plfa_plfa-part2-Substitution-18587" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18588" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18590" href="../Substitution/#plfa_plfa-part2-Substitution-18590" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18591" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18593" href="../Substitution/#plfa_plfa-part2-Substitution-18593" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18594" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18596" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-18600" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-18610" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18614" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18615" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18619" href="../Substitution/#plfa_plfa-part2-Substitution-18587" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18620" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-18624" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-18627" href="../Substitution/#plfa_plfa-part2-Substitution-16007" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-18635" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-18641" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18646" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18647" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18651" href="../Substitution/#plfa_plfa-part2-Substitution-18587" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18652" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-18656" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-18659" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a><a id="plfa_plfa-part2-Substitution-18674" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18675" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-18677" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18679" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18683" href="../Substitution/#plfa_plfa-part2-Substitution-18587" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18684" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18686" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
   <a id="plfa_plfa-part2-Substitution-18691" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18693" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18695" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18696" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18698" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18700" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18701" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18705" href="../Substitution/#plfa_plfa-part2-Substitution-18587" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18707" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18709" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18710" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Substitution-18715" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p>最后，代换 <code>subst-zero M</code> 等价于将 <code>M</code> cons 到恒等代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-Z-cons-ids"></a><a id="plfa_plfa-part2-Substitution-18886" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-18903" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18905" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18907" href="../Substitution/#plfa_plfa-part2-Substitution-18907" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-18908" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18910" href="../Substitution/#plfa_plfa-part2-Substitution-18910" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18912" href="../Substitution/#plfa_plfa-part2-Substitution-18912" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18914" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18916" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-18920" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18922" href="../Substitution/#plfa_plfa-part2-Substitution-18922" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18924" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18926" href="../Substitution/#plfa_plfa-part2-Substitution-18907" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18928" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-18930" href="../Substitution/#plfa_plfa-part2-Substitution-18912" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18931" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-18950" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18952" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-18963" href="../Substitution/#plfa_plfa-part2-Substitution-18922" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18965" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18967" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18968" href="../Substitution/#plfa_plfa-part2-Substitution-18922" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18970" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18972" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-18975" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18977" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18978" href="../Substitution/#plfa_plfa-part2-Substitution-18910" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18979" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18981" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-18998" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19000" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-19015" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-19017" href="../Substitution/#plfa_plfa-part2-Substitution-19017" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19019" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19021" href="../Substitution/#plfa_plfa-part2-Substitution-19045" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19027" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19028" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19030" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19032" href="../Substitution/#plfa_plfa-part2-Substitution-19017" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19033" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-19037" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-19045" href="../Substitution/#plfa_plfa-part2-Substitution-19045" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19051" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19053" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19055" href="../Substitution/#plfa_plfa-part2-Substitution-19055" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19056" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19058" href="../Substitution/#plfa_plfa-part2-Substitution-19058" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-19060" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-19062" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19064" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-19068" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19070" href="../Substitution/#plfa_plfa-part2-Substitution-19070" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19072" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19074" href="../Substitution/#plfa_plfa-part2-Substitution-19055" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19076" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19078" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19079" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19081" href="../Substitution/#plfa_plfa-part2-Substitution-19081" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19083" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19085" href="../Substitution/#plfa_plfa-part2-Substitution-19055" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19087" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19089" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-19091" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-19093" href="../Substitution/#plfa_plfa-part2-Substitution-19058" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19094" class="Symbol">}</a>
                      <a id="plfa_plfa-part2-Substitution-19118" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19120" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-19131" href="../Substitution/#plfa_plfa-part2-Substitution-19070" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19133" href="../Substitution/#plfa_plfa-part2-Substitution-19081" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19135" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19137" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19138" href="../Substitution/#plfa_plfa-part2-Substitution-19070" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19140" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19142" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-19145" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19147" href="../Substitution/#plfa_plfa-part2-Substitution-19081" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-19151" href="../Substitution/#plfa_plfa-part2-Substitution-19045" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19157" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19158" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19160" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19162" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19163" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19165" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19167" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-19174" href="../Substitution/#plfa_plfa-part2-Substitution-19045" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19180" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19181" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19183" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19185" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-19187" href="../Substitution/#plfa_plfa-part2-Substitution-19187" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19188" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19190" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19192" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h2 id="sub-absub-id-和-rename-id-的证明">sub-ab、sub-id 和 rename-id 的证明</h2><p>方程 <code>sub-abs</code> 可直接从方程 <code>exts-cons-shift</code> 得出。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-abs"></a><a id="plfa_plfa-part2-Substitution-19432" href="../Substitution/#plfa_plfa-part2-Substitution-19432" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-19440" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19442" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19444" href="../Substitution/#plfa_plfa-part2-Substitution-19444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19446" href="../Substitution/#plfa_plfa-part2-Substitution-19446" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19447" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19449" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19450" href="../Substitution/#plfa_plfa-part2-Substitution-19450" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19452" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19454" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-19460" href="../Substitution/#plfa_plfa-part2-Substitution-19444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19462" href="../Substitution/#plfa_plfa-part2-Substitution-19446" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19463" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19465" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19466" href="../Substitution/#plfa_plfa-part2-Substitution-19466" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-19468" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19470" href="../Substitution/#plfa_plfa-part2-Substitution-19444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19472" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19474" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-19476" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19478" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19479" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-19489" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19491" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19493" href="../Substitution/#plfa_plfa-part2-Substitution-19450" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19495" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19497" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19498" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19500" href="../Substitution/#plfa_plfa-part2-Substitution-19466" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19501" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19503" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19507" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19509" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19510" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19512" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19513" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19515" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19517" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19518" href="../Substitution/#plfa_plfa-part2-Substitution-19450" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19520" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-19522" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-19523" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19525" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19527" href="../Substitution/#plfa_plfa-part2-Substitution-19466" class="Bound">N</a>
<a id="plfa_plfa-part2-Substitution-19529" href="../Substitution/#plfa_plfa-part2-Substitution-19432" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-19537" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19538" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-19540" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19542" href="../Substitution/#plfa_plfa-part2-Substitution-19542" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19543" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19545" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-19547" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19549" href="../Substitution/#plfa_plfa-part2-Substitution-19549" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19550" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19552" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-19557" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-19568" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19570" href="../Substitution/#plfa_plfa-part2-Substitution-19542" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19572" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19574" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19575" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19577" href="../Substitution/#plfa_plfa-part2-Substitution-19549" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19578" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-19583" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-19592" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19594" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19596" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19601" href="../Substitution/#plfa_plfa-part2-Substitution-19542" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19603" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19605" href="../Substitution/#plfa_plfa-part2-Substitution-19549" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-19610" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19613" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-19618" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-19621" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19622" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-19630" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19631" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19633" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19635" href="../Substitution/#plfa_plfa-part2-Substitution-19549" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19636" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19638" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-19654" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-19658" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19660" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-19667" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19669" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19671" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19672" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19674" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19675" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19677" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19679" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19680" href="../Substitution/#plfa_plfa-part2-Substitution-19542" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19682" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-19684" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-19685" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19687" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19689" href="../Substitution/#plfa_plfa-part2-Substitution-19549" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-19694" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p><code>sub-id</code> 的证明需要以下引理，它阐述了扩展一个恒等代换依旧会得到恒等代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-ids"></a><a id="plfa_plfa-part2-Substitution-19901" href="../Substitution/#plfa_plfa-part2-Substitution-19901" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-19910" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19912" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19914" href="../Substitution/#plfa_plfa-part2-Substitution-19914" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19915" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19917" href="../Substitution/#plfa_plfa-part2-Substitution-19917" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-19919" href="../Substitution/#plfa_plfa-part2-Substitution-19919" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19920" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-19931" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19933" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19938" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-19942" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19944" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-19948" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19949" href="../Substitution/#plfa_plfa-part2-Substitution-19914" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19951" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19953" href="../Substitution/#plfa_plfa-part2-Substitution-19919" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19954" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19956" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19957" href="../Substitution/#plfa_plfa-part2-Substitution-19917" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19958" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-19960" href="../Substitution/#plfa_plfa-part2-Substitution-19901" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-19969" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19970" href="../Substitution/#plfa_plfa-part2-Substitution-19970" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19971" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19973" href="../Substitution/#plfa_plfa-part2-Substitution-19973" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19974" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19976" href="../Substitution/#plfa_plfa-part2-Substitution-19976" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19977" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19979" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19981" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-19996" href="../Substitution/#plfa_plfa-part2-Substitution-20010" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-20004" class="Keyword">where</a> <a id="plfa_plfa-part2-Substitution-20010" href="../Substitution/#plfa_plfa-part2-Substitution-20010" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-20016" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20018" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20019" href="../Substitution/#plfa_plfa-part2-Substitution-20019" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20021" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20023" href="../Substitution/#plfa_plfa-part2-Substitution-19970" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20025" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-20027" href="../Substitution/#plfa_plfa-part2-Substitution-19976" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-20029" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-20031" href="../Substitution/#plfa_plfa-part2-Substitution-19973" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20032" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20034" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20036" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20041" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20045" href="../Substitution/#plfa_plfa-part2-Substitution-20019" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20047" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20049" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20053" href="../Substitution/#plfa_plfa-part2-Substitution-20019" class="Bound">x</a>
        <a id="plfa_plfa-part2-Substitution-20063" href="../Substitution/#plfa_plfa-part2-Substitution-20010" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-20069" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-20071" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20073" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Substitution-20086" href="../Substitution/#plfa_plfa-part2-Substitution-20010" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-20092" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20093" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20095" href="../Substitution/#plfa_plfa-part2-Substitution-20095" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20096" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20098" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20100" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p><code>⟪ ids ⟫ M ≡ M</code> 的证明现在可以非常容易地对 <code>M</code> 进行归纳得出，只需在 <code>M ≡ ƛ N</code> 的情况中使用 <code>exts-ids</code> 即可。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-id"></a><a id="plfa_plfa-part2-Substitution-20319" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20326" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20328" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-20330" href="../Substitution/#plfa_plfa-part2-Substitution-20330" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-20331" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20333" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20334" href="../Substitution/#plfa_plfa-part2-Substitution-20334" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20335" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20337" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20338" href="../Substitution/#plfa_plfa-part2-Substitution-20338" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20340" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20342" href="../Substitution/#plfa_plfa-part2-Substitution-20330" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20344" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-20346" href="../Substitution/#plfa_plfa-part2-Substitution-20334" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20347" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-20358" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20360" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20362" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20366" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20368" href="../Substitution/#plfa_plfa-part2-Substitution-20338" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20370" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20372" href="../Substitution/#plfa_plfa-part2-Substitution-20338" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-20374" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20381" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20382" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20384" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20386" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-20388" href="../Substitution/#plfa_plfa-part2-Substitution-20388" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20389" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20391" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20393" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-20398" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20405" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20406" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20408" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20410" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20412" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20413" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20415" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20420" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-20431" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20433" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20437" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20439" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20440" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20442" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20443" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-20448" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-20457" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20459" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20461" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20466" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20470" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20472" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20477" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20480" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20485" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-20488" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20489" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-20497" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20498" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20500" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20502" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20503" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20505" href="../Substitution/#plfa_plfa-part2-Substitution-19901" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-20514" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-20518" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-20521" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20528" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20530" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20532" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20536" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20538" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20543" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20546" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20551" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-20554" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20561" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20568" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20570" href="../Substitution/#plfa_plfa-part2-Substitution-20412" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20575" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-20577" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20584" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20585" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20587" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20589" href="../Substitution/#plfa_plfa-part2-Substitution-20589" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-20591" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-20593" href="../Substitution/#plfa_plfa-part2-Substitution-20593" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20594" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20596" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20598" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-20604" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-20608" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20615" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a>
</pre><p><code>rename-id</code> 方程是 <code>sub-id</code> 的对应函数。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-id"></a><a id="plfa_plfa-part2-Substitution-20731" href="../Substitution/#plfa_plfa-part2-Substitution-20731" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-20741" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20743" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-20745" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20746" href="../Substitution/#plfa_plfa-part2-Substitution-20746" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-20747" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20749" href="../Substitution/#plfa_plfa-part2-Substitution-20749" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20750" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20752" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20753" href="../Substitution/#plfa_plfa-part2-Substitution-20753" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20755" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20757" href="../Substitution/#plfa_plfa-part2-Substitution-20746" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20759" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-20761" href="../Substitution/#plfa_plfa-part2-Substitution-20749" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20762" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-20766" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20768" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20775" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20778" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20779" href="../Substitution/#plfa_plfa-part2-Substitution-20779" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20780" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20782" href="../Substitution/#plfa_plfa-part2-Substitution-20782" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20784" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20786" href="../Substitution/#plfa_plfa-part2-Substitution-20782" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20787" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20789" href="../Substitution/#plfa_plfa-part2-Substitution-20753" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20791" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20793" href="../Substitution/#plfa_plfa-part2-Substitution-20753" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-20795" href="../Substitution/#plfa_plfa-part2-Substitution-20731" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-20805" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20806" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20808" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20810" href="../Substitution/#plfa_plfa-part2-Substitution-20810" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20811" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20813" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20818" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-20829" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20836" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20839" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20840" href="../Substitution/#plfa_plfa-part2-Substitution-20840" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20841" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20843" href="../Substitution/#plfa_plfa-part2-Substitution-20843" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20845" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20847" href="../Substitution/#plfa_plfa-part2-Substitution-20843" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20848" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20850" href="../Substitution/#plfa_plfa-part2-Substitution-20810" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20855" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20858" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a>  <a id="plfa_plfa-part2-Substitution-20876" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20883" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20885" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-20889" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20892" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20893" href="../Substitution/#plfa_plfa-part2-Substitution-20893" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20894" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20896" href="../Substitution/#plfa_plfa-part2-Substitution-20896" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20898" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20900" href="../Substitution/#plfa_plfa-part2-Substitution-20896" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20901" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20903" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20905" href="../Substitution/#plfa_plfa-part2-Substitution-20810" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20910" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-20919" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20921" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20925" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20927" href="../Substitution/#plfa_plfa-part2-Substitution-20810" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20932" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20935" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a>  <a id="plfa_plfa-part2-Substitution-20943" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20950" href="../Substitution/#plfa_plfa-part2-Substitution-20810" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20955" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="sub-idr-的证明">sub-idR 的证明</h2><p><code>sub-idR</code> 根据 <code>sub-id</code> 直接可得：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idR"></a><a id="plfa_plfa-part2-Substitution-21110" href="../Substitution/#plfa_plfa-part2-Substitution-21110" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-21118" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21120" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-21122" href="../Substitution/#plfa_plfa-part2-Substitution-21122" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21124" href="../Substitution/#plfa_plfa-part2-Substitution-21124" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21125" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21127" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21128" href="../Substitution/#plfa_plfa-part2-Substitution-21128" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21130" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21132" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-21138" href="../Substitution/#plfa_plfa-part2-Substitution-21122" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21140" href="../Substitution/#plfa_plfa-part2-Substitution-21124" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21141" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21143" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21144" href="../Substitution/#plfa_plfa-part2-Substitution-21144" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21145" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-21154" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21156" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21157" href="../Substitution/#plfa_plfa-part2-Substitution-21128" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21159" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-21161" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-21164" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21166" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-21168" href="../Substitution/#plfa_plfa-part2-Substitution-21128" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21170" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21171" href="../Substitution/#plfa_plfa-part2-Substitution-21144" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21172" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-21174" href="../Substitution/#plfa_plfa-part2-Substitution-21110" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-21182" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21183" href="../Substitution/#plfa_plfa-part2-Substitution-21183" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-21184" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21186" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-21188" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-21190" href="../Substitution/#plfa_plfa-part2-Substitution-21190" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-21191" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21193" href="../Substitution/#plfa_plfa-part2-Substitution-21193" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21194" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21196" class="Symbol">=</a>
          <a id="plfa_plfa-part2-Substitution-21208" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="plfa_plfa-part2-Substitution-21226" href="../Substitution/#plfa_plfa-part2-Substitution-21190" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21228" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-21230" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a>
          <a id="plfa_plfa-part2-Substitution-21244" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
            <a id="plfa_plfa-part2-Substitution-21260" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-21262" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-21266" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-21268" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21270" href="../Substitution/#plfa_plfa-part2-Substitution-21190" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-21282" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-21285" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-21300" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-21303" href="../Substitution/#plfa_plfa-part2-Substitution-21303" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-21305" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21307" href="../Substitution/#plfa_plfa-part2-Substitution-20319" class="Function">sub-id</a><a id="plfa_plfa-part2-Substitution-21313" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21315" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="plfa_plfa-part2-Substitution-21329" href="../Substitution/#plfa_plfa-part2-Substitution-21190" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-21341" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="sub-sub-的证明">sub-sub 的证明</h2><p><code>sub-sub</code> 方程陈述了代换序列 <code>σ ⨟ τ</code> 等价于先应用 <code>σ</code> 再应用 <code>τ</code>：</p><pre><code>⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M</code></pre><p>它的证明需要几条引理。首先，我们需要证明一个重命名的特化版本：</p><pre><code>rename ρ (rename ρ′ M) ≡ rename (ρ ∘ ρ′) M</code></pre><p>而它需要以下关于 <code>ext</code> 的引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-ext"></a><a id="plfa_plfa-part2-Substitution-21888" href="../Substitution/#plfa_plfa-part2-Substitution-21888" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-21900" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21902" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-21904" href="../Substitution/#plfa_plfa-part2-Substitution-21904" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21906" href="../Substitution/#plfa_plfa-part2-Substitution-21906" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21908" href="../Substitution/#plfa_plfa-part2-Substitution-21908" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-21909" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21911" href="../Substitution/#plfa_plfa-part2-Substitution-21911" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-21913" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21915" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-21922" href="../Substitution/#plfa_plfa-part2-Substitution-21906" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21924" href="../Substitution/#plfa_plfa-part2-Substitution-21908" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-21925" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21927" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21928" href="../Substitution/#plfa_plfa-part2-Substitution-21928" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-21931" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21933" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-21940" href="../Substitution/#plfa_plfa-part2-Substitution-21904" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21942" href="../Substitution/#plfa_plfa-part2-Substitution-21906" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21943" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21945" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21946" href="../Substitution/#plfa_plfa-part2-Substitution-21946" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-21948" href="../Substitution/#plfa_plfa-part2-Substitution-21948" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-21949" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-21963" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21965" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-21967" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21971" href="../Substitution/#plfa_plfa-part2-Substitution-21911" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-21972" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21974" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21976" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21977" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21981" href="../Substitution/#plfa_plfa-part2-Substitution-21928" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-21983" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-21986" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-21988" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21992" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21993" href="../Substitution/#plfa_plfa-part2-Substitution-21911" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-21995" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21997" href="../Substitution/#plfa_plfa-part2-Substitution-21928" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-21999" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22001" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22002" href="../Substitution/#plfa_plfa-part2-Substitution-21948" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-22003" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22005" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22006" href="../Substitution/#plfa_plfa-part2-Substitution-21946" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22007" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-22009" href="../Substitution/#plfa_plfa-part2-Substitution-21888" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-22021" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22023" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-22038" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-22040" href="../Substitution/#plfa_plfa-part2-Substitution-22040" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22042" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22044" href="../Substitution/#plfa_plfa-part2-Substitution-22068" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22050" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22051" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22053" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22055" href="../Substitution/#plfa_plfa-part2-Substitution-22040" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22056" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22060" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22068" href="../Substitution/#plfa_plfa-part2-Substitution-22068" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22074" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22076" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22078" href="../Substitution/#plfa_plfa-part2-Substitution-22078" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22080" href="../Substitution/#plfa_plfa-part2-Substitution-22080" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22082" href="../Substitution/#plfa_plfa-part2-Substitution-22082" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22083" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22085" href="../Substitution/#plfa_plfa-part2-Substitution-22085" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22087" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22089" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22096" href="../Substitution/#plfa_plfa-part2-Substitution-22080" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22098" href="../Substitution/#plfa_plfa-part2-Substitution-22082" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22099" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22101" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22102" href="../Substitution/#plfa_plfa-part2-Substitution-22102" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22105" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22107" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22114" href="../Substitution/#plfa_plfa-part2-Substitution-22078" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22116" href="../Substitution/#plfa_plfa-part2-Substitution-22080" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22117" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22119" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22120" href="../Substitution/#plfa_plfa-part2-Substitution-22120" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-22122" href="../Substitution/#plfa_plfa-part2-Substitution-22122" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-22123" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22125" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22126" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22128" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22130" href="../Substitution/#plfa_plfa-part2-Substitution-22078" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22132" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-22134" href="../Substitution/#plfa_plfa-part2-Substitution-22122" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-22136" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-22138" href="../Substitution/#plfa_plfa-part2-Substitution-22120" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22139" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-22155" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22157" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22159" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22163" href="../Substitution/#plfa_plfa-part2-Substitution-22085" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22164" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22166" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22168" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22169" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22173" href="../Substitution/#plfa_plfa-part2-Substitution-22102" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22175" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22178" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22180" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22182" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22186" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22187" href="../Substitution/#plfa_plfa-part2-Substitution-22085" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22189" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22191" href="../Substitution/#plfa_plfa-part2-Substitution-22102" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22193" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22195" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-22199" href="../Substitution/#plfa_plfa-part2-Substitution-22068" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22205" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22206" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22208" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22210" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-22211" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22213" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22215" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-22222" href="../Substitution/#plfa_plfa-part2-Substitution-22068" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22228" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22229" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22231" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22233" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22235" href="../Substitution/#plfa_plfa-part2-Substitution-22235" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22236" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22238" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22240" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>要证明复合重命名等价于用 <code>rename</code> 应用一个之后再应用另一个，我们需要通过在 <code>M ≡ ƛ N</code> 的情况中用 <code>compose-ext</code> 对项 <code>M</code> 进行归纳：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-rename"></a><a id="plfa_plfa-part2-Substitution-22549" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22564" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22566" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22568" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22570" href="../Substitution/#plfa_plfa-part2-Substitution-22570" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22572" href="../Substitution/#plfa_plfa-part2-Substitution-22572" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22573" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22575" href="../Substitution/#plfa_plfa-part2-Substitution-22575" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22576" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22578" href="../Substitution/#plfa_plfa-part2-Substitution-22578" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-22580" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22582" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22584" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-22586" href="../Substitution/#plfa_plfa-part2-Substitution-22575" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22587" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22589" href="../Substitution/#plfa_plfa-part2-Substitution-22589" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22591" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22593" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22600" href="../Substitution/#plfa_plfa-part2-Substitution-22570" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22602" href="../Substitution/#plfa_plfa-part2-Substitution-22572" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22603" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22605" href="../Substitution/#plfa_plfa-part2-Substitution-22605" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22608" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22610" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22617" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22619" href="../Substitution/#plfa_plfa-part2-Substitution-22570" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22620" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22624" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22626" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22633" href="../Substitution/#plfa_plfa-part2-Substitution-22589" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22635" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22636" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22643" href="../Substitution/#plfa_plfa-part2-Substitution-22605" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22646" href="../Substitution/#plfa_plfa-part2-Substitution-22578" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-22647" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22649" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22651" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22658" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22659" href="../Substitution/#plfa_plfa-part2-Substitution-22589" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22661" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22663" href="../Substitution/#plfa_plfa-part2-Substitution-22605" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22665" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22667" href="../Substitution/#plfa_plfa-part2-Substitution-22578" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-22669" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22684" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22685" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-22687" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22689" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-22691" href="../Substitution/#plfa_plfa-part2-Substitution-22691" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22692" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22694" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22696" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-22701" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22716" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22717" href="../Substitution/#plfa_plfa-part2-Substitution-22717" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-22718" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22720" href="../Substitution/#plfa_plfa-part2-Substitution-22720" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22721" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22723" href="../Substitution/#plfa_plfa-part2-Substitution-22723" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22724" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22726" href="../Substitution/#plfa_plfa-part2-Substitution-22726" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22727" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22729" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-22731" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22732" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22734" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22735" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22737" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22739" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22741" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22743" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-22748" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-22751" href="../Substitution/#plfa_plfa-part2-Substitution-22763" class="Function">G</a>
  <a id="plfa_plfa-part2-Substitution-22755" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22763" href="../Substitution/#plfa_plfa-part2-Substitution-22763" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-22765" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22767" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22774" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22775" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22779" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22780" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22782" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22783" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22790" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22791" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22795" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22797" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22799" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22800" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22802" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22804" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22811" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22812" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22816" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22817" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22819" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22821" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22823" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22826" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a>
  <a id="plfa_plfa-part2-Substitution-22830" href="../Substitution/#plfa_plfa-part2-Substitution-22763" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-22832" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-22840" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-22854" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22861" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22862" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22866" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22867" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22869" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22870" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22877" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22878" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22882" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22884" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22886" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22887" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-22895" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22898" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a><a id="plfa_plfa-part2-Substitution-22912" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22913" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-22915" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22917" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22921" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22922" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22924" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-22927" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22929" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22933" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22935" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22937" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-22947" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22954" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22956" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22960" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22961" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22963" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22965" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22966" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22970" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22972" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22975" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-22983" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22986" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-22998" href="../Substitution/#plfa_plfa-part2-Substitution-21888" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-23010" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-23020" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23027" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23028" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23032" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23033" href="../Substitution/#plfa_plfa-part2-Substitution-22734" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23035" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-23037" href="../Substitution/#plfa_plfa-part2-Substitution-22737" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-23039" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-23042" href="../Substitution/#plfa_plfa-part2-Substitution-22731" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-23050" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-23052" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-23067" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23068" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23070" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23072" href="../Substitution/#plfa_plfa-part2-Substitution-23072" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-23074" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-23076" href="../Substitution/#plfa_plfa-part2-Substitution-23076" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23077" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23079" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23081" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-23087" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-23091" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-23106" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a>
</pre><p>下一条引理阐述了若重命名和代换对变量可交换，则它们对项也可交换。 我们在后面详细解释证明过程：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-commute-subst-rename"></a><a id="plfa_plfa-part2-Substitution-23344" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-23365" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23367" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-23369" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23371" href="../Substitution/#plfa_plfa-part2-Substitution-23371" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23372" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23374" href="../Substitution/#plfa_plfa-part2-Substitution-23374" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-23376" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23378" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23380" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-23382" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23383" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23385" href="../Substitution/#plfa_plfa-part2-Substitution-23385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23387" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23389" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-23395" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23397" href="../Substitution/#plfa_plfa-part2-Substitution-23371" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23398" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Substitution-23424" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23425" href="../Substitution/#plfa_plfa-part2-Substitution-23425" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-23428" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23430" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-23437" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23439" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23440" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23442" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23444" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23445" class="Symbol">)}{</a><a id="plfa_plfa-part2-Substitution-23448" href="../Substitution/#plfa_plfa-part2-Substitution-23448" class="Bound">ρ₂</a> <a id="plfa_plfa-part2-Substitution-23451" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23453" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-23460" href="../Substitution/#plfa_plfa-part2-Substitution-23371" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23462" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23463" href="../Substitution/#plfa_plfa-part2-Substitution-23371" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23465" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23467" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23468" class="Symbol">)}</a>
                     <a id="plfa_plfa-part2-Substitution-23492" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23494" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-23497" href="../Substitution/#plfa_plfa-part2-Substitution-23497" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-23499" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23501" href="../Substitution/#plfa_plfa-part2-Substitution-23369" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23503" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-23505" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23506" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23508" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23510" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23515" href="../Substitution/#plfa_plfa-part2-Substitution-23385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23517" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23518" href="../Substitution/#plfa_plfa-part2-Substitution-23425" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-23521" href="../Substitution/#plfa_plfa-part2-Substitution-23497" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23522" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23524" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23526" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23533" href="../Substitution/#plfa_plfa-part2-Substitution-23448" class="Bound">ρ₂</a> <a id="plfa_plfa-part2-Substitution-23536" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23537" href="../Substitution/#plfa_plfa-part2-Substitution-23385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23539" href="../Substitution/#plfa_plfa-part2-Substitution-23497" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23540" class="Symbol">))</a>
                     <a id="plfa_plfa-part2-Substitution-23564" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23566" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-23572" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23573" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23578" href="../Substitution/#plfa_plfa-part2-Substitution-23385" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23579" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23581" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23582" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23589" href="../Substitution/#plfa_plfa-part2-Substitution-23425" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-23592" href="../Substitution/#plfa_plfa-part2-Substitution-23374" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23593" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23595" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23597" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23604" href="../Substitution/#plfa_plfa-part2-Substitution-23448" class="Bound">ρ₂</a> <a id="plfa_plfa-part2-Substitution-23607" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23608" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-23614" href="../Substitution/#plfa_plfa-part2-Substitution-23385" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23616" href="../Substitution/#plfa_plfa-part2-Substitution-23374" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23617" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-23619" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-23640" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23641" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23643" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23645" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-23647" href="../Substitution/#plfa_plfa-part2-Substitution-23647" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23648" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23650" href="../Substitution/#plfa_plfa-part2-Substitution-23650" class="Bound">H</a> <a id="plfa_plfa-part2-Substitution-23652" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23654" href="../Substitution/#plfa_plfa-part2-Substitution-23650" class="Bound">H</a>
<a id="plfa_plfa-part2-Substitution-23656" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-23677" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23678" href="../Substitution/#plfa_plfa-part2-Substitution-23678" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23679" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23681" href="../Substitution/#plfa_plfa-part2-Substitution-23681" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23682" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23684" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23686" href="../Substitution/#plfa_plfa-part2-Substitution-23686" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23687" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23689" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23690" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23692" href="../Substitution/#plfa_plfa-part2-Substitution-23692" class="Bound">ρ₁</a><a id="plfa_plfa-part2-Substitution-23694" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23696" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-23698" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23700" href="../Substitution/#plfa_plfa-part2-Substitution-23700" class="Bound">H</a> <a id="plfa_plfa-part2-Substitution-23702" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-23707" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23712" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23715" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23716" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-23736" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23737" href="../Substitution/#plfa_plfa-part2-Substitution-23678" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23739" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23741" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23742" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23744" href="../Substitution/#plfa_plfa-part2-Substitution-23681" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23746" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23748" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23749" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23751" href="../Substitution/#plfa_plfa-part2-Substitution-23686" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23752" class="Symbol">}</a>
               <a id="plfa_plfa-part2-Substitution-23769" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23770" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23775" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23776" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23778" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23782" href="../Substitution/#plfa_plfa-part2-Substitution-23692" class="Bound">ρ₁</a><a id="plfa_plfa-part2-Substitution-23784" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23786" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23790" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-23792" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23794" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-23797" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23798" href="../Substitution/#plfa_plfa-part2-Substitution-23798" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23799" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23801" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23803" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H′</a> <a id="plfa_plfa-part2-Substitution-23806" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23807" href="../Substitution/#plfa_plfa-part2-Substitution-23798" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23808" class="Symbol">}))</a>
   <a id="plfa_plfa-part2-Substitution-23815" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-23824" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H′</a> <a id="plfa_plfa-part2-Substitution-23827" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23829" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23830" href="../Substitution/#plfa_plfa-part2-Substitution-23830" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-23832" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23834" href="../Substitution/#plfa_plfa-part2-Substitution-23678" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23836" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23838" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-23840" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-23842" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23843" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23845" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23847" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23852" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23853" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23858" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23859" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23861" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23862" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23866" href="../Substitution/#plfa_plfa-part2-Substitution-23692" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-23869" href="../Substitution/#plfa_plfa-part2-Substitution-23830" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23870" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23872" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23874" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23881" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23882" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23886" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-23888" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23890" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23891" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23896" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23898" href="../Substitution/#plfa_plfa-part2-Substitution-23830" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23899" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-23904" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H′</a> <a id="plfa_plfa-part2-Substitution-23907" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23908" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-23909" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23911" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23913" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-23921" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H′</a> <a id="plfa_plfa-part2-Substitution-23924" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23925" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-23927" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-23928" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23930" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-23937" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-23950" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23955" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23956" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23961" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23962" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23964" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23965" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23969" href="../Substitution/#plfa_plfa-part2-Substitution-23692" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-23972" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23973" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-23975" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-23976" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-23984" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-23995" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24002" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24005" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24006" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-24011" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24013" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24014" href="../Substitution/#plfa_plfa-part2-Substitution-23692" class="Bound">ρ₁</a> <a id="plfa_plfa-part2-Substitution-24017" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24018" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24026" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24029" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-24034" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24035" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24042" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-24044" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24046" href="../Substitution/#plfa_plfa-part2-Substitution-23700" class="Bound">H</a> <a id="plfa_plfa-part2-Substitution-24048" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24057" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24064" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24067" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24068" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24075" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a> <a id="plfa_plfa-part2-Substitution-24078" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24079" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24081" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24082" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24090" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24093" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-24108" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24117" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24124" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24125" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24128" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24130" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-24132" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24134" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24135" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24137" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24138" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-24145" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-24156" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24163" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24165" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24169" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-24171" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24173" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24175" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-24177" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24179" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24180" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24182" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24183" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-24190" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24193" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-24197" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-24212" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24221" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24228" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24229" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24233" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-24235" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24237" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24238" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24245" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24248" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24249" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24251" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24252" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24260" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-24271" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24278" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24279" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24283" href="../Substitution/#plfa_plfa-part2-Substitution-23696" class="Bound">ρ₂</a><a id="plfa_plfa-part2-Substitution-24285" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24287" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24288" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-24293" href="../Substitution/#plfa_plfa-part2-Substitution-23689" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24295" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24296" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-24298" href="../Substitution/#plfa_plfa-part2-Substitution-23927" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24299" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24307" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-24309" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-24330" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24331" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24333" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24335" href="../Substitution/#plfa_plfa-part2-Substitution-24335" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-24337" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-24339" href="../Substitution/#plfa_plfa-part2-Substitution-24339" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-24340" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24342" href="../Substitution/#plfa_plfa-part2-Substitution-24342" class="Bound">H</a> <a id="plfa_plfa-part2-Substitution-24344" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-24348" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-24354" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-24358" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24359" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-24379" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24380" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24382" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24384" href="../Substitution/#plfa_plfa-part2-Substitution-24335" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-24385" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24387" href="../Substitution/#plfa_plfa-part2-Substitution-24342" class="Bound">H</a><a id="plfa_plfa-part2-Substitution-24388" class="Symbol">)</a>
            <a id="plfa_plfa-part2-Substitution-24402" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24403" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-24423" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24424" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24426" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24428" href="../Substitution/#plfa_plfa-part2-Substitution-24339" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-24429" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24431" href="../Substitution/#plfa_plfa-part2-Substitution-24342" class="Bound">H</a><a id="plfa_plfa-part2-Substitution-24432" class="Symbol">)</a>
</pre><p>证明通过对项 <code>M</code> 进行归纳得出：</p><ul><li><p>若 <code>M</code> 为变量，则我们用前提可得结论。</p></li><li><p>若 <code>M ≡ ƛ N</code>，我们对 <code>N</code> 应用归纳假设可出结论。然而，要使用归纳假设，我们必须证明</p><pre><code>  exts (exts σ) (ext ρ x) ≡ rename (ext ρ) (exts σ x)</code></pre><p>此方程可通过对 <code>x</code> 进行情况分析证明：</p><ul><li><p>若 <code>x = Z</code>，则两边按照定义相等。</p></li><li><p>若 <code>x = S y</code>，我们通过以下等式推理即可证得目标</p><pre><code>  exts (exts σ) (ext ρ₁ (S y))
≡ rename S_ (exts σ (ρ₁ y))
≡ rename S_ (rename ρ₂ (σ y))        (by the premise)
≡ rename (S_ ∘ ρ₂) (σ y)             (by compose-rename)
≡ rename ((ext ρ₂) ∘ S_) (σ y)
≡ rename (ext ρ₂) (rename S_ (σ y))  (by compose-rename)
≡ rename (ext ρ₂) (exts σ (S y))</code></pre></li></ul></li></ul><ul><li>若 <code>M</code> 为应用，我们对每个子项使用归纳假设即可证得目标。</li></ul><p>证明 <code>sub-sub</code> 所需的最后一个引理指出 <code>exts</code> 函数按对序列满足分配率。 它是 <code>commute-subst-rename</code> 的一个推论，如下所述。 （如果直接通过 σ-代数中的等式推理来证明这一点会更好，但这需要 <code>sub-assoc</code> 方程，其证明依赖于 <code>sub-sub</code>，而 <code>sub-sub</code> 又依赖于于此引理。）</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-seq"></a><a id="plfa_plfa-part2-Substitution-26249" href="../Substitution/#plfa_plfa-part2-Substitution-26249" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-26258" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26260" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26262" href="../Substitution/#plfa_plfa-part2-Substitution-26262" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26264" href="../Substitution/#plfa_plfa-part2-Substitution-26264" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26266" href="../Substitution/#plfa_plfa-part2-Substitution-26266" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26268" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26270" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26271" href="../Substitution/#plfa_plfa-part2-Substitution-26271" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26274" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26276" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26282" href="../Substitution/#plfa_plfa-part2-Substitution-26262" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26284" href="../Substitution/#plfa_plfa-part2-Substitution-26264" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26285" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26287" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26288" href="../Substitution/#plfa_plfa-part2-Substitution-26288" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26291" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26293" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26299" href="../Substitution/#plfa_plfa-part2-Substitution-26264" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26301" href="../Substitution/#plfa_plfa-part2-Substitution-26266" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26303" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-26314" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26316" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-26318" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26319" href="../Substitution/#plfa_plfa-part2-Substitution-26319" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26320" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26322" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26324" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26325" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26330" href="../Substitution/#plfa_plfa-part2-Substitution-26271" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26333" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26335" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26340" href="../Substitution/#plfa_plfa-part2-Substitution-26288" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26342" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26344" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26345" href="../Substitution/#plfa_plfa-part2-Substitution-26319" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26346" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26348" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26350" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26355" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26356" href="../Substitution/#plfa_plfa-part2-Substitution-26271" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26359" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26361" href="../Substitution/#plfa_plfa-part2-Substitution-26288" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26363" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-26365" href="../Substitution/#plfa_plfa-part2-Substitution-26249" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-26374" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26376" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-26391" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-26393" href="../Substitution/#plfa_plfa-part2-Substitution-26393" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26395" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26397" href="../Substitution/#plfa_plfa-part2-Substitution-26421" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26403" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26404" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26406" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26408" href="../Substitution/#plfa_plfa-part2-Substitution-26393" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26409" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-26413" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-26421" href="../Substitution/#plfa_plfa-part2-Substitution-26421" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26427" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26429" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26431" href="../Substitution/#plfa_plfa-part2-Substitution-26431" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26433" href="../Substitution/#plfa_plfa-part2-Substitution-26433" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26435" href="../Substitution/#plfa_plfa-part2-Substitution-26435" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26437" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26439" href="../Substitution/#plfa_plfa-part2-Substitution-26439" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26440" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26442" href="../Substitution/#plfa_plfa-part2-Substitution-26442" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26444" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26446" href="../Substitution/#plfa_plfa-part2-Substitution-26431" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26448" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-26450" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-26452" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-26454" href="../Substitution/#plfa_plfa-part2-Substitution-26439" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26455" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26457" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26458" href="../Substitution/#plfa_plfa-part2-Substitution-26458" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26461" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26463" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26469" href="../Substitution/#plfa_plfa-part2-Substitution-26431" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26471" href="../Substitution/#plfa_plfa-part2-Substitution-26433" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26472" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26474" href="../Substitution/#plfa_plfa-part2-Substitution-26474" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26477" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26479" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26485" href="../Substitution/#plfa_plfa-part2-Substitution-26433" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26487" href="../Substitution/#plfa_plfa-part2-Substitution-26435" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26489" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Substitution-26496" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26498" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26499" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26504" href="../Substitution/#plfa_plfa-part2-Substitution-26458" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26507" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26509" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26514" href="../Substitution/#plfa_plfa-part2-Substitution-26474" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26516" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26518" href="../Substitution/#plfa_plfa-part2-Substitution-26442" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26520" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26522" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26527" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26528" href="../Substitution/#plfa_plfa-part2-Substitution-26458" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26531" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26533" href="../Substitution/#plfa_plfa-part2-Substitution-26474" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26535" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26537" href="../Substitution/#plfa_plfa-part2-Substitution-26442" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-26541" href="../Substitution/#plfa_plfa-part2-Substitution-26421" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26547" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26548" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26550" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26552" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-26553" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26555" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26557" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-26564" href="../Substitution/#plfa_plfa-part2-Substitution-26421" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26570" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26571" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-26573" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26575" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26576" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26578" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26580" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26582" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-26584" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26585" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26587" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-26589" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26591" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26593" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26595" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-26602" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-26615" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26616" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26621" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26624" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26626" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26631" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26633" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26635" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26636" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-26638" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26639" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26646" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26657" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26659" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26664" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26667" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26669" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26670" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26677" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26680" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26681" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26684" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26685" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-26693" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26696" href="../Substitution/#plfa_plfa-part2-Substitution-23344" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-26716" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26717" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26719" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26721" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26724" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26725" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26727" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-26729" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26731" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26733" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26735" class="Argument">ρ₁</a> <a id="plfa_plfa-part2-Substitution-26738" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26740" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-26742" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26744" class="Argument">ρ₂</a> <a id="plfa_plfa-part2-Substitution-26747" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26749" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-26751" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26753" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26758" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26767" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26774" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26777" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26778" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26780" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26783" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26785" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26786" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26789" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26790" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-26798" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26809" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26816" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26819" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26821" href="../Substitution/#plfa_plfa-part2-Substitution-26587" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26824" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26826" href="../Substitution/#plfa_plfa-part2-Substitution-26591" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26828" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26830" href="../Substitution/#plfa_plfa-part2-Substitution-26584" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26831" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26838" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p>通过对 <code>x</code> 进行情况分析来证明：</p><ul><li><p>若 <code>x = Z</code>，则根据 <code>exts</code> 和序列的定义两边相等。</p></li><li><p>若 <code>x = S x</code>，我们展开第一个 <code>exts</code> 和序列，之后应用引理 <code>commute-subst-rename</code>。 根据序列的定义可得出结论。</p></li></ul><p>现在我们来证明 <code>sub-sub</code>，它的解释如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-sub"></a><a id="plfa_plfa-part2-Substitution-27380" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27388" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27390" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-27392" href="../Substitution/#plfa_plfa-part2-Substitution-27392" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27394" href="../Substitution/#plfa_plfa-part2-Substitution-27394" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-27396" href="../Substitution/#plfa_plfa-part2-Substitution-27396" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27397" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27399" href="../Substitution/#plfa_plfa-part2-Substitution-27399" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27400" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27402" href="../Substitution/#plfa_plfa-part2-Substitution-27402" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27404" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27406" href="../Substitution/#plfa_plfa-part2-Substitution-27392" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27408" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-27410" href="../Substitution/#plfa_plfa-part2-Substitution-27399" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27411" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27413" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27414" href="../Substitution/#plfa_plfa-part2-Substitution-27414" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27417" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27419" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-27425" href="../Substitution/#plfa_plfa-part2-Substitution-27392" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27427" href="../Substitution/#plfa_plfa-part2-Substitution-27394" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-27428" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27430" href="../Substitution/#plfa_plfa-part2-Substitution-27430" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27433" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27435" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-27441" href="../Substitution/#plfa_plfa-part2-Substitution-27394" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-27443" href="../Substitution/#plfa_plfa-part2-Substitution-27396" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27444" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-27458" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-27460" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27462" href="../Substitution/#plfa_plfa-part2-Substitution-27430" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27465" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27467" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27468" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27470" href="../Substitution/#plfa_plfa-part2-Substitution-27414" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27473" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27475" href="../Substitution/#plfa_plfa-part2-Substitution-27402" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27476" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27478" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-27480" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27482" href="../Substitution/#plfa_plfa-part2-Substitution-27414" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27485" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27487" href="../Substitution/#plfa_plfa-part2-Substitution-27430" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27490" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27492" href="../Substitution/#plfa_plfa-part2-Substitution-27402" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-27494" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27502" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27503" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27505" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27507" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-27509" href="../Substitution/#plfa_plfa-part2-Substitution-27509" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-27510" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27512" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27514" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-27519" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27527" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27528" href="../Substitution/#plfa_plfa-part2-Substitution-27528" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-27529" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27531" href="../Substitution/#plfa_plfa-part2-Substitution-27531" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-27532" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27534" href="../Substitution/#plfa_plfa-part2-Substitution-27534" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27535" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27537" href="../Substitution/#plfa_plfa-part2-Substitution-27537" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27538" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27540" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27542" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27543" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27545" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-27547" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27549" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27551" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27553" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-27558" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-27569" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27571" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27574" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27576" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27577" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27579" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27582" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27584" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27585" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27587" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27588" class="Symbol">))</a>
   <a id="plfa_plfa-part2-Substitution-27594" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-27603" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27605" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27607" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27612" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27615" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27617" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27618" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27620" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27625" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27628" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27630" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27631" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-27636" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27639" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27644" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-27647" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27648" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27655" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27656" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27658" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27660" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27661" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27663" class="Argument">σ₁</a> <a id="plfa_plfa-part2-Substitution-27666" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27668" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27673" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-27675" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27677" class="Argument">σ₂</a> <a id="plfa_plfa-part2-Substitution-27680" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27682" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27687" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27689" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27692" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-27699" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27701" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27703" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27708" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27711" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27713" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27718" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27721" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27723" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-27728" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27731" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27736" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-27739" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27740" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27748" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27749" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27751" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27753" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27754" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27756" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-27759" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27760" href="../Substitution/#plfa_plfa-part2-Substitution-27760" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27761" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27763" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-27765" href="../Substitution/#plfa_plfa-part2-Substitution-26249" class="Function">exts-seq</a><a id="plfa_plfa-part2-Substitution-27773" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27775" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-27779" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27781" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-27788" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27790" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27792" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27797" class="Symbol">(</a> <a id="plfa_plfa-part2-Substitution-27799" href="../Substitution/#plfa_plfa-part2-Substitution-27545" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27802" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27804" href="../Substitution/#plfa_plfa-part2-Substitution-27549" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27806" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27808" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27810" href="../Substitution/#plfa_plfa-part2-Substitution-27542" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-27815" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-27817" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27825" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27826" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27828" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27830" href="../Substitution/#plfa_plfa-part2-Substitution-27830" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-27832" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-27834" href="../Substitution/#plfa_plfa-part2-Substitution-27834" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27835" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27837" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27839" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-27845" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-27849" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27850" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27857" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27858" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27860" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27862" href="../Substitution/#plfa_plfa-part2-Substitution-27830" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-27863" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27866" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27867" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27874" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27875" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27877" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27879" href="../Substitution/#plfa_plfa-part2-Substitution-27834" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27880" class="Symbol">})</a>
</pre><p>我们通过对项 <code>M</code> 进行归纳来证明：</p><ul><li><p>若 <code>M = x</code>，则两边都等于 <code>σ₂ (σ₁ x)</code>。</p></li><li><p>若 <code>M = ƛ N</code>，哦我们首先用归纳假设证明</p><pre><code>  ƛ ⟪ exts σ₂ ⟫ (⟪ exts σ₁ ⟫ N) ≡ ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N</code></pre><p>之后用引理 <code>exts-seq</code> 证明</p><pre><code>  ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N ≡ ƛ ⟪ exts ( σ₁ ⨟ σ₂) ⟫ N</code></pre></li><li><p>若 <code>M</code> 是一个应用，我们对两个子项应用归纳假设即可得证。</p></li></ul><p>以下 <code>sub-sub</code> 的推论特化了重命名的第一个代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst"></a><a id="plfa_plfa-part2-Substitution-28723" href="../Substitution/#plfa_plfa-part2-Substitution-28723" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-28736" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28738" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-28740" href="../Substitution/#plfa_plfa-part2-Substitution-28740" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28742" href="../Substitution/#plfa_plfa-part2-Substitution-28742" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-28744" href="../Substitution/#plfa_plfa-part2-Substitution-28744" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28746" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28748" href="../Substitution/#plfa_plfa-part2-Substitution-28748" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28750" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28752" href="../Substitution/#plfa_plfa-part2-Substitution-28740" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28754" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28756" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28757" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28759" href="../Substitution/#plfa_plfa-part2-Substitution-28759" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28761" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28763" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-28770" href="../Substitution/#plfa_plfa-part2-Substitution-28740" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28772" href="../Substitution/#plfa_plfa-part2-Substitution-28742" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28773" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28775" href="../Substitution/#plfa_plfa-part2-Substitution-28775" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28777" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28779" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-28785" href="../Substitution/#plfa_plfa-part2-Substitution-28742" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-28787" href="../Substitution/#plfa_plfa-part2-Substitution-28744" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28789" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-28804" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28806" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28808" href="../Substitution/#plfa_plfa-part2-Substitution-28775" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28810" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28812" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28813" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28820" href="../Substitution/#plfa_plfa-part2-Substitution-28759" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28822" href="../Substitution/#plfa_plfa-part2-Substitution-28748" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28823" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28825" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-28827" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28829" href="../Substitution/#plfa_plfa-part2-Substitution-28775" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28831" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-28833" href="../Substitution/#plfa_plfa-part2-Substitution-28759" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28835" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28837" href="../Substitution/#plfa_plfa-part2-Substitution-28748" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-28839" href="../Substitution/#plfa_plfa-part2-Substitution-28723" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-28852" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28853" href="../Substitution/#plfa_plfa-part2-Substitution-28853" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28854" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28856" href="../Substitution/#plfa_plfa-part2-Substitution-28856" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28857" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28859" href="../Substitution/#plfa_plfa-part2-Substitution-28859" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28861" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28863" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28864" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28866" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28867" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28869" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-28870" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28872" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-28877" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-28888" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28890" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28892" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28894" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28895" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28902" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28904" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28905" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-28910" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28913" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-28918" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28920" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28922" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28924" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28925" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28941" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28942" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28944" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28946" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28947" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-28950" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-28957" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28959" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28961" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28963" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28964" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28966" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28970" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28972" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28974" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28975" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-28980" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28983" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-28990" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28991" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28993" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28995" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28996" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28998" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-29005" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29007" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-29011" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-29013" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29015" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29017" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29019" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-29024" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-29033" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29035" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29037" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-29039" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-29041" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29043" href="../Substitution/#plfa_plfa-part2-Substitution-28863" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-29048" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="sub-assoc-的证明">sub-assoc 的证明</h2><p><code>sub-assoc</code> 的证明可直接从 <code>sub-sub</code> 以及序列的定义得出：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-assoc"></a><a id="plfa_plfa-part2-Substitution-29257" href="../Substitution/#plfa_plfa-part2-Substitution-29257" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-29267" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29269" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-29271" href="../Substitution/#plfa_plfa-part2-Substitution-29271" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29273" href="../Substitution/#plfa_plfa-part2-Substitution-29273" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-29275" href="../Substitution/#plfa_plfa-part2-Substitution-29275" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-29277" href="../Substitution/#plfa_plfa-part2-Substitution-29277" class="Bound">Ψ</a> <a id="plfa_plfa-part2-Substitution-29279" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29281" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-29288" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29290" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29291" href="../Substitution/#plfa_plfa-part2-Substitution-29291" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29293" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29295" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29301" href="../Substitution/#plfa_plfa-part2-Substitution-29271" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29303" href="../Substitution/#plfa_plfa-part2-Substitution-29273" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-29304" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29306" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29307" href="../Substitution/#plfa_plfa-part2-Substitution-29307" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29309" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29311" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29317" href="../Substitution/#plfa_plfa-part2-Substitution-29273" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-29319" href="../Substitution/#plfa_plfa-part2-Substitution-29275" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-29320" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-29335" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29336" href="../Substitution/#plfa_plfa-part2-Substitution-29336" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29338" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29340" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29346" href="../Substitution/#plfa_plfa-part2-Substitution-29275" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-29348" href="../Substitution/#plfa_plfa-part2-Substitution-29277" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-29349" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-29361" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29363" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-29365" href="../Substitution/#plfa_plfa-part2-Substitution-29365" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29366" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29368" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29370" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29371" href="../Substitution/#plfa_plfa-part2-Substitution-29291" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29373" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29375" href="../Substitution/#plfa_plfa-part2-Substitution-29307" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29376" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29378" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29380" href="../Substitution/#plfa_plfa-part2-Substitution-29336" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29382" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-29384" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29385" href="../Substitution/#plfa_plfa-part2-Substitution-29291" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29387" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29389" href="../Substitution/#plfa_plfa-part2-Substitution-29307" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29391" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29393" href="../Substitution/#plfa_plfa-part2-Substitution-29336" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29394" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29396" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29397" href="../Substitution/#plfa_plfa-part2-Substitution-29365" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29398" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-29400" href="../Substitution/#plfa_plfa-part2-Substitution-29257" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-29410" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29411" href="../Substitution/#plfa_plfa-part2-Substitution-29411" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-29412" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29414" href="../Substitution/#plfa_plfa-part2-Substitution-29414" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-29415" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29417" href="../Substitution/#plfa_plfa-part2-Substitution-29417" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-29418" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29420" href="../Substitution/#plfa_plfa-part2-Substitution-29420" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-29421" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29423" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-29424" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29426" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29427" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29429" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29430" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29432" href="../Substitution/#plfa_plfa-part2-Substitution-29432" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29433" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29435" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29437" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-29452" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-29454" href="../Substitution/#plfa_plfa-part2-Substitution-29454" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29456" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29458" href="../Substitution/#plfa_plfa-part2-Substitution-29481" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-29463" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29464" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-29466" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29468" href="../Substitution/#plfa_plfa-part2-Substitution-29454" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29469" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-29473" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-29481" href="../Substitution/#plfa_plfa-part2-Substitution-29481" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-29487" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29489" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-29491" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29492" href="../Substitution/#plfa_plfa-part2-Substitution-29492" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29494" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29496" href="../Substitution/#plfa_plfa-part2-Substitution-29411" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29498" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-29500" href="../Substitution/#plfa_plfa-part2-Substitution-29432" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29501" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29503" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29505" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-29507" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29509" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29511" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29512" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29514" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29516" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29517" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29519" href="../Substitution/#plfa_plfa-part2-Substitution-29492" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29521" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-29523" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29524" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29526" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29528" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29530" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29532" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29533" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29535" href="../Substitution/#plfa_plfa-part2-Substitution-29492" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-29539" href="../Substitution/#plfa_plfa-part2-Substitution-29481" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-29545" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29546" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29547" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29549" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-29557" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-29571" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-29573" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29575" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29577" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29578" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29580" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29582" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29583" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29585" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-29593" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-29605" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29607" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29609" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29611" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29612" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29614" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29616" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29618" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29619" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29621" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29622" class="Symbol">))</a>
      <a id="plfa_plfa-part2-Substitution-29631" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-29634" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-29641" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29642" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29644" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29646" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29648" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29649" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29651" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-29661" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29663" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29665" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29667" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29669" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29671" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29672" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29674" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29675" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-29683" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-29695" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29696" href="../Substitution/#plfa_plfa-part2-Substitution-29423" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29698" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29700" href="../Substitution/#plfa_plfa-part2-Substitution-29426" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29702" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29704" href="../Substitution/#plfa_plfa-part2-Substitution-29429" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29705" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29707" href="../Substitution/#plfa_plfa-part2-Substitution-29546" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-29715" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="subst-zero-exts-cons-的证明">subst-zero-exts-cons 的证明</h2><p>我们证明 <code>subst-zero-exts-cons</code> 需要的最后一个方程是 <code>sub-assoc</code>， 现在我们可以继续证明它。只需对 <code>exts</code> 和 <code>subst-zero</code> 应用方程，然后应用 σ-代数方程即可得到正规形式 <code>M • σ</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-zero-exts-cons"></a><a id="plfa_plfa-part2-Substitution-30188" href="../Substitution/#plfa_plfa-part2-Substitution-30188" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-30209" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30211" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-30213" href="../Substitution/#plfa_plfa-part2-Substitution-30213" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-30215" href="../Substitution/#plfa_plfa-part2-Substitution-30215" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30216" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30218" href="../Substitution/#plfa_plfa-part2-Substitution-30218" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30220" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30222" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-30228" href="../Substitution/#plfa_plfa-part2-Substitution-30213" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-30230" href="../Substitution/#plfa_plfa-part2-Substitution-30215" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30231" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30233" href="../Substitution/#plfa_plfa-part2-Substitution-30233" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30234" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30236" href="../Substitution/#plfa_plfa-part2-Substitution-30236" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30238" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30240" href="../Substitution/#plfa_plfa-part2-Substitution-30215" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-30242" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-30244" href="../Substitution/#plfa_plfa-part2-Substitution-30233" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30245" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30247" href="../Substitution/#plfa_plfa-part2-Substitution-30247" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30248" class="Symbol">}</a>
                     <a id="plfa_plfa-part2-Substitution-30271" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-30273" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-30278" href="../Substitution/#plfa_plfa-part2-Substitution-30218" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30280" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30282" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-30293" href="../Substitution/#plfa_plfa-part2-Substitution-30236" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30295" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-30297" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30298" href="../Substitution/#plfa_plfa-part2-Substitution-30236" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30300" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30302" href="../Substitution/#plfa_plfa-part2-Substitution-30218" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30303" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30305" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30306" href="../Substitution/#plfa_plfa-part2-Substitution-30247" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30307" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-30309" href="../Substitution/#plfa_plfa-part2-Substitution-30188" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-30330" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30331" href="../Substitution/#plfa_plfa-part2-Substitution-30331" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-30332" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30334" href="../Substitution/#plfa_plfa-part2-Substitution-30334" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30335" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30337" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30338" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30340" href="../Substitution/#plfa_plfa-part2-Substitution-30340" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30341" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30343" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-30344" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30346" href="../Substitution/#plfa_plfa-part2-Substitution-30346" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30347" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-30349" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Substitution-30355" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-30367" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-30372" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30374" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30376" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-30387" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a>
    <a id="plfa_plfa-part2-Substitution-30393" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30396" href="../Substitution/#plfa_plfa-part2-Substitution-14699" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-30405" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-30421" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-30438" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30446" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30447" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-30449" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-30451" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30453" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30454" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30456" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30458" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30459" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-30462" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30464" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30465" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30467" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30469" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30472" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-30478" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30481" href="../Substitution/#plfa_plfa-part2-Substitution-11577" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-30490" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30498" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30499" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-30501" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30503" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30505" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-30509" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-30511" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30512" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-30514" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-30515" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-30518" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30520" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-30522" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30524" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30526" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30527" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30529" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30531" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30532" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30534" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30536" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30539" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-30546" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30549" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30559" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30560" href="../Substitution/#plfa_plfa-part2-Substitution-10742" class="Function">sub-head</a><a id="plfa_plfa-part2-Substitution-30568" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30569" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30571" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30573" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30576" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30579" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30584" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30592" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30594" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30596" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-30598" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30600" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30602" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30603" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30605" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30607" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30608" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30610" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30612" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30615" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-30622" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30625" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30635" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30640" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30641" href="../Substitution/#plfa_plfa-part2-Substitution-29257" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-30650" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30651" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30653" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30655" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30656" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30659" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30667" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30669" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30671" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30672" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30674" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30676" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30677" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-30679" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30681" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30682" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30684" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30686" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30689" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Substitution-30697" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30700" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30710" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30715" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30716" href="../Substitution/#plfa_plfa-part2-Substitution-14699" class="Function">cong-seq</a><a id="plfa_plfa-part2-Substitution-30724" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30725" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30727" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30729" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30730" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-30732" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30737" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30738" href="../Substitution/#plfa_plfa-part2-Substitution-10852" class="Function">sub-tail</a><a id="plfa_plfa-part2-Substitution-30746" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30747" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-30749" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30751" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-30752" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30754" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30756" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30758" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30761" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-30765" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30773" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30775" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30777" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30778" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30780" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30782" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30785" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-30791" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30794" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30804" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30809" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30810" href="../Substitution/#plfa_plfa-part2-Substitution-21110" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-30817" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30818" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30820" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30822" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30823" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30826" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30834" href="../Substitution/#plfa_plfa-part2-Substitution-30343" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30836" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30838" href="../Substitution/#plfa_plfa-part2-Substitution-30337" class="Bound">σ</a>
    <a id="plfa_plfa-part2-Substitution-30844" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><h2 id="代换引理的证明">代换引理的证明</h2><p>我们首先证明代换引理的推广形式，证明代换 <code>σ</code> 对在 <code>N</code> 中代换 <code>M</code> 满足交换律。</p><pre><code>⟪ exts σ ⟫ N [ ⟪ σ ⟫ M ] ≡ ⟪ σ ⟫ (N [ M ])</code></pre><p>这个证明是 σ-代数得到回报的地方。证明可通过直接得等式推理进项。 从方程左边开始，我们应用 σ-代数方程，从左到右，直到得到正规形式</p><pre><code>⟪ ⟪ σ ⟫ M • σ ⟫ N</code></pre><p>之后我们对方程右边做同样的事情，直到得到同样的正规形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-commute"></a><a id="plfa_plfa-part2-Substitution-31601" href="../Substitution/#plfa_plfa-part2-Substitution-31601" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-31615" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31617" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-31619" href="../Substitution/#plfa_plfa-part2-Substitution-31619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31621" href="../Substitution/#plfa_plfa-part2-Substitution-31621" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-31622" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31624" href="../Substitution/#plfa_plfa-part2-Substitution-31624" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31626" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31628" href="../Substitution/#plfa_plfa-part2-Substitution-31619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31630" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-31632" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-31634" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-31636" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-31637" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31639" href="../Substitution/#plfa_plfa-part2-Substitution-31639" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31641" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31643" href="../Substitution/#plfa_plfa-part2-Substitution-31619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31645" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-31647" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-31648" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31650" href="../Substitution/#plfa_plfa-part2-Substitution-31650" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31652" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31654" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-31660" href="../Substitution/#plfa_plfa-part2-Substitution-31619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31662" href="../Substitution/#plfa_plfa-part2-Substitution-31621" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-31664" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-31670" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-31672" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31674" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31679" href="../Substitution/#plfa_plfa-part2-Substitution-31650" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31681" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31683" href="../Substitution/#plfa_plfa-part2-Substitution-31624" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31685" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31687" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31689" href="../Substitution/#plfa_plfa-part2-Substitution-31650" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31691" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31693" href="../Substitution/#plfa_plfa-part2-Substitution-31639" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31695" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-31697" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-31699" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31701" href="../Substitution/#plfa_plfa-part2-Substitution-31650" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31703" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31705" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31706" href="../Substitution/#plfa_plfa-part2-Substitution-31624" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31708" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31710" href="../Substitution/#plfa_plfa-part2-Substitution-31639" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31712" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-31713" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-31715" href="../Substitution/#plfa_plfa-part2-Substitution-31601" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-31729" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31730" href="../Substitution/#plfa_plfa-part2-Substitution-31730" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-31731" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31733" href="../Substitution/#plfa_plfa-part2-Substitution-31733" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-31734" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31736" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31737" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31739" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-31740" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31742" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-31743" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31745" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-31752" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-31765" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31767" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31772" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31774" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31776" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31778" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31780" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31782" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31784" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31786" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31788" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-31795" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-31806" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31808" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-31819" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31820" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31822" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31824" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31826" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-31827" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-31829" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31831" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31832" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31834" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31839" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31841" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31843" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31844" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-31851" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-31854" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-31863" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31864" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-31866" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-31868" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31870" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31875" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31877" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31879" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31880" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31882" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-31899" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-31904" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-31913" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31915" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31917" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31919" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31921" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31923" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-31925" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-31929" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31931" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31932" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31934" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31939" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31941" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31943" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31944" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-31951" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-31954" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-31962" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31963" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-31965" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-31967" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31968" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31970" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-31979" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31981" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31982" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31987" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-31988" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-31990" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-31992" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-31994" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31996" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31998" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32000" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-32001" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32003" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32005" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32008" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32010" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32012" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32019" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32022" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-32031" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32032" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32034" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32036" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32037" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32039" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32040" href="../Substitution/#plfa_plfa-part2-Substitution-14699" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-32049" href="../Substitution/#plfa_plfa-part2-Substitution-18000" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-32065" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-32069" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32071" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32076" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32085" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32087" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32088" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32090" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-32092" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32094" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32095" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32097" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32099" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32100" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32103" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32105" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32106" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32108" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32110" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32112" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32114" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32116" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32119" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32121" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32123" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32130" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32133" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-32142" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32143" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32145" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32147" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32148" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32150" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32151" href="../Substitution/#plfa_plfa-part2-Substitution-11577" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-32160" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32161" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32163" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32165" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32167" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-32168" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-32171" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32176" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32185" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32187" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32189" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32191" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32193" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32195" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32197" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32199" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32203" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32205" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32206" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32208" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-32209" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32211" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32213" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-32215" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32217" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32219" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32220" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32222" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32224" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32225" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32227" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32229" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32231" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32233" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32235" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32238" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32241" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32243" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32250" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-32261" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32263" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32265" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32267" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32269" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32271" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32273" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-32275" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32277" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32279" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32280" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32282" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32284" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32285" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32287" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32289" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32291" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32293" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32295" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32298" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32301" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32303" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32310" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32313" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32321" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32322" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32324" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32326" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32327" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32329" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32330" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32340" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32345" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32346" href="../Substitution/#plfa_plfa-part2-Substitution-29257" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-32355" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32356" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32358" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32360" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32361" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32365" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32370" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32379" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32381" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32383" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32385" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32387" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32389" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32391" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32392" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32394" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32396" href="../Substitution/#plfa_plfa-part2-Substitution-3958" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-32398" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32400" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32402" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32404" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32406" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32408" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32410" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32413" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32415" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32417" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32424" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32427" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32435" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32436" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32438" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32440" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32441" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32443" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32448" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32453" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32462" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32464" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32466" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32468" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32470" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32472" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32474" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32475" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32477" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32479" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32482" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32484" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32486" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32493" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32496" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32504" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32505" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32507" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32509" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32510" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32512" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32513" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32523" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32528" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32529" href="../Substitution/#plfa_plfa-part2-Substitution-21110" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-32536" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32537" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32539" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32541" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32542" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32546" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32551" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32560" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32562" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32564" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32566" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32568" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32570" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32572" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32574" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32576" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32583" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32586" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32594" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32595" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32597" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32599" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32600" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32602" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32603" href="../Substitution/#plfa_plfa-part2-Substitution-14350" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32613" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32618" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32619" href="../Substitution/#plfa_plfa-part2-Substitution-11466" class="Function">sub-idL</a><a id="plfa_plfa-part2-Substitution-32626" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32627" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32629" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32631" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32632" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32636" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32641" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32650" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32652" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32654" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32656" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32658" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32660" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32662" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32663" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32667" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32669" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32670" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32672" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32674" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32681" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32684" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32692" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32693" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32695" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32697" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32698" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32700" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32701" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32705" href="../Substitution/#plfa_plfa-part2-Substitution-11577" class="Function">sub-dist</a><a id="plfa_plfa-part2-Substitution-32713" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32715" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32720" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32729" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32731" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32733" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32735" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32739" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32741" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32743" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32745" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32752" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32755" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32759" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32760" href="../Substitution/#plfa_plfa-part2-Substitution-27380" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-32767" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32768" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32770" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32772" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32773" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-32776" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32785" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32787" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32789" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32791" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32792" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32794" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32796" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32798" href="../Substitution/#plfa_plfa-part2-Substitution-3772" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32802" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32804" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32805" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-32812" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32815" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-32820" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32822" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32824" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32826" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32827" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32831" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32832" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32840" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32841" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32843" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32845" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32846" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32848" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-32865" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-32869" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32872" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32881" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32883" href="../Substitution/#plfa_plfa-part2-Substitution-31742" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32885" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32887" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32888" href="../Substitution/#plfa_plfa-part2-Substitution-31736" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-32890" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-32892" href="../Substitution/#plfa_plfa-part2-Substitution-31739" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32894" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-32895" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-32902" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p><code>subst-commute</code> 的一个推论是 <code>rename</code> 也对代换满足交换律。在下面的证明中， 我们首先为代换 <code>⟪ ren ρ ⟫</code> 交换了 <code>rename ρ</code>，然后应用 <code>subst-commute</code>， 之后转换回 <code>rename ρ</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-commute"></a><a id="plfa_plfa-part2-Substitution-33282" href="../Substitution/#plfa_plfa-part2-Substitution-33282" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-33303" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33305" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-33307" href="../Substitution/#plfa_plfa-part2-Substitution-33307" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33309" href="../Substitution/#plfa_plfa-part2-Substitution-33309" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-33310" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33312" href="../Substitution/#plfa_plfa-part2-Substitution-33312" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33314" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33316" href="../Substitution/#plfa_plfa-part2-Substitution-33307" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33318" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-33320" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-33322" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-33324" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-33325" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33327" href="../Substitution/#plfa_plfa-part2-Substitution-33327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33329" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33331" href="../Substitution/#plfa_plfa-part2-Substitution-33307" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33333" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-33335" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-33336" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33338" href="../Substitution/#plfa_plfa-part2-Substitution-33338" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33340" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33342" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-33349" href="../Substitution/#plfa_plfa-part2-Substitution-33307" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33351" href="../Substitution/#plfa_plfa-part2-Substitution-33309" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-33353" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-33359" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-33361" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33362" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33369" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33370" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33374" href="../Substitution/#plfa_plfa-part2-Substitution-33338" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33375" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33377" href="../Substitution/#plfa_plfa-part2-Substitution-33312" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33378" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33380" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33382" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33389" href="../Substitution/#plfa_plfa-part2-Substitution-33338" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33391" href="../Substitution/#plfa_plfa-part2-Substitution-33327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33393" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-33395" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-33397" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33404" href="../Substitution/#plfa_plfa-part2-Substitution-33338" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33406" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33407" href="../Substitution/#plfa_plfa-part2-Substitution-33312" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33409" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33411" href="../Substitution/#plfa_plfa-part2-Substitution-33327" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33413" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33414" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-33416" href="../Substitution/#plfa_plfa-part2-Substitution-33282" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-33437" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33438" href="../Substitution/#plfa_plfa-part2-Substitution-33438" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-33439" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33441" href="../Substitution/#plfa_plfa-part2-Substitution-33441" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-33442" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33444" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33445" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33447" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-33448" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33450" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33451" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33453" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-33460" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-33473" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33474" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33481" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33482" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33486" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33487" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33489" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33490" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33492" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33494" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33501" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33503" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33505" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33512" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33515" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-33524" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33525" href="../Substitution/#plfa_plfa-part2-Substitution-14095" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-33539" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33540" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33556" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33557" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33559" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33561" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-33562" class="Symbol">}))</a>
                 <a id="plfa_plfa-part2-Substitution-33583" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33584" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33600" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33601" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33603" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33605" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33606" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-33609" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33618" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33619" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33621" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33625" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33626" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33630" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33631" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33633" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33635" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33636" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33638" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33640" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33642" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33646" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33648" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33650" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33652" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33659" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33662" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-33671" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-33676" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33677" href="../Substitution/#plfa_plfa-part2-Substitution-13603" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-33685" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33686" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33688" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33690" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33691" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33693" href="../Substitution/#plfa_plfa-part2-Substitution-16007" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-33701" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-33705" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33707" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33716" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33717" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33719" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-33724" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33725" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33729" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33730" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33732" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33734" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33735" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33737" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33739" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33741" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33745" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33747" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33749" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33751" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33758" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33761" href="../Substitution/#plfa_plfa-part2-Substitution-31601" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-33774" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33775" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-33777" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33779" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33780" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33782" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33791" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-33797" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33798" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33802" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33803" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33805" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33806" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33808" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33810" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33812" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33813" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-33820" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33823" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-33827" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33828" href="../Substitution/#plfa_plfa-part2-Substitution-16416" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33844" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33846" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33855" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33862" href="../Substitution/#plfa_plfa-part2-Substitution-33450" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33864" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33865" href="../Substitution/#plfa_plfa-part2-Substitution-33444" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33867" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33869" href="../Substitution/#plfa_plfa-part2-Substitution-33447" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33871" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33872" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-33879" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre><p>为了展示代换引理，我们为「用项 <code>M</code> 代换项 <code>N</code> 中的索引 1」引入了以下记法：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-_〔_〕"></a><a id="plfa_plfa-part2-Substitution-34077" href="../Substitution/#plfa_plfa-part2-Substitution-34077" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-34082" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34084" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-34086" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34087" href="../Substitution/#plfa_plfa-part2-Substitution-34087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34089" href="../Substitution/#plfa_plfa-part2-Substitution-34089" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-34091" href="../Substitution/#plfa_plfa-part2-Substitution-34091" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34093" href="../Substitution/#plfa_plfa-part2-Substitution-34093" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34094" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-34104" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34106" href="../Substitution/#plfa_plfa-part2-Substitution-34087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34108" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34110" href="../Substitution/#plfa_plfa-part2-Substitution-34091" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34112" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34114" href="../Substitution/#plfa_plfa-part2-Substitution-34093" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-34116" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34118" href="../Substitution/#plfa_plfa-part2-Substitution-34089" class="Bound">A</a>
        <a id="plfa_plfa-part2-Substitution-34128" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34130" href="../Substitution/#plfa_plfa-part2-Substitution-34087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34132" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34134" href="../Substitution/#plfa_plfa-part2-Substitution-34091" class="Bound">B</a>
          <a id="plfa_plfa-part2-Substitution-34146" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Substitution-34164" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34166" href="../Substitution/#plfa_plfa-part2-Substitution-34087" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34168" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34170" href="../Substitution/#plfa_plfa-part2-Substitution-34093" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-34172" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34174" href="../Substitution/#plfa_plfa-part2-Substitution-34089" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-34176" href="../Substitution/#plfa_plfa-part2-Substitution-34077" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-34181" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34182" href="../Substitution/#plfa_plfa-part2-Substitution-34182" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-34183" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34185" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34186" href="../Substitution/#plfa_plfa-part2-Substitution-34186" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-34187" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34189" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34190" href="../Substitution/#plfa_plfa-part2-Substitution-34190" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-34191" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34193" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34194" href="../Substitution/#plfa_plfa-part2-Substitution-34194" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34195" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34197" href="../Substitution/#plfa_plfa-part2-Substitution-34197" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34199" href="../Substitution/#plfa_plfa-part2-Substitution-34199" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34201" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-34206" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-34212" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34213" href="../Substitution/#plfa_plfa-part2-Substitution-34182" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34215" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34217" href="../Substitution/#plfa_plfa-part2-Substitution-34190" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34219" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34221" href="../Substitution/#plfa_plfa-part2-Substitution-34194" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34222" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34224" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34225" href="../Substitution/#plfa_plfa-part2-Substitution-34182" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34227" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34229" href="../Substitution/#plfa_plfa-part2-Substitution-34194" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34230" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34232" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34233" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-34238" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34239" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-34250" href="../Substitution/#plfa_plfa-part2-Substitution-34199" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34251" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-34254" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34255" href="../Substitution/#plfa_plfa-part2-Substitution-34186" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-34256" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34258" href="../Substitution/#plfa_plfa-part2-Substitution-34197" class="Bound">N</a>
</pre><p>代换引理陈述如下，其证明是 <code>subst-commute</code> 引理的一个推论。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-substitution"></a><a id="plfa_plfa-part2-Substitution-34423" href="../Substitution/#plfa_plfa-part2-Substitution-34423" class="Function">substitution</a> <a id="plfa_plfa-part2-Substitution-34436" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34438" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-34440" href="../Substitution/#plfa_plfa-part2-Substitution-34440" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-34441" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34443" href="../Substitution/#plfa_plfa-part2-Substitution-34443" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34445" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34447" href="../Substitution/#plfa_plfa-part2-Substitution-34440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34449" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34451" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34453" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34455" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34457" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34459" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34460" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34462" href="../Substitution/#plfa_plfa-part2-Substitution-34462" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34464" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34466" href="../Substitution/#plfa_plfa-part2-Substitution-34440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34468" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34470" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34472" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34474" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34475" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34477" href="../Substitution/#plfa_plfa-part2-Substitution-34477" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34479" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34481" href="../Substitution/#plfa_plfa-part2-Substitution-34440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34483" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34485" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34486" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-34492" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34494" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34495" href="../Substitution/#plfa_plfa-part2-Substitution-34443" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34497" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34499" href="../Substitution/#plfa_plfa-part2-Substitution-34462" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34501" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-34502" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34504" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34506" href="../Substitution/#plfa_plfa-part2-Substitution-34477" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34508" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-34510" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-34512" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34513" href="../Substitution/#plfa_plfa-part2-Substitution-34443" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34515" href="../Substitution/#plfa_plfa-part2-Substitution-34077" class="Function Operator">〔</a> <a id="plfa_plfa-part2-Substitution-34517" href="../Substitution/#plfa_plfa-part2-Substitution-34477" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34519" href="../Substitution/#plfa_plfa-part2-Substitution-34077" class="Function Operator">〕</a><a id="plfa_plfa-part2-Substitution-34520" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34522" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34524" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34525" href="../Substitution/#plfa_plfa-part2-Substitution-34462" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34527" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34529" href="../Substitution/#plfa_plfa-part2-Substitution-34477" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34531" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-34532" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34534" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Substitution-34536" href="../Substitution/#plfa_plfa-part2-Substitution-34423" class="Function">substitution</a><a id="plfa_plfa-part2-Substitution-34548" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34549" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-34551" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34553" href="../Substitution/#plfa_plfa-part2-Substitution-34553" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34554" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34556" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-34558" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34560" href="../Substitution/#plfa_plfa-part2-Substitution-34560" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-34561" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34563" class="Argument">L</a> <a id="plfa_plfa-part2-Substitution-34565" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34567" href="../Substitution/#plfa_plfa-part2-Substitution-34567" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-34568" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34570" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-34575" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-34579" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34580" href="../Substitution/#plfa_plfa-part2-Substitution-31601" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-34593" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34594" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-34596" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34598" href="../Substitution/#plfa_plfa-part2-Substitution-34553" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34599" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34601" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-34603" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34605" href="../Substitution/#plfa_plfa-part2-Substitution-34560" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-34606" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34608" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-34610" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34612" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-34623" href="../Substitution/#plfa_plfa-part2-Substitution-34567" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-34624" class="Symbol">})</a>
</pre><h2 id="注记">注记</h2><p>本文件中的大部分属性和证明均基于 Schafer、Tebbi 和 Smolka 的论文 <em>Autosubst: Reasoning with de BruijnTerms and Parallel Substitution</em> (ITP 2015)。 该论文又基于 Abadi、Cardelli、Curien 和 Levy (1991) 定义 σ-代数的论文。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⟪  U+27EA  MATHEMATICAL LEFT DOUBLE ANGLE BRACKET (\&lt;&lt;)
⟫  U+27EA  MATHEMATICAL RIGHT DOUBLE ANGLE BRACKET (\&gt;&gt;)
↑  U+2191  UPWARDS ARROW (\u)
•  U+2022  BULLET (\bub)
⨟  U+2A1F  Z NOTATION SCHEMA COMPOSITION (C-x 8 RET Z NOTATION SCHEMA COMPOSITION)
〔  U+3014  LEFT TORTOISE SHELL BRACKET (\( option 9 on page 2)
〕  U+3015  RIGHT TORTOISE SHELL BRACKET (\) option 9 on page 2)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：OlingCat<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>