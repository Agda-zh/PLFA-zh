<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Substitution</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Substitution: 无类型 λ-演算中的代换</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Substitution-114" class="Keyword">module</a> <a id="plfa_plfa-part2-Substitution-121" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Substitution-145" class="Keyword">where</a>
</pre><h2 id="引言">引言</h2><p>本章的主要目的是证明代换与自身可交换。Barendregt (1984) 将此称为代换引理：</p><pre><code>M [x:=N] [y:=L] = M [y:=L] [x:= N[y:=L] ]</code></pre><p>在我们的环境中由于，使用了 de Bruijn 索引的变量，因此该引理的陈述变更为：</p><pre><code>M [ N ] [ L ] ≡  M〔 L 〕[ N [ L ] ]                     (substitution)</code></pre><p>其中符号 <code>M 〔 L 〕</code> 表示用 L 代换 M 中的索引 1。此外，由于我们用平行代换来定义代换， 因此我们有以下推广，用任意平行代换 σ 替换掉了 L 的代换。</p><pre><code>subst σ (M [ N ]) ≡ (subst (exts σ) M) [ subst σ N ]    (subst-commute)</code></pre><p>代换的特例「重命名」也很有用：</p><pre><code>rename ρ (M [ N ]) ≡ (rename (ext ρ) M) [ rename ρ N ]
                                                 (rename-subst-commute)</code></pre><p>本章的第二个目的是定义 Abadi、Cardelli、Curien 和 Levy (1991) 提出的平行代换的 σ-代数。这个代数方程不仅可以帮助我们证明代换引理， 而且还很有用。此外，当从左到右应用方程时，它们形成了一个重写系统， 以<strong>确定</strong>任意两个代换是否相等。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1887" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1894" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Substitution-1932" class="Symbol">as</a> <a id="plfa_plfa-part2-Substitution-1935" class="Module">Eq</a>
<a id="plfa_plfa-part2-Substitution-1938" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1943" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Substitution-1946" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1952" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1953" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Substitution-1956" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1958" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-1962" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1964" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Substitution-1967" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1969" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Substitution-1973" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1975" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Substitution-1980" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1982" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part2-Substitution-1990" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1992" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1997" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.≡-Reasoning</a> <a id="plfa_plfa-part2-Substitution-2012" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2018" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2019" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Substitution-2025" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2027" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">_≡⟨⟩_</a><a id="plfa_plfa-part2-Substitution-2032" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2034" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">step-≡</a><a id="plfa_plfa-part2-Substitution-2040" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2042" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">_∎</a><a id="plfa_plfa-part2-Substitution-2044" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-2046" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-2051" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-2058" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Substitution-2067" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2073" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2074" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Substitution-2077" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-2079" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-2084" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-2091" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
     <a id="plfa_plfa-part2-Substitution-2115" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-2121" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2122" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-2126" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2128" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-2135" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2137" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Substitution-2140" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2142" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-2143" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2145" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Substitution-2148" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2150" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-2151" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2153" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Substitution-2156" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2158" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-2159" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2161" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-2163" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2165" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Substitution-2167" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2169" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Substitution-2171" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2173" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Substitution-2176" class="Symbol">;</a>
            <a id="plfa_plfa-part2-Substitution-2190" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a><a id="plfa_plfa-part2-Substitution-2196" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2198" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a><a id="plfa_plfa-part2-Substitution-2203" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2205" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a><a id="plfa_plfa-part2-Substitution-2208" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2210" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a><a id="plfa_plfa-part2-Substitution-2214" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2216" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Substitution-2220" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-2222" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a><a id="plfa_plfa-part2-Substitution-2232" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-2247" class="Keyword">postulate</a>
  <a id="plfa_plfa-part2-Substitution-extensionality"></a><a id="plfa_plfa-part2-Substitution-2259" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-2274" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2276" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-2278" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-2279" href="../Substitution/#plfa_plfa-part2-Substitution-2279" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2281" href="../Substitution/#plfa_plfa-part2-Substitution-2281" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-2283" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2285" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part2-Substitution-2288" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2290" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-2291" href="../Substitution/#plfa_plfa-part2-Substitution-2291" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2293" href="../Substitution/#plfa_plfa-part2-Substitution-2293" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-2295" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2297" href="../Substitution/#plfa_plfa-part2-Substitution-2279" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2299" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2301" href="../Substitution/#plfa_plfa-part2-Substitution-2281" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-2302" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-2308" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2310" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Substitution-2313" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-2314" href="../Substitution/#plfa_plfa-part2-Substitution-2314" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-2316" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2318" href="../Substitution/#plfa_plfa-part2-Substitution-2279" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2319" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-2321" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2323" href="../Substitution/#plfa_plfa-part2-Substitution-2291" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2325" href="../Substitution/#plfa_plfa-part2-Substitution-2314" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-2327" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-2329" href="../Substitution/#plfa_plfa-part2-Substitution-2293" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-2331" href="../Substitution/#plfa_plfa-part2-Substitution-2314" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-2332" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-2340" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Substitution-2368" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2370" href="../Substitution/#plfa_plfa-part2-Substitution-2291" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-2372" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-2374" href="../Substitution/#plfa_plfa-part2-Substitution-2293" class="Bound">g</a>
</pre><h2 id="记法">记法</h2><p>我们引入了以下简写表示「将语境 <code>Γ</code> 中的变量<strong>重命名</strong>为语境 <code>Δ</code> 中的变量」的类型。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Rename"></a><a id="plfa_plfa-part2-Substitution-2603" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2610" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2612" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2620" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2622" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2630" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2632" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2636" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2643" href="../Substitution/#plfa_plfa-part2-Substitution-2643" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2645" href="../Substitution/#plfa_plfa-part2-Substitution-2645" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2647" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2649" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2651" href="../Substitution/#plfa_plfa-part2-Substitution-2651" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2652" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2654" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2656" href="../Substitution/#plfa_plfa-part2-Substitution-2643" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2658" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2660" href="../Substitution/#plfa_plfa-part2-Substitution-2651" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2662" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2664" href="../Substitution/#plfa_plfa-part2-Substitution-2645" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2666" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2668" href="../Substitution/#plfa_plfa-part2-Substitution-2651" class="Bound">A</a>
</pre><p>与此类似，我们引入了以下简写表示「将语境 <code>Γ</code> 中的变量<strong>代换</strong>为语境 <code>Δ</code> 中的项」的类型。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Subst"></a><a id="plfa_plfa-part2-Substitution-2882" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2888" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2890" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2898" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2900" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2908" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2910" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2914" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2920" href="../Substitution/#plfa_plfa-part2-Substitution-2920" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2922" href="../Substitution/#plfa_plfa-part2-Substitution-2922" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2924" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2926" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2928" href="../Substitution/#plfa_plfa-part2-Substitution-2928" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2929" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2931" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2933" href="../Substitution/#plfa_plfa-part2-Substitution-2920" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2935" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2937" href="../Substitution/#plfa_plfa-part2-Substitution-2928" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2939" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2941" href="../Substitution/#plfa_plfa-part2-Substitution-2922" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2943" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2945" href="../Substitution/#plfa_plfa-part2-Substitution-2928" class="Bound">A</a>
</pre><p>我们用以下更简洁的记法表示 <code>subst</code> 代换函数。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-⟪_⟫"></a><a id="plfa_plfa-part2-Substitution-3069" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪_⟫</a> <a id="plfa_plfa-part2-Substitution-3073" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3075" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3077" href="../Substitution/#plfa_plfa-part2-Substitution-3077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3079" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3081" href="../Substitution/#plfa_plfa-part2-Substitution-3081" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3082" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3084" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3086" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3092" href="../Substitution/#plfa_plfa-part2-Substitution-3077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3094" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3096" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3098" href="../Substitution/#plfa_plfa-part2-Substitution-3077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3100" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3102" href="../Substitution/#plfa_plfa-part2-Substitution-3081" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-3104" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3106" href="../Substitution/#plfa_plfa-part2-Substitution-3079" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3108" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3110" href="../Substitution/#plfa_plfa-part2-Substitution-3081" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-3112" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-3114" href="../Substitution/#plfa_plfa-part2-Substitution-3114" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3116" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-3118" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3120" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-3122" href="../Substitution/#plfa_plfa-part2-Substitution-3122" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3124" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3126" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-3132" href="../Substitution/#plfa_plfa-part2-Substitution-3114" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3134" href="../Substitution/#plfa_plfa-part2-Substitution-3122" class="Bound">M</a>
</pre><h2 id="代换的-σ-代数">代换的 σ-代数</h2><p>代换将 de Bruijn 索引（自然数）映射为项，于是我们可以简单地将代换视作一系列项， 或者更精确地，将它视作项的有限序列。σ-代数由四个运算组成，用来构建这样的序列： 恒等 <code>ids</code>、抬升 <code>↑</code>，构造 <code>M • σ</code>，以及序列 <code>σ ⨟ τ</code>。 序列 <code>0, 1, 2, ...</code> 由恒等代换构造：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ids"></a><a id="plfa_plfa-part2-Substitution-3762" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3766" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3768" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3770" href="../Substitution/#plfa_plfa-part2-Substitution-3770" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-3771" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3773" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3775" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3781" href="../Substitution/#plfa_plfa-part2-Substitution-3770" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3783" href="../Substitution/#plfa_plfa-part2-Substitution-3770" class="Bound">Γ</a>
<a id="plfa_plfa-part2-Substitution-3785" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3789" href="../Substitution/#plfa_plfa-part2-Substitution-3789" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3791" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3793" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3795" href="../Substitution/#plfa_plfa-part2-Substitution-3789" class="Bound">x</a>
</pre><p>抬升运算 <code>↑</code> 用于构造序列</p><pre><code>1, 2, 3, ...</code></pre><p>其定义如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-↑"></a><a id="plfa_plfa-part2-Substitution-3948" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3950" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3952" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3954" href="../Substitution/#plfa_plfa-part2-Substitution-3954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3956" href="../Substitution/#plfa_plfa-part2-Substitution-3956" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3957" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3959" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3961" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3967" href="../Substitution/#plfa_plfa-part2-Substitution-3954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3969" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3970" href="../Substitution/#plfa_plfa-part2-Substitution-3954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3972" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3974" href="../Substitution/#plfa_plfa-part2-Substitution-3956" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3975" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-3977" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3979" href="../Substitution/#plfa_plfa-part2-Substitution-3979" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3981" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3983" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3985" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3986" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3988" href="../Substitution/#plfa_plfa-part2-Substitution-3979" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3989" class="Symbol">)</a>
</pre><p>给定项 <code>M</code> 和代换 <code>σ</code>，运算 <code>M • σ</code> 会构造序列</p><pre><code>M , σ 0, σ 1, σ 2, ...</code></pre><p>以下运算类似 Lisp 中的 <code>cons</code> 构造运算。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-4261" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-4268" class="Number">6</a> <a id="plfa_plfa-part2-Substitution-4270" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">_•_</a>

<a id="plfa_plfa-part2-Substitution-_•_"></a><a id="plfa_plfa-part2-Substitution-4275" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">_•_</a> <a id="plfa_plfa-part2-Substitution-4279" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-4281" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-4283" href="../Substitution/#plfa_plfa-part2-Substitution-4283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4285" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4287" href="../Substitution/#plfa_plfa-part2-Substitution-4287" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4288" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-4290" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4292" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4293" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4295" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-4297" href="../Substitution/#plfa_plfa-part2-Substitution-4287" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4298" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4300" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4302" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4308" href="../Substitution/#plfa_plfa-part2-Substitution-4283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4310" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4312" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4314" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4320" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4321" href="../Substitution/#plfa_plfa-part2-Substitution-4283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4323" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-4325" href="../Substitution/#plfa_plfa-part2-Substitution-4287" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-4326" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4328" href="../Substitution/#plfa_plfa-part2-Substitution-4285" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-4330" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4331" href="../Substitution/#plfa_plfa-part2-Substitution-4331" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-4333" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-4335" href="../Substitution/#plfa_plfa-part2-Substitution-4335" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-4336" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4338" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-4340" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4342" href="../Substitution/#plfa_plfa-part2-Substitution-4331" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-4344" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4345" href="../Substitution/#plfa_plfa-part2-Substitution-4345" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-4347" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-4349" href="../Substitution/#plfa_plfa-part2-Substitution-4349" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-4350" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4352" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-4353" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-4355" href="../Substitution/#plfa_plfa-part2-Substitution-4355" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-4356" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-4358" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4360" href="../Substitution/#plfa_plfa-part2-Substitution-4349" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-4362" href="../Substitution/#plfa_plfa-part2-Substitution-4355" class="Bound">x</a>
</pre><p>给定两个代换 <code>σ</code> 和 <code>τ</code>，序列运算 <code>σ ⨟ τ</code> 会通过先应用代换 <code>σ</code>， 然后应用代换 <code>τ</code> 来将两个代换组合到一起，因此它会产生序列</p><pre><code>⟪τ⟫(σ 0), ⟪τ⟫(σ 1), ⟪τ⟫(σ 2), ...</code></pre><p>下面是它的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-4721" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-4728" class="Number">5</a> <a id="plfa_plfa-part2-Substitution-4730" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">_⨟_</a>

<a id="plfa_plfa-part2-Substitution-_⨟_"></a><a id="plfa_plfa-part2-Substitution-4735" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">_⨟_</a> <a id="plfa_plfa-part2-Substitution-4739" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-4741" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-4743" href="../Substitution/#plfa_plfa-part2-Substitution-4743" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4745" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4747" href="../Substitution/#plfa_plfa-part2-Substitution-4747" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-4748" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-4750" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4752" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4758" href="../Substitution/#plfa_plfa-part2-Substitution-4743" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4760" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4762" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4764" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4770" href="../Substitution/#plfa_plfa-part2-Substitution-4745" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-4772" href="../Substitution/#plfa_plfa-part2-Substitution-4747" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-4774" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-4776" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-4782" href="../Substitution/#plfa_plfa-part2-Substitution-4743" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-4784" href="../Substitution/#plfa_plfa-part2-Substitution-4747" class="Bound">Σ</a>
<a id="plfa_plfa-part2-Substitution-4786" href="../Substitution/#plfa_plfa-part2-Substitution-4786" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-4788" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-4790" href="../Substitution/#plfa_plfa-part2-Substitution-4790" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-4792" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-4794" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-4796" href="../Substitution/#plfa_plfa-part2-Substitution-4790" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-4798" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-4800" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-4802" href="../Substitution/#plfa_plfa-part2-Substitution-4786" class="Bound">σ</a>
</pre><p>对于序列操作，Abadi 等人使用了函数复合的记法，将它记作 <code>σ ∘ τ</code>， 但 <code>σ</code> 仍然在 <code>τ</code> 之前被应用，这与标准的数学习惯相反。我们记作 <code>σ ⨟ τ</code>，因为分号是函数向右组合的标准记法。</p><h2 id="σ-代数方程">σ-代数方程</h2><p>σ-代数包含以下方程：</p><pre><code>(sub-head)  ⟪ M • σ ⟫ (` Z) ≡ M
(sub-tail)  ↑ ⨟ (M • σ)    ≡ σ
(sub-η)     (⟪ σ ⟫ (` Z)) • (↑ ⨟ σ) ≡ σ
(Z-shift)   (` Z) • ↑      ≡ ids

(sub-id)    ⟪ ids ⟫ M      ≡ M
(sub-app)   ⟪ σ ⟫ (L · M)  ≡ (⟪ σ ⟫ L) · (⟪ σ ⟫ M)
(sub-abs)   ⟪ σ ⟫ (ƛ N)    ≡ ƛ ⟪ σ ⟫ N
(sub-sub)   ⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M

(sub-idL)   ids ⨟ σ        ≡ σ
(sub-idR)   σ ⨟ ids        ≡ σ
(sub-assoc) (σ ⨟ τ) ⨟ θ    ≡ σ ⨟ (τ ⨟ θ)
(sub-dist)  (M • σ) ⨟ τ    ≡ (⟪ τ ⟫ M) • (σ ⨟ τ)</code></pre><p>第一组方程描述了 <code>•</code> 算子的行为类似于 <code>cons</code>。方程 <code>sub-head</code> 表示变量零 <code>Z</code> 返回序列的头部（它的行为类似于 Lisp 中的 <code>car</code>）。与此类似， <code>sub-tail</code> 表示对序列应用抬升运算 <code>↑</code> 后返回该序列的尾部（它的行为类似于 Lisp 中的 <code>cdr</code>）。<code>sub-η</code> 方程是序列的 η-展开规则，表示接受一个序列的头部和尾部， 将它们 cons 在一起产生原来的序列。<code>Z-shift</code> 方程表示将零 cons 到抬升的序列会得到恒等的序列。</p><p>接下来的四个方程涉及对项的代换。方程 <code>sub-id</code> 表示恒等代换返回的项保持不变。 方程 <code>sub-app</code> 和 <code>sub-abs</code> 表示代换对 λ-演算满足合同性。<code>sub-sub</code> 方程表示序列算子 <code>⨟</code> 的行为符合预期。</p><p>最后四个方程涉及代换的序列。前两个方程 <code>sub-idL</code> 和 <code>sub-idR</code> 表示 <code>ids</code> 是序列算子的左右单位元。<code>sub-assoc</code> 方程表示序列满足结合律。 最后，<code>sub-dist</code> 表示后面的序列对 cons 满足分配率。</p><h2 id="关联-σ-代数和代换函数">关联 σ-代数和代换函数</h2><p>代换的定义 <code>N [ M ]</code> 和平行代换 <code>subst σ N</code> 依赖于几个辅助函数：<code>rename</code>、 <code>exts</code>、<code>ext</code> 和 <code>subst-zero</code>。我们应当在 σ-代数中将这些函数与项关联起来。</p><p>首先，重命名可以用代换表示。我们有：</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M               (rename-subst-ren)</code></pre><p>其中 <code>ren</code> 通过将 <code>ρ</code> 复合到恒等代换后面来将重命名 <code>ρ</code> 转换为一个代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren"></a><a id="plfa_plfa-part2-Substitution-8373" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-8377" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8379" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8381" href="../Substitution/#plfa_plfa-part2-Substitution-8381" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8383" href="../Substitution/#plfa_plfa-part2-Substitution-8383" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8384" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8386" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8388" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-8395" href="../Substitution/#plfa_plfa-part2-Substitution-8381" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8397" href="../Substitution/#plfa_plfa-part2-Substitution-8383" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8399" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8401" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8407" href="../Substitution/#plfa_plfa-part2-Substitution-8381" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8409" href="../Substitution/#plfa_plfa-part2-Substitution-8383" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-8411" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-8415" href="../Substitution/#plfa_plfa-part2-Substitution-8415" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-8417" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8419" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8423" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-8425" href="../Substitution/#plfa_plfa-part2-Substitution-8415" class="Bound">ρ</a>
</pre><p>当重命名为递增函数时，它等价于抬升。</p><pre><code>ren S_ ≡ ↑                             (ren-shift)

rename S_ M ≡ ⟪ ↑ ⟫ M                  (rename-shift)</code></pre><p>带恒等重命名的重命名会保持项不变：</p><pre><code>rename (λ {A} x → x) M ≡ M             (rename-id)</code></pre><p>接下来我们将 <code>exts</code> 函数关联到 σ-代数。回忆 <code>exts</code> 函数将代换扩展为以下形式：</p><pre><code>exts σ = ` Z, rename S_ (σ 0), rename S_ (σ 1), rename S_ (σ 2), ...</code></pre><p>因此 <code>exts</code> 等价于将 Z cons 到应用 <code>σ</code> 所产生的序列上，之后再抬升它：</p><pre><code>exts σ ≡ ` Z • (σ ⨟ ↑)                (exts-cons-shift)</code></pre><p><code>ext</code> 函数做的事情和 <code>exts</code> 一样，只不过用于重命名而非代换，因此将 <code>ren</code> 复合到 <code>ext</code> 等价于将 <code>exts</code> 复合到 <code>ren</code>：</p><pre><code>ren (ext ρ) ≡ exts (ren ρ)            (ren-ext)</code></pre><p>于是，我们可以将 <code>exts-cons-shift</code> 方程重新转换为重命名：</p><pre><code>ren (ext ρ) ≡ ` Z • (ren ρ ⨟ ↑)       (ext-cons-Z-shift)</code></pre><p>将 σ-代数的 <code>sub-sub</code> 方程特化为第一个代换是重命名的情况也很有用：</p><pre><code>⟪ σ ⟫ (rename ρ M) ≡ ⟪ σ ∘ ρ ⟫ M       (rename-subst)</code></pre><p><code>subst-zero M</code> 代换等价于将 <code>M</code> cons 到恒等代换：</p><pre><code>subst-zero M ≡ M • ids                (subst-Z-cons-ids)</code></pre><p>最后，将 <code>subst-zero M</code> 列在 <code>exts σ</code> 之后等价于将 <code>M</code> cons 到 <code>σ</code>。</p><pre><code>exts σ ⨟ subst-zero M ≡ (M • σ)       (subst-zero-exts-cons)</code></pre><h2 id="sub-headsub-tailsub-ηz-shiftsub-idlsub-dist-和-sub-app-的证明">sub-head、sub-tail、sub-η、Z-shift、sub-idL、sub-dist 和 sub-app 的证明</h2><p>我们直接从这些算子的定义就能得它们的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-head"></a><a id="plfa_plfa-part2-Substitution-10721" href="../Substitution/#plfa_plfa-part2-Substitution-10721" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-10730" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10732" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-10734" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10735" href="../Substitution/#plfa_plfa-part2-Substitution-10735" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10737" href="../Substitution/#plfa_plfa-part2-Substitution-10737" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10738" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10740" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10741" href="../Substitution/#plfa_plfa-part2-Substitution-10741" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10742" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10744" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10745" href="../Substitution/#plfa_plfa-part2-Substitution-10745" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10747" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10749" href="../Substitution/#plfa_plfa-part2-Substitution-10737" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-10751" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10753" href="../Substitution/#plfa_plfa-part2-Substitution-10741" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10754" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10756" href="../Substitution/#plfa_plfa-part2-Substitution-10756" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10758" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10760" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10766" href="../Substitution/#plfa_plfa-part2-Substitution-10735" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10768" href="../Substitution/#plfa_plfa-part2-Substitution-10737" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10769" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-10780" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10782" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-10784" href="../Substitution/#plfa_plfa-part2-Substitution-10745" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10786" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-10788" href="../Substitution/#plfa_plfa-part2-Substitution-10756" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10790" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-10792" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10793" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-10795" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-10796" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10798" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10800" href="../Substitution/#plfa_plfa-part2-Substitution-10745" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-10802" href="../Substitution/#plfa_plfa-part2-Substitution-10721" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-10811" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10813" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-tail"></a><a id="plfa_plfa-part2-Substitution-10831" href="../Substitution/#plfa_plfa-part2-Substitution-10831" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-10840" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10842" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10844" href="../Substitution/#plfa_plfa-part2-Substitution-10844" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10846" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10847" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10849" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10850" href="../Substitution/#plfa_plfa-part2-Substitution-10850" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-10852" href="../Substitution/#plfa_plfa-part2-Substitution-10852" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10853" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10855" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10856" href="../Substitution/#plfa_plfa-part2-Substitution-10856" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10858" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10860" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-10862" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10864" href="../Substitution/#plfa_plfa-part2-Substitution-10850" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10865" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10867" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10868" href="../Substitution/#plfa_plfa-part2-Substitution-10868" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10870" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10872" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10878" href="../Substitution/#plfa_plfa-part2-Substitution-10844" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10880" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10881" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-10892" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10894" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10895" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-10897" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-10899" href="../Substitution/#plfa_plfa-part2-Substitution-10856" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10901" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-10903" href="../Substitution/#plfa_plfa-part2-Substitution-10868" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-10904" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10906" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10907" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-10909" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10911" href="../Substitution/#plfa_plfa-part2-Substitution-10852" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10912" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10914" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10916" href="../Substitution/#plfa_plfa-part2-Substitution-10868" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-10918" href="../Substitution/#plfa_plfa-part2-Substitution-10831" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-10927" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10929" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10944" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10946" href="../Substitution/#plfa_plfa-part2-Substitution-10946" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10948" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10950" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-η"></a><a id="plfa_plfa-part2-Substitution-10968" href="../Substitution/#plfa_plfa-part2-Substitution-10968" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-10974" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10976" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10978" href="../Substitution/#plfa_plfa-part2-Substitution-10978" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10980" href="../Substitution/#plfa_plfa-part2-Substitution-10980" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10981" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10983" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10984" href="../Substitution/#plfa_plfa-part2-Substitution-10984" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-10986" href="../Substitution/#plfa_plfa-part2-Substitution-10986" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10987" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10989" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10990" href="../Substitution/#plfa_plfa-part2-Substitution-10990" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10992" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10994" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11000" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11001" href="../Substitution/#plfa_plfa-part2-Substitution-10978" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11003" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11005" href="../Substitution/#plfa_plfa-part2-Substitution-10984" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11006" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11008" href="../Substitution/#plfa_plfa-part2-Substitution-10980" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11009" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Substitution-11017" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11019" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11020" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-11022" href="../Substitution/#plfa_plfa-part2-Substitution-10990" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11024" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-11026" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11027" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11029" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11030" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11032" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11034" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11035" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-11037" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11039" href="../Substitution/#plfa_plfa-part2-Substitution-10990" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11040" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11043" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11044" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-11046" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11048" href="../Substitution/#plfa_plfa-part2-Substitution-10986" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11049" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11051" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11053" href="../Substitution/#plfa_plfa-part2-Substitution-10990" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-11055" href="../Substitution/#plfa_plfa-part2-Substitution-10968" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-11061" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11062" href="../Substitution/#plfa_plfa-part2-Substitution-11062" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11063" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11065" href="../Substitution/#plfa_plfa-part2-Substitution-11065" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11066" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11068" href="../Substitution/#plfa_plfa-part2-Substitution-11068" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11069" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11071" href="../Substitution/#plfa_plfa-part2-Substitution-11071" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11072" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11074" href="../Substitution/#plfa_plfa-part2-Substitution-11074" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11075" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11077" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11079" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11094" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11096" href="../Substitution/#plfa_plfa-part2-Substitution-11096" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11098" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11100" href="../Substitution/#plfa_plfa-part2-Substitution-11118" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-11109" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-11118" href="../Substitution/#plfa_plfa-part2-Substitution-11118" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11124" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11126" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-11128" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11129" href="../Substitution/#plfa_plfa-part2-Substitution-11129" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11130" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11132" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11134" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11136" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-11138" href="../Substitution/#plfa_plfa-part2-Substitution-11074" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11140" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-11142" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11143" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11145" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11146" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11149" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11151" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11152" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-11154" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11156" href="../Substitution/#plfa_plfa-part2-Substitution-11074" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11157" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11160" href="../Substitution/#plfa_plfa-part2-Substitution-11129" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11162" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11164" href="../Substitution/#plfa_plfa-part2-Substitution-11074" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11166" href="../Substitution/#plfa_plfa-part2-Substitution-11129" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-11171" href="../Substitution/#plfa_plfa-part2-Substitution-11118" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11177" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11178" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11180" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11182" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11183" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11185" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11187" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-11195" href="../Substitution/#plfa_plfa-part2-Substitution-11118" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11201" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11202" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11204" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11206" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11208" href="../Substitution/#plfa_plfa-part2-Substitution-11208" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11209" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11211" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11213" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Z-shift"></a><a id="plfa_plfa-part2-Substitution-11231" href="../Substitution/#plfa_plfa-part2-Substitution-11231" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-11239" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11241" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11243" href="../Substitution/#plfa_plfa-part2-Substitution-11243" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11244" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11246" href="../Substitution/#plfa_plfa-part2-Substitution-11246" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11248" href="../Substitution/#plfa_plfa-part2-Substitution-11248" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11249" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-11259" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11261" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11263" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11265" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11266" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11268" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11270" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-11271" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11273" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11275" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11279" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11280" href="../Substitution/#plfa_plfa-part2-Substitution-11243" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11282" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11284" href="../Substitution/#plfa_plfa-part2-Substitution-11246" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11285" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11287" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11288" href="../Substitution/#plfa_plfa-part2-Substitution-11248" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11289" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11291" href="../Substitution/#plfa_plfa-part2-Substitution-11231" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-11299" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11300" href="../Substitution/#plfa_plfa-part2-Substitution-11300" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11301" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11303" href="../Substitution/#plfa_plfa-part2-Substitution-11303" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11304" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11306" href="../Substitution/#plfa_plfa-part2-Substitution-11306" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11307" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11309" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11311" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11326" href="../Substitution/#plfa_plfa-part2-Substitution-11344" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-11335" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-11344" href="../Substitution/#plfa_plfa-part2-Substitution-11344" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11350" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11352" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11353" href="../Substitution/#plfa_plfa-part2-Substitution-11353" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11355" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11357" href="../Substitution/#plfa_plfa-part2-Substitution-11300" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11359" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11361" href="../Substitution/#plfa_plfa-part2-Substitution-11303" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11363" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-11365" href="../Substitution/#plfa_plfa-part2-Substitution-11306" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11366" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11368" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11370" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11372" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11374" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11375" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11377" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11379" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-11380" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11382" href="../Substitution/#plfa_plfa-part2-Substitution-11353" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11384" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11386" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11390" href="../Substitution/#plfa_plfa-part2-Substitution-11353" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-11395" href="../Substitution/#plfa_plfa-part2-Substitution-11344" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11401" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-11403" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11405" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-11413" href="../Substitution/#plfa_plfa-part2-Substitution-11344" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11419" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11420" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11422" href="../Substitution/#plfa_plfa-part2-Substitution-11422" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-11423" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11425" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11427" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idL"></a><a id="plfa_plfa-part2-Substitution-11445" href="../Substitution/#plfa_plfa-part2-Substitution-11445" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-11453" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11455" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11457" href="../Substitution/#plfa_plfa-part2-Substitution-11457" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11459" href="../Substitution/#plfa_plfa-part2-Substitution-11459" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11460" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11462" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11463" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11465" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11467" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11473" href="../Substitution/#plfa_plfa-part2-Substitution-11457" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11475" href="../Substitution/#plfa_plfa-part2-Substitution-11459" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11476" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11478" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11479" href="../Substitution/#plfa_plfa-part2-Substitution-11479" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11480" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-11489" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11491" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-11495" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11497" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11499" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11501" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11503" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11504" href="../Substitution/#plfa_plfa-part2-Substitution-11479" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11505" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11507" href="../Substitution/#plfa_plfa-part2-Substitution-11445" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-11515" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11517" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11532" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11534" href="../Substitution/#plfa_plfa-part2-Substitution-11534" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11536" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11538" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-dist"></a><a id="plfa_plfa-part2-Substitution-11556" href="../Substitution/#plfa_plfa-part2-Substitution-11556" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-11565" class="Symbol">:</a>  <a id="plfa_plfa-part2-Substitution-11568" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11570" href="../Substitution/#plfa_plfa-part2-Substitution-11570" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11572" href="../Substitution/#plfa_plfa-part2-Substitution-11572" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11574" href="../Substitution/#plfa_plfa-part2-Substitution-11574" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-11576" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11578" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-11585" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11587" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11588" href="../Substitution/#plfa_plfa-part2-Substitution-11588" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11590" href="../Substitution/#plfa_plfa-part2-Substitution-11590" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11591" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11593" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11594" href="../Substitution/#plfa_plfa-part2-Substitution-11594" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11596" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11598" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11604" href="../Substitution/#plfa_plfa-part2-Substitution-11570" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11606" href="../Substitution/#plfa_plfa-part2-Substitution-11572" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11607" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11609" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11610" href="../Substitution/#plfa_plfa-part2-Substitution-11610" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11612" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11614" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11620" href="../Substitution/#plfa_plfa-part2-Substitution-11572" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11622" href="../Substitution/#plfa_plfa-part2-Substitution-11574" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-11623" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-11639" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11640" href="../Substitution/#plfa_plfa-part2-Substitution-11640" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11642" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11644" href="../Substitution/#plfa_plfa-part2-Substitution-11572" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11646" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11648" href="../Substitution/#plfa_plfa-part2-Substitution-11588" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11649" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-11660" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11662" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11664" href="../Substitution/#plfa_plfa-part2-Substitution-11640" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11666" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11668" href="../Substitution/#plfa_plfa-part2-Substitution-11594" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11669" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11671" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11673" href="../Substitution/#plfa_plfa-part2-Substitution-11610" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11674" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11676" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11678" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11680" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11686" href="../Substitution/#plfa_plfa-part2-Substitution-11610" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11688" href="../Substitution/#plfa_plfa-part2-Substitution-11640" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11689" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11691" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11693" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11694" href="../Substitution/#plfa_plfa-part2-Substitution-11594" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11696" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11698" href="../Substitution/#plfa_plfa-part2-Substitution-11610" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11699" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11702" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11703" href="../Substitution/#plfa_plfa-part2-Substitution-11590" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11704" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11706" href="../Substitution/#plfa_plfa-part2-Substitution-11556" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-11715" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11716" href="../Substitution/#plfa_plfa-part2-Substitution-11716" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11717" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11719" href="../Substitution/#plfa_plfa-part2-Substitution-11719" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11720" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11722" href="../Substitution/#plfa_plfa-part2-Substitution-11722" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-11723" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11725" href="../Substitution/#plfa_plfa-part2-Substitution-11725" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11726" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11728" href="../Substitution/#plfa_plfa-part2-Substitution-11728" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11729" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11731" href="../Substitution/#plfa_plfa-part2-Substitution-11731" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11732" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11734" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11735" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11737" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11738" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11740" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11742" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11757" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11759" href="../Substitution/#plfa_plfa-part2-Substitution-11759" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11761" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11763" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11769" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11770" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11772" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11774" href="../Substitution/#plfa_plfa-part2-Substitution-11759" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11775" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11779" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-11787" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11793" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11795" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-11797" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11798" href="../Substitution/#plfa_plfa-part2-Substitution-11798" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11800" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11802" href="../Substitution/#plfa_plfa-part2-Substitution-11716" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11804" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11806" href="../Substitution/#plfa_plfa-part2-Substitution-11725" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11808" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-11810" href="../Substitution/#plfa_plfa-part2-Substitution-11728" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11811" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11813" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11815" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11817" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11819" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11821" href="../Substitution/#plfa_plfa-part2-Substitution-11731" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11822" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11824" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11826" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11827" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11829" href="../Substitution/#plfa_plfa-part2-Substitution-11798" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11831" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11833" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-11835" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11841" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11843" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11844" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11846" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11848" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11849" href="../Substitution/#plfa_plfa-part2-Substitution-11731" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11851" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-11853" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11854" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-11857" href="../Substitution/#plfa_plfa-part2-Substitution-11798" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-11861" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11867" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11868" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11870" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11872" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-11873" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11875" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11877" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-11884" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11890" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11891" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-11893" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11895" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-11897" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11898" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11900" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11902" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-app"></a><a id="plfa_plfa-part2-Substitution-11920" href="../Substitution/#plfa_plfa-part2-Substitution-11920" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-11928" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11930" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11932" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11934" href="../Substitution/#plfa_plfa-part2-Substitution-11934" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11935" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11937" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11938" href="../Substitution/#plfa_plfa-part2-Substitution-11938" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11940" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11942" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11948" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11950" href="../Substitution/#plfa_plfa-part2-Substitution-11934" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11951" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11953" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11954" href="../Substitution/#plfa_plfa-part2-Substitution-11954" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-11956" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11958" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11960" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11962" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-11963" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11965" href="../Substitution/#plfa_plfa-part2-Substitution-11965" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11967" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11969" href="../Substitution/#plfa_plfa-part2-Substitution-11932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11971" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11973" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-11974" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-11984" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11986" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-11988" href="../Substitution/#plfa_plfa-part2-Substitution-11938" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11990" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-11992" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11993" href="../Substitution/#plfa_plfa-part2-Substitution-11954" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-11995" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-11997" href="../Substitution/#plfa_plfa-part2-Substitution-11965" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11998" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-12001" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12003" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12004" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-12006" href="../Substitution/#plfa_plfa-part2-Substitution-11938" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12008" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-12010" href="../Substitution/#plfa_plfa-part2-Substitution-11954" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-12011" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12013" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-12015" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12016" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-12018" href="../Substitution/#plfa_plfa-part2-Substitution-11938" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12020" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-12022" href="../Substitution/#plfa_plfa-part2-Substitution-11965" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-12023" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-12025" href="../Substitution/#plfa_plfa-part2-Substitution-11920" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-12033" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12035" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="插曲合同性">插曲：合同性</h2><p>在本节中，我们将为 σ-代数的算子 <code>•</code> 和 <code>⨟</code>、<code>subst</code> 及其辅助函数 <code>ext</code>、 <code>rename</code>、<code>exts</code> 以及 <code>subst-zero</code> 建立合同律。这些合同律有助于后续章节的等式推理。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-ext"></a><a id="plfa_plfa-part2-Substitution-12486" href="../Substitution/#plfa_plfa-part2-Substitution-12486" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-12495" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12497" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12499" href="../Substitution/#plfa_plfa-part2-Substitution-12499" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12501" href="../Substitution/#plfa_plfa-part2-Substitution-12501" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12502" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12504" href="../Substitution/#plfa_plfa-part2-Substitution-12504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12506" href="../Substitution/#plfa_plfa-part2-Substitution-12506" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12509" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12511" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-12518" href="../Substitution/#plfa_plfa-part2-Substitution-12499" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12520" href="../Substitution/#plfa_plfa-part2-Substitution-12501" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12521" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12523" href="../Substitution/#plfa_plfa-part2-Substitution-12523" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12524" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-12529" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12531" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12534" href="../Substitution/#plfa_plfa-part2-Substitution-12534" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12535" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12537" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12539" href="../Substitution/#plfa_plfa-part2-Substitution-12504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12541" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12543" href="../Substitution/#plfa_plfa-part2-Substitution-12506" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12546" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12547" href="../Substitution/#plfa_plfa-part2-Substitution-12534" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12548" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-12556" class="Comment">---------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-12593" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12595" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12597" href="../Substitution/#plfa_plfa-part2-Substitution-12597" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12598" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12600" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12602" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12606" href="../Substitution/#plfa_plfa-part2-Substitution-12504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12608" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12609" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-12611" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12613" href="../Substitution/#plfa_plfa-part2-Substitution-12523" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12614" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12616" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12618" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12622" href="../Substitution/#plfa_plfa-part2-Substitution-12506" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12625" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12626" href="../Substitution/#plfa_plfa-part2-Substitution-12597" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12627" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-12629" href="../Substitution/#plfa_plfa-part2-Substitution-12486" class="Function">cong-ext</a><a id="plfa_plfa-part2-Substitution-12637" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12638" href="../Substitution/#plfa_plfa-part2-Substitution-12638" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-12639" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12641" href="../Substitution/#plfa_plfa-part2-Substitution-12641" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12642" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12644" href="../Substitution/#plfa_plfa-part2-Substitution-12644" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-12645" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12647" href="../Substitution/#plfa_plfa-part2-Substitution-12647" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-12649" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12651" href="../Substitution/#plfa_plfa-part2-Substitution-12651" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12652" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12654" href="../Substitution/#plfa_plfa-part2-Substitution-12654" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-12657" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12658" href="../Substitution/#plfa_plfa-part2-Substitution-12658" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12659" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12661" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12663" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-12678" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-12680" href="../Substitution/#plfa_plfa-part2-Substitution-12680" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12682" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12684" href="../Substitution/#plfa_plfa-part2-Substitution-12704" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12690" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12691" href="../Substitution/#plfa_plfa-part2-Substitution-12680" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12692" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-12696" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-12704" href="../Substitution/#plfa_plfa-part2-Substitution-12704" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12710" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12712" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12714" href="../Substitution/#plfa_plfa-part2-Substitution-12714" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12716" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12718" href="../Substitution/#plfa_plfa-part2-Substitution-12638" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12720" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-12722" href="../Substitution/#plfa_plfa-part2-Substitution-12651" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-12724" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-12726" href="../Substitution/#plfa_plfa-part2-Substitution-12658" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12727" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12729" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12731" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12735" href="../Substitution/#plfa_plfa-part2-Substitution-12644" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12737" href="../Substitution/#plfa_plfa-part2-Substitution-12714" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12739" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12741" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-12745" href="../Substitution/#plfa_plfa-part2-Substitution-12647" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12748" href="../Substitution/#plfa_plfa-part2-Substitution-12714" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12752" href="../Substitution/#plfa_plfa-part2-Substitution-12704" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12758" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12759" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-12760" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12762" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12764" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-12771" href="../Substitution/#plfa_plfa-part2-Substitution-12704" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12777" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12778" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-12780" href="../Substitution/#plfa_plfa-part2-Substitution-12780" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-12781" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12783" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12785" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-12790" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-12793" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12794" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12803" href="../Substitution/#plfa_plfa-part2-Substitution-12654" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-12806" href="../Substitution/#plfa_plfa-part2-Substitution-12780" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-12807" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-rename"></a><a id="plfa_plfa-part2-Substitution-12822" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-12834" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12836" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12838" href="../Substitution/#plfa_plfa-part2-Substitution-12838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12840" href="../Substitution/#plfa_plfa-part2-Substitution-12840" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12841" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12843" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12845" href="../Substitution/#plfa_plfa-part2-Substitution-12845" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12848" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12850" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-12857" href="../Substitution/#plfa_plfa-part2-Substitution-12838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12859" href="../Substitution/#plfa_plfa-part2-Substitution-12840" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12860" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12862" href="../Substitution/#plfa_plfa-part2-Substitution-12862" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12863" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12865" href="../Substitution/#plfa_plfa-part2-Substitution-12865" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12867" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12869" href="../Substitution/#plfa_plfa-part2-Substitution-12838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12871" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-12873" href="../Substitution/#plfa_plfa-part2-Substitution-12862" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-12874" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-12884" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12886" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12889" href="../Substitution/#plfa_plfa-part2-Substitution-12889" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12890" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12892" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12894" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12896" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12898" href="../Substitution/#plfa_plfa-part2-Substitution-12845" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12901" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12902" href="../Substitution/#plfa_plfa-part2-Substitution-12889" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12903" class="Symbol">})</a>
          <a id="plfa_plfa-part2-Substitution-12916" class="Comment">------------------------</a>
        <a id="plfa_plfa-part2-Substitution-12949" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12951" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-12958" href="../Substitution/#plfa_plfa-part2-Substitution-12843" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-12960" href="../Substitution/#plfa_plfa-part2-Substitution-12865" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12962" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12964" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-12971" href="../Substitution/#plfa_plfa-part2-Substitution-12845" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-12974" href="../Substitution/#plfa_plfa-part2-Substitution-12865" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-12976" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-12988" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12989" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-12991" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12993" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-12995" href="../Substitution/#plfa_plfa-part2-Substitution-12995" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12996" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12998" href="../Substitution/#plfa_plfa-part2-Substitution-12998" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13001" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13003" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13008" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Substitution-13011" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13012" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13021" href="../Substitution/#plfa_plfa-part2-Substitution-12998" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13024" href="../Substitution/#plfa_plfa-part2-Substitution-12995" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13025" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-13027" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13039" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13040" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13042" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13044" href="../Substitution/#plfa_plfa-part2-Substitution-13044" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13045" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13047" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13048" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-13051" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13053" href="../Substitution/#plfa_plfa-part2-Substitution-13053" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-13055" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13057" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13058" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13060" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13062" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13064" href="../Substitution/#plfa_plfa-part2-Substitution-13064" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13065" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13067" href="../Substitution/#plfa_plfa-part2-Substitution-13067" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13070" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13075" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13080" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13083" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13084" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13096" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13097" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13099" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13101" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13105" href="../Substitution/#plfa_plfa-part2-Substitution-13044" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13106" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13108" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-13111" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13113" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13117" href="../Substitution/#plfa_plfa-part2-Substitution-13053" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-13119" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13121" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13123" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13125" href="../Substitution/#plfa_plfa-part2-Substitution-13064" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13126" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13128" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13129" href="../Substitution/#plfa_plfa-part2-Substitution-12486" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-13138" href="../Substitution/#plfa_plfa-part2-Substitution-13067" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13140" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-13143" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13155" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13156" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13158" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13160" href="../Substitution/#plfa_plfa-part2-Substitution-13160" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-13162" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-13164" href="../Substitution/#plfa_plfa-part2-Substitution-13164" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13165" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13167" href="../Substitution/#plfa_plfa-part2-Substitution-13167" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-13170" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13175" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-13181" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-13185" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13186" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13198" href="../Substitution/#plfa_plfa-part2-Substitution-13167" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13200" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13203" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-13215" href="../Substitution/#plfa_plfa-part2-Substitution-13167" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-13217" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-exts"></a><a id="plfa_plfa-part2-Substitution-13232" href="../Substitution/#plfa_plfa-part2-Substitution-13232" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-13242" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13244" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13246" href="../Substitution/#plfa_plfa-part2-Substitution-13246" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13248" href="../Substitution/#plfa_plfa-part2-Substitution-13248" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13249" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13251" href="../Substitution/#plfa_plfa-part2-Substitution-13251" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13253" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13256" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13258" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-13264" href="../Substitution/#plfa_plfa-part2-Substitution-13246" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13266" href="../Substitution/#plfa_plfa-part2-Substitution-13248" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13267" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13269" href="../Substitution/#plfa_plfa-part2-Substitution-13269" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13270" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-13275" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13277" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-13280" href="../Substitution/#plfa_plfa-part2-Substitution-13280" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13281" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13283" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13285" href="../Substitution/#plfa_plfa-part2-Substitution-13251" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13287" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13289" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13292" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13293" href="../Substitution/#plfa_plfa-part2-Substitution-13280" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13294" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-13302" class="Comment">-----------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-13341" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13343" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13345" href="../Substitution/#plfa_plfa-part2-Substitution-13345" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13346" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13348" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13350" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13355" href="../Substitution/#plfa_plfa-part2-Substitution-13251" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13357" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13358" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-13360" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13362" href="../Substitution/#plfa_plfa-part2-Substitution-13269" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13363" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13365" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13367" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13372" href="../Substitution/#plfa_plfa-part2-Substitution-13253" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13375" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13376" href="../Substitution/#plfa_plfa-part2-Substitution-13345" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13377" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-13379" href="../Substitution/#plfa_plfa-part2-Substitution-13232" class="Function">cong-exts</a><a id="plfa_plfa-part2-Substitution-13388" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13389" href="../Substitution/#plfa_plfa-part2-Substitution-13389" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13390" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13392" href="../Substitution/#plfa_plfa-part2-Substitution-13392" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13393" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13395" href="../Substitution/#plfa_plfa-part2-Substitution-13395" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13396" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13398" href="../Substitution/#plfa_plfa-part2-Substitution-13398" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13400" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13402" href="../Substitution/#plfa_plfa-part2-Substitution-13402" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13403" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13405" href="../Substitution/#plfa_plfa-part2-Substitution-13405" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13408" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13409" href="../Substitution/#plfa_plfa-part2-Substitution-13409" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13410" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13412" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13414" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-13429" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-13431" href="../Substitution/#plfa_plfa-part2-Substitution-13431" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13433" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13435" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13441" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13442" href="../Substitution/#plfa_plfa-part2-Substitution-13431" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13443" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-13448" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-13457" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13463" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13465" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13467" href="../Substitution/#plfa_plfa-part2-Substitution-13467" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13468" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13470" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13472" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13477" href="../Substitution/#plfa_plfa-part2-Substitution-13395" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13479" href="../Substitution/#plfa_plfa-part2-Substitution-13467" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13483" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13488" href="../Substitution/#plfa_plfa-part2-Substitution-13398" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13491" href="../Substitution/#plfa_plfa-part2-Substitution-13467" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-13496" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13502" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13503" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-13504" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13506" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13508" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-13516" href="../Substitution/#plfa_plfa-part2-Substitution-13457" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13522" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13523" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-13525" href="../Substitution/#plfa_plfa-part2-Substitution-13525" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13526" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13528" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13530" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13535" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13536" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13543" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-13545" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13547" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13548" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13557" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13558" href="../Substitution/#plfa_plfa-part2-Substitution-13405" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13561" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13562" href="../Substitution/#plfa_plfa-part2-Substitution-13409" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13563" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13566" href="../Substitution/#plfa_plfa-part2-Substitution-13525" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13567" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub"></a><a id="plfa_plfa-part2-Substitution-13582" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13591" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13593" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-13595" href="../Substitution/#plfa_plfa-part2-Substitution-13595" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13597" href="../Substitution/#plfa_plfa-part2-Substitution-13597" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13598" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13600" href="../Substitution/#plfa_plfa-part2-Substitution-13600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13602" href="../Substitution/#plfa_plfa-part2-Substitution-13602" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13605" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13607" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-13613" href="../Substitution/#plfa_plfa-part2-Substitution-13595" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13615" href="../Substitution/#plfa_plfa-part2-Substitution-13597" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13616" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13618" href="../Substitution/#plfa_plfa-part2-Substitution-13618" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13619" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13621" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13623" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-13626" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13628" href="../Substitution/#plfa_plfa-part2-Substitution-13595" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13630" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-13632" href="../Substitution/#plfa_plfa-part2-Substitution-13618" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13633" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-13647" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13649" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-13652" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13653" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13655" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13657" href="../Substitution/#plfa_plfa-part2-Substitution-13600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13659" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13661" href="../Substitution/#plfa_plfa-part2-Substitution-13602" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13664" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13665" href="../Substitution/#plfa_plfa-part2-Substitution-13652" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13666" class="Symbol">})</a>  <a id="plfa_plfa-part2-Substitution-13670" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-13673" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13675" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13677" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">M′</a>
              <a id="plfa_plfa-part2-Substitution-13694" class="Comment">------------------------------</a>
            <a id="plfa_plfa-part2-Substitution-13737" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13739" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-13745" href="../Substitution/#plfa_plfa-part2-Substitution-13600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-13747" href="../Substitution/#plfa_plfa-part2-Substitution-13621" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13749" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13751" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-13757" href="../Substitution/#plfa_plfa-part2-Substitution-13602" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-13760" href="../Substitution/#plfa_plfa-part2-Substitution-13623" class="Bound">M′</a>
<a id="plfa_plfa-part2-Substitution-13763" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13772" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13773" href="../Substitution/#plfa_plfa-part2-Substitution-13773" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13774" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13776" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13777" href="../Substitution/#plfa_plfa-part2-Substitution-13777" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13778" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13780" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13781" href="../Substitution/#plfa_plfa-part2-Substitution-13781" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13782" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13784" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13785" href="../Substitution/#plfa_plfa-part2-Substitution-13785" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13787" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13789" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13790" href="../Substitution/#plfa_plfa-part2-Substitution-13790" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13791" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13793" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13794" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-13796" href="../Substitution/#plfa_plfa-part2-Substitution-13796" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13797" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13799" href="../Substitution/#plfa_plfa-part2-Substitution-13799" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13802" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-13807" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13809" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-13818" href="../Substitution/#plfa_plfa-part2-Substitution-13799" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13821" href="../Substitution/#plfa_plfa-part2-Substitution-13796" class="Bound">x</a>
<a id="plfa_plfa-part2-Substitution-13823" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13832" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13833" href="../Substitution/#plfa_plfa-part2-Substitution-13833" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13834" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13836" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13837" href="../Substitution/#plfa_plfa-part2-Substitution-13837" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13838" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13840" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13841" href="../Substitution/#plfa_plfa-part2-Substitution-13841" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13842" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13844" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13845" href="../Substitution/#plfa_plfa-part2-Substitution-13845" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13847" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13849" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13850" href="../Substitution/#plfa_plfa-part2-Substitution-13850" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13851" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13853" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13854" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13856" href="../Substitution/#plfa_plfa-part2-Substitution-13856" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13857" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13859" href="../Substitution/#plfa_plfa-part2-Substitution-13859" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13862" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-13867" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13872" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13877" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13880" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13881" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13890" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13891" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-13893" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13895" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13900" href="../Substitution/#plfa_plfa-part2-Substitution-13841" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13901" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13903" class="Argument">σ′</a> <a id="plfa_plfa-part2-Substitution-13906" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13908" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13913" href="../Substitution/#plfa_plfa-part2-Substitution-13845" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13915" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13917" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13918" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13920" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13922" href="../Substitution/#plfa_plfa-part2-Substitution-13856" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13923" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13925" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13926" href="../Substitution/#plfa_plfa-part2-Substitution-13232" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-13936" href="../Substitution/#plfa_plfa-part2-Substitution-13859" class="Bound">ss</a><a id="plfa_plfa-part2-Substitution-13938" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13940" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-13944" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-13946" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13955" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13956" href="../Substitution/#plfa_plfa-part2-Substitution-13956" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13957" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13959" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13960" href="../Substitution/#plfa_plfa-part2-Substitution-13960" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13961" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13963" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13964" href="../Substitution/#plfa_plfa-part2-Substitution-13964" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-13965" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13967" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13968" href="../Substitution/#plfa_plfa-part2-Substitution-13968" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-13970" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13972" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13973" href="../Substitution/#plfa_plfa-part2-Substitution-13973" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13974" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13976" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13977" href="../Substitution/#plfa_plfa-part2-Substitution-13977" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-13979" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-13981" href="../Substitution/#plfa_plfa-part2-Substitution-13981" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13982" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13984" href="../Substitution/#plfa_plfa-part2-Substitution-13984" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-13987" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-13992" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-13997" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-14003" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-14007" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14008" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-14017" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14018" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14020" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14022" href="../Substitution/#plfa_plfa-part2-Substitution-13977" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-14023" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14025" href="../Substitution/#plfa_plfa-part2-Substitution-13984" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-14028" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-14032" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14034" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14035" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-14044" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14045" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14047" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14049" href="../Substitution/#plfa_plfa-part2-Substitution-13981" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14050" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14052" href="../Substitution/#plfa_plfa-part2-Substitution-13984" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-14055" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-14059" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub-zero"></a><a id="plfa_plfa-part2-Substitution-14074" href="../Substitution/#plfa_plfa-part2-Substitution-14074" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-14088" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14090" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14092" href="../Substitution/#plfa_plfa-part2-Substitution-14092" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14093" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14095" href="../Substitution/#plfa_plfa-part2-Substitution-14095" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-14097" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14099" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-14103" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14105" href="../Substitution/#plfa_plfa-part2-Substitution-14105" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14107" href="../Substitution/#plfa_plfa-part2-Substitution-14107" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-14110" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14112" href="../Substitution/#plfa_plfa-part2-Substitution-14092" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14114" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14116" href="../Substitution/#plfa_plfa-part2-Substitution-14095" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14117" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14121" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14123" href="../Substitution/#plfa_plfa-part2-Substitution-14105" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14125" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14127" href="../Substitution/#plfa_plfa-part2-Substitution-14107" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Substitution-14134" class="Comment">-----------------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-14178" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14180" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14182" href="../Substitution/#plfa_plfa-part2-Substitution-14182" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14183" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14185" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14187" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14198" href="../Substitution/#plfa_plfa-part2-Substitution-14105" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14200" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14203" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14214" href="../Substitution/#plfa_plfa-part2-Substitution-14107" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-14216" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14218" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14219" href="../Substitution/#plfa_plfa-part2-Substitution-14182" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14220" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14222" href="../Substitution/#plfa_plfa-part2-Substitution-14074" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-14236" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14237" href="../Substitution/#plfa_plfa-part2-Substitution-14237" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14238" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14240" href="../Substitution/#plfa_plfa-part2-Substitution-14240" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14241" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14243" href="../Substitution/#plfa_plfa-part2-Substitution-14243" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14244" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14246" href="../Substitution/#plfa_plfa-part2-Substitution-14246" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-14248" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14250" href="../Substitution/#plfa_plfa-part2-Substitution-14250" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Substitution-14254" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14255" href="../Substitution/#plfa_plfa-part2-Substitution-14255" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14256" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14258" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-14263" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14278" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-14280" href="../Substitution/#plfa_plfa-part2-Substitution-14280" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14282" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14284" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-14289" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-14292" href="../Substitution/#plfa_plfa-part2-Substitution-14292" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-14294" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14296" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-14307" href="../Substitution/#plfa_plfa-part2-Substitution-14292" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-14309" href="../Substitution/#plfa_plfa-part2-Substitution-14280" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14310" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14312" href="../Substitution/#plfa_plfa-part2-Substitution-14250" class="Bound">mm&#39;</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-cons"></a><a id="plfa_plfa-part2-Substitution-14329" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-14339" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14341" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14343" href="../Substitution/#plfa_plfa-part2-Substitution-14343" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14345" href="../Substitution/#plfa_plfa-part2-Substitution-14345" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14346" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14348" href="../Substitution/#plfa_plfa-part2-Substitution-14348" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14349" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14351" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14353" href="../Substitution/#plfa_plfa-part2-Substitution-14353" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-14355" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14357" href="../Substitution/#plfa_plfa-part2-Substitution-14345" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14359" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14361" href="../Substitution/#plfa_plfa-part2-Substitution-14348" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14362" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14364" href="../Substitution/#plfa_plfa-part2-Substitution-14364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14366" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14368" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14370" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14376" href="../Substitution/#plfa_plfa-part2-Substitution-14343" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14378" href="../Substitution/#plfa_plfa-part2-Substitution-14345" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14379" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14383" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14385" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14387" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14389" href="../Substitution/#plfa_plfa-part2-Substitution-14353" class="Bound">N</a>  <a id="plfa_plfa-part2-Substitution-14392" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-14395" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14398" href="../Substitution/#plfa_plfa-part2-Substitution-14398" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14399" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14401" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14403" href="../Substitution/#plfa_plfa-part2-Substitution-14364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14405" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14406" href="../Substitution/#plfa_plfa-part2-Substitution-14398" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14407" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14409" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14411" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14413" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14414" href="../Substitution/#plfa_plfa-part2-Substitution-14398" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14415" class="Symbol">})</a>
    <a id="plfa_plfa-part2-Substitution-14422" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-14457" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14459" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14461" href="../Substitution/#plfa_plfa-part2-Substitution-14461" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14462" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14464" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14466" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14467" href="../Substitution/#plfa_plfa-part2-Substitution-14351" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14469" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14471" href="../Substitution/#plfa_plfa-part2-Substitution-14364" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14472" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14474" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14475" href="../Substitution/#plfa_plfa-part2-Substitution-14461" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14476" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14478" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14480" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14481" href="../Substitution/#plfa_plfa-part2-Substitution-14353" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-14483" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14485" href="../Substitution/#plfa_plfa-part2-Substitution-14366" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14486" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14488" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14489" href="../Substitution/#plfa_plfa-part2-Substitution-14461" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14490" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14492" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a><a id="plfa_plfa-part2-Substitution-14501" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14502" href="../Substitution/#plfa_plfa-part2-Substitution-14502" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14503" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14505" href="../Substitution/#plfa_plfa-part2-Substitution-14505" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14506" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14508" href="../Substitution/#plfa_plfa-part2-Substitution-14508" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14509" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14511" href="../Substitution/#plfa_plfa-part2-Substitution-14511" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14512" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14514" href="../Substitution/#plfa_plfa-part2-Substitution-14514" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-14515" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14517" href="../Substitution/#plfa_plfa-part2-Substitution-14517" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14518" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14520" href="../Substitution/#plfa_plfa-part2-Substitution-14520" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14521" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14523" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-14528" href="../Substitution/#plfa_plfa-part2-Substitution-14528" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-14531" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14532" href="../Substitution/#plfa_plfa-part2-Substitution-14532" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-14534" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14536" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14538" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14553" href="../Substitution/#plfa_plfa-part2-Substitution-14569" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-14561" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14569" href="../Substitution/#plfa_plfa-part2-Substitution-14569" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14575" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14577" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14578" href="../Substitution/#plfa_plfa-part2-Substitution-14578" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14580" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14582" href="../Substitution/#plfa_plfa-part2-Substitution-14502" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14584" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-14586" href="../Substitution/#plfa_plfa-part2-Substitution-14508" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-14588" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14590" href="../Substitution/#plfa_plfa-part2-Substitution-14532" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-14592" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14594" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14596" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14597" href="../Substitution/#plfa_plfa-part2-Substitution-14511" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14599" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14601" href="../Substitution/#plfa_plfa-part2-Substitution-14517" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14602" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14604" href="../Substitution/#plfa_plfa-part2-Substitution-14578" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14606" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14608" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14609" href="../Substitution/#plfa_plfa-part2-Substitution-14511" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14611" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14613" href="../Substitution/#plfa_plfa-part2-Substitution-14520" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14614" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14616" href="../Substitution/#plfa_plfa-part2-Substitution-14578" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14620" href="../Substitution/#plfa_plfa-part2-Substitution-14569" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14626" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-14628" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14630" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-14637" href="../Substitution/#plfa_plfa-part2-Substitution-14569" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14643" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14644" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-14646" href="../Substitution/#plfa_plfa-part2-Substitution-14646" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14647" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14649" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14651" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-14660" href="../Substitution/#plfa_plfa-part2-Substitution-14528" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-14663" href="../Substitution/#plfa_plfa-part2-Substitution-14646" class="Bound">x</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-seq"></a><a id="plfa_plfa-part2-Substitution-14678" href="../Substitution/#plfa_plfa-part2-Substitution-14678" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-14687" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14689" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14691" href="../Substitution/#plfa_plfa-part2-Substitution-14691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14693" href="../Substitution/#plfa_plfa-part2-Substitution-14693" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14695" href="../Substitution/#plfa_plfa-part2-Substitution-14695" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14696" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14698" href="../Substitution/#plfa_plfa-part2-Substitution-14698" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14700" href="../Substitution/#plfa_plfa-part2-Substitution-14700" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14703" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14705" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14711" href="../Substitution/#plfa_plfa-part2-Substitution-14691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14713" href="../Substitution/#plfa_plfa-part2-Substitution-14693" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14714" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14716" href="../Substitution/#plfa_plfa-part2-Substitution-14716" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14718" href="../Substitution/#plfa_plfa-part2-Substitution-14718" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-14721" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14723" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14729" href="../Substitution/#plfa_plfa-part2-Substitution-14693" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-14731" href="../Substitution/#plfa_plfa-part2-Substitution-14695" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14732" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14736" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14738" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14741" href="../Substitution/#plfa_plfa-part2-Substitution-14741" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14742" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14744" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14746" href="../Substitution/#plfa_plfa-part2-Substitution-14698" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14748" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14749" href="../Substitution/#plfa_plfa-part2-Substitution-14741" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14750" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14752" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14754" href="../Substitution/#plfa_plfa-part2-Substitution-14700" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14757" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14758" href="../Substitution/#plfa_plfa-part2-Substitution-14741" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14759" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14762" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14764" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-14767" href="../Substitution/#plfa_plfa-part2-Substitution-14767" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14768" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14770" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14772" href="../Substitution/#plfa_plfa-part2-Substitution-14716" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-14774" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14775" href="../Substitution/#plfa_plfa-part2-Substitution-14767" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14776" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14778" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14780" href="../Substitution/#plfa_plfa-part2-Substitution-14718" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-14783" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14784" href="../Substitution/#plfa_plfa-part2-Substitution-14767" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14785" class="Symbol">})</a>
  <a id="plfa_plfa-part2-Substitution-14790" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14792" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14794" href="../Substitution/#plfa_plfa-part2-Substitution-14794" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14795" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14797" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14799" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14800" href="../Substitution/#plfa_plfa-part2-Substitution-14698" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14802" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14804" href="../Substitution/#plfa_plfa-part2-Substitution-14716" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14805" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14807" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14808" href="../Substitution/#plfa_plfa-part2-Substitution-14794" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14809" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14811" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14813" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14814" href="../Substitution/#plfa_plfa-part2-Substitution-14700" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14817" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14819" href="../Substitution/#plfa_plfa-part2-Substitution-14718" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14821" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14823" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14824" href="../Substitution/#plfa_plfa-part2-Substitution-14794" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14825" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14827" href="../Substitution/#plfa_plfa-part2-Substitution-14678" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-14836" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14837" href="../Substitution/#plfa_plfa-part2-Substitution-14837" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14838" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14840" href="../Substitution/#plfa_plfa-part2-Substitution-14840" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14841" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14843" href="../Substitution/#plfa_plfa-part2-Substitution-14843" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-14844" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14846" href="../Substitution/#plfa_plfa-part2-Substitution-14846" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-14847" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14849" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-14851" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14853" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14854" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14856" href="../Substitution/#plfa_plfa-part2-Substitution-14856" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14858" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14860" href="../Substitution/#plfa_plfa-part2-Substitution-14860" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-14864" href="../Substitution/#plfa_plfa-part2-Substitution-14864" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-14868" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14869" href="../Substitution/#plfa_plfa-part2-Substitution-14869" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14870" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14872" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14874" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14889" href="../Substitution/#plfa_plfa-part2-Substitution-14905" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-14897" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14905" href="../Substitution/#plfa_plfa-part2-Substitution-14905" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14911" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14913" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14914" href="../Substitution/#plfa_plfa-part2-Substitution-14914" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14916" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14918" href="../Substitution/#plfa_plfa-part2-Substitution-14837" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14920" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14922" href="../Substitution/#plfa_plfa-part2-Substitution-14869" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14923" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14925" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14927" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14928" href="../Substitution/#plfa_plfa-part2-Substitution-14846" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14930" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14932" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14933" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14935" href="../Substitution/#plfa_plfa-part2-Substitution-14914" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14937" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14939" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14940" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-14943" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14945" href="../Substitution/#plfa_plfa-part2-Substitution-14856" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-14947" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14949" href="../Substitution/#plfa_plfa-part2-Substitution-14914" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14953" href="../Substitution/#plfa_plfa-part2-Substitution-14905" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14959" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14961" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-14968" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-14981" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14982" href="../Substitution/#plfa_plfa-part2-Substitution-14846" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14984" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14986" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-14987" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-14989" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-14996" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-15007" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15013" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-15015" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15016" href="../Substitution/#plfa_plfa-part2-Substitution-14846" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15018" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15019" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15026" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15029" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-15034" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15035" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15041" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-15042" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15044" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15045" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-15054" href="../Substitution/#plfa_plfa-part2-Substitution-14860" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-15058" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15059" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15061" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-15070" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15076" href="../Substitution/#plfa_plfa-part2-Substitution-14853" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-15078" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15079" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15082" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15083" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15090" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15093" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-15101" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15102" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-15104" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15106" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15109" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15110" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15112" href="../Substitution/#plfa_plfa-part2-Substitution-14864" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-15116" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-15121" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-15130" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-15136" href="../Substitution/#plfa_plfa-part2-Substitution-14856" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-15139" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15140" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15143" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15144" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-15151" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-15162" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15163" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-15166" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15168" href="../Substitution/#plfa_plfa-part2-Substitution-14856" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-15170" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15172" href="../Substitution/#plfa_plfa-part2-Substitution-14959" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-15179" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="将-renameextsext-和-subst-zero-关联到-σ-代数">将 <code>rename</code>、<code>exts</code>、<code>ext</code> 和 <code>subst-zero</code> 关联到 σ-代数</h2><p>本节中我们将为 σ-代数中的项与 <code>subst</code> 及其辅助函数（<code>rename</code>、<code>exts</code>、<code>ext</code> 和 <code>subst-zero</code>）建立关联方程。</p><p>我们要证明的第一个方程是</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M              (rename-subst-ren)</code></pre><p>由于 <code>subst</code> 使用了 <code>exts</code> 函数，我们需要以下引理，它证明了 <code>exts</code> 和 <code>ext</code> 做的事情一样，只不过 <code>ext</code> 应用于重命名，而 <code>exts</code> 应用于代换。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-ext"></a><a id="plfa_plfa-part2-Substitution-15986" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-15994" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15996" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-15998" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15999" href="../Substitution/#plfa_plfa-part2-Substitution-15999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16001" href="../Substitution/#plfa_plfa-part2-Substitution-16001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16002" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16004" href="../Substitution/#plfa_plfa-part2-Substitution-16004" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16006" href="../Substitution/#plfa_plfa-part2-Substitution-16006" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-16008" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16010" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-16014" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16016" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16017" href="../Substitution/#plfa_plfa-part2-Substitution-16017" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16019" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16021" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-16028" href="../Substitution/#plfa_plfa-part2-Substitution-15999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16030" href="../Substitution/#plfa_plfa-part2-Substitution-16001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16031" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-16041" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16043" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16047" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16048" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16052" href="../Substitution/#plfa_plfa-part2-Substitution-16017" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16054" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16055" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-16057" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16059" href="../Substitution/#plfa_plfa-part2-Substitution-16004" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16060" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-16063" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16065" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16070" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16071" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16075" href="../Substitution/#plfa_plfa-part2-Substitution-16017" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16076" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16078" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16079" href="../Substitution/#plfa_plfa-part2-Substitution-16006" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16080" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-16082" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-16090" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16091" href="../Substitution/#plfa_plfa-part2-Substitution-16091" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16092" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16094" href="../Substitution/#plfa_plfa-part2-Substitution-16094" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16095" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16097" href="../Substitution/#plfa_plfa-part2-Substitution-16097" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16098" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16100" href="../Substitution/#plfa_plfa-part2-Substitution-16100" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16101" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16103" href="../Substitution/#plfa_plfa-part2-Substitution-16103" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16104" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16106" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16108" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-16123" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-16125" href="../Substitution/#plfa_plfa-part2-Substitution-16125" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16127" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16129" href="../Substitution/#plfa_plfa-part2-Substitution-16153" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16135" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16136" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16138" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16140" href="../Substitution/#plfa_plfa-part2-Substitution-16125" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16141" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-16145" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-16153" href="../Substitution/#plfa_plfa-part2-Substitution-16153" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16159" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16161" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-16163" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16164" href="../Substitution/#plfa_plfa-part2-Substitution-16164" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16166" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16168" href="../Substitution/#plfa_plfa-part2-Substitution-16091" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16170" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16172" href="../Substitution/#plfa_plfa-part2-Substitution-16097" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16174" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-16176" href="../Substitution/#plfa_plfa-part2-Substitution-16100" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-16177" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16179" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16181" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16182" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16186" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16187" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16191" href="../Substitution/#plfa_plfa-part2-Substitution-16103" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16192" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-16195" href="../Substitution/#plfa_plfa-part2-Substitution-16164" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16197" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16199" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16204" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16205" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16209" href="../Substitution/#plfa_plfa-part2-Substitution-16103" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16210" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16212" href="../Substitution/#plfa_plfa-part2-Substitution-16164" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-16216" href="../Substitution/#plfa_plfa-part2-Substitution-16153" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16222" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16223" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16225" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16227" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16228" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16230" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16232" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-16239" href="../Substitution/#plfa_plfa-part2-Substitution-16153" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16245" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16246" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-16248" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16250" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-16252" href="../Substitution/#plfa_plfa-part2-Substitution-16252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16253" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16255" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16257" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>有了这条引理，我们只需对项 <code>M</code> 进行归纳即可：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-ren"></a><a id="plfa_plfa-part2-Substitution-16395" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16412" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16414" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-16416" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16417" href="../Substitution/#plfa_plfa-part2-Substitution-16417" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16419" href="../Substitution/#plfa_plfa-part2-Substitution-16419" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16420" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16422" href="../Substitution/#plfa_plfa-part2-Substitution-16422" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16423" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16425" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16426" href="../Substitution/#plfa_plfa-part2-Substitution-16426" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16428" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16430" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-16437" href="../Substitution/#plfa_plfa-part2-Substitution-16417" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16439" href="../Substitution/#plfa_plfa-part2-Substitution-16419" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16440" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16442" href="../Substitution/#plfa_plfa-part2-Substitution-16442" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16444" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16446" href="../Substitution/#plfa_plfa-part2-Substitution-16417" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16448" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16450" href="../Substitution/#plfa_plfa-part2-Substitution-16422" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16451" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-16470" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16472" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16479" href="../Substitution/#plfa_plfa-part2-Substitution-16426" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16481" href="../Substitution/#plfa_plfa-part2-Substitution-16442" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16483" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16485" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16487" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16491" href="../Substitution/#plfa_plfa-part2-Substitution-16426" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16493" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16495" href="../Substitution/#plfa_plfa-part2-Substitution-16442" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-16497" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16514" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16515" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16517" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16519" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16521" href="../Substitution/#plfa_plfa-part2-Substitution-16521" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16522" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16524" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16526" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-16531" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16548" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16549" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-16551" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16553" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16554" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16556" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16558" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16560" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16562" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16563" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16565" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-16569" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-16581" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16588" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16590" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16591" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16593" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16594" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-16600" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-16610" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16612" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-16619" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16620" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16624" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16625" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16627" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16633" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16636" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16641" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16644" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16645" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16662" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16663" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-16665" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16667" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16671" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16672" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16674" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16676" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16678" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16679" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-16682" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-16690" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16692" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16694" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16698" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16699" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-16703" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16704" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16706" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16708" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16714" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16717" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16722" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16725" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16726" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-16735" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16736" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16738" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16740" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16741" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16743" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-16751" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-16755" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16757" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-16765" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16767" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16769" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16774" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16775" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16779" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-16780" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16782" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a>  <a id="plfa_plfa-part2-Substitution-16785" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-16791" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-16801" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16803" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-16807" href="../Substitution/#plfa_plfa-part2-Substitution-16553" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-16809" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16811" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16812" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16814" href="../Substitution/#plfa_plfa-part2-Substitution-16562" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16815" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-16819" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-16821" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16838" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16839" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16841" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16843" href="../Substitution/#plfa_plfa-part2-Substitution-16843" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-16845" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-16847" href="../Substitution/#plfa_plfa-part2-Substitution-16847" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-16848" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16850" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16852" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-16858" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-16862" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-16879" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a>
</pre><p>代换 <code>ren S_</code> 等价于 <code>↑</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-shift"></a><a id="plfa_plfa-part2-Substitution-16989" href="../Substitution/#plfa_plfa-part2-Substitution-16989" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-16999" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17001" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17003" href="../Substitution/#plfa_plfa-part2-Substitution-17003" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17004" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17006" href="../Substitution/#plfa_plfa-part2-Substitution-17006" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17007" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17009" href="../Substitution/#plfa_plfa-part2-Substitution-17009" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17010" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-17022" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17024" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17028" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17031" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17033" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17035" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17036" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-17038" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17040" href="../Substitution/#plfa_plfa-part2-Substitution-17009" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17041" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17043" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17044" href="../Substitution/#plfa_plfa-part2-Substitution-17006" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17045" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-17047" href="../Substitution/#plfa_plfa-part2-Substitution-16989" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-17057" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17058" href="../Substitution/#plfa_plfa-part2-Substitution-17058" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17059" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17061" href="../Substitution/#plfa_plfa-part2-Substitution-17061" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17062" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17064" href="../Substitution/#plfa_plfa-part2-Substitution-17064" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17065" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17067" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17069" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-17084" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-17086" href="../Substitution/#plfa_plfa-part2-Substitution-17086" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17088" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17090" href="../Substitution/#plfa_plfa-part2-Substitution-17114" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17096" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17097" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17099" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17101" href="../Substitution/#plfa_plfa-part2-Substitution-17086" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17102" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-17106" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-17114" href="../Substitution/#plfa_plfa-part2-Substitution-17114" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17120" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17122" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-17124" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17125" href="../Substitution/#plfa_plfa-part2-Substitution-17125" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17127" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17129" href="../Substitution/#plfa_plfa-part2-Substitution-17058" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17131" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-17133" href="../Substitution/#plfa_plfa-part2-Substitution-17061" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17134" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17136" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17138" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17142" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17143" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-17145" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17146" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-17148" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17150" href="../Substitution/#plfa_plfa-part2-Substitution-17064" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17151" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-17154" href="../Substitution/#plfa_plfa-part2-Substitution-17125" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17156" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17158" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17160" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17161" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-17163" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17165" href="../Substitution/#plfa_plfa-part2-Substitution-17064" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17166" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17168" href="../Substitution/#plfa_plfa-part2-Substitution-17125" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-17172" href="../Substitution/#plfa_plfa-part2-Substitution-17114" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17178" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17179" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17181" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17183" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-17184" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17186" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17188" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-17195" href="../Substitution/#plfa_plfa-part2-Substitution-17114" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-17201" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17202" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-17204" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17206" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-17208" href="../Substitution/#plfa_plfa-part2-Substitution-17208" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17209" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17211" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17213" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>代换 <code>rename S_ M</code> 等价于抬升：<code>⟪ ↑ ⟫ M</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-shift"></a><a id="plfa_plfa-part2-Substitution-17345" href="../Substitution/#plfa_plfa-part2-Substitution-17345" class="Function">rename-shift</a> <a id="plfa_plfa-part2-Substitution-17358" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17360" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17362" href="../Substitution/#plfa_plfa-part2-Substitution-17362" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17363" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17365" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17366" href="../Substitution/#plfa_plfa-part2-Substitution-17366" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17367" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17369" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17370" href="../Substitution/#plfa_plfa-part2-Substitution-17370" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17371" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17373" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17374" href="../Substitution/#plfa_plfa-part2-Substitution-17374" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17376" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17378" href="../Substitution/#plfa_plfa-part2-Substitution-17362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17380" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-17382" href="../Substitution/#plfa_plfa-part2-Substitution-17366" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17383" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-17398" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17400" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17407" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17408" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-17410" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17411" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-17413" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17415" href="../Substitution/#plfa_plfa-part2-Substitution-17370" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17416" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-17419" href="../Substitution/#plfa_plfa-part2-Substitution-17374" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17421" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17423" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17425" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17427" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17429" href="../Substitution/#plfa_plfa-part2-Substitution-17374" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-17431" href="../Substitution/#plfa_plfa-part2-Substitution-17345" class="Function">rename-shift</a><a id="plfa_plfa-part2-Substitution-17443" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17444" href="../Substitution/#plfa_plfa-part2-Substitution-17444" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17445" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17447" href="../Substitution/#plfa_plfa-part2-Substitution-17447" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17448" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17450" href="../Substitution/#plfa_plfa-part2-Substitution-17450" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-17451" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17453" href="../Substitution/#plfa_plfa-part2-Substitution-17453" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17454" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17456" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-17460" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-17470" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17477" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17480" href="../Substitution/#plfa_plfa-part2-Substitution-17453" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17484" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17487" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-17504" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-17510" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17512" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17516" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-17519" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17521" href="../Substitution/#plfa_plfa-part2-Substitution-17453" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17525" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17528" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-17536" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17537" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17539" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17541" href="../Substitution/#plfa_plfa-part2-Substitution-17453" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17542" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17544" href="../Substitution/#plfa_plfa-part2-Substitution-16989" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-17554" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-17559" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-17565" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17567" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-17569" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17571" href="../Substitution/#plfa_plfa-part2-Substitution-17453" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-17575" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>接下来证明 <code>exts-cons-shift</code>，它陈述了 <code>exts</code> 等价于将 Z cons 到应用 <code>σ</code> 后抬升所产生的序列上。当 <code>x = S y</code> 时，使用 <code>rename-subst-ren</code> 对变量 <code>x</code> 进行情况分析即可证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-cons-shift"></a><a id="plfa_plfa-part2-Substitution-17979" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-17995" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17997" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17999" href="../Substitution/#plfa_plfa-part2-Substitution-17999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18001" href="../Substitution/#plfa_plfa-part2-Substitution-18001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18002" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18004" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18005" href="../Substitution/#plfa_plfa-part2-Substitution-18005" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18007" href="../Substitution/#plfa_plfa-part2-Substitution-18007" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18008" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18010" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18011" href="../Substitution/#plfa_plfa-part2-Substitution-18011" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18013" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18015" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-18021" href="../Substitution/#plfa_plfa-part2-Substitution-17999" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18023" href="../Substitution/#plfa_plfa-part2-Substitution-18001" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18024" class="Symbol">}</a>
                <a id="plfa_plfa-part2-Substitution-18042" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18044" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18049" href="../Substitution/#plfa_plfa-part2-Substitution-18011" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18051" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18052" href="../Substitution/#plfa_plfa-part2-Substitution-18005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18053" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18055" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18056" href="../Substitution/#plfa_plfa-part2-Substitution-18007" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18057" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18059" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18061" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18062" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18064" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18066" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18068" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18069" href="../Substitution/#plfa_plfa-part2-Substitution-18011" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18071" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18073" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18074" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-18077" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-18093" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18095" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-18110" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-18112" href="../Substitution/#plfa_plfa-part2-Substitution-18112" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18114" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18116" href="../Substitution/#plfa_plfa-part2-Substitution-18139" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-18121" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18122" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18124" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18126" href="../Substitution/#plfa_plfa-part2-Substitution-18112" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18127" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18131" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-18139" href="../Substitution/#plfa_plfa-part2-Substitution-18139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18145" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18147" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18149" href="../Substitution/#plfa_plfa-part2-Substitution-18149" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18151" href="../Substitution/#plfa_plfa-part2-Substitution-18151" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18152" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18154" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18155" href="../Substitution/#plfa_plfa-part2-Substitution-18155" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18157" href="../Substitution/#plfa_plfa-part2-Substitution-18157" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18158" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18160" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18161" href="../Substitution/#plfa_plfa-part2-Substitution-18161" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18163" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18165" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-18171" href="../Substitution/#plfa_plfa-part2-Substitution-18149" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18173" href="../Substitution/#plfa_plfa-part2-Substitution-18151" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18174" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18176" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18177" href="../Substitution/#plfa_plfa-part2-Substitution-18177" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18179" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18181" href="../Substitution/#plfa_plfa-part2-Substitution-18149" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18183" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-18185" href="../Substitution/#plfa_plfa-part2-Substitution-18157" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18187" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-18189" href="../Substitution/#plfa_plfa-part2-Substitution-18155" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18190" class="Symbol">}</a>
                  <a id="plfa_plfa-part2-Substitution-18210" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18212" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18217" href="../Substitution/#plfa_plfa-part2-Substitution-18161" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18219" href="../Substitution/#plfa_plfa-part2-Substitution-18177" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18221" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18223" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18224" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18226" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18228" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18230" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18231" href="../Substitution/#plfa_plfa-part2-Substitution-18161" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-18233" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18235" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18236" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18239" href="../Substitution/#plfa_plfa-part2-Substitution-18177" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-18243" href="../Substitution/#plfa_plfa-part2-Substitution-18139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18249" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18250" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18252" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18254" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18255" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18257" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18259" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-18266" href="../Substitution/#plfa_plfa-part2-Substitution-18139" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18272" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18273" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18275" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18277" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-18279" href="../Substitution/#plfa_plfa-part2-Substitution-18279" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-18280" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18282" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18284" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a>
</pre><p>我们可以定义一个与 <code>ren (ext ρ)</code> 类似的函数作为辅助：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ext-cons-Z-shift"></a><a id="plfa_plfa-part2-Substitution-18428" href="../Substitution/#plfa_plfa-part2-Substitution-18428" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-18445" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18447" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18449" href="../Substitution/#plfa_plfa-part2-Substitution-18449" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18451" href="../Substitution/#plfa_plfa-part2-Substitution-18451" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18452" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18454" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18455" href="../Substitution/#plfa_plfa-part2-Substitution-18455" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18457" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18459" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18466" href="../Substitution/#plfa_plfa-part2-Substitution-18449" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18468" href="../Substitution/#plfa_plfa-part2-Substitution-18451" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18469" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18471" href="../Substitution/#plfa_plfa-part2-Substitution-18471" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18472" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18474" href="../Substitution/#plfa_plfa-part2-Substitution-18474" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18475" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-18494" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18496" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18500" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18501" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18505" href="../Substitution/#plfa_plfa-part2-Substitution-18455" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18507" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18508" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-18510" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18512" href="../Substitution/#plfa_plfa-part2-Substitution-18474" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18513" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-18516" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18518" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18519" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18521" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-18523" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18525" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18526" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18530" href="../Substitution/#plfa_plfa-part2-Substitution-18455" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18532" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18534" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18535" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18538" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18539" href="../Substitution/#plfa_plfa-part2-Substitution-18471" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18540" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18542" href="../Substitution/#plfa_plfa-part2-Substitution-18428" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-18559" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18560" href="../Substitution/#plfa_plfa-part2-Substitution-18560" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-18561" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18563" href="../Substitution/#plfa_plfa-part2-Substitution-18563" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18564" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18566" href="../Substitution/#plfa_plfa-part2-Substitution-18566" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18567" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18569" href="../Substitution/#plfa_plfa-part2-Substitution-18569" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18570" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18572" href="../Substitution/#plfa_plfa-part2-Substitution-18572" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18573" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18575" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-18579" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-18589" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18593" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18594" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18598" href="../Substitution/#plfa_plfa-part2-Substitution-18566" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18599" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-18603" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-18606" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-18614" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-18620" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-18625" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18626" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18630" href="../Substitution/#plfa_plfa-part2-Substitution-18566" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18631" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-18635" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-18638" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a><a id="plfa_plfa-part2-Substitution-18653" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18654" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-18656" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18658" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18662" href="../Substitution/#plfa_plfa-part2-Substitution-18566" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18663" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18665" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
   <a id="plfa_plfa-part2-Substitution-18670" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18672" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18674" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18675" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18677" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18679" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18680" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-18684" href="../Substitution/#plfa_plfa-part2-Substitution-18566" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18686" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-18688" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-18689" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Substitution-18694" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>最后，代换 <code>subst-zero M</code> 等价于将 <code>M</code> cons 到恒等代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-Z-cons-ids"></a><a id="plfa_plfa-part2-Substitution-18865" href="../Substitution/#plfa_plfa-part2-Substitution-18865" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-18882" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18884" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18886" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-18887" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18889" href="../Substitution/#plfa_plfa-part2-Substitution-18889" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18891" href="../Substitution/#plfa_plfa-part2-Substitution-18891" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18893" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18895" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-18899" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18901" href="../Substitution/#plfa_plfa-part2-Substitution-18901" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18903" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18905" href="../Substitution/#plfa_plfa-part2-Substitution-18886" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18907" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-18909" href="../Substitution/#plfa_plfa-part2-Substitution-18891" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18910" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-18929" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18931" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-18942" href="../Substitution/#plfa_plfa-part2-Substitution-18901" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18944" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18946" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18947" href="../Substitution/#plfa_plfa-part2-Substitution-18901" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18949" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-18951" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-18954" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18956" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18957" href="../Substitution/#plfa_plfa-part2-Substitution-18889" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18958" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18960" href="../Substitution/#plfa_plfa-part2-Substitution-18865" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-18977" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18979" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-18994" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-18996" href="../Substitution/#plfa_plfa-part2-Substitution-18996" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18998" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19000" href="../Substitution/#plfa_plfa-part2-Substitution-19024" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19006" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19007" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19009" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19011" href="../Substitution/#plfa_plfa-part2-Substitution-18996" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19012" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-19016" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-19024" href="../Substitution/#plfa_plfa-part2-Substitution-19024" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19030" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19032" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19034" href="../Substitution/#plfa_plfa-part2-Substitution-19034" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19035" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19037" href="../Substitution/#plfa_plfa-part2-Substitution-19037" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-19039" href="../Substitution/#plfa_plfa-part2-Substitution-19039" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-19041" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19043" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-19047" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19049" href="../Substitution/#plfa_plfa-part2-Substitution-19049" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19051" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19053" href="../Substitution/#plfa_plfa-part2-Substitution-19034" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19055" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19057" href="../Substitution/#plfa_plfa-part2-Substitution-19039" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19058" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19060" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19062" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19064" href="../Substitution/#plfa_plfa-part2-Substitution-19034" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19066" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19068" href="../Substitution/#plfa_plfa-part2-Substitution-19039" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-19070" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-19072" href="../Substitution/#plfa_plfa-part2-Substitution-19037" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19073" class="Symbol">}</a>
                      <a id="plfa_plfa-part2-Substitution-19097" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19099" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-19110" href="../Substitution/#plfa_plfa-part2-Substitution-19049" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19112" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19114" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19116" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19117" href="../Substitution/#plfa_plfa-part2-Substitution-19049" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19119" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19121" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-19124" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19126" href="../Substitution/#plfa_plfa-part2-Substitution-19060" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-19130" href="../Substitution/#plfa_plfa-part2-Substitution-19024" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19136" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19137" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19139" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19141" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19142" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19144" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19146" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-19153" href="../Substitution/#plfa_plfa-part2-Substitution-19024" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19159" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19160" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-19162" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19164" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-19166" href="../Substitution/#plfa_plfa-part2-Substitution-19166" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19167" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19169" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19171" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="sub-absub-id-和-rename-id-的证明">sub-ab、sub-id 和 rename-id 的证明</h2><p>方程 <code>sub-abs</code> 可直接从方程 <code>exts-cons-shift</code> 得出。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-abs"></a><a id="plfa_plfa-part2-Substitution-19411" href="../Substitution/#plfa_plfa-part2-Substitution-19411" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-19419" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19421" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19423" href="../Substitution/#plfa_plfa-part2-Substitution-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19425" href="../Substitution/#plfa_plfa-part2-Substitution-19425" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19426" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19428" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19429" href="../Substitution/#plfa_plfa-part2-Substitution-19429" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19431" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19433" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-19439" href="../Substitution/#plfa_plfa-part2-Substitution-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19441" href="../Substitution/#plfa_plfa-part2-Substitution-19425" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19442" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19444" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19445" href="../Substitution/#plfa_plfa-part2-Substitution-19445" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-19447" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19449" href="../Substitution/#plfa_plfa-part2-Substitution-19423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19451" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19453" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-19455" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19457" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19458" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-19468" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19470" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19472" href="../Substitution/#plfa_plfa-part2-Substitution-19429" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19474" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19476" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19477" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19479" href="../Substitution/#plfa_plfa-part2-Substitution-19445" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19480" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19482" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19484" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19486" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19488" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19489" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19491" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19492" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19494" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19496" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19497" href="../Substitution/#plfa_plfa-part2-Substitution-19429" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19499" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-19501" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-19502" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19504" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19506" href="../Substitution/#plfa_plfa-part2-Substitution-19445" class="Bound">N</a>
<a id="plfa_plfa-part2-Substitution-19508" href="../Substitution/#plfa_plfa-part2-Substitution-19411" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-19516" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19517" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-19519" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19521" href="../Substitution/#plfa_plfa-part2-Substitution-19521" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19522" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19524" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-19526" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19528" href="../Substitution/#plfa_plfa-part2-Substitution-19528" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19529" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19531" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-19536" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-19547" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19549" href="../Substitution/#plfa_plfa-part2-Substitution-19521" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19551" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19553" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19554" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19556" href="../Substitution/#plfa_plfa-part2-Substitution-19528" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19557" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-19562" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-19571" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19573" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19575" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19580" href="../Substitution/#plfa_plfa-part2-Substitution-19521" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19582" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19584" href="../Substitution/#plfa_plfa-part2-Substitution-19528" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-19589" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19592" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-19597" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-19600" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19601" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-19609" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19610" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19612" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19614" href="../Substitution/#plfa_plfa-part2-Substitution-19528" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19615" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19617" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-19633" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-19637" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19639" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-19646" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19648" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-19650" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19651" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19653" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-19654" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19656" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-19658" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19659" href="../Substitution/#plfa_plfa-part2-Substitution-19521" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19661" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-19663" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-19664" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19666" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-19668" href="../Substitution/#plfa_plfa-part2-Substitution-19528" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-19673" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p><code>sub-id</code> 的证明需要以下引理，它阐述了扩展一个恒等代换依旧会得到恒等代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-ids"></a><a id="plfa_plfa-part2-Substitution-19880" href="../Substitution/#plfa_plfa-part2-Substitution-19880" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-19889" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19891" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19893" href="../Substitution/#plfa_plfa-part2-Substitution-19893" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19894" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19896" href="../Substitution/#plfa_plfa-part2-Substitution-19896" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-19898" href="../Substitution/#plfa_plfa-part2-Substitution-19898" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19899" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-19910" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19912" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19917" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-19921" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19923" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-19927" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19928" href="../Substitution/#plfa_plfa-part2-Substitution-19893" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19930" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19932" href="../Substitution/#plfa_plfa-part2-Substitution-19898" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19933" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19935" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19936" href="../Substitution/#plfa_plfa-part2-Substitution-19896" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19937" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-19939" href="../Substitution/#plfa_plfa-part2-Substitution-19880" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-19948" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19949" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19950" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19952" href="../Substitution/#plfa_plfa-part2-Substitution-19952" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-19953" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19955" href="../Substitution/#plfa_plfa-part2-Substitution-19955" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-19956" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19958" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19960" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-19975" href="../Substitution/#plfa_plfa-part2-Substitution-19989" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-19983" class="Keyword">where</a> <a id="plfa_plfa-part2-Substitution-19989" href="../Substitution/#plfa_plfa-part2-Substitution-19989" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-19995" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19997" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19998" href="../Substitution/#plfa_plfa-part2-Substitution-19998" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20000" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20002" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20004" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-20006" href="../Substitution/#plfa_plfa-part2-Substitution-19955" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-20008" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-20010" href="../Substitution/#plfa_plfa-part2-Substitution-19952" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20011" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20013" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20015" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20020" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20024" href="../Substitution/#plfa_plfa-part2-Substitution-19998" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20026" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20028" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20032" href="../Substitution/#plfa_plfa-part2-Substitution-19998" class="Bound">x</a>
        <a id="plfa_plfa-part2-Substitution-20042" href="../Substitution/#plfa_plfa-part2-Substitution-19989" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-20048" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-20050" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20052" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Substitution-20065" href="../Substitution/#plfa_plfa-part2-Substitution-19989" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-20071" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20072" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20074" href="../Substitution/#plfa_plfa-part2-Substitution-20074" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20075" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20077" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20079" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p><code>⟪ ids ⟫ M ≡ M</code> 的证明现在可以非常容易地对 <code>M</code> 进行归纳得出，只需在 <code>M ≡ ƛ N</code> 的情况中使用 <code>exts-ids</code> 即可。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-id"></a><a id="plfa_plfa-part2-Substitution-20298" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20305" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20307" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-20309" href="../Substitution/#plfa_plfa-part2-Substitution-20309" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-20310" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20312" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20313" href="../Substitution/#plfa_plfa-part2-Substitution-20313" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20314" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20316" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20317" href="../Substitution/#plfa_plfa-part2-Substitution-20317" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20319" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20321" href="../Substitution/#plfa_plfa-part2-Substitution-20309" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20323" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-20325" href="../Substitution/#plfa_plfa-part2-Substitution-20313" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20326" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-20337" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20339" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20341" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20345" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20347" href="../Substitution/#plfa_plfa-part2-Substitution-20317" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20349" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20351" href="../Substitution/#plfa_plfa-part2-Substitution-20317" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-20353" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20360" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20361" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20363" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20365" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-20367" href="../Substitution/#plfa_plfa-part2-Substitution-20367" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20368" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20370" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20372" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-20377" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20384" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20385" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20387" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20389" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20391" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20392" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20394" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20399" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-20410" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20412" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20416" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20418" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20419" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20421" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20422" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-20427" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-20436" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20438" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20440" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20445" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20449" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20451" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20456" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20459" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20464" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-20467" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20468" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-20476" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20477" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20479" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20481" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-20482" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20484" href="../Substitution/#plfa_plfa-part2-Substitution-19880" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-20493" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-20497" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-20500" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20507" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20509" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20511" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20515" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20517" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20522" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20525" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20530" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-20533" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20540" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20547" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-20549" href="../Substitution/#plfa_plfa-part2-Substitution-20391" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-20554" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-20556" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20563" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20564" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20566" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20568" href="../Substitution/#plfa_plfa-part2-Substitution-20568" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-20570" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-20572" href="../Substitution/#plfa_plfa-part2-Substitution-20572" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20573" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20575" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20577" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-20583" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-20587" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-20594" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a>
</pre><p><code>rename-id</code> 方程是 <code>sub-id</code> 的对应函数。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-id"></a><a id="plfa_plfa-part2-Substitution-20710" href="../Substitution/#plfa_plfa-part2-Substitution-20710" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-20720" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20722" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-20724" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20725" href="../Substitution/#plfa_plfa-part2-Substitution-20725" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-20726" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20728" href="../Substitution/#plfa_plfa-part2-Substitution-20728" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20729" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20731" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20732" href="../Substitution/#plfa_plfa-part2-Substitution-20732" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20734" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-20736" href="../Substitution/#plfa_plfa-part2-Substitution-20725" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-20738" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-20740" href="../Substitution/#plfa_plfa-part2-Substitution-20728" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20741" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-20745" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20747" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20754" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20757" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20758" href="../Substitution/#plfa_plfa-part2-Substitution-20758" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20759" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20761" href="../Substitution/#plfa_plfa-part2-Substitution-20761" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20763" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20765" href="../Substitution/#plfa_plfa-part2-Substitution-20761" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20766" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20768" href="../Substitution/#plfa_plfa-part2-Substitution-20732" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-20770" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-20772" href="../Substitution/#plfa_plfa-part2-Substitution-20732" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-20774" href="../Substitution/#plfa_plfa-part2-Substitution-20710" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-20784" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20785" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20787" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20789" href="../Substitution/#plfa_plfa-part2-Substitution-20789" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20790" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20792" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20797" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-20808" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20815" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20818" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20819" href="../Substitution/#plfa_plfa-part2-Substitution-20819" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20820" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20822" href="../Substitution/#plfa_plfa-part2-Substitution-20822" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20824" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20826" href="../Substitution/#plfa_plfa-part2-Substitution-20822" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20827" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20829" href="../Substitution/#plfa_plfa-part2-Substitution-20789" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20834" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20837" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a>  <a id="plfa_plfa-part2-Substitution-20855" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20862" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20864" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-20868" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-20871" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20872" href="../Substitution/#plfa_plfa-part2-Substitution-20872" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-20873" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20875" href="../Substitution/#plfa_plfa-part2-Substitution-20875" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-20877" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-20879" href="../Substitution/#plfa_plfa-part2-Substitution-20875" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20880" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20882" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20884" href="../Substitution/#plfa_plfa-part2-Substitution-20789" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20889" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-20898" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-20900" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-20904" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-20906" href="../Substitution/#plfa_plfa-part2-Substitution-20789" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20911" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20914" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a>  <a id="plfa_plfa-part2-Substitution-20922" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-20929" href="../Substitution/#plfa_plfa-part2-Substitution-20789" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-20934" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="sub-idr-的证明">sub-idR 的证明</h2><p><code>sub-idR</code> 根据 <code>sub-id</code> 直接可得：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idR"></a><a id="plfa_plfa-part2-Substitution-21089" href="../Substitution/#plfa_plfa-part2-Substitution-21089" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-21097" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21099" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-21101" href="../Substitution/#plfa_plfa-part2-Substitution-21101" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21103" href="../Substitution/#plfa_plfa-part2-Substitution-21103" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21104" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21106" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21107" href="../Substitution/#plfa_plfa-part2-Substitution-21107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21109" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21111" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-21117" href="../Substitution/#plfa_plfa-part2-Substitution-21101" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21119" href="../Substitution/#plfa_plfa-part2-Substitution-21103" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21120" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21122" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21123" href="../Substitution/#plfa_plfa-part2-Substitution-21123" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21124" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-21133" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21135" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21136" href="../Substitution/#plfa_plfa-part2-Substitution-21107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21138" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-21140" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-21143" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21145" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-21147" href="../Substitution/#plfa_plfa-part2-Substitution-21107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21149" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21150" href="../Substitution/#plfa_plfa-part2-Substitution-21123" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21151" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-21153" href="../Substitution/#plfa_plfa-part2-Substitution-21089" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-21161" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21162" href="../Substitution/#plfa_plfa-part2-Substitution-21162" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-21163" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21165" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-21167" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-21169" href="../Substitution/#plfa_plfa-part2-Substitution-21169" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-21170" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21172" href="../Substitution/#plfa_plfa-part2-Substitution-21172" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21173" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21175" class="Symbol">=</a>
          <a id="plfa_plfa-part2-Substitution-21187" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
            <a id="plfa_plfa-part2-Substitution-21205" href="../Substitution/#plfa_plfa-part2-Substitution-21169" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-21207" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-21209" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a>
          <a id="plfa_plfa-part2-Substitution-21223" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
            <a id="plfa_plfa-part2-Substitution-21239" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-21241" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-21245" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-21247" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21249" href="../Substitution/#plfa_plfa-part2-Substitution-21169" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-21261" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-21264" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-21279" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-21282" href="../Substitution/#plfa_plfa-part2-Substitution-21282" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-21284" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21286" href="../Substitution/#plfa_plfa-part2-Substitution-20298" class="Function">sub-id</a><a id="plfa_plfa-part2-Substitution-21292" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21294" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
            <a id="plfa_plfa-part2-Substitution-21308" href="../Substitution/#plfa_plfa-part2-Substitution-21169" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-21320" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="sub-sub-的证明">sub-sub 的证明</h2><p><code>sub-sub</code> 方程陈述了代换序列 <code>σ ⨟ τ</code> 等价于先应用 <code>σ</code> 再应用 <code>τ</code>：</p><pre><code>⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M</code></pre><p>它的证明需要几条引理。首先，我们需要证明一个重命名的特化版本：</p><pre><code>rename ρ (rename ρ′ M) ≡ rename (ρ ∘ ρ′) M</code></pre><p>而它需要以下关于 <code>ext</code> 的引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-ext"></a><a id="plfa_plfa-part2-Substitution-21867" href="../Substitution/#plfa_plfa-part2-Substitution-21867" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-21879" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21881" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-21883" href="../Substitution/#plfa_plfa-part2-Substitution-21883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21885" href="../Substitution/#plfa_plfa-part2-Substitution-21885" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21887" href="../Substitution/#plfa_plfa-part2-Substitution-21887" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-21888" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-21890" href="../Substitution/#plfa_plfa-part2-Substitution-21890" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-21892" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21894" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-21901" href="../Substitution/#plfa_plfa-part2-Substitution-21885" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21903" href="../Substitution/#plfa_plfa-part2-Substitution-21887" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-21904" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21906" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21907" href="../Substitution/#plfa_plfa-part2-Substitution-21907" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-21910" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21912" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-21919" href="../Substitution/#plfa_plfa-part2-Substitution-21883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21921" href="../Substitution/#plfa_plfa-part2-Substitution-21885" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21922" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21924" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21925" href="../Substitution/#plfa_plfa-part2-Substitution-21925" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-21927" href="../Substitution/#plfa_plfa-part2-Substitution-21927" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-21928" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-21942" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21944" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-21946" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21950" href="../Substitution/#plfa_plfa-part2-Substitution-21890" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-21951" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21953" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21955" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21956" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21960" href="../Substitution/#plfa_plfa-part2-Substitution-21907" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-21962" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-21965" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-21967" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-21971" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21972" href="../Substitution/#plfa_plfa-part2-Substitution-21890" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-21974" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-21976" href="../Substitution/#plfa_plfa-part2-Substitution-21907" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-21978" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-21980" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21981" href="../Substitution/#plfa_plfa-part2-Substitution-21927" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-21982" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21984" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21985" href="../Substitution/#plfa_plfa-part2-Substitution-21925" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21986" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-21988" href="../Substitution/#plfa_plfa-part2-Substitution-21867" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-22000" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22002" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-22017" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-22019" href="../Substitution/#plfa_plfa-part2-Substitution-22019" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22021" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22023" href="../Substitution/#plfa_plfa-part2-Substitution-22047" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22029" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22030" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22032" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22034" href="../Substitution/#plfa_plfa-part2-Substitution-22019" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22035" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22039" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22047" href="../Substitution/#plfa_plfa-part2-Substitution-22047" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22053" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22055" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22057" href="../Substitution/#plfa_plfa-part2-Substitution-22057" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22059" href="../Substitution/#plfa_plfa-part2-Substitution-22059" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22061" href="../Substitution/#plfa_plfa-part2-Substitution-22061" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22062" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22064" href="../Substitution/#plfa_plfa-part2-Substitution-22064" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22066" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22068" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22075" href="../Substitution/#plfa_plfa-part2-Substitution-22059" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22077" href="../Substitution/#plfa_plfa-part2-Substitution-22061" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22078" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22080" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22081" href="../Substitution/#plfa_plfa-part2-Substitution-22081" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22084" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22086" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22093" href="../Substitution/#plfa_plfa-part2-Substitution-22057" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22095" href="../Substitution/#plfa_plfa-part2-Substitution-22059" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22096" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22098" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22099" href="../Substitution/#plfa_plfa-part2-Substitution-22099" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-22101" href="../Substitution/#plfa_plfa-part2-Substitution-22101" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-22102" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22104" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22105" href="../Substitution/#plfa_plfa-part2-Substitution-22105" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22107" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22109" href="../Substitution/#plfa_plfa-part2-Substitution-22057" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22111" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-22113" href="../Substitution/#plfa_plfa-part2-Substitution-22101" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-22115" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-22117" href="../Substitution/#plfa_plfa-part2-Substitution-22099" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22118" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-22134" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22136" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22138" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22142" href="../Substitution/#plfa_plfa-part2-Substitution-22064" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22143" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22145" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22147" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22148" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22152" href="../Substitution/#plfa_plfa-part2-Substitution-22081" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22154" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22157" href="../Substitution/#plfa_plfa-part2-Substitution-22105" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22159" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22161" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22165" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22166" href="../Substitution/#plfa_plfa-part2-Substitution-22064" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22168" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22170" href="../Substitution/#plfa_plfa-part2-Substitution-22081" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22172" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22174" href="../Substitution/#plfa_plfa-part2-Substitution-22105" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-22178" href="../Substitution/#plfa_plfa-part2-Substitution-22047" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22184" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22185" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22187" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22189" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-22190" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22192" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22194" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-22201" href="../Substitution/#plfa_plfa-part2-Substitution-22047" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22207" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22208" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22210" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22212" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22214" href="../Substitution/#plfa_plfa-part2-Substitution-22214" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22215" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22217" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22219" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>要证明复合重命名等价于用 <code>rename</code> 应用一个之后再应用另一个，我们需要通过在 <code>M ≡ ƛ N</code> 的情况中用 <code>compose-ext</code> 对项 <code>M</code> 进行归纳：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-rename"></a><a id="plfa_plfa-part2-Substitution-22528" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22543" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22545" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22547" href="../Substitution/#plfa_plfa-part2-Substitution-22547" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22549" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22551" href="../Substitution/#plfa_plfa-part2-Substitution-22551" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22552" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22554" href="../Substitution/#plfa_plfa-part2-Substitution-22554" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22555" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22557" href="../Substitution/#plfa_plfa-part2-Substitution-22557" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-22559" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22561" href="../Substitution/#plfa_plfa-part2-Substitution-22547" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22563" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-22565" href="../Substitution/#plfa_plfa-part2-Substitution-22554" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22566" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22568" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22570" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22572" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22579" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22581" href="../Substitution/#plfa_plfa-part2-Substitution-22551" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22582" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22584" href="../Substitution/#plfa_plfa-part2-Substitution-22584" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22587" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22589" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-22596" href="../Substitution/#plfa_plfa-part2-Substitution-22547" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22598" href="../Substitution/#plfa_plfa-part2-Substitution-22549" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22599" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22603" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22605" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22612" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22614" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22615" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22622" href="../Substitution/#plfa_plfa-part2-Substitution-22584" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-22625" href="../Substitution/#plfa_plfa-part2-Substitution-22557" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-22626" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22628" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22630" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22637" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22638" href="../Substitution/#plfa_plfa-part2-Substitution-22568" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22640" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22642" href="../Substitution/#plfa_plfa-part2-Substitution-22584" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22644" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22646" href="../Substitution/#plfa_plfa-part2-Substitution-22557" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-22648" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22663" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22664" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-22666" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22668" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-22670" href="../Substitution/#plfa_plfa-part2-Substitution-22670" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22671" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22673" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22675" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-22680" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-22695" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22696" href="../Substitution/#plfa_plfa-part2-Substitution-22696" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-22697" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22699" href="../Substitution/#plfa_plfa-part2-Substitution-22699" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22700" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22702" href="../Substitution/#plfa_plfa-part2-Substitution-22702" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22703" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22705" href="../Substitution/#plfa_plfa-part2-Substitution-22705" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22706" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22708" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-22710" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22711" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22713" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22714" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22716" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22718" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22720" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22722" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-22727" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-22730" href="../Substitution/#plfa_plfa-part2-Substitution-22742" class="Function">G</a>
  <a id="plfa_plfa-part2-Substitution-22734" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22742" href="../Substitution/#plfa_plfa-part2-Substitution-22742" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-22744" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22746" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22753" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22754" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22758" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22759" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22761" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22762" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22769" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22770" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22774" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22776" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22778" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22779" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22781" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22783" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22790" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22791" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22795" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22796" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-22798" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22800" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22802" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22805" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a>
  <a id="plfa_plfa-part2-Substitution-22809" href="../Substitution/#plfa_plfa-part2-Substitution-22742" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-22811" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-22819" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-22833" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22840" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22841" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22845" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22846" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22848" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22849" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22856" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22857" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22861" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22863" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22865" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-22866" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-22874" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22877" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a><a id="plfa_plfa-part2-Substitution-22891" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22892" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-22894" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22896" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22900" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22901" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22903" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-22906" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22908" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22912" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22914" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22916" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-22926" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22933" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22935" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22939" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-22940" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22942" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-22944" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22945" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-22949" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-22951" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-22954" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-22962" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22965" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-22977" href="../Substitution/#plfa_plfa-part2-Substitution-21867" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-22989" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-22999" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23006" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23007" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23011" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23012" href="../Substitution/#plfa_plfa-part2-Substitution-22713" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23014" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-23016" href="../Substitution/#plfa_plfa-part2-Substitution-22716" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-23018" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-23021" href="../Substitution/#plfa_plfa-part2-Substitution-22710" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-23029" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-23031" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-23046" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23047" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23049" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23051" href="../Substitution/#plfa_plfa-part2-Substitution-23051" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-23053" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-23055" href="../Substitution/#plfa_plfa-part2-Substitution-23055" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23056" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23058" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23060" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-23066" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-23070" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-23085" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a>
</pre><p>下一条引理阐述了若重命名和代换对变量可交换，则它们对项也可交换。 我们在后面详细解释证明过程：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-commute-subst-rename"></a><a id="plfa_plfa-part2-Substitution-23323" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-23344" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23346" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-23348" href="../Substitution/#plfa_plfa-part2-Substitution-23348" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23350" href="../Substitution/#plfa_plfa-part2-Substitution-23350" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23351" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23353" href="../Substitution/#plfa_plfa-part2-Substitution-23353" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-23355" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23357" href="../Substitution/#plfa_plfa-part2-Substitution-23348" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23359" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-23361" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23362" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23364" href="../Substitution/#plfa_plfa-part2-Substitution-23364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23366" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23368" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-23374" href="../Substitution/#plfa_plfa-part2-Substitution-23348" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23376" href="../Substitution/#plfa_plfa-part2-Substitution-23350" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23377" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Substitution-23403" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23404" href="../Substitution/#plfa_plfa-part2-Substitution-23404" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23406" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23408" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-23410" href="../Substitution/#plfa_plfa-part2-Substitution-23410" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23411" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23413" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23415" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-23422" href="../Substitution/#plfa_plfa-part2-Substitution-23410" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23424" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23425" href="../Substitution/#plfa_plfa-part2-Substitution-23410" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23427" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23429" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23430" class="Symbol">)}</a>
     <a id="plfa_plfa-part2-Substitution-23438" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23440" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-23443" href="../Substitution/#plfa_plfa-part2-Substitution-23443" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-23445" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23447" href="../Substitution/#plfa_plfa-part2-Substitution-23348" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23449" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-23451" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23452" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23454" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23456" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23461" href="../Substitution/#plfa_plfa-part2-Substitution-23364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23463" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23464" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-23466" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23468" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23469" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23471" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23472" href="../Substitution/#plfa_plfa-part2-Substitution-23404" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23474" href="../Substitution/#plfa_plfa-part2-Substitution-23443" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23475" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23477" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23479" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23486" href="../Substitution/#plfa_plfa-part2-Substitution-23404" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23488" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23489" href="../Substitution/#plfa_plfa-part2-Substitution-23364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23491" href="../Substitution/#plfa_plfa-part2-Substitution-23443" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23492" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-23500" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23502" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-23508" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23509" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23514" href="../Substitution/#plfa_plfa-part2-Substitution-23364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23516" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23517" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-23519" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23521" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23522" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-23525" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23526" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23533" href="../Substitution/#plfa_plfa-part2-Substitution-23404" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23535" href="../Substitution/#plfa_plfa-part2-Substitution-23353" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23536" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23538" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23540" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23547" href="../Substitution/#plfa_plfa-part2-Substitution-23404" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23549" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23550" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-23556" href="../Substitution/#plfa_plfa-part2-Substitution-23364" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23558" href="../Substitution/#plfa_plfa-part2-Substitution-23353" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23559" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-23561" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-23582" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23583" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23585" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23587" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-23589" href="../Substitution/#plfa_plfa-part2-Substitution-23589" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23590" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23592" href="../Substitution/#plfa_plfa-part2-Substitution-23592" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-23594" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23596" href="../Substitution/#plfa_plfa-part2-Substitution-23592" class="Bound">r</a>
<a id="plfa_plfa-part2-Substitution-23598" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-23618" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23619" href="../Substitution/#plfa_plfa-part2-Substitution-23619" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23620" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23622" href="../Substitution/#plfa_plfa-part2-Substitution-23622" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23623" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23625" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23627" href="../Substitution/#plfa_plfa-part2-Substitution-23627" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23628" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23630" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23631" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23633" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-23634" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23636" href="../Substitution/#plfa_plfa-part2-Substitution-23636" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-23638" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-23643" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23648" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23651" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23652" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-23672" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23673" href="../Substitution/#plfa_plfa-part2-Substitution-23619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23675" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23677" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23678" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23680" href="../Substitution/#plfa_plfa-part2-Substitution-23622" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23682" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23684" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23685" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23687" href="../Substitution/#plfa_plfa-part2-Substitution-23627" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23688" class="Symbol">}</a>
               <a id="plfa_plfa-part2-Substitution-23705" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23706" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23711" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23712" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23714" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-23716" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23718" href="../Substitution/#plfa_plfa-part2-Substitution-23751" class="Function">ρ′</a><a id="plfa_plfa-part2-Substitution-23720" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23722" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-23725" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23726" href="../Substitution/#plfa_plfa-part2-Substitution-23726" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23727" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23729" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23731" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-23733" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23734" href="../Substitution/#plfa_plfa-part2-Substitution-23726" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23735" class="Symbol">}))</a>
   <a id="plfa_plfa-part2-Substitution-23742" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-23751" href="../Substitution/#plfa_plfa-part2-Substitution-23751" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-23754" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23756" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-23758" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23759" href="../Substitution/#plfa_plfa-part2-Substitution-23759" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23760" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23762" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23764" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-23771" href="../Substitution/#plfa_plfa-part2-Substitution-23759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23773" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23774" href="../Substitution/#plfa_plfa-part2-Substitution-23759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23776" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23778" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23779" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-23784" href="../Substitution/#plfa_plfa-part2-Substitution-23751" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-23787" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23788" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-23789" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23791" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23793" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-23795" class="Symbol">()</a>
   <a id="plfa_plfa-part2-Substitution-23801" href="../Substitution/#plfa_plfa-part2-Substitution-23751" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-23804" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23805" href="../Substitution/#plfa_plfa-part2-Substitution-23805" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23807" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23809" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23810" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23812" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23814" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23818" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a>

   <a id="plfa_plfa-part2-Substitution-23824" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-23826" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23828" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23829" href="../Substitution/#plfa_plfa-part2-Substitution-23829" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-23831" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23833" href="../Substitution/#plfa_plfa-part2-Substitution-23619" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23835" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-23837" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-23839" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-23841" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23842" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23844" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23846" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23851" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23852" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23857" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23858" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23860" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23861" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23865" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23867" href="../Substitution/#plfa_plfa-part2-Substitution-23829" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23868" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23870" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23872" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23879" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23880" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23884" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-23885" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23887" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23888" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23893" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23895" href="../Substitution/#plfa_plfa-part2-Substitution-23829" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-23896" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-23901" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-23903" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23904" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-23905" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23907" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23909" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-23917" href="../Substitution/#plfa_plfa-part2-Substitution-23824" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-23919" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23920" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-23922" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-23923" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23925" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-23932" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-23945" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23950" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23951" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23956" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-23957" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23959" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23960" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-23964" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23966" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23967" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-23969" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-23970" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-23978" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-23989" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23996" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-23999" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24000" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-24005" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24007" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24008" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24010" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24011" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24019" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24022" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-24027" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24028" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24035" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-24037" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24039" href="../Substitution/#plfa_plfa-part2-Substitution-23636" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-24041" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24050" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24057" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24060" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24061" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24068" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24070" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24071" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24073" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24074" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24082" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24085" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-24100" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24109" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24116" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24117" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24120" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24122" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24123" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24125" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24126" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24128" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24129" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-24136" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24139" href="../Substitution/#plfa_plfa-part2-Substitution-12822" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-24151" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-24156" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24165" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24172" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24174" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24178" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24179" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24181" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24183" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-24185" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24187" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24188" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24190" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24191" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-24198" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24201" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-24205" href="../Substitution/#plfa_plfa-part2-Substitution-22528" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-24220" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-24229" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24236" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24237" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24241" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24242" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24244" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24245" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24252" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-24255" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24256" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24258" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24259" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24267" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-24278" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24285" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24286" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-24290" href="../Substitution/#plfa_plfa-part2-Substitution-23633" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24291" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24293" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24294" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-24299" href="../Substitution/#plfa_plfa-part2-Substitution-23630" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24301" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24302" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-24304" href="../Substitution/#plfa_plfa-part2-Substitution-23922" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-24305" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-24313" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-24315" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-24336" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24337" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24339" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24341" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-24343" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-24345" href="../Substitution/#plfa_plfa-part2-Substitution-24345" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24346" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24348" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-24350" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24352" href="../Substitution/#plfa_plfa-part2-Substitution-24352" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24353" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24355" href="../Substitution/#plfa_plfa-part2-Substitution-24355" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-24357" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-24362" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-24368" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-24372" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24373" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-24393" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24394" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24396" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24398" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-24399" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24401" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-24403" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24405" href="../Substitution/#plfa_plfa-part2-Substitution-24352" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24406" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24408" href="../Substitution/#plfa_plfa-part2-Substitution-24355" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-24409" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Substitution-24424" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24425" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-24445" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24446" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24448" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24450" href="../Substitution/#plfa_plfa-part2-Substitution-24345" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24451" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24453" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-24455" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24457" href="../Substitution/#plfa_plfa-part2-Substitution-24352" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24458" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24460" href="../Substitution/#plfa_plfa-part2-Substitution-24355" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-24461" class="Symbol">)</a>
</pre><p>证明通过对项 <code>M</code> 进行归纳得出：</p><ul><li><p>若 <code>M</code> 为变量，则我们用前提可得结论。</p></li><li><p>若 <code>M ≡ ƛ N</code>，我们对 <code>N</code> 应用归纳假设可出结论。然而，要使用归纳假设，我们必须证明</p><pre><code>  exts (exts σ) (ext ρ x) ≡ rename (ext ρ) (exts σ x)</code></pre><p>此方程可通过对 <code>x</code> 进行情况分析证明：</p><ul><li><p>若 <code>x = Z</code>，则两边按照定义相等。</p></li><li><p>若 <code>x = S y</code>，我们通过以下等式推理即可证得目标</p><pre><code>  exts (exts σ) (ext ρ (S y))
≡ rename S_ (exts σ (ρ y))
≡ rename S_ (rename S_ (σ (ρ y)      (by the premise)
≡ rename (ext ρ) (exts σ (S y))      (by compose-rename)
≡ rename ((ext ρ) ∘ S_) (σ y)
≡ rename (ext ρ) (rename S_ (σ y))   (by compose-rename)
≡ rename (ext ρ) (exts σ (S y))</code></pre></li></ul></li></ul><ul><li>若 <code>M</code> 为应用，我们对每个子项使用归纳假设即可证得目标。</li></ul><p>证明 <code>sub-sub</code> 所需的最后一个引理指出 <code>exts</code> 函数按对序列满足分配率。 它是 <code>commute-subst-rename</code> 的一个推论，如下所述。 （如果直接通过 σ-代数中的等式推理来证明这一点会更好，但这需要 <code>sub-assoc</code> 方程，其证明依赖于 <code>sub-sub</code>，而 <code>sub-sub</code> 又依赖于于此引理。）</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-seq"></a><a id="plfa_plfa-part2-Substitution-26272" href="../Substitution/#plfa_plfa-part2-Substitution-26272" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-26281" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26283" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26285" href="../Substitution/#plfa_plfa-part2-Substitution-26285" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26287" href="../Substitution/#plfa_plfa-part2-Substitution-26287" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26289" href="../Substitution/#plfa_plfa-part2-Substitution-26289" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26291" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26293" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26294" href="../Substitution/#plfa_plfa-part2-Substitution-26294" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26297" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26299" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26305" href="../Substitution/#plfa_plfa-part2-Substitution-26285" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26307" href="../Substitution/#plfa_plfa-part2-Substitution-26287" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26308" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26310" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26311" href="../Substitution/#plfa_plfa-part2-Substitution-26311" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26314" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26316" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26322" href="../Substitution/#plfa_plfa-part2-Substitution-26287" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26324" href="../Substitution/#plfa_plfa-part2-Substitution-26289" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26326" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-26337" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26339" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-26341" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26342" href="../Substitution/#plfa_plfa-part2-Substitution-26342" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26343" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26345" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26347" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26348" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26353" href="../Substitution/#plfa_plfa-part2-Substitution-26294" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26356" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26358" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26363" href="../Substitution/#plfa_plfa-part2-Substitution-26311" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26365" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26367" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26368" href="../Substitution/#plfa_plfa-part2-Substitution-26342" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26369" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26371" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26373" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26378" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26379" href="../Substitution/#plfa_plfa-part2-Substitution-26294" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26382" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26384" href="../Substitution/#plfa_plfa-part2-Substitution-26311" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26386" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-26388" href="../Substitution/#plfa_plfa-part2-Substitution-26272" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-26397" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26399" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-26414" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-26416" href="../Substitution/#plfa_plfa-part2-Substitution-26416" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26418" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26420" href="../Substitution/#plfa_plfa-part2-Substitution-26444" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26426" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26427" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26429" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26431" href="../Substitution/#plfa_plfa-part2-Substitution-26416" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26432" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-26436" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-26444" href="../Substitution/#plfa_plfa-part2-Substitution-26444" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26450" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26452" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26454" href="../Substitution/#plfa_plfa-part2-Substitution-26454" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26456" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26458" href="../Substitution/#plfa_plfa-part2-Substitution-26458" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26460" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26462" href="../Substitution/#plfa_plfa-part2-Substitution-26462" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26463" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26465" href="../Substitution/#plfa_plfa-part2-Substitution-26465" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26467" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26469" href="../Substitution/#plfa_plfa-part2-Substitution-26454" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26471" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-26473" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-26475" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-26477" href="../Substitution/#plfa_plfa-part2-Substitution-26462" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-26478" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26480" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26481" href="../Substitution/#plfa_plfa-part2-Substitution-26481" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26484" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26486" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26492" href="../Substitution/#plfa_plfa-part2-Substitution-26454" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26494" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26495" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26497" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26500" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26502" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26508" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26510" href="../Substitution/#plfa_plfa-part2-Substitution-26458" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-26512" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Substitution-26519" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26521" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26522" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26527" href="../Substitution/#plfa_plfa-part2-Substitution-26481" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26530" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26532" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26537" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26539" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26541" href="../Substitution/#plfa_plfa-part2-Substitution-26465" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-26543" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26545" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26550" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26551" href="../Substitution/#plfa_plfa-part2-Substitution-26481" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26554" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26556" href="../Substitution/#plfa_plfa-part2-Substitution-26497" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26558" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26560" href="../Substitution/#plfa_plfa-part2-Substitution-26465" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-26564" href="../Substitution/#plfa_plfa-part2-Substitution-26444" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26570" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26571" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26573" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26575" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-26576" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26578" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26580" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-26587" href="../Substitution/#plfa_plfa-part2-Substitution-26444" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-26593" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26594" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-26596" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26598" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26599" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26601" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-26603" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26605" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-26607" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26608" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26610" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-26612" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26614" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26616" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26618" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-26625" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-26638" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26639" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26644" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26647" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26649" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26654" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26656" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26658" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26659" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-26661" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26662" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26669" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26680" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26682" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26687" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26690" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26692" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26693" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26700" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26703" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26704" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26707" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26708" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-26716" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26719" href="../Substitution/#plfa_plfa-part2-Substitution-23323" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-26739" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26740" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26742" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26744" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26747" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26748" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26750" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-26752" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26754" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26756" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26758" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-26760" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26762" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-26764" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26766" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26771" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26780" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26787" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26790" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26791" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26793" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-26796" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26798" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26799" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26802" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26803" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-26811" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26822" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-26829" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-26832" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26834" href="../Substitution/#plfa_plfa-part2-Substitution-26610" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-26837" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26839" href="../Substitution/#plfa_plfa-part2-Substitution-26614" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-26841" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26843" href="../Substitution/#plfa_plfa-part2-Substitution-26607" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-26844" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26851" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>通过对 <code>x</code> 进行情况分析来证明：</p><ul><li><p>若 <code>x = Z</code>，则根据 <code>exts</code> 和序列的定义两边相等。</p></li><li><p>若 <code>x = S x</code>，我们展开第一个 <code>exts</code> 和序列，之后应用引理 <code>commute-subst-rename</code>。 根据序列的定义可得出结论。</p></li></ul><p>现在我们来证明 <code>sub-sub</code>，它的解释如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-sub"></a><a id="plfa_plfa-part2-Substitution-27393" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27401" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27403" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-27405" href="../Substitution/#plfa_plfa-part2-Substitution-27405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27407" href="../Substitution/#plfa_plfa-part2-Substitution-27407" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-27409" href="../Substitution/#plfa_plfa-part2-Substitution-27409" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27410" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27412" href="../Substitution/#plfa_plfa-part2-Substitution-27412" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27413" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27415" href="../Substitution/#plfa_plfa-part2-Substitution-27415" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27417" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27419" href="../Substitution/#plfa_plfa-part2-Substitution-27405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27421" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-27423" href="../Substitution/#plfa_plfa-part2-Substitution-27412" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27424" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27426" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27427" href="../Substitution/#plfa_plfa-part2-Substitution-27427" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27430" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27432" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-27438" href="../Substitution/#plfa_plfa-part2-Substitution-27405" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27440" href="../Substitution/#plfa_plfa-part2-Substitution-27407" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-27441" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27443" href="../Substitution/#plfa_plfa-part2-Substitution-27443" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27446" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27448" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-27454" href="../Substitution/#plfa_plfa-part2-Substitution-27407" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-27456" href="../Substitution/#plfa_plfa-part2-Substitution-27409" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27457" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-27471" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-27473" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27475" href="../Substitution/#plfa_plfa-part2-Substitution-27443" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27478" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27480" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27481" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27483" href="../Substitution/#plfa_plfa-part2-Substitution-27427" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27486" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27488" href="../Substitution/#plfa_plfa-part2-Substitution-27415" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27489" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27491" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-27493" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27495" href="../Substitution/#plfa_plfa-part2-Substitution-27427" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27498" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27500" href="../Substitution/#plfa_plfa-part2-Substitution-27443" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27503" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27505" href="../Substitution/#plfa_plfa-part2-Substitution-27415" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-27507" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27515" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27516" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27518" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27520" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-27522" href="../Substitution/#plfa_plfa-part2-Substitution-27522" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-27523" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27525" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-27532" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27540" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27541" href="../Substitution/#plfa_plfa-part2-Substitution-27541" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-27542" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27544" href="../Substitution/#plfa_plfa-part2-Substitution-27544" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-27545" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27547" href="../Substitution/#plfa_plfa-part2-Substitution-27547" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-27548" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27550" href="../Substitution/#plfa_plfa-part2-Substitution-27550" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27551" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27553" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27555" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27556" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27558" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-27560" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27562" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27564" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27566" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-27571" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-27582" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27584" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27587" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27589" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27590" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27592" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27595" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27597" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27598" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27600" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27601" class="Symbol">))</a>
   <a id="plfa_plfa-part2-Substitution-27607" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-27616" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27618" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27620" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27625" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27628" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27630" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27631" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27633" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27638" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27641" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27643" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27644" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-27649" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27652" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27657" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-27660" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27661" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27668" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27669" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27671" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27673" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27674" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27676" class="Argument">σ₁</a> <a id="plfa_plfa-part2-Substitution-27679" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27681" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27686" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-27688" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27690" class="Argument">σ₂</a> <a id="plfa_plfa-part2-Substitution-27693" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27695" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27700" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27702" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27705" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-27712" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27714" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27716" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27721" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27724" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27726" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27731" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-27734" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27736" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-27741" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27744" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27749" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-27752" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27753" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27761" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27762" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27764" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27766" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27767" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27769" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-27772" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27773" href="../Substitution/#plfa_plfa-part2-Substitution-27773" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-27774" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27776" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-27778" href="../Substitution/#plfa_plfa-part2-Substitution-26272" class="Function">exts-seq</a><a id="plfa_plfa-part2-Substitution-27786" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27788" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-27792" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27794" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-27801" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-27803" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27805" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-27810" class="Symbol">(</a> <a id="plfa_plfa-part2-Substitution-27812" href="../Substitution/#plfa_plfa-part2-Substitution-27558" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-27815" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27817" href="../Substitution/#plfa_plfa-part2-Substitution-27562" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-27819" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27821" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27823" href="../Substitution/#plfa_plfa-part2-Substitution-27555" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-27828" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-27830" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-27838" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27839" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27841" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27843" href="../Substitution/#plfa_plfa-part2-Substitution-27843" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-27845" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-27847" href="../Substitution/#plfa_plfa-part2-Substitution-27847" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27848" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27850" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27852" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-27858" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-27862" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27863" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27870" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27871" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27873" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27875" href="../Substitution/#plfa_plfa-part2-Substitution-27843" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-27876" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27879" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27880" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27887" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27888" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27890" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27892" href="../Substitution/#plfa_plfa-part2-Substitution-27847" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-27893" class="Symbol">})</a>
</pre><p>我们通过对项 <code>M</code> 进行归纳来证明：</p><ul><li><p>若 <code>M = x</code>，则两边都等于 <code>σ₂ (σ₁ x)</code>。</p></li><li><p>若 <code>M = ƛ N</code>，哦我们首先用归纳假设证明</p><pre><code>  ƛ ⟪ exts σ₂ ⟫ (⟪ exts σ₁ ⟫ N) ≡ ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N</code></pre><p>之后用引理 <code>exts-seq</code> 证明</p><pre><code>  ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N ≡ ƛ ⟪ exts ( σ₁ ⨟ σ₂) ⟫ N</code></pre></li><li><p>若 <code>M</code> 是一个应用，我们对两个子项应用归纳假设即可得证。</p></li></ul><p>以下 <code>sub-sub</code> 的推论特化了重命名的第一个代换：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst"></a><a id="plfa_plfa-part2-Substitution-28736" href="../Substitution/#plfa_plfa-part2-Substitution-28736" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-28749" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28751" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-28753" href="../Substitution/#plfa_plfa-part2-Substitution-28753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28755" href="../Substitution/#plfa_plfa-part2-Substitution-28755" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-28757" href="../Substitution/#plfa_plfa-part2-Substitution-28757" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28759" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28761" href="../Substitution/#plfa_plfa-part2-Substitution-28761" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28763" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28765" href="../Substitution/#plfa_plfa-part2-Substitution-28753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28767" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28769" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28770" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28772" href="../Substitution/#plfa_plfa-part2-Substitution-28772" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28774" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28776" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-28783" href="../Substitution/#plfa_plfa-part2-Substitution-28753" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28785" href="../Substitution/#plfa_plfa-part2-Substitution-28755" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28786" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28788" href="../Substitution/#plfa_plfa-part2-Substitution-28788" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28790" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28792" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-28798" href="../Substitution/#plfa_plfa-part2-Substitution-28755" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-28800" href="../Substitution/#plfa_plfa-part2-Substitution-28757" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28802" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-28817" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28819" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28821" href="../Substitution/#plfa_plfa-part2-Substitution-28788" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28823" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28825" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28826" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28833" href="../Substitution/#plfa_plfa-part2-Substitution-28772" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28835" href="../Substitution/#plfa_plfa-part2-Substitution-28761" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28836" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28838" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-28840" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28842" href="../Substitution/#plfa_plfa-part2-Substitution-28788" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28844" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-28846" href="../Substitution/#plfa_plfa-part2-Substitution-28772" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28848" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28850" href="../Substitution/#plfa_plfa-part2-Substitution-28761" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-28852" href="../Substitution/#plfa_plfa-part2-Substitution-28736" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-28865" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28866" href="../Substitution/#plfa_plfa-part2-Substitution-28866" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28867" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28869" href="../Substitution/#plfa_plfa-part2-Substitution-28869" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28870" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28872" href="../Substitution/#plfa_plfa-part2-Substitution-28872" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-28874" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28876" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28877" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28879" href="../Substitution/#plfa_plfa-part2-Substitution-28879" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28880" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28882" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-28883" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28885" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-28890" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-28901" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28903" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28905" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28907" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28908" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28915" href="../Substitution/#plfa_plfa-part2-Substitution-28879" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28917" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28918" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-28923" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28926" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-28931" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28933" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28935" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28937" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28938" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28954" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28955" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28957" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28959" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28960" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-28963" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-28970" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28972" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-28974" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28976" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28977" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28979" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28983" href="../Substitution/#plfa_plfa-part2-Substitution-28879" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28985" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28987" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28988" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-28993" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28996" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-29003" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29004" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29006" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29008" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-29009" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29011" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-29018" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29020" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-29024" href="../Substitution/#plfa_plfa-part2-Substitution-28879" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-29026" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29028" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29030" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29032" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-29037" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-29046" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29048" href="../Substitution/#plfa_plfa-part2-Substitution-28882" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29050" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-29052" href="../Substitution/#plfa_plfa-part2-Substitution-28879" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-29054" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29056" href="../Substitution/#plfa_plfa-part2-Substitution-28876" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-29061" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="sub-assoc-的证明">sub-assoc 的证明</h2><p><code>sub-assoc</code> 的证明可直接从 <code>sub-sub</code> 以及序列的定义得出：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-assoc"></a><a id="plfa_plfa-part2-Substitution-29270" href="../Substitution/#plfa_plfa-part2-Substitution-29270" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-29280" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29282" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-29284" href="../Substitution/#plfa_plfa-part2-Substitution-29284" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29286" href="../Substitution/#plfa_plfa-part2-Substitution-29286" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-29288" href="../Substitution/#plfa_plfa-part2-Substitution-29288" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-29290" href="../Substitution/#plfa_plfa-part2-Substitution-29290" class="Bound">Ψ</a> <a id="plfa_plfa-part2-Substitution-29292" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29294" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-29301" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29303" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29304" href="../Substitution/#plfa_plfa-part2-Substitution-29304" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29306" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29308" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29314" href="../Substitution/#plfa_plfa-part2-Substitution-29284" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29316" href="../Substitution/#plfa_plfa-part2-Substitution-29286" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-29317" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29319" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29320" href="../Substitution/#plfa_plfa-part2-Substitution-29320" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29322" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29324" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29330" href="../Substitution/#plfa_plfa-part2-Substitution-29286" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-29332" href="../Substitution/#plfa_plfa-part2-Substitution-29288" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-29333" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-29348" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29349" href="../Substitution/#plfa_plfa-part2-Substitution-29349" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29351" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29353" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-29359" href="../Substitution/#plfa_plfa-part2-Substitution-29288" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-29361" href="../Substitution/#plfa_plfa-part2-Substitution-29290" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-29362" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-29374" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29376" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-29378" href="../Substitution/#plfa_plfa-part2-Substitution-29378" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29379" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29381" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29383" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29384" href="../Substitution/#plfa_plfa-part2-Substitution-29304" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29386" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29388" href="../Substitution/#plfa_plfa-part2-Substitution-29320" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29389" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29391" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29393" href="../Substitution/#plfa_plfa-part2-Substitution-29349" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29395" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-29397" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29398" href="../Substitution/#plfa_plfa-part2-Substitution-29304" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29400" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29402" href="../Substitution/#plfa_plfa-part2-Substitution-29320" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29404" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29406" href="../Substitution/#plfa_plfa-part2-Substitution-29349" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29407" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29409" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29410" href="../Substitution/#plfa_plfa-part2-Substitution-29378" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29411" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-29413" href="../Substitution/#plfa_plfa-part2-Substitution-29270" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-29423" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29424" href="../Substitution/#plfa_plfa-part2-Substitution-29424" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-29425" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29427" href="../Substitution/#plfa_plfa-part2-Substitution-29427" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-29428" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29430" href="../Substitution/#plfa_plfa-part2-Substitution-29430" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-29431" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29433" href="../Substitution/#plfa_plfa-part2-Substitution-29433" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-29434" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29436" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-29437" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29439" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29440" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29442" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29443" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29445" href="../Substitution/#plfa_plfa-part2-Substitution-29445" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29446" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29448" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29450" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-29465" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-29467" href="../Substitution/#plfa_plfa-part2-Substitution-29467" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29469" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29471" href="../Substitution/#plfa_plfa-part2-Substitution-29494" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-29476" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29477" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-29479" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29481" href="../Substitution/#plfa_plfa-part2-Substitution-29467" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29482" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-29486" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-29494" href="../Substitution/#plfa_plfa-part2-Substitution-29494" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-29500" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29502" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-29504" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29505" href="../Substitution/#plfa_plfa-part2-Substitution-29505" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29507" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-29509" href="../Substitution/#plfa_plfa-part2-Substitution-29424" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-29511" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-29513" href="../Substitution/#plfa_plfa-part2-Substitution-29445" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-29514" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29516" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-29518" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-29520" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29522" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29524" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29525" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29527" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29529" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29530" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29532" href="../Substitution/#plfa_plfa-part2-Substitution-29505" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-29534" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-29536" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29537" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29539" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29541" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29543" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29545" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29546" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29548" href="../Substitution/#plfa_plfa-part2-Substitution-29505" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-29552" href="../Substitution/#plfa_plfa-part2-Substitution-29494" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-29558" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29559" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29560" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29562" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-29570" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-29584" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-29586" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29588" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29590" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-29591" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29593" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29595" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29596" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29598" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-29606" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-29618" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29620" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29622" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29624" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29625" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29627" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29629" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29631" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29632" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29634" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29635" class="Symbol">))</a>
      <a id="plfa_plfa-part2-Substitution-29644" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-29647" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-29654" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29655" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29657" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29659" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29661" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29662" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29664" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-29674" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-29676" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29678" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29680" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-29682" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-29684" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29685" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29687" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-29688" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-29696" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-29708" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29709" href="../Substitution/#plfa_plfa-part2-Substitution-29436" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-29711" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29713" href="../Substitution/#plfa_plfa-part2-Substitution-29439" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-29715" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-29717" href="../Substitution/#plfa_plfa-part2-Substitution-29442" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-29718" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29720" href="../Substitution/#plfa_plfa-part2-Substitution-29559" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-29728" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="subst-zero-exts-cons-的证明">subst-zero-exts-cons 的证明</h2><p>我们证明 <code>subst-zero-exts-cons</code> 需要的最后一个方程是 <code>sub-assoc</code>， 现在我们可以继续证明它。只需对 <code>exts</code> 和 <code>subst-zero</code> 应用方程，然后应用 σ-代数方程即可得到正规形式 <code>M • σ</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-zero-exts-cons"></a><a id="plfa_plfa-part2-Substitution-30201" href="../Substitution/#plfa_plfa-part2-Substitution-30201" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-30222" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30224" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-30226" href="../Substitution/#plfa_plfa-part2-Substitution-30226" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-30228" href="../Substitution/#plfa_plfa-part2-Substitution-30228" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30229" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30231" href="../Substitution/#plfa_plfa-part2-Substitution-30231" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30233" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30235" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-30241" href="../Substitution/#plfa_plfa-part2-Substitution-30226" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-30243" href="../Substitution/#plfa_plfa-part2-Substitution-30228" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30244" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30246" href="../Substitution/#plfa_plfa-part2-Substitution-30246" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30247" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30249" href="../Substitution/#plfa_plfa-part2-Substitution-30249" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30251" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-30253" href="../Substitution/#plfa_plfa-part2-Substitution-30228" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-30255" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-30257" href="../Substitution/#plfa_plfa-part2-Substitution-30246" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30258" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30260" href="../Substitution/#plfa_plfa-part2-Substitution-30260" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30261" class="Symbol">}</a>
                     <a id="plfa_plfa-part2-Substitution-30284" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-30286" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-30291" href="../Substitution/#plfa_plfa-part2-Substitution-30231" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30293" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30295" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-30306" href="../Substitution/#plfa_plfa-part2-Substitution-30249" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30308" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-30310" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30311" href="../Substitution/#plfa_plfa-part2-Substitution-30249" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30313" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30315" href="../Substitution/#plfa_plfa-part2-Substitution-30231" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30316" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30318" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30319" href="../Substitution/#plfa_plfa-part2-Substitution-30260" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30320" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-30322" href="../Substitution/#plfa_plfa-part2-Substitution-30201" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-30343" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30344" href="../Substitution/#plfa_plfa-part2-Substitution-30344" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-30345" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30347" href="../Substitution/#plfa_plfa-part2-Substitution-30347" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-30348" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30350" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30351" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30353" href="../Substitution/#plfa_plfa-part2-Substitution-30353" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-30354" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30356" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-30357" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30359" href="../Substitution/#plfa_plfa-part2-Substitution-30359" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-30360" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-30362" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Substitution-30368" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-30380" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-30385" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30387" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30389" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-30400" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a>
    <a id="plfa_plfa-part2-Substitution-30406" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30409" href="../Substitution/#plfa_plfa-part2-Substitution-14678" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-30418" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-30434" href="../Substitution/#plfa_plfa-part2-Substitution-18865" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-30451" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30459" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30460" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-30462" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-30464" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30466" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30467" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30469" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30471" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30472" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-30475" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30477" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30478" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30480" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30482" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30485" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-30491" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30494" href="../Substitution/#plfa_plfa-part2-Substitution-11556" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-30503" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30511" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30512" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-30514" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30516" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30518" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-30522" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-30524" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30525" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-30527" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-30528" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-30531" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30533" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-30535" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30537" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30539" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30540" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30542" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30544" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30545" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30547" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30549" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30552" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-30559" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30562" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30572" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30573" href="../Substitution/#plfa_plfa-part2-Substitution-10721" class="Function">sub-head</a><a id="plfa_plfa-part2-Substitution-30581" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30582" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30584" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30586" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30589" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30592" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30597" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30605" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30607" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30609" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-30611" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30613" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30615" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-30616" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-30618" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30620" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30621" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30623" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30625" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30628" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-30635" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30638" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30648" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30653" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30654" href="../Substitution/#plfa_plfa-part2-Substitution-29270" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-30663" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30664" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30666" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30668" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30669" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30672" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30680" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30682" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30684" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30685" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30687" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30689" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30690" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-30692" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30694" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30695" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30697" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30699" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30702" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Substitution-30710" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30713" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30723" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30728" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30729" href="../Substitution/#plfa_plfa-part2-Substitution-14678" class="Function">cong-seq</a><a id="plfa_plfa-part2-Substitution-30737" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30738" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30740" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30742" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30743" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-30745" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30750" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30751" href="../Substitution/#plfa_plfa-part2-Substitution-10831" class="Function">sub-tail</a><a id="plfa_plfa-part2-Substitution-30759" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30760" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-30762" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30764" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-30765" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-30767" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30769" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30771" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30774" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-30778" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30786" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30788" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30790" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30791" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-30793" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-30795" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-30798" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-30804" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-30807" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-30817" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-30822" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-30823" href="../Substitution/#plfa_plfa-part2-Substitution-21089" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-30830" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-30831" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-30833" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-30835" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-30836" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-30839" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-30847" href="../Substitution/#plfa_plfa-part2-Substitution-30356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-30849" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-30851" href="../Substitution/#plfa_plfa-part2-Substitution-30350" class="Bound">σ</a>
    <a id="plfa_plfa-part2-Substitution-30857" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="代换引理的证明">代换引理的证明</h2><p>我们首先证明代换引理的推广形式，证明代换 <code>σ</code> 对在 <code>N</code> 中代换 <code>M</code> 满足交换律。</p><pre><code>⟪ exts σ ⟫ N [ ⟪ σ ⟫ M ] ≡ ⟪ σ ⟫ (N [ M ])</code></pre><p>这个证明是 σ-代数得到回报的地方。证明可通过直接得等式推理进项。 从方程左边开始，我们应用 σ-代数方程，从左到右，直到得到正规形式</p><pre><code>⟪ ⟪ σ ⟫ M • σ ⟫ N</code></pre><p>之后我们对方程右边做同样的事情，直到得到同样的正规形式。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-commute"></a><a id="plfa_plfa-part2-Substitution-31614" href="../Substitution/#plfa_plfa-part2-Substitution-31614" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-31628" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31630" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-31632" href="../Substitution/#plfa_plfa-part2-Substitution-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31634" href="../Substitution/#plfa_plfa-part2-Substitution-31634" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-31635" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31637" href="../Substitution/#plfa_plfa-part2-Substitution-31637" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31639" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31641" href="../Substitution/#plfa_plfa-part2-Substitution-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31643" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-31645" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-31647" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-31649" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-31650" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31652" href="../Substitution/#plfa_plfa-part2-Substitution-31652" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31654" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31656" href="../Substitution/#plfa_plfa-part2-Substitution-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31658" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-31660" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-31661" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31663" href="../Substitution/#plfa_plfa-part2-Substitution-31663" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31665" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-31667" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-31673" href="../Substitution/#plfa_plfa-part2-Substitution-31632" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-31675" href="../Substitution/#plfa_plfa-part2-Substitution-31634" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-31677" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-31683" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-31685" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31687" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31692" href="../Substitution/#plfa_plfa-part2-Substitution-31663" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31694" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31696" href="../Substitution/#plfa_plfa-part2-Substitution-31637" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31698" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31700" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31702" href="../Substitution/#plfa_plfa-part2-Substitution-31663" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31704" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31706" href="../Substitution/#plfa_plfa-part2-Substitution-31652" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31708" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-31710" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-31712" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31714" href="../Substitution/#plfa_plfa-part2-Substitution-31663" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31716" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31718" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31719" href="../Substitution/#plfa_plfa-part2-Substitution-31637" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31721" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31723" href="../Substitution/#plfa_plfa-part2-Substitution-31652" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31725" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-31726" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-31728" href="../Substitution/#plfa_plfa-part2-Substitution-31614" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-31742" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31743" href="../Substitution/#plfa_plfa-part2-Substitution-31743" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-31744" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31746" href="../Substitution/#plfa_plfa-part2-Substitution-31746" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-31747" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31749" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31750" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31752" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-31753" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-31755" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-31756" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31758" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-31765" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-31778" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31780" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31785" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31787" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31789" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-31791" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-31793" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31795" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31797" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31799" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31801" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-31808" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-31819" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31821" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-31832" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31833" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31835" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31837" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31839" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-31840" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-31842" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31844" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31845" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31847" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31852" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31854" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31856" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31857" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-31864" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-31867" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-31876" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31877" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-31879" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-31881" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31883" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31888" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31890" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31892" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31893" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31895" href="../Substitution/#plfa_plfa-part2-Substitution-18865" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-31912" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-31917" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-31926" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31928" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31930" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31932" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31934" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-31936" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-31938" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-31942" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31944" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31945" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31947" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-31952" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-31954" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-31956" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31957" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-31964" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-31967" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-31975" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-31976" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-31978" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-31980" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-31981" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-31983" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-31992" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-31994" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-31995" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-32000" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32001" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32003" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32005" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-32007" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32009" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32011" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32013" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-32014" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32016" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32018" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32021" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32023" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32025" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32032" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32035" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-32044" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32045" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32047" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32049" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32050" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32052" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32053" href="../Substitution/#plfa_plfa-part2-Substitution-14678" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-32062" href="../Substitution/#plfa_plfa-part2-Substitution-17979" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-32078" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-32082" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32084" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32089" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32098" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32100" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32101" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32103" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-32105" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32107" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32108" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32110" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32112" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32113" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32116" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32118" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32119" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32121" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32123" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32125" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32127" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32129" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32132" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32134" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32136" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32143" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32146" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-32155" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32156" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32158" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32160" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32161" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32163" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32164" href="../Substitution/#plfa_plfa-part2-Substitution-11556" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-32173" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32174" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32176" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32178" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32180" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-32181" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-32184" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32189" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32198" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32200" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32202" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32204" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32206" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32208" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32210" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32212" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32216" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32218" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32219" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-32221" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-32222" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32224" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32226" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-32228" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32230" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32232" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32233" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32235" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32237" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32238" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32240" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32242" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32244" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32246" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32248" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32251" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32254" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32256" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32263" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-32274" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32276" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32278" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32280" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32282" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32284" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32286" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-32288" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32290" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32292" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-32293" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32295" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32297" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32298" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32300" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32302" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32304" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32306" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32308" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32311" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32314" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32316" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32323" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32326" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32334" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32335" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32337" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32339" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32340" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32342" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32343" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32353" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32358" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32359" href="../Substitution/#plfa_plfa-part2-Substitution-29270" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-32368" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32369" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32371" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32373" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32374" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32378" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32383" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32392" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32394" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32396" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32398" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32400" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32402" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32404" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32405" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32407" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32409" href="../Substitution/#plfa_plfa-part2-Substitution-3948" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-32411" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32413" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32415" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32417" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32419" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32421" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32423" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32426" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32428" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32430" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32437" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32440" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32448" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32449" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32451" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32453" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32454" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32456" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32461" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32466" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32475" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32477" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32479" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32481" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32483" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32485" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32487" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32488" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32490" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32492" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-32495" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32497" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32499" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32506" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32509" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32517" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32518" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32520" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32522" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32523" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32525" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32526" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32536" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32541" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32542" href="../Substitution/#plfa_plfa-part2-Substitution-21089" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-32549" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32550" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32552" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32554" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32555" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32559" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32564" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32573" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32575" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32577" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32579" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32581" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32583" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32585" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32587" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32589" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32596" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32599" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32607" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32608" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32610" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32612" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32613" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32615" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32616" href="../Substitution/#plfa_plfa-part2-Substitution-14329" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-32626" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32631" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32632" href="../Substitution/#plfa_plfa-part2-Substitution-11445" class="Function">sub-idL</a><a id="plfa_plfa-part2-Substitution-32639" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32640" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-32642" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32644" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32645" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-32649" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32654" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32663" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32665" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32667" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32669" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32671" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32673" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32675" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32676" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32680" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32682" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-32683" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32685" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32687" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32694" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32697" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32705" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32706" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32708" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32710" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32711" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32713" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32714" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32718" href="../Substitution/#plfa_plfa-part2-Substitution-11556" class="Function">sub-dist</a><a id="plfa_plfa-part2-Substitution-32726" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-32728" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-32733" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32742" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32744" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32746" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32748" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32752" href="../Substitution/#plfa_plfa-part2-Substitution-4735" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-32754" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32756" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32758" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-32765" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32768" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32772" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32773" href="../Substitution/#plfa_plfa-part2-Substitution-27393" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-32780" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32781" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32783" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32785" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32786" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-32789" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32798" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32800" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32802" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32804" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32805" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32807" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32809" href="../Substitution/#plfa_plfa-part2-Substitution-4275" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-32811" href="../Substitution/#plfa_plfa-part2-Substitution-3762" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-32815" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32817" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32818" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-32825" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-32828" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-32833" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32835" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32837" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32839" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32840" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-32844" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32845" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-32853" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-32854" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-32856" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-32858" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-32859" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-32861" href="../Substitution/#plfa_plfa-part2-Substitution-18865" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-32878" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-32882" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-32885" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-32894" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-32896" href="../Substitution/#plfa_plfa-part2-Substitution-31755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-32898" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-32900" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-32901" href="../Substitution/#plfa_plfa-part2-Substitution-31749" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-32903" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-32905" href="../Substitution/#plfa_plfa-part2-Substitution-31752" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-32907" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-32908" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-32915" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p><code>subst-commute</code> 的一个推论是 <code>rename</code> 也对代换满足交换律。在下面的证明中， 我们首先为代换 <code>⟪ ren ρ ⟫</code> 交换了 <code>rename ρ</code>，然后应用 <code>subst-commute</code>， 之后转换回 <code>rename ρ</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-commute"></a><a id="plfa_plfa-part2-Substitution-33295" href="../Substitution/#plfa_plfa-part2-Substitution-33295" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-33316" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33318" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-33320" href="../Substitution/#plfa_plfa-part2-Substitution-33320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33322" href="../Substitution/#plfa_plfa-part2-Substitution-33322" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-33323" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33325" href="../Substitution/#plfa_plfa-part2-Substitution-33325" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33327" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33329" href="../Substitution/#plfa_plfa-part2-Substitution-33320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33331" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-33333" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-33335" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-33337" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-33338" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33340" href="../Substitution/#plfa_plfa-part2-Substitution-33340" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33342" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33344" href="../Substitution/#plfa_plfa-part2-Substitution-33320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33346" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-33348" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-33349" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33351" href="../Substitution/#plfa_plfa-part2-Substitution-33351" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33353" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-33355" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-33362" href="../Substitution/#plfa_plfa-part2-Substitution-33320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-33364" href="../Substitution/#plfa_plfa-part2-Substitution-33322" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-33366" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-33372" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-33374" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33375" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33382" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33383" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33387" href="../Substitution/#plfa_plfa-part2-Substitution-33351" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33388" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33390" href="../Substitution/#plfa_plfa-part2-Substitution-33325" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33391" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33393" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33395" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33402" href="../Substitution/#plfa_plfa-part2-Substitution-33351" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33404" href="../Substitution/#plfa_plfa-part2-Substitution-33340" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33406" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-33408" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-33410" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33417" href="../Substitution/#plfa_plfa-part2-Substitution-33351" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33419" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33420" href="../Substitution/#plfa_plfa-part2-Substitution-33325" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33422" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33424" href="../Substitution/#plfa_plfa-part2-Substitution-33340" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33426" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33427" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-33429" href="../Substitution/#plfa_plfa-part2-Substitution-33295" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-33450" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33451" href="../Substitution/#plfa_plfa-part2-Substitution-33451" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-33452" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33454" href="../Substitution/#plfa_plfa-part2-Substitution-33454" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-33455" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33457" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33458" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33460" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-33461" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-33463" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33464" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33466" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-33473" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-33486" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33487" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33494" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33495" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33499" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33500" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33502" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33503" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33505" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33507" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33514" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33516" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33518" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33525" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33528" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-33537" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33538" href="../Substitution/#plfa_plfa-part2-Substitution-14074" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-33552" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33553" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33569" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33570" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33572" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33574" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-33575" class="Symbol">}))</a>
                 <a id="plfa_plfa-part2-Substitution-33596" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33597" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33613" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33614" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33616" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33618" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33619" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-33622" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33631" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33632" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33634" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33638" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33639" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-33643" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33644" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33646" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33648" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33649" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33651" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33653" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33655" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33659" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33661" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33663" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33665" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33672" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33675" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-33684" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-33689" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33690" href="../Substitution/#plfa_plfa-part2-Substitution-13582" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-33698" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33699" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-33701" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33703" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33704" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33706" href="../Substitution/#plfa_plfa-part2-Substitution-15986" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-33714" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-33718" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33720" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33729" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33730" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33732" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-33737" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33738" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33742" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33743" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33745" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33747" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33748" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33750" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33752" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-33754" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33758" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33760" href="../Substitution/#plfa_plfa-part2-Substitution-3069" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-33762" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33764" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-33771" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33774" href="../Substitution/#plfa_plfa-part2-Substitution-31614" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-33787" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-33788" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-33790" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-33792" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-33793" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-33795" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33804" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-33810" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33811" href="../Substitution/#plfa_plfa-part2-Substitution-8373" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-33815" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-33816" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33818" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33819" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33821" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33823" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33825" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33826" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-33833" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-33836" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-33840" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33841" href="../Substitution/#plfa_plfa-part2-Substitution-16395" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-33857" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-33859" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-33868" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-33875" href="../Substitution/#plfa_plfa-part2-Substitution-33463" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-33877" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-33878" href="../Substitution/#plfa_plfa-part2-Substitution-33457" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-33880" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-33882" href="../Substitution/#plfa_plfa-part2-Substitution-33460" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-33884" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-33885" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-33892" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>为了展示代换引理，我们为「用项 <code>M</code> 代换项 <code>N</code> 中的索引 1」引入了以下记法：</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-_〔_〕"></a><a id="plfa_plfa-part2-Substitution-34090" href="../Substitution/#plfa_plfa-part2-Substitution-34090" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-34095" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34097" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-34099" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34100" href="../Substitution/#plfa_plfa-part2-Substitution-34100" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34102" href="../Substitution/#plfa_plfa-part2-Substitution-34102" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-34104" href="../Substitution/#plfa_plfa-part2-Substitution-34104" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34106" href="../Substitution/#plfa_plfa-part2-Substitution-34106" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34107" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-34117" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34119" href="../Substitution/#plfa_plfa-part2-Substitution-34100" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34121" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34123" href="../Substitution/#plfa_plfa-part2-Substitution-34104" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34125" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34127" href="../Substitution/#plfa_plfa-part2-Substitution-34106" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-34129" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34131" href="../Substitution/#plfa_plfa-part2-Substitution-34102" class="Bound">A</a>
        <a id="plfa_plfa-part2-Substitution-34141" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34143" href="../Substitution/#plfa_plfa-part2-Substitution-34100" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34145" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34147" href="../Substitution/#plfa_plfa-part2-Substitution-34104" class="Bound">B</a>
          <a id="plfa_plfa-part2-Substitution-34159" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Substitution-34177" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34179" href="../Substitution/#plfa_plfa-part2-Substitution-34100" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34181" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34183" href="../Substitution/#plfa_plfa-part2-Substitution-34106" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-34185" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34187" href="../Substitution/#plfa_plfa-part2-Substitution-34102" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-34189" href="../Substitution/#plfa_plfa-part2-Substitution-34090" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-34194" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34195" href="../Substitution/#plfa_plfa-part2-Substitution-34195" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-34196" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34198" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34199" href="../Substitution/#plfa_plfa-part2-Substitution-34199" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-34200" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34202" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34203" href="../Substitution/#plfa_plfa-part2-Substitution-34203" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-34204" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34206" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34207" href="../Substitution/#plfa_plfa-part2-Substitution-34207" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34208" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34210" href="../Substitution/#plfa_plfa-part2-Substitution-34210" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34212" href="../Substitution/#plfa_plfa-part2-Substitution-34212" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34214" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-34219" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-34225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34226" href="../Substitution/#plfa_plfa-part2-Substitution-34195" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34228" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34230" href="../Substitution/#plfa_plfa-part2-Substitution-34203" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-34232" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34234" href="../Substitution/#plfa_plfa-part2-Substitution-34207" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34235" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34237" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34238" href="../Substitution/#plfa_plfa-part2-Substitution-34195" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34240" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34242" href="../Substitution/#plfa_plfa-part2-Substitution-34207" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-34243" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34245" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34246" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-34251" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34252" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-34263" href="../Substitution/#plfa_plfa-part2-Substitution-34212" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34264" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-34267" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34268" href="../Substitution/#plfa_plfa-part2-Substitution-34199" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-34269" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34271" href="../Substitution/#plfa_plfa-part2-Substitution-34210" class="Bound">N</a>
</pre><p>代换引理陈述如下，其证明是 <code>subst-commute</code> 引理的一个推论。</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-substitution"></a><a id="plfa_plfa-part2-Substitution-34436" href="../Substitution/#plfa_plfa-part2-Substitution-34436" class="Function">substitution</a> <a id="plfa_plfa-part2-Substitution-34449" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34451" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-34453" href="../Substitution/#plfa_plfa-part2-Substitution-34453" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-34454" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34456" href="../Substitution/#plfa_plfa-part2-Substitution-34456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34458" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34460" href="../Substitution/#plfa_plfa-part2-Substitution-34453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34462" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34464" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34466" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34468" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34470" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34472" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34473" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34475" href="../Substitution/#plfa_plfa-part2-Substitution-34475" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34477" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34479" href="../Substitution/#plfa_plfa-part2-Substitution-34453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34481" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-34483" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-34485" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34487" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34488" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34490" href="../Substitution/#plfa_plfa-part2-Substitution-34490" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34492" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-34494" href="../Substitution/#plfa_plfa-part2-Substitution-34453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-34496" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-34498" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-34499" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-34505" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-34507" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34508" href="../Substitution/#plfa_plfa-part2-Substitution-34456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34510" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34512" href="../Substitution/#plfa_plfa-part2-Substitution-34475" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34514" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-34515" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34517" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34519" href="../Substitution/#plfa_plfa-part2-Substitution-34490" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34521" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-34523" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-34525" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34526" href="../Substitution/#plfa_plfa-part2-Substitution-34456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-34528" href="../Substitution/#plfa_plfa-part2-Substitution-34090" class="Function Operator">〔</a> <a id="plfa_plfa-part2-Substitution-34530" href="../Substitution/#plfa_plfa-part2-Substitution-34490" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34532" href="../Substitution/#plfa_plfa-part2-Substitution-34090" class="Function Operator">〕</a><a id="plfa_plfa-part2-Substitution-34533" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34535" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34537" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34538" href="../Substitution/#plfa_plfa-part2-Substitution-34475" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-34540" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-34542" href="../Substitution/#plfa_plfa-part2-Substitution-34490" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-34544" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-34545" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-34547" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Substitution-34549" href="../Substitution/#plfa_plfa-part2-Substitution-34436" class="Function">substitution</a><a id="plfa_plfa-part2-Substitution-34561" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34562" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-34564" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34566" href="../Substitution/#plfa_plfa-part2-Substitution-34566" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34567" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34569" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-34571" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34573" href="../Substitution/#plfa_plfa-part2-Substitution-34573" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-34574" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34576" class="Argument">L</a> <a id="plfa_plfa-part2-Substitution-34578" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34580" href="../Substitution/#plfa_plfa-part2-Substitution-34580" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-34581" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-34583" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-34588" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-34592" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-34593" href="../Substitution/#plfa_plfa-part2-Substitution-31614" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-34606" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-34607" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-34609" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34611" href="../Substitution/#plfa_plfa-part2-Substitution-34566" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-34612" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34614" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-34616" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34618" href="../Substitution/#plfa_plfa-part2-Substitution-34573" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-34619" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-34621" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-34623" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-34625" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-34636" href="../Substitution/#plfa_plfa-part2-Substitution-34580" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-34637" class="Symbol">})</a>
</pre><h2 id="注记">注记</h2><p>本文件中的大部分属性和证明均基于 Schafer、Tebbi 和 Smolka 的论文 <em>Autosubst: Reasoning with de BruijnTerms and Parallel Substitution</em> (ITP 2015)。 该论文又基于 Abadi、Cardelli、Curien 和 Levy (1991) 定义 σ-代数的论文。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⟪  U+27EA  MATHEMATICAL LEFT DOUBLE ANGLE BRACKET (\&lt;&lt;)
⟫  U+27EA  MATHEMATICAL RIGHT DOUBLE ANGLE BRACKET (\&gt;&gt;)
↑  U+2191  UPWARDS ARROW (\u)
•  U+2022  BULLET (\bub)
⨟  U+2A1F  Z NOTATION SCHEMA COMPOSITION (C-x 8 RET Z NOTATION SCHEMA COMPOSITION)
〔  U+3014  LEFT TORTOISE SHELL BRACKET (\( option 9 on page 2)
〕  U+3015  RIGHT TORTOISE SHELL BRACKET (\) option 9 on page 2)</code></pre></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：OlingCat<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>