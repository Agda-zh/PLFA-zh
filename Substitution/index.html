<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-MkpYfmkWIfATGEd6NpDhZJQB2nIkJDL4/+fTWrR8KGUYK4WpHdNkNtsOewHrkVqI4K1SrtjK7aC/fwQljbifBA==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-T2Tad3PSo5pIHyLVaV57XanuJRwSgTPT+WVb96FUf6y0ZJIXP4d/lNPJUqbUZ3j0Nq/gej2yteryEz/Hkr2Cdg==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Substitution</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Substitution: Substitution in the untyped lambda calculus</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Substitution-118" class="Keyword">module</a> <a id="plfa_plfa-part2-Substitution-125" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Substitution-149" class="Keyword">where</a>
</pre><h2 id="introduction">Introduction</h2><p>The primary purpose of this chapter is to prove that substitution commutes with itself. Barendgredt (1984) refers to this as the substitution lemma:</p><pre><code>M [x:=N] [y:=L] = M [y:=L] [x:= N[y:=L] ]</code></pre><p>In our setting, with de Bruijn indices for variables, the statement of the lemma becomes:</p><pre><code>M [ N ] [ L ] ≡  M〔 L 〕[ N [ L ] ]                     (substitution)</code></pre><p>where the notation <code>M 〔 L 〕</code> is for substituting L for index 1 inside M. In addition, because we define substitution in terms of parallel substitution, we have the following generalization, replacing the substitution of L with an arbitrary parallel substitution σ.</p><pre><code>subst σ (M [ N ]) ≡ (subst (exts σ) M) [ subst σ N ]    (subst-commute)</code></pre><p>The special case for renamings is also useful.</p><pre><code>rename ρ (M [ N ]) ≡ (rename (ext ρ) M) [ rename ρ N ]
                                                 (rename-subst-commute)</code></pre><p>The secondary purpose of this chapter is to define the σ algebra of parallel substitution due to Abadi, Cardelli, Curien, and Levy (1991). The equations of this algebra not only help us prove the substitution lemma, but they are generally useful. Furthermore, when the equations are applied from left to right, they form a rewrite system that <em>decides</em> whether any two substitutions are equal.</p><h2 id="imports">Imports</h2><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1483" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1490" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Substitution-1528" class="Symbol">as</a> <a id="plfa_plfa-part2-Substitution-1531" class="Module">Eq</a>
<a id="plfa_plfa-part2-Substitution-1534" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1539" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Substitution-1542" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1548" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1549" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Substitution-1552" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1554" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-1558" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1560" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Substitution-1563" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1565" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Substitution-1569" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1571" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part2-Substitution-1576" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1578" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part2-Substitution-1586" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1588" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1593" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.≡-Reasoning</a> <a id="plfa_plfa-part2-Substitution-1608" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1614" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1615" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Substitution-1621" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1623" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">_≡⟨⟩_</a><a id="plfa_plfa-part2-Substitution-1628" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1630" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">step-≡</a><a id="plfa_plfa-part2-Substitution-1636" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1638" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">_∎</a><a id="plfa_plfa-part2-Substitution-1640" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1642" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1647" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1654" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Substitution-1663" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1669" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1670" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Substitution-1673" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-1675" class="Keyword">open</a> <a id="plfa_plfa-part2-Substitution-1680" class="Keyword">import</a> <a id="plfa_plfa-part2-Substitution-1687" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
     <a id="plfa_plfa-part2-Substitution-1711" class="Keyword">using</a> <a id="plfa_plfa-part2-Substitution-1717" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1718" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-1722" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1724" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-1731" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1733" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Substitution-1736" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1738" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-1739" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1741" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Substitution-1744" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1746" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-1747" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1749" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Substitution-1752" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1754" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-1755" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1757" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-1759" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1761" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Substitution-1763" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1765" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Substitution-1767" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1769" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Substitution-1772" class="Symbol">;</a>
            <a id="plfa_plfa-part2-Substitution-1786" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a><a id="plfa_plfa-part2-Substitution-1792" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1794" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a><a id="plfa_plfa-part2-Substitution-1799" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1801" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a><a id="plfa_plfa-part2-Substitution-1804" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1806" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a><a id="plfa_plfa-part2-Substitution-1810" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1812" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Substitution-1816" class="Symbol">;</a> <a id="plfa_plfa-part2-Substitution-1818" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a><a id="plfa_plfa-part2-Substitution-1828" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-1843" class="Keyword">postulate</a>
  <a id="plfa_plfa-part2-Substitution-extensionality"></a><a id="plfa_plfa-part2-Substitution-1855" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-1870" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1872" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-1874" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-1875" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-1877" href="../Substitution/#plfa_plfa-part2-Substitution-1877" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-1879" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1881" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part2-Substitution-1884" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-1886" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-1887" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1889" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-1891" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1893" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-1895" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1897" href="../Substitution/#plfa_plfa-part2-Substitution-1877" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-1898" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-1904" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1906" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Substitution-1909" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-1910" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-1912" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-1914" href="../Substitution/#plfa_plfa-part2-Substitution-1875" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-1915" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-1917" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1919" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1921" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-1923" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-1925" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a> <a id="plfa_plfa-part2-Substitution-1927" href="../Substitution/#plfa_plfa-part2-Substitution-1910" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-1928" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-1936" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Substitution-1964" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-1966" href="../Substitution/#plfa_plfa-part2-Substitution-1887" class="Bound">f</a> <a id="plfa_plfa-part2-Substitution-1968" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-1970" href="../Substitution/#plfa_plfa-part2-Substitution-1889" class="Bound">g</a>
</pre><h2 id="notation">Notation</h2><p>We introduce the following shorthand for the type of a <em>renaming</em> from variables in context <code>Γ</code> to variables in context <code>Δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Rename"></a><a id="plfa_plfa-part2-Substitution-2124" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2131" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2133" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2141" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2143" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2151" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2153" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2157" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-2164" href="../Substitution/#plfa_plfa-part2-Substitution-2164" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2166" href="../Substitution/#plfa_plfa-part2-Substitution-2166" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2168" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2170" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2172" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2173" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2175" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2177" href="../Substitution/#plfa_plfa-part2-Substitution-2164" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2179" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2181" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2183" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2185" href="../Substitution/#plfa_plfa-part2-Substitution-2166" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2187" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2189" href="../Substitution/#plfa_plfa-part2-Substitution-2172" class="Bound">A</a>
</pre><p>Similarly, we introduce the following shorthand for the type of a <em>substitution</em> from variables in context <code>Γ</code> to terms in context <code>Δ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Subst"></a><a id="plfa_plfa-part2-Substitution-2341" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2347" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2349" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2357" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2359" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Substitution-2367" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2369" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Substitution-2373" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2379" href="../Substitution/#plfa_plfa-part2-Substitution-2379" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2381" href="../Substitution/#plfa_plfa-part2-Substitution-2381" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2383" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2385" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2387" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2388" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2390" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2392" href="../Substitution/#plfa_plfa-part2-Substitution-2379" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2394" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-2396" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2398" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2400" href="../Substitution/#plfa_plfa-part2-Substitution-2381" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2402" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2404" href="../Substitution/#plfa_plfa-part2-Substitution-2387" class="Bound">A</a>
</pre><p>We use the following more succinct notation for the <code>subst</code> function.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-⟪_⟫"></a><a id="plfa_plfa-part2-Substitution-2490" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪_⟫</a> <a id="plfa_plfa-part2-Substitution-2494" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-2496" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-2498" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2500" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2502" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-2503" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-2505" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2507" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-2513" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2515" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2517" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2519" href="../Substitution/#plfa_plfa-part2-Substitution-2498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-2521" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2523" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-2525" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2527" href="../Substitution/#plfa_plfa-part2-Substitution-2500" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-2529" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-2531" href="../Substitution/#plfa_plfa-part2-Substitution-2502" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-2533" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-2535" href="../Substitution/#plfa_plfa-part2-Substitution-2535" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-2537" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-2539" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-2541" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-2543" href="../Substitution/#plfa_plfa-part2-Substitution-2543" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-2545" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-2547" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-2553" href="../Substitution/#plfa_plfa-part2-Substitution-2535" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-2555" href="../Substitution/#plfa_plfa-part2-Substitution-2543" class="Bound">M</a>
</pre><h2 id="the-σ-algebra-of-substitution">The σ algebra of substitution</h2><p>A substitution maps de Bruijn indices (natural numbers) to terms, so we can view a substitution simply as a sequence of terms, or more precisely, as an infinite sequence of terms. The σ algebra consists of four operations for building such sequences: identity <code>ids</code>, shift <code>↑</code>, cons <code>M • σ</code>, and sequencing <code>σ ⨟ τ</code>. The sequence <code>0, 1, 2, ...</code> is constructed by the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ids"></a><a id="plfa_plfa-part2-Substitution-2996" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3000" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3002" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3004" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-3005" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3007" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3009" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3015" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3017" href="../Substitution/#plfa_plfa-part2-Substitution-3004" class="Bound">Γ</a>
<a id="plfa_plfa-part2-Substitution-3019" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-3023" href="../Substitution/#plfa_plfa-part2-Substitution-3023" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3025" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3027" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3029" href="../Substitution/#plfa_plfa-part2-Substitution-3023" class="Bound">x</a>
</pre><p>The shift operation <code>↑</code> constructs the sequence</p><pre><code>1, 2, 3, ...</code></pre><p>and is defined as follows.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-↑"></a><a id="plfa_plfa-part2-Substitution-3139" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3141" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3143" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3145" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3147" href="../Substitution/#plfa_plfa-part2-Substitution-3147" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3148" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3150" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3152" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3158" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3160" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3161" href="../Substitution/#plfa_plfa-part2-Substitution-3145" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3163" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3165" href="../Substitution/#plfa_plfa-part2-Substitution-3147" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3166" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-3168" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-3170" href="../Substitution/#plfa_plfa-part2-Substitution-3170" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-3172" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3174" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-3176" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3177" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3179" href="../Substitution/#plfa_plfa-part2-Substitution-3170" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3180" class="Symbol">)</a>
</pre><p>Given a term <code>M</code> and substitution <code>σ</code>, the operation <code>M • σ</code> constructs the sequence</p><pre><code>M , σ 0, σ 1, σ 2, ...</code></pre><p>This operation is analogous to the <code>cons</code> operation of Lisp.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-3371" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-3378" class="Number">6</a> <a id="plfa_plfa-part2-Substitution-3380" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">_•_</a>

<a id="plfa_plfa-part2-Substitution-_•_"></a><a id="plfa_plfa-part2-Substitution-3385" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">_•_</a> <a id="plfa_plfa-part2-Substitution-3389" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3391" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3393" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3395" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3397" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3398" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3400" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3402" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3403" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3405" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-3407" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3408" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3410" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3412" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3418" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3420" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3422" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3424" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3430" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3431" href="../Substitution/#plfa_plfa-part2-Substitution-3393" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3433" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-3435" href="../Substitution/#plfa_plfa-part2-Substitution-3397" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-3436" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3438" href="../Substitution/#plfa_plfa-part2-Substitution-3395" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-3440" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3441" href="../Substitution/#plfa_plfa-part2-Substitution-3441" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3443" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-3445" href="../Substitution/#plfa_plfa-part2-Substitution-3445" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-3446" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3448" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-3450" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3452" href="../Substitution/#plfa_plfa-part2-Substitution-3441" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-3454" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3455" href="../Substitution/#plfa_plfa-part2-Substitution-3455" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-3457" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-3459" href="../Substitution/#plfa_plfa-part2-Substitution-3459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-3460" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3462" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-3463" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-3465" href="../Substitution/#plfa_plfa-part2-Substitution-3465" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-3466" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-3468" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3470" href="../Substitution/#plfa_plfa-part2-Substitution-3459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3472" href="../Substitution/#plfa_plfa-part2-Substitution-3465" class="Bound">x</a>
</pre><p>Given two substitutions <code>σ</code> and <code>τ</code>, the sequencing operation <code>σ ⨟ τ</code> composes the two substitutions by first applying <code>σ</code> and then applying <code>τ</code>. So it produces the sequence</p><pre><code>⟪τ⟫(σ 0), ⟪τ⟫(σ 1), ⟪τ⟫(σ 2), ...</code></pre><p>Here is the definition.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-3726" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Substitution-3733" class="Number">5</a> <a id="plfa_plfa-part2-Substitution-3735" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">_⨟_</a>

<a id="plfa_plfa-part2-Substitution-_⨟_"></a><a id="plfa_plfa-part2-Substitution-3740" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">_⨟_</a> <a id="plfa_plfa-part2-Substitution-3744" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-3746" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-3748" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3750" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3752" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-3753" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-3755" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3757" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3763" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3765" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3767" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3769" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3775" href="../Substitution/#plfa_plfa-part2-Substitution-3750" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-3777" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-3779" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-3781" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-3787" href="../Substitution/#plfa_plfa-part2-Substitution-3748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-3789" href="../Substitution/#plfa_plfa-part2-Substitution-3752" class="Bound">Σ</a>
<a id="plfa_plfa-part2-Substitution-3791" href="../Substitution/#plfa_plfa-part2-Substitution-3791" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-3793" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-3795" href="../Substitution/#plfa_plfa-part2-Substitution-3795" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-3797" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-3799" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-3801" href="../Substitution/#plfa_plfa-part2-Substitution-3795" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-3803" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-3805" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-3807" href="../Substitution/#plfa_plfa-part2-Substitution-3791" class="Bound">σ</a>
</pre><p>For the sequencing operation, Abadi et al. use the notation of function composition, writing <code>σ ∘ τ</code>, but still with <code>σ</code> applied before <code>τ</code>, which is the opposite of standard mathematical practice. We instead write <code>σ ⨟ τ</code>, because semicolon is the standard notation for forward function composition.</p><h2 id="the-σ-algebra-equations">The σ algebra equations</h2><p>The σ algebra includes the following equations.</p><pre><code>(sub-head)  ⟪ M • σ ⟫ (` Z) ≡ M
(sub-tail)  ↑ ⨟ (M • σ)    ≡ σ
(sub-η)     (⟪ σ ⟫ (` Z)) • (↑ ⨟ σ) ≡ σ
(Z-shift)   (` Z) • ↑      ≡ ids

(sub-id)    ⟪ ids ⟫ M      ≡ M
(sub-app)   ⟪ σ ⟫ (L · M)  ≡ (⟪ σ ⟫ L) · (⟪ σ ⟫ M)
(sub-abs)   ⟪ σ ⟫ (ƛ N)    ≡ ƛ ⟪ σ ⟫ N
(sub-sub)   ⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M

(sub-idL)   ids ⨟ σ        ≡ σ
(sub-idR)   σ ⨟ ids        ≡ σ
(sub-assoc) (σ ⨟ τ) ⨟ θ    ≡ σ ⨟ (τ ⨟ θ)
(sub-dist)  (M • σ) ⨟ τ    ≡ (⟪ τ ⟫ M) • (σ ⨟ τ)</code></pre><p>The first group of equations describe how the <code>•</code> operator acts like cons. The equation <code>sub-head</code> says that the variable zero <code>Z</code> returns the head of the sequence (it acts like the <code>car</code> of Lisp). Similarly, <code>sub-tail</code> says that sequencing with shift <code>↑</code> returns the tail of the sequence (it acts like <code>cdr</code> of Lisp). The <code>sub-η</code> equation is the η-expansion rule for sequences, saying that taking the head and tail of a sequence, and then cons’ing them together yields the original sequence. The <code>Z-shift</code> equation says that cons’ing zero onto the shifted sequence produces the identity sequence.</p><p>The next four equations involve applying substitutions to terms. The equation <code>sub-id</code> says that the identity substitution returns the term unchanged. The equations <code>sub-app</code> and <code>sub-abs</code> says that substitution is a congruence for the lambda calculus. The <code>sub-sub</code> equation says that the sequence operator <code>⨟</code> behaves as intended.</p><p>The last four equations concern the sequencing of substitutions. The first two equations, <code>sub-idL</code> and <code>sub-idR</code>, say that <code>ids</code> is the left and right unit of the sequencing operator. The <code>sub-assoc</code> equation says that sequencing is associative. Finally, <code>sub-dist</code> says that post-sequencing distributes through cons.</p><h2 id="relating-the-σ-algebra-and-substitution-functions">Relating the σ algebra and substitution functions</h2><p>The definitions of substitution <code>N [ M ]</code> and parallel substitution <code>subst σ N</code> depend on several auxiliary functions: <code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code>. We shall relate those functions to terms in the σ algebra.</p><p>To begin with, renaming can be expressed in terms of substitution. We have</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M               (rename-subst-ren)</code></pre><p>where <code>ren</code> turns a renaming <code>ρ</code> into a substitution by post-composing <code>ρ</code> with the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren"></a><a id="plfa_plfa-part2-Substitution-6482" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-6486" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-6488" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-6490" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6492" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-6493" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-6495" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-6497" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-6504" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6506" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-6508" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-6510" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-6516" href="../Substitution/#plfa_plfa-part2-Substitution-6490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-6518" href="../Substitution/#plfa_plfa-part2-Substitution-6492" class="Bound">Δ</a>
<a id="plfa_plfa-part2-Substitution-6520" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-6524" href="../Substitution/#plfa_plfa-part2-Substitution-6524" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-6526" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-6528" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-6532" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-6534" href="../Substitution/#plfa_plfa-part2-Substitution-6524" class="Bound">ρ</a>
</pre><p>When the renaming is the increment function, then it is equivalent to shift.</p><pre><code>ren S_ ≡ ↑                             (ren-shift)

rename S_ M ≡ ⟪ ↑ ⟫ M                  (rename-shift)</code></pre><p>Renaming with the identity renaming leaves the term unchanged.</p><pre><code>rename (λ {A} x → x) M ≡ M             (rename-id)</code></pre><p>Next we relate the <code>exts</code> function to the σ algebra. Recall that the <code>exts</code> function extends a substitution as follows:</p><pre><code>exts σ = ` Z, rename S_ (σ 0), rename S_ (σ 1), rename S_ (σ 2), ...</code></pre><p>So <code>exts</code> is equivalent to cons’ing Z onto the sequence formed by applying <code>σ</code> and then shifting.</p><pre><code>exts σ ≡ ` Z • (σ ⨟ ↑)                (exts-cons-shift)</code></pre><p>The <code>ext</code> function does the same job as <code>exts</code> but for renamings instead of substitutions. So composing <code>ext</code> with <code>ren</code> is the same as composing <code>ren</code> with <code>exts</code>.</p><pre><code>ren (ext ρ) ≡ exts (ren ρ)            (ren-ext)</code></pre><p>Thus, we can recast the <code>exts-cons-shift</code> equation in terms of renamings.</p><pre><code>ren (ext ρ) ≡ ` Z • (ren ρ ⨟ ↑)       (ext-cons-Z-shift)</code></pre><p>It is also useful to specialize the <code>sub-sub</code> equation of the σ algebra to the situation where the first substitution is a renaming.</p><pre><code>⟪ σ ⟫ (rename ρ M) ≡ ⟪ σ ∘ ρ ⟫ M       (rename-subst)</code></pre><p>The <code>subst-zero M</code> substitution is equivalent to cons’ing <code>M</code> onto the identity substitution.</p><pre><code>subst-zero M ≡ M • ids                (subst-Z-cons-ids)</code></pre><p>Finally, sequencing <code>exts σ</code> with <code>subst-zero M</code> is equivalent to cons’ing <code>M</code> onto <code>σ</code>.</p><pre><code>exts σ ⨟ subst-zero M ≡ (M • σ)       (subst-zero-exts-cons)</code></pre><h2 id="proofs-of-sub-head-sub-tail-sub-η-z-shift-sub-idl-sub-dist-and-sub-app">Proofs of sub-head, sub-tail, sub-η, Z-shift, sub-idL, sub-dist, and sub-app</h2><p>We start with the proofs that are immediate from the definitions of the operators.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-head"></a><a id="plfa_plfa-part2-Substitution-8247" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-8256" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8258" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-8260" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8261" href="../Substitution/#plfa_plfa-part2-Substitution-8261" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8263" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8264" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8266" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8267" href="../Substitution/#plfa_plfa-part2-Substitution-8267" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8268" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8270" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8271" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8273" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8275" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8277" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-8279" href="../Substitution/#plfa_plfa-part2-Substitution-8267" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8280" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8282" href="../Substitution/#plfa_plfa-part2-Substitution-8282" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8284" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8286" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8292" href="../Substitution/#plfa_plfa-part2-Substitution-8261" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8294" href="../Substitution/#plfa_plfa-part2-Substitution-8263" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8295" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-8306" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8308" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8310" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8312" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8314" href="../Substitution/#plfa_plfa-part2-Substitution-8282" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8316" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8318" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8319" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8321" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8322" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8324" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8326" href="../Substitution/#plfa_plfa-part2-Substitution-8271" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-8328" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a> <a id="plfa_plfa-part2-Substitution-8337" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8339" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-tail"></a><a id="plfa_plfa-part2-Substitution-8357" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-8366" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8368" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8370" href="../Substitution/#plfa_plfa-part2-Substitution-8370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8372" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8373" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8375" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8376" href="../Substitution/#plfa_plfa-part2-Substitution-8376" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8378" href="../Substitution/#plfa_plfa-part2-Substitution-8378" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8379" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8381" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8382" href="../Substitution/#plfa_plfa-part2-Substitution-8382" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8384" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8386" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-8388" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-8390" href="../Substitution/#plfa_plfa-part2-Substitution-8376" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8391" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8393" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8394" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8396" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8398" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8404" href="../Substitution/#plfa_plfa-part2-Substitution-8370" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8406" href="../Substitution/#plfa_plfa-part2-Substitution-8372" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8407" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-8418" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8420" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8421" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8423" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8425" href="../Substitution/#plfa_plfa-part2-Substitution-8382" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-8427" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8429" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8430" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8432" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8433" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-8435" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8437" href="../Substitution/#plfa_plfa-part2-Substitution-8378" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8438" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8440" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8442" href="../Substitution/#plfa_plfa-part2-Substitution-8394" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-8444" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a> <a id="plfa_plfa-part2-Substitution-8453" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8455" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8470" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-8472" href="../Substitution/#plfa_plfa-part2-Substitution-8472" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8474" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8476" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-η"></a><a id="plfa_plfa-part2-Substitution-8494" href="../Substitution/#plfa_plfa-part2-Substitution-8494" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-8500" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8502" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8504" href="../Substitution/#plfa_plfa-part2-Substitution-8504" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8506" href="../Substitution/#plfa_plfa-part2-Substitution-8506" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8507" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8509" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8510" href="../Substitution/#plfa_plfa-part2-Substitution-8510" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8512" href="../Substitution/#plfa_plfa-part2-Substitution-8512" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8513" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8515" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8516" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8518" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8520" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8526" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8527" href="../Substitution/#plfa_plfa-part2-Substitution-8504" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8529" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8531" href="../Substitution/#plfa_plfa-part2-Substitution-8510" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8532" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8534" href="../Substitution/#plfa_plfa-part2-Substitution-8506" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8535" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Substitution-8543" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8545" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8548" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8550" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8552" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8553" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8555" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8556" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8558" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8560" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8561" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8563" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8565" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8566" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8569" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8570" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-8572" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8574" href="../Substitution/#plfa_plfa-part2-Substitution-8512" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8575" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8577" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8579" href="../Substitution/#plfa_plfa-part2-Substitution-8516" class="Bound">σ</a>
<a id="plfa_plfa-part2-Substitution-8581" href="../Substitution/#plfa_plfa-part2-Substitution-8494" class="Function">sub-η</a> <a id="plfa_plfa-part2-Substitution-8587" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8588" href="../Substitution/#plfa_plfa-part2-Substitution-8588" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8589" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8591" href="../Substitution/#plfa_plfa-part2-Substitution-8591" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8592" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8594" href="../Substitution/#plfa_plfa-part2-Substitution-8594" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8595" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8597" href="../Substitution/#plfa_plfa-part2-Substitution-8597" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8598" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8600" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8601" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8603" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8605" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8620" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-8622" href="../Substitution/#plfa_plfa-part2-Substitution-8622" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8624" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8626" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-8635" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-8644" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8650" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8652" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-8654" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8655" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-8656" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8658" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8660" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8662" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-8664" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8666" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-8668" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8669" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8671" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8672" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8675" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8677" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8678" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-8680" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-8682" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-8683" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-8686" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8688" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8690" href="../Substitution/#plfa_plfa-part2-Substitution-8600" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8692" href="../Substitution/#plfa_plfa-part2-Substitution-8655" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-8697" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8703" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8704" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-8706" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8708" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8709" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8711" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8713" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-8721" href="../Substitution/#plfa_plfa-part2-Substitution-8644" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8727" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8728" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-8730" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8732" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-8734" href="../Substitution/#plfa_plfa-part2-Substitution-8734" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-8735" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8737" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8739" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-Z-shift"></a><a id="plfa_plfa-part2-Substitution-8757" href="../Substitution/#plfa_plfa-part2-Substitution-8757" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-8765" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8767" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8769" href="../Substitution/#plfa_plfa-part2-Substitution-8769" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8770" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8772" href="../Substitution/#plfa_plfa-part2-Substitution-8772" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8774" href="../Substitution/#plfa_plfa-part2-Substitution-8774" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8775" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-8785" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8787" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8789" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8791" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8792" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8794" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8796" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-8797" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8799" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8801" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8805" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8806" href="../Substitution/#plfa_plfa-part2-Substitution-8769" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8808" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8810" href="../Substitution/#plfa_plfa-part2-Substitution-8772" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8811" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8813" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8814" href="../Substitution/#plfa_plfa-part2-Substitution-8774" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8815" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-8817" href="../Substitution/#plfa_plfa-part2-Substitution-8757" class="Function">Z-shift</a> <a id="plfa_plfa-part2-Substitution-8825" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8826" href="../Substitution/#plfa_plfa-part2-Substitution-8826" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-8827" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8829" href="../Substitution/#plfa_plfa-part2-Substitution-8829" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-8830" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-8832" href="../Substitution/#plfa_plfa-part2-Substitution-8832" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8833" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8835" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8837" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-8852" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a>
   <a id="plfa_plfa-part2-Substitution-8861" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-8870" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8876" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8878" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8879" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8881" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8883" href="../Substitution/#plfa_plfa-part2-Substitution-8826" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8885" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-8887" href="../Substitution/#plfa_plfa-part2-Substitution-8829" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-8889" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-8891" href="../Substitution/#plfa_plfa-part2-Substitution-8832" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-8892" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8894" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-8896" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-8898" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-8900" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-8901" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8903" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-8905" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-8906" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8908" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-8910" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-8912" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-8916" href="../Substitution/#plfa_plfa-part2-Substitution-8879" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-8921" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8927" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-8929" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8931" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-8939" href="../Substitution/#plfa_plfa-part2-Substitution-8870" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-8945" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-8946" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-8948" href="../Substitution/#plfa_plfa-part2-Substitution-8948" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-8949" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-8951" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-8953" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idL"></a><a id="plfa_plfa-part2-Substitution-8971" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-8979" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8981" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-8983" href="../Substitution/#plfa_plfa-part2-Substitution-8983" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-8985" href="../Substitution/#plfa_plfa-part2-Substitution-8985" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-8986" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-8988" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-8989" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-8991" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-8993" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-8999" href="../Substitution/#plfa_plfa-part2-Substitution-8983" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9001" href="../Substitution/#plfa_plfa-part2-Substitution-8985" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9002" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9004" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9005" href="../Substitution/#plfa_plfa-part2-Substitution-9005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9006" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-9015" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9017" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-9021" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9023" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9025" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9027" href="../Substitution/#plfa_plfa-part2-Substitution-8989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9029" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9030" href="../Substitution/#plfa_plfa-part2-Substitution-9005" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9031" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-9033" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a> <a id="plfa_plfa-part2-Substitution-9041" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9043" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-9058" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-9060" href="../Substitution/#plfa_plfa-part2-Substitution-9060" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9062" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9064" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-dist"></a><a id="plfa_plfa-part2-Substitution-9082" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-9091" class="Symbol">:</a>  <a id="plfa_plfa-part2-Substitution-9094" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9096" href="../Substitution/#plfa_plfa-part2-Substitution-9096" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9098" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9100" href="../Substitution/#plfa_plfa-part2-Substitution-9100" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-9102" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9104" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-9111" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9113" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9114" href="../Substitution/#plfa_plfa-part2-Substitution-9114" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-9116" href="../Substitution/#plfa_plfa-part2-Substitution-9116" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9117" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9119" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9120" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9122" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9124" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9130" href="../Substitution/#plfa_plfa-part2-Substitution-9096" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9132" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9133" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9135" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9136" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9138" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9140" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9146" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9148" href="../Substitution/#plfa_plfa-part2-Substitution-9100" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-9149" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-9165" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9166" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9168" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9170" href="../Substitution/#plfa_plfa-part2-Substitution-9098" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-9172" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9174" href="../Substitution/#plfa_plfa-part2-Substitution-9114" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9175" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-9186" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9188" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9190" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9192" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9194" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9195" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9197" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9199" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9200" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9202" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9204" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9206" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-9212" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9214" href="../Substitution/#plfa_plfa-part2-Substitution-9166" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9215" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9217" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9219" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9220" href="../Substitution/#plfa_plfa-part2-Substitution-9120" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9222" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9224" href="../Substitution/#plfa_plfa-part2-Substitution-9136" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9225" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-9228" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9229" href="../Substitution/#plfa_plfa-part2-Substitution-9116" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9230" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-9232" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-9241" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9242" href="../Substitution/#plfa_plfa-part2-Substitution-9242" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-9243" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9245" href="../Substitution/#plfa_plfa-part2-Substitution-9245" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9246" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9248" href="../Substitution/#plfa_plfa-part2-Substitution-9248" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-9249" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9251" href="../Substitution/#plfa_plfa-part2-Substitution-9251" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9252" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9254" href="../Substitution/#plfa_plfa-part2-Substitution-9254" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9255" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9257" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9258" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9260" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9261" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9263" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9264" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9266" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9268" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-9283" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-9285" href="../Substitution/#plfa_plfa-part2-Substitution-9285" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9287" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9289" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9295" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9296" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9298" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9300" href="../Substitution/#plfa_plfa-part2-Substitution-9285" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-9301" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-9305" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-9313" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9319" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9321" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-9323" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9324" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9326" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9328" href="../Substitution/#plfa_plfa-part2-Substitution-9242" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9330" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-9332" href="../Substitution/#plfa_plfa-part2-Substitution-9251" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-9334" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-9336" href="../Substitution/#plfa_plfa-part2-Substitution-9254" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9337" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9339" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9341" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9343" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9345" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9347" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-9348" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9350" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9352" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9353" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9355" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-9357" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9359" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-9361" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-9367" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-9369" href="../Substitution/#plfa_plfa-part2-Substitution-9263" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9370" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9372" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-9374" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9375" href="../Substitution/#plfa_plfa-part2-Substitution-9257" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9377" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-9379" href="../Substitution/#plfa_plfa-part2-Substitution-9260" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-9380" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-9383" href="../Substitution/#plfa_plfa-part2-Substitution-9324" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-9387" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9393" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9394" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9396" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9398" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-9399" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9401" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9403" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-9410" href="../Substitution/#plfa_plfa-part2-Substitution-9313" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-9416" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9417" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-9419" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9421" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-9423" href="../Substitution/#plfa_plfa-part2-Substitution-9423" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-9424" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9426" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9428" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-app"></a><a id="plfa_plfa-part2-Substitution-9446" href="../Substitution/#plfa_plfa-part2-Substitution-9446" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-9454" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9456" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9458" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9460" href="../Substitution/#plfa_plfa-part2-Substitution-9460" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9461" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9463" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9464" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9466" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9468" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-9474" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9476" href="../Substitution/#plfa_plfa-part2-Substitution-9460" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9477" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9479" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9480" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-9482" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9484" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9486" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9488" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-9489" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9491" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-9493" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9495" href="../Substitution/#plfa_plfa-part2-Substitution-9458" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9497" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-9499" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-9500" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-9510" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9512" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9514" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9516" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9518" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9519" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-9521" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-9523" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9524" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-9527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9529" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9530" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9532" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9534" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9536" href="../Substitution/#plfa_plfa-part2-Substitution-9480" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-9537" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-9539" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-9541" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-9542" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-9544" href="../Substitution/#plfa_plfa-part2-Substitution-9464" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-9546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-9548" href="../Substitution/#plfa_plfa-part2-Substitution-9491" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-9549" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-9551" href="../Substitution/#plfa_plfa-part2-Substitution-9446" class="Function">sub-app</a> <a id="plfa_plfa-part2-Substitution-9559" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-9561" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="interlude-congruences">Interlude: congruences</h2><p>In this section we establish congruence rules for the σ algebra operators <code>•</code> and <code>⨟</code> and for <code>subst</code> and its helper functions <code>ext</code>, <code>rename</code>, <code>exts</code>, and <code>subst-zero</code>. These congruence rules help with the equational reasoning in the later sections of this chapter.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-ext"></a><a id="plfa_plfa-part2-Substitution-9875" href="../Substitution/#plfa_plfa-part2-Substitution-9875" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-9884" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9886" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9888" href="../Substitution/#plfa_plfa-part2-Substitution-9888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9890" href="../Substitution/#plfa_plfa-part2-Substitution-9890" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9891" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9893" href="../Substitution/#plfa_plfa-part2-Substitution-9893" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-9895" href="../Substitution/#plfa_plfa-part2-Substitution-9895" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-9898" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-9900" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-9907" href="../Substitution/#plfa_plfa-part2-Substitution-9888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-9909" href="../Substitution/#plfa_plfa-part2-Substitution-9890" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-9910" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-9912" href="../Substitution/#plfa_plfa-part2-Substitution-9912" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-9913" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-9918" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9920" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-9923" href="../Substitution/#plfa_plfa-part2-Substitution-9923" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9924" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9926" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9928" href="../Substitution/#plfa_plfa-part2-Substitution-9893" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-9930" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-9932" href="../Substitution/#plfa_plfa-part2-Substitution-9895" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-9935" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9936" href="../Substitution/#plfa_plfa-part2-Substitution-9923" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9937" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-9945" class="Comment">---------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-9982" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9984" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-9986" href="../Substitution/#plfa_plfa-part2-Substitution-9986" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-9987" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-9989" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-9991" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-9995" href="../Substitution/#plfa_plfa-part2-Substitution-9893" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-9997" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-9998" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-10000" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10002" href="../Substitution/#plfa_plfa-part2-Substitution-9912" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10003" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10005" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10007" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10011" href="../Substitution/#plfa_plfa-part2-Substitution-9895" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10014" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10015" href="../Substitution/#plfa_plfa-part2-Substitution-9986" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10016" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-10018" href="../Substitution/#plfa_plfa-part2-Substitution-9875" class="Function">cong-ext</a><a id="plfa_plfa-part2-Substitution-10026" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10027" href="../Substitution/#plfa_plfa-part2-Substitution-10027" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-10028" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10030" href="../Substitution/#plfa_plfa-part2-Substitution-10030" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10031" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10033" href="../Substitution/#plfa_plfa-part2-Substitution-10033" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10034" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10036" href="../Substitution/#plfa_plfa-part2-Substitution-10036" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10038" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10040" href="../Substitution/#plfa_plfa-part2-Substitution-10040" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10041" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10043" href="../Substitution/#plfa_plfa-part2-Substitution-10043" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10046" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10047" href="../Substitution/#plfa_plfa-part2-Substitution-10047" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10048" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10050" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10052" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10067" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10069" href="../Substitution/#plfa_plfa-part2-Substitution-10069" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10071" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10073" href="../Substitution/#plfa_plfa-part2-Substitution-10093" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10079" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10080" href="../Substitution/#plfa_plfa-part2-Substitution-10069" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10081" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-10085" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-10093" href="../Substitution/#plfa_plfa-part2-Substitution-10093" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10099" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10101" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10103" href="../Substitution/#plfa_plfa-part2-Substitution-10103" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10105" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10107" href="../Substitution/#plfa_plfa-part2-Substitution-10027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10109" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-10111" href="../Substitution/#plfa_plfa-part2-Substitution-10040" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-10113" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-10115" href="../Substitution/#plfa_plfa-part2-Substitution-10047" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10116" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10118" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10120" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10124" href="../Substitution/#plfa_plfa-part2-Substitution-10033" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10126" href="../Substitution/#plfa_plfa-part2-Substitution-10103" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10128" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10130" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10134" href="../Substitution/#plfa_plfa-part2-Substitution-10036" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10137" href="../Substitution/#plfa_plfa-part2-Substitution-10103" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-10141" href="../Substitution/#plfa_plfa-part2-Substitution-10093" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10147" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10148" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-10149" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10151" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10153" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-10160" href="../Substitution/#plfa_plfa-part2-Substitution-10093" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10166" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10167" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-10169" href="../Substitution/#plfa_plfa-part2-Substitution-10169" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-10170" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10172" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10174" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10179" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-10182" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10183" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-10192" href="../Substitution/#plfa_plfa-part2-Substitution-10043" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10195" href="../Substitution/#plfa_plfa-part2-Substitution-10169" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-10196" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-rename"></a><a id="plfa_plfa-part2-Substitution-10211" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10223" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10225" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10227" href="../Substitution/#plfa_plfa-part2-Substitution-10227" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10229" href="../Substitution/#plfa_plfa-part2-Substitution-10229" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10230" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10232" href="../Substitution/#plfa_plfa-part2-Substitution-10232" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10234" href="../Substitution/#plfa_plfa-part2-Substitution-10234" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10237" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10239" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-10246" href="../Substitution/#plfa_plfa-part2-Substitution-10227" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10248" href="../Substitution/#plfa_plfa-part2-Substitution-10229" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10249" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10251" href="../Substitution/#plfa_plfa-part2-Substitution-10251" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10252" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10254" href="../Substitution/#plfa_plfa-part2-Substitution-10254" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10256" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10258" href="../Substitution/#plfa_plfa-part2-Substitution-10227" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10260" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-10262" href="../Substitution/#plfa_plfa-part2-Substitution-10251" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10263" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-10273" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10275" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-10278" href="../Substitution/#plfa_plfa-part2-Substitution-10278" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10279" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10281" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10283" href="../Substitution/#plfa_plfa-part2-Substitution-10232" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10285" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10287" href="../Substitution/#plfa_plfa-part2-Substitution-10234" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10290" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10291" href="../Substitution/#plfa_plfa-part2-Substitution-10278" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10292" class="Symbol">})</a>
          <a id="plfa_plfa-part2-Substitution-10305" class="Comment">------------------------</a>
        <a id="plfa_plfa-part2-Substitution-10338" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10340" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-10347" href="../Substitution/#plfa_plfa-part2-Substitution-10232" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-10349" href="../Substitution/#plfa_plfa-part2-Substitution-10254" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-10351" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10353" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-10360" href="../Substitution/#plfa_plfa-part2-Substitution-10234" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-10363" href="../Substitution/#plfa_plfa-part2-Substitution-10254" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-10365" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10377" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10378" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10380" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10382" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-10384" href="../Substitution/#plfa_plfa-part2-Substitution-10384" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10385" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10387" href="../Substitution/#plfa_plfa-part2-Substitution-10387" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10390" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10392" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10397" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Substitution-10400" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10401" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-10410" href="../Substitution/#plfa_plfa-part2-Substitution-10387" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10413" href="../Substitution/#plfa_plfa-part2-Substitution-10384" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10414" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-10416" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10428" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10429" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-10431" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10433" href="../Substitution/#plfa_plfa-part2-Substitution-10433" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10434" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10436" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10437" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-10440" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10442" href="../Substitution/#plfa_plfa-part2-Substitution-10442" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10444" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10446" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10447" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10449" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10451" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-10453" href="../Substitution/#plfa_plfa-part2-Substitution-10453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-10454" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10456" href="../Substitution/#plfa_plfa-part2-Substitution-10456" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10459" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-10464" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10469" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-10472" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10473" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10485" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10486" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-10488" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10490" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10494" href="../Substitution/#plfa_plfa-part2-Substitution-10433" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-10495" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10497" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-10500" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10502" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-10506" href="../Substitution/#plfa_plfa-part2-Substitution-10442" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-10508" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10510" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10512" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10514" href="../Substitution/#plfa_plfa-part2-Substitution-10453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-10515" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10517" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10518" href="../Substitution/#plfa_plfa-part2-Substitution-9875" class="Function">cong-ext</a> <a id="plfa_plfa-part2-Substitution-10527" href="../Substitution/#plfa_plfa-part2-Substitution-10456" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10529" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-10532" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10544" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10545" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-10547" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10549" href="../Substitution/#plfa_plfa-part2-Substitution-10549" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-10551" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-10553" href="../Substitution/#plfa_plfa-part2-Substitution-10553" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-10554" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10556" href="../Substitution/#plfa_plfa-part2-Substitution-10556" class="Bound">rr</a> <a id="plfa_plfa-part2-Substitution-10559" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-10564" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-10570" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-10574" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10575" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10587" href="../Substitution/#plfa_plfa-part2-Substitution-10556" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10589" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10591" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10592" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-10604" href="../Substitution/#plfa_plfa-part2-Substitution-10556" class="Bound">rr</a><a id="plfa_plfa-part2-Substitution-10606" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-exts"></a><a id="plfa_plfa-part2-Substitution-10621" href="../Substitution/#plfa_plfa-part2-Substitution-10621" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-10631" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10633" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10635" href="../Substitution/#plfa_plfa-part2-Substitution-10635" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10637" href="../Substitution/#plfa_plfa-part2-Substitution-10637" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10638" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10640" href="../Substitution/#plfa_plfa-part2-Substitution-10640" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10642" href="../Substitution/#plfa_plfa-part2-Substitution-10642" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10645" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10647" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-10653" href="../Substitution/#plfa_plfa-part2-Substitution-10635" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10655" href="../Substitution/#plfa_plfa-part2-Substitution-10637" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10656" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10658" href="../Substitution/#plfa_plfa-part2-Substitution-10658" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10659" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-10664" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10666" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-10669" href="../Substitution/#plfa_plfa-part2-Substitution-10669" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10670" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10672" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10674" href="../Substitution/#plfa_plfa-part2-Substitution-10640" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10676" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10678" href="../Substitution/#plfa_plfa-part2-Substitution-10642" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10681" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10682" href="../Substitution/#plfa_plfa-part2-Substitution-10669" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10683" class="Symbol">})</a>
     <a id="plfa_plfa-part2-Substitution-10691" class="Comment">-----------------------------------</a>
   <a id="plfa_plfa-part2-Substitution-10730" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10732" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10734" href="../Substitution/#plfa_plfa-part2-Substitution-10734" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10735" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10737" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10739" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10744" href="../Substitution/#plfa_plfa-part2-Substitution-10640" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10746" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10747" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-10749" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10751" href="../Substitution/#plfa_plfa-part2-Substitution-10658" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10752" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10754" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10756" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10761" href="../Substitution/#plfa_plfa-part2-Substitution-10642" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10764" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10765" href="../Substitution/#plfa_plfa-part2-Substitution-10734" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10766" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-10768" href="../Substitution/#plfa_plfa-part2-Substitution-10621" class="Function">cong-exts</a><a id="plfa_plfa-part2-Substitution-10777" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10778" href="../Substitution/#plfa_plfa-part2-Substitution-10778" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-10779" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10781" href="../Substitution/#plfa_plfa-part2-Substitution-10781" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10782" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10784" href="../Substitution/#plfa_plfa-part2-Substitution-10784" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-10785" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10787" href="../Substitution/#plfa_plfa-part2-Substitution-10787" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-10789" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10791" href="../Substitution/#plfa_plfa-part2-Substitution-10791" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-10792" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10794" href="../Substitution/#plfa_plfa-part2-Substitution-10794" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-10797" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10798" href="../Substitution/#plfa_plfa-part2-Substitution-10798" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10799" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10801" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10803" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-10818" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-10820" href="../Substitution/#plfa_plfa-part2-Substitution-10820" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10822" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10824" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10830" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10831" href="../Substitution/#plfa_plfa-part2-Substitution-10820" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10832" class="Symbol">}</a>
   <a id="plfa_plfa-part2-Substitution-10837" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-10846" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10852" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10854" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10856" href="../Substitution/#plfa_plfa-part2-Substitution-10856" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10857" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10859" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-10861" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10866" href="../Substitution/#plfa_plfa-part2-Substitution-10784" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10868" href="../Substitution/#plfa_plfa-part2-Substitution-10856" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-10870" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-10872" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-10877" href="../Substitution/#plfa_plfa-part2-Substitution-10787" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10880" href="../Substitution/#plfa_plfa-part2-Substitution-10856" class="Bound">x</a>
   <a id="plfa_plfa-part2-Substitution-10885" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10891" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10892" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-10893" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10895" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10897" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-10905" href="../Substitution/#plfa_plfa-part2-Substitution-10846" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-10911" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10912" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-10914" href="../Substitution/#plfa_plfa-part2-Substitution-10914" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10915" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-10917" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-10919" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-10924" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10925" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-10932" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-10934" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-10936" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10937" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-10946" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-10947" href="../Substitution/#plfa_plfa-part2-Substitution-10794" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-10950" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-10951" href="../Substitution/#plfa_plfa-part2-Substitution-10798" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-10952" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-10955" href="../Substitution/#plfa_plfa-part2-Substitution-10914" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-10956" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub"></a><a id="plfa_plfa-part2-Substitution-10971" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-10980" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10982" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-10984" href="../Substitution/#plfa_plfa-part2-Substitution-10984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-10986" href="../Substitution/#plfa_plfa-part2-Substitution-10986" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-10987" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-10989" href="../Substitution/#plfa_plfa-part2-Substitution-10989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-10991" href="../Substitution/#plfa_plfa-part2-Substitution-10991" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-10994" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-10996" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11002" href="../Substitution/#plfa_plfa-part2-Substitution-10984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11004" href="../Substitution/#plfa_plfa-part2-Substitution-10986" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11005" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11007" href="../Substitution/#plfa_plfa-part2-Substitution-11007" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11008" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11010" href="../Substitution/#plfa_plfa-part2-Substitution-11010" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11012" href="../Substitution/#plfa_plfa-part2-Substitution-11012" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-11015" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11017" href="../Substitution/#plfa_plfa-part2-Substitution-10984" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11019" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11021" href="../Substitution/#plfa_plfa-part2-Substitution-11007" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11022" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-11036" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11038" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-11041" href="../Substitution/#plfa_plfa-part2-Substitution-11041" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11042" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11044" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11046" href="../Substitution/#plfa_plfa-part2-Substitution-10989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11048" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11050" href="../Substitution/#plfa_plfa-part2-Substitution-10991" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11053" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11054" href="../Substitution/#plfa_plfa-part2-Substitution-11041" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11055" class="Symbol">})</a>  <a id="plfa_plfa-part2-Substitution-11059" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-11062" href="../Substitution/#plfa_plfa-part2-Substitution-11010" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11064" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11066" href="../Substitution/#plfa_plfa-part2-Substitution-11012" class="Bound">M′</a>
              <a id="plfa_plfa-part2-Substitution-11083" class="Comment">------------------------------</a>
            <a id="plfa_plfa-part2-Substitution-11126" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11128" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11134" href="../Substitution/#plfa_plfa-part2-Substitution-10989" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11136" href="../Substitution/#plfa_plfa-part2-Substitution-11010" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11138" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11140" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-11146" href="../Substitution/#plfa_plfa-part2-Substitution-10991" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-11149" href="../Substitution/#plfa_plfa-part2-Substitution-11012" class="Bound">M′</a>
<a id="plfa_plfa-part2-Substitution-11152" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11161" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11162" href="../Substitution/#plfa_plfa-part2-Substitution-11162" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11163" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11165" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11166" href="../Substitution/#plfa_plfa-part2-Substitution-11166" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11167" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11169" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11170" href="../Substitution/#plfa_plfa-part2-Substitution-11170" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11171" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11173" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11174" href="../Substitution/#plfa_plfa-part2-Substitution-11174" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11176" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11178" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11179" href="../Substitution/#plfa_plfa-part2-Substitution-11179" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11180" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11182" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11183" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-11185" href="../Substitution/#plfa_plfa-part2-Substitution-11185" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11186" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11188" href="../Substitution/#plfa_plfa-part2-Substitution-11188" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11191" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11196" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11198" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-11207" href="../Substitution/#plfa_plfa-part2-Substitution-11188" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11210" href="../Substitution/#plfa_plfa-part2-Substitution-11185" class="Bound">x</a>
<a id="plfa_plfa-part2-Substitution-11212" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11221" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11222" href="../Substitution/#plfa_plfa-part2-Substitution-11222" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11223" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11226" href="../Substitution/#plfa_plfa-part2-Substitution-11226" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11227" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11229" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11230" href="../Substitution/#plfa_plfa-part2-Substitution-11230" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11231" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11233" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11234" href="../Substitution/#plfa_plfa-part2-Substitution-11234" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11236" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11238" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11239" href="../Substitution/#plfa_plfa-part2-Substitution-11239" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11240" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11242" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11243" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-11245" href="../Substitution/#plfa_plfa-part2-Substitution-11245" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11246" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11248" href="../Substitution/#plfa_plfa-part2-Substitution-11248" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11251" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11256" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11261" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-11266" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-11269" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11270" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11279" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11280" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-11282" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11284" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11289" href="../Substitution/#plfa_plfa-part2-Substitution-11230" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11290" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11292" class="Argument">σ′</a> <a id="plfa_plfa-part2-Substitution-11295" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11297" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-11302" href="../Substitution/#plfa_plfa-part2-Substitution-11234" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11304" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11306" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11307" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11309" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11311" href="../Substitution/#plfa_plfa-part2-Substitution-11245" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11312" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11314" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11315" href="../Substitution/#plfa_plfa-part2-Substitution-10621" class="Function">cong-exts</a> <a id="plfa_plfa-part2-Substitution-11325" href="../Substitution/#plfa_plfa-part2-Substitution-11248" class="Bound">ss</a><a id="plfa_plfa-part2-Substitution-11327" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11329" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11333" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-11335" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11344" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11345" href="../Substitution/#plfa_plfa-part2-Substitution-11345" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11346" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11348" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11349" href="../Substitution/#plfa_plfa-part2-Substitution-11349" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11350" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11352" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11353" href="../Substitution/#plfa_plfa-part2-Substitution-11353" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11354" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11356" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11357" href="../Substitution/#plfa_plfa-part2-Substitution-11357" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-11359" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11361" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11362" href="../Substitution/#plfa_plfa-part2-Substitution-11362" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11363" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11365" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11366" href="../Substitution/#plfa_plfa-part2-Substitution-11366" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-11368" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-11370" href="../Substitution/#plfa_plfa-part2-Substitution-11370" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11371" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11373" href="../Substitution/#plfa_plfa-part2-Substitution-11373" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11376" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11381" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11386" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-11392" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-11396" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11397" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11406" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11407" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11409" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11411" href="../Substitution/#plfa_plfa-part2-Substitution-11366" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-11412" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11414" href="../Substitution/#plfa_plfa-part2-Substitution-11373" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11417" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11421" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11423" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11424" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-11433" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11434" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-11436" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11438" href="../Substitution/#plfa_plfa-part2-Substitution-11370" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11439" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11441" href="../Substitution/#plfa_plfa-part2-Substitution-11373" class="Bound">ss</a> <a id="plfa_plfa-part2-Substitution-11444" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-11448" class="Symbol">)</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-sub-zero"></a><a id="plfa_plfa-part2-Substitution-11463" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-11477" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11479" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11481" href="../Substitution/#plfa_plfa-part2-Substitution-11481" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11482" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11484" href="../Substitution/#plfa_plfa-part2-Substitution-11484" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-11486" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11488" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-11492" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11494" href="../Substitution/#plfa_plfa-part2-Substitution-11494" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11496" href="../Substitution/#plfa_plfa-part2-Substitution-11496" class="Bound">M′</a> <a id="plfa_plfa-part2-Substitution-11499" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11501" href="../Substitution/#plfa_plfa-part2-Substitution-11481" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11503" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11505" href="../Substitution/#plfa_plfa-part2-Substitution-11484" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11506" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11510" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11512" href="../Substitution/#plfa_plfa-part2-Substitution-11494" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11514" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11516" href="../Substitution/#plfa_plfa-part2-Substitution-11496" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Substitution-11523" class="Comment">-----------------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-11567" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11569" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11571" href="../Substitution/#plfa_plfa-part2-Substitution-11571" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11572" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11574" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11576" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11587" href="../Substitution/#plfa_plfa-part2-Substitution-11494" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11589" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11591" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11592" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11603" href="../Substitution/#plfa_plfa-part2-Substitution-11496" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-11605" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11607" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11608" href="../Substitution/#plfa_plfa-part2-Substitution-11571" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11609" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11611" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-11625" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11626" href="../Substitution/#plfa_plfa-part2-Substitution-11626" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11627" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11629" href="../Substitution/#plfa_plfa-part2-Substitution-11629" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-11630" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11632" href="../Substitution/#plfa_plfa-part2-Substitution-11632" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11633" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11635" href="../Substitution/#plfa_plfa-part2-Substitution-11635" class="Bound">M′</a><a id="plfa_plfa-part2-Substitution-11637" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11639" href="../Substitution/#plfa_plfa-part2-Substitution-11639" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Substitution-11643" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11644" href="../Substitution/#plfa_plfa-part2-Substitution-11644" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11645" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11647" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-11652" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11667" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-11669" href="../Substitution/#plfa_plfa-part2-Substitution-11669" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11671" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11673" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-11678" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-11681" href="../Substitution/#plfa_plfa-part2-Substitution-11681" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-11683" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11685" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-11696" href="../Substitution/#plfa_plfa-part2-Substitution-11681" class="Bound">z</a> <a id="plfa_plfa-part2-Substitution-11698" href="../Substitution/#plfa_plfa-part2-Substitution-11669" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-11699" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11701" href="../Substitution/#plfa_plfa-part2-Substitution-11639" class="Bound">mm&#39;</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-cons"></a><a id="plfa_plfa-part2-Substitution-11718" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-11728" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11730" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11732" href="../Substitution/#plfa_plfa-part2-Substitution-11732" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11734" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11735" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11737" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11738" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11740" href="../Substitution/#plfa_plfa-part2-Substitution-11740" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11742" href="../Substitution/#plfa_plfa-part2-Substitution-11742" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-11744" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11746" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-11748" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-11750" href="../Substitution/#plfa_plfa-part2-Substitution-11737" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11751" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11753" href="../Substitution/#plfa_plfa-part2-Substitution-11753" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11755" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11757" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11759" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-11765" href="../Substitution/#plfa_plfa-part2-Substitution-11732" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11767" href="../Substitution/#plfa_plfa-part2-Substitution-11734" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11768" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-11772" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11774" href="../Substitution/#plfa_plfa-part2-Substitution-11740" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11776" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11778" href="../Substitution/#plfa_plfa-part2-Substitution-11742" class="Bound">N</a>  <a id="plfa_plfa-part2-Substitution-11781" class="Symbol">→</a>  <a id="plfa_plfa-part2-Substitution-11784" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-11787" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11788" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11790" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11792" href="../Substitution/#plfa_plfa-part2-Substitution-11753" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-11794" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11795" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11796" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11798" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11800" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-11802" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11803" href="../Substitution/#plfa_plfa-part2-Substitution-11787" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11804" class="Symbol">})</a>
    <a id="plfa_plfa-part2-Substitution-11811" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Substitution-11846" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11848" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-11850" href="../Substitution/#plfa_plfa-part2-Substitution-11850" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11851" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11853" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11855" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11856" href="../Substitution/#plfa_plfa-part2-Substitution-11740" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11858" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11860" href="../Substitution/#plfa_plfa-part2-Substitution-11753" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11861" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11863" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11864" href="../Substitution/#plfa_plfa-part2-Substitution-11850" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11865" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11867" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11869" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11870" href="../Substitution/#plfa_plfa-part2-Substitution-11742" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-11872" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11874" href="../Substitution/#plfa_plfa-part2-Substitution-11755" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11875" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11877" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11878" href="../Substitution/#plfa_plfa-part2-Substitution-11850" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11879" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-11881" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a><a id="plfa_plfa-part2-Substitution-11890" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11891" href="../Substitution/#plfa_plfa-part2-Substitution-11891" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-11892" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11894" href="../Substitution/#plfa_plfa-part2-Substitution-11894" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-11895" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11897" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-11898" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11900" href="../Substitution/#plfa_plfa-part2-Substitution-11900" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-11901" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11903" href="../Substitution/#plfa_plfa-part2-Substitution-11903" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-11904" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11906" href="../Substitution/#plfa_plfa-part2-Substitution-11906" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11907" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-11909" href="../Substitution/#plfa_plfa-part2-Substitution-11909" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-11910" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11912" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-11917" href="../Substitution/#plfa_plfa-part2-Substitution-11917" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-11920" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-11921" href="../Substitution/#plfa_plfa-part2-Substitution-11921" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-11923" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-11925" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-11927" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-11942" href="../Substitution/#plfa_plfa-part2-Substitution-11958" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-11950" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-11958" href="../Substitution/#plfa_plfa-part2-Substitution-11958" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-11964" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11966" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11967" href="../Substitution/#plfa_plfa-part2-Substitution-11967" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11969" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-11971" href="../Substitution/#plfa_plfa-part2-Substitution-11891" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-11973" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-11975" href="../Substitution/#plfa_plfa-part2-Substitution-11897" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-11977" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-11979" href="../Substitution/#plfa_plfa-part2-Substitution-11921" class="Bound">A′</a><a id="plfa_plfa-part2-Substitution-11981" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11983" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-11985" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11986" href="../Substitution/#plfa_plfa-part2-Substitution-11900" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-11988" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-11990" href="../Substitution/#plfa_plfa-part2-Substitution-11906" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-11991" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-11993" href="../Substitution/#plfa_plfa-part2-Substitution-11967" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-11995" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-11997" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-11998" href="../Substitution/#plfa_plfa-part2-Substitution-11900" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-12000" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-12002" href="../Substitution/#plfa_plfa-part2-Substitution-11909" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12003" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12005" href="../Substitution/#plfa_plfa-part2-Substitution-11967" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12009" href="../Substitution/#plfa_plfa-part2-Substitution-11958" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12015" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-12017" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12019" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-12026" href="../Substitution/#plfa_plfa-part2-Substitution-11958" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12032" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12033" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-12035" href="../Substitution/#plfa_plfa-part2-Substitution-12035" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12036" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12038" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12040" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12049" href="../Substitution/#plfa_plfa-part2-Substitution-11917" class="Bound">st</a> <a id="plfa_plfa-part2-Substitution-12052" href="../Substitution/#plfa_plfa-part2-Substitution-12035" class="Bound">x</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Substitution-cong-seq"></a><a id="plfa_plfa-part2-Substitution-12067" href="../Substitution/#plfa_plfa-part2-Substitution-12067" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-12076" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12078" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12080" href="../Substitution/#plfa_plfa-part2-Substitution-12080" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12082" href="../Substitution/#plfa_plfa-part2-Substitution-12082" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-12084" href="../Substitution/#plfa_plfa-part2-Substitution-12084" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12085" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12087" href="../Substitution/#plfa_plfa-part2-Substitution-12087" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12089" href="../Substitution/#plfa_plfa-part2-Substitution-12089" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12092" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12094" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-12100" href="../Substitution/#plfa_plfa-part2-Substitution-12080" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12102" href="../Substitution/#plfa_plfa-part2-Substitution-12082" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12103" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12105" href="../Substitution/#plfa_plfa-part2-Substitution-12105" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12107" href="../Substitution/#plfa_plfa-part2-Substitution-12107" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12110" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12112" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-12118" href="../Substitution/#plfa_plfa-part2-Substitution-12082" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-12120" href="../Substitution/#plfa_plfa-part2-Substitution-12084" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12121" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-12125" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12127" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12130" href="../Substitution/#plfa_plfa-part2-Substitution-12130" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12131" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12133" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12135" href="../Substitution/#plfa_plfa-part2-Substitution-12087" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12137" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12138" href="../Substitution/#plfa_plfa-part2-Substitution-12130" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12139" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12141" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12143" href="../Substitution/#plfa_plfa-part2-Substitution-12089" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12146" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12147" href="../Substitution/#plfa_plfa-part2-Substitution-12130" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12148" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-12151" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12153" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-12156" href="../Substitution/#plfa_plfa-part2-Substitution-12156" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12157" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12159" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12161" href="../Substitution/#plfa_plfa-part2-Substitution-12105" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12163" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12164" href="../Substitution/#plfa_plfa-part2-Substitution-12156" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12165" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12167" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12169" href="../Substitution/#plfa_plfa-part2-Substitution-12107" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12172" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12173" href="../Substitution/#plfa_plfa-part2-Substitution-12156" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12174" class="Symbol">})</a>
  <a id="plfa_plfa-part2-Substitution-12179" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12181" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-12183" href="../Substitution/#plfa_plfa-part2-Substitution-12183" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12184" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12186" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12188" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12189" href="../Substitution/#plfa_plfa-part2-Substitution-12087" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12191" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12193" href="../Substitution/#plfa_plfa-part2-Substitution-12105" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12194" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12196" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12197" href="../Substitution/#plfa_plfa-part2-Substitution-12183" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12198" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12200" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12202" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12203" href="../Substitution/#plfa_plfa-part2-Substitution-12089" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12206" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12208" href="../Substitution/#plfa_plfa-part2-Substitution-12107" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12210" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12212" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12213" href="../Substitution/#plfa_plfa-part2-Substitution-12183" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12214" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-12216" href="../Substitution/#plfa_plfa-part2-Substitution-12067" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-12225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12226" href="../Substitution/#plfa_plfa-part2-Substitution-12226" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-12227" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12229" href="../Substitution/#plfa_plfa-part2-Substitution-12229" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-12230" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12232" href="../Substitution/#plfa_plfa-part2-Substitution-12232" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-12233" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12235" href="../Substitution/#plfa_plfa-part2-Substitution-12235" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-12236" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12238" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a><a id="plfa_plfa-part2-Substitution-12240" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12242" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12243" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-12245" href="../Substitution/#plfa_plfa-part2-Substitution-12245" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12247" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12249" href="../Substitution/#plfa_plfa-part2-Substitution-12249" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-12253" href="../Substitution/#plfa_plfa-part2-Substitution-12253" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-12257" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12258" href="../Substitution/#plfa_plfa-part2-Substitution-12258" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12259" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12261" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12263" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-12278" href="../Substitution/#plfa_plfa-part2-Substitution-12294" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-12286" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-12294" href="../Substitution/#plfa_plfa-part2-Substitution-12294" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12300" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12302" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12303" href="../Substitution/#plfa_plfa-part2-Substitution-12303" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12305" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-12307" href="../Substitution/#plfa_plfa-part2-Substitution-12226" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-12309" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-12311" href="../Substitution/#plfa_plfa-part2-Substitution-12258" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-12312" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12314" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-12316" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12317" href="../Substitution/#plfa_plfa-part2-Substitution-12235" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12319" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12321" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12322" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12324" href="../Substitution/#plfa_plfa-part2-Substitution-12303" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12326" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-12328" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12329" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12332" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12334" href="../Substitution/#plfa_plfa-part2-Substitution-12245" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12336" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12338" href="../Substitution/#plfa_plfa-part2-Substitution-12303" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-12342" href="../Substitution/#plfa_plfa-part2-Substitution-12294" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-12348" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-12350" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-12357" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-12370" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12371" href="../Substitution/#plfa_plfa-part2-Substitution-12235" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12373" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12375" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12376" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12378" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-12385" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-12396" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12402" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12404" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12405" href="../Substitution/#plfa_plfa-part2-Substitution-12235" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-12407" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12408" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12415" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-12418" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-12423" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12424" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12430" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-12431" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12433" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12434" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="plfa_plfa-part2-Substitution-12443" href="../Substitution/#plfa_plfa-part2-Substitution-12249" class="Bound">ss&#39;</a> <a id="plfa_plfa-part2-Substitution-12447" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12448" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12450" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-12459" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12465" href="../Substitution/#plfa_plfa-part2-Substitution-12242" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-12467" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12468" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12471" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12472" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12479" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-12482" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-12490" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-12491" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-12493" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-12495" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12498" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12499" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-12501" href="../Substitution/#plfa_plfa-part2-Substitution-12253" class="Bound">tt&#39;</a> <a id="plfa_plfa-part2-Substitution-12505" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-12510" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-12519" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-12525" href="../Substitution/#plfa_plfa-part2-Substitution-12245" class="Bound">τ′</a> <a id="plfa_plfa-part2-Substitution-12528" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12529" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12532" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-12533" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-12540" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-12551" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-12552" href="../Substitution/#plfa_plfa-part2-Substitution-12238" class="Bound">σ′</a> <a id="plfa_plfa-part2-Substitution-12555" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-12557" href="../Substitution/#plfa_plfa-part2-Substitution-12245" class="Bound">τ′</a><a id="plfa_plfa-part2-Substitution-12559" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-12561" href="../Substitution/#plfa_plfa-part2-Substitution-12348" class="Bound">x</a>
     <a id="plfa_plfa-part2-Substitution-12568" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="relating-rename-exts-ext-and-subst-zero-to-the-σ-algebra">Relating <code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code> to the σ algebra</h2><p>In this section we establish equations that relate <code>subst</code> and its helper functions (<code>rename</code>, <code>exts</code>, <code>ext</code>, and <code>subst-zero</code>) to terms in the σ algebra.</p><p>The first equation we prove is</p><pre><code>rename ρ M ≡ ⟪ ren ρ ⟫ M              (rename-subst-ren)</code></pre><p>Because <code>subst</code> uses the <code>exts</code> function, we need the following lemma which says that <code>exts</code> and <code>ext</code> do the same thing except that <code>ext</code> works on renamings and <code>exts</code> works on substitutions.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-ext"></a><a id="plfa_plfa-part2-Substitution-13100" href="../Substitution/#plfa_plfa-part2-Substitution-13100" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-13108" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13110" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13112" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13113" href="../Substitution/#plfa_plfa-part2-Substitution-13113" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13115" href="../Substitution/#plfa_plfa-part2-Substitution-13115" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13116" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13118" href="../Substitution/#plfa_plfa-part2-Substitution-13118" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-13120" href="../Substitution/#plfa_plfa-part2-Substitution-13120" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-13122" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13124" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-13128" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13130" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13131" href="../Substitution/#plfa_plfa-part2-Substitution-13131" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13133" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13135" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-13142" href="../Substitution/#plfa_plfa-part2-Substitution-13113" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13144" href="../Substitution/#plfa_plfa-part2-Substitution-13115" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13145" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-13155" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13157" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13161" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13162" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13166" href="../Substitution/#plfa_plfa-part2-Substitution-13131" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13168" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13169" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-13171" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13173" href="../Substitution/#plfa_plfa-part2-Substitution-13118" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13174" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13177" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13179" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13184" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13185" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13189" href="../Substitution/#plfa_plfa-part2-Substitution-13131" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13190" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13192" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13193" href="../Substitution/#plfa_plfa-part2-Substitution-13120" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13194" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-13196" href="../Substitution/#plfa_plfa-part2-Substitution-13100" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-13204" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13205" href="../Substitution/#plfa_plfa-part2-Substitution-13205" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-13206" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13208" href="../Substitution/#plfa_plfa-part2-Substitution-13208" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13209" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13211" href="../Substitution/#plfa_plfa-part2-Substitution-13211" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-13212" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13214" href="../Substitution/#plfa_plfa-part2-Substitution-13214" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13215" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13217" href="../Substitution/#plfa_plfa-part2-Substitution-13217" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13218" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13220" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13222" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-13237" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-13239" href="../Substitution/#plfa_plfa-part2-Substitution-13239" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13241" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13243" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13249" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13250" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13252" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13254" href="../Substitution/#plfa_plfa-part2-Substitution-13239" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13255" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-13259" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-13267" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13273" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13275" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13277" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13278" href="../Substitution/#plfa_plfa-part2-Substitution-13278" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13280" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13282" href="../Substitution/#plfa_plfa-part2-Substitution-13205" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13284" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-13286" href="../Substitution/#plfa_plfa-part2-Substitution-13211" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-13288" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-13290" href="../Substitution/#plfa_plfa-part2-Substitution-13214" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-13291" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13293" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13295" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13296" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13300" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13301" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13305" href="../Substitution/#plfa_plfa-part2-Substitution-13217" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13306" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-13309" href="../Substitution/#plfa_plfa-part2-Substitution-13278" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-13311" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13313" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13318" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13319" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13323" href="../Substitution/#plfa_plfa-part2-Substitution-13217" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13324" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13326" href="../Substitution/#plfa_plfa-part2-Substitution-13278" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-13330" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13336" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13337" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13339" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13341" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-13342" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13344" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13346" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-13353" href="../Substitution/#plfa_plfa-part2-Substitution-13267" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-13359" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13360" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-13362" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13364" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-13366" href="../Substitution/#plfa_plfa-part2-Substitution-13366" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13367" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13369" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13371" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>With this lemma in hand, the proof is a straightforward induction on the term <code>M</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-ren"></a><a id="plfa_plfa-part2-Substitution-13473" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13490" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13492" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-13494" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13495" href="../Substitution/#plfa_plfa-part2-Substitution-13495" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13497" href="../Substitution/#plfa_plfa-part2-Substitution-13497" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13498" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13500" href="../Substitution/#plfa_plfa-part2-Substitution-13500" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13501" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13503" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13504" href="../Substitution/#plfa_plfa-part2-Substitution-13504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13506" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13508" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-13515" href="../Substitution/#plfa_plfa-part2-Substitution-13495" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13517" href="../Substitution/#plfa_plfa-part2-Substitution-13497" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-13518" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13520" href="../Substitution/#plfa_plfa-part2-Substitution-13520" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13522" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-13524" href="../Substitution/#plfa_plfa-part2-Substitution-13495" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-13526" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-13528" href="../Substitution/#plfa_plfa-part2-Substitution-13500" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-13529" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-13548" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-13550" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13557" href="../Substitution/#plfa_plfa-part2-Substitution-13504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13559" href="../Substitution/#plfa_plfa-part2-Substitution-13520" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-13561" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-13563" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13565" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13569" href="../Substitution/#plfa_plfa-part2-Substitution-13504" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13571" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-13573" href="../Substitution/#plfa_plfa-part2-Substitution-13520" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-13575" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13592" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13593" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13595" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13597" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-13599" href="../Substitution/#plfa_plfa-part2-Substitution-13599" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-13600" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13602" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13604" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-13609" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13626" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13627" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13629" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13631" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13632" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13634" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13636" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13638" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13640" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13641" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13643" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-13647" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-13659" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13666" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13668" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13669" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13671" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13672" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-13678" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-13688" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13690" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-13697" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13698" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13702" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13703" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13705" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-13711" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-13714" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13719" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13722" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13723" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13740" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13741" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-13743" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13745" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13749" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13750" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-13752" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13754" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13756" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13757" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-13760" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-13768" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13770" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13772" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13776" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13777" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-13781" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13782" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13784" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-13786" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-13792" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-13795" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-13800" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-13803" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13804" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-13813" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13814" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13816" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13818" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13819" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13821" href="../Substitution/#plfa_plfa-part2-Substitution-13100" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-13829" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-13833" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13835" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-13843" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13845" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13847" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-13852" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13853" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13857" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-13858" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-13860" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a>  <a id="plfa_plfa-part2-Substitution-13863" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a>
    <a id="plfa_plfa-part2-Substitution-13869" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="plfa_plfa-part2-Substitution-13879" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-13881" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-13885" href="../Substitution/#plfa_plfa-part2-Substitution-13631" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-13887" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-13889" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-13890" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-13892" href="../Substitution/#plfa_plfa-part2-Substitution-13640" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-13893" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-13897" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-13899" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13916" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-13917" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-13919" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13921" href="../Substitution/#plfa_plfa-part2-Substitution-13921" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-13923" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-13925" href="../Substitution/#plfa_plfa-part2-Substitution-13925" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-13926" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-13928" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-13930" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-13936" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-13940" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-13957" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a>
</pre><p>The substitution <code>ren S_</code> is equivalent to <code>↑</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ren-shift"></a><a id="plfa_plfa-part2-Substitution-14036" href="../Substitution/#plfa_plfa-part2-Substitution-14036" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14046" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14048" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14050" href="../Substitution/#plfa_plfa-part2-Substitution-14050" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14051" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14053" href="../Substitution/#plfa_plfa-part2-Substitution-14053" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14054" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14056" href="../Substitution/#plfa_plfa-part2-Substitution-14056" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14057" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-14069" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14071" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14075" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14078" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14080" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14082" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14083" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-14085" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14087" href="../Substitution/#plfa_plfa-part2-Substitution-14056" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14088" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14090" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14091" href="../Substitution/#plfa_plfa-part2-Substitution-14053" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14092" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-14094" href="../Substitution/#plfa_plfa-part2-Substitution-14036" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14104" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14105" href="../Substitution/#plfa_plfa-part2-Substitution-14105" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14106" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14108" href="../Substitution/#plfa_plfa-part2-Substitution-14108" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14109" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14111" href="../Substitution/#plfa_plfa-part2-Substitution-14111" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14112" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14114" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14116" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14131" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-14133" href="../Substitution/#plfa_plfa-part2-Substitution-14133" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14135" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14137" href="../Substitution/#plfa_plfa-part2-Substitution-14161" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14143" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14144" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14146" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14148" href="../Substitution/#plfa_plfa-part2-Substitution-14133" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14149" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-14153" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-14161" href="../Substitution/#plfa_plfa-part2-Substitution-14161" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14167" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14169" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-14171" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14172" href="../Substitution/#plfa_plfa-part2-Substitution-14172" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14174" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14176" href="../Substitution/#plfa_plfa-part2-Substitution-14105" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14178" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-14180" href="../Substitution/#plfa_plfa-part2-Substitution-14108" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14181" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14183" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14185" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14189" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14190" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-14192" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14193" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-14195" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14197" href="../Substitution/#plfa_plfa-part2-Substitution-14111" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14198" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14201" href="../Substitution/#plfa_plfa-part2-Substitution-14172" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14203" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14205" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14207" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14208" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-14210" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14212" href="../Substitution/#plfa_plfa-part2-Substitution-14111" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14213" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14215" href="../Substitution/#plfa_plfa-part2-Substitution-14172" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-14219" href="../Substitution/#plfa_plfa-part2-Substitution-14161" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14225" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14226" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14228" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14230" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-14231" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14233" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14235" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-14242" href="../Substitution/#plfa_plfa-part2-Substitution-14161" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-14248" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14249" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14251" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14253" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-14255" href="../Substitution/#plfa_plfa-part2-Substitution-14255" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14256" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14258" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14260" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>The substitution <code>rename S_ M</code> is equivalent to shifting: <code>⟪ ↑ ⟫ M</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-shift"></a><a id="plfa_plfa-part2-Substitution-14348" href="../Substitution/#plfa_plfa-part2-Substitution-14348" class="Function">rename-shift</a> <a id="plfa_plfa-part2-Substitution-14361" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14363" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14365" href="../Substitution/#plfa_plfa-part2-Substitution-14365" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14366" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14368" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14369" href="../Substitution/#plfa_plfa-part2-Substitution-14369" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14370" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14372" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14373" href="../Substitution/#plfa_plfa-part2-Substitution-14373" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14374" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14376" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14377" href="../Substitution/#plfa_plfa-part2-Substitution-14377" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14379" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14381" href="../Substitution/#plfa_plfa-part2-Substitution-14365" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14383" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-14385" href="../Substitution/#plfa_plfa-part2-Substitution-14369" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14386" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-14401" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14403" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-14410" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14411" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-14413" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14414" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-14416" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14418" href="../Substitution/#plfa_plfa-part2-Substitution-14373" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14419" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-14422" href="../Substitution/#plfa_plfa-part2-Substitution-14377" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-14424" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14426" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14428" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14430" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14432" href="../Substitution/#plfa_plfa-part2-Substitution-14377" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-14434" href="../Substitution/#plfa_plfa-part2-Substitution-14348" class="Function">rename-shift</a><a id="plfa_plfa-part2-Substitution-14446" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14447" href="../Substitution/#plfa_plfa-part2-Substitution-14447" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-14448" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14450" href="../Substitution/#plfa_plfa-part2-Substitution-14450" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14451" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14453" href="../Substitution/#plfa_plfa-part2-Substitution-14453" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14454" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-14456" href="../Substitution/#plfa_plfa-part2-Substitution-14456" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14457" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14459" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-14463" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-14473" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-14480" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14483" href="../Substitution/#plfa_plfa-part2-Substitution-14456" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14487" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-14490" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a> <a id="plfa_plfa-part2-Substitution-14507" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-14513" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14515" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-14519" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-14522" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14524" href="../Substitution/#plfa_plfa-part2-Substitution-14456" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14528" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-14531" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-14539" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14540" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-14542" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14544" href="../Substitution/#plfa_plfa-part2-Substitution-14456" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-14545" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14547" href="../Substitution/#plfa_plfa-part2-Substitution-14036" class="Function">ren-shift</a> <a id="plfa_plfa-part2-Substitution-14557" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-14562" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-14568" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-14570" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-14572" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-14574" href="../Substitution/#plfa_plfa-part2-Substitution-14456" class="Bound">M</a>
  <a id="plfa_plfa-part2-Substitution-14578" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>Next we prove the equation <code>exts-cons-shift</code>, which states that <code>exts</code> is equivalent to cons’ing Z onto the sequence formed by applying <code>σ</code> and then shifting. The proof is by case analysis on the variable <code>x</code>, using <code>rename-subst-ren</code> for when <code>x = S y</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-cons-shift"></a><a id="plfa_plfa-part2-Substitution-14849" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-14865" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14867" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-14869" href="../Substitution/#plfa_plfa-part2-Substitution-14869" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14871" href="../Substitution/#plfa_plfa-part2-Substitution-14871" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14872" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14874" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14875" href="../Substitution/#plfa_plfa-part2-Substitution-14875" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-14877" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14878" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14880" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14881" href="../Substitution/#plfa_plfa-part2-Substitution-14881" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14883" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-14885" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-14891" href="../Substitution/#plfa_plfa-part2-Substitution-14869" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-14893" href="../Substitution/#plfa_plfa-part2-Substitution-14871" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-14894" class="Symbol">}</a>
                <a id="plfa_plfa-part2-Substitution-14912" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14914" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-14919" href="../Substitution/#plfa_plfa-part2-Substitution-14881" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14921" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14922" href="../Substitution/#plfa_plfa-part2-Substitution-14875" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-14923" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14925" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14926" href="../Substitution/#plfa_plfa-part2-Substitution-14877" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-14927" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-14929" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-14931" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14932" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-14934" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-14936" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-14938" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-14939" href="../Substitution/#plfa_plfa-part2-Substitution-14881" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-14941" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-14943" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-14944" class="Symbol">))</a>
<a id="plfa_plfa-part2-Substitution-14947" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-14963" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14965" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-14980" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-14982" href="../Substitution/#plfa_plfa-part2-Substitution-14982" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-14984" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-14986" href="../Substitution/#plfa_plfa-part2-Substitution-15009" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-14991" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-14992" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-14994" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-14996" href="../Substitution/#plfa_plfa-part2-Substitution-14982" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-14997" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-15001" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-15009" href="../Substitution/#plfa_plfa-part2-Substitution-15009" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15015" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15017" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15019" href="../Substitution/#plfa_plfa-part2-Substitution-15019" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15021" href="../Substitution/#plfa_plfa-part2-Substitution-15021" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15022" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15024" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15025" href="../Substitution/#plfa_plfa-part2-Substitution-15025" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15027" href="../Substitution/#plfa_plfa-part2-Substitution-15027" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15028" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15030" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15031" href="../Substitution/#plfa_plfa-part2-Substitution-15031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15033" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15035" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-15041" href="../Substitution/#plfa_plfa-part2-Substitution-15019" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15043" href="../Substitution/#plfa_plfa-part2-Substitution-15021" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15044" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15046" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15047" href="../Substitution/#plfa_plfa-part2-Substitution-15047" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15049" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15051" href="../Substitution/#plfa_plfa-part2-Substitution-15019" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15053" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-15055" href="../Substitution/#plfa_plfa-part2-Substitution-15027" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15057" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-15059" href="../Substitution/#plfa_plfa-part2-Substitution-15025" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15060" class="Symbol">}</a>
                  <a id="plfa_plfa-part2-Substitution-15080" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15082" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-15087" href="../Substitution/#plfa_plfa-part2-Substitution-15031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15089" href="../Substitution/#plfa_plfa-part2-Substitution-15047" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15091" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15093" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15094" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15096" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-15098" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15100" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15101" href="../Substitution/#plfa_plfa-part2-Substitution-15031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-15103" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15105" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15106" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-15109" href="../Substitution/#plfa_plfa-part2-Substitution-15047" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-15113" href="../Substitution/#plfa_plfa-part2-Substitution-15009" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15119" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15120" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15122" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15124" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-15125" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15127" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15129" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-15136" href="../Substitution/#plfa_plfa-part2-Substitution-15009" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15142" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15143" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15145" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15147" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-15149" href="../Substitution/#plfa_plfa-part2-Substitution-15149" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-15150" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15152" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15154" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a>
</pre><p>As a corollary, we have a similar correspondence for <code>ren (ext ρ)</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-ext-cons-Z-shift"></a><a id="plfa_plfa-part2-Substitution-15253" href="../Substitution/#plfa_plfa-part2-Substitution-15253" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-15270" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15272" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15274" href="../Substitution/#plfa_plfa-part2-Substitution-15274" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15276" href="../Substitution/#plfa_plfa-part2-Substitution-15276" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15277" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15279" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15280" href="../Substitution/#plfa_plfa-part2-Substitution-15280" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15282" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15284" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-15291" href="../Substitution/#plfa_plfa-part2-Substitution-15274" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15293" href="../Substitution/#plfa_plfa-part2-Substitution-15276" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15294" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15296" href="../Substitution/#plfa_plfa-part2-Substitution-15296" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15297" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15299" href="../Substitution/#plfa_plfa-part2-Substitution-15299" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15300" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-15319" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15321" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15325" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15326" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-15330" href="../Substitution/#plfa_plfa-part2-Substitution-15280" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15332" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15333" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-15335" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15337" href="../Substitution/#plfa_plfa-part2-Substitution-15299" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15338" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-15341" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15343" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15344" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15346" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-15348" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15350" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15351" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15355" href="../Substitution/#plfa_plfa-part2-Substitution-15280" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15357" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15359" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15360" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-15363" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15364" href="../Substitution/#plfa_plfa-part2-Substitution-15296" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15365" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-15367" href="../Substitution/#plfa_plfa-part2-Substitution-15253" class="Function">ext-cons-Z-shift</a> <a id="plfa_plfa-part2-Substitution-15384" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15385" href="../Substitution/#plfa_plfa-part2-Substitution-15385" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15386" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15388" href="../Substitution/#plfa_plfa-part2-Substitution-15388" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-15389" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15391" href="../Substitution/#plfa_plfa-part2-Substitution-15391" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15392" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15394" href="../Substitution/#plfa_plfa-part2-Substitution-15394" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15395" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15397" href="../Substitution/#plfa_plfa-part2-Substitution-15397" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15398" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15400" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Substitution-15404" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Substitution-15414" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15418" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15419" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-15423" href="../Substitution/#plfa_plfa-part2-Substitution-15391" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15424" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-15428" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15431" href="../Substitution/#plfa_plfa-part2-Substitution-13100" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-15439" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
    <a id="plfa_plfa-part2-Substitution-15445" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-15450" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15451" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15455" href="../Substitution/#plfa_plfa-part2-Substitution-15391" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15456" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Substitution-15460" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-15463" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a><a id="plfa_plfa-part2-Substitution-15478" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15479" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-15481" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15483" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15487" href="../Substitution/#plfa_plfa-part2-Substitution-15391" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-15488" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15490" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
   <a id="plfa_plfa-part2-Substitution-15495" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-15497" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-15499" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-15500" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15502" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15504" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15505" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-15509" href="../Substitution/#plfa_plfa-part2-Substitution-15391" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-15511" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-15513" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-15514" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Substitution-15519" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>Finally, the <code>subst-zero M</code> substitution is equivalent to cons’ing <code>M</code> onto the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-Z-cons-ids"></a><a id="plfa_plfa-part2-Substitution-15638" href="../Substitution/#plfa_plfa-part2-Substitution-15638" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-15655" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15657" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15659" href="../Substitution/#plfa_plfa-part2-Substitution-15659" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15660" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15662" href="../Substitution/#plfa_plfa-part2-Substitution-15662" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15664" href="../Substitution/#plfa_plfa-part2-Substitution-15664" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15666" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15668" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-15672" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15674" href="../Substitution/#plfa_plfa-part2-Substitution-15674" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15676" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15678" href="../Substitution/#plfa_plfa-part2-Substitution-15659" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15680" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-15682" href="../Substitution/#plfa_plfa-part2-Substitution-15664" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15683" class="Symbol">}</a>
                 <a id="plfa_plfa-part2-Substitution-15702" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15704" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-15715" href="../Substitution/#plfa_plfa-part2-Substitution-15674" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15717" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15719" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15720" href="../Substitution/#plfa_plfa-part2-Substitution-15674" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15722" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15724" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-15727" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15729" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15730" href="../Substitution/#plfa_plfa-part2-Substitution-15662" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15731" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-15733" href="../Substitution/#plfa_plfa-part2-Substitution-15638" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-15750" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15752" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-15767" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-15769" href="../Substitution/#plfa_plfa-part2-Substitution-15769" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15771" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15773" href="../Substitution/#plfa_plfa-part2-Substitution-15797" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15779" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15780" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15782" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15784" href="../Substitution/#plfa_plfa-part2-Substitution-15769" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15785" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-15789" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-15797" href="../Substitution/#plfa_plfa-part2-Substitution-15797" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15803" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15805" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-15807" href="../Substitution/#plfa_plfa-part2-Substitution-15807" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-15808" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15810" href="../Substitution/#plfa_plfa-part2-Substitution-15810" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-15812" href="../Substitution/#plfa_plfa-part2-Substitution-15812" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15814" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15816" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a><a id="plfa_plfa-part2-Substitution-15820" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15822" href="../Substitution/#plfa_plfa-part2-Substitution-15822" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15824" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15826" href="../Substitution/#plfa_plfa-part2-Substitution-15807" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15828" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-15830" href="../Substitution/#plfa_plfa-part2-Substitution-15812" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-15831" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-15833" href="../Substitution/#plfa_plfa-part2-Substitution-15833" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15835" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-15837" href="../Substitution/#plfa_plfa-part2-Substitution-15807" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-15839" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-15841" href="../Substitution/#plfa_plfa-part2-Substitution-15812" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-15843" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-15845" href="../Substitution/#plfa_plfa-part2-Substitution-15810" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-15846" class="Symbol">}</a>
                      <a id="plfa_plfa-part2-Substitution-15870" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-15872" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-15883" href="../Substitution/#plfa_plfa-part2-Substitution-15822" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15885" href="../Substitution/#plfa_plfa-part2-Substitution-15833" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-15887" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-15889" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-15890" href="../Substitution/#plfa_plfa-part2-Substitution-15822" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-15892" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-15894" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-15897" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-15899" href="../Substitution/#plfa_plfa-part2-Substitution-15833" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-15903" href="../Substitution/#plfa_plfa-part2-Substitution-15797" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15909" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15910" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15912" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15914" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-15915" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15917" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15919" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-15926" href="../Substitution/#plfa_plfa-part2-Substitution-15797" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-15932" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-15933" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-15935" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15937" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-15939" href="../Substitution/#plfa_plfa-part2-Substitution-15939" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-15940" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-15942" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-15944" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="proofs-of-sub-abs-sub-id-and-rename-id">Proofs of sub-abs, sub-id, and rename-id</h2><p>The equation <code>sub-abs</code> follows immediately from the equation <code>exts-cons-shift</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-abs"></a><a id="plfa_plfa-part2-Substitution-16089" href="../Substitution/#plfa_plfa-part2-Substitution-16089" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-16097" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16099" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-16101" href="../Substitution/#plfa_plfa-part2-Substitution-16101" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16103" href="../Substitution/#plfa_plfa-part2-Substitution-16103" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16104" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16106" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16107" href="../Substitution/#plfa_plfa-part2-Substitution-16107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16109" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16111" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-16117" href="../Substitution/#plfa_plfa-part2-Substitution-16101" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16119" href="../Substitution/#plfa_plfa-part2-Substitution-16103" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-16120" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16122" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16123" href="../Substitution/#plfa_plfa-part2-Substitution-16123" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-16125" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16127" href="../Substitution/#plfa_plfa-part2-Substitution-16101" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16129" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16131" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-16133" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16135" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-16136" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-16146" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16148" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16150" href="../Substitution/#plfa_plfa-part2-Substitution-16107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16152" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16154" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16155" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16157" href="../Substitution/#plfa_plfa-part2-Substitution-16123" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16158" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16160" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16162" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16164" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16166" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16167" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16169" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16170" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16172" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-16174" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16175" href="../Substitution/#plfa_plfa-part2-Substitution-16107" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16177" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-16179" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-16180" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16182" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16184" href="../Substitution/#plfa_plfa-part2-Substitution-16123" class="Bound">N</a>
<a id="plfa_plfa-part2-Substitution-16186" href="../Substitution/#plfa_plfa-part2-Substitution-16089" class="Function">sub-abs</a> <a id="plfa_plfa-part2-Substitution-16194" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16195" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-16197" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16199" href="../Substitution/#plfa_plfa-part2-Substitution-16199" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-16200" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16202" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-16204" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16206" href="../Substitution/#plfa_plfa-part2-Substitution-16206" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16207" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16209" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-16214" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-16225" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16227" href="../Substitution/#plfa_plfa-part2-Substitution-16199" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16229" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16231" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16232" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16234" href="../Substitution/#plfa_plfa-part2-Substitution-16206" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16235" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-16240" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-16249" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16251" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16253" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16258" href="../Substitution/#plfa_plfa-part2-Substitution-16199" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16260" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16262" href="../Substitution/#plfa_plfa-part2-Substitution-16206" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-16267" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16270" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-16275" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-16278" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16279" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-16287" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16288" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16290" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16292" href="../Substitution/#plfa_plfa-part2-Substitution-16206" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16293" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16295" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-16311" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-16315" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16317" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-16324" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16326" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16328" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16329" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16331" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-16332" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16334" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-16336" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16337" href="../Substitution/#plfa_plfa-part2-Substitution-16199" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-16339" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-16341" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-16342" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16344" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16346" href="../Substitution/#plfa_plfa-part2-Substitution-16206" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-16351" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>The proof of <code>sub-id</code> requires the following lemma which says that extending the identity substitution produces the identity substitution.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-ids"></a><a id="plfa_plfa-part2-Substitution-16506" href="../Substitution/#plfa_plfa-part2-Substitution-16506" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-16515" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16517" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-16519" href="../Substitution/#plfa_plfa-part2-Substitution-16519" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16520" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16522" href="../Substitution/#plfa_plfa-part2-Substitution-16522" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-16524" href="../Substitution/#plfa_plfa-part2-Substitution-16524" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16525" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-16536" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16538" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16543" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16547" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16549" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16553" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16554" href="../Substitution/#plfa_plfa-part2-Substitution-16519" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16556" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16558" href="../Substitution/#plfa_plfa-part2-Substitution-16524" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16559" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16561" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16562" href="../Substitution/#plfa_plfa-part2-Substitution-16522" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16563" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-16565" href="../Substitution/#plfa_plfa-part2-Substitution-16506" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-16574" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16575" href="../Substitution/#plfa_plfa-part2-Substitution-16575" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16576" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16578" href="../Substitution/#plfa_plfa-part2-Substitution-16578" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16579" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-16581" href="../Substitution/#plfa_plfa-part2-Substitution-16581" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-16582" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16584" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16586" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-16601" href="../Substitution/#plfa_plfa-part2-Substitution-16615" class="Function">lemma</a>
  <a id="plfa_plfa-part2-Substitution-16609" class="Keyword">where</a> <a id="plfa_plfa-part2-Substitution-16615" href="../Substitution/#plfa_plfa-part2-Substitution-16615" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16621" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16623" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16624" href="../Substitution/#plfa_plfa-part2-Substitution-16624" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16626" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16628" href="../Substitution/#plfa_plfa-part2-Substitution-16575" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16630" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-16632" href="../Substitution/#plfa_plfa-part2-Substitution-16581" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-16634" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-16636" href="../Substitution/#plfa_plfa-part2-Substitution-16578" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16637" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16639" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16641" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16646" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16650" href="../Substitution/#plfa_plfa-part2-Substitution-16624" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-16652" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16654" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16658" href="../Substitution/#plfa_plfa-part2-Substitution-16624" class="Bound">x</a>
        <a id="plfa_plfa-part2-Substitution-16668" href="../Substitution/#plfa_plfa-part2-Substitution-16615" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16674" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-16676" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16678" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part2-Substitution-16691" href="../Substitution/#plfa_plfa-part2-Substitution-16615" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-16697" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16698" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-16700" href="../Substitution/#plfa_plfa-part2-Substitution-16700" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16701" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-16703" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16705" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>The proof of <code>⟪ ids ⟫ M ≡ M</code> now follows easily by induction on <code>M</code>, using <code>exts-ids</code> in the case for <code>M ≡ ƛ N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-id"></a><a id="plfa_plfa-part2-Substitution-16837" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-16844" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16846" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-16848" href="../Substitution/#plfa_plfa-part2-Substitution-16848" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-16849" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16851" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16852" href="../Substitution/#plfa_plfa-part2-Substitution-16852" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16853" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16855" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16856" href="../Substitution/#plfa_plfa-part2-Substitution-16856" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16858" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-16860" href="../Substitution/#plfa_plfa-part2-Substitution-16848" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-16862" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-16864" href="../Substitution/#plfa_plfa-part2-Substitution-16852" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-16865" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-16876" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-16878" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16880" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16884" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16886" href="../Substitution/#plfa_plfa-part2-Substitution-16856" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-16888" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-16890" href="../Substitution/#plfa_plfa-part2-Substitution-16856" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-16892" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-16899" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16900" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16902" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16904" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-16906" href="../Substitution/#plfa_plfa-part2-Substitution-16906" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-16907" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16909" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16911" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-16916" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-16923" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-16924" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-16926" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-16928" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16930" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16931" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-16933" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-16938" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-16949" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16951" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16955" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16957" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-16958" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16960" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-16961" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-16966" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-16975" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-16977" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-16979" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-16984" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-16988" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-16990" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-16995" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-16998" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-17003" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-17006" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17007" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-17015" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17016" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17018" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17020" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-17021" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17023" href="../Substitution/#plfa_plfa-part2-Substitution-16506" class="Function">exts-ids</a> <a id="plfa_plfa-part2-Substitution-17032" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-17036" class="Symbol">)</a>  <a id="plfa_plfa-part2-Substitution-17039" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17046" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17048" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17050" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17054" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17056" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-17061" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17064" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-17069" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-17072" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17079" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17086" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-17088" href="../Substitution/#plfa_plfa-part2-Substitution-16930" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-17093" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-17095" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17102" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17103" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17105" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17107" href="../Substitution/#plfa_plfa-part2-Substitution-17107" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-17109" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-17111" href="../Substitution/#plfa_plfa-part2-Substitution-17111" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17112" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17114" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17116" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-17122" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-17126" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a> <a id="plfa_plfa-part2-Substitution-17133" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a>
</pre><p>The <code>rename-id</code> equation is a corollary is <code>sub-id</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-id"></a><a id="plfa_plfa-part2-Substitution-17207" href="../Substitution/#plfa_plfa-part2-Substitution-17207" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-17217" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17219" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-17221" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17222" href="../Substitution/#plfa_plfa-part2-Substitution-17222" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17223" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17225" href="../Substitution/#plfa_plfa-part2-Substitution-17225" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17226" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17228" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17229" href="../Substitution/#plfa_plfa-part2-Substitution-17229" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17231" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17233" href="../Substitution/#plfa_plfa-part2-Substitution-17222" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17235" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-17237" href="../Substitution/#plfa_plfa-part2-Substitution-17225" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17238" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-17242" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17244" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17251" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17254" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17255" href="../Substitution/#plfa_plfa-part2-Substitution-17255" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17256" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17258" href="../Substitution/#plfa_plfa-part2-Substitution-17258" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17260" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17262" href="../Substitution/#plfa_plfa-part2-Substitution-17258" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17263" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17265" href="../Substitution/#plfa_plfa-part2-Substitution-17229" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-17267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17269" href="../Substitution/#plfa_plfa-part2-Substitution-17229" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-17271" href="../Substitution/#plfa_plfa-part2-Substitution-17207" class="Function">rename-id</a> <a id="plfa_plfa-part2-Substitution-17281" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17282" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-17284" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17286" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-17287" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17289" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-17294" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-17305" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-17312" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17315" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17316" href="../Substitution/#plfa_plfa-part2-Substitution-17316" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17317" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17319" href="../Substitution/#plfa_plfa-part2-Substitution-17319" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17321" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17323" href="../Substitution/#plfa_plfa-part2-Substitution-17319" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17324" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17326" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17331" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17334" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a>  <a id="plfa_plfa-part2-Substitution-17352" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17359" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17361" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-17365" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17368" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17369" href="../Substitution/#plfa_plfa-part2-Substitution-17369" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17370" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17372" href="../Substitution/#plfa_plfa-part2-Substitution-17372" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17374" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17376" href="../Substitution/#plfa_plfa-part2-Substitution-17372" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-17377" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17379" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17381" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17386" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-17395" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17397" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17401" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17403" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17408" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17411" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a>  <a id="plfa_plfa-part2-Substitution-17419" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-17426" href="../Substitution/#plfa_plfa-part2-Substitution-17286" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-17431" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-idr">Proof of sub-idR</h2><p>The proof of <code>sub-idR</code> follows directly from <code>sub-id</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-idR"></a><a id="plfa_plfa-part2-Substitution-17523" href="../Substitution/#plfa_plfa-part2-Substitution-17523" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-17531" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17533" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-17535" href="../Substitution/#plfa_plfa-part2-Substitution-17535" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17537" href="../Substitution/#plfa_plfa-part2-Substitution-17537" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-17538" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17540" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17541" href="../Substitution/#plfa_plfa-part2-Substitution-17541" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17543" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-17545" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-17551" href="../Substitution/#plfa_plfa-part2-Substitution-17535" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-17553" href="../Substitution/#plfa_plfa-part2-Substitution-17537" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-17554" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17556" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17557" href="../Substitution/#plfa_plfa-part2-Substitution-17557" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17558" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Substitution-17567" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17569" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-17570" href="../Substitution/#plfa_plfa-part2-Substitution-17541" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17572" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-17574" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-17577" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17579" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-17581" href="../Substitution/#plfa_plfa-part2-Substitution-17541" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17583" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17584" href="../Substitution/#plfa_plfa-part2-Substitution-17557" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17585" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-17587" href="../Substitution/#plfa_plfa-part2-Substitution-17523" class="Function">sub-idR</a> <a id="plfa_plfa-part2-Substitution-17595" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-17596" href="../Substitution/#plfa_plfa-part2-Substitution-17596" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-17597" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17599" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-17601" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-17603" href="../Substitution/#plfa_plfa-part2-Substitution-17603" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-17604" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-17606" href="../Substitution/#plfa_plfa-part2-Substitution-17606" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-17607" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-17609" class="Symbol">=</a>
          <a id="plfa_plfa-part2-Substitution-17621" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
            <a id="plfa_plfa-part2-Substitution-17639" href="../Substitution/#plfa_plfa-part2-Substitution-17603" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-17641" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-17643" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a>
          <a id="plfa_plfa-part2-Substitution-17657" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
            <a id="plfa_plfa-part2-Substitution-17673" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-17675" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-17679" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-17681" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-17683" href="../Substitution/#plfa_plfa-part2-Substitution-17603" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-17695" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-17698" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-17713" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-17716" href="../Substitution/#plfa_plfa-part2-Substitution-17716" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-17718" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-17720" href="../Substitution/#plfa_plfa-part2-Substitution-16837" class="Function">sub-id</a><a id="plfa_plfa-part2-Substitution-17726" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-17728" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
            <a id="plfa_plfa-part2-Substitution-17742" href="../Substitution/#plfa_plfa-part2-Substitution-17603" class="Bound">σ</a>
          <a id="plfa_plfa-part2-Substitution-17754" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-sub">Proof of sub-sub</h2><p>The <code>sub-sub</code> equation states that sequenced substitutions <code>σ ⨟ τ</code> are equivalent to first applying <code>σ</code> then applying <code>τ</code>.</p><pre><code>⟪ τ ⟫ ⟪ σ ⟫ M  ≡ ⟪ σ ⨟ τ ⟫ M</code></pre><p>The proof requires several lemmas. First, we need to prove the specialization for renaming.</p><pre><code>rename ρ (rename ρ′ M) ≡ rename (ρ ∘ ρ′) M</code></pre><p>This in turn requires the following lemma about <code>ext</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-ext"></a><a id="plfa_plfa-part2-Substitution-18146" href="../Substitution/#plfa_plfa-part2-Substitution-18146" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-18158" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18160" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18162" href="../Substitution/#plfa_plfa-part2-Substitution-18162" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18164" href="../Substitution/#plfa_plfa-part2-Substitution-18164" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18166" href="../Substitution/#plfa_plfa-part2-Substitution-18166" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18167" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18169" href="../Substitution/#plfa_plfa-part2-Substitution-18169" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18171" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18173" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18180" href="../Substitution/#plfa_plfa-part2-Substitution-18164" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18182" href="../Substitution/#plfa_plfa-part2-Substitution-18166" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18183" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18185" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18186" href="../Substitution/#plfa_plfa-part2-Substitution-18186" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18189" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18191" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18198" href="../Substitution/#plfa_plfa-part2-Substitution-18162" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18200" href="../Substitution/#plfa_plfa-part2-Substitution-18164" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18201" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18203" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18204" href="../Substitution/#plfa_plfa-part2-Substitution-18204" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18206" href="../Substitution/#plfa_plfa-part2-Substitution-18206" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18207" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-18221" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18223" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18225" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18229" href="../Substitution/#plfa_plfa-part2-Substitution-18169" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18230" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18232" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18234" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18235" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18239" href="../Substitution/#plfa_plfa-part2-Substitution-18186" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18241" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18244" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18246" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18250" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18251" href="../Substitution/#plfa_plfa-part2-Substitution-18169" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18253" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18255" href="../Substitution/#plfa_plfa-part2-Substitution-18186" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18257" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18259" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18260" href="../Substitution/#plfa_plfa-part2-Substitution-18206" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18261" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18263" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18264" href="../Substitution/#plfa_plfa-part2-Substitution-18204" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18265" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-18267" href="../Substitution/#plfa_plfa-part2-Substitution-18146" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-18279" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18281" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-18296" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-18298" href="../Substitution/#plfa_plfa-part2-Substitution-18298" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18300" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18302" href="../Substitution/#plfa_plfa-part2-Substitution-18326" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18308" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18309" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18311" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18313" href="../Substitution/#plfa_plfa-part2-Substitution-18298" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18314" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18318" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-18326" href="../Substitution/#plfa_plfa-part2-Substitution-18326" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18332" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18334" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18336" href="../Substitution/#plfa_plfa-part2-Substitution-18336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18338" href="../Substitution/#plfa_plfa-part2-Substitution-18338" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18340" href="../Substitution/#plfa_plfa-part2-Substitution-18340" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18341" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18343" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18345" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18347" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18354" href="../Substitution/#plfa_plfa-part2-Substitution-18338" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18356" href="../Substitution/#plfa_plfa-part2-Substitution-18340" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18357" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18359" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18360" href="../Substitution/#plfa_plfa-part2-Substitution-18360" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18363" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18365" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18372" href="../Substitution/#plfa_plfa-part2-Substitution-18336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18374" href="../Substitution/#plfa_plfa-part2-Substitution-18338" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18375" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18377" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18378" href="../Substitution/#plfa_plfa-part2-Substitution-18378" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-18380" href="../Substitution/#plfa_plfa-part2-Substitution-18380" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-18381" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18383" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18384" href="../Substitution/#plfa_plfa-part2-Substitution-18384" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18386" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18388" href="../Substitution/#plfa_plfa-part2-Substitution-18336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18390" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-18392" href="../Substitution/#plfa_plfa-part2-Substitution-18380" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-18394" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-18396" href="../Substitution/#plfa_plfa-part2-Substitution-18378" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18397" class="Symbol">}</a>
              <a id="plfa_plfa-part2-Substitution-18413" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18415" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-18417" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18421" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18422" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18424" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18426" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18427" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18431" href="../Substitution/#plfa_plfa-part2-Substitution-18360" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18433" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18436" href="../Substitution/#plfa_plfa-part2-Substitution-18384" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-18438" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18440" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18444" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18445" href="../Substitution/#plfa_plfa-part2-Substitution-18343" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18447" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18449" href="../Substitution/#plfa_plfa-part2-Substitution-18360" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18451" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18453" href="../Substitution/#plfa_plfa-part2-Substitution-18384" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-18457" href="../Substitution/#plfa_plfa-part2-Substitution-18326" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18463" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18464" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18466" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18468" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-18469" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18471" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18473" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-18480" href="../Substitution/#plfa_plfa-part2-Substitution-18326" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-18486" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18487" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-18489" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18491" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-18493" href="../Substitution/#plfa_plfa-part2-Substitution-18493" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18494" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18496" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18498" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>To prove that composing renamings is equivalent to applying one after the other using <code>rename</code>, we proceed by induction on the term <code>M</code>, using the <code>compose-ext</code> lemma in the case for <code>M ≡ ƛ N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-compose-rename"></a><a id="plfa_plfa-part2-Substitution-18711" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-18726" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18728" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-18730" href="../Substitution/#plfa_plfa-part2-Substitution-18730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18732" href="../Substitution/#plfa_plfa-part2-Substitution-18732" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18734" href="../Substitution/#plfa_plfa-part2-Substitution-18734" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18735" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18737" href="../Substitution/#plfa_plfa-part2-Substitution-18737" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18738" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18740" href="../Substitution/#plfa_plfa-part2-Substitution-18740" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-18742" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18744" href="../Substitution/#plfa_plfa-part2-Substitution-18730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18746" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-18748" href="../Substitution/#plfa_plfa-part2-Substitution-18737" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18749" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18751" href="../Substitution/#plfa_plfa-part2-Substitution-18751" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18753" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18755" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18762" href="../Substitution/#plfa_plfa-part2-Substitution-18732" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-18764" href="../Substitution/#plfa_plfa-part2-Substitution-18734" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18765" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18767" href="../Substitution/#plfa_plfa-part2-Substitution-18767" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18770" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18772" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-18779" href="../Substitution/#plfa_plfa-part2-Substitution-18730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-18781" href="../Substitution/#plfa_plfa-part2-Substitution-18732" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18782" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-18786" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-18788" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18795" href="../Substitution/#plfa_plfa-part2-Substitution-18751" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18797" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18798" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18805" href="../Substitution/#plfa_plfa-part2-Substitution-18767" class="Bound">ρ′</a> <a id="plfa_plfa-part2-Substitution-18808" href="../Substitution/#plfa_plfa-part2-Substitution-18740" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-18809" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18811" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18813" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18820" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18821" href="../Substitution/#plfa_plfa-part2-Substitution-18751" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18823" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18825" href="../Substitution/#plfa_plfa-part2-Substitution-18767" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18827" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18829" href="../Substitution/#plfa_plfa-part2-Substitution-18740" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-18831" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-18846" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18847" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-18849" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18851" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-18853" href="../Substitution/#plfa_plfa-part2-Substitution-18853" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-18854" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18856" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18858" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-18863" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-18878" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-18879" href="../Substitution/#plfa_plfa-part2-Substitution-18879" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-18880" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18882" href="../Substitution/#plfa_plfa-part2-Substitution-18882" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-18883" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18885" href="../Substitution/#plfa_plfa-part2-Substitution-18885" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-18886" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18888" href="../Substitution/#plfa_plfa-part2-Substitution-18888" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-18889" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18891" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-18893" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-18894" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18896" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18897" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-18899" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18901" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-18903" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-18905" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-18910" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-18913" href="../Substitution/#plfa_plfa-part2-Substitution-18925" class="Function">G</a>
  <a id="plfa_plfa-part2-Substitution-18917" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-18925" href="../Substitution/#plfa_plfa-part2-Substitution-18925" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-18927" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-18929" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18936" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18937" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18941" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-18942" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18944" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18945" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18952" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18953" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18957" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18959" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18961" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-18962" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-18964" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-18966" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-18973" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18974" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-18978" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-18979" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-18981" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-18983" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-18985" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-18988" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a>
  <a id="plfa_plfa-part2-Substitution-18992" href="../Substitution/#plfa_plfa-part2-Substitution-18925" class="Function">G</a> <a id="plfa_plfa-part2-Substitution-18994" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-19002" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-19016" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19023" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19024" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19028" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19029" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19031" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19032" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19039" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19040" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19044" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19046" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19048" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19049" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-19057" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19060" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a><a id="plfa_plfa-part2-Substitution-19074" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19075" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-19077" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19079" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19083" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19084" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19086" class="Argument">ρ′</a> <a id="plfa_plfa-part2-Substitution-19089" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19091" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19095" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19097" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19099" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-19109" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19116" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-19118" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19122" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19123" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19125" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19127" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19128" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19132" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19134" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-19137" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-19145" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-19148" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-19160" href="../Substitution/#plfa_plfa-part2-Substitution-18146" class="Function">compose-ext</a> <a id="plfa_plfa-part2-Substitution-19172" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-19182" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19189" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19190" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19194" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19195" href="../Substitution/#plfa_plfa-part2-Substitution-18896" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19197" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-19199" href="../Substitution/#plfa_plfa-part2-Substitution-18899" class="Bound">ρ′</a><a id="plfa_plfa-part2-Substitution-19201" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-19204" href="../Substitution/#plfa_plfa-part2-Substitution-18893" class="Bound">N</a>
      <a id="plfa_plfa-part2-Substitution-19212" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-19214" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19229" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19230" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19232" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19234" href="../Substitution/#plfa_plfa-part2-Substitution-19234" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-19236" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-19238" href="../Substitution/#plfa_plfa-part2-Substitution-19238" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19239" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19241" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19243" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-19249" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-19253" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-19268" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a>
</pre><p>The next lemma states that if a renaming and substitution commute on variables, then they also commute on terms. We explain the proof in detail below.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-commute-subst-rename"></a><a id="plfa_plfa-part2-Substitution-19448" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-19469" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19471" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19473" href="../Substitution/#plfa_plfa-part2-Substitution-19473" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19475" href="../Substitution/#plfa_plfa-part2-Substitution-19475" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19476" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19478" href="../Substitution/#plfa_plfa-part2-Substitution-19478" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-19480" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19482" href="../Substitution/#plfa_plfa-part2-Substitution-19473" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19484" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-19486" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19487" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19489" href="../Substitution/#plfa_plfa-part2-Substitution-19489" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19491" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19493" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-19499" href="../Substitution/#plfa_plfa-part2-Substitution-19473" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19501" href="../Substitution/#plfa_plfa-part2-Substitution-19475" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19502" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Substitution-19528" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19529" href="../Substitution/#plfa_plfa-part2-Substitution-19529" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19531" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19533" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-19535" href="../Substitution/#plfa_plfa-part2-Substitution-19535" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19536" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19538" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19540" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-19547" href="../Substitution/#plfa_plfa-part2-Substitution-19535" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19549" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19550" href="../Substitution/#plfa_plfa-part2-Substitution-19535" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19552" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19554" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19555" class="Symbol">)}</a>
     <a id="plfa_plfa-part2-Substitution-19563" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19565" class="Symbol">(∀{</a><a id="plfa_plfa-part2-Substitution-19568" href="../Substitution/#plfa_plfa-part2-Substitution-19568" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19570" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19572" href="../Substitution/#plfa_plfa-part2-Substitution-19473" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19574" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-19576" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19577" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19579" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19581" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19586" href="../Substitution/#plfa_plfa-part2-Substitution-19489" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19588" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19589" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-19591" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19593" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19594" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19596" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19597" href="../Substitution/#plfa_plfa-part2-Substitution-19529" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19599" href="../Substitution/#plfa_plfa-part2-Substitution-19568" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19600" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19602" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19604" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19611" href="../Substitution/#plfa_plfa-part2-Substitution-19529" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19613" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19614" href="../Substitution/#plfa_plfa-part2-Substitution-19489" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19616" href="../Substitution/#plfa_plfa-part2-Substitution-19568" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19617" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-19625" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19627" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-19633" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19634" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19639" href="../Substitution/#plfa_plfa-part2-Substitution-19489" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19641" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19642" class="Argument">B</a> <a id="plfa_plfa-part2-Substitution-19644" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19646" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19647" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-19650" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19651" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19658" href="../Substitution/#plfa_plfa-part2-Substitution-19529" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19660" href="../Substitution/#plfa_plfa-part2-Substitution-19478" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19661" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19663" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19665" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-19672" href="../Substitution/#plfa_plfa-part2-Substitution-19529" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19674" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19675" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-19681" href="../Substitution/#plfa_plfa-part2-Substitution-19489" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-19683" href="../Substitution/#plfa_plfa-part2-Substitution-19478" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-19684" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-19686" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-19707" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19708" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-19710" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19712" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-19714" href="../Substitution/#plfa_plfa-part2-Substitution-19714" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19715" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19717" href="../Substitution/#plfa_plfa-part2-Substitution-19717" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-19719" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19721" href="../Substitution/#plfa_plfa-part2-Substitution-19717" class="Bound">r</a>
<a id="plfa_plfa-part2-Substitution-19723" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-19743" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19744" href="../Substitution/#plfa_plfa-part2-Substitution-19744" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19745" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19747" href="../Substitution/#plfa_plfa-part2-Substitution-19747" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-19748" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19750" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-19752" href="../Substitution/#plfa_plfa-part2-Substitution-19752" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19753" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19755" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19756" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19758" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-19759" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19761" href="../Substitution/#plfa_plfa-part2-Substitution-19761" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-19763" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-19768" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-19773" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-19776" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19777" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-19797" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19798" href="../Substitution/#plfa_plfa-part2-Substitution-19744" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19800" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19802" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19803" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19805" href="../Substitution/#plfa_plfa-part2-Substitution-19747" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-19807" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19809" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19810" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19812" href="../Substitution/#plfa_plfa-part2-Substitution-19752" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-19813" class="Symbol">}</a>
               <a id="plfa_plfa-part2-Substitution-19830" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19831" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19836" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19837" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-19839" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-19841" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19843" href="../Substitution/#plfa_plfa-part2-Substitution-19876" class="Function">ρ′</a><a id="plfa_plfa-part2-Substitution-19845" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19847" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-19850" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19851" href="../Substitution/#plfa_plfa-part2-Substitution-19851" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19852" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19854" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19856" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-19858" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19859" href="../Substitution/#plfa_plfa-part2-Substitution-19851" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19860" class="Symbol">}))</a>
   <a id="plfa_plfa-part2-Substitution-19867" class="Keyword">where</a>
   <a id="plfa_plfa-part2-Substitution-19876" href="../Substitution/#plfa_plfa-part2-Substitution-19876" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-19879" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19881" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-19883" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19884" href="../Substitution/#plfa_plfa-part2-Substitution-19884" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-19885" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19887" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19889" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-19896" href="../Substitution/#plfa_plfa-part2-Substitution-19884" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19898" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19899" href="../Substitution/#plfa_plfa-part2-Substitution-19884" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19901" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19903" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19904" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-19909" href="../Substitution/#plfa_plfa-part2-Substitution-19876" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-19912" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19913" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Substitution-19914" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19916" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19918" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-19920" class="Symbol">()</a>
   <a id="plfa_plfa-part2-Substitution-19926" href="../Substitution/#plfa_plfa-part2-Substitution-19876" class="Function">ρ′</a> <a id="plfa_plfa-part2-Substitution-19929" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19930" href="../Substitution/#plfa_plfa-part2-Substitution-19930" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19932" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19934" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19935" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19937" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-19939" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19943" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a>

   <a id="plfa_plfa-part2-Substitution-19949" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-19951" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19953" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-19954" href="../Substitution/#plfa_plfa-part2-Substitution-19954" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-19956" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-19958" href="../Substitution/#plfa_plfa-part2-Substitution-19744" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-19960" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-19962" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-19964" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-19966" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-19967" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-19969" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-19971" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19976" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19977" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-19982" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-19983" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19985" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-19986" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-19990" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-19992" href="../Substitution/#plfa_plfa-part2-Substitution-19954" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-19993" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-19995" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-19997" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20004" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20005" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20009" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20010" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20012" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20013" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20018" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20020" href="../Substitution/#plfa_plfa-part2-Substitution-19954" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-20021" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-20026" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20028" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20029" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-20030" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20032" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20034" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
   <a id="plfa_plfa-part2-Substitution-20042" href="../Substitution/#plfa_plfa-part2-Substitution-19949" class="Function">H</a> <a id="plfa_plfa-part2-Substitution-20044" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20045" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20047" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20048" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20050" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-20057" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-20070" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20075" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20076" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20081" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-20082" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20084" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20085" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20089" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20091" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20092" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20094" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20095" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20103" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-20114" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20121" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20124" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20125" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20130" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20132" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20133" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20135" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20136" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20144" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20147" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-20152" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20153" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20160" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-20162" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20164" href="../Substitution/#plfa_plfa-part2-Substitution-19761" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-20166" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20175" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20182" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20185" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20186" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20193" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-20195" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20196" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20198" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20199" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20207" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20210" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-20225" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20234" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20241" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20242" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20245" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-20247" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20248" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20250" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20251" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20253" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20254" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-20261" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20264" href="../Substitution/#plfa_plfa-part2-Substitution-10211" class="Function">cong-rename</a> <a id="plfa_plfa-part2-Substitution-20276" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-20281" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20290" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20297" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-20299" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20303" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20304" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20306" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-20308" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-20310" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20312" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20313" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20315" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20316" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-20323" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-20326" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-20330" href="../Substitution/#plfa_plfa-part2-Substitution-18711" class="Function">compose-rename</a> <a id="plfa_plfa-part2-Substitution-20345" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-20354" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20361" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20362" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20366" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20367" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20369" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20370" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20377" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-20380" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20381" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20383" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20384" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20392" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-20403" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-20410" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20411" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-20415" href="../Substitution/#plfa_plfa-part2-Substitution-19758" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20416" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-20418" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20419" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-20424" href="../Substitution/#plfa_plfa-part2-Substitution-19755" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-20426" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20427" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-20429" href="../Substitution/#plfa_plfa-part2-Substitution-20047" class="Bound">y</a><a id="plfa_plfa-part2-Substitution-20430" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-20438" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-20440" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a> <a id="plfa_plfa-part2-Substitution-20461" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20462" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20464" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20466" href="../Substitution/#plfa_plfa-part2-Substitution-20466" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-20468" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-20470" href="../Substitution/#plfa_plfa-part2-Substitution-20470" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20471" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20473" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20475" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20477" href="../Substitution/#plfa_plfa-part2-Substitution-20477" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20478" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20480" href="../Substitution/#plfa_plfa-part2-Substitution-20480" class="Bound">r</a> <a id="plfa_plfa-part2-Substitution-20482" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-20487" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-20493" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-20497" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20498" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-20518" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20519" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20521" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20523" href="../Substitution/#plfa_plfa-part2-Substitution-20466" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-20524" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20526" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20528" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20530" href="../Substitution/#plfa_plfa-part2-Substitution-20477" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20531" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20533" href="../Substitution/#plfa_plfa-part2-Substitution-20480" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-20534" class="Symbol">)</a>
             <a id="plfa_plfa-part2-Substitution-20549" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-20550" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-20570" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-20571" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-20573" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20575" href="../Substitution/#plfa_plfa-part2-Substitution-20470" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-20576" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-20578" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-20580" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-20582" href="../Substitution/#plfa_plfa-part2-Substitution-20477" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-20583" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-20585" href="../Substitution/#plfa_plfa-part2-Substitution-20480" class="Bound">r</a><a id="plfa_plfa-part2-Substitution-20586" class="Symbol">)</a>
</pre><p>The proof is by induction on the term <code>M</code>.</p><ul><li><p>If <code>M</code> is a variable, then we use the premise to conclude.</p></li><li><p>If <code>M ≡ ƛ N</code>, we conclude using the induction hypothesis for <code>N</code>. However, to use the induction hypothesis, we must show that</p><pre><code>  exts (exts σ) (ext ρ x) ≡ rename (ext ρ) (exts σ x)</code></pre><p>We prove this equation by cases on x.</p><ul><li><p>If <code>x = Z</code>, the two sides are equal by definition.</p></li><li><p>If <code>x = S y</code>, we obtain the goal by the following equational reasoning.</p><pre><code>  exts (exts σ) (ext ρ (S y))
≡ rename S_ (exts σ (ρ y))
≡ rename S_ (rename S_ (σ (ρ y)      (by the premise)
≡ rename (ext ρ) (exts σ (S y))      (by compose-rename)
≡ rename ((ext ρ) ∘ S_) (σ y)
≡ rename (ext ρ) (rename S_ (σ y))   (by compose-rename)
≡ rename (ext ρ) (exts σ (S y))</code></pre></li></ul></li><li><p>If <code>M</code> is an application, we obtain the goal using the induction hypothesis for each subterm.</p></li></ul><p>The last lemma needed to prove <code>sub-sub</code> states that the <code>exts</code> function distributes with sequencing. It is a corollary of <code>commute-subst-rename</code> as described below. (It would have been nicer to prove this directly by equational reasoning in the σ algebra, but that would require the <code>sub-assoc</code> equation, whose proof depends on <code>sub-sub</code>, which in turn depends on this lemma.)</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-exts-seq"></a><a id="plfa_plfa-part2-Substitution-21917" href="../Substitution/#plfa_plfa-part2-Substitution-21917" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-21926" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21928" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-21930" href="../Substitution/#plfa_plfa-part2-Substitution-21930" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21932" href="../Substitution/#plfa_plfa-part2-Substitution-21932" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21934" href="../Substitution/#plfa_plfa-part2-Substitution-21934" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-21936" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21938" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21939" href="../Substitution/#plfa_plfa-part2-Substitution-21939" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-21942" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21944" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-21950" href="../Substitution/#plfa_plfa-part2-Substitution-21930" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-21952" href="../Substitution/#plfa_plfa-part2-Substitution-21932" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-21953" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21955" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21956" href="../Substitution/#plfa_plfa-part2-Substitution-21956" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-21959" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-21961" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-21967" href="../Substitution/#plfa_plfa-part2-Substitution-21932" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-21969" href="../Substitution/#plfa_plfa-part2-Substitution-21934" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-21971" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Substitution-21982" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21984" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-21986" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-21987" href="../Substitution/#plfa_plfa-part2-Substitution-21987" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-21988" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-21990" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-21992" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-21993" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-21998" href="../Substitution/#plfa_plfa-part2-Substitution-21939" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22001" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22003" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22008" href="../Substitution/#plfa_plfa-part2-Substitution-21956" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22010" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22012" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22013" href="../Substitution/#plfa_plfa-part2-Substitution-21987" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22014" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22016" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22018" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22023" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22024" href="../Substitution/#plfa_plfa-part2-Substitution-21939" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22027" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22029" href="../Substitution/#plfa_plfa-part2-Substitution-21956" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22031" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-22033" href="../Substitution/#plfa_plfa-part2-Substitution-21917" class="Function">exts-seq</a> <a id="plfa_plfa-part2-Substitution-22042" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22044" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-22059" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-22061" href="../Substitution/#plfa_plfa-part2-Substitution-22061" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22063" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22065" href="../Substitution/#plfa_plfa-part2-Substitution-22089" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22071" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22072" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22074" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22076" href="../Substitution/#plfa_plfa-part2-Substitution-22061" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22077" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-22081" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-22089" href="../Substitution/#plfa_plfa-part2-Substitution-22089" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22095" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22097" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22099" href="../Substitution/#plfa_plfa-part2-Substitution-22099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22101" href="../Substitution/#plfa_plfa-part2-Substitution-22101" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22103" href="../Substitution/#plfa_plfa-part2-Substitution-22103" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22105" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22107" href="../Substitution/#plfa_plfa-part2-Substitution-22107" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22108" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22110" href="../Substitution/#plfa_plfa-part2-Substitution-22110" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22112" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22114" href="../Substitution/#plfa_plfa-part2-Substitution-22099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22116" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-22118" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-22120" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-22122" href="../Substitution/#plfa_plfa-part2-Substitution-22107" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22123" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22125" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22126" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22129" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22131" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22137" href="../Substitution/#plfa_plfa-part2-Substitution-22099" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22139" href="../Substitution/#plfa_plfa-part2-Substitution-22101" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22140" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22142" href="../Substitution/#plfa_plfa-part2-Substitution-22142" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22145" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22147" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22153" href="../Substitution/#plfa_plfa-part2-Substitution-22101" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22155" href="../Substitution/#plfa_plfa-part2-Substitution-22103" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-22157" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Substitution-22164" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22166" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22167" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22172" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22175" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22177" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22182" href="../Substitution/#plfa_plfa-part2-Substitution-22142" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22184" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22186" href="../Substitution/#plfa_plfa-part2-Substitution-22110" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-22188" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22190" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22195" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22196" href="../Substitution/#plfa_plfa-part2-Substitution-22126" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22199" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22201" href="../Substitution/#plfa_plfa-part2-Substitution-22142" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22203" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22205" href="../Substitution/#plfa_plfa-part2-Substitution-22110" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-22209" href="../Substitution/#plfa_plfa-part2-Substitution-22089" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22215" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22216" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22218" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22220" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-22221" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22223" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22225" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="plfa_plfa-part2-Substitution-22232" href="../Substitution/#plfa_plfa-part2-Substitution-22089" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-22238" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22239" class="Argument">A</a> <a id="plfa_plfa-part2-Substitution-22241" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22243" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-22244" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22246" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-22248" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22250" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22252" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22253" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22255" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-22257" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22259" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22261" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22263" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-22270" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-22283" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22284" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22289" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22292" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22294" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22299" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22301" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22303" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22304" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Substitution-22306" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22307" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-22314" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-22325" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22327" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-22332" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22335" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22337" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22338" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22345" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22348" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22349" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22352" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22353" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-22361" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-22364" href="../Substitution/#plfa_plfa-part2-Substitution-19448" class="Function">commute-subst-rename</a><a id="plfa_plfa-part2-Substitution-22384" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22385" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-22387" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22389" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22392" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22393" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22395" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-22397" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22399" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22401" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22403" class="Argument">ρ</a> <a id="plfa_plfa-part2-Substitution-22405" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22407" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Substitution-22409" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22411" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-22416" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-22425" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22432" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22435" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22436" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22438" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22441" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22443" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22444" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22447" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22448" class="Symbol">))</a>
     <a id="plfa_plfa-part2-Substitution-22456" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-22467" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-22474" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Substitution-22477" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-22479" href="../Substitution/#plfa_plfa-part2-Substitution-22255" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22482" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22484" href="../Substitution/#plfa_plfa-part2-Substitution-22259" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-22486" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22488" href="../Substitution/#plfa_plfa-part2-Substitution-22252" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22489" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-22496" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>The proof proceed by cases on <code>x</code>.</p><ul><li><p>If <code>x = Z</code>, the two sides are equal by the definition of <code>exts</code> and sequencing.</p></li><li><p>If <code>x = S x</code>, we unfold the first use of <code>exts</code> and sequencing, then apply the lemma <code>commute-subst-rename</code>. We conclude by the definition of sequencing.</p></li></ul><p>Now we come to the proof of <code>sub-sub</code>, which we explain below.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-sub"></a><a id="plfa_plfa-part2-Substitution-22858" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-22866" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22868" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-22870" href="../Substitution/#plfa_plfa-part2-Substitution-22870" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22872" href="../Substitution/#plfa_plfa-part2-Substitution-22872" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22874" href="../Substitution/#plfa_plfa-part2-Substitution-22874" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22875" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22877" href="../Substitution/#plfa_plfa-part2-Substitution-22877" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22878" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22880" href="../Substitution/#plfa_plfa-part2-Substitution-22880" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-22882" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22884" href="../Substitution/#plfa_plfa-part2-Substitution-22870" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22886" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-22888" href="../Substitution/#plfa_plfa-part2-Substitution-22877" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-22889" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22891" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22892" href="../Substitution/#plfa_plfa-part2-Substitution-22892" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22895" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22897" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22903" href="../Substitution/#plfa_plfa-part2-Substitution-22870" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-22905" href="../Substitution/#plfa_plfa-part2-Substitution-22872" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-22906" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-22908" href="../Substitution/#plfa_plfa-part2-Substitution-22908" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22911" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-22913" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-22919" href="../Substitution/#plfa_plfa-part2-Substitution-22872" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-22921" href="../Substitution/#plfa_plfa-part2-Substitution-22874" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-22922" class="Symbol">}</a>
            <a id="plfa_plfa-part2-Substitution-22936" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-22938" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22940" href="../Substitution/#plfa_plfa-part2-Substitution-22908" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22943" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22945" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-22946" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22948" href="../Substitution/#plfa_plfa-part2-Substitution-22892" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22951" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22953" href="../Substitution/#plfa_plfa-part2-Substitution-22880" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-22954" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-22956" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-22958" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-22960" href="../Substitution/#plfa_plfa-part2-Substitution-22892" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-22963" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-22965" href="../Substitution/#plfa_plfa-part2-Substitution-22908" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-22968" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-22970" href="../Substitution/#plfa_plfa-part2-Substitution-22880" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-22972" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-22980" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-22981" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-22983" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22985" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-22987" href="../Substitution/#plfa_plfa-part2-Substitution-22987" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-22988" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-22990" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-22992" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part2-Substitution-22997" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23005" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23006" href="../Substitution/#plfa_plfa-part2-Substitution-23006" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-23007" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23009" href="../Substitution/#plfa_plfa-part2-Substitution-23009" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23010" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23012" href="../Substitution/#plfa_plfa-part2-Substitution-23012" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-23013" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23015" href="../Substitution/#plfa_plfa-part2-Substitution-23015" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23016" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23018" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23020" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23021" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23023" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-23025" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23027" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23029" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23031" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-23036" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-23047" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23049" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23052" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23054" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23055" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23057" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23060" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23062" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23063" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23065" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23066" class="Symbol">))</a>
   <a id="plfa_plfa-part2-Substitution-23072" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-23081" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23083" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23085" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23090" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23093" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23095" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23096" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23098" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23103" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23106" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23108" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23109" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-23114" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-23117" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23122" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23125" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23126" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23133" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23134" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23136" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23138" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23139" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23141" class="Argument">σ₁</a> <a id="plfa_plfa-part2-Substitution-23144" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23146" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23151" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a><a id="plfa_plfa-part2-Substitution-23153" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23155" class="Argument">σ₂</a> <a id="plfa_plfa-part2-Substitution-23158" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23160" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23165" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23167" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-23170" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-23177" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23179" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23181" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23186" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23189" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-23191" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23196" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a> <a id="plfa_plfa-part2-Substitution-23199" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23201" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-23206" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-23209" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-23214" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a> <a id="plfa_plfa-part2-Substitution-23217" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23218" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-23226" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23227" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23229" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23231" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-23232" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23234" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Substitution-23237" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23238" href="../Substitution/#plfa_plfa-part2-Substitution-23238" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-23239" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23241" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23243" href="../Substitution/#plfa_plfa-part2-Substitution-21917" class="Function">exts-seq</a><a id="plfa_plfa-part2-Substitution-23251" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23253" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-23257" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23259" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-23266" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Substitution-23268" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23270" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-23275" class="Symbol">(</a> <a id="plfa_plfa-part2-Substitution-23277" href="../Substitution/#plfa_plfa-part2-Substitution-23023" class="Bound">σ₁</a> <a id="plfa_plfa-part2-Substitution-23280" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-23282" href="../Substitution/#plfa_plfa-part2-Substitution-23027" class="Bound">σ₂</a><a id="plfa_plfa-part2-Substitution-23284" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23286" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23288" href="../Substitution/#plfa_plfa-part2-Substitution-23020" class="Bound">N</a>
   <a id="plfa_plfa-part2-Substitution-23293" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
<a id="plfa_plfa-part2-Substitution-23295" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-23303" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23304" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23306" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23308" href="../Substitution/#plfa_plfa-part2-Substitution-23308" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-23310" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Substitution-23312" href="../Substitution/#plfa_plfa-part2-Substitution-23312" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23313" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-23315" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23317" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="plfa_plfa-part2-Substitution-23323" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Substitution-23327" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23328" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23335" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23336" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23338" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23340" href="../Substitution/#plfa_plfa-part2-Substitution-23308" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-23341" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-23344" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23345" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-23352" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-23353" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-23355" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-23357" href="../Substitution/#plfa_plfa-part2-Substitution-23312" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23358" class="Symbol">})</a>
</pre><p>We proceed by induction on the term <code>M</code>.</p><ul><li><p>If <code>M = x</code>, then both sides are equal to <code>σ₂ (σ₁ x)</code>.</p></li><li><p>If <code>M = ƛ N</code>, we first use the induction hypothesis to show that</p><pre><code>  ƛ ⟪ exts σ₂ ⟫ (⟪ exts σ₁ ⟫ N) ≡ ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N</code></pre><p>and then use the lemma <code>exts-seq</code> to show</p><pre><code>  ƛ ⟪ exts σ₁ ⨟ exts σ₂ ⟫ N ≡ ƛ ⟪ exts ( σ₁ ⨟ σ₂) ⟫ N</code></pre></li><li><p>If <code>M</code> is an application, we use the induction hypothesis for both subterms.</p></li></ul><p>The following corollary of <code>sub-sub</code> specializes the first substitution to a renaming.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst"></a><a id="plfa_plfa-part2-Substitution-23885" href="../Substitution/#plfa_plfa-part2-Substitution-23885" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-23898" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23900" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-23902" href="../Substitution/#plfa_plfa-part2-Substitution-23902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23904" href="../Substitution/#plfa_plfa-part2-Substitution-23904" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23906" href="../Substitution/#plfa_plfa-part2-Substitution-23906" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-23908" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23910" href="../Substitution/#plfa_plfa-part2-Substitution-23910" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-23912" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23914" href="../Substitution/#plfa_plfa-part2-Substitution-23902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23916" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-23918" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-23919" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23921" href="../Substitution/#plfa_plfa-part2-Substitution-23921" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23923" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23925" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-23932" href="../Substitution/#plfa_plfa-part2-Substitution-23902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-23934" href="../Substitution/#plfa_plfa-part2-Substitution-23904" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-23935" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-23937" href="../Substitution/#plfa_plfa-part2-Substitution-23937" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23939" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-23941" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-23947" href="../Substitution/#plfa_plfa-part2-Substitution-23904" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-23949" href="../Substitution/#plfa_plfa-part2-Substitution-23906" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-23951" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-23966" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-23968" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23970" href="../Substitution/#plfa_plfa-part2-Substitution-23937" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23972" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23974" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-23975" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-23982" href="../Substitution/#plfa_plfa-part2-Substitution-23921" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23984" href="../Substitution/#plfa_plfa-part2-Substitution-23910" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-23985" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-23987" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-23989" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-23991" href="../Substitution/#plfa_plfa-part2-Substitution-23937" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-23993" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-23995" href="../Substitution/#plfa_plfa-part2-Substitution-23921" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-23997" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-23999" href="../Substitution/#plfa_plfa-part2-Substitution-23910" class="Bound">M</a>
<a id="plfa_plfa-part2-Substitution-24001" href="../Substitution/#plfa_plfa-part2-Substitution-23885" class="Function">rename-subst</a> <a id="plfa_plfa-part2-Substitution-24014" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24015" href="../Substitution/#plfa_plfa-part2-Substitution-24015" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-24016" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24018" href="../Substitution/#plfa_plfa-part2-Substitution-24018" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24019" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24021" href="../Substitution/#plfa_plfa-part2-Substitution-24021" class="Bound">Δ′</a><a id="plfa_plfa-part2-Substitution-24023" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24025" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24026" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24028" href="../Substitution/#plfa_plfa-part2-Substitution-24028" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-24029" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24031" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-24032" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24034" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-24039" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
     <a id="plfa_plfa-part2-Substitution-24050" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24052" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24054" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24056" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24057" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-24064" href="../Substitution/#plfa_plfa-part2-Substitution-24028" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24066" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24067" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-24072" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24075" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-24080" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24082" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24084" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24086" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24087" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-24103" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24104" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24106" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24108" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24109" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-24112" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-24119" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24121" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24123" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24125" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24126" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24128" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-24132" href="../Substitution/#plfa_plfa-part2-Substitution-24028" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24134" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24136" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24137" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Substitution-24142" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24145" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-24152" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24153" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24155" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24157" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-24158" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24160" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="plfa_plfa-part2-Substitution-24167" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24169" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-24173" href="../Substitution/#plfa_plfa-part2-Substitution-24028" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24175" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24177" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24179" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24181" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-24186" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
     <a id="plfa_plfa-part2-Substitution-24195" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24197" href="../Substitution/#plfa_plfa-part2-Substitution-24031" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24199" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part2-Substitution-24201" href="../Substitution/#plfa_plfa-part2-Substitution-24028" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-24203" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24205" href="../Substitution/#plfa_plfa-part2-Substitution-24025" class="Bound">M</a>
   <a id="plfa_plfa-part2-Substitution-24210" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="proof-of-sub-assoc">Proof of sub-assoc</h2><p>The proof of <code>sub-assoc</code> follows directly from <code>sub-sub</code> and the definition of sequencing.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-sub-assoc"></a><a id="plfa_plfa-part2-Substitution-24341" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-24351" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24353" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-24355" href="../Substitution/#plfa_plfa-part2-Substitution-24355" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24357" href="../Substitution/#plfa_plfa-part2-Substitution-24357" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24359" href="../Substitution/#plfa_plfa-part2-Substitution-24359" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-24361" href="../Substitution/#plfa_plfa-part2-Substitution-24361" class="Bound">Ψ</a> <a id="plfa_plfa-part2-Substitution-24363" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24365" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a><a id="plfa_plfa-part2-Substitution-24372" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24374" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24375" href="../Substitution/#plfa_plfa-part2-Substitution-24375" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24377" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24379" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24385" href="../Substitution/#plfa_plfa-part2-Substitution-24355" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24387" href="../Substitution/#plfa_plfa-part2-Substitution-24357" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24388" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24390" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24391" href="../Substitution/#plfa_plfa-part2-Substitution-24391" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24393" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24395" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24401" href="../Substitution/#plfa_plfa-part2-Substitution-24357" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-24403" href="../Substitution/#plfa_plfa-part2-Substitution-24359" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-24404" class="Symbol">}</a>
             <a id="plfa_plfa-part2-Substitution-24419" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24420" href="../Substitution/#plfa_plfa-part2-Substitution-24420" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24422" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24424" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-24430" href="../Substitution/#plfa_plfa-part2-Substitution-24359" class="Bound">Σ</a> <a id="plfa_plfa-part2-Substitution-24432" href="../Substitution/#plfa_plfa-part2-Substitution-24361" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-24433" class="Symbol">}</a>
          <a id="plfa_plfa-part2-Substitution-24445" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24447" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-24449" href="../Substitution/#plfa_plfa-part2-Substitution-24449" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24450" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24452" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24454" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24455" href="../Substitution/#plfa_plfa-part2-Substitution-24375" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24457" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24459" href="../Substitution/#plfa_plfa-part2-Substitution-24391" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24460" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24462" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24464" href="../Substitution/#plfa_plfa-part2-Substitution-24420" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24466" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-24468" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24469" href="../Substitution/#plfa_plfa-part2-Substitution-24375" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24471" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24473" href="../Substitution/#plfa_plfa-part2-Substitution-24391" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24475" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24477" href="../Substitution/#plfa_plfa-part2-Substitution-24420" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24478" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24480" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24481" href="../Substitution/#plfa_plfa-part2-Substitution-24449" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24482" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-24484" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Function">sub-assoc</a> <a id="plfa_plfa-part2-Substitution-24494" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24495" href="../Substitution/#plfa_plfa-part2-Substitution-24495" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-24496" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24498" href="../Substitution/#plfa_plfa-part2-Substitution-24498" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-24499" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24501" href="../Substitution/#plfa_plfa-part2-Substitution-24501" class="Bound">Σ</a><a id="plfa_plfa-part2-Substitution-24502" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24504" href="../Substitution/#plfa_plfa-part2-Substitution-24504" class="Bound">Ψ</a><a id="plfa_plfa-part2-Substitution-24505" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24507" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-24508" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24510" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24511" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24513" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24514" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-24516" href="../Substitution/#plfa_plfa-part2-Substitution-24516" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24517" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24519" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24521" href="../Substitution/#plfa_plfa-part2-Substitution-1855" class="Postulate">extensionality</a> <a id="plfa_plfa-part2-Substitution-24536" class="Symbol">λ</a> <a id="plfa_plfa-part2-Substitution-24538" href="../Substitution/#plfa_plfa-part2-Substitution-24538" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24540" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24542" href="../Substitution/#plfa_plfa-part2-Substitution-24565" class="Function">lemma</a><a id="plfa_plfa-part2-Substitution-24547" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24548" class="Argument">x</a> <a id="plfa_plfa-part2-Substitution-24550" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24552" href="../Substitution/#plfa_plfa-part2-Substitution-24538" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24553" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Substitution-24557" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Substitution-24565" href="../Substitution/#plfa_plfa-part2-Substitution-24565" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-24571" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24573" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-24575" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24576" href="../Substitution/#plfa_plfa-part2-Substitution-24576" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24578" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-24580" href="../Substitution/#plfa_plfa-part2-Substitution-24495" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-24582" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Substitution-24584" href="../Substitution/#plfa_plfa-part2-Substitution-24516" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-24585" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24587" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-24589" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24591" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24593" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24595" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24596" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24598" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24600" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24601" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24603" href="../Substitution/#plfa_plfa-part2-Substitution-24576" class="Bound">x</a> <a id="plfa_plfa-part2-Substitution-24605" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-24607" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24608" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24610" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24612" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24614" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24616" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24617" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24619" href="../Substitution/#plfa_plfa-part2-Substitution-24576" class="Bound">x</a>
  <a id="plfa_plfa-part2-Substitution-24623" href="../Substitution/#plfa_plfa-part2-Substitution-24565" class="Function">lemma</a> <a id="plfa_plfa-part2-Substitution-24629" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24630" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24631" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24633" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Substitution-24641" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="plfa_plfa-part2-Substitution-24655" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-24657" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24659" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24661" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a><a id="plfa_plfa-part2-Substitution-24662" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24664" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24666" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24667" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24669" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-24677" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-24689" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24691" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24693" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24695" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24696" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24698" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24700" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24702" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24703" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24705" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24706" class="Symbol">))</a>
      <a id="plfa_plfa-part2-Substitution-24715" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-24718" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-24725" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-24726" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-24728" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-24730" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24732" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24733" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-24735" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="plfa_plfa-part2-Substitution-24745" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-24747" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24749" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24751" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a> <a id="plfa_plfa-part2-Substitution-24753" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-24755" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24756" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24758" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a><a id="plfa_plfa-part2-Substitution-24759" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Substitution-24767" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="plfa_plfa-part2-Substitution-24779" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-24780" href="../Substitution/#plfa_plfa-part2-Substitution-24507" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-24782" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24784" href="../Substitution/#plfa_plfa-part2-Substitution-24510" class="Bound">τ</a> <a id="plfa_plfa-part2-Substitution-24786" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-24788" href="../Substitution/#plfa_plfa-part2-Substitution-24513" class="Bound">θ</a><a id="plfa_plfa-part2-Substitution-24789" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-24791" href="../Substitution/#plfa_plfa-part2-Substitution-24630" class="Bound">x</a>
      <a id="plfa_plfa-part2-Substitution-24799" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="proof-of-subst-zero-exts-cons">Proof of subst-zero-exts-cons</h2><p>The last equation we needed to prove <code>subst-zero-exts-cons</code> was <code>sub-assoc</code>, so we can now go ahead with its proof. We simply apply the equations for <code>exts</code> and <code>subst-zero</code> and then apply the σ algebra equation to arrive at the normal form <code>M • σ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-zero-exts-cons"></a><a id="plfa_plfa-part2-Substitution-25100" href="../Substitution/#plfa_plfa-part2-Substitution-25100" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-25121" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25123" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-25125" href="../Substitution/#plfa_plfa-part2-Substitution-25125" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-25127" href="../Substitution/#plfa_plfa-part2-Substitution-25127" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25128" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25130" href="../Substitution/#plfa_plfa-part2-Substitution-25130" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25132" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25134" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-25140" href="../Substitution/#plfa_plfa-part2-Substitution-25125" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-25142" href="../Substitution/#plfa_plfa-part2-Substitution-25127" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25143" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25145" href="../Substitution/#plfa_plfa-part2-Substitution-25145" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25146" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25148" href="../Substitution/#plfa_plfa-part2-Substitution-25148" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25150" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-25152" href="../Substitution/#plfa_plfa-part2-Substitution-25127" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-25154" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-25156" href="../Substitution/#plfa_plfa-part2-Substitution-25145" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25157" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25159" href="../Substitution/#plfa_plfa-part2-Substitution-25159" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25160" class="Symbol">}</a>
                     <a id="plfa_plfa-part2-Substitution-25183" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-25185" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-25190" href="../Substitution/#plfa_plfa-part2-Substitution-25130" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25192" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25194" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-25205" href="../Substitution/#plfa_plfa-part2-Substitution-25148" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25207" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-25209" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25210" href="../Substitution/#plfa_plfa-part2-Substitution-25148" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25212" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25214" href="../Substitution/#plfa_plfa-part2-Substitution-25130" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25215" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25217" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25218" href="../Substitution/#plfa_plfa-part2-Substitution-25159" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25219" class="Symbol">}</a>
<a id="plfa_plfa-part2-Substitution-25221" href="../Substitution/#plfa_plfa-part2-Substitution-25100" class="Function">subst-zero-exts-cons</a> <a id="plfa_plfa-part2-Substitution-25242" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25243" href="../Substitution/#plfa_plfa-part2-Substitution-25243" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-25244" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25246" href="../Substitution/#plfa_plfa-part2-Substitution-25246" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-25247" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25249" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25250" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25252" href="../Substitution/#plfa_plfa-part2-Substitution-25252" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-25253" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25255" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-25256" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25258" href="../Substitution/#plfa_plfa-part2-Substitution-25258" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-25259" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-25261" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Substitution-25267" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="plfa_plfa-part2-Substitution-25279" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-25284" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25286" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25288" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-25299" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a>
    <a id="plfa_plfa-part2-Substitution-25305" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25308" href="../Substitution/#plfa_plfa-part2-Substitution-12067" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-25317" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-25333" href="../Substitution/#plfa_plfa-part2-Substitution-15638" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-25350" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25358" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25359" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-25361" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-25363" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25365" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25366" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25368" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25370" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25371" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-25374" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25376" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25377" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25379" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25381" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25384" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-25390" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25393" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-25402" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25410" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25411" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-25413" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25415" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25417" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-25421" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-25423" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25424" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-25426" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-25427" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-25430" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25432" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-25434" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25436" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25438" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25439" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25441" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25443" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25444" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25446" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25448" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25451" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-25458" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25461" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25471" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25472" href="../Substitution/#plfa_plfa-part2-Substitution-8247" class="Function">sub-head</a><a id="plfa_plfa-part2-Substitution-25480" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25481" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25483" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25485" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25488" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25491" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25496" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25504" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25506" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25508" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-25510" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25512" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25514" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-25515" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-25517" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25519" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25520" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25522" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25524" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25527" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Substitution-25534" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25537" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25547" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25552" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25553" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-25562" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25563" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25565" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25567" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25568" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25571" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25579" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25581" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25583" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25584" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25586" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25588" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25589" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-25591" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25593" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25594" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25596" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25598" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25601" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Substitution-25609" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25612" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25622" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25627" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25628" href="../Substitution/#plfa_plfa-part2-Substitution-12067" class="Function">cong-seq</a><a id="plfa_plfa-part2-Substitution-25636" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25637" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25639" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25641" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25642" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-25644" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25649" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25650" href="../Substitution/#plfa_plfa-part2-Substitution-8357" class="Function">sub-tail</a><a id="plfa_plfa-part2-Substitution-25658" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25659" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-25661" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25663" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-25664" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-25666" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25668" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25670" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25673" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-25677" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25685" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25687" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25689" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25690" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-25692" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-25694" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-25697" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Substitution-25703" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-25706" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-25716" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-25721" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-25722" href="../Substitution/#plfa_plfa-part2-Substitution-17523" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-25729" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-25730" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-25732" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-25734" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-25735" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-25738" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="plfa_plfa-part2-Substitution-25746" href="../Substitution/#plfa_plfa-part2-Substitution-25255" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-25748" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-25750" href="../Substitution/#plfa_plfa-part2-Substitution-25249" class="Bound">σ</a>
    <a id="plfa_plfa-part2-Substitution-25756" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><h2 id="proof-of-the-substitution-lemma">Proof of the substitution lemma</h2><p>We first prove the generalized form of the substitution lemma, showing that a substitution <code>σ</code> commutes with the substitution of <code>M</code> into <code>N</code>.</p><pre><code>⟪ exts σ ⟫ N [ ⟪ σ ⟫ M ] ≡ ⟪ σ ⟫ (N [ M ])</code></pre><p>This proof is where the σ algebra pays off. The proof is by direct equational reasoning. Starting with the left-hand side, we apply σ algebra equations, oriented left-to-right, until we arrive at the normal form</p><pre><code>⟪ ⟪ σ ⟫ M • σ ⟫ N</code></pre><p>We then do the same with the right-hand side, arriving at the same normal form.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-subst-commute"></a><a id="plfa_plfa-part2-Substitution-26318" href="../Substitution/#plfa_plfa-part2-Substitution-26318" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-26332" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26334" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-26336" href="../Substitution/#plfa_plfa-part2-Substitution-26336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26338" href="../Substitution/#plfa_plfa-part2-Substitution-26338" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26339" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26341" href="../Substitution/#plfa_plfa-part2-Substitution-26341" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26343" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26345" href="../Substitution/#plfa_plfa-part2-Substitution-26336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26347" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-26349" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-26351" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-26353" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26354" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26356" href="../Substitution/#plfa_plfa-part2-Substitution-26356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26358" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26360" href="../Substitution/#plfa_plfa-part2-Substitution-26336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26362" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-26364" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-26365" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26367" href="../Substitution/#plfa_plfa-part2-Substitution-26367" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26369" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-26371" href="../Substitution/#plfa_plfa-part2-Substitution-2341" class="Function">Subst</a> <a id="plfa_plfa-part2-Substitution-26377" href="../Substitution/#plfa_plfa-part2-Substitution-26336" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-26379" href="../Substitution/#plfa_plfa-part2-Substitution-26338" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-26381" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-26387" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-26389" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26391" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26396" href="../Substitution/#plfa_plfa-part2-Substitution-26367" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26398" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26400" href="../Substitution/#plfa_plfa-part2-Substitution-26341" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26402" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26404" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26406" href="../Substitution/#plfa_plfa-part2-Substitution-26367" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26408" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26410" href="../Substitution/#plfa_plfa-part2-Substitution-26356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26412" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-26414" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-26416" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26418" href="../Substitution/#plfa_plfa-part2-Substitution-26367" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26420" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26422" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26423" href="../Substitution/#plfa_plfa-part2-Substitution-26341" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26425" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26427" href="../Substitution/#plfa_plfa-part2-Substitution-26356" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26429" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-26430" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-26432" href="../Substitution/#plfa_plfa-part2-Substitution-26318" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Substitution-26446" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26447" href="../Substitution/#plfa_plfa-part2-Substitution-26447" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-26448" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26450" href="../Substitution/#plfa_plfa-part2-Substitution-26450" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-26451" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26453" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26454" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26456" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26457" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-26459" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-26460" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26462" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-26469" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-26482" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26484" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26489" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26491" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26493" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-26495" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-26497" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26499" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26501" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26503" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26505" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-26512" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26523" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26525" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-26536" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26537" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26539" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26541" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26543" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26544" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26546" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26548" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26549" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26551" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26556" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26558" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26560" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26561" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26568" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26571" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-26580" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26581" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26583" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26585" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26587" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26592" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26594" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26596" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26597" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26599" href="../Substitution/#plfa_plfa-part2-Substitution-15638" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-26616" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26621" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26630" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26632" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26634" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26636" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26638" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26640" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26642" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-26646" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26648" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26649" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26651" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26656" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26658" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26660" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26661" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-26668" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26671" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a> <a id="plfa_plfa-part2-Substitution-26679" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26680" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26682" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26684" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26685" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26687" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26696" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26698" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26699" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-26704" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-26705" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26707" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26709" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26711" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26713" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26715" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26717" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-26718" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26720" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26722" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-26725" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26727" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26729" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-26736" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26739" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-26748" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26749" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26751" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26753" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26754" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26756" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26757" href="../Substitution/#plfa_plfa-part2-Substitution-12067" class="Function">cong-seq</a> <a id="plfa_plfa-part2-Substitution-26766" href="../Substitution/#plfa_plfa-part2-Substitution-14849" class="Function">exts-cons-shift</a> <a id="plfa_plfa-part2-Substitution-26782" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-26786" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26788" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26793" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26802" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26804" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26805" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-26807" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Substitution-26809" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26811" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26812" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26814" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26816" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-26817" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-26820" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26822" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26823" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26825" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26827" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26829" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26831" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26833" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-26836" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26838" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26840" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-26847" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-26850" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-26859" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26860" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26862" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26864" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-26865" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-26867" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26868" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a> <a id="plfa_plfa-part2-Substitution-26877" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-26878" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-26880" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-26882" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-26884" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-26885" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-26888" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-26893" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-26902" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26904" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26906" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26908" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26910" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26912" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26914" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26916" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-26920" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26922" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26923" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Substitution-26925" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Substitution-26926" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26928" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26930" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26932" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26934" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26936" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-26937" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26939" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26941" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-26942" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26944" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26946" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26948" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26950" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26952" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-26955" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-26958" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26960" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-26967" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
       <a id="plfa_plfa-part2-Substitution-26978" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26980" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-26982" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26984" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-26986" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-26988" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-26990" class="Symbol">((</a><a id="plfa_plfa-part2-Substitution-26992" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-26994" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-26996" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a><a id="plfa_plfa-part2-Substitution-26997" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-26999" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27001" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27002" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27004" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27006" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27008" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27010" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27012" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27015" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-27018" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27020" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27027" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27030" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27038" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27039" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27041" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27043" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27044" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27046" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27047" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27057" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27062" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27063" href="../Substitution/#plfa_plfa-part2-Substitution-24341" class="Function">sub-assoc</a><a id="plfa_plfa-part2-Substitution-27072" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27073" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27075" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27077" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27078" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27082" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27087" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27096" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27098" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27100" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27102" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27104" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27106" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27108" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27109" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27111" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27113" href="../Substitution/#plfa_plfa-part2-Substitution-3139" class="Function">↑</a> <a id="plfa_plfa-part2-Substitution-27115" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27117" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27119" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27121" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27123" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27125" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27127" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27130" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27132" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27134" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27141" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27144" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27152" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27153" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27155" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27157" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27158" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27160" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27165" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27170" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27179" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27181" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27183" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27185" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27187" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27189" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27191" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27192" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27194" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27196" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a><a id="plfa_plfa-part2-Substitution-27199" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27201" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27203" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27210" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27213" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27221" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27222" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27224" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27226" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27227" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27229" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27230" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27240" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27245" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27246" href="../Substitution/#plfa_plfa-part2-Substitution-17523" class="Function">sub-idR</a><a id="plfa_plfa-part2-Substitution-27253" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27254" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27256" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27258" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27259" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27263" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27268" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27277" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27279" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27281" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27283" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27285" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27287" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27289" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27291" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27293" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27300" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27303" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27311" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27312" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27314" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27316" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27317" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27319" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27320" href="../Substitution/#plfa_plfa-part2-Substitution-11718" class="Function">cong-cons</a> <a id="plfa_plfa-part2-Substitution-27330" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27335" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27336" href="../Substitution/#plfa_plfa-part2-Substitution-8971" class="Function">sub-idL</a><a id="plfa_plfa-part2-Substitution-27343" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27344" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-27346" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27348" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27349" class="Symbol">}))</a> <a id="plfa_plfa-part2-Substitution-27353" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27358" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27367" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27369" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27371" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27373" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27375" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27377" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27379" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27380" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27384" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27386" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a><a id="plfa_plfa-part2-Substitution-27387" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27389" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27391" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27398" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27401" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27409" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27410" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27412" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27414" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27415" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27417" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27418" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27422" href="../Substitution/#plfa_plfa-part2-Substitution-9082" class="Function">sub-dist</a><a id="plfa_plfa-part2-Substitution-27430" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27432" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-27437" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27446" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27448" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27450" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27452" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27456" href="../Substitution/#plfa_plfa-part2-Substitution-3740" class="Function Operator">⨟</a> <a id="plfa_plfa-part2-Substitution-27458" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27460" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27462" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a>
     <a id="plfa_plfa-part2-Substitution-27469" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27472" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27476" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27477" href="../Substitution/#plfa_plfa-part2-Substitution-22858" class="Function">sub-sub</a><a id="plfa_plfa-part2-Substitution-27484" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27485" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27487" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27489" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27490" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-27493" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27502" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27504" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27506" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27508" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27509" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27511" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27513" href="../Substitution/#plfa_plfa-part2-Substitution-3385" class="Function Operator">•</a> <a id="plfa_plfa-part2-Substitution-27515" href="../Substitution/#plfa_plfa-part2-Substitution-2996" class="Function">ids</a> <a id="plfa_plfa-part2-Substitution-27519" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27521" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27522" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-27529" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-27532" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="plfa_plfa-part2-Substitution-27537" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27539" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27541" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27543" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27544" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-27548" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27549" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-27557" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-27558" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-27560" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-27562" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27563" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-27565" href="../Substitution/#plfa_plfa-part2-Substitution-15638" class="Function">subst-Z-cons-ids</a> <a id="plfa_plfa-part2-Substitution-27582" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-27586" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-27589" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-27598" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-27600" href="../Substitution/#plfa_plfa-part2-Substitution-26459" class="Bound">σ</a> <a id="plfa_plfa-part2-Substitution-27602" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-27604" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27605" href="../Substitution/#plfa_plfa-part2-Substitution-26453" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-27607" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-27609" href="../Substitution/#plfa_plfa-part2-Substitution-26456" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27611" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-27612" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-27619" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>A corollary of <code>subst-commute</code> is that <code>rename</code> also commutes with substitution. In the proof below, we first exchange <code>rename ρ</code> for the substitution <code>⟪ ren ρ ⟫</code>, and apply <code>subst-commute</code>, and then convert back to <code>rename ρ</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-rename-subst-commute"></a><a id="plfa_plfa-part2-Substitution-27863" href="../Substitution/#plfa_plfa-part2-Substitution-27863" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-27884" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27886" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-27888" href="../Substitution/#plfa_plfa-part2-Substitution-27888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27890" href="../Substitution/#plfa_plfa-part2-Substitution-27890" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-27891" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27893" href="../Substitution/#plfa_plfa-part2-Substitution-27893" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-27895" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27897" href="../Substitution/#plfa_plfa-part2-Substitution-27888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27899" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-27901" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-27903" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-27905" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-27906" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27908" href="../Substitution/#plfa_plfa-part2-Substitution-27908" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27910" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27912" href="../Substitution/#plfa_plfa-part2-Substitution-27888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27914" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-27916" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-27917" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-27919" href="../Substitution/#plfa_plfa-part2-Substitution-27919" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-27921" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-27923" href="../Substitution/#plfa_plfa-part2-Substitution-2124" class="Function">Rename</a> <a id="plfa_plfa-part2-Substitution-27930" href="../Substitution/#plfa_plfa-part2-Substitution-27888" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-27932" href="../Substitution/#plfa_plfa-part2-Substitution-27890" class="Bound">Δ</a> <a id="plfa_plfa-part2-Substitution-27934" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-27940" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-27942" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27943" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-27950" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27951" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-27955" href="../Substitution/#plfa_plfa-part2-Substitution-27919" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-27956" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27958" href="../Substitution/#plfa_plfa-part2-Substitution-27893" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-27959" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-27961" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-27963" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-27970" href="../Substitution/#plfa_plfa-part2-Substitution-27919" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-27972" href="../Substitution/#plfa_plfa-part2-Substitution-27908" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27974" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-27976" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-27978" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-27985" href="../Substitution/#plfa_plfa-part2-Substitution-27919" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-27987" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-27988" href="../Substitution/#plfa_plfa-part2-Substitution-27893" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-27990" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-27992" href="../Substitution/#plfa_plfa-part2-Substitution-27908" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-27994" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-27995" class="Symbol">)</a>
<a id="plfa_plfa-part2-Substitution-27997" href="../Substitution/#plfa_plfa-part2-Substitution-27863" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Substitution-28018" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28019" href="../Substitution/#plfa_plfa-part2-Substitution-28019" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28020" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28022" href="../Substitution/#plfa_plfa-part2-Substitution-28022" class="Bound">Δ</a><a id="plfa_plfa-part2-Substitution-28023" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28025" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28026" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28028" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28029" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28031" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28032" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28034" class="Symbol">=</a>
     <a id="plfa_plfa-part2-Substitution-28041" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
       <a id="plfa_plfa-part2-Substitution-28054" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28055" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28062" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28063" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-28067" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28068" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28070" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28071" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28073" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28075" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28082" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28084" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28086" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28093" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28096" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-28105" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28106" href="../Substitution/#plfa_plfa-part2-Substitution-11463" class="Function">cong-sub-zero</a> <a id="plfa_plfa-part2-Substitution-28120" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28121" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28137" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28138" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28140" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28142" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28143" class="Symbol">}))</a>
                 <a id="plfa_plfa-part2-Substitution-28164" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28165" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28181" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28182" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28184" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28186" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28187" class="Symbol">})</a> <a id="plfa_plfa-part2-Substitution-28190" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28199" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28200" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28202" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28206" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28207" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Substitution-28211" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28212" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28214" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28216" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28217" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28219" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28221" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28223" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28227" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28229" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28231" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28233" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28240" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28243" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a> <a id="plfa_plfa-part2-Substitution-28252" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part2-Substitution-28257" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28258" href="../Substitution/#plfa_plfa-part2-Substitution-10971" class="Function">cong-sub</a><a id="plfa_plfa-part2-Substitution-28266" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28267" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-28269" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28271" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28272" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28274" href="../Substitution/#plfa_plfa-part2-Substitution-13100" class="Function">ren-ext</a> <a id="plfa_plfa-part2-Substitution-28282" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Substitution-28286" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28288" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28297" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28298" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28300" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-28305" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28306" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28310" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28311" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28313" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28315" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28316" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28318" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28320" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟪</a> <a id="plfa_plfa-part2-Substitution-28322" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28326" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28328" href="../Substitution/#plfa_plfa-part2-Substitution-2490" class="Function Operator">⟫</a> <a id="plfa_plfa-part2-Substitution-28330" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28332" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>
     <a id="plfa_plfa-part2-Substitution-28339" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28342" href="../Substitution/#plfa_plfa-part2-Substitution-26318" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-28355" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28356" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-28358" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-28360" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-28361" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28363" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28372" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-28378" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28379" href="../Substitution/#plfa_plfa-part2-Substitution-6482" class="Function">ren</a> <a id="plfa_plfa-part2-Substitution-28383" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a><a id="plfa_plfa-part2-Substitution-28384" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28386" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28387" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28389" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28391" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28393" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28394" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-28401" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="plfa_plfa-part2-Substitution-28404" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-28408" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28409" href="../Substitution/#plfa_plfa-part2-Substitution-13473" class="Function">rename-subst-ren</a><a id="plfa_plfa-part2-Substitution-28425" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28427" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
       <a id="plfa_plfa-part2-Substitution-28436" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Substitution-28443" href="../Substitution/#plfa_plfa-part2-Substitution-28031" class="Bound">ρ</a> <a id="plfa_plfa-part2-Substitution-28445" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28446" href="../Substitution/#plfa_plfa-part2-Substitution-28025" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28448" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28450" href="../Substitution/#plfa_plfa-part2-Substitution-28028" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28452" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28453" class="Symbol">)</a>
     <a id="plfa_plfa-part2-Substitution-28460" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre><p>To present the substitution lemma, we introduce the following notation for substituting a term <code>M</code> for index 1 within term <code>N</code>.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-_〔_〕"></a><a id="plfa_plfa-part2-Substitution-28604" href="../Substitution/#plfa_plfa-part2-Substitution-28604" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-28609" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28611" class="Symbol">∀</a> <a id="plfa_plfa-part2-Substitution-28613" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28614" href="../Substitution/#plfa_plfa-part2-Substitution-28614" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28616" href="../Substitution/#plfa_plfa-part2-Substitution-28616" class="Bound">A</a> <a id="plfa_plfa-part2-Substitution-28618" href="../Substitution/#plfa_plfa-part2-Substitution-28618" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28620" href="../Substitution/#plfa_plfa-part2-Substitution-28620" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28621" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Substitution-28631" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28633" href="../Substitution/#plfa_plfa-part2-Substitution-28614" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28635" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28637" href="../Substitution/#plfa_plfa-part2-Substitution-28618" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28639" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28641" href="../Substitution/#plfa_plfa-part2-Substitution-28620" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-28643" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28645" href="../Substitution/#plfa_plfa-part2-Substitution-28616" class="Bound">A</a>
        <a id="plfa_plfa-part2-Substitution-28655" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28657" href="../Substitution/#plfa_plfa-part2-Substitution-28614" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28659" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28661" href="../Substitution/#plfa_plfa-part2-Substitution-28618" class="Bound">B</a>
          <a id="plfa_plfa-part2-Substitution-28673" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Substitution-28691" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28693" href="../Substitution/#plfa_plfa-part2-Substitution-28614" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28695" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28697" href="../Substitution/#plfa_plfa-part2-Substitution-28620" class="Bound">C</a> <a id="plfa_plfa-part2-Substitution-28699" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28701" href="../Substitution/#plfa_plfa-part2-Substitution-28616" class="Bound">A</a>
<a id="plfa_plfa-part2-Substitution-28703" href="../Substitution/#plfa_plfa-part2-Substitution-28604" class="Function Operator">_〔_〕</a> <a id="plfa_plfa-part2-Substitution-28708" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28709" href="../Substitution/#plfa_plfa-part2-Substitution-28709" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28710" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28712" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28713" href="../Substitution/#plfa_plfa-part2-Substitution-28713" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-28714" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28716" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28717" href="../Substitution/#plfa_plfa-part2-Substitution-28717" class="Bound">B</a><a id="plfa_plfa-part2-Substitution-28718" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28720" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28721" href="../Substitution/#plfa_plfa-part2-Substitution-28721" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28722" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28724" href="../Substitution/#plfa_plfa-part2-Substitution-28724" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28726" href="../Substitution/#plfa_plfa-part2-Substitution-28726" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28728" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-28733" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Substitution-28739" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28740" href="../Substitution/#plfa_plfa-part2-Substitution-28709" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28742" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28744" href="../Substitution/#plfa_plfa-part2-Substitution-28717" class="Bound">B</a> <a id="plfa_plfa-part2-Substitution-28746" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28748" href="../Substitution/#plfa_plfa-part2-Substitution-28721" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28749" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28751" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28752" href="../Substitution/#plfa_plfa-part2-Substitution-28709" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28754" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28756" href="../Substitution/#plfa_plfa-part2-Substitution-28721" class="Bound">C</a><a id="plfa_plfa-part2-Substitution-28757" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28759" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28760" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Substitution-28765" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28766" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-28777" href="../Substitution/#plfa_plfa-part2-Substitution-28726" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-28778" class="Symbol">))</a> <a id="plfa_plfa-part2-Substitution-28781" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-28782" href="../Substitution/#plfa_plfa-part2-Substitution-28713" class="Bound">A</a><a id="plfa_plfa-part2-Substitution-28783" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-28785" href="../Substitution/#plfa_plfa-part2-Substitution-28724" class="Bound">N</a>
</pre><p>The substitution lemma is stated as follows and proved as a corollary of the <code>subst-commute</code> lemma.</p><pre class="Agda"><a id="plfa_plfa-part2-Substitution-substitution"></a><a id="plfa_plfa-part2-Substitution-28901" href="../Substitution/#plfa_plfa-part2-Substitution-28901" class="Function">substitution</a> <a id="plfa_plfa-part2-Substitution-28914" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28916" class="Symbol">∀{</a><a id="plfa_plfa-part2-Substitution-28918" href="../Substitution/#plfa_plfa-part2-Substitution-28918" class="Bound">Γ</a><a id="plfa_plfa-part2-Substitution-28919" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28921" href="../Substitution/#plfa_plfa-part2-Substitution-28921" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28923" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28925" href="../Substitution/#plfa_plfa-part2-Substitution-28918" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28927" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28929" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-28931" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28933" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-28935" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28937" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28938" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28940" href="../Substitution/#plfa_plfa-part2-Substitution-28940" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28942" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28944" href="../Substitution/#plfa_plfa-part2-Substitution-28918" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28946" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Substitution-28948" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Substitution-28950" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28952" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28953" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-28955" href="../Substitution/#plfa_plfa-part2-Substitution-28955" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-28957" class="Symbol">:</a> <a id="plfa_plfa-part2-Substitution-28959" href="../Substitution/#plfa_plfa-part2-Substitution-28918" class="Bound">Γ</a> <a id="plfa_plfa-part2-Substitution-28961" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Substitution-28963" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Substitution-28964" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Substitution-28970" class="Symbol">→</a> <a id="plfa_plfa-part2-Substitution-28972" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28973" href="../Substitution/#plfa_plfa-part2-Substitution-28921" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28975" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28977" href="../Substitution/#plfa_plfa-part2-Substitution-28940" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-28979" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-28980" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-28982" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-28984" href="../Substitution/#plfa_plfa-part2-Substitution-28955" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-28986" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a> <a id="plfa_plfa-part2-Substitution-28988" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Substitution-28990" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-28991" href="../Substitution/#plfa_plfa-part2-Substitution-28921" class="Bound">M</a> <a id="plfa_plfa-part2-Substitution-28993" href="../Substitution/#plfa_plfa-part2-Substitution-28604" class="Function Operator">〔</a> <a id="plfa_plfa-part2-Substitution-28995" href="../Substitution/#plfa_plfa-part2-Substitution-28955" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-28997" href="../Substitution/#plfa_plfa-part2-Substitution-28604" class="Function Operator">〕</a><a id="plfa_plfa-part2-Substitution-28998" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29000" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29002" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29003" href="../Substitution/#plfa_plfa-part2-Substitution-28940" class="Bound">N</a> <a id="plfa_plfa-part2-Substitution-29005" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Substitution-29007" href="../Substitution/#plfa_plfa-part2-Substitution-28955" class="Bound">L</a> <a id="plfa_plfa-part2-Substitution-29009" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a><a id="plfa_plfa-part2-Substitution-29010" class="Symbol">)</a> <a id="plfa_plfa-part2-Substitution-29012" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Substitution-29014" href="../Substitution/#plfa_plfa-part2-Substitution-28901" class="Function">substitution</a><a id="plfa_plfa-part2-Substitution-29026" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29027" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29029" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29031" href="../Substitution/#plfa_plfa-part2-Substitution-29031" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-29032" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29034" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-29036" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29038" href="../Substitution/#plfa_plfa-part2-Substitution-29038" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-29039" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29041" class="Argument">L</a> <a id="plfa_plfa-part2-Substitution-29043" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29045" href="../Substitution/#plfa_plfa-part2-Substitution-29045" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-29046" class="Symbol">}</a> <a id="plfa_plfa-part2-Substitution-29048" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Substitution-29053" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="plfa_plfa-part2-Substitution-29057" class="Symbol">(</a><a id="plfa_plfa-part2-Substitution-29058" href="../Substitution/#plfa_plfa-part2-Substitution-26318" class="Function">subst-commute</a><a id="plfa_plfa-part2-Substitution-29071" class="Symbol">{</a><a id="plfa_plfa-part2-Substitution-29072" class="Argument">N</a> <a id="plfa_plfa-part2-Substitution-29074" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29076" href="../Substitution/#plfa_plfa-part2-Substitution-29031" class="Bound">M</a><a id="plfa_plfa-part2-Substitution-29077" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29079" class="Argument">M</a> <a id="plfa_plfa-part2-Substitution-29081" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29083" href="../Substitution/#plfa_plfa-part2-Substitution-29038" class="Bound">N</a><a id="plfa_plfa-part2-Substitution-29084" class="Symbol">}{</a><a id="plfa_plfa-part2-Substitution-29086" class="Argument">σ</a> <a id="plfa_plfa-part2-Substitution-29088" class="Symbol">=</a> <a id="plfa_plfa-part2-Substitution-29090" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Substitution-29101" href="../Substitution/#plfa_plfa-part2-Substitution-29045" class="Bound">L</a><a id="plfa_plfa-part2-Substitution-29102" class="Symbol">})</a>
</pre><h2 id="notes">Notes</h2><p>Most of the properties and proofs in this file are based on the paper <em>Autosubst: Reasoning with de Bruijn Terms and Parallel Substitution</em> by Schafer, Tebbi, and Smolka (ITP 2015). That paper, in turn, is based on the paper of Abadi, Cardelli, Curien, and Levy (1991) that defines the σ algebra.</p><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><pre><code>⟪  U+27EA  MATHEMATICAL LEFT DOUBLE ANGLE BRACKET (\&lt;&lt;)
⟫  U+27EA  MATHEMATICAL RIGHT DOUBLE ANGLE BRACKET (\&gt;&gt;)
↑  U+2191  UPWARDS ARROW (\u)
•  U+2022  BULLET (\bub)
⨟  U+2A1F  Z NOTATION SCHEMA COMPOSITION (C-x 8 RET Z NOTATION SCHEMA COMPOSITION)
〔  U+3014  LEFT TORTOISE SHELL BRACKET (\( option 9 on page 2)
〕  U+3015  RIGHT TORTOISE SHELL BRACKET (\) option 9 on page 2)</code></pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../ContextualEquivalence/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Substitution.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Acknowledgements/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>