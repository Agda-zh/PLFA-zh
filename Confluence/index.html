<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Confluence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Confluence: 无类型 λ-演算的合流性</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Confluence-114" class="Keyword">module</a> <a id="plfa_plfa-part2-Confluence-121" href="../Confluence/#" class="Module">plfa.part2.Confluence</a> <a id="plfa_plfa-part2-Confluence-143" class="Keyword">where</a>
</pre><h2 id="简介">简介</h2><p>在这一章我们将证明 β-归约是<strong>合流的（Confluent）</strong> （又被称作 <em>Church-Rosser</em> 性质）： 如果有从任一项 <code>L</code> 至两个不同项 <code>M₁</code> 和 <code>M₂</code> 的归约序列， 那么一定存在从这两个项至某个相同项 <code>N</code> 的归约序列。 如图：</p><pre><code>    L
   / \
  /   \
 /     \
M₁      M₂
 \     /
  \   /
   \ /
    N</code></pre><p>其中向下的线是 <code>-↠</code> 的实例。</p><p>合流性（Confluence）也在许多 λ-演算外的重写系统中被研究， 并且如何在满足<strong>菱形性质（Diamond Property）</strong>， 一种合流性的单步版本的重写系统中证明合流性是广为人知的。 令 <code>⇛</code> 为一个关系。<code>⇛</code> 具有菱形性质， 如果对于任何 <code>L ⇛ M₁</code> 和 <code>L ⇛ M₂</code> 都存在 <code>N</code> ， 使得 <code>M₁ ⇛ N</code> 和 <code>M₂ ⇛ N</code>。 这只是上图的另一个例子，此处向下的线代表 <code>⇛</code>。 如果我们将 <code>⇛</code> 的自反传递闭包写作 <code>⇛*</code>， 那么可以立即从菱形性质推出 <code>⇛*</code> 的合流性。</p><p>不幸的是 λ-演算的归约并不满足菱形性质。这是一个反例：</p><pre><code>(λ x. x x)((λ x. x) a) —→ (λ x. x x) a
(λ x. x x)((λ x. x) a) —→ ((λ x. x) a) ((λ x. x) a)</code></pre><p>两个项都可以归约至 <code>a a</code>，但第二项需要两步来完成，而不是一步。</p><p>为了回避这个问题，我们将定义一个辅助归约关系， 称为<strong>平行归约（Parallel Reduction）</strong> ， 它可以同时执行许多归约并因此满足菱形性质。 更进一步地，我们将证明在两个项间存在平行归约序列当且仅当这两个项间存在 β-归约序列。 因此，我们可以将 β-归约序列合流性的证明约化为平行归约合流性的证明。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Confluence-2733" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2738" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2745" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Confluence-2783" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2789" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2790" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Confluence-2793" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2795" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Confluence-2799" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2801" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2806" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2813" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Confluence-2822" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2828" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2829" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Confluence-2832" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2834" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2839" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2846" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Confluence-2859" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2865" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2866" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Confluence-2869" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2871" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part2-Confluence-2872" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2874" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part2-Confluence-2882" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2884" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Confluence-2885" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2887" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Confluence-2895" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2897" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part2-Confluence-2902" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2904" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part2-Confluence-2909" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-2913" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Confluence-2922" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2923" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Confluence-2927" class="Symbol">to</a> <a id="plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Confluence-2935" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2937" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2942" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2949" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Confluence-2973" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2979" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2980" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a><a id="plfa_plfa-part2-Confluence-2986" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2988" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a><a id="plfa_plfa-part2-Confluence-2993" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2995" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-3000" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-3007" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part2-Confluence-3028" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-3034" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3035" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">_—→_</a><a id="plfa_plfa-part2-Confluence-3039" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3041" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Confluence-3042" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3044" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a><a id="plfa_plfa-part2-Confluence-3046" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3048" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a><a id="plfa_plfa-part2-Confluence-3050" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3052" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a><a id="plfa_plfa-part2-Confluence-3053" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3055" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part2-Confluence-3059" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3061" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Confluence-3067" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3069" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3076" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3078" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">_—↠⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3085" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3087" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">_∎</a><a id="plfa_plfa-part2-Confluence-3089" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3093" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a><a id="plfa_plfa-part2-Confluence-3101" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3103" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-3112" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3114" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-3123" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3125" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a><a id="plfa_plfa-part2-Confluence-3133" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3137" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Confluence-3140" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3142" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Confluence-3145" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3147" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Confluence-3149" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3151" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#_</a><a id="plfa_plfa-part2-Confluence-3153" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3155" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Confluence-3158" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3160" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3161" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3163" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Confluence-3165" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3167" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Confluence-3170" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3172" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Confluence-3176" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3180" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a><a id="plfa_plfa-part2-Confluence-3186" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3188" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a><a id="plfa_plfa-part2-Confluence-3191" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3193" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a><a id="plfa_plfa-part2-Confluence-3197" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3199" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-3200" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3202" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Confluence-3204" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3206" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a><a id="plfa_plfa-part2-Confluence-3211" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3213" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a><a id="plfa_plfa-part2-Confluence-3223" class="Symbol">)</a>
</pre><h2 id="平行归约">平行归约</h2><p>平行归约关系被定义如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-3358" class="Keyword">infix</a> <a id="plfa_plfa-part2-Confluence-3364" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-3366" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">_⇛_</a>

<a id="plfa_plfa-part2-Confluence-3371" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛_"></a><a id="plfa_plfa-part2-Confluence-3376" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">_⇛_</a> <a id="plfa_plfa-part2-Confluence-3380" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3382" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-3384" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-3385" href="../Confluence/#plfa_plfa-part2-Confluence-3385" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3387" href="../Confluence/#plfa_plfa-part2-Confluence-3387" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3388" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-3390" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3392" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3393" href="../Confluence/#plfa_plfa-part2-Confluence-3385" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3395" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3397" href="../Confluence/#plfa_plfa-part2-Confluence-3387" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3398" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3400" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3402" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3403" href="../Confluence/#plfa_plfa-part2-Confluence-3385" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3405" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3407" href="../Confluence/#plfa_plfa-part2-Confluence-3387" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3408" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3410" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3412" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-3416" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pvar"></a><a id="plfa_plfa-part2-Confluence-3425" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-3430" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3432" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3434" href="../Confluence/#plfa_plfa-part2-Confluence-3434" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3436" href="../Confluence/#plfa_plfa-part2-Confluence-3436" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3437" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3439" href="../Confluence/#plfa_plfa-part2-Confluence-3439" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-3441" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3443" href="../Confluence/#plfa_plfa-part2-Confluence-3434" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3445" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-3447" href="../Confluence/#plfa_plfa-part2-Confluence-3436" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3448" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Confluence-3456" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-3470" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3472" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3473" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3475" href="../Confluence/#plfa_plfa-part2-Confluence-3439" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3476" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3478" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3480" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3481" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3483" href="../Confluence/#plfa_plfa-part2-Confluence-3439" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3484" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pabs"></a><a id="plfa_plfa-part2-Confluence-3489" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-3494" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3496" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3498" href="../Confluence/#plfa_plfa-part2-Confluence-3498" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3499" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3501" href="../Confluence/#plfa_plfa-part2-Confluence-3501" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3503" href="../Confluence/#plfa_plfa-part2-Confluence-3503" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3506" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3508" href="../Confluence/#plfa_plfa-part2-Confluence-3498" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3510" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3512" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3514" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3516" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3517" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3523" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3525" href="../Confluence/#plfa_plfa-part2-Confluence-3501" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3527" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3529" href="../Confluence/#plfa_plfa-part2-Confluence-3503" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Confluence-3538" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Confluence-3553" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3555" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3557" href="../Confluence/#plfa_plfa-part2-Confluence-3501" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3559" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3561" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3563" href="../Confluence/#plfa_plfa-part2-Confluence-3503" class="Bound">N′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.papp"></a><a id="plfa_plfa-part2-Confluence-3569" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-3574" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3576" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3578" href="../Confluence/#plfa_plfa-part2-Confluence-3578" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3579" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3581" href="../Confluence/#plfa_plfa-part2-Confluence-3581" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3583" href="../Confluence/#plfa_plfa-part2-Confluence-3583" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3586" href="../Confluence/#plfa_plfa-part2-Confluence-3586" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3588" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3591" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3593" href="../Confluence/#plfa_plfa-part2-Confluence-3578" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3595" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3597" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3598" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3604" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3606" href="../Confluence/#plfa_plfa-part2-Confluence-3581" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3608" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3610" href="../Confluence/#plfa_plfa-part2-Confluence-3583" class="Bound">L′</a>
    <a id="plfa_plfa-part2-Confluence-3617" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3619" href="../Confluence/#plfa_plfa-part2-Confluence-3586" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3621" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3623" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3632" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Confluence-3654" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3656" href="../Confluence/#plfa_plfa-part2-Confluence-3581" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3658" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3660" href="../Confluence/#plfa_plfa-part2-Confluence-3586" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3662" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3664" href="../Confluence/#plfa_plfa-part2-Confluence-3583" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3667" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3669" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pbeta"></a><a id="plfa_plfa-part2-Confluence-3675" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-3681" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3683" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3685" href="../Confluence/#plfa_plfa-part2-Confluence-3685" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3686" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3688" href="../Confluence/#plfa_plfa-part2-Confluence-3688" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3690" href="../Confluence/#plfa_plfa-part2-Confluence-3690" class="Bound">N′</a>  <a id="plfa_plfa-part2-Confluence-3694" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3696" href="../Confluence/#plfa_plfa-part2-Confluence-3685" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3698" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3700" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3702" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3704" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3705" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3707" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3709" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3712" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3714" href="../Confluence/#plfa_plfa-part2-Confluence-3685" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3716" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3718" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3719" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3725" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3727" href="../Confluence/#plfa_plfa-part2-Confluence-3688" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3729" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3731" href="../Confluence/#plfa_plfa-part2-Confluence-3690" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-3738" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3740" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3742" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3744" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3753" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Confluence-3781" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3783" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3784" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3786" href="../Confluence/#plfa_plfa-part2-Confluence-3688" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-3787" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3789" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3791" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-3794" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a>  <a id="plfa_plfa-part2-Confluence-3797" href="../Confluence/#plfa_plfa-part2-Confluence-3690" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3800" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-3802" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3805" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
</pre><p>前三种规则是同时归约每个部分的合同性。 最后一个规则平行地归约一个 λ-项和另一个项，接着是一步 β-归约。</p><p>我们注意到 <code>pabs</code>、<code>papp</code> 和 <code>pbeta</code> 规则同时对它们的所有子表达式执行归约。 此外，<code>pabs</code> 规则类似于 <code>ζ</code> 规则，<code>pbeta</code> 类似于 <code>β</code> 规则。</p><p>平行归约是自反的。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-refl"></a><a id="plfa_plfa-part2-Confluence-4401" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4410" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4412" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-4414" href="../Confluence/#plfa_plfa-part2-Confluence-4414" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4416" href="../Confluence/#plfa_plfa-part2-Confluence-4416" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4417" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-4419" href="../Confluence/#plfa_plfa-part2-Confluence-4419" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4421" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4423" href="../Confluence/#plfa_plfa-part2-Confluence-4414" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4425" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4427" href="../Confluence/#plfa_plfa-part2-Confluence-4416" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4428" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4430" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4432" href="../Confluence/#plfa_plfa-part2-Confluence-4419" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4434" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4436" href="../Confluence/#plfa_plfa-part2-Confluence-4419" class="Bound">M</a>
<a id="plfa_plfa-part2-Confluence-4438" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4447" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4448" href="../Confluence/#plfa_plfa-part2-Confluence-4448" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4449" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4451" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4452" href="../Confluence/#plfa_plfa-part2-Confluence-4452" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4453" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4455" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4456" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-4458" href="../Confluence/#plfa_plfa-part2-Confluence-4458" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-4459" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4461" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4463" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-4468" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4477" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4478" href="../Confluence/#plfa_plfa-part2-Confluence-4478" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4479" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4481" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4482" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4483" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4485" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4486" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-4488" href="../Confluence/#plfa_plfa-part2-Confluence-4488" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-4489" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4491" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4493" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-4498" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-4507" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4516" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4517" href="../Confluence/#plfa_plfa-part2-Confluence-4517" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4518" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4520" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4521" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4522" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4524" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4525" href="../Confluence/#plfa_plfa-part2-Confluence-4525" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4527" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-4529" href="../Confluence/#plfa_plfa-part2-Confluence-4529" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-4530" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4532" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4534" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-4539" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4548" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a>
</pre><p>我们定义平行归约序列如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-4653" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4660" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4662" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">_⇛*_</a>
<a id="plfa_plfa-part2-Confluence-4667" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Confluence-4674" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4676" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">_⇛⟨_⟩_</a>
<a id="plfa_plfa-part2-Confluence-4683" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4690" class="Number">3</a> <a id="plfa_plfa-part2-Confluence-4692" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Confluence-4696" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛*_"></a><a id="plfa_plfa-part2-Confluence-4701" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">_⇛*_</a> <a id="plfa_plfa-part2-Confluence-4706" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4708" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4710" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4711" href="../Confluence/#plfa_plfa-part2-Confluence-4711" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4713" href="../Confluence/#plfa_plfa-part2-Confluence-4713" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4714" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4716" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4718" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4719" href="../Confluence/#plfa_plfa-part2-Confluence-4711" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4721" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4723" href="../Confluence/#plfa_plfa-part2-Confluence-4713" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4724" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4726" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4728" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4729" href="../Confluence/#plfa_plfa-part2-Confluence-4711" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4731" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4733" href="../Confluence/#plfa_plfa-part2-Confluence-4713" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4734" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4736" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4738" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-4742" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._∎"></a><a id="plfa_plfa-part2-Confluence-4751" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Confluence-4754" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4756" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4758" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4759" href="../Confluence/#plfa_plfa-part2-Confluence-4759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4761" href="../Confluence/#plfa_plfa-part2-Confluence-4761" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4762" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4764" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4765" href="../Confluence/#plfa_plfa-part2-Confluence-4765" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4767" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4769" href="../Confluence/#plfa_plfa-part2-Confluence-4759" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4771" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4773" href="../Confluence/#plfa_plfa-part2-Confluence-4761" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4774" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Confluence-4782" class="Comment">--------</a>
    <a id="plfa_plfa-part2-Confluence-4795" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4797" href="../Confluence/#plfa_plfa-part2-Confluence-4765" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4799" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4802" href="../Confluence/#plfa_plfa-part2-Confluence-4765" class="Bound">M</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._⇛⟨_⟩_"></a><a id="plfa_plfa-part2-Confluence-4807" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">_⇛⟨_⟩_</a> <a id="plfa_plfa-part2-Confluence-4814" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4816" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4818" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4819" href="../Confluence/#plfa_plfa-part2-Confluence-4819" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4821" href="../Confluence/#plfa_plfa-part2-Confluence-4821" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4822" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4824" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4825" href="../Confluence/#plfa_plfa-part2-Confluence-4825" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4827" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4829" href="../Confluence/#plfa_plfa-part2-Confluence-4819" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4831" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4833" href="../Confluence/#plfa_plfa-part2-Confluence-4821" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4834" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4836" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4837" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4839" href="../Confluence/#plfa_plfa-part2-Confluence-4839" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-4841" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4843" href="../Confluence/#plfa_plfa-part2-Confluence-4819" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4845" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4847" href="../Confluence/#plfa_plfa-part2-Confluence-4821" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4848" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-4854" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4856" href="../Confluence/#plfa_plfa-part2-Confluence-4825" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4858" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4860" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">M</a>
    <a id="plfa_plfa-part2-Confluence-4866" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4868" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4870" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4873" href="../Confluence/#plfa_plfa-part2-Confluence-4839" class="Bound">N</a>
      <a id="plfa_plfa-part2-Confluence-4881" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-4895" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4897" href="../Confluence/#plfa_plfa-part2-Confluence-4825" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4899" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4902" href="../Confluence/#plfa_plfa-part2-Confluence-4839" class="Bound">N</a>
</pre><h4 id="练习-par-diamond-eg实践">练习 <code>par-diamond-eg</code>（实践）</h4><p>回顾上文中菱形性质的反例，证明在这种情况下平行归约具有菱形性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-5192" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="平行归约与归约间等价性">平行归约与归约间等价性</h2><p>此处我们证明对于任何 <code>M</code> 和 <code>N</code>，<code>M ⇛* N</code> 当且仅当 <code>M —↠ N</code>。 必要性的证明非常容易，我们开始于说明若 <code>M —→ N</code>，则 <code>M ⇛ N</code>。 该证明通过对归约 <code>M —→ N</code> 进行归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-beta-par"></a><a id="plfa_plfa-part2-Confluence-5643" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5652" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5654" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-5656" href="../Confluence/#plfa_plfa-part2-Confluence-5656" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5658" href="../Confluence/#plfa_plfa-part2-Confluence-5658" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5659" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-5661" href="../Confluence/#plfa_plfa-part2-Confluence-5661" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5663" href="../Confluence/#plfa_plfa-part2-Confluence-5663" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-5665" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5667" href="../Confluence/#plfa_plfa-part2-Confluence-5656" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5669" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-5671" href="../Confluence/#plfa_plfa-part2-Confluence-5658" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5672" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-5676" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5678" href="../Confluence/#plfa_plfa-part2-Confluence-5661" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5680" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Confluence-5683" href="../Confluence/#plfa_plfa-part2-Confluence-5663" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-5689" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-5698" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5700" href="../Confluence/#plfa_plfa-part2-Confluence-5661" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5702" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-5704" href="../Confluence/#plfa_plfa-part2-Confluence-5663" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-5706" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5715" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5716" href="../Confluence/#plfa_plfa-part2-Confluence-5716" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5717" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5719" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5720" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5721" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5723" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5724" href="../Confluence/#plfa_plfa-part2-Confluence-5724" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5726" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5728" href="../Confluence/#plfa_plfa-part2-Confluence-5728" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5729" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5731" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5732" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Confluence-5735" href="../Confluence/#plfa_plfa-part2-Confluence-5735" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5736" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5738" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5740" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5745" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5746" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5755" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5756" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5758" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5760" href="../Confluence/#plfa_plfa-part2-Confluence-5724" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-5761" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5763" href="../Confluence/#plfa_plfa-part2-Confluence-5735" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5764" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5766" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5775" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5784" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5785" href="../Confluence/#plfa_plfa-part2-Confluence-5785" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5786" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5788" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5789" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5790" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5792" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5793" href="../Confluence/#plfa_plfa-part2-Confluence-5793" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5795" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5797" href="../Confluence/#plfa_plfa-part2-Confluence-5797" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5798" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5800" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5801" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Confluence-5804" href="../Confluence/#plfa_plfa-part2-Confluence-5804" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5805" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5807" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5809" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5814" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5823" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5824" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5833" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5834" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5836" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5838" href="../Confluence/#plfa_plfa-part2-Confluence-5797" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5839" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5841" href="../Confluence/#plfa_plfa-part2-Confluence-5804" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5842" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-5844" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5853" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5854" href="../Confluence/#plfa_plfa-part2-Confluence-5854" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5855" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5857" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5858" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5859" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5861" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-5863" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5865" href="../Confluence/#plfa_plfa-part2-Confluence-5865" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5866" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5868" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5870" href="../Confluence/#plfa_plfa-part2-Confluence-5870" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5871" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5873" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-5875" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5877" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-5883" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5892" href="../Confluence/#plfa_plfa-part2-Confluence-4401" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5901" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5910" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5911" href="../Confluence/#plfa_plfa-part2-Confluence-5911" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5912" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5914" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5915" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5916" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5918" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5919" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5921" href="../Confluence/#plfa_plfa-part2-Confluence-5921" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5922" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5924" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5925" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Confluence-5927" href="../Confluence/#plfa_plfa-part2-Confluence-5927" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5928" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5930" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5932" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-5937" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5938" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5947" href="../Confluence/#plfa_plfa-part2-Confluence-5927" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5948" class="Symbol">)</a>
</pre><p>证明了该引理后我们便可完成必要性的证明， 即 <code>M —↠ N</code> 蕴含 <code>M ⇛* N</code>。该证明是对 <code>M —↠ N</code> 归约序列的简单归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-betas-pars"></a><a id="plfa_plfa-part2-Confluence-6212" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6223" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6225" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6227" href="../Confluence/#plfa_plfa-part2-Confluence-6227" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6229" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6230" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6232" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6233" href="../Confluence/#plfa_plfa-part2-Confluence-6233" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6235" href="../Confluence/#plfa_plfa-part2-Confluence-6235" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6237" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6239" href="../Confluence/#plfa_plfa-part2-Confluence-6227" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6241" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6243" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6244" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6248" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6250" href="../Confluence/#plfa_plfa-part2-Confluence-6233" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6252" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6255" href="../Confluence/#plfa_plfa-part2-Confluence-6235" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6261" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6270" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6272" href="../Confluence/#plfa_plfa-part2-Confluence-6233" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6274" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-6277" href="../Confluence/#plfa_plfa-part2-Confluence-6235" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6279" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6290" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6291" href="../Confluence/#plfa_plfa-part2-Confluence-6291" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6292" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6294" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6295" href="../Confluence/#plfa_plfa-part2-Confluence-6295" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6296" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6298" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6299" href="../Confluence/#plfa_plfa-part2-Confluence-6299" class="Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6301" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6303" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6304" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6305" href="../Confluence/#plfa_plfa-part2-Confluence-6299" class="DottedPattern Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6307" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6309" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6310" href="../Confluence/#plfa_plfa-part2-Confluence-6299" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6313" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-6314" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6316" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6318" href="../Confluence/#plfa_plfa-part2-Confluence-6299" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6321" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6323" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6334" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6335" href="../Confluence/#plfa_plfa-part2-Confluence-6335" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6336" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6338" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6339" href="../Confluence/#plfa_plfa-part2-Confluence-6339" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6340" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6342" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6343" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6344" href="../Confluence/#plfa_plfa-part2-Confluence-6352" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-6345" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6347" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6348" href="../Confluence/#plfa_plfa-part2-Confluence-6348" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6349" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6351" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6352" href="../Confluence/#plfa_plfa-part2-Confluence-6352" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6354" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-6358" href="../Confluence/#plfa_plfa-part2-Confluence-6358" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6360" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6362" href="../Confluence/#plfa_plfa-part2-Confluence-6362" class="Bound">bs</a><a id="plfa_plfa-part2-Confluence-6364" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6366" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Confluence-6371" href="../Confluence/#plfa_plfa-part2-Confluence-6352" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6373" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-6376" href="../Confluence/#plfa_plfa-part2-Confluence-5643" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-6385" href="../Confluence/#plfa_plfa-part2-Confluence-6358" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6387" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6389" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6400" href="../Confluence/#plfa_plfa-part2-Confluence-6362" class="Bound">bs</a>
</pre><p>现在考虑命题的充分性，即 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code>。 充分性的证明有一点不同，因为它不是 <code>M ⇛ N</code> 蕴含 <code>M —→ N</code> 的情形。 毕竟 <code>M ⇛ N</code> 执行了许多归约， 所以我们应当证明 <code>M ⇛ N</code> 蕴含 <code>M —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-betas"></a><a id="plfa_plfa-part2-Confluence-6823" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6833" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6835" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6837" href="../Confluence/#plfa_plfa-part2-Confluence-6837" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6839" href="../Confluence/#plfa_plfa-part2-Confluence-6839" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6840" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-6842" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6844" href="../Confluence/#plfa_plfa-part2-Confluence-6844" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6846" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6848" href="../Confluence/#plfa_plfa-part2-Confluence-6837" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6850" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6852" href="../Confluence/#plfa_plfa-part2-Confluence-6839" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6853" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6857" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6859" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6861" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-6863" href="../Confluence/#plfa_plfa-part2-Confluence-6844" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6869" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6878" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6880" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6882" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6885" href="../Confluence/#plfa_plfa-part2-Confluence-6844" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6887" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6897" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6898" href="../Confluence/#plfa_plfa-part2-Confluence-6898" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6899" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6901" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6902" href="../Confluence/#plfa_plfa-part2-Confluence-6902" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6903" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6905" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6906" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part2-Confluence-6908" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="DottedPattern InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6910" class="DottedPattern Symbol">_)</a><a id="plfa_plfa-part2-Confluence-6912" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6914" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6915" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a><a id="plfa_plfa-part2-Confluence-6919" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6920" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-6922" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6924" href="../Confluence/#plfa_plfa-part2-Confluence-6924" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6925" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-6928" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6930" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6931" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6933" href="../Confluence/#plfa_plfa-part2-Confluence-6924" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6934" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6936" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6938" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6948" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6949" href="../Confluence/#plfa_plfa-part2-Confluence-6949" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6950" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6952" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6953" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-6954" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6956" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6957" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-6959" href="../Confluence/#plfa_plfa-part2-Confluence-6959" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6960" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6962" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6963" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-6968" href="../Confluence/#plfa_plfa-part2-Confluence-6968" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-6969" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6971" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6973" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-6982" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6983" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6993" href="../Confluence/#plfa_plfa-part2-Confluence-6968" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-6994" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-6996" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7006" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7007" href="../Confluence/#plfa_plfa-part2-Confluence-7007" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7008" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7010" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7011" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7012" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7014" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7015" href="../Confluence/#plfa_plfa-part2-Confluence-7015" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7017" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7019" href="../Confluence/#plfa_plfa-part2-Confluence-7019" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7020" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7022" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7023" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-7028" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7029" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7031" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7033" href="../Confluence/#plfa_plfa-part2-Confluence-7015" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-7034" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7036" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">L′</a><a id="plfa_plfa-part2-Confluence-7038" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7040" href="../Confluence/#plfa_plfa-part2-Confluence-7019" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7041" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7043" href="../Confluence/#plfa_plfa-part2-Confluence-7043" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7045" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7047" href="../Confluence/#plfa_plfa-part2-Confluence-7047" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7050" href="../Confluence/#plfa_plfa-part2-Confluence-7050" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7052" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7054" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7060" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7070" href="../Confluence/#plfa_plfa-part2-Confluence-7015" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7072" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7074" href="../Confluence/#plfa_plfa-part2-Confluence-7019" class="Bound">M</a>   <a id="plfa_plfa-part2-Confluence-7078" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7082" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7091" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7092" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7094" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7096" href="../Confluence/#plfa_plfa-part2-Confluence-7019" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7097" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7099" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7100" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7110" href="../Confluence/#plfa_plfa-part2-Confluence-7047" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7112" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7114" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7120" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7123" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7125" href="../Confluence/#plfa_plfa-part2-Confluence-7019" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-7128" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7132" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Confluence-7142" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7143" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7153" href="../Confluence/#plfa_plfa-part2-Confluence-7050" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7155" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7157" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7163" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7166" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7168" href="../Confluence/#plfa_plfa-part2-Confluence-7043" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-7175" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-7177" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7187" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7188" href="../Confluence/#plfa_plfa-part2-Confluence-7188" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7189" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7191" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7192" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7193" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7195" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-7197" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7199" href="../Confluence/#plfa_plfa-part2-Confluence-7199" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7200" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7202" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7204" href="../Confluence/#plfa_plfa-part2-Confluence-7204" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7205" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7207" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7208" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-7213" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7214" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-7217" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7219" href="../Confluence/#plfa_plfa-part2-Confluence-7219" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7221" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7223" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-7226" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7228" href="../Confluence/#plfa_plfa-part2-Confluence-7228" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7230" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7232" href="../Confluence/#plfa_plfa-part2-Confluence-7232" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7235" href="../Confluence/#plfa_plfa-part2-Confluence-7235" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7237" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7239" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7245" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7255" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7256" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7258" href="../Confluence/#plfa_plfa-part2-Confluence-7199" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7259" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7261" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7263" href="../Confluence/#plfa_plfa-part2-Confluence-7204" class="Bound">M</a>                    <a id="plfa_plfa-part2-Confluence-7284" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7288" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7297" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7298" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7300" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7302" href="../Confluence/#plfa_plfa-part2-Confluence-7204" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7303" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7305" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7306" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-7315" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7316" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7326" href="../Confluence/#plfa_plfa-part2-Confluence-7232" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7328" class="Symbol">))</a> <a id="plfa_plfa-part2-Confluence-7331" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7337" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7338" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7340" href="../Confluence/#plfa_plfa-part2-Confluence-7219" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7342" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7344" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7346" href="../Confluence/#plfa_plfa-part2-Confluence-7204" class="Bound">M</a>                   <a id="plfa_plfa-part2-Confluence-7366" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7370" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-7379" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7380" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7382" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7384" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7386" href="../Confluence/#plfa_plfa-part2-Confluence-7219" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7388" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7390" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7391" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7401" href="../Confluence/#plfa_plfa-part2-Confluence-7235" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7403" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-7406" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7412" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7413" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7415" href="../Confluence/#plfa_plfa-part2-Confluence-7219" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7417" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7419" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7421" href="../Confluence/#plfa_plfa-part2-Confluence-7228" class="Bound">M′</a>                  <a id="plfa_plfa-part2-Confluence-7441" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-7445" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-7447" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
     <a id="plfa_plfa-part2-Confluence-7454" href="../Confluence/#plfa_plfa-part2-Confluence-7219" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-7457" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-7459" href="../Confluence/#plfa_plfa-part2-Confluence-7228" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-7462" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
    <a id="plfa_plfa-part2-Confluence-7468" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
</pre><p>该证明通过对 <code>M ⇛ N</code> 进行归纳。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们立刻有 <code>x —↠ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。根据归纳假设我们有 <code>N —↠ N′</code>。 我们得出 <code>ƛ N —↠ ƛ N′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>L —↠ L′</code> 和 <code>M —↠ M′</code>。 所以有 <code>L · M —↠ L′ · M</code> 以及 <code>L′ · M —↠ L′ · M′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据类似的原因，我们有 <code>(ƛ N) · M —↠ (ƛ N′) · M′</code>， 接着应用 β-归约我们得到 <code>(ƛ N′) · M′ —→ N′ [ M′ ]</code>。</p></li></ul><p>证明了该引理后我们便可通过对 <code>M ⇛* N</code> 的一步简单归纳完成 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-pars-betas"></a><a id="plfa_plfa-part2-Confluence-8775" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8786" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8788" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-8790" href="../Confluence/#plfa_plfa-part2-Confluence-8790" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8792" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8793" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-8795" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-8796" href="../Confluence/#plfa_plfa-part2-Confluence-8796" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8798" href="../Confluence/#plfa_plfa-part2-Confluence-8798" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-8800" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8802" href="../Confluence/#plfa_plfa-part2-Confluence-8790" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8804" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-8806" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8807" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-8811" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8813" href="../Confluence/#plfa_plfa-part2-Confluence-8796" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8815" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-8818" href="../Confluence/#plfa_plfa-part2-Confluence-8798" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-8824" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-8833" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8835" href="../Confluence/#plfa_plfa-part2-Confluence-8796" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8837" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-8840" href="../Confluence/#plfa_plfa-part2-Confluence-8798" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-8842" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8853" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8854" href="../Confluence/#plfa_plfa-part2-Confluence-8854" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8857" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-8858" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8860" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8862" href="../Confluence/#plfa_plfa-part2-Confluence-8854" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8865" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-8867" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8878" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8879" href="../Confluence/#plfa_plfa-part2-Confluence-8879" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-8881" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-8884" href="../Confluence/#plfa_plfa-part2-Confluence-8884" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-8886" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-8888" href="../Confluence/#plfa_plfa-part2-Confluence-8888" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8890" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8892" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8894" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Confluence-8903" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8904" href="../Confluence/#plfa_plfa-part2-Confluence-6823" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-8914" href="../Confluence/#plfa_plfa-part2-Confluence-8884" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-8915" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8917" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8918" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8929" href="../Confluence/#plfa_plfa-part2-Confluence-8888" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8931" class="Symbol">)</a>
</pre><h2 id="平行归约的替换引理">平行归约的替换引理</h2><p>我们的下一个目标是对平行归约证明菱形性质。 为了完成该证明，我们还需证明替换遵从平行归约。 也就是说，如果有 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>，那么 <code>N [ M ] ⇛ N′ [ M′ ]</code>。 我们不能直接通过归纳证明它，所以我们将其推广为： 如果 <code>N ⇛ N′</code> 并且替换 <code>σ</code> 逐点（Pointwise）平行归约至 <code>τ</code>， 则 <code>subst σ N ⇛ subst τ N′</code>。 我们如下定义逐点平行归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst"></a><a id="plfa_plfa-part2-Confluence-9690" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9700" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9702" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9704" href="../Confluence/#plfa_plfa-part2-Confluence-9704" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9706" href="../Confluence/#plfa_plfa-part2-Confluence-9706" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9707" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9709" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9711" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9717" href="../Confluence/#plfa_plfa-part2-Confluence-9704" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9719" href="../Confluence/#plfa_plfa-part2-Confluence-9706" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9721" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9723" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9729" href="../Confluence/#plfa_plfa-part2-Confluence-9704" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9731" href="../Confluence/#plfa_plfa-part2-Confluence-9706" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9733" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9735" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Confluence-9739" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9749" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-9750" href="../Confluence/#plfa_plfa-part2-Confluence-9750" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-9751" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9753" href="../Confluence/#plfa_plfa-part2-Confluence-9753" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9754" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9756" href="../Confluence/#plfa_plfa-part2-Confluence-9756" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9758" href="../Confluence/#plfa_plfa-part2-Confluence-9758" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9761" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-9763" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9765" href="../Confluence/#plfa_plfa-part2-Confluence-9765" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9766" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9768" href="../Confluence/#plfa_plfa-part2-Confluence-9768" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9770" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9772" href="../Confluence/#plfa_plfa-part2-Confluence-9750" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9774" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-9776" href="../Confluence/#plfa_plfa-part2-Confluence-9765" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9777" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9779" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9781" href="../Confluence/#plfa_plfa-part2-Confluence-9756" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9783" href="../Confluence/#plfa_plfa-part2-Confluence-9768" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9785" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-9787" href="../Confluence/#plfa_plfa-part2-Confluence-9758" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9790" href="../Confluence/#plfa_plfa-part2-Confluence-9768" class="Bound">x</a>
</pre><p>因为替换依赖于扩展函数 <code>exts</code>，而其又依赖于 <code>rename</code>， 我们开始于被称为 <code>par-rename</code> 的替换引理的一种版本，该引理专门用于重命名。 <code>par-rename</code> 依赖于重命名和替换可以相互交换的事实， 这是一个我们在 <a href="../Substitution/">Substitution</a> 章节引入并在此处重申的引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-rename-subst-commute"></a><a id="plfa_plfa-part2-Confluence-10384" href="../Confluence/#plfa_plfa-part2-Confluence-10384" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10405" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10407" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10409" href="../Confluence/#plfa_plfa-part2-Confluence-10409" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10411" href="../Confluence/#plfa_plfa-part2-Confluence-10411" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10412" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10414" href="../Confluence/#plfa_plfa-part2-Confluence-10414" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-10416" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10418" href="../Confluence/#plfa_plfa-part2-Confluence-10409" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10420" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-10422" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-10424" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10426" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-10427" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10429" href="../Confluence/#plfa_plfa-part2-Confluence-10429" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10431" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10433" href="../Confluence/#plfa_plfa-part2-Confluence-10409" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10435" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10437" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-10438" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10440" href="../Confluence/#plfa_plfa-part2-Confluence-10440" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10442" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10444" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-10451" href="../Confluence/#plfa_plfa-part2-Confluence-10409" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10453" href="../Confluence/#plfa_plfa-part2-Confluence-10411" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10455" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-10461" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10463" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10464" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10471" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10472" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-10476" href="../Confluence/#plfa_plfa-part2-Confluence-10440" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-10477" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10479" href="../Confluence/#plfa_plfa-part2-Confluence-10414" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10480" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10482" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-10484" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10491" href="../Confluence/#plfa_plfa-part2-Confluence-10440" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10493" href="../Confluence/#plfa_plfa-part2-Confluence-10429" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10495" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-10497" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-10499" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10506" href="../Confluence/#plfa_plfa-part2-Confluence-10440" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10508" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10509" href="../Confluence/#plfa_plfa-part2-Confluence-10414" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-10511" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-10513" href="../Confluence/#plfa_plfa-part2-Confluence-10429" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10515" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-10516" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10518" href="../Confluence/#plfa_plfa-part2-Confluence-10384" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10539" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10540" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-10542" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10544" href="../Confluence/#plfa_plfa-part2-Confluence-10544" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10545" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10547" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10549" href="../Substitution/#plfa_plfa-part2-Substitution-33295" class="Function">plfa.part2.Substitution.rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10594" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10595" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-10597" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10599" href="../Confluence/#plfa_plfa-part2-Confluence-10544" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10600" class="Symbol">}</a>
</pre><p>现在证明 <code>par-rename</code> 引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-rename"></a><a id="plfa_plfa-part2-Confluence-10680" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10691" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10693" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10695" href="../Confluence/#plfa_plfa-part2-Confluence-10695" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10697" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10699" href="../Confluence/#plfa_plfa-part2-Confluence-10699" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10700" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10702" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10703" href="../Confluence/#plfa_plfa-part2-Confluence-10703" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10705" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10707" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-10714" href="../Confluence/#plfa_plfa-part2-Confluence-10695" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10716" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10717" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10719" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10720" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10722" href="../Confluence/#plfa_plfa-part2-Confluence-10722" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-10725" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10727" href="../Confluence/#plfa_plfa-part2-Confluence-10695" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10729" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10731" href="../Confluence/#plfa_plfa-part2-Confluence-10699" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10732" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-10736" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10738" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10740" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-10742" href="../Confluence/#plfa_plfa-part2-Confluence-10722" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-10749" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Confluence-10776" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10778" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10785" href="../Confluence/#plfa_plfa-part2-Confluence-10703" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10787" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10789" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-10791" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10798" href="../Confluence/#plfa_plfa-part2-Confluence-10703" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10800" href="../Confluence/#plfa_plfa-part2-Confluence-10722" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-10803" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10814" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-10819" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10821" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-10826" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10837" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10838" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-10843" href="../Confluence/#plfa_plfa-part2-Confluence-10843" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-10844" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10846" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10848" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-10853" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10854" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10865" href="../Confluence/#plfa_plfa-part2-Confluence-10843" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-10866" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10868" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10879" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10880" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-10885" href="../Confluence/#plfa_plfa-part2-Confluence-10885" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-10888" href="../Confluence/#plfa_plfa-part2-Confluence-10888" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-10890" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10892" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10894" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-10899" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10900" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10911" href="../Confluence/#plfa_plfa-part2-Confluence-10885" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-10913" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10915" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10916" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10927" href="../Confluence/#plfa_plfa-part2-Confluence-10888" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-10929" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10931" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10942" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10943" href="../Confluence/#plfa_plfa-part2-Confluence-10943" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-10944" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10946" href="../Confluence/#plfa_plfa-part2-Confluence-10946" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10947" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10949" href="../Confluence/#plfa_plfa-part2-Confluence-10949" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10950" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10952" href="../Confluence/#plfa_plfa-part2-Confluence-10952" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-10953" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10955" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10956" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-10961" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10962" href="../Confluence/#plfa_plfa-part2-Confluence-10943" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-10963" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10965" href="../Confluence/#plfa_plfa-part2-Confluence-10965" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10966" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10968" href="../Confluence/#plfa_plfa-part2-Confluence-10968" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-10970" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10972" href="../Confluence/#plfa_plfa-part2-Confluence-10972" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-10973" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10975" href="../Confluence/#plfa_plfa-part2-Confluence-10975" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-10977" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10979" href="../Confluence/#plfa_plfa-part2-Confluence-10979" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-10982" href="../Confluence/#plfa_plfa-part2-Confluence-10982" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-10984" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-10990" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-10995" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-11001" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11002" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11012" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11013" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11015" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11017" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-11021" href="../Confluence/#plfa_plfa-part2-Confluence-10952" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11022" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11024" href="../Confluence/#plfa_plfa-part2-Confluence-10979" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-11026" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11028" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11029" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11039" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11040" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11042" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11044" href="../Confluence/#plfa_plfa-part2-Confluence-10952" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11045" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11047" href="../Confluence/#plfa_plfa-part2-Confluence-10982" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11049" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11051" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-11055" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-11057" href="../Confluence/#plfa_plfa-part2-Confluence-11057" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-11059" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-11067" href="../Confluence/#plfa_plfa-part2-Confluence-10384" class="Function">rename-subst-commute</a><a id="plfa_plfa-part2-Confluence-11087" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11088" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-11089" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11091" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11092" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11094" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-11096" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11098" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-11100" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11102" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11103" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11105" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11107" href="../Confluence/#plfa_plfa-part2-Confluence-11057" class="Bound">G</a>

</pre><p>证明通过对 <code>M ⇛ M′</code> 进行归纳来完成。前三种情况很简单， 所以我们只考虑最后一种，即 <code>pbeta</code>。</p><ul><li>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>rename (ext ρ) N ⇛ rename (ext ρ) N′</code> 和 <code>rename ρ M ⇛ rename ρ M′</code>。 所以根据 <code>pbeta</code> 我们有 <code>(ƛ rename (ext ρ) N) · (rename ρ M) ⇛ (rename (ext ρ) N) [ rename ρ M ]</code>。 然而，为了得出结论我们需要平行归约至 <code>rename ρ (N [ M ])</code>。 值得庆幸的是，重命名和归约可以相互交换。</li></ul><p>有了 <code>par-rename</code> 引理，很容易证明扩展替换保留了逐点平行归约关系。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-exts"></a><a id="plfa_plfa-part2-Confluence-12264" href="../Confluence/#plfa_plfa-part2-Confluence-12264" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12279" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12281" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12283" href="../Confluence/#plfa_plfa-part2-Confluence-12283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12285" href="../Confluence/#plfa_plfa-part2-Confluence-12285" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12286" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12288" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12289" href="../Confluence/#plfa_plfa-part2-Confluence-12289" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12291" href="../Confluence/#plfa_plfa-part2-Confluence-12291" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-12293" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12295" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-12301" href="../Confluence/#plfa_plfa-part2-Confluence-12283" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12303" href="../Confluence/#plfa_plfa-part2-Confluence-12285" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12304" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-12308" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12310" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-12320" href="../Confluence/#plfa_plfa-part2-Confluence-12289" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12322" href="../Confluence/#plfa_plfa-part2-Confluence-12291" class="Bound">τ</a>
    <a id="plfa_plfa-part2-Confluence-12328" class="Comment">------------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-12373" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12375" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12377" href="../Confluence/#plfa_plfa-part2-Confluence-12377" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-12378" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12380" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12382" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-12392" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12393" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12398" href="../Confluence/#plfa_plfa-part2-Confluence-12289" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12400" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12401" class="Argument">B</a> <a id="plfa_plfa-part2-Confluence-12403" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12405" href="../Confluence/#plfa_plfa-part2-Confluence-12377" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-12406" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-12409" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12410" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12415" href="../Confluence/#plfa_plfa-part2-Confluence-12291" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-12416" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-12418" href="../Confluence/#plfa_plfa-part2-Confluence-12264" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12433" href="../Confluence/#plfa_plfa-part2-Confluence-12433" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-12435" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12436" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-12438" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12440" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-12441" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12443" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12445" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-12450" href="../Confluence/#plfa_plfa-part2-Confluence-12264" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12465" href="../Confluence/#plfa_plfa-part2-Confluence-12465" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-12467" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12468" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-12470" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12472" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-12474" href="../Confluence/#plfa_plfa-part2-Confluence-12474" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-12475" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12477" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12479" href="../Confluence/#plfa_plfa-part2-Confluence-10680" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-12490" href="../Confluence/#plfa_plfa-part2-Confluence-12465" class="Bound">s</a>
</pre><p>为了证明替换遵从平行归约关系，我们需要证明的下一个引理如下文所示， 它声称同时归约可以与单步归约相交换。 我们从 <a href="../Substitution/">Substitution</a> 章节导入这个引理， 并重申如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-commute"></a><a id="plfa_plfa-part2-Confluence-12890" href="../Confluence/#plfa_plfa-part2-Confluence-12890" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-12904" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12906" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12908" href="../Confluence/#plfa_plfa-part2-Confluence-12908" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12910" href="../Confluence/#plfa_plfa-part2-Confluence-12910" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12911" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12913" href="../Confluence/#plfa_plfa-part2-Confluence-12913" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-12915" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12917" href="../Confluence/#plfa_plfa-part2-Confluence-12908" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12919" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-12921" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-12923" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-12925" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-12926" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12928" href="../Confluence/#plfa_plfa-part2-Confluence-12928" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-12930" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12932" href="../Confluence/#plfa_plfa-part2-Confluence-12908" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12934" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-12936" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-12937" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12939" href="../Confluence/#plfa_plfa-part2-Confluence-12939" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12941" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12943" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-12949" href="../Confluence/#plfa_plfa-part2-Confluence-12908" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12951" href="../Confluence/#plfa_plfa-part2-Confluence-12910" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-12953" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-12957" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12959" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-12965" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12966" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12971" href="../Confluence/#plfa_plfa-part2-Confluence-12939" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-12972" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-12974" href="../Confluence/#plfa_plfa-part2-Confluence-12913" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-12976" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-12978" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-12984" href="../Confluence/#plfa_plfa-part2-Confluence-12939" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12986" href="../Confluence/#plfa_plfa-part2-Confluence-12928" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-12988" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-12990" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-12992" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-12998" href="../Confluence/#plfa_plfa-part2-Confluence-12939" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13000" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13001" href="../Confluence/#plfa_plfa-part2-Confluence-12913" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-13003" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-13005" href="../Confluence/#plfa_plfa-part2-Confluence-12928" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13007" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-13008" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13010" href="../Confluence/#plfa_plfa-part2-Confluence-12890" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-13024" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13025" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13027" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13029" href="../Confluence/#plfa_plfa-part2-Confluence-13029" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13030" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13032" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13034" href="../Substitution/#plfa_plfa-part2-Substitution-31614" class="Function">plfa.part2.Substitution.subst-commute</a> <a id="plfa_plfa-part2-Confluence-13072" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13073" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13075" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13077" href="../Confluence/#plfa_plfa-part2-Confluence-13029" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13078" class="Symbol">}</a>
</pre><p>我们准备好去证明替换遵从平行归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-par"></a><a id="plfa_plfa-part2-Confluence-13191" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13201" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13203" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13205" href="../Confluence/#plfa_plfa-part2-Confluence-13205" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13207" href="../Confluence/#plfa_plfa-part2-Confluence-13207" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-13209" href="../Confluence/#plfa_plfa-part2-Confluence-13209" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13210" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13212" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13213" href="../Confluence/#plfa_plfa-part2-Confluence-13213" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13215" href="../Confluence/#plfa_plfa-part2-Confluence-13215" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13217" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13219" href="../Substitution/#plfa_plfa-part2-Substitution-2882" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-13225" href="../Confluence/#plfa_plfa-part2-Confluence-13205" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13227" href="../Confluence/#plfa_plfa-part2-Confluence-13207" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13228" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13230" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13231" href="../Confluence/#plfa_plfa-part2-Confluence-13231" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13233" href="../Confluence/#plfa_plfa-part2-Confluence-13233" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-13236" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13238" href="../Confluence/#plfa_plfa-part2-Confluence-13205" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13240" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-13242" href="../Confluence/#plfa_plfa-part2-Confluence-13209" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13243" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-13247" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13249" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-13259" href="../Confluence/#plfa_plfa-part2-Confluence-13213" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13261" href="../Confluence/#plfa_plfa-part2-Confluence-13215" class="Bound">τ</a>  <a id="plfa_plfa-part2-Confluence-13264" class="Symbol">→</a>  <a id="plfa_plfa-part2-Confluence-13267" href="../Confluence/#plfa_plfa-part2-Confluence-13231" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13269" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-13271" href="../Confluence/#plfa_plfa-part2-Confluence-13233" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-13278" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-13307" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13309" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13315" href="../Confluence/#plfa_plfa-part2-Confluence-13213" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13317" href="../Confluence/#plfa_plfa-part2-Confluence-13231" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13319" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-13321" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13327" href="../Confluence/#plfa_plfa-part2-Confluence-13215" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13329" href="../Confluence/#plfa_plfa-part2-Confluence-13233" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-13332" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13342" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13343" href="../Confluence/#plfa_plfa-part2-Confluence-13343" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13344" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13346" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13347" href="../Confluence/#plfa_plfa-part2-Confluence-13347" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13348" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13350" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13351" href="../Confluence/#plfa_plfa-part2-Confluence-13351" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13352" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13354" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13355" href="../Confluence/#plfa_plfa-part2-Confluence-13355" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13356" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13358" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13359" href="../Confluence/#plfa_plfa-part2-Confluence-13359" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13360" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13362" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13363" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-13365" href="../Confluence/#plfa_plfa-part2-Confluence-13365" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13366" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13368" href="../Confluence/#plfa_plfa-part2-Confluence-13368" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13370" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-13375" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13377" href="../Confluence/#plfa_plfa-part2-Confluence-13368" class="Bound">s</a>
<a id="plfa_plfa-part2-Confluence-13379" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13389" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13390" href="../Confluence/#plfa_plfa-part2-Confluence-13390" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13391" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13393" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13394" href="../Confluence/#plfa_plfa-part2-Confluence-13394" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13395" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13397" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13398" href="../Confluence/#plfa_plfa-part2-Confluence-13398" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13399" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13401" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13402" href="../Confluence/#plfa_plfa-part2-Confluence-13402" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13403" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13405" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13406" href="../Confluence/#plfa_plfa-part2-Confluence-13406" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13407" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13409" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13410" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-13412" href="../Confluence/#plfa_plfa-part2-Confluence-13412" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13413" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13415" href="../Confluence/#plfa_plfa-part2-Confluence-13415" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13417" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13418" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-13423" href="../Confluence/#plfa_plfa-part2-Confluence-13423" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-13424" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13426" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-13430" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-13435" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13436" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13446" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13447" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13449" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13451" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13456" href="../Confluence/#plfa_plfa-part2-Confluence-13402" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13457" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13459" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13460" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-13462" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13464" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13469" href="../Confluence/#plfa_plfa-part2-Confluence-13406" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13470" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Confluence-13480" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Confluence-13483" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13484" href="../Confluence/#plfa_plfa-part2-Confluence-13484" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13485" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13487" href="../Confluence/#plfa_plfa-part2-Confluence-13487" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13488" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13490" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13492" href="../Confluence/#plfa_plfa-part2-Confluence-12264" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13507" href="../Confluence/#plfa_plfa-part2-Confluence-13415" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13509" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13510" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13512" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13514" href="../Confluence/#plfa_plfa-part2-Confluence-13487" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13515" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-13518" href="../Confluence/#plfa_plfa-part2-Confluence-13423" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-13519" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13521" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13531" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13532" href="../Confluence/#plfa_plfa-part2-Confluence-13532" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13533" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13535" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13536" href="../Confluence/#plfa_plfa-part2-Confluence-13536" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13537" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13539" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13540" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13541" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13543" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13544" href="../Confluence/#plfa_plfa-part2-Confluence-13544" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13545" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13547" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13548" href="../Confluence/#plfa_plfa-part2-Confluence-13548" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13549" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13551" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13552" href="../Confluence/#plfa_plfa-part2-Confluence-13552" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-13554" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-13556" href="../Confluence/#plfa_plfa-part2-Confluence-13556" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-13557" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13559" href="../Confluence/#plfa_plfa-part2-Confluence-13559" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13561" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13562" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-13567" href="../Confluence/#plfa_plfa-part2-Confluence-13567" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-13570" href="../Confluence/#plfa_plfa-part2-Confluence-13570" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13572" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13574" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-13578" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-13583" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13584" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13594" href="../Confluence/#plfa_plfa-part2-Confluence-13559" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13596" href="../Confluence/#plfa_plfa-part2-Confluence-13567" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-13598" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13600" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13601" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13611" href="../Confluence/#plfa_plfa-part2-Confluence-13559" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13613" href="../Confluence/#plfa_plfa-part2-Confluence-13570" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13615" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13617" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13627" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13628" href="../Confluence/#plfa_plfa-part2-Confluence-13628" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13629" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13631" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13632" href="../Confluence/#plfa_plfa-part2-Confluence-13632" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13633" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13635" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13636" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13637" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13639" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13640" href="../Confluence/#plfa_plfa-part2-Confluence-13640" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13641" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13643" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13644" href="../Confluence/#plfa_plfa-part2-Confluence-13644" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13645" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13647" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-13649" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-13651" href="../Confluence/#plfa_plfa-part2-Confluence-13651" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13652" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13654" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-13656" href="../Confluence/#plfa_plfa-part2-Confluence-13656" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-13657" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13659" href="../Confluence/#plfa_plfa-part2-Confluence-13659" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13661" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13662" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-13667" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13668" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-13671" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13673" href="../Confluence/#plfa_plfa-part2-Confluence-13673" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-13675" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13677" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-13680" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13682" href="../Confluence/#plfa_plfa-part2-Confluence-13682" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-13684" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13686" href="../Confluence/#plfa_plfa-part2-Confluence-13686" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-13689" href="../Confluence/#plfa_plfa-part2-Confluence-13689" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13691" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-13697" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-13702" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-13708" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13709" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a><a id="plfa_plfa-part2-Confluence-13718" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13719" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13721" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13723" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13728" href="../Confluence/#plfa_plfa-part2-Confluence-13640" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13729" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13731" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-13733" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13735" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13740" href="../Confluence/#plfa_plfa-part2-Confluence-13644" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13741" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13743" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-13745" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13747" href="../Confluence/#plfa_plfa-part2-Confluence-13651" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13748" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Confluence-13774" class="Symbol">(λ{</a><a id="plfa_plfa-part2-Confluence-13777" href="../Confluence/#plfa_plfa-part2-Confluence-13777" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13778" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13780" href="../Confluence/#plfa_plfa-part2-Confluence-13780" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13781" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13783" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13785" href="../Confluence/#plfa_plfa-part2-Confluence-12264" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13800" href="../Confluence/#plfa_plfa-part2-Confluence-13659" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13802" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13803" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13805" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13807" href="../Confluence/#plfa_plfa-part2-Confluence-13780" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13808" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-13811" href="../Confluence/#plfa_plfa-part2-Confluence-13686" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-13813" class="Symbol">)</a>
               <a id="plfa_plfa-part2-Confluence-13830" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13831" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13841" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13842" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13844" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13846" href="../Confluence/#plfa_plfa-part2-Confluence-13640" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13847" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13849" href="../Confluence/#plfa_plfa-part2-Confluence-13659" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13851" href="../Confluence/#plfa_plfa-part2-Confluence-13689" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13853" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13855" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-13859" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-13861" href="../Confluence/#plfa_plfa-part2-Confluence-13861" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-13863" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-13871" href="../Confluence/#plfa_plfa-part2-Confluence-12890" class="Function">subst-commute</a><a id="plfa_plfa-part2-Confluence-13884" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13885" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13887" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13889" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-13891" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13893" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-13895" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13897" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-13899" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13901" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13903" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13905" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13906" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13908" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13910" href="../Confluence/#plfa_plfa-part2-Confluence-13861" class="Bound">G</a>
</pre><p>我们通过对 <code>M ⇛ M′</code> 归纳来证明。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们使用前提 <code>par-subst σ τ</code> 来得出 <code>σ x ⇛ τ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。 为了使用归纳假设，我们需要 <code>par-subst (exts σ) (exts τ)</code>， 它通过 <code>par-subst-exts</code> 得出。 所以我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 并且通过规则 <code>pabs</code> 来完成证明。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设我们有 <code>subst σ L ⇛ subst τ L′</code> 和 <code>subst σ M ⇛ subst τ M′</code>， 所以我们通过规则 <code>papp</code> 来完成证明。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 同样我们根据 <code>par-subst-exts</code> 来得到 <code>par-subst (exts σ) (exts τ)</code>。 所以根据归纳假设，我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 和 <code>subst σ M ⇛ subst τ M′</code>。 接着根据 <code>pbeta</code> 规则，我们平行归约至 <code>subst (exts τ) N′ [ subst τ M′ ]</code>。 替换在以下意义中与自身交换： 对于任意 σ、 N 和 M， 我们有</p><pre><code>  (subst (exts σ) N) [ subst σ M ] ≡ subst σ (N [ M ])</code></pre><p>所以我们平行归约得到 <code>subst τ (N′ [ M′ ])</code>。</p></li></ul><p>显然，若 <code>M ⇛ M′</code>，则 <code>subst-zero M</code> 逐点平行归约至 <code>subst-zero M′</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-zero"></a><a id="plfa_plfa-part2-Confluence-15997" href="../Confluence/#plfa_plfa-part2-Confluence-15997" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16012" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16014" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-16016" href="../Confluence/#plfa_plfa-part2-Confluence-16016" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-16017" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16019" href="../Confluence/#plfa_plfa-part2-Confluence-16019" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16020" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16022" href="../Confluence/#plfa_plfa-part2-Confluence-16022" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16024" href="../Confluence/#plfa_plfa-part2-Confluence-16024" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16027" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16029" href="../Confluence/#plfa_plfa-part2-Confluence-16016" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16031" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16033" href="../Confluence/#plfa_plfa-part2-Confluence-16019" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16034" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Confluence-16043" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16045" href="../Confluence/#plfa_plfa-part2-Confluence-16022" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16047" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16049" href="../Confluence/#plfa_plfa-part2-Confluence-16024" class="Bound">M′</a>
       <a id="plfa_plfa-part2-Confluence-16059" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16061" href="../Confluence/#plfa_plfa-part2-Confluence-9690" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-16071" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16072" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16083" href="../Confluence/#plfa_plfa-part2-Confluence-16022" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16084" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-16086" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16087" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16098" href="../Confluence/#plfa_plfa-part2-Confluence-16024" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16100" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-16102" href="../Confluence/#plfa_plfa-part2-Confluence-15997" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16117" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16118" href="../Confluence/#plfa_plfa-part2-Confluence-16118" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16119" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16121" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16122" href="../Confluence/#plfa_plfa-part2-Confluence-16122" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16124" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16126" href="../Confluence/#plfa_plfa-part2-Confluence-16126" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16128" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16129" href="../Confluence/#plfa_plfa-part2-Confluence-16129" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16130" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16132" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16133" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-16134" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16136" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16138" href="../Confluence/#plfa_plfa-part2-Confluence-16126" class="Bound">p</a>
<a id="plfa_plfa-part2-Confluence-16140" href="../Confluence/#plfa_plfa-part2-Confluence-15997" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16155" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16156" href="../Confluence/#plfa_plfa-part2-Confluence-16156" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16157" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16159" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16160" href="../Confluence/#plfa_plfa-part2-Confluence-16160" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16162" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16164" href="../Confluence/#plfa_plfa-part2-Confluence-16164" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16166" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16167" href="../Confluence/#plfa_plfa-part2-Confluence-16167" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16168" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16170" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16171" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-16173" href="../Confluence/#plfa_plfa-part2-Confluence-16173" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-16174" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16176" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16178" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>
</pre><p>我们以所期望的推论来结束本节，即替换遵从平行归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-sub-par"></a><a id="plfa_plfa-part2-Confluence-16333" href="../Confluence/#plfa_plfa-part2-Confluence-16333" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-16341" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16343" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-16345" href="../Confluence/#plfa_plfa-part2-Confluence-16345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16347" href="../Confluence/#plfa_plfa-part2-Confluence-16347" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-16349" href="../Confluence/#plfa_plfa-part2-Confluence-16349" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-16350" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16352" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16353" href="../Confluence/#plfa_plfa-part2-Confluence-16353" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16355" href="../Confluence/#plfa_plfa-part2-Confluence-16355" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-16358" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16360" href="../Confluence/#plfa_plfa-part2-Confluence-16345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16362" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-16364" href="../Confluence/#plfa_plfa-part2-Confluence-16347" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-16366" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16368" href="../Confluence/#plfa_plfa-part2-Confluence-16349" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-16369" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16371" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16372" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16374" href="../Confluence/#plfa_plfa-part2-Confluence-16374" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16377" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16379" href="../Confluence/#plfa_plfa-part2-Confluence-16345" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16381" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16383" href="../Confluence/#plfa_plfa-part2-Confluence-16347" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16384" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-16388" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16390" href="../Confluence/#plfa_plfa-part2-Confluence-16353" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16392" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16394" href="../Confluence/#plfa_plfa-part2-Confluence-16355" class="Bound">N′</a>
  <a id="plfa_plfa-part2-Confluence-16399" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16401" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16403" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16405" href="../Confluence/#plfa_plfa-part2-Confluence-16374" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-16412" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-16441" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16443" href="../Confluence/#plfa_plfa-part2-Confluence-16353" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16445" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-16447" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16449" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-16451" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16453" href="../Confluence/#plfa_plfa-part2-Confluence-16355" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-16456" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-16458" href="../Confluence/#plfa_plfa-part2-Confluence-16374" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16461" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-16463" href="../Confluence/#plfa_plfa-part2-Confluence-16333" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-16471" href="../Confluence/#plfa_plfa-part2-Confluence-16471" class="Bound">pn</a> <a id="plfa_plfa-part2-Confluence-16474" href="../Confluence/#plfa_plfa-part2-Confluence-16474" class="Bound">pm</a> <a id="plfa_plfa-part2-Confluence-16477" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16479" href="../Confluence/#plfa_plfa-part2-Confluence-13191" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-16489" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16490" href="../Confluence/#plfa_plfa-part2-Confluence-15997" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16505" href="../Confluence/#plfa_plfa-part2-Confluence-16474" class="Bound">pm</a><a id="plfa_plfa-part2-Confluence-16507" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-16509" href="../Confluence/#plfa_plfa-part2-Confluence-16471" class="Bound">pn</a>
</pre><h2 id="平行归约满足菱形性质">平行归约满足菱形性质</h2><p>合流性证明的核心是石头制成的，更确切地说，是钻石！ 【译注：在英文中 diamond 一词既指钻石，又指菱形。】 我们将证明平行归约满足菱形性质，即若有 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code>， 那么对某个 <code>L</code> 有 <code>N ⇛ L</code> 和 <code>N′ ⇛ L</code>。 典型的证明通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳来完成， 因此每一个可能的对都会在执行足够多次平行 β-归约后产生一个证明 <code>L</code>。</p><p>其中向下的线是 <code>⇛</code> 的实例。因此我们称其为<strong>三角性质（Triangle Property）</strong>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-_⁺"></a><a id="plfa_plfa-part2-Confluence-17698" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">_⁺</a> <a id="plfa_plfa-part2-Confluence-17701" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17703" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-17705" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17706" href="../Confluence/#plfa_plfa-part2-Confluence-17706" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17708" href="../Confluence/#plfa_plfa-part2-Confluence-17708" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-17709" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-17713" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17715" href="../Confluence/#plfa_plfa-part2-Confluence-17706" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17717" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17719" href="../Confluence/#plfa_plfa-part2-Confluence-17708" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-17721" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17723" href="../Confluence/#plfa_plfa-part2-Confluence-17706" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17725" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17727" href="../Confluence/#plfa_plfa-part2-Confluence-17708" class="Bound">A</a>
<a id="plfa_plfa-part2-Confluence-17729" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17730" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-17732" href="../Confluence/#plfa_plfa-part2-Confluence-17732" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-17733" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17735" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-17743" class="Symbol">=</a>  <a id="plfa_plfa-part2-Confluence-17746" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-17748" href="../Confluence/#plfa_plfa-part2-Confluence-17732" class="Bound">x</a>
<a id="plfa_plfa-part2-Confluence-17750" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17751" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17753" href="../Confluence/#plfa_plfa-part2-Confluence-17753" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-17754" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17756" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-17764" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17766" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17768" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17769" href="../Confluence/#plfa_plfa-part2-Confluence-17753" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17771" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-17772" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-17774" class="Symbol">((</a><a id="plfa_plfa-part2-Confluence-17776" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17778" href="../Confluence/#plfa_plfa-part2-Confluence-17778" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-17779" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17781" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-17783" href="../Confluence/#plfa_plfa-part2-Confluence-17783" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-17784" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17786" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17788" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17790" href="../Confluence/#plfa_plfa-part2-Confluence-17778" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17792" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17794" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-17796" href="../Confluence/#plfa_plfa-part2-Confluence-17783" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17798" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17800" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-17802" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part2-Confluence-17803" href="../Confluence/#plfa_plfa-part2-Confluence-17803" class="CatchallClause Bound">L</a><a id="plfa_plfa-part2-Confluence-17804" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17805" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="CatchallClause InductiveConstructor Operator">·</a><a id="plfa_plfa-part2-Confluence-17806" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17807" href="../Confluence/#plfa_plfa-part2-Confluence-17807" class="CatchallClause Bound">M</a><a id="plfa_plfa-part2-Confluence-17808" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part2-Confluence-17809" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17810" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="CatchallClause Function Operator">⁺</a>     <a id="plfa_plfa-part2-Confluence-17816" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17818" href="../Confluence/#plfa_plfa-part2-Confluence-17803" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-17820" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17822" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-17824" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17825" href="../Confluence/#plfa_plfa-part2-Confluence-17807" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17827" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-17828" class="Symbol">)</a>

<a id="plfa_plfa-part2-Confluence-par-triangle"></a><a id="plfa_plfa-part2-Confluence-17831" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-17844" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17846" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-17848" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17849" href="../Confluence/#plfa_plfa-part2-Confluence-17849" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17851" href="../Confluence/#plfa_plfa-part2-Confluence-17851" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-17852" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-17854" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17855" href="../Confluence/#plfa_plfa-part2-Confluence-17855" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17857" href="../Confluence/#plfa_plfa-part2-Confluence-17857" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17859" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17861" href="../Confluence/#plfa_plfa-part2-Confluence-17849" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17863" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17865" href="../Confluence/#plfa_plfa-part2-Confluence-17851" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-17866" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-17870" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17872" href="../Confluence/#plfa_plfa-part2-Confluence-17855" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17874" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-17876" href="../Confluence/#plfa_plfa-part2-Confluence-17857" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-17882" class="Comment">-------</a>
  <a id="plfa_plfa-part2-Confluence-17892" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17894" href="../Confluence/#plfa_plfa-part2-Confluence-17857" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17896" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-17898" href="../Confluence/#plfa_plfa-part2-Confluence-17855" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17900" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a>
<a id="plfa_plfa-part2-Confluence-17902" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-17915" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>          <a id="plfa_plfa-part2-Confluence-17929" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17931" href="../Confluence/#plfa_plfa-part2-Confluence-3425" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-17936" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-17949" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17950" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-17955" href="../Confluence/#plfa_plfa-part2-Confluence-17955" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-17956" class="Symbol">)</a>      <a id="plfa_plfa-part2-Confluence-17963" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17965" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-17970" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17971" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-17984" href="../Confluence/#plfa_plfa-part2-Confluence-17955" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-17985" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-17987" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18000" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18001" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18007" href="../Confluence/#plfa_plfa-part2-Confluence-18007" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18010" href="../Confluence/#plfa_plfa-part2-Confluence-18010" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18012" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18014" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18016" href="../Confluence/#plfa_plfa-part2-Confluence-16333" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-18024" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18025" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18038" href="../Confluence/#plfa_plfa-part2-Confluence-18007" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18040" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18042" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18043" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18056" href="../Confluence/#plfa_plfa-part2-Confluence-18010" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18058" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18060" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18073" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18074" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18079" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18080" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18082" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18084" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18086" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-18088" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-18090" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18091" href="../Confluence/#plfa_plfa-part2-Confluence-3489" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18096" href="../Confluence/#plfa_plfa-part2-Confluence-18096" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18098" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18100" href="../Confluence/#plfa_plfa-part2-Confluence-18100" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18102" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18104" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-18108" href="../Confluence/#plfa_plfa-part2-Confluence-3675" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18114" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18115" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18128" href="../Confluence/#plfa_plfa-part2-Confluence-18096" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18130" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18132" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18133" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18146" href="../Confluence/#plfa_plfa-part2-Confluence-18100" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18148" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18150" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18163" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18164" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18169" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18170" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18172" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18174" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-18176" class="Symbol">_}</a>   <a id="plfa_plfa-part2-Confluence-18181" href="../Confluence/#plfa_plfa-part2-Confluence-18181" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18184" href="../Confluence/#plfa_plfa-part2-Confluence-18184" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18186" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18188" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18190" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18195" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18196" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18209" href="../Confluence/#plfa_plfa-part2-Confluence-18181" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18211" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18213" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18214" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18227" href="../Confluence/#plfa_plfa-part2-Confluence-18184" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18229" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18231" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18244" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18245" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18250" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18251" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18253" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18255" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-18257" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-18259" class="Symbol">_}</a> <a id="plfa_plfa-part2-Confluence-18262" href="../Confluence/#plfa_plfa-part2-Confluence-18262" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18265" href="../Confluence/#plfa_plfa-part2-Confluence-18265" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18267" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18269" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18271" href="../Confluence/#plfa_plfa-part2-Confluence-3569" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18276" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18277" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18290" href="../Confluence/#plfa_plfa-part2-Confluence-18262" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18292" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18294" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18295" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18308" href="../Confluence/#plfa_plfa-part2-Confluence-18265" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18310" class="Symbol">)</a>
</pre><p>三角性质的证明通过对 <code>M ⇛ N</code> 归纳来完成。</p><ul><li><p>假定 <code>x ⇛ x</code>。显然 <code>x ⁺ = x</code>，所以 <code>x ⇛ x ⁺</code>。</p></li><li><p>假定 <code>ƛ M ⇛ ƛ N</code>。根据归纳假设我们有 <code>N ⇛ M ⁺</code>， 并且根据定义我们有 <code>(λ M) ⁺ = λ (M ⁺)</code>，所以我们得出 <code>λ N ⇛ λ(M ⁺)</code>。</p></li><li><p>假定 <code>(λ N) · M ⇛ N′ [ M′ ]</code>。根据归纳假设我们有 <code>N′ ⇛ N ⁺</code> 和 <code>M′ ⇛ M ⁺</code>。 因为替换遵从平行归约，于是得到 <code>N′ [ M′ ] ⇛ N ⁺ [ M ⁺ ]</code>， 而右侧即为 <code>((λ N) · M) ⁺</code>，因此有 <code>N′ [ M′ ] ⇛ ((λ N) · M) ⁺</code>。</p></li><li><p>假定 <code>(λ L) · M ⇛ (λ L′) · M′</code>。 根据归纳假设我们有 <code>L′ ⇛ L ⁺</code> 和 <code>M′ ⇛ M ⁺</code>； 根据定义有 <code>((λ L) · M) ⁺ = L ⁺ [ M ⁺ ]</code>。 接着得出 <code>(λ L′) · M′ ⇛ L ⁺ [ M ⁺ ]</code>。</p></li><li><p>假定 <code>x · M ⇛ x · M′</code>。 根据归纳假设我们有 <code>M′ ⇛ M ⁺</code> 和 <code>x ⇛ x ⁺</code>，因此 <code>x · M′ ⇛ x · M ⁺</code>。 剩余的情况可以以相同方式证明，所以我们忽略它。 （由于 Agda 目前没有办法在检查右侧之前为我们扩展 <code>_⁺</code> 定义中的 catch-all 模式，我们必须明确地写下剩余的情况。）</p></li></ul><p>菱形性质接着通过将菱形折半成两个三角形得出。</p><pre><code>    M
   /|\
  / | \
 /  |  \
N   2   N′
 \  |  /
  \ | /
   \|/
    M⁺</code></pre><p>也就是说，菱形性质通过在两侧应用具有相同合流项 <code>M ⁺</code>的三角性质而证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-diamond"></a><a id="plfa_plfa-part2-Confluence-20525" href="../Confluence/#plfa_plfa-part2-Confluence-20525" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-20537" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-20539" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-20541" href="../Confluence/#plfa_plfa-part2-Confluence-20541" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20543" href="../Confluence/#plfa_plfa-part2-Confluence-20543" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-20544" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-20546" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-20547" href="../Confluence/#plfa_plfa-part2-Confluence-20547" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20549" href="../Confluence/#plfa_plfa-part2-Confluence-20549" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-20551" href="../Confluence/#plfa_plfa-part2-Confluence-20551" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-20554" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-20556" href="../Confluence/#plfa_plfa-part2-Confluence-20541" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20558" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-20560" href="../Confluence/#plfa_plfa-part2-Confluence-20543" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-20561" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-20565" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20567" href="../Confluence/#plfa_plfa-part2-Confluence-20547" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20569" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20571" href="../Confluence/#plfa_plfa-part2-Confluence-20549" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-20575" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20577" href="../Confluence/#plfa_plfa-part2-Confluence-20547" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20579" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20581" href="../Confluence/#plfa_plfa-part2-Confluence-20551" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-20588" class="Comment">---------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-20624" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20626" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-20629" href="../Confluence/#plfa_plfa-part2-Confluence-20629" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-20631" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-20633" href="../Confluence/#plfa_plfa-part2-Confluence-20541" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20635" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-20637" href="../Confluence/#plfa_plfa-part2-Confluence-20543" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-20639" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-20641" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-20642" href="../Confluence/#plfa_plfa-part2-Confluence-20549" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-20644" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20646" href="../Confluence/#plfa_plfa-part2-Confluence-20629" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-20647" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-20649" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-20651" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-20652" href="../Confluence/#plfa_plfa-part2-Confluence-20551" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-20655" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20657" href="../Confluence/#plfa_plfa-part2-Confluence-20629" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-20658" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-20660" href="../Confluence/#plfa_plfa-part2-Confluence-20525" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-20672" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-20673" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-20675" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-20677" href="../Confluence/#plfa_plfa-part2-Confluence-20677" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-20678" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-20680" href="../Confluence/#plfa_plfa-part2-Confluence-20680" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-20683" href="../Confluence/#plfa_plfa-part2-Confluence-20683" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-20686" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-20688" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-20690" href="../Confluence/#plfa_plfa-part2-Confluence-20677" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20692" href="../Confluence/#plfa_plfa-part2-Confluence-17698" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-20694" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-20696" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-20698" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-20711" href="../Confluence/#plfa_plfa-part2-Confluence-20680" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-20714" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-20716" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-20729" href="../Confluence/#plfa_plfa-part2-Confluence-20683" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-20732" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-20734" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
</pre><p>不过，在存在三角性质的情况下，该步骤是可选的。</p><h4 id="练习实践">练习（实践）</h4><ul><li><p>通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳直接证明菱形性质 <code>par-diamond</code>。</p></li><li><p>作图表示 <code>par-diamond</code> 的直接证明中的六种情况。 图应当包含节点和有向边，其中节点用项标记，边代表平行归约。</p></li></ul><h2 id="平行归约合流性的证明">平行归约合流性的证明</h2><p>像在开始承诺的那样，平行归约合流性的证明现在十分简单， 因为我们知道它满足三角性质。 我们只需证明带状引理（Strip Lemma），它声称若有 <code>M ⇛ N</code> 和 <code>M ⇛* N′</code>， 则对于某个 <code>L</code> 有 <code>N ⇛* L</code> 和 <code>N′ ⇛ L</code>。 下图解释了带状引理：</p><pre><code>    M
   / \
  1   *
 /     \
N       N′
 \     /
  *   1
   \ /
    L</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。</p><p>带状引理的证明是对 <code>M ⇛* N′</code> 的简单归纳，并在归纳步骤使用三角性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-strip"></a><a id="plfa_plfa-part2-Confluence-22320" href="../Confluence/#plfa_plfa-part2-Confluence-22320" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-22326" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22328" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-22330" href="../Confluence/#plfa_plfa-part2-Confluence-22330" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22332" href="../Confluence/#plfa_plfa-part2-Confluence-22332" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22333" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22335" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22336" href="../Confluence/#plfa_plfa-part2-Confluence-22336" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22338" href="../Confluence/#plfa_plfa-part2-Confluence-22338" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22340" href="../Confluence/#plfa_plfa-part2-Confluence-22340" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-22343" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22345" href="../Confluence/#plfa_plfa-part2-Confluence-22330" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22347" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-22349" href="../Confluence/#plfa_plfa-part2-Confluence-22332" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22350" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-22354" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22356" href="../Confluence/#plfa_plfa-part2-Confluence-22336" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22358" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-22360" href="../Confluence/#plfa_plfa-part2-Confluence-22338" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-22364" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22366" href="../Confluence/#plfa_plfa-part2-Confluence-22336" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22368" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22371" href="../Confluence/#plfa_plfa-part2-Confluence-22340" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-22378" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-22417" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22419" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-22422" href="../Confluence/#plfa_plfa-part2-Confluence-22422" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22424" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-22426" href="../Confluence/#plfa_plfa-part2-Confluence-22330" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22428" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-22430" href="../Confluence/#plfa_plfa-part2-Confluence-22332" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-22432" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-22434" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22435" href="../Confluence/#plfa_plfa-part2-Confluence-22338" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22437" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22440" href="../Confluence/#plfa_plfa-part2-Confluence-22422" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-22441" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-22444" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part2-Confluence-22447" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22448" href="../Confluence/#plfa_plfa-part2-Confluence-22340" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-22451" href="../Confluence/#plfa_plfa-part2-Confluence-3376" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-22453" href="../Confluence/#plfa_plfa-part2-Confluence-22422" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-22454" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-22456" href="../Confluence/#plfa_plfa-part2-Confluence-22320" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-22461" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22462" href="../Confluence/#plfa_plfa-part2-Confluence-22462" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-22463" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22465" href="../Confluence/#plfa_plfa-part2-Confluence-22465" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22466" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22468" href="../Confluence/#plfa_plfa-part2-Confluence-22468" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-22469" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22471" href="../Confluence/#plfa_plfa-part2-Confluence-22471" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-22472" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22474" href="../Confluence/#plfa_plfa-part2-Confluence-22474" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-22476" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22478" href="../Confluence/#plfa_plfa-part2-Confluence-22478" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22481" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22482" href="../Confluence/#plfa_plfa-part2-Confluence-22468" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22484" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-22485" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-22487" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-22489" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22491" href="../Confluence/#plfa_plfa-part2-Confluence-22471" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22493" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22495" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22497" href="../Confluence/#plfa_plfa-part2-Confluence-22471" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22499" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-22501" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22503" href="../Confluence/#plfa_plfa-part2-Confluence-22478" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22506" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22508" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-22510" href="../Confluence/#plfa_plfa-part2-Confluence-22320" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-22515" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22516" href="../Confluence/#plfa_plfa-part2-Confluence-22516" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-22517" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22519" href="../Confluence/#plfa_plfa-part2-Confluence-22519" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22520" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22522" href="../Confluence/#plfa_plfa-part2-Confluence-22522" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-22523" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22525" href="../Confluence/#plfa_plfa-part2-Confluence-22525" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-22526" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22528" href="../Confluence/#plfa_plfa-part2-Confluence-22528" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-22530" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22532" href="../Confluence/#plfa_plfa-part2-Confluence-22532" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22535" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22536" href="../Confluence/#plfa_plfa-part2-Confluence-22522" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22538" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-22541" href="../Confluence/#plfa_plfa-part2-Confluence-22541" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Confluence-22545" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22547" href="../Confluence/#plfa_plfa-part2-Confluence-22547" class="Bound">m&#39;n&#39;</a><a id="plfa_plfa-part2-Confluence-22551" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-22555" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-22560" href="../Confluence/#plfa_plfa-part2-Confluence-22320" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-22566" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22567" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-22580" href="../Confluence/#plfa_plfa-part2-Confluence-22541" class="Bound">mm&#39;</a><a id="plfa_plfa-part2-Confluence-22583" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-22585" href="../Confluence/#plfa_plfa-part2-Confluence-22547" class="Bound">m&#39;n&#39;</a>
<a id="plfa_plfa-part2-Confluence-22590" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-22594" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-22596" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22598" href="../Confluence/#plfa_plfa-part2-Confluence-22598" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22600" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22602" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22604" href="../Confluence/#plfa_plfa-part2-Confluence-22604" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-22608" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22610" href="../Confluence/#plfa_plfa-part2-Confluence-22610" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-22615" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22617" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22619" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-22621" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22623" href="../Confluence/#plfa_plfa-part2-Confluence-22598" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22625" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22627" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22629" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22631" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-22634" href="../Confluence/#plfa_plfa-part2-Confluence-17831" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-22647" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22650" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22652" href="../Confluence/#plfa_plfa-part2-Confluence-22604" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-22656" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22658" href="../Confluence/#plfa_plfa-part2-Confluence-22610" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-22663" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22665" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
</pre><p>平行归约合流性的证明现在通过对序列 <code>M ⇛* N</code> 归纳来完成，并在归纳步骤使用上述引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-confluence"></a><a id="plfa_plfa-part2-Confluence-22883" href="../Confluence/#plfa_plfa-part2-Confluence-22883" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-22898" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22900" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-22902" href="../Confluence/#plfa_plfa-part2-Confluence-22902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22904" href="../Confluence/#plfa_plfa-part2-Confluence-22904" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22905" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22907" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22908" href="../Confluence/#plfa_plfa-part2-Confluence-22908" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22910" href="../Confluence/#plfa_plfa-part2-Confluence-22910" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-22913" href="../Confluence/#plfa_plfa-part2-Confluence-22913" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-22916" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22918" href="../Confluence/#plfa_plfa-part2-Confluence-22902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22920" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-22922" href="../Confluence/#plfa_plfa-part2-Confluence-22904" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22923" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-22927" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22929" href="../Confluence/#plfa_plfa-part2-Confluence-22908" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22931" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22934" href="../Confluence/#plfa_plfa-part2-Confluence-22910" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-22939" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22941" href="../Confluence/#plfa_plfa-part2-Confluence-22908" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22943" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22946" href="../Confluence/#plfa_plfa-part2-Confluence-22913" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-22953" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-22992" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22994" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-22997" href="../Confluence/#plfa_plfa-part2-Confluence-22997" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22999" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-23001" href="../Confluence/#plfa_plfa-part2-Confluence-22902" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23003" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23005" href="../Confluence/#plfa_plfa-part2-Confluence-22904" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-23007" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-23009" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23010" href="../Confluence/#plfa_plfa-part2-Confluence-22910" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-23013" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23016" href="../Confluence/#plfa_plfa-part2-Confluence-22997" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23017" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23019" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-23021" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23022" href="../Confluence/#plfa_plfa-part2-Confluence-22913" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23025" href="../Confluence/#plfa_plfa-part2-Confluence-4701" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23028" href="../Confluence/#plfa_plfa-part2-Confluence-22997" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23029" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-23031" href="../Confluence/#plfa_plfa-part2-Confluence-22883" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23046" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23047" href="../Confluence/#plfa_plfa-part2-Confluence-23047" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23048" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23050" href="../Confluence/#plfa_plfa-part2-Confluence-23050" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23051" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23053" href="../Confluence/#plfa_plfa-part2-Confluence-23053" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23054" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23056" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-23057" href="../Confluence/#plfa_plfa-part2-Confluence-23053" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-23058" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23060" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23061" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23063" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23064" href="../Confluence/#plfa_plfa-part2-Confluence-23053" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23066" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-23067" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23069" href="../Confluence/#plfa_plfa-part2-Confluence-23069" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23074" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-23076" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23078" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23080" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23082" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23084" href="../Confluence/#plfa_plfa-part2-Confluence-23069" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23089" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23091" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23093" href="../Confluence/#plfa_plfa-part2-Confluence-4751" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-23095" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23097" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-23099" href="../Confluence/#plfa_plfa-part2-Confluence-22883" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23114" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23115" href="../Confluence/#plfa_plfa-part2-Confluence-23115" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23116" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23118" href="../Confluence/#plfa_plfa-part2-Confluence-23118" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23119" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23121" href="../Confluence/#plfa_plfa-part2-Confluence-23121" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23122" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23124" href="../Confluence/#plfa_plfa-part2-Confluence-23124" class="Bound">M₁′</a><a id="plfa_plfa-part2-Confluence-23127" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23129" href="../Confluence/#plfa_plfa-part2-Confluence-23129" class="Bound">M₂</a><a id="plfa_plfa-part2-Confluence-23131" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23133" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23134" href="../Confluence/#plfa_plfa-part2-Confluence-23121" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23136" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23139" href="../Confluence/#plfa_plfa-part2-Confluence-23139" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23144" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23146" href="../Confluence/#plfa_plfa-part2-Confluence-23146" class="Bound">M₁⇛*M₁′</a><a id="plfa_plfa-part2-Confluence-23153" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23155" href="../Confluence/#plfa_plfa-part2-Confluence-23155" class="Bound">L⇛*M₂</a>
    <a id="plfa_plfa-part2-Confluence-23165" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23170" href="../Confluence/#plfa_plfa-part2-Confluence-22320" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-23176" href="../Confluence/#plfa_plfa-part2-Confluence-23139" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23181" href="../Confluence/#plfa_plfa-part2-Confluence-23155" class="Bound">L⇛*M₂</a>
<a id="plfa_plfa-part2-Confluence-23187" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-23191" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23193" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23195" href="../Confluence/#plfa_plfa-part2-Confluence-23195" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23197" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23199" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23201" href="../Confluence/#plfa_plfa-part2-Confluence-23201" class="Bound">M₁⇛*N</a> <a id="plfa_plfa-part2-Confluence-23207" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23209" href="../Confluence/#plfa_plfa-part2-Confluence-23209" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-23214" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23216" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
      <a id="plfa_plfa-part2-Confluence-23224" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23229" href="../Confluence/#plfa_plfa-part2-Confluence-22883" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23244" class="Bound">M₁⇛*M₁′</a> <a id="plfa_plfa-part2-Confluence-23252" href="../Confluence/#plfa_plfa-part2-Confluence-23201" class="Bound">M₁⇛*N</a>
<a id="plfa_plfa-part2-Confluence-23258" class="Symbol">...</a>   <a id="plfa_plfa-part2-Confluence-23264" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23266" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23268" href="../Confluence/#plfa_plfa-part2-Confluence-23268" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23271" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23273" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23275" href="../Confluence/#plfa_plfa-part2-Confluence-23275" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23283" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23285" href="../Confluence/#plfa_plfa-part2-Confluence-23285" class="Bound">N⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23291" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23293" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23295" class="Symbol">=</a>
        <a id="plfa_plfa-part2-Confluence-23305" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23307" href="../Confluence/#plfa_plfa-part2-Confluence-23268" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23310" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23312" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23314" href="../Confluence/#plfa_plfa-part2-Confluence-23275" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23322" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23324" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23325" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23328" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23331" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-23336" href="../Confluence/#plfa_plfa-part2-Confluence-4807" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23338" href="../Confluence/#plfa_plfa-part2-Confluence-23285" class="Bound">N⇛*N′</a><a id="plfa_plfa-part2-Confluence-23343" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23345" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23347" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
</pre><p>归纳步骤可以如下图解释：</p><pre><code>        L
       / \
      1   *
     /     \
    M₁ (a)  M₂
   / \     /
  *   *   1
 /     \ /
M₁′(b)  N
 \     /
  *   *
   \ /
    N′</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。 此处 <code>(a)</code> 根据 <code>strip</code> 而成立，<code>(b)</code> 根据归纳假设而成立。</p><h2 id="归约合流性的证明">归约合流性的证明</h2><p>归约的合流性是平行归约合流性的一个推论。 从 <code>L —↠ M₁</code> 和 <code>L —↠ M₂</code> 根据 <code>betas-pars</code> 我们有 <code>L ⇛* M₁</code> 和 <code>L ⇛* M₂</code>。 接着根据合流性我们得到对于某个 <code>L</code> 有 <code>M₁ ⇛* N</code> 和 <code>M₂ ⇛* N</code>。 因此我们根据 <code>pars-betas</code> 得出 <code>M₁ —↠ N</code> 和 <code>M₂ —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-confluence"></a><a id="plfa_plfa-part2-Confluence-24400" href="../Confluence/#plfa_plfa-part2-Confluence-24400" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-24411" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-24413" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-24415" href="../Confluence/#plfa_plfa-part2-Confluence-24415" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24417" href="../Confluence/#plfa_plfa-part2-Confluence-24417" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-24418" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-24420" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-24421" href="../Confluence/#plfa_plfa-part2-Confluence-24421" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24423" href="../Confluence/#plfa_plfa-part2-Confluence-24423" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-24426" href="../Confluence/#plfa_plfa-part2-Confluence-24426" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-24429" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-24431" href="../Confluence/#plfa_plfa-part2-Confluence-24415" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24433" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-24435" href="../Confluence/#plfa_plfa-part2-Confluence-24417" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-24436" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-24440" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24442" href="../Confluence/#plfa_plfa-part2-Confluence-24421" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24444" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24447" href="../Confluence/#plfa_plfa-part2-Confluence-24423" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-24452" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24454" href="../Confluence/#plfa_plfa-part2-Confluence-24421" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24456" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24459" href="../Confluence/#plfa_plfa-part2-Confluence-24426" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-24466" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-24504" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24506" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-24509" href="../Confluence/#plfa_plfa-part2-Confluence-24509" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24511" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-24513" href="../Confluence/#plfa_plfa-part2-Confluence-24415" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24515" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-24517" href="../Confluence/#plfa_plfa-part2-Confluence-24417" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-24519" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-24521" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24522" href="../Confluence/#plfa_plfa-part2-Confluence-24423" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-24525" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24528" href="../Confluence/#plfa_plfa-part2-Confluence-24509" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-24529" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-24531" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-24533" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24534" href="../Confluence/#plfa_plfa-part2-Confluence-24426" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-24537" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24540" href="../Confluence/#plfa_plfa-part2-Confluence-24509" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-24541" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-24543" href="../Confluence/#plfa_plfa-part2-Confluence-24400" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-24554" href="../Confluence/#plfa_plfa-part2-Confluence-24554" class="Bound">L↠M₁</a> <a id="plfa_plfa-part2-Confluence-24559" href="../Confluence/#plfa_plfa-part2-Confluence-24559" class="Bound">L↠M₂</a>
    <a id="plfa_plfa-part2-Confluence-24568" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-24573" href="../Confluence/#plfa_plfa-part2-Confluence-22883" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-24588" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24589" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-24600" href="../Confluence/#plfa_plfa-part2-Confluence-24554" class="Bound">L↠M₁</a><a id="plfa_plfa-part2-Confluence-24604" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-24606" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24607" href="../Confluence/#plfa_plfa-part2-Confluence-6212" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-24618" href="../Confluence/#plfa_plfa-part2-Confluence-24559" class="Bound">L↠M₂</a><a id="plfa_plfa-part2-Confluence-24622" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-24624" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-24628" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-24630" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24632" href="../Confluence/#plfa_plfa-part2-Confluence-24632" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24634" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24636" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24638" href="../Confluence/#plfa_plfa-part2-Confluence-24638" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-24643" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24645" href="../Confluence/#plfa_plfa-part2-Confluence-24645" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-24650" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24652" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24654" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Confluence-24662" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24664" href="../Confluence/#plfa_plfa-part2-Confluence-24632" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24666" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24668" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24670" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-24681" href="../Confluence/#plfa_plfa-part2-Confluence-24638" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-24686" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24688" href="../Confluence/#plfa_plfa-part2-Confluence-8775" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-24699" href="../Confluence/#plfa_plfa-part2-Confluence-24645" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-24704" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24706" href="../Confluence/#plfa_plfa-part2-Confluence-2930" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>总而言之，这种机械化的合流性证明基于几个来源。 <code>subst-par</code> 引理是 <span class="citation" data-cites="Schafer:2015">Schäfer, Tebbi, and Smolka (2015)</span> 的「强替换性（Strong Substitutivity）」 引理。 <code>par-triangle</code>、<code>strip</code> 和 <code>par-confluence</code> 的证明基于 <span class="citation" data-cites="Takahashi:1995">Takahashi (1995)</span> 完全发展的概念，以及 <span class="citation" data-cites="Pfenning:1992">Pfenning (1992)</span> 关于 Church-Rosser 定理的技术报告。 此外，我们询问了 Nipkow 和 Berghofer 在 Isabelle 中的机械化， 它基于 <span class="citation" data-cites="Nipkow:1996">Nipkow (1996)</span> 的早期论文。</p><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>⇛  U+21DB  RIGHTWARDS TRIPLE ARROW (\r== or \Rrightarrow)
⁺  U+207A  SUPERSCRIPT PLUS SIGN   (\^+)</code></pre><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Nipkow:1996" class="csl-entry" role="listitem">Nipkow, Tobias. 1996. <span>“More Church-Rosser Proofs (in Isabelle/HOL).”</span> In <em>Proceedings of the 13th International Conference on Automated Deduction: Automated Deduction</em>, 733–47. CADE-13. Berlin, Heidelberg: Springer-Verlag.</div><div id="ref-Pfenning:1992" class="csl-entry" role="listitem">Pfenning, Frank. 1992. <span>“A Proof of the Church-Rosser Theorem and Its Representation in a Logical Framework.”</span> CMU-CS-92-186. Carnegie Mellon University; Carnegie Mellon University.</div><div id="ref-Schafer:2015" class="csl-entry" role="listitem">Schäfer, Steven, Tobias Tebbi, and Gert Smolka. 2015. <span>“Autosubst: Reasoning with de Bruijn Terms and Parallel Substitutions.”</span> In <em>Interactive Theorem Proving: 6th International Conference, ITP 2015, Nanjing, China, August 24-27, 2015, Proceedings 6</em>, 359–74. Springer.</div><div id="ref-Takahashi:1995" class="csl-entry" role="listitem">Takahashi, M. 1995. <span>“Parallel Reductions in λ-Calculus.”</span> <em>Information and Computation</em> 118 (1): 120–27. https://doi.org/<a href="https://doi.org/10.1006/inco.1995.1057">https://doi.org/10.1006/inco.1995.1057</a>.</div></div></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：starxingchenc<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>