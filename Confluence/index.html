<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-dJLJysMdqXtVegSgJLzVykvHbDNrQjmEoKen2rU7YiGMbNpIJIZA1D6HLml44nUJyUGPQ1vkYmT4t5PXKVuBxw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-/ARdgOQa4vn2XAt4Y1F6NSxFACJwwEuz9pC9NZJHfA6M70ZLUlDoqqeh1kAoVZXgqSw2W4T4J1xuBba725O5/A==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Confluence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Confluence: 无类型 λ-演算的合流性</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Confluence-114" class="Keyword">module</a> <a id="plfa_plfa-part2-Confluence-121" href="../Confluence/#" class="Module">plfa.part2.Confluence</a> <a id="plfa_plfa-part2-Confluence-143" class="Keyword">where</a>
</pre><h2 id="简介">简介</h2><p>在这一章我们将证明 β-归约是<strong>合流的（Confluent）</strong> （又被称作 <em>Church-Rosser</em> 性质）： 如果有从任一项 <code>L</code> 至两个不同项 <code>M₁</code> 和 <code>M₂</code> 的归约序列， 那么一定存在从这两个项至某个相同项 <code>N</code> 的归约序列。 如图：</p><pre><code>    L
   / \
  /   \
 /     \
M₁      M₂
 \     /
  \   /
   \ /
    N</code></pre><p>其中向下的线是 <code>-↠</code> 的实例。</p><p>合流性（Confluence）也在许多 λ-演算外的重写系统中被研究， 并且如何在满足<strong>菱形性质（Diamond Property）</strong>， 一种合流性的单步版本的重写系统中证明合流性是广为人知的。 令 <code>⇛</code> 为一个关系。<code>⇛</code> 具有菱形性质， 如果对于任何 <code>L ⇛ M₁</code> 和 <code>L ⇛ M₂</code> 都存在 <code>N</code> ， 使得 <code>M₁ ⇛ N</code> 和 <code>M₂ ⇛ N</code>。 这只是上图的另一个例子，此处向下的线代表 <code>⇛</code>。 如果我们将 <code>⇛</code> 的自反传递闭包写作 <code>⇛*</code>， 那么可以立即从菱形性质推出 <code>⇛*</code> 的合流性。</p><p>不幸的是 λ-演算的归约并不满足菱形性质。这是一个反例：</p><pre><code>(λ x. x x)((λ x. x) a) —→ (λ x. x x) a
(λ x. x x)((λ x. x) a) —→ ((λ x. x) a) ((λ x. x) a)</code></pre><p>两个项都可以归约至 <code>a a</code>，但第二项需要两步来完成，而不是一步。</p><p>为了回避这个问题，我们将定义一个辅助归约关系， 称为<strong>平行归约（Parallel Reduction）</strong> ， 它可以同时执行许多归约并因此满足菱形性质。 更进一步地，我们将证明在两个项间存在平行归约序列当且仅当这两个项间存在 β-归约序列。 因此，我们可以将 β-归约序列合流性的证明约化为平行归约合流性的证明。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Confluence-2733" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2738" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2745" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Confluence-2783" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2789" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2790" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Confluence-2793" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2795" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Confluence-2799" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2801" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2806" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2813" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html" class="Module">Function.Base</a> <a id="plfa_plfa-part2-Confluence-2827" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2833" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2834" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Confluence-2837" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2839" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2844" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2851" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="plfa_plfa-part2-Confluence-2869" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2875" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2876" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Confluence-2879" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2881" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="plfa_plfa-part2-Confluence-2882" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2884" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="plfa_plfa-part2-Confluence-2892" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2894" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#852" class="Function">∃</a><a id="plfa_plfa-part2-Confluence-2895" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2897" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Confluence-2905" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2907" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#636" class="Field">proj₁</a><a id="plfa_plfa-part2-Confluence-2912" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2914" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#650" class="Field">proj₂</a><a id="plfa_plfa-part2-Confluence-2919" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-2923" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Confluence-2932" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2933" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Confluence-2937" class="Symbol">to</a> <a id="plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Confluence-2945" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2947" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2952" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2959" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Confluence-2983" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2989" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2990" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a><a id="plfa_plfa-part2-Confluence-2996" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2998" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a><a id="plfa_plfa-part2-Confluence-3003" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-3005" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-3010" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-3017" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part2-Confluence-3038" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-3044" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3045" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">_—→_</a><a id="plfa_plfa-part2-Confluence-3049" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3051" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Confluence-3052" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3054" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a><a id="plfa_plfa-part2-Confluence-3056" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3058" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a><a id="plfa_plfa-part2-Confluence-3060" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3062" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a><a id="plfa_plfa-part2-Confluence-3063" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3065" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part2-Confluence-3069" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3071" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Confluence-3077" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3079" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3086" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3088" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">_—↠⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3095" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3097" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">_∎</a><a id="plfa_plfa-part2-Confluence-3099" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3103" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a><a id="plfa_plfa-part2-Confluence-3111" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3113" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-3122" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3124" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-3133" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3135" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a><a id="plfa_plfa-part2-Confluence-3143" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3147" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Confluence-3150" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3152" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Confluence-3155" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3157" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Confluence-3159" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3161" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#_</a><a id="plfa_plfa-part2-Confluence-3163" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3165" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Confluence-3168" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3170" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3171" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3173" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Confluence-3175" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3177" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Confluence-3180" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3182" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Confluence-3186" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3190" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a><a id="plfa_plfa-part2-Confluence-3196" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3198" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a><a id="plfa_plfa-part2-Confluence-3201" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3203" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a><a id="plfa_plfa-part2-Confluence-3207" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3209" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-3210" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3212" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Confluence-3214" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3216" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a><a id="plfa_plfa-part2-Confluence-3221" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3223" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a><a id="plfa_plfa-part2-Confluence-3233" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3235" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Confluence-3242" class="Symbol">)</a>
</pre><h2 id="平行归约">平行归约</h2><p>平行归约关系被定义如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-3377" class="Keyword">infix</a> <a id="plfa_plfa-part2-Confluence-3383" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-3385" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">_⇛_</a>

<a id="plfa_plfa-part2-Confluence-3390" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛_"></a><a id="plfa_plfa-part2-Confluence-3395" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">_⇛_</a> <a id="plfa_plfa-part2-Confluence-3399" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3401" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-3403" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-3404" href="../Confluence/#plfa_plfa-part2-Confluence-3404" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3406" href="../Confluence/#plfa_plfa-part2-Confluence-3406" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3407" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-3409" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3411" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3412" href="../Confluence/#plfa_plfa-part2-Confluence-3404" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3414" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3416" href="../Confluence/#plfa_plfa-part2-Confluence-3406" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3417" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3419" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3421" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3422" href="../Confluence/#plfa_plfa-part2-Confluence-3404" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3424" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3426" href="../Confluence/#plfa_plfa-part2-Confluence-3406" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3427" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3429" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3431" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-3435" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pvar"></a><a id="plfa_plfa-part2-Confluence-3444" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-3449" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3451" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3453" href="../Confluence/#plfa_plfa-part2-Confluence-3453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3455" href="../Confluence/#plfa_plfa-part2-Confluence-3455" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3456" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3458" href="../Confluence/#plfa_plfa-part2-Confluence-3458" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-3460" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3462" href="../Confluence/#plfa_plfa-part2-Confluence-3453" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3464" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-3466" href="../Confluence/#plfa_plfa-part2-Confluence-3455" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3467" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Confluence-3475" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-3489" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3491" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3492" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3494" href="../Confluence/#plfa_plfa-part2-Confluence-3458" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3495" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3497" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3499" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3500" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3502" href="../Confluence/#plfa_plfa-part2-Confluence-3458" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3503" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pabs"></a><a id="plfa_plfa-part2-Confluence-3508" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-3513" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3515" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3517" href="../Confluence/#plfa_plfa-part2-Confluence-3517" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3518" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3520" href="../Confluence/#plfa_plfa-part2-Confluence-3520" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3522" href="../Confluence/#plfa_plfa-part2-Confluence-3522" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3525" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3527" href="../Confluence/#plfa_plfa-part2-Confluence-3517" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3529" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3531" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3533" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3535" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3536" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3542" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3544" href="../Confluence/#plfa_plfa-part2-Confluence-3520" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3546" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3548" href="../Confluence/#plfa_plfa-part2-Confluence-3522" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Confluence-3557" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Confluence-3572" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3574" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3576" href="../Confluence/#plfa_plfa-part2-Confluence-3520" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3578" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3580" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3582" href="../Confluence/#plfa_plfa-part2-Confluence-3522" class="Bound">N′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.papp"></a><a id="plfa_plfa-part2-Confluence-3588" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-3593" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3595" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3597" href="../Confluence/#plfa_plfa-part2-Confluence-3597" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3598" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3600" href="../Confluence/#plfa_plfa-part2-Confluence-3600" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3602" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3605" href="../Confluence/#plfa_plfa-part2-Confluence-3605" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3607" href="../Confluence/#plfa_plfa-part2-Confluence-3607" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3610" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3612" href="../Confluence/#plfa_plfa-part2-Confluence-3597" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3614" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3616" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3617" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3623" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3625" href="../Confluence/#plfa_plfa-part2-Confluence-3600" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3627" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3629" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">L′</a>
    <a id="plfa_plfa-part2-Confluence-3636" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3638" href="../Confluence/#plfa_plfa-part2-Confluence-3605" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3640" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3642" href="../Confluence/#plfa_plfa-part2-Confluence-3607" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3651" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Confluence-3673" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3675" href="../Confluence/#plfa_plfa-part2-Confluence-3600" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3677" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3679" href="../Confluence/#plfa_plfa-part2-Confluence-3605" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3681" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3683" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3686" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3688" href="../Confluence/#plfa_plfa-part2-Confluence-3607" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pbeta"></a><a id="plfa_plfa-part2-Confluence-3694" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-3700" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3702" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3704" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3705" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3707" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3709" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">N′</a>  <a id="plfa_plfa-part2-Confluence-3713" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3715" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3717" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3719" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3721" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3723" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3724" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3726" href="../Confluence/#plfa_plfa-part2-Confluence-3726" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3728" href="../Confluence/#plfa_plfa-part2-Confluence-3728" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3731" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3733" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3735" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3737" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3738" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3744" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3746" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3748" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3750" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-3757" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3759" href="../Confluence/#plfa_plfa-part2-Confluence-3726" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3761" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3763" href="../Confluence/#plfa_plfa-part2-Confluence-3728" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3772" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Confluence-3800" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3802" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3803" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3805" href="../Confluence/#plfa_plfa-part2-Confluence-3707" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-3806" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3808" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3810" href="../Confluence/#plfa_plfa-part2-Confluence-3726" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-3813" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a>  <a id="plfa_plfa-part2-Confluence-3816" href="../Confluence/#plfa_plfa-part2-Confluence-3709" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3819" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-3821" href="../Confluence/#plfa_plfa-part2-Confluence-3728" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3824" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
</pre><p>前三种规则是同时归约每个部分的合同性。 最后一个规则平行地归约一个 λ-项和另一个项，接着是一步 β-归约。</p><p>我们注意到 <code>pabs</code>、<code>papp</code> 和 <code>pbeta</code> 规则同时对它们的所有子表达式执行归约。 此外，<code>pabs</code> 规则类似于 <code>ζ</code> 规则，<code>pbeta</code> 类似于 <code>β</code> 规则。</p><p>平行归约是自反的。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-refl"></a><a id="plfa_plfa-part2-Confluence-4420" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4429" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4431" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-4433" href="../Confluence/#plfa_plfa-part2-Confluence-4433" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4435" href="../Confluence/#plfa_plfa-part2-Confluence-4435" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4436" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-4438" href="../Confluence/#plfa_plfa-part2-Confluence-4438" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4440" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4442" href="../Confluence/#plfa_plfa-part2-Confluence-4433" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4444" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4446" href="../Confluence/#plfa_plfa-part2-Confluence-4435" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4447" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4449" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4451" href="../Confluence/#plfa_plfa-part2-Confluence-4438" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4453" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4455" href="../Confluence/#plfa_plfa-part2-Confluence-4438" class="Bound">M</a>
<a id="plfa_plfa-part2-Confluence-4457" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4466" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4467" href="../Confluence/#plfa_plfa-part2-Confluence-4467" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4468" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4470" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4471" href="../Confluence/#plfa_plfa-part2-Confluence-4471" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4472" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4474" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4475" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-4477" href="../Confluence/#plfa_plfa-part2-Confluence-4477" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-4478" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4480" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4482" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-4487" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4496" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4497" href="../Confluence/#plfa_plfa-part2-Confluence-4497" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4498" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4500" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4501" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4502" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4504" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4505" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-4507" href="../Confluence/#plfa_plfa-part2-Confluence-4507" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-4508" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4510" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4512" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-4517" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-4526" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4535" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4536" href="../Confluence/#plfa_plfa-part2-Confluence-4536" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4537" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4539" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4540" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4541" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4543" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4544" href="../Confluence/#plfa_plfa-part2-Confluence-4544" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4546" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-4548" href="../Confluence/#plfa_plfa-part2-Confluence-4548" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-4549" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4551" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4553" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-4558" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4567" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a>
</pre><p>我们定义平行归约序列如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-4672" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4679" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4681" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">_⇛*_</a>
<a id="plfa_plfa-part2-Confluence-4686" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Confluence-4693" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4695" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">_⇛⟨_⟩_</a>
<a id="plfa_plfa-part2-Confluence-4702" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4709" class="Number">3</a> <a id="plfa_plfa-part2-Confluence-4711" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Confluence-4715" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛*_"></a><a id="plfa_plfa-part2-Confluence-4720" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">_⇛*_</a> <a id="plfa_plfa-part2-Confluence-4725" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4727" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4729" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4730" href="../Confluence/#plfa_plfa-part2-Confluence-4730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4732" href="../Confluence/#plfa_plfa-part2-Confluence-4732" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4733" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4735" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4737" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4738" href="../Confluence/#plfa_plfa-part2-Confluence-4730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4740" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4742" href="../Confluence/#plfa_plfa-part2-Confluence-4732" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4743" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4745" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4747" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4748" href="../Confluence/#plfa_plfa-part2-Confluence-4730" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4750" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4752" href="../Confluence/#plfa_plfa-part2-Confluence-4732" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4753" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4755" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4757" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-4761" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._∎"></a><a id="plfa_plfa-part2-Confluence-4770" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Confluence-4773" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4775" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4777" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4778" href="../Confluence/#plfa_plfa-part2-Confluence-4778" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4780" href="../Confluence/#plfa_plfa-part2-Confluence-4780" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4781" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4783" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4784" href="../Confluence/#plfa_plfa-part2-Confluence-4784" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4786" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4788" href="../Confluence/#plfa_plfa-part2-Confluence-4778" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4790" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4792" href="../Confluence/#plfa_plfa-part2-Confluence-4780" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4793" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Confluence-4801" class="Comment">--------</a>
    <a id="plfa_plfa-part2-Confluence-4814" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4816" href="../Confluence/#plfa_plfa-part2-Confluence-4784" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4818" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4821" href="../Confluence/#plfa_plfa-part2-Confluence-4784" class="Bound">M</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._⇛⟨_⟩_"></a><a id="plfa_plfa-part2-Confluence-4826" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">_⇛⟨_⟩_</a> <a id="plfa_plfa-part2-Confluence-4833" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4835" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4837" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4838" href="../Confluence/#plfa_plfa-part2-Confluence-4838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4840" href="../Confluence/#plfa_plfa-part2-Confluence-4840" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4841" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4843" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4844" href="../Confluence/#plfa_plfa-part2-Confluence-4844" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4846" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4848" href="../Confluence/#plfa_plfa-part2-Confluence-4838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4850" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4852" href="../Confluence/#plfa_plfa-part2-Confluence-4840" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4853" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4855" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4856" href="../Confluence/#plfa_plfa-part2-Confluence-4856" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4858" href="../Confluence/#plfa_plfa-part2-Confluence-4858" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-4860" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4862" href="../Confluence/#plfa_plfa-part2-Confluence-4838" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4864" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4866" href="../Confluence/#plfa_plfa-part2-Confluence-4840" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4867" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-4873" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4875" href="../Confluence/#plfa_plfa-part2-Confluence-4844" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4877" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4879" href="../Confluence/#plfa_plfa-part2-Confluence-4856" class="Bound">M</a>
    <a id="plfa_plfa-part2-Confluence-4885" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4887" href="../Confluence/#plfa_plfa-part2-Confluence-4856" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4889" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4892" href="../Confluence/#plfa_plfa-part2-Confluence-4858" class="Bound">N</a>
      <a id="plfa_plfa-part2-Confluence-4900" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-4914" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4916" href="../Confluence/#plfa_plfa-part2-Confluence-4844" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4918" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4921" href="../Confluence/#plfa_plfa-part2-Confluence-4858" class="Bound">N</a>
</pre><h4 id="练习-par-diamond-eg实践">练习 <code>par-diamond-eg</code>（实践）</h4><p>回顾上文中菱形性质的反例，证明在这种情况下平行归约具有菱形性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-5211" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="平行归约与归约间等价性">平行归约与归约间等价性</h2><p>此处我们证明对于任何 <code>M</code> 和 <code>N</code>，<code>M ⇛* N</code> 当且仅当 <code>M —↠ N</code>。 必要性的证明非常容易，我们开始于说明若 <code>M —→ N</code>，则 <code>M ⇛ N</code>。 该证明通过对归约 <code>M —→ N</code> 进行归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-beta-par"></a><a id="plfa_plfa-part2-Confluence-5662" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5671" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5673" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-5675" href="../Confluence/#plfa_plfa-part2-Confluence-5675" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5677" href="../Confluence/#plfa_plfa-part2-Confluence-5677" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5678" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-5680" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5682" href="../Confluence/#plfa_plfa-part2-Confluence-5682" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-5684" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5686" href="../Confluence/#plfa_plfa-part2-Confluence-5675" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5688" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-5690" href="../Confluence/#plfa_plfa-part2-Confluence-5677" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5691" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-5695" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5697" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5699" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Confluence-5702" href="../Confluence/#plfa_plfa-part2-Confluence-5682" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-5708" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-5717" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5719" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5721" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-5723" href="../Confluence/#plfa_plfa-part2-Confluence-5682" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-5725" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5734" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5735" href="../Confluence/#plfa_plfa-part2-Confluence-5735" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5736" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5738" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5739" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5740" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5742" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5743" href="../Confluence/#plfa_plfa-part2-Confluence-5743" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5745" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5747" href="../Confluence/#plfa_plfa-part2-Confluence-5747" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5748" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5750" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5751" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Confluence-5754" href="../Confluence/#plfa_plfa-part2-Confluence-5754" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5755" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5757" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5759" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5764" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5765" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5774" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5775" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5777" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5779" href="../Confluence/#plfa_plfa-part2-Confluence-5743" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-5780" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5782" href="../Confluence/#plfa_plfa-part2-Confluence-5754" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5783" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5785" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5794" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5803" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5804" href="../Confluence/#plfa_plfa-part2-Confluence-5804" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5805" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5807" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5808" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5809" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5811" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5812" href="../Confluence/#plfa_plfa-part2-Confluence-5812" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5814" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5816" href="../Confluence/#plfa_plfa-part2-Confluence-5816" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5817" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5819" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5820" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Confluence-5823" href="../Confluence/#plfa_plfa-part2-Confluence-5823" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5824" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5826" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5828" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5833" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5842" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5843" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5852" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5853" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5855" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5857" href="../Confluence/#plfa_plfa-part2-Confluence-5816" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5858" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5860" href="../Confluence/#plfa_plfa-part2-Confluence-5823" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5861" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-5863" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5872" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5873" href="../Confluence/#plfa_plfa-part2-Confluence-5873" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5874" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5876" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5877" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5878" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5880" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-5882" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5884" href="../Confluence/#plfa_plfa-part2-Confluence-5884" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5885" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5887" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5889" href="../Confluence/#plfa_plfa-part2-Confluence-5889" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5890" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5892" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-5894" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5896" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-5902" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5911" href="../Confluence/#plfa_plfa-part2-Confluence-4420" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5920" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5929" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5930" href="../Confluence/#plfa_plfa-part2-Confluence-5930" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5931" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5933" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5934" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5935" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5937" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5938" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5940" href="../Confluence/#plfa_plfa-part2-Confluence-5940" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5941" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5943" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5944" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Confluence-5946" href="../Confluence/#plfa_plfa-part2-Confluence-5946" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5947" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5949" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5951" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-5956" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5957" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5966" href="../Confluence/#plfa_plfa-part2-Confluence-5946" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5967" class="Symbol">)</a>
</pre><p>证明了该引理后我们便可完成必要性的证明， 即 <code>M —↠ N</code> 蕴含 <code>M ⇛* N</code>。该证明是对 <code>M —↠ N</code> 归约序列的简单归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-betas-pars"></a><a id="plfa_plfa-part2-Confluence-6231" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6242" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6244" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6246" href="../Confluence/#plfa_plfa-part2-Confluence-6246" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6248" href="../Confluence/#plfa_plfa-part2-Confluence-6248" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6249" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6251" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6252" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6254" href="../Confluence/#plfa_plfa-part2-Confluence-6254" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6256" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6258" href="../Confluence/#plfa_plfa-part2-Confluence-6246" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6260" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6262" href="../Confluence/#plfa_plfa-part2-Confluence-6248" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6263" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6267" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6269" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6271" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6274" href="../Confluence/#plfa_plfa-part2-Confluence-6254" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6280" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6289" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6291" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6293" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-6296" href="../Confluence/#plfa_plfa-part2-Confluence-6254" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6298" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6309" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6310" href="../Confluence/#plfa_plfa-part2-Confluence-6310" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6311" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6313" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6314" href="../Confluence/#plfa_plfa-part2-Confluence-6314" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6315" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6317" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6318" href="../Confluence/#plfa_plfa-part2-Confluence-6318" class="Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6320" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6322" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6323" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6324" href="../Confluence/#plfa_plfa-part2-Confluence-6318" class="DottedPattern Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6326" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6328" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6329" href="../Confluence/#plfa_plfa-part2-Confluence-6318" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6332" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-6333" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6335" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6337" href="../Confluence/#plfa_plfa-part2-Confluence-6318" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6340" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6342" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6353" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6354" href="../Confluence/#plfa_plfa-part2-Confluence-6354" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6355" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6357" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6358" href="../Confluence/#plfa_plfa-part2-Confluence-6358" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6359" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6361" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6362" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6363" href="../Confluence/#plfa_plfa-part2-Confluence-6371" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-6364" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6366" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6367" href="../Confluence/#plfa_plfa-part2-Confluence-6367" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6368" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6370" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6371" href="../Confluence/#plfa_plfa-part2-Confluence-6371" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6373" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-6377" href="../Confluence/#plfa_plfa-part2-Confluence-6377" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6379" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6381" href="../Confluence/#plfa_plfa-part2-Confluence-6381" class="Bound">bs</a><a id="plfa_plfa-part2-Confluence-6383" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6385" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Confluence-6390" href="../Confluence/#plfa_plfa-part2-Confluence-6371" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6392" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-6395" href="../Confluence/#plfa_plfa-part2-Confluence-5662" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-6404" href="../Confluence/#plfa_plfa-part2-Confluence-6377" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6406" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6408" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6419" href="../Confluence/#plfa_plfa-part2-Confluence-6381" class="Bound">bs</a>
</pre><p>现在考虑命题的充分性，即 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code>。 充分性的证明有一点不同，因为它不是 <code>M ⇛ N</code> 蕴含 <code>M —→ N</code> 的情形。 毕竟 <code>M ⇛ N</code> 执行了许多归约， 所以我们应当证明 <code>M ⇛ N</code> 蕴含 <code>M —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-betas"></a><a id="plfa_plfa-part2-Confluence-6842" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6852" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6854" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6856" href="../Confluence/#plfa_plfa-part2-Confluence-6856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6858" href="../Confluence/#plfa_plfa-part2-Confluence-6858" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6859" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-6861" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6863" href="../Confluence/#plfa_plfa-part2-Confluence-6863" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6865" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6867" href="../Confluence/#plfa_plfa-part2-Confluence-6856" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6869" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6871" href="../Confluence/#plfa_plfa-part2-Confluence-6858" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6872" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6876" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6878" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6880" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-6882" href="../Confluence/#plfa_plfa-part2-Confluence-6863" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6888" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6897" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6899" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6901" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6904" href="../Confluence/#plfa_plfa-part2-Confluence-6863" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6906" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6916" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6917" href="../Confluence/#plfa_plfa-part2-Confluence-6917" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6918" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6920" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6921" href="../Confluence/#plfa_plfa-part2-Confluence-6921" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6922" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6924" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6925" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part2-Confluence-6927" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="DottedPattern InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6929" class="DottedPattern Symbol">_)</a><a id="plfa_plfa-part2-Confluence-6931" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6933" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6934" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a><a id="plfa_plfa-part2-Confluence-6938" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6939" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-6941" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6943" href="../Confluence/#plfa_plfa-part2-Confluence-6943" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6944" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-6947" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6949" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6950" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6952" href="../Confluence/#plfa_plfa-part2-Confluence-6943" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6953" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6955" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6957" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6967" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6968" href="../Confluence/#plfa_plfa-part2-Confluence-6968" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6969" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6971" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6972" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-6973" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6975" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6976" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-6978" href="../Confluence/#plfa_plfa-part2-Confluence-6978" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6979" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6981" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6982" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-6987" href="../Confluence/#plfa_plfa-part2-Confluence-6987" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-6988" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6990" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6992" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-7001" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7002" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7012" href="../Confluence/#plfa_plfa-part2-Confluence-6987" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-7013" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-7015" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7025" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7026" href="../Confluence/#plfa_plfa-part2-Confluence-7026" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7027" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7029" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7030" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7031" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7033" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7034" href="../Confluence/#plfa_plfa-part2-Confluence-7034" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7036" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7038" href="../Confluence/#plfa_plfa-part2-Confluence-7038" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7039" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7041" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7042" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-7047" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7048" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7050" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7052" href="../Confluence/#plfa_plfa-part2-Confluence-7034" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-7053" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7055" href="../Confluence/#plfa_plfa-part2-Confluence-7055" class="Bound">L′</a><a id="plfa_plfa-part2-Confluence-7057" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7059" href="../Confluence/#plfa_plfa-part2-Confluence-7038" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7060" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7062" href="../Confluence/#plfa_plfa-part2-Confluence-7062" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7064" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7066" href="../Confluence/#plfa_plfa-part2-Confluence-7066" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7069" href="../Confluence/#plfa_plfa-part2-Confluence-7069" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7071" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7073" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7079" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7089" href="../Confluence/#plfa_plfa-part2-Confluence-7034" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7091" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7093" href="../Confluence/#plfa_plfa-part2-Confluence-7038" class="Bound">M</a>   <a id="plfa_plfa-part2-Confluence-7097" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7101" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7110" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7111" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7113" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7115" href="../Confluence/#plfa_plfa-part2-Confluence-7038" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7116" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7118" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7119" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7129" href="../Confluence/#plfa_plfa-part2-Confluence-7066" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7131" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7133" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7139" href="../Confluence/#plfa_plfa-part2-Confluence-7055" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7142" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7144" href="../Confluence/#plfa_plfa-part2-Confluence-7038" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-7147" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7151" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Confluence-7161" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7162" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7172" href="../Confluence/#plfa_plfa-part2-Confluence-7069" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7174" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7176" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7182" href="../Confluence/#plfa_plfa-part2-Confluence-7055" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7185" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7187" href="../Confluence/#plfa_plfa-part2-Confluence-7062" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-7194" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-7196" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7206" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7207" href="../Confluence/#plfa_plfa-part2-Confluence-7207" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7208" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7210" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7211" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7212" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7214" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-7216" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7218" href="../Confluence/#plfa_plfa-part2-Confluence-7218" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7219" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7221" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7223" href="../Confluence/#plfa_plfa-part2-Confluence-7223" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7224" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7226" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7227" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-7232" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7233" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-7236" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7238" href="../Confluence/#plfa_plfa-part2-Confluence-7238" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7240" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7242" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-7245" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7247" href="../Confluence/#plfa_plfa-part2-Confluence-7247" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7249" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7251" href="../Confluence/#plfa_plfa-part2-Confluence-7251" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7254" href="../Confluence/#plfa_plfa-part2-Confluence-7254" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7256" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7258" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7264" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7274" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7275" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7277" href="../Confluence/#plfa_plfa-part2-Confluence-7218" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7278" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7280" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7282" href="../Confluence/#plfa_plfa-part2-Confluence-7223" class="Bound">M</a>                    <a id="plfa_plfa-part2-Confluence-7303" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7307" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7316" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7317" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7319" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7321" href="../Confluence/#plfa_plfa-part2-Confluence-7223" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7322" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7324" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7325" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-7334" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7335" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7345" href="../Confluence/#plfa_plfa-part2-Confluence-7251" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7347" class="Symbol">))</a> <a id="plfa_plfa-part2-Confluence-7350" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7356" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7357" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7359" href="../Confluence/#plfa_plfa-part2-Confluence-7238" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7361" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7363" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7365" href="../Confluence/#plfa_plfa-part2-Confluence-7223" class="Bound">M</a>                   <a id="plfa_plfa-part2-Confluence-7385" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7389" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-7398" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7399" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7401" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7403" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7405" href="../Confluence/#plfa_plfa-part2-Confluence-7238" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7407" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7409" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7410" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7420" href="../Confluence/#plfa_plfa-part2-Confluence-7254" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7422" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-7425" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7431" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7432" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7434" href="../Confluence/#plfa_plfa-part2-Confluence-7238" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7436" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7438" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7440" href="../Confluence/#plfa_plfa-part2-Confluence-7247" class="Bound">M′</a>                  <a id="plfa_plfa-part2-Confluence-7460" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-7464" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-7466" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
     <a id="plfa_plfa-part2-Confluence-7473" href="../Confluence/#plfa_plfa-part2-Confluence-7238" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-7476" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-7478" href="../Confluence/#plfa_plfa-part2-Confluence-7247" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-7481" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
    <a id="plfa_plfa-part2-Confluence-7487" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
</pre><p>该证明通过对 <code>M ⇛ N</code> 进行归纳。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们立刻有 <code>x —↠ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。根据归纳假设我们有 <code>N —↠ N′</code>。 我们得出 <code>ƛ N —↠ ƛ N′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>L —↠ L′</code> 和 <code>M —↠ M′</code>。 所以有 <code>L · M —↠ L′ · M</code> 以及 <code>L′ · M —↠ L′ · M′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据类似的原因，我们有 <code>(ƛ N) · M —↠ (ƛ N′) · M′</code>， 接着应用 β-归约我们得到 <code>(ƛ N′) · M′ —→ N′ [ M′ ]</code>。</p></li></ul><p>证明了该引理后我们便可通过对 <code>M ⇛* N</code> 的一步简单归纳完成 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-pars-betas"></a><a id="plfa_plfa-part2-Confluence-8794" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8805" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8807" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-8809" href="../Confluence/#plfa_plfa-part2-Confluence-8809" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8811" href="../Confluence/#plfa_plfa-part2-Confluence-8811" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8812" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-8814" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-8815" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8817" href="../Confluence/#plfa_plfa-part2-Confluence-8817" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-8819" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8821" href="../Confluence/#plfa_plfa-part2-Confluence-8809" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8823" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-8825" href="../Confluence/#plfa_plfa-part2-Confluence-8811" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8826" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-8830" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8832" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8834" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-8837" href="../Confluence/#plfa_plfa-part2-Confluence-8817" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-8843" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-8852" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8854" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8856" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-8859" href="../Confluence/#plfa_plfa-part2-Confluence-8817" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-8861" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8872" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8873" href="../Confluence/#plfa_plfa-part2-Confluence-8873" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8876" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-8877" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8879" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8881" href="../Confluence/#plfa_plfa-part2-Confluence-8873" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8884" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-8886" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8897" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8898" href="../Confluence/#plfa_plfa-part2-Confluence-8898" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-8900" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-8903" href="../Confluence/#plfa_plfa-part2-Confluence-8903" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-8905" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-8907" href="../Confluence/#plfa_plfa-part2-Confluence-8907" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8909" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8911" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8913" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Confluence-8922" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8923" href="../Confluence/#plfa_plfa-part2-Confluence-6842" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-8933" href="../Confluence/#plfa_plfa-part2-Confluence-8903" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-8934" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8936" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8937" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8948" href="../Confluence/#plfa_plfa-part2-Confluence-8907" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8950" class="Symbol">)</a>
</pre><h2 id="平行归约的替换引理">平行归约的替换引理</h2><p>我们的下一个目标是对平行归约证明菱形性质。 为了完成该证明，我们还需证明替换遵从平行归约。 也就是说，如果有 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>，那么 <code>N [ M ] ⇛ N′ [ M′ ]</code>。 我们不能直接通过归纳证明它，所以我们将其推广为： 如果 <code>N ⇛ N′</code> 并且替换 <code>σ</code> 逐点（Pointwise）平行归约至 <code>τ</code>， 则 <code>subst σ N ⇛ subst τ N′</code>。 我们将代换的逐点平行归约定义如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst"></a><a id="plfa_plfa-part2-Confluence-9731" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9741" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9743" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9745" href="../Confluence/#plfa_plfa-part2-Confluence-9745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9747" href="../Confluence/#plfa_plfa-part2-Confluence-9747" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9748" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9750" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9752" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9758" href="../Confluence/#plfa_plfa-part2-Confluence-9745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9760" href="../Confluence/#plfa_plfa-part2-Confluence-9747" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9762" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9764" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9770" href="../Confluence/#plfa_plfa-part2-Confluence-9745" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9772" href="../Confluence/#plfa_plfa-part2-Confluence-9747" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9774" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9776" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Confluence-9780" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9790" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-9791" href="../Confluence/#plfa_plfa-part2-Confluence-9791" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-9792" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9794" href="../Confluence/#plfa_plfa-part2-Confluence-9794" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9795" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9797" href="../Confluence/#plfa_plfa-part2-Confluence-9797" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9799" href="../Confluence/#plfa_plfa-part2-Confluence-9799" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9802" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-9804" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9806" href="../Confluence/#plfa_plfa-part2-Confluence-9806" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9807" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9809" href="../Confluence/#plfa_plfa-part2-Confluence-9809" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9811" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9813" href="../Confluence/#plfa_plfa-part2-Confluence-9791" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9815" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-9817" href="../Confluence/#plfa_plfa-part2-Confluence-9806" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9818" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9820" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9822" href="../Confluence/#plfa_plfa-part2-Confluence-9797" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9824" href="../Confluence/#plfa_plfa-part2-Confluence-9809" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9826" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-9828" href="../Confluence/#plfa_plfa-part2-Confluence-9799" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9831" href="../Confluence/#plfa_plfa-part2-Confluence-9809" class="Bound">x</a>
</pre><p>In the type of <code>par-subst</code> we make use of the shorthand <code>Subst Γ Δ</code> for the type of a substitution. Similarly, we shall make use of <code>Rename Γ Δ</code> for the type of a renaming. Both are defined in Chapter <a href="../Substitution/">Substitution</a> and have the following meaning.</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-10385" href="../Confluence/#plfa_plfa-part2-Confluence-10385" class="Function">_</a> <a id="plfa_plfa-part2-Confluence-10387" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10389" class="Symbol">∀(</a><a id="plfa_plfa-part2-Confluence-10391" href="../Confluence/#plfa_plfa-part2-Confluence-10391" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10393" href="../Confluence/#plfa_plfa-part2-Confluence-10393" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10395" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10397" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Confluence-10404" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10406" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10408" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="plfa_plfa-part2-Confluence-10413" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-10415" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10417" class="Symbol">λ</a> <a id="plfa_plfa-part2-Confluence-10419" href="../Confluence/#plfa_plfa-part2-Confluence-10419" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10421" href="../Confluence/#plfa_plfa-part2-Confluence-10421" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10423" class="Symbol">→</a>   <a id="plfa_plfa-part2-Confluence-10427" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-10434" href="../Confluence/#plfa_plfa-part2-Confluence-10419" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10436" href="../Confluence/#plfa_plfa-part2-Confluence-10421" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10438" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-10440" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10442" href="../Confluence/#plfa_plfa-part2-Confluence-10442" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10443" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10445" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10447" href="../Confluence/#plfa_plfa-part2-Confluence-10419" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10449" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-10451" href="../Confluence/#plfa_plfa-part2-Confluence-10442" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-10453" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10455" href="../Confluence/#plfa_plfa-part2-Confluence-10421" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10457" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-10459" href="../Confluence/#plfa_plfa-part2-Confluence-10442" class="Bound">A</a>

<a id="plfa_plfa-part2-Confluence-10462" href="../Confluence/#plfa_plfa-part2-Confluence-10462" class="Function">_</a> <a id="plfa_plfa-part2-Confluence-10464" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10466" class="Symbol">∀(</a><a id="plfa_plfa-part2-Confluence-10468" href="../Confluence/#plfa_plfa-part2-Confluence-10468" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10470" href="../Confluence/#plfa_plfa-part2-Confluence-10470" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10472" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10474" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part2-Confluence-10481" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10483" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10485" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="plfa_plfa-part2-Confluence-10490" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-10492" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10494" class="Symbol">λ</a> <a id="plfa_plfa-part2-Confluence-10496" href="../Confluence/#plfa_plfa-part2-Confluence-10496" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10498" href="../Confluence/#plfa_plfa-part2-Confluence-10498" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10500" class="Symbol">→</a>   <a id="plfa_plfa-part2-Confluence-10504" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-10510" href="../Confluence/#plfa_plfa-part2-Confluence-10496" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10512" href="../Confluence/#plfa_plfa-part2-Confluence-10498" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10514" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-10516" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10518" href="../Confluence/#plfa_plfa-part2-Confluence-10518" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10519" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10521" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10523" href="../Confluence/#plfa_plfa-part2-Confluence-10496" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10525" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-10527" href="../Confluence/#plfa_plfa-part2-Confluence-10518" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-10529" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10531" href="../Confluence/#plfa_plfa-part2-Confluence-10498" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10533" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10535" href="../Confluence/#plfa_plfa-part2-Confluence-10518" class="Bound">A</a>
</pre><p>因为替换依赖于扩展函数 <code>exts</code>，而其又依赖于 <code>rename</code>， 我们开始于被称为 <code>par-rename</code> 的替换引理的一种版本，该引理专门用于重命名。 <code>par-rename</code> 依赖于重命名和替换可以相互交换的事实， 这是一个我们在 <a href="../Substitution/">Substitution</a> 章节引入并在此处重申的引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-rename-subst-commute"></a><a id="plfa_plfa-part2-Confluence-11129" href="../Confluence/#plfa_plfa-part2-Confluence-11129" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-11150" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11152" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-11154" href="../Confluence/#plfa_plfa-part2-Confluence-11154" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11156" href="../Confluence/#plfa_plfa-part2-Confluence-11156" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11157" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11159" href="../Confluence/#plfa_plfa-part2-Confluence-11159" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-11161" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11163" href="../Confluence/#plfa_plfa-part2-Confluence-11154" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11165" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-11167" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-11169" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-11171" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-11172" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11174" href="../Confluence/#plfa_plfa-part2-Confluence-11174" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11176" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11178" href="../Confluence/#plfa_plfa-part2-Confluence-11154" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11180" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-11182" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-11183" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11185" href="../Confluence/#plfa_plfa-part2-Confluence-11185" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11187" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11189" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-11196" href="../Confluence/#plfa_plfa-part2-Confluence-11154" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11198" href="../Confluence/#plfa_plfa-part2-Confluence-11156" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-11200" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-11206" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-11208" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11209" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-11216" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11217" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-11221" href="../Confluence/#plfa_plfa-part2-Confluence-11185" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11222" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11224" href="../Confluence/#plfa_plfa-part2-Confluence-11159" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-11225" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11227" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-11229" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-11236" href="../Confluence/#plfa_plfa-part2-Confluence-11185" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11238" href="../Confluence/#plfa_plfa-part2-Confluence-11174" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11240" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-11242" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-11244" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-11251" href="../Confluence/#plfa_plfa-part2-Confluence-11185" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11253" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11254" href="../Confluence/#plfa_plfa-part2-Confluence-11159" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-11256" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-11258" href="../Confluence/#plfa_plfa-part2-Confluence-11174" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11260" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-11261" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11263" href="../Confluence/#plfa_plfa-part2-Confluence-11129" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-11284" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11285" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-11287" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11289" href="../Confluence/#plfa_plfa-part2-Confluence-11289" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-11290" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11292" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11294" href="../Substitution/#plfa_plfa-part2-Substitution-33282" class="Function">plfa.part2.Substitution.rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-11339" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11340" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-11342" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11344" href="../Confluence/#plfa_plfa-part2-Confluence-11289" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-11345" class="Symbol">}</a>
</pre><p>现在证明 <code>par-rename</code> 引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-rename"></a><a id="plfa_plfa-part2-Confluence-11425" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11436" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11438" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-11440" href="../Confluence/#plfa_plfa-part2-Confluence-11440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11442" href="../Confluence/#plfa_plfa-part2-Confluence-11442" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-11444" href="../Confluence/#plfa_plfa-part2-Confluence-11444" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-11445" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11447" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11448" href="../Confluence/#plfa_plfa-part2-Confluence-11448" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11450" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11452" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-11459" href="../Confluence/#plfa_plfa-part2-Confluence-11440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11461" href="../Confluence/#plfa_plfa-part2-Confluence-11442" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11462" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11464" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11465" href="../Confluence/#plfa_plfa-part2-Confluence-11465" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11467" href="../Confluence/#plfa_plfa-part2-Confluence-11467" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-11470" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-11472" href="../Confluence/#plfa_plfa-part2-Confluence-11440" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-11474" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-11476" href="../Confluence/#plfa_plfa-part2-Confluence-11444" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-11477" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-11481" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-11483" href="../Confluence/#plfa_plfa-part2-Confluence-11465" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11485" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-11487" href="../Confluence/#plfa_plfa-part2-Confluence-11467" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-11494" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Confluence-11521" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-11523" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-11530" href="../Confluence/#plfa_plfa-part2-Confluence-11448" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11532" href="../Confluence/#plfa_plfa-part2-Confluence-11465" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-11534" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-11536" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-11543" href="../Confluence/#plfa_plfa-part2-Confluence-11448" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-11545" href="../Confluence/#plfa_plfa-part2-Confluence-11467" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-11548" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11559" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-11564" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11566" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-11571" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11582" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11583" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-11588" href="../Confluence/#plfa_plfa-part2-Confluence-11588" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-11589" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11591" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11593" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-11598" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11599" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11610" href="../Confluence/#plfa_plfa-part2-Confluence-11588" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-11611" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11613" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11624" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11625" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-11630" href="../Confluence/#plfa_plfa-part2-Confluence-11630" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-11633" href="../Confluence/#plfa_plfa-part2-Confluence-11633" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11635" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11637" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11639" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-11644" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11645" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11656" href="../Confluence/#plfa_plfa-part2-Confluence-11630" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-11658" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11660" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11661" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11672" href="../Confluence/#plfa_plfa-part2-Confluence-11633" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11674" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11676" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-11687" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11688" href="../Confluence/#plfa_plfa-part2-Confluence-11688" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-11689" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11691" href="../Confluence/#plfa_plfa-part2-Confluence-11691" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11692" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11694" href="../Confluence/#plfa_plfa-part2-Confluence-11694" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-11695" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11697" href="../Confluence/#plfa_plfa-part2-Confluence-11697" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11698" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11700" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11701" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-11706" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11707" href="../Confluence/#plfa_plfa-part2-Confluence-11688" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-11708" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11710" href="../Confluence/#plfa_plfa-part2-Confluence-11710" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-11711" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11713" href="../Confluence/#plfa_plfa-part2-Confluence-11713" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-11715" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11717" href="../Confluence/#plfa_plfa-part2-Confluence-11717" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-11718" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11720" href="../Confluence/#plfa_plfa-part2-Confluence-11720" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-11722" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11724" href="../Confluence/#plfa_plfa-part2-Confluence-11724" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-11727" href="../Confluence/#plfa_plfa-part2-Confluence-11727" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11729" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-11735" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-11740" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-11746" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11747" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11757" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11758" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11760" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11762" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-11766" href="../Confluence/#plfa_plfa-part2-Confluence-11697" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11767" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11769" href="../Confluence/#plfa_plfa-part2-Confluence-11724" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-11771" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11773" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11774" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11784" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11785" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11787" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11789" href="../Confluence/#plfa_plfa-part2-Confluence-11697" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11790" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11792" href="../Confluence/#plfa_plfa-part2-Confluence-11727" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11794" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11796" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-11800" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-11802" href="../Confluence/#plfa_plfa-part2-Confluence-11802" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-11804" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-11812" href="../Confluence/#plfa_plfa-part2-Confluence-11129" class="Function">rename-subst-commute</a><a id="plfa_plfa-part2-Confluence-11832" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11833" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-11834" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11836" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11837" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11839" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-11841" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11843" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-11845" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11847" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11848" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11850" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11852" href="../Confluence/#plfa_plfa-part2-Confluence-11802" class="Bound">G</a>

</pre><p>证明通过对 <code>M ⇛ M′</code> 进行归纳来完成。前三种情况很简单， 所以我们只考虑最后一种，即 <code>pbeta</code>。</p><ul><li>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>rename (ext ρ) N ⇛ rename (ext ρ) N′</code> 和 <code>rename ρ M ⇛ rename ρ M′</code>。 所以根据 <code>pbeta</code> 我们有 <code>(ƛ rename (ext ρ) N) · (rename ρ M) ⇛ (rename (ext ρ) N) [ rename ρ M ]</code>。 然而，为了得出结论我们需要平行归约至 <code>rename ρ (N [ M ])</code>。 值得庆幸的是，重命名和归约可以相互交换。</li></ul><p>有了 <code>par-rename</code> 引理，很容易证明扩展替换保留了逐点平行归约关系。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-exts"></a><a id="plfa_plfa-part2-Confluence-13009" href="../Confluence/#plfa_plfa-part2-Confluence-13009" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13024" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13026" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13028" href="../Confluence/#plfa_plfa-part2-Confluence-13028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13030" href="../Confluence/#plfa_plfa-part2-Confluence-13030" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13031" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13033" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13034" href="../Confluence/#plfa_plfa-part2-Confluence-13034" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13036" href="../Confluence/#plfa_plfa-part2-Confluence-13036" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13038" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13040" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-13046" href="../Confluence/#plfa_plfa-part2-Confluence-13028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13048" href="../Confluence/#plfa_plfa-part2-Confluence-13030" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13049" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-13053" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13055" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-13065" href="../Confluence/#plfa_plfa-part2-Confluence-13034" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13067" href="../Confluence/#plfa_plfa-part2-Confluence-13036" class="Bound">τ</a>
    <a id="plfa_plfa-part2-Confluence-13073" class="Comment">------------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-13118" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13120" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13122" href="../Confluence/#plfa_plfa-part2-Confluence-13122" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-13123" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13125" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13127" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-13137" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13138" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13143" href="../Confluence/#plfa_plfa-part2-Confluence-13034" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13145" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13146" class="Argument">B</a> <a id="plfa_plfa-part2-Confluence-13148" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13150" href="../Confluence/#plfa_plfa-part2-Confluence-13122" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-13151" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-13154" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13155" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13160" href="../Confluence/#plfa_plfa-part2-Confluence-13036" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13161" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13163" href="../Confluence/#plfa_plfa-part2-Confluence-13009" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13178" href="../Confluence/#plfa_plfa-part2-Confluence-13178" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13180" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13181" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13183" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13185" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-13186" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13188" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13190" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-13195" href="../Confluence/#plfa_plfa-part2-Confluence-13009" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13210" href="../Confluence/#plfa_plfa-part2-Confluence-13210" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13212" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13213" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13215" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13217" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-13219" href="../Confluence/#plfa_plfa-part2-Confluence-13219" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13220" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13222" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13224" href="../Confluence/#plfa_plfa-part2-Confluence-11425" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-13235" href="../Confluence/#plfa_plfa-part2-Confluence-13210" class="Bound">s</a>
</pre><p>为了证明替换遵从平行归约关系，我们需要证明的下一个引理如下文所示， 它声称同时归约可以与单步归约相交换。 我们从 <a href="../Substitution/">Substitution</a> 章节导入这个引理， 并重申如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-commute"></a><a id="plfa_plfa-part2-Confluence-13635" href="../Confluence/#plfa_plfa-part2-Confluence-13635" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-13649" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13651" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13653" href="../Confluence/#plfa_plfa-part2-Confluence-13653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13655" href="../Confluence/#plfa_plfa-part2-Confluence-13655" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13656" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13658" href="../Confluence/#plfa_plfa-part2-Confluence-13658" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-13660" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13662" href="../Confluence/#plfa_plfa-part2-Confluence-13653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13664" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-13666" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-13668" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-13670" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13671" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13673" href="../Confluence/#plfa_plfa-part2-Confluence-13673" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13675" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13677" href="../Confluence/#plfa_plfa-part2-Confluence-13653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13679" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-13681" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13682" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13684" href="../Confluence/#plfa_plfa-part2-Confluence-13684" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13686" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13688" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-13694" href="../Confluence/#plfa_plfa-part2-Confluence-13653" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13696" href="../Confluence/#plfa_plfa-part2-Confluence-13655" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-13698" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-13702" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13704" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13710" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13711" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13716" href="../Confluence/#plfa_plfa-part2-Confluence-13684" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13717" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13719" href="../Confluence/#plfa_plfa-part2-Confluence-13658" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-13721" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-13723" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13729" href="../Confluence/#plfa_plfa-part2-Confluence-13684" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13731" href="../Confluence/#plfa_plfa-part2-Confluence-13673" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13733" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-13735" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-13737" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13743" href="../Confluence/#plfa_plfa-part2-Confluence-13684" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13745" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13746" href="../Confluence/#plfa_plfa-part2-Confluence-13658" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-13748" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-13750" href="../Confluence/#plfa_plfa-part2-Confluence-13673" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13752" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-13753" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13755" href="../Confluence/#plfa_plfa-part2-Confluence-13635" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-13769" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13770" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13772" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13774" href="../Confluence/#plfa_plfa-part2-Confluence-13774" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13775" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13777" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13779" href="../Substitution/#plfa_plfa-part2-Substitution-31601" class="Function">plfa.part2.Substitution.subst-commute</a> <a id="plfa_plfa-part2-Confluence-13817" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13818" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13820" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13822" href="../Confluence/#plfa_plfa-part2-Confluence-13774" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13823" class="Symbol">}</a>
</pre><p>我们准备好去证明替换遵从平行归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-par"></a><a id="plfa_plfa-part2-Confluence-13936" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13946" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13948" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13950" href="../Confluence/#plfa_plfa-part2-Confluence-13950" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13952" href="../Confluence/#plfa_plfa-part2-Confluence-13952" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-13954" href="../Confluence/#plfa_plfa-part2-Confluence-13954" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13955" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13957" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13958" href="../Confluence/#plfa_plfa-part2-Confluence-13958" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13960" href="../Confluence/#plfa_plfa-part2-Confluence-13960" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13962" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13964" href="../Substitution/#plfa_plfa-part2-Substitution-2892" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-13970" href="../Confluence/#plfa_plfa-part2-Confluence-13950" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13972" href="../Confluence/#plfa_plfa-part2-Confluence-13952" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13973" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13975" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13976" href="../Confluence/#plfa_plfa-part2-Confluence-13976" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13978" href="../Confluence/#plfa_plfa-part2-Confluence-13978" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-13981" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13983" href="../Confluence/#plfa_plfa-part2-Confluence-13950" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13985" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-13987" href="../Confluence/#plfa_plfa-part2-Confluence-13954" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13988" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-13992" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13994" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-14004" href="../Confluence/#plfa_plfa-part2-Confluence-13958" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-14006" href="../Confluence/#plfa_plfa-part2-Confluence-13960" class="Bound">τ</a>  <a id="plfa_plfa-part2-Confluence-14009" class="Symbol">→</a>  <a id="plfa_plfa-part2-Confluence-14012" href="../Confluence/#plfa_plfa-part2-Confluence-13976" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-14014" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-14016" href="../Confluence/#plfa_plfa-part2-Confluence-13978" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-14023" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-14052" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-14054" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-14060" href="../Confluence/#plfa_plfa-part2-Confluence-13958" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-14062" href="../Confluence/#plfa_plfa-part2-Confluence-13976" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-14064" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-14066" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-14072" href="../Confluence/#plfa_plfa-part2-Confluence-13960" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-14074" href="../Confluence/#plfa_plfa-part2-Confluence-13978" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-14077" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14087" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14088" href="../Confluence/#plfa_plfa-part2-Confluence-14088" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-14089" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14091" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14092" href="../Confluence/#plfa_plfa-part2-Confluence-14092" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-14093" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14095" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14096" href="../Confluence/#plfa_plfa-part2-Confluence-14096" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-14097" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14099" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14100" href="../Confluence/#plfa_plfa-part2-Confluence-14100" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14101" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14103" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14104" href="../Confluence/#plfa_plfa-part2-Confluence-14104" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14105" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14107" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14108" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-14110" href="../Confluence/#plfa_plfa-part2-Confluence-14110" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-14111" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14113" href="../Confluence/#plfa_plfa-part2-Confluence-14113" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14115" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-14120" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14122" href="../Confluence/#plfa_plfa-part2-Confluence-14113" class="Bound">s</a>
<a id="plfa_plfa-part2-Confluence-14124" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14134" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14135" href="../Confluence/#plfa_plfa-part2-Confluence-14135" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-14136" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14138" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14139" href="../Confluence/#plfa_plfa-part2-Confluence-14139" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-14140" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14142" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14143" href="../Confluence/#plfa_plfa-part2-Confluence-14143" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-14144" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14146" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14147" href="../Confluence/#plfa_plfa-part2-Confluence-14147" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14148" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14150" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14151" href="../Confluence/#plfa_plfa-part2-Confluence-14151" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14152" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14154" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14155" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-14157" href="../Confluence/#plfa_plfa-part2-Confluence-14157" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-14158" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14160" href="../Confluence/#plfa_plfa-part2-Confluence-14160" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14162" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14163" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-14168" href="../Confluence/#plfa_plfa-part2-Confluence-14168" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-14169" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-14171" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-14175" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-14180" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14181" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14191" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14192" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-14194" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14196" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-14201" href="../Confluence/#plfa_plfa-part2-Confluence-14147" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14202" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14204" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14205" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-14207" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14209" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-14214" href="../Confluence/#plfa_plfa-part2-Confluence-14151" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14215" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Confluence-14225" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Confluence-14228" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14229" href="../Confluence/#plfa_plfa-part2-Confluence-14229" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-14230" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14232" href="../Confluence/#plfa_plfa-part2-Confluence-14232" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-14233" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14235" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-14237" href="../Confluence/#plfa_plfa-part2-Confluence-13009" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-14252" href="../Confluence/#plfa_plfa-part2-Confluence-14160" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14254" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14255" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-14257" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14259" href="../Confluence/#plfa_plfa-part2-Confluence-14232" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-14260" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-14263" href="../Confluence/#plfa_plfa-part2-Confluence-14168" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-14264" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-14266" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14276" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14277" href="../Confluence/#plfa_plfa-part2-Confluence-14277" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-14278" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14280" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14281" href="../Confluence/#plfa_plfa-part2-Confluence-14281" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-14282" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14284" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14285" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-14286" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14288" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14289" href="../Confluence/#plfa_plfa-part2-Confluence-14289" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14290" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14292" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14293" href="../Confluence/#plfa_plfa-part2-Confluence-14293" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14294" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14296" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14297" href="../Confluence/#plfa_plfa-part2-Confluence-14297" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-14299" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-14301" href="../Confluence/#plfa_plfa-part2-Confluence-14301" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-14302" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14304" href="../Confluence/#plfa_plfa-part2-Confluence-14304" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14306" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14307" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-14312" href="../Confluence/#plfa_plfa-part2-Confluence-14312" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-14315" href="../Confluence/#plfa_plfa-part2-Confluence-14315" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-14317" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-14319" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-14323" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-14328" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14329" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14339" href="../Confluence/#plfa_plfa-part2-Confluence-14304" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14341" href="../Confluence/#plfa_plfa-part2-Confluence-14312" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-14343" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-14345" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14346" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14356" href="../Confluence/#plfa_plfa-part2-Confluence-14304" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14358" href="../Confluence/#plfa_plfa-part2-Confluence-14315" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-14360" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-14362" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14372" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14373" href="../Confluence/#plfa_plfa-part2-Confluence-14373" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-14374" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14376" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14377" href="../Confluence/#plfa_plfa-part2-Confluence-14377" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-14378" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14380" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14381" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-14382" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14384" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14385" href="../Confluence/#plfa_plfa-part2-Confluence-14385" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14386" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14388" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14389" href="../Confluence/#plfa_plfa-part2-Confluence-14389" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14390" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14392" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-14394" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-14396" href="../Confluence/#plfa_plfa-part2-Confluence-14396" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-14397" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-14399" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-14401" href="../Confluence/#plfa_plfa-part2-Confluence-14401" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-14402" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14404" href="../Confluence/#plfa_plfa-part2-Confluence-14404" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14406" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14407" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-14412" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14413" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-14416" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14418" href="../Confluence/#plfa_plfa-part2-Confluence-14418" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-14420" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14422" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-14425" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14427" href="../Confluence/#plfa_plfa-part2-Confluence-14427" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-14429" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14431" href="../Confluence/#plfa_plfa-part2-Confluence-14431" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-14434" href="../Confluence/#plfa_plfa-part2-Confluence-14434" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-14436" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-14442" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-14447" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-14453" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14454" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a><a id="plfa_plfa-part2-Confluence-14463" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14464" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-14466" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14468" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-14473" href="../Confluence/#plfa_plfa-part2-Confluence-14385" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14474" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14476" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-14478" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14480" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-14485" href="../Confluence/#plfa_plfa-part2-Confluence-14389" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14486" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14488" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-14490" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14492" href="../Confluence/#plfa_plfa-part2-Confluence-14396" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-14493" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Confluence-14519" class="Symbol">(λ{</a><a id="plfa_plfa-part2-Confluence-14522" href="../Confluence/#plfa_plfa-part2-Confluence-14522" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-14523" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14525" href="../Confluence/#plfa_plfa-part2-Confluence-14525" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-14526" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14528" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-14530" href="../Confluence/#plfa_plfa-part2-Confluence-13009" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-14545" href="../Confluence/#plfa_plfa-part2-Confluence-14404" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14547" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14548" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-14550" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14552" href="../Confluence/#plfa_plfa-part2-Confluence-14525" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-14553" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-14556" href="../Confluence/#plfa_plfa-part2-Confluence-14431" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-14558" class="Symbol">)</a>
               <a id="plfa_plfa-part2-Confluence-14575" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-14576" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-14586" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14587" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-14589" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14591" href="../Confluence/#plfa_plfa-part2-Confluence-14385" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-14592" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14594" href="../Confluence/#plfa_plfa-part2-Confluence-14404" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-14596" href="../Confluence/#plfa_plfa-part2-Confluence-14434" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-14598" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-14600" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-14604" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-14606" href="../Confluence/#plfa_plfa-part2-Confluence-14606" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-14608" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-14616" href="../Confluence/#plfa_plfa-part2-Confluence-13635" class="Function">subst-commute</a><a id="plfa_plfa-part2-Confluence-14629" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-14630" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-14632" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14634" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-14636" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14638" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-14640" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14642" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-14644" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-14646" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-14648" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14650" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-14651" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-14653" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-14655" href="../Confluence/#plfa_plfa-part2-Confluence-14606" class="Bound">G</a>
</pre><p>我们通过对 <code>M ⇛ M′</code> 归纳来证明。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们使用前提 <code>par-subst σ τ</code> 来得出 <code>σ x ⇛ τ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。 为了使用归纳假设，我们需要 <code>par-subst (exts σ) (exts τ)</code>， 它通过 <code>par-subst-exts</code> 得出。 所以我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 并且通过规则 <code>pabs</code> 来完成证明。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设我们有 <code>subst σ L ⇛ subst τ L′</code> 和 <code>subst σ M ⇛ subst τ M′</code>， 所以我们通过规则 <code>papp</code> 来完成证明。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 同样我们根据 <code>par-subst-exts</code> 来得到 <code>par-subst (exts σ) (exts τ)</code>。 所以根据归纳假设，我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 和 <code>subst σ M ⇛ subst τ M′</code>。 接着根据 <code>pbeta</code> 规则，我们平行归约至 <code>subst (exts τ) N′ [ subst τ M′ ]</code>。 替换在以下意义中与自身交换： 对于任意 σ、 N 和 M， 我们有</p><pre><code>  (subst (exts σ) N) [ subst σ M ] ≡ subst σ (N [ M ])</code></pre><p>所以我们平行归约得到 <code>subst τ (N′ [ M′ ])</code>。</p></li></ul><p>显然，若 <code>M ⇛ M′</code>，则 <code>subst-zero M</code> 逐点平行归约至 <code>subst-zero M′</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-zero"></a><a id="plfa_plfa-part2-Confluence-16742" href="../Confluence/#plfa_plfa-part2-Confluence-16742" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16757" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16759" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-16761" href="../Confluence/#plfa_plfa-part2-Confluence-16761" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-16762" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16764" href="../Confluence/#plfa_plfa-part2-Confluence-16764" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16765" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16767" href="../Confluence/#plfa_plfa-part2-Confluence-16767" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16769" href="../Confluence/#plfa_plfa-part2-Confluence-16769" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16772" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16774" href="../Confluence/#plfa_plfa-part2-Confluence-16761" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16776" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16778" href="../Confluence/#plfa_plfa-part2-Confluence-16764" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16779" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Confluence-16788" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16790" href="../Confluence/#plfa_plfa-part2-Confluence-16767" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16792" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16794" href="../Confluence/#plfa_plfa-part2-Confluence-16769" class="Bound">M′</a>
       <a id="plfa_plfa-part2-Confluence-16804" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16806" href="../Confluence/#plfa_plfa-part2-Confluence-9731" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-16816" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16817" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16828" href="../Confluence/#plfa_plfa-part2-Confluence-16767" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16829" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-16831" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16832" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16843" href="../Confluence/#plfa_plfa-part2-Confluence-16769" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16845" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-16847" href="../Confluence/#plfa_plfa-part2-Confluence-16742" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16862" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16863" href="../Confluence/#plfa_plfa-part2-Confluence-16863" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16864" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16866" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16867" href="../Confluence/#plfa_plfa-part2-Confluence-16867" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16869" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16871" href="../Confluence/#plfa_plfa-part2-Confluence-16871" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16873" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16874" href="../Confluence/#plfa_plfa-part2-Confluence-16874" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16875" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16877" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16878" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-16879" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16881" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16883" href="../Confluence/#plfa_plfa-part2-Confluence-16871" class="Bound">p</a>
<a id="plfa_plfa-part2-Confluence-16885" href="../Confluence/#plfa_plfa-part2-Confluence-16742" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16900" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16901" href="../Confluence/#plfa_plfa-part2-Confluence-16901" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16902" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16904" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16905" href="../Confluence/#plfa_plfa-part2-Confluence-16905" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16907" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16909" href="../Confluence/#plfa_plfa-part2-Confluence-16909" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16911" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16912" href="../Confluence/#plfa_plfa-part2-Confluence-16912" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16913" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16915" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16916" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-16918" href="../Confluence/#plfa_plfa-part2-Confluence-16918" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-16919" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16921" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16923" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>
</pre><p>我们以所期望的推论来结束本节，即替换遵从平行归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-sub-par"></a><a id="plfa_plfa-part2-Confluence-17078" href="../Confluence/#plfa_plfa-part2-Confluence-17078" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-17086" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17088" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-17090" href="../Confluence/#plfa_plfa-part2-Confluence-17090" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17092" href="../Confluence/#plfa_plfa-part2-Confluence-17092" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-17094" href="../Confluence/#plfa_plfa-part2-Confluence-17094" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-17095" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-17097" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17098" href="../Confluence/#plfa_plfa-part2-Confluence-17098" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17100" href="../Confluence/#plfa_plfa-part2-Confluence-17100" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-17103" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17105" href="../Confluence/#plfa_plfa-part2-Confluence-17090" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17107" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-17109" href="../Confluence/#plfa_plfa-part2-Confluence-17092" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-17111" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17113" href="../Confluence/#plfa_plfa-part2-Confluence-17094" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-17114" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-17116" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17117" href="../Confluence/#plfa_plfa-part2-Confluence-17117" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17119" href="../Confluence/#plfa_plfa-part2-Confluence-17119" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-17122" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17124" href="../Confluence/#plfa_plfa-part2-Confluence-17090" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17126" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17128" href="../Confluence/#plfa_plfa-part2-Confluence-17092" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-17129" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-17133" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17135" href="../Confluence/#plfa_plfa-part2-Confluence-17098" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17137" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-17139" href="../Confluence/#plfa_plfa-part2-Confluence-17100" class="Bound">N′</a>
  <a id="plfa_plfa-part2-Confluence-17144" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17146" href="../Confluence/#plfa_plfa-part2-Confluence-17117" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17148" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-17150" href="../Confluence/#plfa_plfa-part2-Confluence-17119" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-17157" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-17186" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17188" href="../Confluence/#plfa_plfa-part2-Confluence-17098" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17190" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-17192" href="../Confluence/#plfa_plfa-part2-Confluence-17117" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17194" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-17196" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-17198" href="../Confluence/#plfa_plfa-part2-Confluence-17100" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-17201" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-17203" href="../Confluence/#plfa_plfa-part2-Confluence-17119" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-17206" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-17208" href="../Confluence/#plfa_plfa-part2-Confluence-17078" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-17216" href="../Confluence/#plfa_plfa-part2-Confluence-17216" class="Bound">pn</a> <a id="plfa_plfa-part2-Confluence-17219" href="../Confluence/#plfa_plfa-part2-Confluence-17219" class="Bound">pm</a> <a id="plfa_plfa-part2-Confluence-17222" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17224" href="../Confluence/#plfa_plfa-part2-Confluence-13936" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-17234" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17235" href="../Confluence/#plfa_plfa-part2-Confluence-16742" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-17250" href="../Confluence/#plfa_plfa-part2-Confluence-17219" class="Bound">pm</a><a id="plfa_plfa-part2-Confluence-17252" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17254" href="../Confluence/#plfa_plfa-part2-Confluence-17216" class="Bound">pn</a>
</pre><h2 id="平行归约满足菱形性质">平行归约满足菱形性质</h2><p>合流性证明的核心是石头制成的，更确切地说，是钻石！ 【译注：在英文中 diamond 一词既指钻石，又指菱形。】 我们将证明平行归约满足菱形性质，即若有 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code>， 那么对某个 <code>L</code> 有 <code>N ⇛ L</code> 和 <code>N′ ⇛ L</code>。 典型的证明通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳来完成， 因此每一个可能的对都会在执行足够多次平行 β-归约后产生一个证明 <code>L</code>。</p><p>其中向下的线是 <code>⇛</code> 的实例。因此我们称其为<strong>三角性质（Triangle Property）</strong>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-_⁺"></a><a id="plfa_plfa-part2-Confluence-18443" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">_⁺</a> <a id="plfa_plfa-part2-Confluence-18446" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-18448" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-18450" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18451" href="../Confluence/#plfa_plfa-part2-Confluence-18451" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18453" href="../Confluence/#plfa_plfa-part2-Confluence-18453" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-18454" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-18458" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18460" href="../Confluence/#plfa_plfa-part2-Confluence-18451" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18462" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-18464" href="../Confluence/#plfa_plfa-part2-Confluence-18453" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-18466" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18468" href="../Confluence/#plfa_plfa-part2-Confluence-18451" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18470" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-18472" href="../Confluence/#plfa_plfa-part2-Confluence-18453" class="Bound">A</a>
<a id="plfa_plfa-part2-Confluence-18474" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18475" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-18477" href="../Confluence/#plfa_plfa-part2-Confluence-18477" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-18478" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18480" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-18488" class="Symbol">=</a>  <a id="plfa_plfa-part2-Confluence-18491" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-18493" href="../Confluence/#plfa_plfa-part2-Confluence-18477" class="Bound">x</a>
<a id="plfa_plfa-part2-Confluence-18495" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18496" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18498" href="../Confluence/#plfa_plfa-part2-Confluence-18498" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-18499" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18501" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-18509" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18511" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18513" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18514" href="../Confluence/#plfa_plfa-part2-Confluence-18498" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18516" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-18517" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18519" class="Symbol">((</a><a id="plfa_plfa-part2-Confluence-18521" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18523" href="../Confluence/#plfa_plfa-part2-Confluence-18523" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-18524" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18526" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-18528" href="../Confluence/#plfa_plfa-part2-Confluence-18528" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-18529" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18531" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-18533" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18535" href="../Confluence/#plfa_plfa-part2-Confluence-18523" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-18537" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-18539" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-18541" href="../Confluence/#plfa_plfa-part2-Confluence-18528" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18543" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-18545" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-18547" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part2-Confluence-18548" href="../Confluence/#plfa_plfa-part2-Confluence-18548" class="CatchallClause Bound">L</a><a id="plfa_plfa-part2-Confluence-18549" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-18550" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="CatchallClause InductiveConstructor Operator">·</a><a id="plfa_plfa-part2-Confluence-18551" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-18552" href="../Confluence/#plfa_plfa-part2-Confluence-18552" class="CatchallClause Bound">M</a><a id="plfa_plfa-part2-Confluence-18553" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part2-Confluence-18554" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-18555" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="CatchallClause Function Operator">⁺</a>     <a id="plfa_plfa-part2-Confluence-18561" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18563" href="../Confluence/#plfa_plfa-part2-Confluence-18548" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-18565" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-18567" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-18569" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18570" href="../Confluence/#plfa_plfa-part2-Confluence-18552" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18572" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-18573" class="Symbol">)</a>

<a id="plfa_plfa-part2-Confluence-par-triangle"></a><a id="plfa_plfa-part2-Confluence-18576" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18589" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-18591" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-18593" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18594" href="../Confluence/#plfa_plfa-part2-Confluence-18594" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18596" href="../Confluence/#plfa_plfa-part2-Confluence-18596" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-18597" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-18599" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18600" href="../Confluence/#plfa_plfa-part2-Confluence-18600" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18602" href="../Confluence/#plfa_plfa-part2-Confluence-18602" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-18604" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-18606" href="../Confluence/#plfa_plfa-part2-Confluence-18594" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18608" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-18610" href="../Confluence/#plfa_plfa-part2-Confluence-18596" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-18611" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-18615" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18617" href="../Confluence/#plfa_plfa-part2-Confluence-18600" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18619" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-18621" href="../Confluence/#plfa_plfa-part2-Confluence-18602" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-18627" class="Comment">-------</a>
  <a id="plfa_plfa-part2-Confluence-18637" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18639" href="../Confluence/#plfa_plfa-part2-Confluence-18602" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-18641" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-18643" href="../Confluence/#plfa_plfa-part2-Confluence-18600" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18645" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a>
<a id="plfa_plfa-part2-Confluence-18647" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18660" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>          <a id="plfa_plfa-part2-Confluence-18674" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18676" href="../Confluence/#plfa_plfa-part2-Confluence-3444" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-18681" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18694" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18695" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18700" href="../Confluence/#plfa_plfa-part2-Confluence-18700" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-18701" class="Symbol">)</a>      <a id="plfa_plfa-part2-Confluence-18708" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18710" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18715" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18716" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18729" href="../Confluence/#plfa_plfa-part2-Confluence-18700" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-18730" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18732" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18745" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18746" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18752" href="../Confluence/#plfa_plfa-part2-Confluence-18752" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18755" href="../Confluence/#plfa_plfa-part2-Confluence-18755" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18757" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18759" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18761" href="../Confluence/#plfa_plfa-part2-Confluence-17078" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-18769" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18770" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18783" href="../Confluence/#plfa_plfa-part2-Confluence-18752" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18785" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18787" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18788" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18801" href="../Confluence/#plfa_plfa-part2-Confluence-18755" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18803" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18805" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18818" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18819" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18824" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18825" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18827" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18829" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18831" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-18833" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-18835" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18836" href="../Confluence/#plfa_plfa-part2-Confluence-3508" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18841" href="../Confluence/#plfa_plfa-part2-Confluence-18841" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18843" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18845" href="../Confluence/#plfa_plfa-part2-Confluence-18845" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18847" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18849" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-18853" href="../Confluence/#plfa_plfa-part2-Confluence-3694" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18859" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18860" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18873" href="../Confluence/#plfa_plfa-part2-Confluence-18841" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18875" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18877" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18878" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18891" href="../Confluence/#plfa_plfa-part2-Confluence-18845" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18893" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18895" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18908" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18909" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18914" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18915" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18917" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18919" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-18921" class="Symbol">_}</a>   <a id="plfa_plfa-part2-Confluence-18926" href="../Confluence/#plfa_plfa-part2-Confluence-18926" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18929" href="../Confluence/#plfa_plfa-part2-Confluence-18929" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18931" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18933" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18935" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18940" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18941" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18954" href="../Confluence/#plfa_plfa-part2-Confluence-18926" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18956" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18958" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18959" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18972" href="../Confluence/#plfa_plfa-part2-Confluence-18929" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18974" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18976" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18989" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18990" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18995" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18996" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18998" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-19000" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-19002" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-19004" class="Symbol">_}</a> <a id="plfa_plfa-part2-Confluence-19007" href="../Confluence/#plfa_plfa-part2-Confluence-19007" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-19010" href="../Confluence/#plfa_plfa-part2-Confluence-19010" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-19012" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-19014" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-19016" href="../Confluence/#plfa_plfa-part2-Confluence-3588" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-19021" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-19022" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-19035" href="../Confluence/#plfa_plfa-part2-Confluence-19007" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-19037" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-19039" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-19040" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-19053" href="../Confluence/#plfa_plfa-part2-Confluence-19010" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-19055" class="Symbol">)</a>
</pre><p>三角性质的证明通过对 <code>M ⇛ N</code> 归纳来完成。</p><ul><li><p>假定 <code>x ⇛ x</code>。显然 <code>x ⁺ = x</code>，所以 <code>x ⇛ x ⁺</code>。</p></li><li><p>假定 <code>ƛ M ⇛ ƛ N</code>。根据归纳假设我们有 <code>N ⇛ M ⁺</code>， 并且根据定义我们有 <code>(λ M) ⁺ = λ (M ⁺)</code>，所以我们得出 <code>λ N ⇛ λ(M ⁺)</code>。</p></li><li><p>假定 <code>(λ N) · M ⇛ N′ [ M′ ]</code>。根据归纳假设我们有 <code>N′ ⇛ N ⁺</code> 和 <code>M′ ⇛ M ⁺</code>。 因为替换遵从平行归约，于是得到 <code>N′ [ M′ ] ⇛ N ⁺ [ M ⁺ ]</code>， 而右侧即为 <code>((λ N) · M) ⁺</code>，因此有 <code>N′ [ M′ ] ⇛ ((λ N) · M) ⁺</code>。</p></li><li><p>假定 <code>(λ L) · M ⇛ (λ L′) · M′</code>。 根据归纳假设我们有 <code>L′ ⇛ L ⁺</code> 和 <code>M′ ⇛ M ⁺</code>； 根据定义有 <code>((λ L) · M) ⁺ = L ⁺ [ M ⁺ ]</code>。 接着得出 <code>(λ L′) · M′ ⇛ L ⁺ [ M ⁺ ]</code>。</p></li><li><p>假定 <code>x · M ⇛ x · M′</code>。 根据归纳假设我们有 <code>M′ ⇛ M ⁺</code> 和 <code>x ⇛ x ⁺</code>，因此 <code>x · M′ ⇛ x · M ⁺</code>。 剩余的情况可以以相同方式证明，所以我们忽略它。 （由于 Agda 目前没有办法在检查右侧之前为我们扩展 <code>_⁺</code> 定义中的 catch-all 模式，我们必须明确地写下剩余的情况。）</p></li></ul><p>菱形性质接着通过将菱形折半成两个三角形得出。</p><pre><code>    M
   /|\
  / | \
 /  |  \
N   2   N′
 \  |  /
  \ | /
   \|/
    M⁺</code></pre><p>也就是说，菱形性质通过在两侧应用具有相同合流项 <code>M ⁺</code>的三角性质而证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-diamond"></a><a id="plfa_plfa-part2-Confluence-21270" href="../Confluence/#plfa_plfa-part2-Confluence-21270" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-21282" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-21284" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-21286" href="../Confluence/#plfa_plfa-part2-Confluence-21286" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-21288" href="../Confluence/#plfa_plfa-part2-Confluence-21288" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-21289" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-21291" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-21292" href="../Confluence/#plfa_plfa-part2-Confluence-21292" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-21294" href="../Confluence/#plfa_plfa-part2-Confluence-21294" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-21296" href="../Confluence/#plfa_plfa-part2-Confluence-21296" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-21299" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-21301" href="../Confluence/#plfa_plfa-part2-Confluence-21286" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-21303" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-21305" href="../Confluence/#plfa_plfa-part2-Confluence-21288" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-21306" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-21310" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-21312" href="../Confluence/#plfa_plfa-part2-Confluence-21292" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-21314" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-21316" href="../Confluence/#plfa_plfa-part2-Confluence-21294" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-21320" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-21322" href="../Confluence/#plfa_plfa-part2-Confluence-21292" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-21324" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-21326" href="../Confluence/#plfa_plfa-part2-Confluence-21296" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-21333" class="Comment">---------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-21369" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-21371" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-21374" href="../Confluence/#plfa_plfa-part2-Confluence-21374" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-21376" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-21378" href="../Confluence/#plfa_plfa-part2-Confluence-21286" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-21380" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-21382" href="../Confluence/#plfa_plfa-part2-Confluence-21288" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-21384" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-21386" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-21387" href="../Confluence/#plfa_plfa-part2-Confluence-21294" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-21389" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-21391" href="../Confluence/#plfa_plfa-part2-Confluence-21374" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-21392" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-21394" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-21396" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-21397" href="../Confluence/#plfa_plfa-part2-Confluence-21296" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-21400" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-21402" href="../Confluence/#plfa_plfa-part2-Confluence-21374" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-21403" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-21405" href="../Confluence/#plfa_plfa-part2-Confluence-21270" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-21417" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-21418" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-21420" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-21422" href="../Confluence/#plfa_plfa-part2-Confluence-21422" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-21423" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-21425" href="../Confluence/#plfa_plfa-part2-Confluence-21425" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-21428" href="../Confluence/#plfa_plfa-part2-Confluence-21428" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-21431" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-21433" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-21435" href="../Confluence/#plfa_plfa-part2-Confluence-21422" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-21437" href="../Confluence/#plfa_plfa-part2-Confluence-18443" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-21439" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-21441" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-21443" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-21456" href="../Confluence/#plfa_plfa-part2-Confluence-21425" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-21459" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-21461" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-21474" href="../Confluence/#plfa_plfa-part2-Confluence-21428" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-21477" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-21479" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
</pre><p>不过，在存在三角性质的情况下，该步骤是可选的。</p><h4 id="练习实践">练习（实践）</h4><ul><li><p>通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳直接证明菱形性质 <code>par-diamond</code>。</p></li><li><p>作图表示 <code>par-diamond</code> 的直接证明中的六种情况。 图应当包含节点和有向边，其中节点用项标记，边代表平行归约。</p></li></ul><h2 id="平行归约合流性的证明">平行归约合流性的证明</h2><p>像在开始承诺的那样，平行归约合流性的证明现在十分简单， 因为我们知道它满足三角性质。 我们只需证明带状引理（Strip Lemma），它声称若有 <code>M ⇛ N</code> 和 <code>M ⇛* N′</code>， 则对于某个 <code>L</code> 有 <code>N ⇛* L</code> 和 <code>N′ ⇛ L</code>。 下图解释了带状引理：</p><pre><code>    M
   / \
  1   *
 /     \
N       N′
 \     /
  *   1
   \ /
    L</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。</p><p>带状引理的证明是对 <code>M ⇛* N′</code> 的简单归纳，并在归纳步骤使用三角性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-strip"></a><a id="plfa_plfa-part2-Confluence-23065" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-23071" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23073" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-23075" href="../Confluence/#plfa_plfa-part2-Confluence-23075" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23077" href="../Confluence/#plfa_plfa-part2-Confluence-23077" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23078" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23080" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23081" href="../Confluence/#plfa_plfa-part2-Confluence-23081" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-23083" href="../Confluence/#plfa_plfa-part2-Confluence-23083" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23085" href="../Confluence/#plfa_plfa-part2-Confluence-23085" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23088" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23090" href="../Confluence/#plfa_plfa-part2-Confluence-23075" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23092" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23094" href="../Confluence/#plfa_plfa-part2-Confluence-23077" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23095" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-23099" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23101" href="../Confluence/#plfa_plfa-part2-Confluence-23081" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-23103" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-23105" href="../Confluence/#plfa_plfa-part2-Confluence-23083" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-23109" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23111" href="../Confluence/#plfa_plfa-part2-Confluence-23081" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-23113" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23116" href="../Confluence/#plfa_plfa-part2-Confluence-23085" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-23123" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-23162" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23164" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-23167" href="../Confluence/#plfa_plfa-part2-Confluence-23167" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23169" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-23171" href="../Confluence/#plfa_plfa-part2-Confluence-23075" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23173" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23175" href="../Confluence/#plfa_plfa-part2-Confluence-23077" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-23177" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-23179" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23180" href="../Confluence/#plfa_plfa-part2-Confluence-23083" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23182" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23185" href="../Confluence/#plfa_plfa-part2-Confluence-23167" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23186" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-23189" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part2-Confluence-23192" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23193" href="../Confluence/#plfa_plfa-part2-Confluence-23085" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23196" href="../Confluence/#plfa_plfa-part2-Confluence-3395" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-23198" href="../Confluence/#plfa_plfa-part2-Confluence-23167" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23199" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-23201" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-23206" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23207" href="../Confluence/#plfa_plfa-part2-Confluence-23207" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23208" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23210" href="../Confluence/#plfa_plfa-part2-Confluence-23210" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23211" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23213" href="../Confluence/#plfa_plfa-part2-Confluence-23213" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-23214" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23216" href="../Confluence/#plfa_plfa-part2-Confluence-23216" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23217" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23219" href="../Confluence/#plfa_plfa-part2-Confluence-23219" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-23221" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23223" href="../Confluence/#plfa_plfa-part2-Confluence-23223" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-23226" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23227" href="../Confluence/#plfa_plfa-part2-Confluence-23213" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-23229" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-23230" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23232" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-23234" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23236" href="../Confluence/#plfa_plfa-part2-Confluence-23216" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23238" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23240" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23242" href="../Confluence/#plfa_plfa-part2-Confluence-23216" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23244" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-23246" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23248" href="../Confluence/#plfa_plfa-part2-Confluence-23223" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-23251" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23253" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-23255" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-23260" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23261" href="../Confluence/#plfa_plfa-part2-Confluence-23261" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23262" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23264" href="../Confluence/#plfa_plfa-part2-Confluence-23264" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23265" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23267" href="../Confluence/#plfa_plfa-part2-Confluence-23267" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-23268" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23270" href="../Confluence/#plfa_plfa-part2-Confluence-23270" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23271" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23273" href="../Confluence/#plfa_plfa-part2-Confluence-23273" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-23275" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23277" href="../Confluence/#plfa_plfa-part2-Confluence-23277" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-23280" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23281" href="../Confluence/#plfa_plfa-part2-Confluence-23267" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-23283" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23286" href="../Confluence/#plfa_plfa-part2-Confluence-23286" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Confluence-23290" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23292" href="../Confluence/#plfa_plfa-part2-Confluence-23292" class="Bound">m&#39;n&#39;</a><a id="plfa_plfa-part2-Confluence-23296" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-23300" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23305" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-23311" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23312" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-23325" href="../Confluence/#plfa_plfa-part2-Confluence-23286" class="Bound">mm&#39;</a><a id="plfa_plfa-part2-Confluence-23328" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23330" href="../Confluence/#plfa_plfa-part2-Confluence-23292" class="Bound">m&#39;n&#39;</a>
<a id="plfa_plfa-part2-Confluence-23335" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-23339" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23341" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23343" href="../Confluence/#plfa_plfa-part2-Confluence-23343" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23345" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23347" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23349" href="../Confluence/#plfa_plfa-part2-Confluence-23349" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-23353" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23355" href="../Confluence/#plfa_plfa-part2-Confluence-23355" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-23360" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23362" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23364" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-23366" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23368" href="../Confluence/#plfa_plfa-part2-Confluence-23343" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23370" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23372" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23374" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23376" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23379" href="../Confluence/#plfa_plfa-part2-Confluence-18576" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-23392" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-23395" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23397" href="../Confluence/#plfa_plfa-part2-Confluence-23349" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-23401" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23403" href="../Confluence/#plfa_plfa-part2-Confluence-23355" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-23408" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23410" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
</pre><p>平行归约合流性的证明现在通过对序列 <code>M ⇛* N</code> 归纳来完成，并在归纳步骤使用上述引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-confluence"></a><a id="plfa_plfa-part2-Confluence-23628" href="../Confluence/#plfa_plfa-part2-Confluence-23628" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23643" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23645" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-23647" href="../Confluence/#plfa_plfa-part2-Confluence-23647" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23649" href="../Confluence/#plfa_plfa-part2-Confluence-23649" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23650" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23652" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23653" href="../Confluence/#plfa_plfa-part2-Confluence-23653" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23655" href="../Confluence/#plfa_plfa-part2-Confluence-23655" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-23658" href="../Confluence/#plfa_plfa-part2-Confluence-23658" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23661" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23663" href="../Confluence/#plfa_plfa-part2-Confluence-23647" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23665" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23667" href="../Confluence/#plfa_plfa-part2-Confluence-23649" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23668" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-23672" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23674" href="../Confluence/#plfa_plfa-part2-Confluence-23653" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23676" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23679" href="../Confluence/#plfa_plfa-part2-Confluence-23655" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-23684" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23686" href="../Confluence/#plfa_plfa-part2-Confluence-23653" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23688" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23691" href="../Confluence/#plfa_plfa-part2-Confluence-23658" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-23698" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-23737" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23739" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-23742" href="../Confluence/#plfa_plfa-part2-Confluence-23742" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23744" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-23746" href="../Confluence/#plfa_plfa-part2-Confluence-23647" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23748" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23750" href="../Confluence/#plfa_plfa-part2-Confluence-23649" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-23752" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-23754" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23755" href="../Confluence/#plfa_plfa-part2-Confluence-23655" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-23758" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23761" href="../Confluence/#plfa_plfa-part2-Confluence-23742" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23762" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23764" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-23766" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23767" href="../Confluence/#plfa_plfa-part2-Confluence-23658" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23770" href="../Confluence/#plfa_plfa-part2-Confluence-4720" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23773" href="../Confluence/#plfa_plfa-part2-Confluence-23742" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23774" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-23776" href="../Confluence/#plfa_plfa-part2-Confluence-23628" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23791" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23792" href="../Confluence/#plfa_plfa-part2-Confluence-23792" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23793" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23795" href="../Confluence/#plfa_plfa-part2-Confluence-23795" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23796" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23798" href="../Confluence/#plfa_plfa-part2-Confluence-23798" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23799" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23801" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-23802" href="../Confluence/#plfa_plfa-part2-Confluence-23798" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-23803" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23805" href="../Confluence/#plfa_plfa-part2-Confluence-23805" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23806" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23808" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23809" href="../Confluence/#plfa_plfa-part2-Confluence-23798" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23811" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-23812" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23814" href="../Confluence/#plfa_plfa-part2-Confluence-23814" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23819" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-23821" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23823" href="../Confluence/#plfa_plfa-part2-Confluence-23805" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23825" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23827" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23829" href="../Confluence/#plfa_plfa-part2-Confluence-23814" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23834" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23836" href="../Confluence/#plfa_plfa-part2-Confluence-23805" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23838" href="../Confluence/#plfa_plfa-part2-Confluence-4770" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-23840" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23842" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-23844" href="../Confluence/#plfa_plfa-part2-Confluence-23628" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23859" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23860" href="../Confluence/#plfa_plfa-part2-Confluence-23860" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23861" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23863" href="../Confluence/#plfa_plfa-part2-Confluence-23863" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23864" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23866" href="../Confluence/#plfa_plfa-part2-Confluence-23866" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23867" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23869" href="../Confluence/#plfa_plfa-part2-Confluence-23869" class="Bound">M₁′</a><a id="plfa_plfa-part2-Confluence-23872" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23874" href="../Confluence/#plfa_plfa-part2-Confluence-23874" class="Bound">M₂</a><a id="plfa_plfa-part2-Confluence-23876" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23878" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23879" href="../Confluence/#plfa_plfa-part2-Confluence-23866" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23881" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23884" href="../Confluence/#plfa_plfa-part2-Confluence-23884" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23889" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23891" href="../Confluence/#plfa_plfa-part2-Confluence-23891" class="Bound">M₁⇛*M₁′</a><a id="plfa_plfa-part2-Confluence-23898" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23900" href="../Confluence/#plfa_plfa-part2-Confluence-23900" class="Bound">L⇛*M₂</a>
    <a id="plfa_plfa-part2-Confluence-23910" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23915" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-23921" href="../Confluence/#plfa_plfa-part2-Confluence-23884" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23926" href="../Confluence/#plfa_plfa-part2-Confluence-23900" class="Bound">L⇛*M₂</a>
<a id="plfa_plfa-part2-Confluence-23932" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-23936" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23938" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23940" href="../Confluence/#plfa_plfa-part2-Confluence-23940" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23942" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23944" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23946" href="../Confluence/#plfa_plfa-part2-Confluence-23946" class="Bound">M₁⇛*N</a> <a id="plfa_plfa-part2-Confluence-23952" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23954" href="../Confluence/#plfa_plfa-part2-Confluence-23954" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-23959" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23961" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
      <a id="plfa_plfa-part2-Confluence-23969" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23974" href="../Confluence/#plfa_plfa-part2-Confluence-23628" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23989" class="Bound">M₁⇛*M₁′</a> <a id="plfa_plfa-part2-Confluence-23997" href="../Confluence/#plfa_plfa-part2-Confluence-23946" class="Bound">M₁⇛*N</a>
<a id="plfa_plfa-part2-Confluence-24003" class="Symbol">...</a>   <a id="plfa_plfa-part2-Confluence-24009" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-24011" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24013" href="../Confluence/#plfa_plfa-part2-Confluence-24013" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-24016" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24018" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24020" href="../Confluence/#plfa_plfa-part2-Confluence-24020" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-24028" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24030" href="../Confluence/#plfa_plfa-part2-Confluence-24030" class="Bound">N⇛*N′</a> <a id="plfa_plfa-part2-Confluence-24036" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24038" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24040" class="Symbol">=</a>
        <a id="plfa_plfa-part2-Confluence-24050" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24052" href="../Confluence/#plfa_plfa-part2-Confluence-24013" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-24055" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24057" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24059" href="../Confluence/#plfa_plfa-part2-Confluence-24020" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-24067" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24069" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24070" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-24073" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-24076" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-24081" href="../Confluence/#plfa_plfa-part2-Confluence-4826" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24083" href="../Confluence/#plfa_plfa-part2-Confluence-24030" class="Bound">N⇛*N′</a><a id="plfa_plfa-part2-Confluence-24088" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-24090" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24092" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
</pre><p>归纳步骤可以如下图解释：</p><pre><code>        L
       / \
      1   *
     /     \
    M₁ (a)  M₂
   / \     /
  *   *   1
 /     \ /
M₁′(b)  N
 \     /
  *   *
   \ /
    N′</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。 此处 <code>(a)</code> 根据 <code>strip</code> 而成立，<code>(b)</code> 根据归纳假设而成立。</p><h2 id="归约合流性的证明">归约合流性的证明</h2><p>归约的合流性是平行归约合流性的一个推论。 从 <code>L —↠ M₁</code> 和 <code>L —↠ M₂</code> 根据 <code>betas-pars</code> 我们有 <code>L ⇛* M₁</code> 和 <code>L ⇛* M₂</code>。 接着根据合流性我们得到对于某个 <code>L</code> 有 <code>M₁ ⇛* N</code> 和 <code>M₂ ⇛* N</code>。 因此我们根据 <code>pars-betas</code> 得出 <code>M₁ —↠ N</code> 和 <code>M₂ —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-confluence"></a><a id="plfa_plfa-part2-Confluence-25145" href="../Confluence/#plfa_plfa-part2-Confluence-25145" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-25156" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-25158" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-25160" href="../Confluence/#plfa_plfa-part2-Confluence-25160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-25162" href="../Confluence/#plfa_plfa-part2-Confluence-25162" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-25163" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-25165" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-25166" href="../Confluence/#plfa_plfa-part2-Confluence-25166" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-25168" href="../Confluence/#plfa_plfa-part2-Confluence-25168" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-25171" href="../Confluence/#plfa_plfa-part2-Confluence-25171" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-25174" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-25176" href="../Confluence/#plfa_plfa-part2-Confluence-25160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-25178" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-25180" href="../Confluence/#plfa_plfa-part2-Confluence-25162" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-25181" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-25185" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-25187" href="../Confluence/#plfa_plfa-part2-Confluence-25166" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-25189" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-25192" href="../Confluence/#plfa_plfa-part2-Confluence-25168" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-25197" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-25199" href="../Confluence/#plfa_plfa-part2-Confluence-25166" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-25201" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-25204" href="../Confluence/#plfa_plfa-part2-Confluence-25171" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-25211" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-25249" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-25251" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-25254" href="../Confluence/#plfa_plfa-part2-Confluence-25254" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-25256" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-25258" href="../Confluence/#plfa_plfa-part2-Confluence-25160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-25260" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-25262" href="../Confluence/#plfa_plfa-part2-Confluence-25162" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-25264" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-25266" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-25267" href="../Confluence/#plfa_plfa-part2-Confluence-25168" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-25270" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-25273" href="../Confluence/#plfa_plfa-part2-Confluence-25254" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-25274" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-25276" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-25278" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-25279" href="../Confluence/#plfa_plfa-part2-Confluence-25171" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-25282" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-25285" href="../Confluence/#plfa_plfa-part2-Confluence-25254" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-25286" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-25288" href="../Confluence/#plfa_plfa-part2-Confluence-25145" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-25299" href="../Confluence/#plfa_plfa-part2-Confluence-25299" class="Bound">L↠M₁</a> <a id="plfa_plfa-part2-Confluence-25304" href="../Confluence/#plfa_plfa-part2-Confluence-25304" class="Bound">L↠M₂</a>
    <a id="plfa_plfa-part2-Confluence-25313" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-25318" href="../Confluence/#plfa_plfa-part2-Confluence-23628" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-25333" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-25334" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-25345" href="../Confluence/#plfa_plfa-part2-Confluence-25299" class="Bound">L↠M₁</a><a id="plfa_plfa-part2-Confluence-25349" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-25351" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-25352" href="../Confluence/#plfa_plfa-part2-Confluence-6231" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-25363" href="../Confluence/#plfa_plfa-part2-Confluence-25304" class="Bound">L↠M₂</a><a id="plfa_plfa-part2-Confluence-25367" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-25369" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-25373" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-25375" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-25377" href="../Confluence/#plfa_plfa-part2-Confluence-25377" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-25379" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-25381" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-25383" href="../Confluence/#plfa_plfa-part2-Confluence-25383" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-25388" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-25390" href="../Confluence/#plfa_plfa-part2-Confluence-25390" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-25395" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-25397" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-25399" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Confluence-25407" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-25409" href="../Confluence/#plfa_plfa-part2-Confluence-25377" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-25411" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-25413" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-25415" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-25426" href="../Confluence/#plfa_plfa-part2-Confluence-25383" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-25431" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-25433" href="../Confluence/#plfa_plfa-part2-Confluence-8794" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-25444" href="../Confluence/#plfa_plfa-part2-Confluence-25390" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-25449" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-25451" href="../Confluence/#plfa_plfa-part2-Confluence-2940" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>总而言之，这种机械化的合流性证明基于几个来源。 <code>subst-par</code> 引理是 <span class="citation" data-cites="Schafer:2015">Schäfer, Tebbi, and Smolka (2015)</span> 的「强替换性（Strong Substitutivity）」 引理。 <code>par-triangle</code>、<code>strip</code> 和 <code>par-confluence</code> 的证明基于 <span class="citation" data-cites="Takahashi:1995">Takahashi (1995)</span> 完全发展的概念，以及 <span class="citation" data-cites="Pfenning:1992">Pfenning (1992)</span> 关于 Church-Rosser 定理的技术报告。 此外，我们询问了 Nipkow 和 Berghofer 在 Isabelle 中的机械化， 它基于 <span class="citation" data-cites="Nipkow:1996">Nipkow (1996)</span> 的早期论文。</p><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>⇛  U+21DB  RIGHTWARDS TRIPLE ARROW (\r== or \Rrightarrow)
⁺  U+207A  SUPERSCRIPT PLUS SIGN   (\^+)</code></pre><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Nipkow:1996" class="csl-entry" role="listitem">Nipkow, Tobias. 1996. <span>“More Church-Rosser Proofs (in Isabelle/HOL).”</span> In <em>Proceedings of the 13th International Conference on Automated Deduction: Automated Deduction</em>, 733–47. CADE-13. Berlin, Heidelberg: Springer-Verlag.</div><div id="ref-Pfenning:1992" class="csl-entry" role="listitem">Pfenning, Frank. 1992. <span>“A Proof of the Church-Rosser Theorem and Its Representation in a Logical Framework.”</span> CMU-CS-92-186. Carnegie Mellon University; Carnegie Mellon University.</div><div id="ref-Schafer:2015" class="csl-entry" role="listitem">Schäfer, Steven, Tobias Tebbi, and Gert Smolka. 2015. <span>“Autosubst: Reasoning with de Bruijn Terms and Parallel Substitutions.”</span> In <em>Interactive Theorem Proving: 6th International Conference, ITP 2015, Nanjing, China, August 24-27, 2015, Proceedings 6</em>, 359–74. Springer.</div><div id="ref-Takahashi:1995" class="csl-entry" role="listitem">Takahashi, M. 1995. <span>“Parallel Reductions in λ-Calculus.”</span> <em>Information and Computation</em> 118 (1): 120–27. https://doi.org/<a href="https://doi.org/10.1006/inco.1995.1057">https://doi.org/10.1006/inco.1995.1057</a>.</div></div></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：starxingchenc<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer><script src="../assets/js/ruby-tags.js" integrity="sha512-ohLx3ydhHH5A2SRALHSSKZ1WRfgHk35NR9ef+bnxc1XgZCXDRYG5oNYdx2STnACcshdWXXnPjb5doJLM6Zhaew==" id="script-ruby-tags"></script></body></html>