<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Confluence</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Confluence: 无类型 λ-演算的合流性</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Confluence-130" class="Keyword">module</a> <a id="plfa_plfa-part2-Confluence-137" href="../Confluence/#" class="Module">plfa.part2.Confluence</a> <a id="plfa_plfa-part2-Confluence-159" class="Keyword">where</a>
</pre><h2 id="简介">简介</h2><p>在这一章我们将证明 β-规约是<strong>合流的（Confluent）</strong> （又被称作 <em>Church-Rosser</em> 性质）： 如果有从任一项 <code>L</code> 至两个不同项 <code>M₁</code> 和 <code>M₂</code> 的规约序列， 那么一定存在从这两个项至某个相同项 <code>N</code> 的规约序列。 如图：</p><pre><code>    L
   / \
  /   \
 /     \
M₁      M₂
 \     /
  \   /
   \ /
    N</code></pre><p>其中向下的线是 <code>-↠</code> 的实例。</p><p>合流性（Confluence）也在许多 λ-演算外的重写系统中被研究， 并且如何在满足<strong>菱形性质（Diamond Property）</strong>， 一种合流性的单步版本的重写系统中证明合流性是广为人知的。 令 <code>⇛</code> 为一个关系。<code>⇛</code> 具有菱形性质， 如果对于任何 <code>L ⇛ M₁</code> 和 <code>L ⇛ M₂</code> 都存在 <code>N</code> ， 使得 <code>M₁ ⇛ N</code> 和 <code>M₂ ⇛ N</code>。 这只是上图的另一个例子，此处向下的线代表 <code>⇛</code>。 如果我们将 <code>⇛</code> 的自反传递闭包写作 <code>⇛*</code>， 那么可以立即从菱形性质推出 <code>⇛*</code> 的合流性。</p><p>不幸的是 λ-演算的规约并不满足菱形性质。这是一个反例：</p><pre><code>(λ x. x x)((λ x. x) a) —→ (λ x. x x) a
(λ x. x x)((λ x. x) a) —→ ((λ x. x) a) ((λ x. x) a)</code></pre><p>两个项都可以规约至 <code>a a</code>，但第二项需要两步来完成，而不是一步。</p><p>为了回避这个问题，我们将定义一个辅助规约关系， 称为<strong>平行规约（Parallel Reduction）</strong> ， 它可以同时执行许多规约并因此满足菱形性质。 更进一步地，我们将证明在两个项间存在平行规约序列当且仅当这两个项间存在 β-规约序列。 因此，我们可以将 β-规约序列合流性的证明约化为平行规约合流性的证明。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Confluence-2749" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2754" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2761" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Confluence-2799" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2805" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2806" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Confluence-2809" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2811" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Confluence-2815" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2817" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2822" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2829" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Confluence-2838" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2844" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2845" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Confluence-2848" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2850" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2855" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2862" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Confluence-2875" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2881" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2882" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Confluence-2885" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2887" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part2-Confluence-2888" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2890" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part2-Confluence-2898" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2900" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part2-Confluence-2901" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2903" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part2-Confluence-2911" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2913" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part2-Confluence-2918" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-2920" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part2-Confluence-2925" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-2929" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Confluence-2938" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2939" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Confluence-2943" class="Symbol">to</a> <a id="plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Confluence-2951" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-2953" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-2958" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-2965" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part2-Confluence-2989" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-2995" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-2996" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a><a id="plfa_plfa-part2-Confluence-3002" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3004" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a><a id="plfa_plfa-part2-Confluence-3009" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-3011" class="Keyword">open</a> <a id="plfa_plfa-part2-Confluence-3016" class="Keyword">import</a> <a id="plfa_plfa-part2-Confluence-3023" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part2-Confluence-3044" class="Keyword">using</a> <a id="plfa_plfa-part2-Confluence-3050" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3051" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">_—→_</a><a id="plfa_plfa-part2-Confluence-3055" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3057" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Confluence-3058" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3060" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a><a id="plfa_plfa-part2-Confluence-3062" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3064" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a><a id="plfa_plfa-part2-Confluence-3066" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3068" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a><a id="plfa_plfa-part2-Confluence-3069" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3071" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">_—↠_</a><a id="plfa_plfa-part2-Confluence-3075" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3077" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin_</a><a id="plfa_plfa-part2-Confluence-3083" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3085" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3092" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3094" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">_—↠⟨_⟩_</a><a id="plfa_plfa-part2-Confluence-3101" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3103" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">_∎</a><a id="plfa_plfa-part2-Confluence-3105" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3109" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a><a id="plfa_plfa-part2-Confluence-3117" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3119" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-3128" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3130" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-3139" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3141" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a><a id="plfa_plfa-part2-Confluence-3149" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3153" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part2-Confluence-3156" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3158" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part2-Confluence-3161" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3163" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part2-Confluence-3165" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3167" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#_</a><a id="plfa_plfa-part2-Confluence-3169" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3171" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part2-Confluence-3174" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3176" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3177" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3179" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part2-Confluence-3181" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3183" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part2-Confluence-3186" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3188" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">_[_]</a><a id="plfa_plfa-part2-Confluence-3192" class="Symbol">;</a>
  <a id="plfa_plfa-part2-Confluence-3196" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a><a id="plfa_plfa-part2-Confluence-3202" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3204" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a><a id="plfa_plfa-part2-Confluence-3207" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3209" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a><a id="plfa_plfa-part2-Confluence-3213" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3215" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-3216" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3218" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part2-Confluence-3220" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3222" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a><a id="plfa_plfa-part2-Confluence-3227" class="Symbol">;</a> <a id="plfa_plfa-part2-Confluence-3229" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a><a id="plfa_plfa-part2-Confluence-3239" class="Symbol">)</a>
</pre><h2 id="平行规约">平行规约</h2><p>平行规约关系被定义如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-3374" class="Keyword">infix</a> <a id="plfa_plfa-part2-Confluence-3380" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-3382" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">_⇛_</a>

<a id="plfa_plfa-part2-Confluence-3387" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛_"></a><a id="plfa_plfa-part2-Confluence-3392" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">_⇛_</a> <a id="plfa_plfa-part2-Confluence-3396" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3398" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-3400" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-3401" href="../Confluence/#plfa_plfa-part2-Confluence-3401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3403" href="../Confluence/#plfa_plfa-part2-Confluence-3403" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3404" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-3406" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3408" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3409" href="../Confluence/#plfa_plfa-part2-Confluence-3401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3411" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3413" href="../Confluence/#plfa_plfa-part2-Confluence-3403" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3414" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3416" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3418" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3419" href="../Confluence/#plfa_plfa-part2-Confluence-3401" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3421" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3423" href="../Confluence/#plfa_plfa-part2-Confluence-3403" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3424" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3426" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3428" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-3432" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pvar"></a><a id="plfa_plfa-part2-Confluence-3441" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-3446" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3448" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3450" href="../Confluence/#plfa_plfa-part2-Confluence-3450" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3452" href="../Confluence/#plfa_plfa-part2-Confluence-3452" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3453" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3455" href="../Confluence/#plfa_plfa-part2-Confluence-3455" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-3457" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3459" href="../Confluence/#plfa_plfa-part2-Confluence-3450" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3461" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-3463" href="../Confluence/#plfa_plfa-part2-Confluence-3452" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-3464" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Confluence-3472" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-3486" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3488" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3489" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3491" href="../Confluence/#plfa_plfa-part2-Confluence-3455" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3492" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3494" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3496" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3497" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-3499" href="../Confluence/#plfa_plfa-part2-Confluence-3455" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-3500" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pabs"></a><a id="plfa_plfa-part2-Confluence-3505" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-3510" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3512" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3514" href="../Confluence/#plfa_plfa-part2-Confluence-3514" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3515" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3517" href="../Confluence/#plfa_plfa-part2-Confluence-3517" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3519" href="../Confluence/#plfa_plfa-part2-Confluence-3519" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3522" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3524" href="../Confluence/#plfa_plfa-part2-Confluence-3514" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3526" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3528" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3530" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3532" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3533" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3539" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3541" href="../Confluence/#plfa_plfa-part2-Confluence-3517" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3543" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3545" href="../Confluence/#plfa_plfa-part2-Confluence-3519" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Confluence-3554" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Confluence-3569" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3571" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3573" href="../Confluence/#plfa_plfa-part2-Confluence-3517" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3575" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3577" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3579" href="../Confluence/#plfa_plfa-part2-Confluence-3519" class="Bound">N′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.papp"></a><a id="plfa_plfa-part2-Confluence-3585" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-3590" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3592" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3594" href="../Confluence/#plfa_plfa-part2-Confluence-3594" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3595" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3597" href="../Confluence/#plfa_plfa-part2-Confluence-3597" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3599" href="../Confluence/#plfa_plfa-part2-Confluence-3599" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3602" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3604" href="../Confluence/#plfa_plfa-part2-Confluence-3604" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3607" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3609" href="../Confluence/#plfa_plfa-part2-Confluence-3594" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3611" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3613" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3614" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3620" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3622" href="../Confluence/#plfa_plfa-part2-Confluence-3597" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3624" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3626" href="../Confluence/#plfa_plfa-part2-Confluence-3599" class="Bound">L′</a>
    <a id="plfa_plfa-part2-Confluence-3633" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3635" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3637" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3639" href="../Confluence/#plfa_plfa-part2-Confluence-3604" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3648" class="Comment">-----------------</a>
    <a id="plfa_plfa-part2-Confluence-3670" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3672" href="../Confluence/#plfa_plfa-part2-Confluence-3597" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-3674" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3676" href="../Confluence/#plfa_plfa-part2-Confluence-3602" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3678" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3680" href="../Confluence/#plfa_plfa-part2-Confluence-3599" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-3683" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3685" href="../Confluence/#plfa_plfa-part2-Confluence-3604" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Confluence-_⇛_.pbeta"></a><a id="plfa_plfa-part2-Confluence-3691" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-3697" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3699" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-3701" href="../Confluence/#plfa_plfa-part2-Confluence-3701" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-3702" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3704" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3706" href="../Confluence/#plfa_plfa-part2-Confluence-3706" class="Bound">N′</a>  <a id="plfa_plfa-part2-Confluence-3710" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3712" href="../Confluence/#plfa_plfa-part2-Confluence-3701" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3714" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-3716" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-3718" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3720" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3721" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-3723" href="../Confluence/#plfa_plfa-part2-Confluence-3723" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3725" href="../Confluence/#plfa_plfa-part2-Confluence-3725" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3728" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-3730" href="../Confluence/#plfa_plfa-part2-Confluence-3701" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-3732" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-3734" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-3735" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-3741" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3743" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-3745" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3747" href="../Confluence/#plfa_plfa-part2-Confluence-3706" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-3754" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3756" href="../Confluence/#plfa_plfa-part2-Confluence-3723" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-3758" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-3760" href="../Confluence/#plfa_plfa-part2-Confluence-3725" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Confluence-3769" class="Comment">-----------------------</a>
    <a id="plfa_plfa-part2-Confluence-3797" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-3799" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-3800" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-3802" href="../Confluence/#plfa_plfa-part2-Confluence-3704" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-3803" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-3805" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-3807" href="../Confluence/#plfa_plfa-part2-Confluence-3723" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-3810" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a>  <a id="plfa_plfa-part2-Confluence-3813" href="../Confluence/#plfa_plfa-part2-Confluence-3706" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-3816" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-3818" href="../Confluence/#plfa_plfa-part2-Confluence-3725" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-3821" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a>
</pre><p>前三种规则是同时规约每个部分的合同性。 最后一个规则平行地规约一个 λ-项和另一个项，接着是一步 β-规约。</p><p>我们注意到 <code>pabs</code>、<code>papp</code> 和 <code>pbeta</code> 规则同时对它们的所有子表达式执行归约。 此外，<code>pabs</code> 规则类似于 <code>ζ</code> 规则，<code>pbeta</code> 类似于 <code>β</code> 规则。</p><p>平行规约是自反的。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-refl"></a><a id="plfa_plfa-part2-Confluence-4417" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4426" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4428" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-4430" href="../Confluence/#plfa_plfa-part2-Confluence-4430" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4432" href="../Confluence/#plfa_plfa-part2-Confluence-4432" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4433" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-4435" href="../Confluence/#plfa_plfa-part2-Confluence-4435" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4437" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4439" href="../Confluence/#plfa_plfa-part2-Confluence-4430" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4441" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4443" href="../Confluence/#plfa_plfa-part2-Confluence-4432" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4444" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4446" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4448" href="../Confluence/#plfa_plfa-part2-Confluence-4435" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4450" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4452" href="../Confluence/#plfa_plfa-part2-Confluence-4435" class="Bound">M</a>
<a id="plfa_plfa-part2-Confluence-4454" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4463" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4464" href="../Confluence/#plfa_plfa-part2-Confluence-4464" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4465" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4467" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4468" href="../Confluence/#plfa_plfa-part2-Confluence-4468" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4469" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4471" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4472" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-4474" href="../Confluence/#plfa_plfa-part2-Confluence-4474" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-4475" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4477" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4479" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-4484" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4493" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4494" href="../Confluence/#plfa_plfa-part2-Confluence-4494" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4495" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4497" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4498" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4499" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4501" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4502" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-4504" href="../Confluence/#plfa_plfa-part2-Confluence-4504" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-4505" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4507" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4509" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-4514" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-4523" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4532" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4533" href="../Confluence/#plfa_plfa-part2-Confluence-4533" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-4534" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4536" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4537" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-4538" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4540" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4541" href="../Confluence/#plfa_plfa-part2-Confluence-4541" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4543" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-4545" href="../Confluence/#plfa_plfa-part2-Confluence-4545" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-4546" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4548" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-4550" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-4555" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-4564" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a>
</pre><p>我们定义平行规约序列如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-4669" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4676" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4678" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">_⇛*_</a>
<a id="plfa_plfa-part2-Confluence-4683" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Confluence-4690" class="Number">2</a> <a id="plfa_plfa-part2-Confluence-4692" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">_⇛⟨_⟩_</a>
<a id="plfa_plfa-part2-Confluence-4699" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Confluence-4706" class="Number">3</a> <a id="plfa_plfa-part2-Confluence-4708" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Confluence-4712" class="Keyword">data</a> <a id="plfa_plfa-part2-Confluence-_⇛*_"></a><a id="plfa_plfa-part2-Confluence-4717" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">_⇛*_</a> <a id="plfa_plfa-part2-Confluence-4722" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4724" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4726" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4727" href="../Confluence/#plfa_plfa-part2-Confluence-4727" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4729" href="../Confluence/#plfa_plfa-part2-Confluence-4729" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4730" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4732" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4734" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4735" href="../Confluence/#plfa_plfa-part2-Confluence-4727" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4737" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4739" href="../Confluence/#plfa_plfa-part2-Confluence-4729" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4740" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4742" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4744" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4745" href="../Confluence/#plfa_plfa-part2-Confluence-4727" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4747" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4749" href="../Confluence/#plfa_plfa-part2-Confluence-4729" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4750" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4752" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4754" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Confluence-4758" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._∎"></a><a id="plfa_plfa-part2-Confluence-4767" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Confluence-4770" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4772" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4774" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4775" href="../Confluence/#plfa_plfa-part2-Confluence-4775" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4777" href="../Confluence/#plfa_plfa-part2-Confluence-4777" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4778" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4780" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4781" href="../Confluence/#plfa_plfa-part2-Confluence-4781" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4783" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4785" href="../Confluence/#plfa_plfa-part2-Confluence-4775" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4787" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4789" href="../Confluence/#plfa_plfa-part2-Confluence-4777" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4790" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Confluence-4798" class="Comment">--------</a>
    <a id="plfa_plfa-part2-Confluence-4811" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4813" href="../Confluence/#plfa_plfa-part2-Confluence-4781" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4815" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4818" href="../Confluence/#plfa_plfa-part2-Confluence-4781" class="Bound">M</a>

  <a id="plfa_plfa-part2-Confluence-_⇛*_._⇛⟨_⟩_"></a><a id="plfa_plfa-part2-Confluence-4823" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">_⇛⟨_⟩_</a> <a id="plfa_plfa-part2-Confluence-4830" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4832" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-4834" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4835" href="../Confluence/#plfa_plfa-part2-Confluence-4835" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4837" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4838" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-4840" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-4841" href="../Confluence/#plfa_plfa-part2-Confluence-4841" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4843" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4845" href="../Confluence/#plfa_plfa-part2-Confluence-4835" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4847" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4849" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4850" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-4852" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-4853" href="../Confluence/#plfa_plfa-part2-Confluence-4853" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4855" href="../Confluence/#plfa_plfa-part2-Confluence-4855" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-4857" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-4859" href="../Confluence/#plfa_plfa-part2-Confluence-4835" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-4861" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-4863" href="../Confluence/#plfa_plfa-part2-Confluence-4837" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-4864" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-4870" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4872" href="../Confluence/#plfa_plfa-part2-Confluence-4841" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4874" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-4876" href="../Confluence/#plfa_plfa-part2-Confluence-4853" class="Bound">M</a>
    <a id="plfa_plfa-part2-Confluence-4882" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4884" href="../Confluence/#plfa_plfa-part2-Confluence-4853" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-4886" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4889" href="../Confluence/#plfa_plfa-part2-Confluence-4855" class="Bound">N</a>
      <a id="plfa_plfa-part2-Confluence-4897" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Confluence-4911" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-4913" href="../Confluence/#plfa_plfa-part2-Confluence-4841" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-4915" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-4918" href="../Confluence/#plfa_plfa-part2-Confluence-4855" class="Bound">N</a>
</pre><h4 id="练习-par-diamond-eg实践">练习 <code>par-diamond-eg</code>（实践）</h4><p>回顾上文中菱形性质的反例，证明在这种情况下平行规约具有菱形性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-5208" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="平行规约与规约间等价性">平行规约与规约间等价性</h2><p>此处我们证明对于任何 <code>M</code> 和 <code>N</code>，<code>M ⇛* N</code> 当且仅当 <code>M —↠ N</code>。 必要性的证明非常容易，我们开始于说明若 <code>M —→ N</code>，则 <code>M ⇛ N</code>。 该证明通过对规约 <code>M —→ N</code> 进行归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-beta-par"></a><a id="plfa_plfa-part2-Confluence-5660" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5669" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5671" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-5673" href="../Confluence/#plfa_plfa-part2-Confluence-5673" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5675" href="../Confluence/#plfa_plfa-part2-Confluence-5675" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5676" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-5678" href="../Confluence/#plfa_plfa-part2-Confluence-5678" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5680" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-5682" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-5684" href="../Confluence/#plfa_plfa-part2-Confluence-5673" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-5686" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-5688" href="../Confluence/#plfa_plfa-part2-Confluence-5675" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-5689" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-5693" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5695" href="../Confluence/#plfa_plfa-part2-Confluence-5678" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5697" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Confluence-5700" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-5706" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-5715" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-5717" href="../Confluence/#plfa_plfa-part2-Confluence-5678" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-5719" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-5721" href="../Confluence/#plfa_plfa-part2-Confluence-5680" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-5723" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5732" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5733" href="../Confluence/#plfa_plfa-part2-Confluence-5733" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5734" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5736" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5737" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5738" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5740" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5741" href="../Confluence/#plfa_plfa-part2-Confluence-5741" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5743" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5745" href="../Confluence/#plfa_plfa-part2-Confluence-5745" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5746" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5748" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5749" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Confluence-5752" href="../Confluence/#plfa_plfa-part2-Confluence-5752" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5753" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5755" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5757" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5762" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5763" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5772" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5773" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5775" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5777" href="../Confluence/#plfa_plfa-part2-Confluence-5741" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-5778" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5780" href="../Confluence/#plfa_plfa-part2-Confluence-5752" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5781" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5783" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5792" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5801" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5802" href="../Confluence/#plfa_plfa-part2-Confluence-5802" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5803" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5805" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5806" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5807" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5809" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5810" href="../Confluence/#plfa_plfa-part2-Confluence-5810" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-5812" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5814" href="../Confluence/#plfa_plfa-part2-Confluence-5814" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5815" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5817" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5818" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Confluence-5821" href="../Confluence/#plfa_plfa-part2-Confluence-5821" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5822" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5824" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5826" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-5831" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5840" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5841" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5850" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5851" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-5853" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5855" href="../Confluence/#plfa_plfa-part2-Confluence-5814" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5856" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5858" href="../Confluence/#plfa_plfa-part2-Confluence-5821" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5859" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-5861" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5870" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5871" href="../Confluence/#plfa_plfa-part2-Confluence-5871" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5872" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5874" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5875" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5876" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5878" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-5880" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5882" href="../Confluence/#plfa_plfa-part2-Confluence-5882" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5883" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5885" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-5887" href="../Confluence/#plfa_plfa-part2-Confluence-5887" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-5888" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5890" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-5892" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5894" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-5900" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a> <a id="plfa_plfa-part2-Confluence-5909" href="../Confluence/#plfa_plfa-part2-Confluence-4417" class="Function">par-refl</a>
<a id="plfa_plfa-part2-Confluence-5918" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5927" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5928" href="../Confluence/#plfa_plfa-part2-Confluence-5928" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-5929" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5931" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5932" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-5933" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5935" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-5936" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-5938" href="../Confluence/#plfa_plfa-part2-Confluence-5938" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-5939" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-5941" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5942" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Confluence-5944" href="../Confluence/#plfa_plfa-part2-Confluence-5944" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5945" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-5947" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-5949" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-5954" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-5955" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-5964" href="../Confluence/#plfa_plfa-part2-Confluence-5944" class="Bound">r</a><a id="plfa_plfa-part2-Confluence-5965" class="Symbol">)</a>
</pre><p>证明了该引理后我们便可完成必要性的证明， 即 <code>M —↠ N</code> 蕴含 <code>M ⇛* N</code>。该证明是对 <code>M —↠ N</code> 规约序列的简单归纳。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-betas-pars"></a><a id="plfa_plfa-part2-Confluence-6229" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6240" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6242" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6244" href="../Confluence/#plfa_plfa-part2-Confluence-6244" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6246" href="../Confluence/#plfa_plfa-part2-Confluence-6246" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6247" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6249" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6250" href="../Confluence/#plfa_plfa-part2-Confluence-6250" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6252" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6254" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6256" href="../Confluence/#plfa_plfa-part2-Confluence-6244" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6258" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6260" href="../Confluence/#plfa_plfa-part2-Confluence-6246" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6261" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6265" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6267" href="../Confluence/#plfa_plfa-part2-Confluence-6250" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6269" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6272" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6278" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6287" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6289" href="../Confluence/#plfa_plfa-part2-Confluence-6250" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6291" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-6294" href="../Confluence/#plfa_plfa-part2-Confluence-6252" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6296" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6307" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6308" href="../Confluence/#plfa_plfa-part2-Confluence-6308" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6309" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6311" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6312" href="../Confluence/#plfa_plfa-part2-Confluence-6312" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6313" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6315" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6316" href="../Confluence/#plfa_plfa-part2-Confluence-6316" class="Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6318" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6320" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6321" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6322" href="../Confluence/#plfa_plfa-part2-Confluence-6316" class="DottedPattern Bound">M₁</a><a id="plfa_plfa-part2-Confluence-6324" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6326" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6327" href="../Confluence/#plfa_plfa-part2-Confluence-6316" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6330" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-6331" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6333" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6335" href="../Confluence/#plfa_plfa-part2-Confluence-6316" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-6338" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6340" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6351" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6352" href="../Confluence/#plfa_plfa-part2-Confluence-6352" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6353" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6355" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6356" href="../Confluence/#plfa_plfa-part2-Confluence-6356" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6357" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6359" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6360" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-6361" href="../Confluence/#plfa_plfa-part2-Confluence-6369" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-6362" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6364" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6365" href="../Confluence/#plfa_plfa-part2-Confluence-6365" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6366" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6368" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6369" href="../Confluence/#plfa_plfa-part2-Confluence-6369" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6371" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-6375" href="../Confluence/#plfa_plfa-part2-Confluence-6375" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6377" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6379" href="../Confluence/#plfa_plfa-part2-Confluence-6379" class="Bound">bs</a><a id="plfa_plfa-part2-Confluence-6381" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6383" class="Symbol">=</a>
   <a id="plfa_plfa-part2-Confluence-6388" href="../Confluence/#plfa_plfa-part2-Confluence-6369" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-6390" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-6393" href="../Confluence/#plfa_plfa-part2-Confluence-5660" class="Function">beta-par</a> <a id="plfa_plfa-part2-Confluence-6402" href="../Confluence/#plfa_plfa-part2-Confluence-6375" class="Bound">b</a> <a id="plfa_plfa-part2-Confluence-6404" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-6406" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-6417" href="../Confluence/#plfa_plfa-part2-Confluence-6379" class="Bound">bs</a>
</pre><p>现在考虑命题的充分性，即 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code>。 充分性的证明有一点不同，因为它不是 <code>M ⇛ N</code> 蕴含 <code>M —→ N</code> 的情形。 毕竟 <code>M ⇛ N</code> 执行了许多规约， 所以我们应当证明 <code>M ⇛ N</code> 蕴含 <code>M —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-betas"></a><a id="plfa_plfa-part2-Confluence-6840" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6850" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6852" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-6854" href="../Confluence/#plfa_plfa-part2-Confluence-6854" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6856" href="../Confluence/#plfa_plfa-part2-Confluence-6856" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6857" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-6859" href="../Confluence/#plfa_plfa-part2-Confluence-6859" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6861" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-6863" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-6865" href="../Confluence/#plfa_plfa-part2-Confluence-6854" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-6867" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-6869" href="../Confluence/#plfa_plfa-part2-Confluence-6856" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6870" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-6874" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6876" href="../Confluence/#plfa_plfa-part2-Confluence-6859" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6878" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-6880" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-6886" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-6895" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-6897" href="../Confluence/#plfa_plfa-part2-Confluence-6859" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-6899" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-6902" href="../Confluence/#plfa_plfa-part2-Confluence-6861" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-6904" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6914" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6915" href="../Confluence/#plfa_plfa-part2-Confluence-6915" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6916" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6918" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6919" href="../Confluence/#plfa_plfa-part2-Confluence-6919" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-6920" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6922" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6923" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part2-Confluence-6925" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="DottedPattern InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6927" class="DottedPattern Symbol">_)</a><a id="plfa_plfa-part2-Confluence-6929" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6931" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6932" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a><a id="plfa_plfa-part2-Confluence-6936" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6937" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-6939" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6941" href="../Confluence/#plfa_plfa-part2-Confluence-6941" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6942" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-6945" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6947" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6948" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-6950" href="../Confluence/#plfa_plfa-part2-Confluence-6941" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-6951" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6953" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-6955" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-6965" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6966" href="../Confluence/#plfa_plfa-part2-Confluence-6966" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-6967" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6969" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6970" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-6971" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6973" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-6974" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-6976" href="../Confluence/#plfa_plfa-part2-Confluence-6976" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-6977" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-6979" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-6980" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-6985" href="../Confluence/#plfa_plfa-part2-Confluence-6985" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-6986" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-6988" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-6990" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-6999" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7000" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7010" href="../Confluence/#plfa_plfa-part2-Confluence-6985" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-7011" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-7013" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7023" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7024" href="../Confluence/#plfa_plfa-part2-Confluence-7024" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7025" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7027" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7028" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7029" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7031" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7032" href="../Confluence/#plfa_plfa-part2-Confluence-7032" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7034" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7036" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7037" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7039" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7040" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-7045" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7046" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7048" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7050" href="../Confluence/#plfa_plfa-part2-Confluence-7032" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-7051" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7053" href="../Confluence/#plfa_plfa-part2-Confluence-7053" class="Bound">L′</a><a id="plfa_plfa-part2-Confluence-7055" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7057" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7058" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7060" href="../Confluence/#plfa_plfa-part2-Confluence-7060" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7062" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7064" href="../Confluence/#plfa_plfa-part2-Confluence-7064" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7067" href="../Confluence/#plfa_plfa-part2-Confluence-7067" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7069" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7071" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7077" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7087" href="../Confluence/#plfa_plfa-part2-Confluence-7032" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-7089" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7091" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">M</a>   <a id="plfa_plfa-part2-Confluence-7095" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7099" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7108" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7109" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7111" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7113" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7114" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7116" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7117" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7127" href="../Confluence/#plfa_plfa-part2-Confluence-7064" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7129" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7131" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7137" href="../Confluence/#plfa_plfa-part2-Confluence-7053" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7140" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7142" href="../Confluence/#plfa_plfa-part2-Confluence-7036" class="Bound">M</a>  <a id="plfa_plfa-part2-Confluence-7145" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7149" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Confluence-7159" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7160" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7170" href="../Confluence/#plfa_plfa-part2-Confluence-7067" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7172" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7174" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7180" href="../Confluence/#plfa_plfa-part2-Confluence-7053" class="Bound">L′</a> <a id="plfa_plfa-part2-Confluence-7183" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7185" href="../Confluence/#plfa_plfa-part2-Confluence-7060" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-7192" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-7194" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7204" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7205" href="../Confluence/#plfa_plfa-part2-Confluence-7205" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-7206" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7208" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7209" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-7210" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7212" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-7214" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7216" href="../Confluence/#plfa_plfa-part2-Confluence-7216" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7217" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7219" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7221" href="../Confluence/#plfa_plfa-part2-Confluence-7221" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7222" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7224" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7225" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-7230" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7231" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-7234" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7236" href="../Confluence/#plfa_plfa-part2-Confluence-7236" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7238" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-7240" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-7243" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7245" href="../Confluence/#plfa_plfa-part2-Confluence-7245" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-7247" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7249" href="../Confluence/#plfa_plfa-part2-Confluence-7249" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-7252" href="../Confluence/#plfa_plfa-part2-Confluence-7252" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7254" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7256" class="Symbol">=</a>
    <a id="plfa_plfa-part2-Confluence-7262" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Confluence-7272" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7273" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7275" href="../Confluence/#plfa_plfa-part2-Confluence-7216" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-7276" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7278" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7280" href="../Confluence/#plfa_plfa-part2-Confluence-7221" class="Bound">M</a>                    <a id="plfa_plfa-part2-Confluence-7301" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7305" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a><a id="plfa_plfa-part2-Confluence-7314" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7315" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-7317" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7319" href="../Confluence/#plfa_plfa-part2-Confluence-7221" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-7320" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7322" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7323" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Confluence-7332" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7333" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7343" href="../Confluence/#plfa_plfa-part2-Confluence-7249" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-7345" class="Symbol">))</a> <a id="plfa_plfa-part2-Confluence-7348" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7354" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7355" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7357" href="../Confluence/#plfa_plfa-part2-Confluence-7236" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7359" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7361" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7363" href="../Confluence/#plfa_plfa-part2-Confluence-7221" class="Bound">M</a>                   <a id="plfa_plfa-part2-Confluence-7383" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Confluence-7387" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a><a id="plfa_plfa-part2-Confluence-7396" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-7397" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-7399" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-7401" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7403" href="../Confluence/#plfa_plfa-part2-Confluence-7236" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7405" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-7407" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7408" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-7418" href="../Confluence/#plfa_plfa-part2-Confluence-7252" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-7420" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-7423" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">⟩</a>
    <a id="plfa_plfa-part2-Confluence-7429" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-7430" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-7432" href="../Confluence/#plfa_plfa-part2-Confluence-7236" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-7434" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-7436" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-7438" href="../Confluence/#plfa_plfa-part2-Confluence-7245" class="Bound">M′</a>                  <a id="plfa_plfa-part2-Confluence-7458" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Confluence-7462" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Confluence-7464" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
     <a id="plfa_plfa-part2-Confluence-7471" href="../Confluence/#plfa_plfa-part2-Confluence-7236" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-7474" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-7476" href="../Confluence/#plfa_plfa-part2-Confluence-7245" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-7479" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a>
    <a id="plfa_plfa-part2-Confluence-7485" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
</pre><p>该证明通过对 <code>M ⇛ N</code> 进行归纳。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们立刻有 <code>x —↠ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。根据归纳假设我们有 <code>N —↠ N′</code>。 我们得出 <code>ƛ N —↠ ƛ N′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>L —↠ L′</code> 和 <code>M —↠ M′</code>。 所以有 <code>L · M —↠ L′ · M</code> 以及 <code>L′ · M —↠ L′ · M′</code> 因为 <code>—↠</code> 具有合同性。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据类似的原因，我们有 <code>(ƛ N) · M —↠ (ƛ N′) · M′</code>， 接着应用 β-规约我们得到 <code>(ƛ N′) · M′ —→ N′ [ M′ ]</code>。</p></li></ul><p>证明了该引理后我们便可通过对 <code>M ⇛* N</code> 的一步简单归纳完成 <code>M ⇛* N</code> 蕴含 <code>M —↠ N</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-pars-betas"></a><a id="plfa_plfa-part2-Confluence-8792" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8803" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8805" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-8807" href="../Confluence/#plfa_plfa-part2-Confluence-8807" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8809" href="../Confluence/#plfa_plfa-part2-Confluence-8809" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8810" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-8812" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-8813" href="../Confluence/#plfa_plfa-part2-Confluence-8813" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8815" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-8817" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-8819" href="../Confluence/#plfa_plfa-part2-Confluence-8807" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-8821" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-8823" href="../Confluence/#plfa_plfa-part2-Confluence-8809" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-8824" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-8828" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8830" href="../Confluence/#plfa_plfa-part2-Confluence-8813" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8832" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-8835" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-8841" class="Comment">------</a>
  <a id="plfa_plfa-part2-Confluence-8850" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-8852" href="../Confluence/#plfa_plfa-part2-Confluence-8813" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-8854" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-8857" href="../Confluence/#plfa_plfa-part2-Confluence-8815" class="Bound">N</a>
<a id="plfa_plfa-part2-Confluence-8859" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8870" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8871" href="../Confluence/#plfa_plfa-part2-Confluence-8871" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8874" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-8875" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8877" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8879" href="../Confluence/#plfa_plfa-part2-Confluence-8871" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-8882" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Confluence-8884" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8895" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8896" href="../Confluence/#plfa_plfa-part2-Confluence-8896" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-8898" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-8901" href="../Confluence/#plfa_plfa-part2-Confluence-8901" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-8903" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-8905" href="../Confluence/#plfa_plfa-part2-Confluence-8905" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8907" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8909" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-8911" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Confluence-8920" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8921" href="../Confluence/#plfa_plfa-part2-Confluence-6840" class="Function">par-betas</a> <a id="plfa_plfa-part2-Confluence-8931" href="../Confluence/#plfa_plfa-part2-Confluence-8901" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-8932" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-8934" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-8935" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-8946" href="../Confluence/#plfa_plfa-part2-Confluence-8905" class="Bound">ps</a><a id="plfa_plfa-part2-Confluence-8948" class="Symbol">)</a>
</pre><h2 id="平行规约的替换引理">平行规约的替换引理</h2><p>我们的下一个目标是对平行规约证明菱形性质。 为了完成该证明，我们还需证明替换遵从平行规约。 也就是说，如果有 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>，那么 <code>N [ M ] ⇛ N′ [ M′ ]</code>。 我们不能直接通过归纳证明它，所以我们将其推广为： 如果 <code>N ⇛ N′</code> 并且替换 <code>σ</code> 逐点（Pointwise）平行规约至 <code>τ</code>， 则 <code>subst σ N ⇛ subst τ N′</code>。 我们如下定义逐点平行规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst"></a><a id="plfa_plfa-part2-Confluence-9707" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9717" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9719" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9721" href="../Confluence/#plfa_plfa-part2-Confluence-9721" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9723" href="../Confluence/#plfa_plfa-part2-Confluence-9723" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9724" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9726" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9728" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9734" href="../Confluence/#plfa_plfa-part2-Confluence-9721" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9736" href="../Confluence/#plfa_plfa-part2-Confluence-9723" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9738" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9740" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-9746" href="../Confluence/#plfa_plfa-part2-Confluence-9721" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9748" href="../Confluence/#plfa_plfa-part2-Confluence-9723" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-9750" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9752" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Confluence-9756" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-9766" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-9767" href="../Confluence/#plfa_plfa-part2-Confluence-9767" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-9768" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9770" href="../Confluence/#plfa_plfa-part2-Confluence-9770" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-9771" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9773" href="../Confluence/#plfa_plfa-part2-Confluence-9773" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9775" href="../Confluence/#plfa_plfa-part2-Confluence-9775" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9778" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-9780" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-9782" href="../Confluence/#plfa_plfa-part2-Confluence-9782" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9783" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-9785" href="../Confluence/#plfa_plfa-part2-Confluence-9785" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9787" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-9789" href="../Confluence/#plfa_plfa-part2-Confluence-9767" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-9791" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Confluence-9793" href="../Confluence/#plfa_plfa-part2-Confluence-9782" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-9794" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-9796" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-9798" href="../Confluence/#plfa_plfa-part2-Confluence-9773" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-9800" href="../Confluence/#plfa_plfa-part2-Confluence-9785" class="Bound">x</a> <a id="plfa_plfa-part2-Confluence-9802" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-9804" href="../Confluence/#plfa_plfa-part2-Confluence-9775" class="Bound">σ′</a> <a id="plfa_plfa-part2-Confluence-9807" href="../Confluence/#plfa_plfa-part2-Confluence-9785" class="Bound">x</a>
</pre><p>因为替换依赖于扩展函数 <code>exts</code>，而其又依赖于 <code>rename</code>， 我们开始于被称为 <code>par-rename</code> 的替换引理的一种版本，该引理专门用于重命名。 <code>par-rename</code> 依赖于重命名和替换可以相互交换的事实， 这是一个我们在 <a href="../Substitution/">Substitution</a> 章节引入并在此处重申的引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-rename-subst-commute"></a><a id="plfa_plfa-part2-Confluence-10401" href="../Confluence/#plfa_plfa-part2-Confluence-10401" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10422" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10424" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10426" href="../Confluence/#plfa_plfa-part2-Confluence-10426" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10428" href="../Confluence/#plfa_plfa-part2-Confluence-10428" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10429" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10431" href="../Confluence/#plfa_plfa-part2-Confluence-10431" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-10433" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10435" href="../Confluence/#plfa_plfa-part2-Confluence-10426" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10437" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-10439" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-10441" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10443" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-10444" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10446" href="../Confluence/#plfa_plfa-part2-Confluence-10446" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10448" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10450" href="../Confluence/#plfa_plfa-part2-Confluence-10426" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10452" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10454" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-10455" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10457" href="../Confluence/#plfa_plfa-part2-Confluence-10457" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10459" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10461" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-10468" href="../Confluence/#plfa_plfa-part2-Confluence-10426" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10470" href="../Confluence/#plfa_plfa-part2-Confluence-10428" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10472" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Confluence-10478" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10480" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10481" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10488" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10489" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-10493" href="../Confluence/#plfa_plfa-part2-Confluence-10457" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-10494" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10496" href="../Confluence/#plfa_plfa-part2-Confluence-10431" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10497" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10499" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-10501" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10508" href="../Confluence/#plfa_plfa-part2-Confluence-10457" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10510" href="../Confluence/#plfa_plfa-part2-Confluence-10446" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10512" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-10514" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-10516" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10523" href="../Confluence/#plfa_plfa-part2-Confluence-10457" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10525" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10526" href="../Confluence/#plfa_plfa-part2-Confluence-10431" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-10528" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-10530" href="../Confluence/#plfa_plfa-part2-Confluence-10446" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10532" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-10533" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10535" href="../Confluence/#plfa_plfa-part2-Confluence-10401" class="Function">rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10556" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10557" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-10559" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10561" href="../Confluence/#plfa_plfa-part2-Confluence-10561" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10562" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10564" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10566" href="../Substitution/#plfa_plfa-part2-Substitution-27862" class="Function">plfa.part2.Substitution.rename-subst-commute</a> <a id="plfa_plfa-part2-Confluence-10611" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10612" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-10614" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10616" href="../Confluence/#plfa_plfa-part2-Confluence-10561" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10617" class="Symbol">}</a>
</pre><p>现在证明 <code>par-rename</code> 引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-rename"></a><a id="plfa_plfa-part2-Confluence-10697" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10708" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10710" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-10712" href="../Confluence/#plfa_plfa-part2-Confluence-10712" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10714" href="../Confluence/#plfa_plfa-part2-Confluence-10714" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-10716" href="../Confluence/#plfa_plfa-part2-Confluence-10716" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10717" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10719" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10720" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10722" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10724" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part2-Confluence-10731" href="../Confluence/#plfa_plfa-part2-Confluence-10712" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10733" href="../Confluence/#plfa_plfa-part2-Confluence-10714" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10734" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10736" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10737" href="../Confluence/#plfa_plfa-part2-Confluence-10737" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10739" href="../Confluence/#plfa_plfa-part2-Confluence-10739" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-10742" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-10744" href="../Confluence/#plfa_plfa-part2-Confluence-10712" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-10746" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-10748" href="../Confluence/#plfa_plfa-part2-Confluence-10716" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10749" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-10753" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10755" href="../Confluence/#plfa_plfa-part2-Confluence-10737" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10757" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-10759" href="../Confluence/#plfa_plfa-part2-Confluence-10739" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-10766" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Confluence-10793" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-10795" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10802" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10804" href="../Confluence/#plfa_plfa-part2-Confluence-10737" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-10806" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-10808" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Confluence-10815" href="../Confluence/#plfa_plfa-part2-Confluence-10720" class="Bound">ρ</a> <a id="plfa_plfa-part2-Confluence-10817" href="../Confluence/#plfa_plfa-part2-Confluence-10739" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-10820" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10831" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-10836" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10838" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-10843" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10854" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10855" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-10860" href="../Confluence/#plfa_plfa-part2-Confluence-10860" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-10861" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10863" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10865" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-10870" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10871" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10882" href="../Confluence/#plfa_plfa-part2-Confluence-10860" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-10883" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10885" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10896" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10897" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-10902" href="../Confluence/#plfa_plfa-part2-Confluence-10902" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-10905" href="../Confluence/#plfa_plfa-part2-Confluence-10905" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-10907" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10909" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-10911" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-10916" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10917" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10928" href="../Confluence/#plfa_plfa-part2-Confluence-10902" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-10930" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-10932" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10933" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10944" href="../Confluence/#plfa_plfa-part2-Confluence-10905" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-10946" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-10948" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-10959" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10960" href="../Confluence/#plfa_plfa-part2-Confluence-10960" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-10961" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10963" href="../Confluence/#plfa_plfa-part2-Confluence-10963" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-10964" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10966" href="../Confluence/#plfa_plfa-part2-Confluence-10966" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-10967" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10969" href="../Confluence/#plfa_plfa-part2-Confluence-10969" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-10970" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10972" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-10973" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-10978" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-10979" href="../Confluence/#plfa_plfa-part2-Confluence-10960" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-10980" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10982" href="../Confluence/#plfa_plfa-part2-Confluence-10982" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-10983" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10985" href="../Confluence/#plfa_plfa-part2-Confluence-10985" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-10987" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10989" href="../Confluence/#plfa_plfa-part2-Confluence-10989" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-10990" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-10992" href="../Confluence/#plfa_plfa-part2-Confluence-10992" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-10994" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-10996" href="../Confluence/#plfa_plfa-part2-Confluence-10996" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-10999" href="../Confluence/#plfa_plfa-part2-Confluence-10999" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11001" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-11007" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-11012" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-11018" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11019" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11029" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11030" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11032" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11034" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Confluence-11038" href="../Confluence/#plfa_plfa-part2-Confluence-10969" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11039" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11041" href="../Confluence/#plfa_plfa-part2-Confluence-10996" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-11043" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-11045" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-11046" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a><a id="plfa_plfa-part2-Confluence-11056" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11057" class="Argument">ρ</a> <a id="plfa_plfa-part2-Confluence-11059" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11061" href="../Confluence/#plfa_plfa-part2-Confluence-10969" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11062" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11064" href="../Confluence/#plfa_plfa-part2-Confluence-10999" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-11066" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-11068" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-11072" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-11074" href="../Confluence/#plfa_plfa-part2-Confluence-11074" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-11076" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-11084" href="../Confluence/#plfa_plfa-part2-Confluence-10401" class="Function">rename-subst-commute</a><a id="plfa_plfa-part2-Confluence-11104" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-11105" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-11106" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11108" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-11109" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11111" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-11113" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11115" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-11117" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-11119" class="Bound">ρ</a><a id="plfa_plfa-part2-Confluence-11120" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-11122" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-11124" href="../Confluence/#plfa_plfa-part2-Confluence-11074" class="Bound">G</a>

</pre><p>证明通过对 <code>M ⇛ M′</code> 进行归纳来完成。前三种情况很简单， 所以我们只考虑最后一种，即 <code>pbeta</code>。</p><ul><li>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设，我们有 <code>rename (ext ρ) N ⇛ rename (ext ρ) N′</code> 和 <code>rename ρ M ⇛ rename ρ M′</code>。 所以根据 <code>pbeta</code> 我们有 <code>(ƛ rename (ext ρ) N) · (rename ρ M) ⇛ (rename (ext ρ) N) [ rename ρ M ]</code>。 然而，为了得出结论我们需要平行规约至 <code>rename ρ (N [ M ])</code>。 值得庆幸的是，重命名和规约可以相互交换。</li></ul><p>有了 <code>par-rename</code> 引理，很容易证明扩展替换保留了逐点平行归约关系。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-exts"></a><a id="plfa_plfa-part2-Confluence-12281" href="../Confluence/#plfa_plfa-part2-Confluence-12281" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12296" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12298" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12300" href="../Confluence/#plfa_plfa-part2-Confluence-12300" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12302" href="../Confluence/#plfa_plfa-part2-Confluence-12302" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12303" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12305" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12306" href="../Confluence/#plfa_plfa-part2-Confluence-12306" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12308" href="../Confluence/#plfa_plfa-part2-Confluence-12308" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-12310" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12312" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-12318" href="../Confluence/#plfa_plfa-part2-Confluence-12300" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12320" href="../Confluence/#plfa_plfa-part2-Confluence-12302" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12321" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-12325" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12327" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-12337" href="../Confluence/#plfa_plfa-part2-Confluence-12306" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12339" href="../Confluence/#plfa_plfa-part2-Confluence-12308" class="Bound">τ</a>
    <a id="plfa_plfa-part2-Confluence-12345" class="Comment">------------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-12390" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12392" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12394" href="../Confluence/#plfa_plfa-part2-Confluence-12394" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-12395" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12397" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12399" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-12409" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12410" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12415" href="../Confluence/#plfa_plfa-part2-Confluence-12306" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12417" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12418" class="Argument">B</a> <a id="plfa_plfa-part2-Confluence-12420" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12422" href="../Confluence/#plfa_plfa-part2-Confluence-12394" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-12423" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-12426" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12427" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12432" href="../Confluence/#plfa_plfa-part2-Confluence-12308" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-12433" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-12435" href="../Confluence/#plfa_plfa-part2-Confluence-12281" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12450" href="../Confluence/#plfa_plfa-part2-Confluence-12450" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-12452" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12453" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-12455" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12457" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-12458" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12460" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12462" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-12467" href="../Confluence/#plfa_plfa-part2-Confluence-12281" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-12482" href="../Confluence/#plfa_plfa-part2-Confluence-12482" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-12484" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-12485" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-12487" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12489" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-12491" href="../Confluence/#plfa_plfa-part2-Confluence-12491" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-12492" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-12494" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-12496" href="../Confluence/#plfa_plfa-part2-Confluence-10697" class="Function">par-rename</a> <a id="plfa_plfa-part2-Confluence-12507" href="../Confluence/#plfa_plfa-part2-Confluence-12482" class="Bound">s</a>
</pre><p>为了证明替换遵从平行规约关系，我们需要证明的下一个引理如下文所示， 它声称同时规约可以与单步规约相交换。 我们从 <a href="../Substitution/">Substitution</a> 章节导入这个引理， 并重申如下。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-commute"></a><a id="plfa_plfa-part2-Confluence-12907" href="../Confluence/#plfa_plfa-part2-Confluence-12907" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-12921" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12923" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-12925" href="../Confluence/#plfa_plfa-part2-Confluence-12925" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12927" href="../Confluence/#plfa_plfa-part2-Confluence-12927" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-12928" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12930" href="../Confluence/#plfa_plfa-part2-Confluence-12930" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-12932" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12934" href="../Confluence/#plfa_plfa-part2-Confluence-12925" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12936" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-12938" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Confluence-12940" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-12942" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-12943" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12945" href="../Confluence/#plfa_plfa-part2-Confluence-12945" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-12947" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12949" href="../Confluence/#plfa_plfa-part2-Confluence-12925" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12951" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-12953" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-12954" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-12956" href="../Confluence/#plfa_plfa-part2-Confluence-12956" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-12958" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-12960" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-12966" href="../Confluence/#plfa_plfa-part2-Confluence-12925" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-12968" href="../Confluence/#plfa_plfa-part2-Confluence-12927" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-12970" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-12974" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-12976" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-12982" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-12983" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-12988" href="../Confluence/#plfa_plfa-part2-Confluence-12956" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-12989" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-12991" href="../Confluence/#plfa_plfa-part2-Confluence-12930" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-12993" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-12995" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13001" href="../Confluence/#plfa_plfa-part2-Confluence-12956" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13003" href="../Confluence/#plfa_plfa-part2-Confluence-12945" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13005" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-13007" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part2-Confluence-13009" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13015" href="../Confluence/#plfa_plfa-part2-Confluence-12956" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13017" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13018" href="../Confluence/#plfa_plfa-part2-Confluence-12930" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-13020" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-13022" href="../Confluence/#plfa_plfa-part2-Confluence-12945" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13024" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a><a id="plfa_plfa-part2-Confluence-13025" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13027" href="../Confluence/#plfa_plfa-part2-Confluence-12907" class="Function">subst-commute</a> <a id="plfa_plfa-part2-Confluence-13041" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13042" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13044" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13046" href="../Confluence/#plfa_plfa-part2-Confluence-13046" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13047" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13049" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13051" href="../Substitution/#plfa_plfa-part2-Substitution-26317" class="Function">plfa.part2.Substitution.subst-commute</a> <a id="plfa_plfa-part2-Confluence-13089" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13090" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13092" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13094" href="../Confluence/#plfa_plfa-part2-Confluence-13046" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13095" class="Symbol">}</a>
</pre><p>我们准备好去证明替换遵从平行规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-subst-par"></a><a id="plfa_plfa-part2-Confluence-13208" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13218" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13220" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-13222" href="../Confluence/#plfa_plfa-part2-Confluence-13222" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13224" href="../Confluence/#plfa_plfa-part2-Confluence-13224" class="Bound">Δ</a> <a id="plfa_plfa-part2-Confluence-13226" href="../Confluence/#plfa_plfa-part2-Confluence-13226" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13227" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13229" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13230" href="../Confluence/#plfa_plfa-part2-Confluence-13230" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13232" href="../Confluence/#plfa_plfa-part2-Confluence-13232" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13234" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13236" href="../Substitution/#plfa_plfa-part2-Substitution-2340" class="Function">Subst</a> <a id="plfa_plfa-part2-Confluence-13242" href="../Confluence/#plfa_plfa-part2-Confluence-13222" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13244" href="../Confluence/#plfa_plfa-part2-Confluence-13224" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13245" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13247" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13248" href="../Confluence/#plfa_plfa-part2-Confluence-13248" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13250" href="../Confluence/#plfa_plfa-part2-Confluence-13250" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-13253" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-13255" href="../Confluence/#plfa_plfa-part2-Confluence-13222" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-13257" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-13259" href="../Confluence/#plfa_plfa-part2-Confluence-13226" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13260" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-13264" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13266" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-13276" href="../Confluence/#plfa_plfa-part2-Confluence-13230" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13278" href="../Confluence/#plfa_plfa-part2-Confluence-13232" class="Bound">τ</a>  <a id="plfa_plfa-part2-Confluence-13281" class="Symbol">→</a>  <a id="plfa_plfa-part2-Confluence-13284" href="../Confluence/#plfa_plfa-part2-Confluence-13248" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13286" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-13288" href="../Confluence/#plfa_plfa-part2-Confluence-13250" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-13295" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-13324" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13326" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13332" href="../Confluence/#plfa_plfa-part2-Confluence-13230" class="Bound">σ</a> <a id="plfa_plfa-part2-Confluence-13334" href="../Confluence/#plfa_plfa-part2-Confluence-13248" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-13336" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-13338" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Confluence-13344" href="../Confluence/#plfa_plfa-part2-Confluence-13232" class="Bound">τ</a> <a id="plfa_plfa-part2-Confluence-13346" href="../Confluence/#plfa_plfa-part2-Confluence-13250" class="Bound">M′</a>
<a id="plfa_plfa-part2-Confluence-13349" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13359" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13360" href="../Confluence/#plfa_plfa-part2-Confluence-13360" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13361" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13363" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13364" href="../Confluence/#plfa_plfa-part2-Confluence-13364" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13365" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13367" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13368" href="../Confluence/#plfa_plfa-part2-Confluence-13368" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13369" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13371" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13372" href="../Confluence/#plfa_plfa-part2-Confluence-13372" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13373" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13375" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13376" href="../Confluence/#plfa_plfa-part2-Confluence-13376" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13377" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13379" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13380" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-13382" href="../Confluence/#plfa_plfa-part2-Confluence-13382" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13383" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13385" href="../Confluence/#plfa_plfa-part2-Confluence-13385" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13387" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a> <a id="plfa_plfa-part2-Confluence-13392" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13394" href="../Confluence/#plfa_plfa-part2-Confluence-13385" class="Bound">s</a>
<a id="plfa_plfa-part2-Confluence-13396" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13406" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13407" href="../Confluence/#plfa_plfa-part2-Confluence-13407" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13408" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13410" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13411" href="../Confluence/#plfa_plfa-part2-Confluence-13411" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13412" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13414" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13415" href="../Confluence/#plfa_plfa-part2-Confluence-13415" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13416" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13418" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13419" href="../Confluence/#plfa_plfa-part2-Confluence-13419" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13420" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13422" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13423" href="../Confluence/#plfa_plfa-part2-Confluence-13423" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13424" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13426" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13427" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-13429" href="../Confluence/#plfa_plfa-part2-Confluence-13429" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13430" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13432" href="../Confluence/#plfa_plfa-part2-Confluence-13432" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13434" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13435" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-13440" href="../Confluence/#plfa_plfa-part2-Confluence-13440" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-13441" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13443" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-13447" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-13452" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13453" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13463" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13464" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13466" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13468" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13473" href="../Confluence/#plfa_plfa-part2-Confluence-13419" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13474" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13476" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13477" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-13479" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13481" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13486" href="../Confluence/#plfa_plfa-part2-Confluence-13423" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13487" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Confluence-13497" class="Symbol">(λ</a> <a id="plfa_plfa-part2-Confluence-13500" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13501" href="../Confluence/#plfa_plfa-part2-Confluence-13501" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13502" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13504" href="../Confluence/#plfa_plfa-part2-Confluence-13504" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13505" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13507" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13509" href="../Confluence/#plfa_plfa-part2-Confluence-12281" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13524" href="../Confluence/#plfa_plfa-part2-Confluence-13432" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13526" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13527" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13529" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13531" href="../Confluence/#plfa_plfa-part2-Confluence-13504" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13532" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-13535" href="../Confluence/#plfa_plfa-part2-Confluence-13440" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-13536" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13538" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13548" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13549" href="../Confluence/#plfa_plfa-part2-Confluence-13549" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13550" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13552" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13553" href="../Confluence/#plfa_plfa-part2-Confluence-13553" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13554" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13556" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13557" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13558" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13560" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13561" href="../Confluence/#plfa_plfa-part2-Confluence-13561" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13562" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13564" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13565" href="../Confluence/#plfa_plfa-part2-Confluence-13565" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13566" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13568" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13569" href="../Confluence/#plfa_plfa-part2-Confluence-13569" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-13571" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-13573" href="../Confluence/#plfa_plfa-part2-Confluence-13573" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-13574" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13576" href="../Confluence/#plfa_plfa-part2-Confluence-13576" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13578" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13579" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-13584" href="../Confluence/#plfa_plfa-part2-Confluence-13584" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-13587" href="../Confluence/#plfa_plfa-part2-Confluence-13587" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13589" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13591" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-13595" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-13600" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13601" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13611" href="../Confluence/#plfa_plfa-part2-Confluence-13576" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13613" href="../Confluence/#plfa_plfa-part2-Confluence-13584" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-13615" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13617" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13618" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13628" href="../Confluence/#plfa_plfa-part2-Confluence-13576" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13630" href="../Confluence/#plfa_plfa-part2-Confluence-13587" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13632" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13634" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13644" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13645" href="../Confluence/#plfa_plfa-part2-Confluence-13645" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-13646" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13648" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13649" href="../Confluence/#plfa_plfa-part2-Confluence-13649" class="Bound">Δ</a><a id="plfa_plfa-part2-Confluence-13650" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13652" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13653" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Confluence-13654" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13656" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13657" href="../Confluence/#plfa_plfa-part2-Confluence-13657" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13658" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13660" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13661" href="../Confluence/#plfa_plfa-part2-Confluence-13661" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13662" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13664" class="Symbol">{(</a><a id="plfa_plfa-part2-Confluence-13666" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-13668" href="../Confluence/#plfa_plfa-part2-Confluence-13668" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13669" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-13671" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-13673" href="../Confluence/#plfa_plfa-part2-Confluence-13673" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-13674" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13676" href="../Confluence/#plfa_plfa-part2-Confluence-13676" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13678" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13679" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a><a id="plfa_plfa-part2-Confluence-13684" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13685" class="Argument">N′</a> <a id="plfa_plfa-part2-Confluence-13688" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13690" href="../Confluence/#plfa_plfa-part2-Confluence-13690" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-13692" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13694" class="Argument">M′</a> <a id="plfa_plfa-part2-Confluence-13697" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13699" href="../Confluence/#plfa_plfa-part2-Confluence-13699" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-13701" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13703" href="../Confluence/#plfa_plfa-part2-Confluence-13703" class="Bound">p₁</a> <a id="plfa_plfa-part2-Confluence-13706" href="../Confluence/#plfa_plfa-part2-Confluence-13706" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13708" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Confluence-13714" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-13719" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-13725" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13726" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a><a id="plfa_plfa-part2-Confluence-13735" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13736" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13738" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13740" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13745" href="../Confluence/#plfa_plfa-part2-Confluence-13657" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13746" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13748" class="Argument">τ</a> <a id="plfa_plfa-part2-Confluence-13750" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13752" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Confluence-13757" href="../Confluence/#plfa_plfa-part2-Confluence-13661" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13758" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13760" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-13762" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13764" href="../Confluence/#plfa_plfa-part2-Confluence-13668" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-13765" class="Symbol">}</a>
                        <a id="plfa_plfa-part2-Confluence-13791" class="Symbol">(λ{</a><a id="plfa_plfa-part2-Confluence-13794" href="../Confluence/#plfa_plfa-part2-Confluence-13794" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-13795" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13797" href="../Confluence/#plfa_plfa-part2-Confluence-13797" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13798" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13800" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-13802" href="../Confluence/#plfa_plfa-part2-Confluence-12281" class="Function">par-subst-exts</a> <a id="plfa_plfa-part2-Confluence-13817" href="../Confluence/#plfa_plfa-part2-Confluence-13676" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13819" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13820" class="Argument">x</a> <a id="plfa_plfa-part2-Confluence-13822" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13824" href="../Confluence/#plfa_plfa-part2-Confluence-13797" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-13825" class="Symbol">})</a> <a id="plfa_plfa-part2-Confluence-13828" href="../Confluence/#plfa_plfa-part2-Confluence-13703" class="Bound">p₁</a><a id="plfa_plfa-part2-Confluence-13830" class="Symbol">)</a>
               <a id="plfa_plfa-part2-Confluence-13847" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-13848" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-13858" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13859" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13861" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13863" href="../Confluence/#plfa_plfa-part2-Confluence-13657" class="Bound">σ</a><a id="plfa_plfa-part2-Confluence-13864" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13866" href="../Confluence/#plfa_plfa-part2-Confluence-13676" class="Bound">s</a> <a id="plfa_plfa-part2-Confluence-13868" href="../Confluence/#plfa_plfa-part2-Confluence-13706" class="Bound">p₂</a><a id="plfa_plfa-part2-Confluence-13870" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-13872" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-13876" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-13878" href="../Confluence/#plfa_plfa-part2-Confluence-13878" class="Bound">G</a> <a id="plfa_plfa-part2-Confluence-13880" class="Keyword">rewrite</a> <a id="plfa_plfa-part2-Confluence-13888" href="../Confluence/#plfa_plfa-part2-Confluence-12907" class="Function">subst-commute</a><a id="plfa_plfa-part2-Confluence-13901" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-13902" class="Argument">N</a> <a id="plfa_plfa-part2-Confluence-13904" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13906" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-13908" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13910" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-13912" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13914" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-13916" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-13918" class="Argument">σ</a> <a id="plfa_plfa-part2-Confluence-13920" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13922" class="Bound">τ</a><a id="plfa_plfa-part2-Confluence-13923" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-13925" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-13927" href="../Confluence/#plfa_plfa-part2-Confluence-13878" class="Bound">G</a>
</pre><p>我们通过对 <code>M ⇛ M′</code> 归纳来证明。</p><ul><li><p>假定 <code>x ⇛ x</code>。我们使用前提 <code>par-subst σ τ</code> 来得出 <code>σ x ⇛ τ x</code>。</p></li><li><p>假定 <code>ƛ N ⇛ ƛ N′</code> 因为 <code>N ⇛ N′</code>。 为了使用归纳假设，我们需要 <code>par-subst (exts σ) (exts τ)</code>， 它通过 <code>par-subst-exts</code> 得出。 所以我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 并且通过规则 <code>pabs</code> 来完成证明。</p></li><li><p>假定 <code>L · M ⇛ L′ · M′</code> 因为 <code>L ⇛ L′</code> 和 <code>M ⇛ M′</code>。 根据归纳假设我们有 <code>subst σ L ⇛ subst τ L′</code> 和 <code>subst σ M ⇛ subst τ M′</code>， 所以我们通过规则 <code>papp</code> 来完成证明。</p></li><li><p>假定 <code>(ƛ N) · M ⇛ N′ [ M′ ]</code> 因为 <code>N ⇛ N′</code> 和 <code>M ⇛ M′</code>。 同样我们根据 <code>par-subst-exts</code> 来得到 <code>par-subst (exts σ) (exts τ)</code>。 所以根据归纳假设，我们有 <code>subst (exts σ) N ⇛ subst (exts τ) N′</code> 和 <code>subst σ M ⇛ subst τ M′</code>。 接着根据 <code>pbeta</code> 规则，我们平行规约至 <code>subst (exts τ) N′ [ subst τ M′ ]</code>。 替换在以下意义中与自身交换： 对于任意 σ、 N 和 M， 我们有</p><pre><code>  (subst (exts σ) N) [ subst σ M ] ≡ subst σ (N [ M ])</code></pre><p>所以我们平行规约得到 <code>subst τ (N′ [ M′ ])</code>。</p></li></ul><p>显然，若 <code>M ⇛ M′</code>，则 <code>subst-zero M</code> 逐点平行规约至 <code>subst-zero M′</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-subst-zero"></a><a id="plfa_plfa-part2-Confluence-16014" href="../Confluence/#plfa_plfa-part2-Confluence-16014" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16029" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16031" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-16033" href="../Confluence/#plfa_plfa-part2-Confluence-16033" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-16034" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16036" href="../Confluence/#plfa_plfa-part2-Confluence-16036" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16037" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-16039" href="../Confluence/#plfa_plfa-part2-Confluence-16039" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16041" href="../Confluence/#plfa_plfa-part2-Confluence-16041" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16044" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16046" href="../Confluence/#plfa_plfa-part2-Confluence-16033" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16048" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16050" href="../Confluence/#plfa_plfa-part2-Confluence-16036" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16051" class="Symbol">}</a>
       <a id="plfa_plfa-part2-Confluence-16060" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16062" href="../Confluence/#plfa_plfa-part2-Confluence-16039" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16064" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16066" href="../Confluence/#plfa_plfa-part2-Confluence-16041" class="Bound">M′</a>
       <a id="plfa_plfa-part2-Confluence-16076" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16078" href="../Confluence/#plfa_plfa-part2-Confluence-9707" class="Function">par-subst</a> <a id="plfa_plfa-part2-Confluence-16088" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16089" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16100" href="../Confluence/#plfa_plfa-part2-Confluence-16039" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16101" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-16103" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16104" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Confluence-16115" href="../Confluence/#plfa_plfa-part2-Confluence-16041" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16117" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-16119" href="../Confluence/#plfa_plfa-part2-Confluence-16014" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16134" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16135" href="../Confluence/#plfa_plfa-part2-Confluence-16135" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16136" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16138" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16139" href="../Confluence/#plfa_plfa-part2-Confluence-16139" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16141" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16143" href="../Confluence/#plfa_plfa-part2-Confluence-16143" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16145" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16146" href="../Confluence/#plfa_plfa-part2-Confluence-16146" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16147" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16149" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16150" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Confluence-16151" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16153" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16155" href="../Confluence/#plfa_plfa-part2-Confluence-16143" class="Bound">p</a>
<a id="plfa_plfa-part2-Confluence-16157" href="../Confluence/#plfa_plfa-part2-Confluence-16014" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16172" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16173" href="../Confluence/#plfa_plfa-part2-Confluence-16173" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-16174" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16176" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16177" href="../Confluence/#plfa_plfa-part2-Confluence-16177" class="Bound">M′</a><a id="plfa_plfa-part2-Confluence-16179" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16181" href="../Confluence/#plfa_plfa-part2-Confluence-16181" class="Bound">p</a> <a id="plfa_plfa-part2-Confluence-16183" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16184" href="../Confluence/#plfa_plfa-part2-Confluence-16184" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16185" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16187" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16188" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Confluence-16190" href="../Confluence/#plfa_plfa-part2-Confluence-16190" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-16191" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16193" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16195" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>
</pre><p>我们以所期望的推论来结束本节，即替换遵从平行规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-sub-par"></a><a id="plfa_plfa-part2-Confluence-16350" href="../Confluence/#plfa_plfa-part2-Confluence-16350" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-16358" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16360" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-16362" href="../Confluence/#plfa_plfa-part2-Confluence-16362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16364" href="../Confluence/#plfa_plfa-part2-Confluence-16364" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-16366" href="../Confluence/#plfa_plfa-part2-Confluence-16366" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-16367" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16369" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16370" href="../Confluence/#plfa_plfa-part2-Confluence-16370" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16372" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-16375" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16377" href="../Confluence/#plfa_plfa-part2-Confluence-16362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16379" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-16381" href="../Confluence/#plfa_plfa-part2-Confluence-16364" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-16383" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16385" href="../Confluence/#plfa_plfa-part2-Confluence-16366" class="Bound">B</a><a id="plfa_plfa-part2-Confluence-16386" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-16388" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-16389" href="../Confluence/#plfa_plfa-part2-Confluence-16389" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16391" href="../Confluence/#plfa_plfa-part2-Confluence-16391" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16394" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-16396" href="../Confluence/#plfa_plfa-part2-Confluence-16362" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-16398" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-16400" href="../Confluence/#plfa_plfa-part2-Confluence-16364" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-16401" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-16405" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16407" href="../Confluence/#plfa_plfa-part2-Confluence-16370" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16409" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16411" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">N′</a>
  <a id="plfa_plfa-part2-Confluence-16416" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16418" href="../Confluence/#plfa_plfa-part2-Confluence-16389" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16420" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16422" href="../Confluence/#plfa_plfa-part2-Confluence-16391" class="Bound">M′</a>
    <a id="plfa_plfa-part2-Confluence-16429" class="Comment">--------------------------</a>
  <a id="plfa_plfa-part2-Confluence-16458" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-16460" href="../Confluence/#plfa_plfa-part2-Confluence-16370" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-16462" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-16464" href="../Confluence/#plfa_plfa-part2-Confluence-16389" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-16466" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a> <a id="plfa_plfa-part2-Confluence-16468" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-16470" href="../Confluence/#plfa_plfa-part2-Confluence-16372" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-16473" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-16475" href="../Confluence/#plfa_plfa-part2-Confluence-16391" class="Bound">M′</a> <a id="plfa_plfa-part2-Confluence-16478" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-16480" href="../Confluence/#plfa_plfa-part2-Confluence-16350" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-16488" href="../Confluence/#plfa_plfa-part2-Confluence-16488" class="Bound">pn</a> <a id="plfa_plfa-part2-Confluence-16491" href="../Confluence/#plfa_plfa-part2-Confluence-16491" class="Bound">pm</a> <a id="plfa_plfa-part2-Confluence-16494" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-16496" href="../Confluence/#plfa_plfa-part2-Confluence-13208" class="Function">subst-par</a> <a id="plfa_plfa-part2-Confluence-16506" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-16507" href="../Confluence/#plfa_plfa-part2-Confluence-16014" class="Function">par-subst-zero</a> <a id="plfa_plfa-part2-Confluence-16522" href="../Confluence/#plfa_plfa-part2-Confluence-16491" class="Bound">pm</a><a id="plfa_plfa-part2-Confluence-16524" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-16526" href="../Confluence/#plfa_plfa-part2-Confluence-16488" class="Bound">pn</a>
</pre><h2 id="平行规约满足菱形性质">平行规约满足菱形性质</h2><p>合流性证明的核心是石头制成的，更确切地说，是钻石！ 【译注：在英文中 diamond 一词既指钻石，又指菱形。】 我们将证明平行规约满足菱形性质，即若有 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code>， 那么对某个 <code>L</code> 有 <code>N ⇛ L</code> 和 <code>N′ ⇛ L</code>。 典型的证明通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳来完成， 因此每一个可能的对都会在执行足够多次平行 β-规约后产生一个证明 <code>L</code>。</p><p>然而，一个更简单的方法是对 <code>M</code> 执行尽可能多次平行 β-规约， 称其为 <code>M ⁺</code>，然后证明 <code>N</code> 也可以平行规约至 <code>M ⁺</code>。 这就是 Takahashi 的 <em>complete development</em> 的想法。 所需的性质可以表示为：</p><pre><code>    M
   /|
  / |
 /  |
N   2
 \  |
  \ |
   \|
    M⁺</code></pre><p>其中向下的线是 <code>⇛</code> 的实例。因此我们称其为<strong>三角性质（Triangle Property）</strong>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-_⁺"></a><a id="plfa_plfa-part2-Confluence-17850" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">_⁺</a> <a id="plfa_plfa-part2-Confluence-17853" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17855" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-17857" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-17858" href="../Confluence/#plfa_plfa-part2-Confluence-17858" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17860" href="../Confluence/#plfa_plfa-part2-Confluence-17860" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-17861" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-17865" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17867" href="../Confluence/#plfa_plfa-part2-Confluence-17858" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17869" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17871" href="../Confluence/#plfa_plfa-part2-Confluence-17860" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-17873" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-17875" href="../Confluence/#plfa_plfa-part2-Confluence-17858" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-17877" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-17879" href="../Confluence/#plfa_plfa-part2-Confluence-17860" class="Bound">A</a>
<a id="plfa_plfa-part2-Confluence-17881" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17882" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-17884" href="../Confluence/#plfa_plfa-part2-Confluence-17884" class="Bound">x</a><a id="plfa_plfa-part2-Confluence-17885" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17887" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-17895" class="Symbol">=</a>  <a id="plfa_plfa-part2-Confluence-17898" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-17900" href="../Confluence/#plfa_plfa-part2-Confluence-17884" class="Bound">x</a>
<a id="plfa_plfa-part2-Confluence-17902" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17903" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17905" href="../Confluence/#plfa_plfa-part2-Confluence-17905" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-17906" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17908" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a>       <a id="plfa_plfa-part2-Confluence-17916" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17918" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17920" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17921" href="../Confluence/#plfa_plfa-part2-Confluence-17905" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17923" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-17924" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-17926" class="Symbol">((</a><a id="plfa_plfa-part2-Confluence-17928" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-17930" href="../Confluence/#plfa_plfa-part2-Confluence-17930" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-17931" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17933" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-17935" href="../Confluence/#plfa_plfa-part2-Confluence-17935" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-17936" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-17938" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17940" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17942" href="../Confluence/#plfa_plfa-part2-Confluence-17930" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-17944" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17946" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Confluence-17948" href="../Confluence/#plfa_plfa-part2-Confluence-17935" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17950" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17952" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a>
<a id="plfa_plfa-part2-Confluence-17954" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part2-Confluence-17955" href="../Confluence/#plfa_plfa-part2-Confluence-17955" class="CatchallClause Bound">L</a><a id="plfa_plfa-part2-Confluence-17956" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17957" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="CatchallClause InductiveConstructor Operator">·</a><a id="plfa_plfa-part2-Confluence-17958" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17959" href="../Confluence/#plfa_plfa-part2-Confluence-17959" class="CatchallClause Bound">M</a><a id="plfa_plfa-part2-Confluence-17960" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part2-Confluence-17961" class="CatchallClause"> </a><a id="plfa_plfa-part2-Confluence-17962" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="CatchallClause Function Operator">⁺</a>     <a id="plfa_plfa-part2-Confluence-17968" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-17970" href="../Confluence/#plfa_plfa-part2-Confluence-17955" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-17972" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-17974" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-17976" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-17977" href="../Confluence/#plfa_plfa-part2-Confluence-17959" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-17979" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a><a id="plfa_plfa-part2-Confluence-17980" class="Symbol">)</a>

<a id="plfa_plfa-part2-Confluence-par-triangle"></a><a id="plfa_plfa-part2-Confluence-17983" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-17996" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-17998" class="Symbol">∀</a> <a id="plfa_plfa-part2-Confluence-18000" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18001" href="../Confluence/#plfa_plfa-part2-Confluence-18001" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18003" href="../Confluence/#plfa_plfa-part2-Confluence-18003" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-18004" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-18006" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18007" href="../Confluence/#plfa_plfa-part2-Confluence-18007" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18009" href="../Confluence/#plfa_plfa-part2-Confluence-18009" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-18011" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-18013" href="../Confluence/#plfa_plfa-part2-Confluence-18001" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-18015" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-18017" href="../Confluence/#plfa_plfa-part2-Confluence-18003" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-18018" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-18022" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18024" href="../Confluence/#plfa_plfa-part2-Confluence-18007" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18026" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-18028" href="../Confluence/#plfa_plfa-part2-Confluence-18009" class="Bound">N</a>
    <a id="plfa_plfa-part2-Confluence-18034" class="Comment">-------</a>
  <a id="plfa_plfa-part2-Confluence-18044" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-18046" href="../Confluence/#plfa_plfa-part2-Confluence-18009" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-18048" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-18050" href="../Confluence/#plfa_plfa-part2-Confluence-18007" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-18052" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a>
<a id="plfa_plfa-part2-Confluence-18054" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18067" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>          <a id="plfa_plfa-part2-Confluence-18081" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18083" href="../Confluence/#plfa_plfa-part2-Confluence-3441" class="InductiveConstructor">pvar</a>
<a id="plfa_plfa-part2-Confluence-18088" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18101" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18102" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18107" href="../Confluence/#plfa_plfa-part2-Confluence-18107" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-18108" class="Symbol">)</a>      <a id="plfa_plfa-part2-Confluence-18115" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18117" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18122" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18123" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18136" href="../Confluence/#plfa_plfa-part2-Confluence-18107" class="Bound">p</a><a id="plfa_plfa-part2-Confluence-18137" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18139" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18152" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18153" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18159" href="../Confluence/#plfa_plfa-part2-Confluence-18159" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18162" href="../Confluence/#plfa_plfa-part2-Confluence-18162" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18164" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18166" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18168" href="../Confluence/#plfa_plfa-part2-Confluence-16350" class="Function">sub-par</a> <a id="plfa_plfa-part2-Confluence-18176" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18177" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18190" href="../Confluence/#plfa_plfa-part2-Confluence-18159" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18192" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18194" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18195" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18208" href="../Confluence/#plfa_plfa-part2-Confluence-18162" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18210" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18212" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18225" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18226" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18231" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18232" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18234" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18236" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Confluence-18238" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-18240" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-18242" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18243" href="../Confluence/#plfa_plfa-part2-Confluence-3505" class="InductiveConstructor">pabs</a> <a id="plfa_plfa-part2-Confluence-18248" href="../Confluence/#plfa_plfa-part2-Confluence-18248" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18250" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18252" href="../Confluence/#plfa_plfa-part2-Confluence-18252" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18254" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18256" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Confluence-18260" href="../Confluence/#plfa_plfa-part2-Confluence-3691" class="InductiveConstructor">pbeta</a> <a id="plfa_plfa-part2-Confluence-18266" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18267" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18280" href="../Confluence/#plfa_plfa-part2-Confluence-18248" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18282" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18284" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18285" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18298" href="../Confluence/#plfa_plfa-part2-Confluence-18252" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18300" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18302" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18315" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18316" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18321" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18322" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18324" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18326" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Confluence-18328" class="Symbol">_}</a>   <a id="plfa_plfa-part2-Confluence-18333" href="../Confluence/#plfa_plfa-part2-Confluence-18333" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18336" href="../Confluence/#plfa_plfa-part2-Confluence-18336" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18338" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18340" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18342" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18347" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18348" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18361" href="../Confluence/#plfa_plfa-part2-Confluence-18333" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18363" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18365" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18366" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18379" href="../Confluence/#plfa_plfa-part2-Confluence-18336" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18381" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-18383" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18396" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18397" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18402" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-18403" class="Argument">L</a> <a id="plfa_plfa-part2-Confluence-18405" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18407" class="Symbol">_</a> <a id="plfa_plfa-part2-Confluence-18409" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Confluence-18411" class="Symbol">_}</a> <a id="plfa_plfa-part2-Confluence-18414" href="../Confluence/#plfa_plfa-part2-Confluence-18414" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-18417" href="../Confluence/#plfa_plfa-part2-Confluence-18417" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18419" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18421" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-18423" href="../Confluence/#plfa_plfa-part2-Confluence-3585" class="InductiveConstructor">papp</a> <a id="plfa_plfa-part2-Confluence-18428" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18429" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18442" href="../Confluence/#plfa_plfa-part2-Confluence-18414" class="Bound">p1</a><a id="plfa_plfa-part2-Confluence-18444" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-18446" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-18447" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-18460" href="../Confluence/#plfa_plfa-part2-Confluence-18417" class="Bound">p2</a><a id="plfa_plfa-part2-Confluence-18462" class="Symbol">)</a>
</pre><p>三角性质的证明通过对 <code>M ⇛ N</code> 归纳来完成。</p><ul><li><p>假定 <code>x ⇛ x</code>。显然 <code>x ⁺ = x</code>，所以 <code>x ⇛ x ⁺</code>。</p></li><li><p>假定 <code>ƛ M ⇛ ƛ N</code>。根据归纳假设我们有 <code>N ⇛ M ⁺</code>， 并且根据定义我们有 <code>(λ M) ⁺ = λ (M ⁺)</code>，所以我们得出 <code>λ N ⇛ λ(M ⁺)</code>。</p></li><li><p>假定 <code>(λ N) · M ⇛ N′ [ M′ ]</code>。根据归纳假设我们有 <code>N′ ⇛ N ⁺</code> 和 <code>M′ ⇛ M ⁺</code>。 因为替换遵从平行规约，于是得到 <code>N′ [ M′ ] ⇛ N ⁺ [ M ⁺ ]</code>， 而右侧即为 <code>((λ N) · M) ⁺</code>，因此有 <code>N′ [ M′ ] ⇛ ((λ N) · M) ⁺</code>。</p></li><li><p>假定 <code>(λ L) · M ⇛ (λ L′) · M′</code>。 根据归纳假设我们有 <code>L′ ⇛ L ⁺</code> 和 <code>M′ ⇛ M ⁺</code>； 根据定义有 <code>((λ L) · M) ⁺ = L ⁺ [ M ⁺ ]</code>。 接着得出 <code>(λ L′) · M′ ⇛ L ⁺ [ M ⁺ ]</code>。</p></li><li><p>假定 <code>x · M ⇛ x · M′</code>。 根据归纳假设我们有 <code>M′ ⇛ M ⁺</code> 和 <code>x ⇛ x ⁺</code>，因此 <code>x · M′ ⇛ x · M ⁺</code>。 剩余的情况可以以相同方式证明，所以我们忽略它。 （由于 Agda 目前没有办法在检查右侧之前为我们扩展 <code>_⁺</code> 定义中的 catch-all 模式，我们必须明确地写下剩余的情况。）</p></li></ul><p>菱形性质接着通过将菱形折半成两个三角形得出。</p><pre><code>    M
   /|\
  / | \
 /  |  \
N   2   N′
 \  |  /
  \ | /
   \|/
    M⁺</code></pre><p>也就是说，菱形性质通过在两侧应用具有相同合流项 <code>M ⁺</code>的三角性质而证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-diamond"></a><a id="plfa_plfa-part2-Confluence-20677" href="../Confluence/#plfa_plfa-part2-Confluence-20677" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-20689" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-20691" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-20693" href="../Confluence/#plfa_plfa-part2-Confluence-20693" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20695" href="../Confluence/#plfa_plfa-part2-Confluence-20695" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-20696" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-20698" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-20699" href="../Confluence/#plfa_plfa-part2-Confluence-20699" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20701" href="../Confluence/#plfa_plfa-part2-Confluence-20701" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-20703" href="../Confluence/#plfa_plfa-part2-Confluence-20703" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-20706" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-20708" href="../Confluence/#plfa_plfa-part2-Confluence-20693" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20710" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-20712" href="../Confluence/#plfa_plfa-part2-Confluence-20695" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-20713" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-20717" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20719" href="../Confluence/#plfa_plfa-part2-Confluence-20699" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20721" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20723" href="../Confluence/#plfa_plfa-part2-Confluence-20701" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-20727" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20729" href="../Confluence/#plfa_plfa-part2-Confluence-20699" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20731" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20733" href="../Confluence/#plfa_plfa-part2-Confluence-20703" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-20740" class="Comment">---------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-20776" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-20778" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-20781" href="../Confluence/#plfa_plfa-part2-Confluence-20781" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-20783" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-20785" href="../Confluence/#plfa_plfa-part2-Confluence-20693" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-20787" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-20789" href="../Confluence/#plfa_plfa-part2-Confluence-20695" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-20791" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-20793" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-20794" href="../Confluence/#plfa_plfa-part2-Confluence-20701" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-20796" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20798" href="../Confluence/#plfa_plfa-part2-Confluence-20781" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-20799" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-20801" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-20803" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-20804" href="../Confluence/#plfa_plfa-part2-Confluence-20703" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-20807" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-20809" href="../Confluence/#plfa_plfa-part2-Confluence-20781" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-20810" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-20812" href="../Confluence/#plfa_plfa-part2-Confluence-20677" class="Function">par-diamond</a> <a id="plfa_plfa-part2-Confluence-20824" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-20825" class="Argument">M</a> <a id="plfa_plfa-part2-Confluence-20827" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-20829" href="../Confluence/#plfa_plfa-part2-Confluence-20829" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-20830" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-20832" href="../Confluence/#plfa_plfa-part2-Confluence-20832" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-20835" href="../Confluence/#plfa_plfa-part2-Confluence-20835" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-20838" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-20840" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-20842" href="../Confluence/#plfa_plfa-part2-Confluence-20829" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-20844" href="../Confluence/#plfa_plfa-part2-Confluence-17850" class="Function Operator">⁺</a> <a id="plfa_plfa-part2-Confluence-20846" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-20848" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-20850" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-20863" href="../Confluence/#plfa_plfa-part2-Confluence-20832" class="Bound">p1</a> <a id="plfa_plfa-part2-Confluence-20866" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-20868" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-20881" href="../Confluence/#plfa_plfa-part2-Confluence-20835" class="Bound">p2</a> <a id="plfa_plfa-part2-Confluence-20884" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-20886" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
</pre><p>不过，在存在三角性质的情况下，该步骤是可选的。</p><h4 id="练习实践">练习（实践）</h4><ul><li><p>通过对 <code>M ⇛ N</code> 和 <code>M ⇛ N′</code> 归纳直接证明菱形性质 <code>par-diamond</code>。</p></li><li><p>作图表示 <code>par-diamond</code> 的直接证明中的六种情况。 图应当包含节点和有向边，其中节点用项标记，边代表平行规约。</p></li></ul><h2 id="平行规约合流性的证明">平行规约合流性的证明</h2><p>像在开始承诺的那样，平行规约合流性的证明现在十分简单， 因为我们知道它满足三角性质。 我们只需证明带状引理（Strip Lemma），它声称若有 <code>M ⇛ N</code> 和 <code>M ⇛* N′</code>， 则对于某个 <code>L</code> 有 <code>N ⇛* L</code> 和 <code>N′ ⇛ L</code>。 下图解释了带状引理：</p><pre><code>    M
   / \
  1   *
 /     \
N       N′
 \     /
  *   1
   \ /
    L</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。</p><p>带状引理的证明是对 <code>M ⇛* N′</code> 的简单归纳，并在归纳步骤使用三角性质。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-strip"></a><a id="plfa_plfa-part2-Confluence-22472" href="../Confluence/#plfa_plfa-part2-Confluence-22472" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-22478" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22480" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-22482" href="../Confluence/#plfa_plfa-part2-Confluence-22482" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22484" href="../Confluence/#plfa_plfa-part2-Confluence-22484" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22485" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22487" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22488" href="../Confluence/#plfa_plfa-part2-Confluence-22488" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22490" href="../Confluence/#plfa_plfa-part2-Confluence-22490" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22492" href="../Confluence/#plfa_plfa-part2-Confluence-22492" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-22495" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-22497" href="../Confluence/#plfa_plfa-part2-Confluence-22482" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22499" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-22501" href="../Confluence/#plfa_plfa-part2-Confluence-22484" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22502" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-22506" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22508" href="../Confluence/#plfa_plfa-part2-Confluence-22488" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22510" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-22512" href="../Confluence/#plfa_plfa-part2-Confluence-22490" class="Bound">N</a>
  <a id="plfa_plfa-part2-Confluence-22516" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22518" href="../Confluence/#plfa_plfa-part2-Confluence-22488" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22520" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22523" href="../Confluence/#plfa_plfa-part2-Confluence-22492" class="Bound">N′</a>
    <a id="plfa_plfa-part2-Confluence-22530" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-22569" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-22571" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-22574" href="../Confluence/#plfa_plfa-part2-Confluence-22574" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22576" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-22578" href="../Confluence/#plfa_plfa-part2-Confluence-22482" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-22580" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-22582" href="../Confluence/#plfa_plfa-part2-Confluence-22484" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-22584" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-22586" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22587" href="../Confluence/#plfa_plfa-part2-Confluence-22490" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22589" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-22592" href="../Confluence/#plfa_plfa-part2-Confluence-22574" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-22593" class="Symbol">)</a>  <a id="plfa_plfa-part2-Confluence-22596" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part2-Confluence-22599" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22600" href="../Confluence/#plfa_plfa-part2-Confluence-22492" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-22603" href="../Confluence/#plfa_plfa-part2-Confluence-3392" class="Datatype Operator">⇛</a> <a id="plfa_plfa-part2-Confluence-22605" href="../Confluence/#plfa_plfa-part2-Confluence-22574" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-22606" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-22608" href="../Confluence/#plfa_plfa-part2-Confluence-22472" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-22613" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22614" href="../Confluence/#plfa_plfa-part2-Confluence-22614" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-22615" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22617" href="../Confluence/#plfa_plfa-part2-Confluence-22617" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22618" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22620" href="../Confluence/#plfa_plfa-part2-Confluence-22620" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-22621" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22623" href="../Confluence/#plfa_plfa-part2-Confluence-22623" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-22624" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22626" href="../Confluence/#plfa_plfa-part2-Confluence-22626" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-22628" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22630" href="../Confluence/#plfa_plfa-part2-Confluence-22630" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22633" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22634" href="../Confluence/#plfa_plfa-part2-Confluence-22620" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22636" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-22637" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-22639" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-22641" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22643" href="../Confluence/#plfa_plfa-part2-Confluence-22623" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22645" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22647" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22649" href="../Confluence/#plfa_plfa-part2-Confluence-22623" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22651" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-22653" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22655" href="../Confluence/#plfa_plfa-part2-Confluence-22630" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22658" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22660" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-22662" href="../Confluence/#plfa_plfa-part2-Confluence-22472" class="Function">strip</a><a id="plfa_plfa-part2-Confluence-22667" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-22668" href="../Confluence/#plfa_plfa-part2-Confluence-22668" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-22669" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22671" href="../Confluence/#plfa_plfa-part2-Confluence-22671" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-22672" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22674" href="../Confluence/#plfa_plfa-part2-Confluence-22674" class="Bound">M</a><a id="plfa_plfa-part2-Confluence-22675" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22677" href="../Confluence/#plfa_plfa-part2-Confluence-22677" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-22678" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-22680" href="../Confluence/#plfa_plfa-part2-Confluence-22680" class="Bound">N′</a><a id="plfa_plfa-part2-Confluence-22682" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-22684" href="../Confluence/#plfa_plfa-part2-Confluence-22684" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22687" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22688" href="../Confluence/#plfa_plfa-part2-Confluence-22674" class="Bound">M</a> <a id="plfa_plfa-part2-Confluence-22690" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-22693" href="../Confluence/#plfa_plfa-part2-Confluence-22693" class="Bound">mm&#39;</a> <a id="plfa_plfa-part2-Confluence-22697" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22699" href="../Confluence/#plfa_plfa-part2-Confluence-22699" class="Bound">m&#39;n&#39;</a><a id="plfa_plfa-part2-Confluence-22703" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Confluence-22707" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-22712" href="../Confluence/#plfa_plfa-part2-Confluence-22472" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-22718" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-22719" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-22732" href="../Confluence/#plfa_plfa-part2-Confluence-22693" class="Bound">mm&#39;</a><a id="plfa_plfa-part2-Confluence-22735" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-22737" href="../Confluence/#plfa_plfa-part2-Confluence-22699" class="Bound">m&#39;n&#39;</a>
<a id="plfa_plfa-part2-Confluence-22742" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-22746" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-22748" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22750" href="../Confluence/#plfa_plfa-part2-Confluence-22750" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22752" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22754" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22756" href="../Confluence/#plfa_plfa-part2-Confluence-22756" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-22760" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22762" href="../Confluence/#plfa_plfa-part2-Confluence-22762" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-22767" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22769" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22771" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-22773" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22775" href="../Confluence/#plfa_plfa-part2-Confluence-22750" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-22777" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22779" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-22781" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-22783" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-22786" href="../Confluence/#plfa_plfa-part2-Confluence-17983" class="Function">par-triangle</a> <a id="plfa_plfa-part2-Confluence-22799" class="Bound">mn</a> <a id="plfa_plfa-part2-Confluence-22802" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22804" href="../Confluence/#plfa_plfa-part2-Confluence-22756" class="Bound">ll&#39;</a> <a id="plfa_plfa-part2-Confluence-22808" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-22810" href="../Confluence/#plfa_plfa-part2-Confluence-22762" class="Bound">n&#39;l&#39;</a> <a id="plfa_plfa-part2-Confluence-22815" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-22817" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
</pre><p>平行规约合流性的证明现在通过对序列 <code>M ⇛* N</code> 归纳来完成，并在归纳步骤使用上述引理。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-par-confluence"></a><a id="plfa_plfa-part2-Confluence-23035" href="../Confluence/#plfa_plfa-part2-Confluence-23035" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23050" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23052" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-23054" href="../Confluence/#plfa_plfa-part2-Confluence-23054" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23056" href="../Confluence/#plfa_plfa-part2-Confluence-23056" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23057" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23059" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23060" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23062" href="../Confluence/#plfa_plfa-part2-Confluence-23062" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-23065" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23068" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-23070" href="../Confluence/#plfa_plfa-part2-Confluence-23054" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23072" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23074" href="../Confluence/#plfa_plfa-part2-Confluence-23056" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23075" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-23079" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23081" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23083" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23086" href="../Confluence/#plfa_plfa-part2-Confluence-23062" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-23091" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23093" href="../Confluence/#plfa_plfa-part2-Confluence-23060" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23095" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23098" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-23105" class="Comment">------------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-23144" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-23146" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-23149" href="../Confluence/#plfa_plfa-part2-Confluence-23149" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23151" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-23153" href="../Confluence/#plfa_plfa-part2-Confluence-23054" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-23155" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-23157" href="../Confluence/#plfa_plfa-part2-Confluence-23056" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-23159" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-23161" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23162" href="../Confluence/#plfa_plfa-part2-Confluence-23062" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-23165" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23168" href="../Confluence/#plfa_plfa-part2-Confluence-23149" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23169" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23171" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-23173" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23174" href="../Confluence/#plfa_plfa-part2-Confluence-23065" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23177" href="../Confluence/#plfa_plfa-part2-Confluence-4717" class="Datatype Operator">⇛*</a> <a id="plfa_plfa-part2-Confluence-23180" href="../Confluence/#plfa_plfa-part2-Confluence-23149" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23181" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-23183" href="../Confluence/#plfa_plfa-part2-Confluence-23035" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23198" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23199" href="../Confluence/#plfa_plfa-part2-Confluence-23199" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23200" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23202" href="../Confluence/#plfa_plfa-part2-Confluence-23202" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23203" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23205" href="../Confluence/#plfa_plfa-part2-Confluence-23205" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23206" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23208" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part2-Confluence-23209" href="../Confluence/#plfa_plfa-part2-Confluence-23205" class="DottedPattern Bound">L</a><a id="plfa_plfa-part2-Confluence-23210" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23212" href="../Confluence/#plfa_plfa-part2-Confluence-23212" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-23213" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23215" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23216" href="../Confluence/#plfa_plfa-part2-Confluence-23205" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23218" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Confluence-23219" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23221" href="../Confluence/#plfa_plfa-part2-Confluence-23221" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23226" class="Symbol">=</a> <a id="plfa_plfa-part2-Confluence-23228" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23230" href="../Confluence/#plfa_plfa-part2-Confluence-23212" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23232" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23234" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23236" href="../Confluence/#plfa_plfa-part2-Confluence-23221" class="Bound">L⇛*N</a> <a id="plfa_plfa-part2-Confluence-23241" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23243" href="../Confluence/#plfa_plfa-part2-Confluence-23212" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23245" href="../Confluence/#plfa_plfa-part2-Confluence-4767" class="InductiveConstructor Operator">∎</a> <a id="plfa_plfa-part2-Confluence-23247" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23249" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part2-Confluence-23251" href="../Confluence/#plfa_plfa-part2-Confluence-23035" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23266" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-23267" href="../Confluence/#plfa_plfa-part2-Confluence-23267" class="Bound">Γ</a><a id="plfa_plfa-part2-Confluence-23268" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23270" href="../Confluence/#plfa_plfa-part2-Confluence-23270" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-23271" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23273" href="../Confluence/#plfa_plfa-part2-Confluence-23273" class="Bound">L</a><a id="plfa_plfa-part2-Confluence-23274" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23276" href="../Confluence/#plfa_plfa-part2-Confluence-23276" class="Bound">M₁′</a><a id="plfa_plfa-part2-Confluence-23279" class="Symbol">}{</a><a id="plfa_plfa-part2-Confluence-23281" href="../Confluence/#plfa_plfa-part2-Confluence-23281" class="Bound">M₂</a><a id="plfa_plfa-part2-Confluence-23283" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-23285" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23286" href="../Confluence/#plfa_plfa-part2-Confluence-23273" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-23288" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23291" href="../Confluence/#plfa_plfa-part2-Confluence-23291" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23296" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23298" href="../Confluence/#plfa_plfa-part2-Confluence-23298" class="Bound">M₁⇛*M₁′</a><a id="plfa_plfa-part2-Confluence-23305" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23307" href="../Confluence/#plfa_plfa-part2-Confluence-23307" class="Bound">L⇛*M₂</a>
    <a id="plfa_plfa-part2-Confluence-23317" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23322" href="../Confluence/#plfa_plfa-part2-Confluence-22472" class="Function">strip</a> <a id="plfa_plfa-part2-Confluence-23328" href="../Confluence/#plfa_plfa-part2-Confluence-23291" class="Bound">L⇛M₁</a> <a id="plfa_plfa-part2-Confluence-23333" href="../Confluence/#plfa_plfa-part2-Confluence-23307" class="Bound">L⇛*M₂</a>
<a id="plfa_plfa-part2-Confluence-23339" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-23343" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23345" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23347" href="../Confluence/#plfa_plfa-part2-Confluence-23347" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-23349" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23351" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23353" href="../Confluence/#plfa_plfa-part2-Confluence-23353" class="Bound">M₁⇛*N</a> <a id="plfa_plfa-part2-Confluence-23359" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23361" href="../Confluence/#plfa_plfa-part2-Confluence-23361" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-23366" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23368" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
      <a id="plfa_plfa-part2-Confluence-23376" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-23381" href="../Confluence/#plfa_plfa-part2-Confluence-23035" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-23396" class="Bound">M₁⇛*M₁′</a> <a id="plfa_plfa-part2-Confluence-23404" href="../Confluence/#plfa_plfa-part2-Confluence-23353" class="Bound">M₁⇛*N</a>
<a id="plfa_plfa-part2-Confluence-23410" class="Symbol">...</a>   <a id="plfa_plfa-part2-Confluence-23416" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-23418" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23420" href="../Confluence/#plfa_plfa-part2-Confluence-23420" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23423" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23425" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23427" href="../Confluence/#plfa_plfa-part2-Confluence-23427" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23435" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23437" href="../Confluence/#plfa_plfa-part2-Confluence-23437" class="Bound">N⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23443" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23445" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23447" class="Symbol">=</a>
        <a id="plfa_plfa-part2-Confluence-23457" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23459" href="../Confluence/#plfa_plfa-part2-Confluence-23420" class="Bound">N′</a> <a id="plfa_plfa-part2-Confluence-23462" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23464" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-23466" href="../Confluence/#plfa_plfa-part2-Confluence-23427" class="Bound">M₁′⇛*N′</a> <a id="plfa_plfa-part2-Confluence-23474" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-23476" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-23477" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-23480" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⇛⟨</a> <a id="plfa_plfa-part2-Confluence-23483" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-23488" href="../Confluence/#plfa_plfa-part2-Confluence-4823" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23490" href="../Confluence/#plfa_plfa-part2-Confluence-23437" class="Bound">N⇛*N′</a><a id="plfa_plfa-part2-Confluence-23495" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-23497" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-23499" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
</pre><p>归纳步骤可以如下图解释：</p><pre><code>        L
       / \
      1   *
     /     \
    M₁ (a)  M₂
   / \     /
  *   *   1
 /     \ /
M₁′(b)  N
 \     /
  *   *
   \ /
    N′</code></pre><p>此处向下的线是 <code>⇛</code> 或 <code>⇛*</code> 的实例，取决于它们如何被标记。 此处 <code>(a)</code> 根据 <code>strip</code> 而成立，<code>(b)</code> 根据归纳假设而成立。</p><h2 id="规约合流性的证明">规约合流性的证明</h2><p>规约的合流性是平行规约合流性的一个推论。 从 <code>L —↠ M₁</code> 和 <code>L —↠ M₂</code> 根据 <code>betas-pars</code> 我们有 <code>L ⇛* M₁</code> 和 <code>L ⇛* M₂</code>。 接着根据合流性我们得到对于某个 <code>L</code> 有 <code>M₁ ⇛* N</code> 和 <code>M₂ ⇛* N</code>。 因此我们根据 <code>pars-betas</code> 得出 <code>M₁ —↠ N</code> 和 <code>M₂ —↠ N</code>。</p><pre class="Agda"><a id="plfa_plfa-part2-Confluence-confluence"></a><a id="plfa_plfa-part2-Confluence-24552" href="../Confluence/#plfa_plfa-part2-Confluence-24552" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-24563" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-24565" class="Symbol">∀{</a><a id="plfa_plfa-part2-Confluence-24567" href="../Confluence/#plfa_plfa-part2-Confluence-24567" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24569" href="../Confluence/#plfa_plfa-part2-Confluence-24569" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-24570" class="Symbol">}</a> <a id="plfa_plfa-part2-Confluence-24572" class="Symbol">{</a><a id="plfa_plfa-part2-Confluence-24573" href="../Confluence/#plfa_plfa-part2-Confluence-24573" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24575" href="../Confluence/#plfa_plfa-part2-Confluence-24575" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-24578" href="../Confluence/#plfa_plfa-part2-Confluence-24578" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-24581" class="Symbol">:</a> <a id="plfa_plfa-part2-Confluence-24583" href="../Confluence/#plfa_plfa-part2-Confluence-24567" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24585" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-24587" href="../Confluence/#plfa_plfa-part2-Confluence-24569" class="Bound">A</a><a id="plfa_plfa-part2-Confluence-24588" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Confluence-24592" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24594" href="../Confluence/#plfa_plfa-part2-Confluence-24573" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24596" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24599" href="../Confluence/#plfa_plfa-part2-Confluence-24575" class="Bound">M₁</a>
  <a id="plfa_plfa-part2-Confluence-24604" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24606" href="../Confluence/#plfa_plfa-part2-Confluence-24573" class="Bound">L</a> <a id="plfa_plfa-part2-Confluence-24608" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24611" href="../Confluence/#plfa_plfa-part2-Confluence-24578" class="Bound">M₂</a>
    <a id="plfa_plfa-part2-Confluence-24618" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Confluence-24656" class="Symbol">→</a> <a id="plfa_plfa-part2-Confluence-24658" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part2-Confluence-24661" href="../Confluence/#plfa_plfa-part2-Confluence-24661" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24663" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part2-Confluence-24665" href="../Confluence/#plfa_plfa-part2-Confluence-24567" class="Bound">Γ</a> <a id="plfa_plfa-part2-Confluence-24667" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Confluence-24669" href="../Confluence/#plfa_plfa-part2-Confluence-24569" class="Bound">A</a> <a id="plfa_plfa-part2-Confluence-24671" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part2-Confluence-24673" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24674" href="../Confluence/#plfa_plfa-part2-Confluence-24575" class="Bound">M₁</a> <a id="plfa_plfa-part2-Confluence-24677" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24680" href="../Confluence/#plfa_plfa-part2-Confluence-24661" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-24681" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-24683" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part2-Confluence-24685" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24686" href="../Confluence/#plfa_plfa-part2-Confluence-24578" class="Bound">M₂</a> <a id="plfa_plfa-part2-Confluence-24689" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Confluence-24692" href="../Confluence/#plfa_plfa-part2-Confluence-24661" class="Bound">N</a><a id="plfa_plfa-part2-Confluence-24693" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-24695" href="../Confluence/#plfa_plfa-part2-Confluence-24552" class="Function">confluence</a> <a id="plfa_plfa-part2-Confluence-24706" href="../Confluence/#plfa_plfa-part2-Confluence-24706" class="Bound">L↠M₁</a> <a id="plfa_plfa-part2-Confluence-24711" href="../Confluence/#plfa_plfa-part2-Confluence-24711" class="Bound">L↠M₂</a>
    <a id="plfa_plfa-part2-Confluence-24720" class="Keyword">with</a> <a id="plfa_plfa-part2-Confluence-24725" href="../Confluence/#plfa_plfa-part2-Confluence-23035" class="Function">par-confluence</a> <a id="plfa_plfa-part2-Confluence-24740" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24741" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-24752" href="../Confluence/#plfa_plfa-part2-Confluence-24706" class="Bound">L↠M₁</a><a id="plfa_plfa-part2-Confluence-24756" class="Symbol">)</a> <a id="plfa_plfa-part2-Confluence-24758" class="Symbol">(</a><a id="plfa_plfa-part2-Confluence-24759" href="../Confluence/#plfa_plfa-part2-Confluence-6229" class="Function">betas-pars</a> <a id="plfa_plfa-part2-Confluence-24770" href="../Confluence/#plfa_plfa-part2-Confluence-24711" class="Bound">L↠M₂</a><a id="plfa_plfa-part2-Confluence-24774" class="Symbol">)</a>
<a id="plfa_plfa-part2-Confluence-24776" class="Symbol">...</a> <a id="plfa_plfa-part2-Confluence-24780" class="Symbol">|</a> <a id="plfa_plfa-part2-Confluence-24782" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24784" href="../Confluence/#plfa_plfa-part2-Confluence-24784" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24786" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24788" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24790" href="../Confluence/#plfa_plfa-part2-Confluence-24790" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-24795" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24797" href="../Confluence/#plfa_plfa-part2-Confluence-24797" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-24802" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24804" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24806" class="Symbol">=</a>
      <a id="plfa_plfa-part2-Confluence-24814" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24816" href="../Confluence/#plfa_plfa-part2-Confluence-24784" class="Bound">N</a> <a id="plfa_plfa-part2-Confluence-24818" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24820" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part2-Confluence-24822" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-24833" href="../Confluence/#plfa_plfa-part2-Confluence-24790" class="Bound">M₁⇛N</a> <a id="plfa_plfa-part2-Confluence-24838" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Confluence-24840" href="../Confluence/#plfa_plfa-part2-Confluence-8792" class="Function">pars-betas</a> <a id="plfa_plfa-part2-Confluence-24851" href="../Confluence/#plfa_plfa-part2-Confluence-24797" class="Bound">M₂⇛N</a> <a id="plfa_plfa-part2-Confluence-24856" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Confluence-24858" href="../Confluence/#plfa_plfa-part2-Confluence-2946" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>总而言之，这种机械化的合流性证明基于几个来源。 <code>subst-par</code> 引理是 <span class="citation" data-cites="Schafer:2015">Schäfer, Tebbi, and Smolka (2015)</span> 的「强替换性（Strong Substitutivity）」 引理。 <code>par-triangle</code>、<code>strip</code> 和 <code>par-confluence</code> 的证明基于 <span class="citation" data-cites="Takahashi:1995">Takahashi (1995)</span> 完全发展的概念，以及 <span class="citation" data-cites="Pfenning:1992">Pfenning (1992)</span> 关于 Church-Rosser 定理的技术报告。 此外，我们询问了 Nipkow 和 Berghofer 在 Isabelle 中的机械化， 它基于 <span class="citation" data-cites="Nipkow:1996">Nipkow (1996)</span> 的早期论文。</p><h2 id="unicode">Unicode</h2><p>本章中使用了以下 Unicode：</p><pre><code>⇛  U+21DB  RIGHTWARDS TRIPLE ARROW (\r== or \Rrightarrow)
⁺  U+207A  SUPERSCRIPT PLUS SIGN   (\^+)</code></pre><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Nipkow:1996" class="csl-entry" role="listitem">Nipkow, Tobias. 1996. <span>“More Church-Rosser Proofs (in Isabelle/HOL).”</span> In <em>Proceedings of the 13th International Conference on Automated Deduction: Automated Deduction</em>, 733–47. CADE-13. Berlin, Heidelberg: Springer-Verlag.</div><div id="ref-Pfenning:1992" class="csl-entry" role="listitem">Pfenning, Frank. 1992. <span>“A Proof of the Church-Rosser Theorem and Its Representation in a Logical Framework.”</span> CMU-CS-92-186. Carnegie Mellon University; Carnegie Mellon University.</div><div id="ref-Schafer:2015" class="csl-entry" role="listitem">Schäfer, Steven, Tobias Tebbi, and Gert Smolka. 2015. <span>“Autosubst: Reasoning with de Bruijn Terms and Parallel Substitutions.”</span> In <em>Interactive Theorem Proving: 6th International Conference, ITP 2015, Nanjing, China, August 24-27, 2015, Proceedings 6</em>, 359–74. Springer.</div><div id="ref-Takahashi:1995" class="csl-entry" role="listitem">Takahashi, M. 1995. <span>“Parallel Reductions in λ-Calculus.”</span> <em>Information and Computation</em> 118 (1): 120–27. https://doi.org/<a href="https://doi.org/10.1006/inco.1995.1057">https://doi.org/10.1006/inco.1995.1057</a>.</div></div></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Untyped/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Confluence.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../BigStep/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：starxingchenc</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>