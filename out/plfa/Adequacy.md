---
src       : "src/plfa/Adequacy.lagda.md"
title     : "Adequacy: of denotational semantics with respect to operational semantics"
layout    : page
prev      : /Soundness/
permalink : /Adequacy/
next      : /ContextualEquivalence/
---

{% raw %}<pre class="Agda"><a id="202" class="Keyword">module</a> <a id="209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}" class="Module">plfa.Adequacy</a> <a id="223" class="Keyword">where</a>
</pre>{% endraw %}
## Introduction

Having proved a preservation property in the last chapter, a natural
next step would be to prove progress. That is, to prove a property
of the form

    If γ ⊢ M ↓ v, then either M is a lambda abstraction or M —→ N for some N.

Such a property would tell us that having a denotation implies either
reduction to normal form or divergence. This is indeed true, but we
can prove a much stronger property! In fact, having a denotation that
is a function value (not `⊥`) implies reduction to a lambda
abstraction (no divergence).

This stronger property, reformulated a bit, is known as _adequacy_.
That is, if a term `M` is denotationally equal to a lambda abstraction,
then `M` reduces to a lambda abstraction.

    ℰ M ≃ ℰ (ƛ N)  implies M —↠ ƛ N' for some N'

Recall that `ℰ M ≃ ℰ (ƛ N)` is equivalent to saying that
`γ ⊢ M ↓ (v ↦ w)` for some `v` and `w`. We will show that
`γ ⊢ M ↓ (v ↦ w)` implies reduction a lambda abstraction.

It is well known that a term can reduce to a lambda abstraction using
full β reduction if and only if it can reduce to a lambda abstraction
using the call-by-name reduction strategy. So we shall prove that
`γ ⊢ M ↓ (v ↦ w)` implies that `M` halts under call-by-name evaluation,
which we define with a big-step semantics written `γ' ⊢ M ⇓ c`, where
`c` is a closure (a term paired with an environment) and `γ'` is an
environment that maps variables to closures

So we will show that `γ ⊢ M ↓ (v ↦ w)` implies `γ' ⊢ M ⇓ c`,
provided `γ` and `γ'` are appropriate related.  The proof will
be an induction on the derivation of `γ ⊢ M ↓ v`, and to
strengthen the induction hypothesis, we will relate semantic values to
closures using a _logical relation_ `𝕍`.

The rest of this chapter is organized as follows.

* We loosen the requirement that `M` result in a function value and
  instead require that `M` result in a value that is greater than or
  equal to a function value. We establish several properties about
  being ``greater than a function''.

* We define the call-by-name big-step semantics of the lambda calculus
  and prove that it is deterministic.

* We define the logical relation `𝕍` that relates values and closures,
  and extend it to a relation on terms `𝔼` and environments `𝔾`.

* We prove the main lemma,
  that if `𝔾 γ γ'` and `γ ⊢ M ↓ v`, then `𝔼 v (clos M γ')`.

* We prove adequacy as a corollary to the main lemma.


## Imports

{% raw %}<pre class="Agda"><a id="2639" class="Keyword">open</a> <a id="2644" class="Keyword">import</a> <a id="2651" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}" class="Module">plfa.Untyped</a>
  <a id="2666" class="Keyword">using</a> <a id="2672" class="Symbol">(</a><a id="2673" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a><a id="2680" class="Symbol">;</a> <a id="2682" href="plfa.Untyped.html#4252" class="Datatype Operator">_⊢_</a><a id="2685" class="Symbol">;</a> <a id="2687" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="2688" class="Symbol">;</a> <a id="2690" href="plfa.Untyped.html#3483" class="Datatype Operator">_∋_</a><a id="2693" class="Symbol">;</a> <a id="2695" href="plfa.Untyped.html#3152" class="InductiveConstructor">∅</a><a id="2696" class="Symbol">;</a> <a id="2698" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">_,_</a><a id="2701" class="Symbol">;</a> <a id="2703" href="plfa.Untyped.html#3519" class="InductiveConstructor">Z</a><a id="2704" class="Symbol">;</a> <a id="2706" href="plfa.Untyped.html#3564" class="InductiveConstructor Operator">S_</a><a id="2708" class="Symbol">;</a> <a id="2710" href="plfa.Untyped.html#4288" class="InductiveConstructor Operator">`_</a><a id="2712" class="Symbol">;</a> <a id="2714" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ_</a><a id="2716" class="Symbol">;</a> <a id="2718" href="plfa.Untyped.html#4400" class="InductiveConstructor Operator">_·_</a><a id="2721" class="Symbol">;</a>
         <a id="2732" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6193" class="Function">rename</a><a id="2738" class="Symbol">;</a> <a id="2740" href="plfa.Untyped.html#6921" class="Function">subst</a><a id="2745" class="Symbol">;</a> <a id="2747" href="plfa.Untyped.html#5883" class="Function">ext</a><a id="2750" class="Symbol">;</a> <a id="2752" href="plfa.Untyped.html#6629" class="Function">exts</a><a id="2756" class="Symbol">;</a> <a id="2758" href="plfa.Untyped.html#7449" class="Function Operator">_[_]</a><a id="2762" class="Symbol">;</a> <a id="2764" href="plfa.Untyped.html#7333" class="Function">subst-zero</a><a id="2774" class="Symbol">;</a>
         <a id="2785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#11203" class="Datatype Operator">_—↠_</a><a id="2789" class="Symbol">;</a> <a id="2791" href="plfa.Untyped.html#11309" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="2798" class="Symbol">;</a> <a id="2800" href="plfa.Untyped.html#11253" class="InductiveConstructor Operator">_∎</a><a id="2802" class="Symbol">;</a> <a id="2804" href="plfa.Untyped.html#10105" class="Datatype Operator">_—→_</a><a id="2808" class="Symbol">;</a> <a id="2810" href="plfa.Untyped.html#10155" class="InductiveConstructor">ξ₁</a><a id="2812" class="Symbol">;</a> <a id="2814" href="plfa.Untyped.html#10245" class="InductiveConstructor">ξ₂</a><a id="2816" class="Symbol">;</a> <a id="2818" href="plfa.Untyped.html#10335" class="InductiveConstructor">β</a><a id="2819" class="Symbol">;</a> <a id="2821" href="plfa.Untyped.html#10443" class="InductiveConstructor">ζ</a><a id="2822" class="Symbol">)</a>
<a id="2824" class="Keyword">open</a> <a id="2829" class="Keyword">import</a> <a id="2836" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}" class="Module">plfa.CallByName</a>
  <a id="2854" class="Keyword">using</a> <a id="2860" class="Symbol">(</a><a id="2861" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a><a id="2865" class="Symbol">;</a> <a id="2867" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a><a id="2871" class="Symbol">;</a> <a id="2873" href="plfa.CallByName.html#2428" class="Function">ClosEnv</a><a id="2880" class="Symbol">;</a> <a id="2882" href="plfa.CallByName.html#2641" class="Function">∅&#39;</a><a id="2884" class="Symbol">;</a> <a id="2886" href="plfa.CallByName.html#2663" class="Function Operator">_,&#39;_</a><a id="2890" class="Symbol">;</a> <a id="2892" href="plfa.CallByName.html#3012" class="Datatype Operator">_⊢_⇓_</a><a id="2897" class="Symbol">;</a> <a id="2899" href="plfa.CallByName.html#3069" class="InductiveConstructor">⇓-var</a><a id="2904" class="Symbol">;</a> <a id="2906" href="plfa.CallByName.html#3232" class="InductiveConstructor">⇓-lam</a><a id="2911" class="Symbol">;</a> <a id="2913" href="plfa.CallByName.html#3311" class="InductiveConstructor">⇓-app</a><a id="2918" class="Symbol">;</a> <a id="2920" href="plfa.CallByName.html#4595" class="Function">⇓-determ</a><a id="2928" class="Symbol">;</a>
         <a id="2939" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#12222" class="Function">cbn→reduce</a><a id="2949" class="Symbol">)</a>
<a id="2951" class="Keyword">open</a> <a id="2956" class="Keyword">import</a> <a id="2963" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}" class="Module">plfa.Denotational</a>
  <a id="2983" class="Keyword">using</a> <a id="2989" class="Symbol">(</a><a id="2990" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="2995" class="Symbol">;</a> <a id="2997" href="plfa.Denotational.html#7100" class="Function">Env</a><a id="3000" class="Symbol">;</a> <a id="3002" href="plfa.Denotational.html#7224" class="Function">`∅</a><a id="3004" class="Symbol">;</a> <a id="3006" href="plfa.Denotational.html#7257" class="Function Operator">_`,_</a><a id="3010" class="Symbol">;</a> <a id="3012" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">_↦_</a><a id="3015" class="Symbol">;</a> <a id="3017" href="plfa.Denotational.html#4317" class="Datatype Operator">_⊑_</a><a id="3020" class="Symbol">;</a> <a id="3022" href="plfa.Denotational.html#9274" class="Datatype Operator">_⊢_↓_</a><a id="3027" class="Symbol">;</a> <a id="3029" href="plfa.Denotational.html#3982" class="InductiveConstructor">⊥</a><a id="3030" class="Symbol">;</a> <a id="3032" href="plfa.Denotational.html#29566" class="Function">Funs∈</a><a id="3037" class="Symbol">;</a> <a id="3039" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">_⊔_</a><a id="3042" class="Symbol">;</a> <a id="3044" href="plfa.Denotational.html#27880" class="Function">∈→⊑</a><a id="3047" class="Symbol">;</a>
         <a id="3058" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9328" class="InductiveConstructor">var</a><a id="3061" class="Symbol">;</a> <a id="3063" href="plfa.Denotational.html#9407" class="InductiveConstructor">↦-elim</a><a id="3069" class="Symbol">;</a> <a id="3071" href="plfa.Denotational.html#9545" class="InductiveConstructor">↦-intro</a><a id="3078" class="Symbol">;</a> <a id="3080" href="plfa.Denotational.html#9744" class="InductiveConstructor">⊔-intro</a><a id="3087" class="Symbol">;</a> <a id="3089" href="plfa.Denotational.html#9669" class="InductiveConstructor">⊥-intro</a><a id="3096" class="Symbol">;</a> <a id="3098" href="plfa.Denotational.html#9875" class="InductiveConstructor">sub</a><a id="3101" class="Symbol">;</a> <a id="3103" href="plfa.Denotational.html#17427" class="Function">ℰ</a><a id="3104" class="Symbol">;</a> <a id="3106" href="plfa.Denotational.html#17609" class="Function Operator">_≃_</a><a id="3109" class="Symbol">;</a> <a id="3111" href="plfa.Denotational.html#16948" class="Function Operator">_iff_</a><a id="3116" class="Symbol">;</a>
         <a id="3127" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4614" class="InductiveConstructor">Trans⊑</a><a id="3133" class="Symbol">;</a> <a id="3135" href="plfa.Denotational.html#4466" class="InductiveConstructor">ConjR1⊑</a><a id="3142" class="Symbol">;</a> <a id="3144" href="plfa.Denotational.html#4540" class="InductiveConstructor">ConjR2⊑</a><a id="3151" class="Symbol">;</a> <a id="3153" href="plfa.Denotational.html#4376" class="InductiveConstructor">ConjL⊑</a><a id="3159" class="Symbol">;</a> <a id="3161" href="plfa.Denotational.html#5471" class="Function">Refl⊑</a><a id="3166" class="Symbol">;</a> <a id="3168" href="plfa.Denotational.html#4688" class="InductiveConstructor">Fun⊑</a><a id="3172" class="Symbol">;</a> <a id="3174" href="plfa.Denotational.html#4352" class="InductiveConstructor">Bot⊑</a><a id="3178" class="Symbol">;</a> <a id="3180" href="plfa.Denotational.html#4802" class="InductiveConstructor">Dist⊑</a><a id="3185" class="Symbol">;</a>
         <a id="3196" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39960" class="Function">sub-inv-fun</a><a id="3207" class="Symbol">)</a>
<a id="3209" class="Keyword">open</a> <a id="3214" class="Keyword">import</a> <a id="3221" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}" class="Module">plfa.Soundness</a> <a id="3236" class="Keyword">using</a> <a id="3242" class="Symbol">(</a><a id="3243" href="plfa.Soundness.html#23387" class="Function">soundness</a><a id="3252" class="Symbol">)</a>
<a id="3254" class="Keyword">open</a> <a id="3259" class="Keyword">import</a> <a id="3266" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}" class="Module">plfa.Substitution</a> <a id="3284" class="Keyword">using</a> <a id="3290" class="Symbol">(</a><a id="3291" href="plfa.Substitution.html#3087" class="Function">ids</a><a id="3294" class="Symbol">;</a> <a id="3296" href="plfa.Substitution.html#17027" class="Function">sub-id</a><a id="3302" class="Symbol">)</a>

<a id="3305" class="Keyword">import</a> <a id="3312" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="3350" class="Symbol">as</a> <a id="3353" class="Module">Eq</a>
<a id="3356" class="Keyword">open</a> <a id="3361" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="3364" class="Keyword">using</a> <a id="3370" class="Symbol">(</a><a id="3371" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="3374" class="Symbol">;</a> <a id="3376" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">_≢_</a><a id="3379" class="Symbol">;</a> <a id="3381" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="3385" class="Symbol">;</a> <a id="3387" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a><a id="3392" class="Symbol">;</a> <a id="3394" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a><a id="3397" class="Symbol">;</a> <a id="3399" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#1090" class="Function">cong</a><a id="3403" class="Symbol">;</a> <a id="3405" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html#1436" class="Function">cong₂</a><a id="3410" class="Symbol">;</a> <a id="3412" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html#1308" class="Function">cong-app</a><a id="3420" class="Symbol">)</a>
<a id="3422" class="Keyword">open</a> <a id="3427" class="Keyword">import</a> <a id="3434" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html" class="Module">Data.Product</a> <a id="3447" class="Keyword">using</a> <a id="3453" class="Symbol">(</a><a id="3454" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">_×_</a><a id="3457" class="Symbol">;</a> <a id="3459" href="Agda.Builtin.Sigma.html#139" class="Record">Σ</a><a id="3460" class="Symbol">;</a> <a id="3462" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ-syntax</a><a id="3470" class="Symbol">;</a> <a id="3472" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1364" class="Function">∃</a><a id="3473" class="Symbol">;</a> <a id="3475" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃-syntax</a><a id="3483" class="Symbol">;</a> <a id="3485" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="3490" class="Symbol">;</a> <a id="3492" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a><a id="3497" class="Symbol">)</a>
  <a id="3501" class="Keyword">renaming</a> <a id="3510" class="Symbol">(</a><a id="3511" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="3515" class="Symbol">to</a> <a id="3518" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="3523" class="Symbol">)</a>
<a id="3525" class="Keyword">open</a> <a id="3530" class="Keyword">import</a> <a id="3537" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="3546" class="Keyword">open</a> <a id="3551" class="Keyword">import</a> <a id="3558" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="3575" class="Keyword">using</a> <a id="3581" class="Symbol">(</a><a id="3582" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬_</a><a id="3584" class="Symbol">)</a>
<a id="3586" class="Keyword">open</a> <a id="3591" class="Keyword">import</a> <a id="3598" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="3624" class="Keyword">using</a> <a id="3630" class="Symbol">(</a><a id="3631" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a><a id="3644" class="Symbol">)</a>
<a id="3646" class="Keyword">open</a> <a id="3651" class="Keyword">import</a> <a id="3658" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="3669" class="Keyword">using</a> <a id="3675" class="Symbol">(</a><a id="3676" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a><a id="3682" class="Symbol">)</a> <a id="3684" class="Keyword">renaming</a> <a id="3693" class="Symbol">(</a><a id="3694" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a> <a id="3696" class="Symbol">to</a> <a id="3699" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a><a id="3702" class="Symbol">)</a>
<a id="3704" class="Keyword">open</a> <a id="3709" class="Keyword">import</a> <a id="3716" href="https://agda.github.io/agda-stdlib/v1.1/Data.Unit.html" class="Module">Data.Unit</a>
<a id="3726" class="Keyword">open</a> <a id="3731" class="Keyword">import</a> <a id="3738" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="3755" class="Keyword">using</a> <a id="3761" class="Symbol">(</a><a id="3762" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a><a id="3765" class="Symbol">;</a> <a id="3767" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a><a id="3770" class="Symbol">;</a> <a id="3772" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a><a id="3774" class="Symbol">)</a>
<a id="3776" class="Keyword">open</a> <a id="3781" class="Keyword">import</a> <a id="3788" href="https://agda.github.io/agda-stdlib/v1.1/Function.html" class="Module">Function</a> <a id="3797" class="Keyword">using</a> <a id="3803" class="Symbol">(</a><a id="3804" href="https://agda.github.io/agda-stdlib/v1.1/Function.html#1099" class="Function Operator">_∘_</a><a id="3807" class="Symbol">)</a>
</pre>{% endraw %}

## The property of being greater or equal to a function

We define the following short-hand for saying that a value is
greather-than or equal to a function value.

{% raw %}<pre class="Agda"><a id="AboveFun"></a><a id="3983" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="3992" class="Symbol">:</a> <a id="3994" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a> <a id="4000" class="Symbol">→</a> <a id="4002" class="PrimitiveType">Set</a>
<a id="4006" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="4015" href="plfa.Adequacy.html#4015" class="Bound">u</a> <a id="4017" class="Symbol">=</a> <a id="4019" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="4022" href="plfa.Adequacy.html#4022" class="Bound">v</a> <a id="4024" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="4026" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a> <a id="4032" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="4034" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="4037" href="plfa.Adequacy.html#4037" class="Bound">w</a> <a id="4039" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="4041" href="plfa.Denotational.html#3962" class="Datatype">Value</a> <a id="4047" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="4049" href="plfa.Adequacy.html#4022" class="Bound">v</a> <a id="4051" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="4053" href="plfa.Adequacy.html#4037" class="Bound">w</a> <a id="4055" href="plfa.Denotational.html#4317" class="Datatype Operator">⊑</a> <a id="4057" href="plfa.Adequacy.html#4015" class="Bound">u</a>
</pre>{% endraw %}
If a value `u` is greater than a function, then an even greater value `u'`
is too.

{% raw %}<pre class="Agda"><a id="AboveFun-⊑"></a><a id="4152" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4152" class="Function">AboveFun-⊑</a> <a id="4163" class="Symbol">:</a> <a id="4165" class="Symbol">∀{</a><a id="4167" href="plfa.Adequacy.html#4167" class="Bound">u</a> <a id="4169" href="plfa.Adequacy.html#4169" class="Bound">u&#39;</a> <a id="4172" class="Symbol">:</a> <a id="4174" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="4179" class="Symbol">}</a>
      <a id="4187" class="Symbol">→</a> <a id="4189" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="4198" href="plfa.Adequacy.html#4167" class="Bound">u</a> <a id="4200" class="Symbol">→</a> <a id="4202" href="plfa.Adequacy.html#4167" class="Bound">u</a> <a id="4204" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4317" class="Datatype Operator">⊑</a> <a id="4206" href="plfa.Adequacy.html#4169" class="Bound">u&#39;</a>
        <a id="4217" class="Comment">-------------------</a>
      <a id="4243" class="Symbol">→</a> <a id="4245" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="4254" href="plfa.Adequacy.html#4169" class="Bound">u&#39;</a>
<a id="4257" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4152" class="Function">AboveFun-⊑</a> <a id="4268" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4270" href="plfa.Adequacy.html#4270" class="Bound">v</a> <a id="4272" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4274" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4276" href="plfa.Adequacy.html#4276" class="Bound">w</a> <a id="4278" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4280" href="plfa.Adequacy.html#4280" class="Bound">lt&#39;</a> <a id="4284" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4286" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4288" href="plfa.Adequacy.html#4288" class="Bound">lt</a> <a id="4291" class="Symbol">=</a> <a id="4293" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4295" href="plfa.Adequacy.html#4270" class="Bound">v</a> <a id="4297" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4299" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4301" href="plfa.Adequacy.html#4276" class="Bound">w</a> <a id="4303" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4305" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4614" class="InductiveConstructor">Trans⊑</a> <a id="4312" href="plfa.Adequacy.html#4280" class="Bound">lt&#39;</a> <a id="4316" href="plfa.Adequacy.html#4288" class="Bound">lt</a> <a id="4319" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4321" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
The bottom value `⊥` is not greater than a function.

{% raw %}<pre class="Agda"><a id="AboveFun⊥"></a><a id="4386" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4386" class="Function">AboveFun⊥</a> <a id="4396" class="Symbol">:</a> <a id="4398" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="4400" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="4409" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3982" class="InductiveConstructor">⊥</a>
<a id="4411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4386" class="Function">AboveFun⊥</a> <a id="4421" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4423" href="plfa.Adequacy.html#4423" class="Bound">v</a> <a id="4425" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4427" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4429" href="plfa.Adequacy.html#4429" class="Bound">w</a> <a id="4431" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4433" href="plfa.Adequacy.html#4433" class="Bound">lt</a> <a id="4436" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4438" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4444" class="Keyword">with</a> <a id="4449" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39960" class="Function">sub-inv-fun</a> <a id="4461" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4433" class="Bound">lt</a>
<a id="4464" class="Symbol">...</a> <a id="4468" class="Symbol">|</a> <a id="4470" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4472" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4472" class="Bound">Γ</a> <a id="4474" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4476" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4478" href="plfa.Adequacy.html#4478" class="Bound">f</a> <a id="4480" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4482" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4484" href="plfa.Adequacy.html#4484" class="Bound">Γ⊆⊥</a> <a id="4488" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4490" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4492" href="plfa.Adequacy.html#4492" class="Bound">lt1</a> <a id="4496" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4498" href="plfa.Adequacy.html#4498" class="Bound">lt2</a> <a id="4502" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4504" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4506" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4508" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4514" class="Keyword">with</a> <a id="4519" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#29566" class="Function">Funs∈</a> <a id="4525" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4478" class="Bound">f</a>
<a id="4527" class="Symbol">...</a> <a id="4531" class="Symbol">|</a> <a id="4533" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4535" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4535" class="Bound">A</a> <a id="4537" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4539" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4541" href="plfa.Adequacy.html#4541" class="Bound">B</a> <a id="4543" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4545" href="plfa.Adequacy.html#4545" class="Bound">m</a> <a id="4547" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4549" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4555" class="Keyword">with</a> <a id="4560" class="Bound">Γ⊆⊥</a> <a id="4564" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4545" class="Bound">m</a>
<a id="4566" class="Symbol">...</a> <a id="4570" class="Symbol">|</a> <a id="4572" class="Symbol">()</a>
</pre>{% endraw %}
If the join of two values `u` and `u'` is greater than a function, then
at least one of them is too.

{% raw %}<pre class="Agda"><a id="AboveFun-⊔"></a><a id="4686" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4686" class="Function">AboveFun-⊔</a> <a id="4697" class="Symbol">:</a> <a id="4699" class="Symbol">∀{</a><a id="4701" href="plfa.Adequacy.html#4701" class="Bound">u</a> <a id="4703" href="plfa.Adequacy.html#4703" class="Bound">u&#39;</a><a id="4705" class="Symbol">}</a>
           <a id="4718" class="Symbol">→</a> <a id="4720" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="4729" class="Symbol">(</a><a id="4730" href="plfa.Adequacy.html#4701" class="Bound">u</a> <a id="4732" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="4734" href="plfa.Adequacy.html#4703" class="Bound">u&#39;</a><a id="4736" class="Symbol">)</a>
           <a id="4749" class="Symbol">→</a> <a id="4751" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="4760" href="plfa.Adequacy.html#4701" class="Bound">u</a> <a id="4762" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#612" class="Datatype Operator">⊎</a> <a id="4764" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="4773" href="plfa.Adequacy.html#4703" class="Bound">u&#39;</a>
<a id="4776" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4686" class="Function">AboveFun-⊔</a><a id="4786" class="Symbol">{</a><a id="4787" href="plfa.Adequacy.html#4787" class="Bound">u</a><a id="4788" class="Symbol">}{</a><a id="4790" href="plfa.Adequacy.html#4790" class="Bound">u&#39;</a><a id="4792" class="Symbol">}</a> <a id="4794" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4796" href="plfa.Adequacy.html#4796" class="Bound">v</a> <a id="4798" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4800" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4802" href="plfa.Adequacy.html#4802" class="Bound">w</a> <a id="4804" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4806" href="plfa.Adequacy.html#4806" class="Bound">v↦w⊑u⊔u&#39;</a> <a id="4815" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4817" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4823" class="Keyword">with</a> <a id="4828" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#39960" class="Function">sub-inv-fun</a> <a id="4840" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4806" class="Bound">v↦w⊑u⊔u&#39;</a>
<a id="4849" class="Symbol">...</a> <a id="4853" class="Symbol">|</a> <a id="4855" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4857" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4857" class="Bound">Γ</a> <a id="4859" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4861" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4863" href="plfa.Adequacy.html#4863" class="Bound">f</a> <a id="4865" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4867" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4869" href="plfa.Adequacy.html#4869" class="Bound">Γ⊆u⊔u&#39;</a> <a id="4876" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4878" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4880" href="plfa.Adequacy.html#4880" class="Bound">lt1</a> <a id="4884" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4886" href="plfa.Adequacy.html#4886" class="Bound">lt2</a> <a id="4890" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4892" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4894" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4896" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4902" class="Keyword">with</a> <a id="4907" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#29566" class="Function">Funs∈</a> <a id="4913" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4863" class="Bound">f</a>
<a id="4915" class="Symbol">...</a> <a id="4919" class="Symbol">|</a> <a id="4921" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4923" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4923" class="Bound">A</a> <a id="4925" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4927" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4929" href="plfa.Adequacy.html#4929" class="Bound">B</a> <a id="4931" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4933" href="plfa.Adequacy.html#4933" class="Bound">m</a> <a id="4935" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4937" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="4943" class="Keyword">with</a> <a id="4948" class="Bound">Γ⊆u⊔u&#39;</a> <a id="4955" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4933" class="Bound">m</a>
<a id="4957" class="Symbol">...</a> <a id="4961" class="Symbol">|</a> <a id="4963" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">inj₁</a> <a id="4968" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4968" class="Bound">x</a> <a id="4970" class="Symbol">=</a> <a id="4972" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">inj₁</a> <a id="4977" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4979" class="Bound">A</a> <a id="4981" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4983" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="4985" class="Bound">B</a> <a id="4987" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4989" class="Symbol">(</a><a id="4990" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#27880" class="Function">∈→⊑</a> <a id="4994" href="plfa.Adequacy.html#4968" class="Bound">x</a><a id="4995" class="Symbol">)</a> <a id="4997" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="4999" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="5001" class="Symbol">...</a> <a id="5005" class="Symbol">|</a> <a id="5007" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">inj₂</a> <a id="5012" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5012" class="Bound">x</a> <a id="5014" class="Symbol">=</a> <a id="5016" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">inj₂</a> <a id="5021" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5023" class="Bound">A</a> <a id="5025" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5027" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5029" class="Bound">B</a> <a id="5031" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5033" class="Symbol">(</a><a id="5034" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#27880" class="Function">∈→⊑</a> <a id="5038" href="plfa.Adequacy.html#5012" class="Bound">x</a><a id="5039" class="Symbol">)</a> <a id="5041" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5043" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
On the other hand, if neither of `u` and `u'` is greater than a function,
then their join is also not greater than a function.

{% raw %}<pre class="Agda"><a id="not-AboveFun-⊔"></a><a id="5182" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5182" class="Function">not-AboveFun-⊔</a> <a id="5197" class="Symbol">:</a> <a id="5199" class="Symbol">∀{</a><a id="5201" href="plfa.Adequacy.html#5201" class="Bound">u</a> <a id="5203" href="plfa.Adequacy.html#5203" class="Bound">u&#39;</a> <a id="5206" class="Symbol">:</a> <a id="5208" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="5213" class="Symbol">}</a>
               <a id="5230" class="Symbol">→</a> <a id="5232" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5234" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="5243" href="plfa.Adequacy.html#5201" class="Bound">u</a> <a id="5245" class="Symbol">→</a> <a id="5247" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5249" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5258" href="plfa.Adequacy.html#5203" class="Bound">u&#39;</a>
               <a id="5276" class="Symbol">→</a> <a id="5278" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5280" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="5289" class="Symbol">(</a><a id="5290" href="plfa.Adequacy.html#5201" class="Bound">u</a> <a id="5292" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="5294" href="plfa.Adequacy.html#5203" class="Bound">u&#39;</a><a id="5296" class="Symbol">)</a>
<a id="5298" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5182" class="Function">not-AboveFun-⊔</a> <a id="5313" href="plfa.Adequacy.html#5313" class="Bound">naf1</a> <a id="5318" href="plfa.Adequacy.html#5318" class="Bound">naf2</a> <a id="5323" href="plfa.Adequacy.html#5323" class="Bound">af12</a>
    <a id="5332" class="Keyword">with</a> <a id="5337" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4686" class="Function">AboveFun-⊔</a> <a id="5348" href="plfa.Adequacy.html#5323" class="Bound">af12</a>
<a id="5353" class="Symbol">...</a> <a id="5357" class="Symbol">|</a> <a id="5359" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">inj₁</a> <a id="5364" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5364" class="Bound">af1</a> <a id="5368" class="Symbol">=</a> <a id="5370" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5384" href="plfa.Adequacy.html#5364" class="Bound">af1</a> <a id="5388" class="Bound">naf1</a>
<a id="5393" class="Symbol">...</a> <a id="5397" class="Symbol">|</a> <a id="5399" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">inj₂</a> <a id="5404" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5404" class="Bound">af2</a> <a id="5408" class="Symbol">=</a> <a id="5410" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5424" href="plfa.Adequacy.html#5404" class="Bound">af2</a> <a id="5428" class="Bound">naf2</a>
</pre>{% endraw %}
The converse is also true. If the join of two values is not above a
function, then neither of them is individually.

{% raw %}<pre class="Agda"><a id="not-AboveFun-⊔-inv"></a><a id="5559" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5559" class="Function">not-AboveFun-⊔-inv</a> <a id="5578" class="Symbol">:</a> <a id="5580" class="Symbol">∀{</a><a id="5582" href="plfa.Adequacy.html#5582" class="Bound">u</a> <a id="5584" href="plfa.Adequacy.html#5584" class="Bound">u&#39;</a> <a id="5587" class="Symbol">:</a> <a id="5589" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="5594" class="Symbol">}</a> <a id="5596" class="Symbol">→</a> <a id="5598" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5600" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5609" class="Symbol">(</a><a id="5610" href="plfa.Adequacy.html#5582" class="Bound">u</a> <a id="5612" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="5614" href="plfa.Adequacy.html#5584" class="Bound">u&#39;</a><a id="5616" class="Symbol">)</a>
              <a id="5632" class="Symbol">→</a> <a id="5634" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5636" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="5645" href="plfa.Adequacy.html#5582" class="Bound">u</a> <a id="5647" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a> <a id="5649" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5651" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5660" href="plfa.Adequacy.html#5584" class="Bound">u&#39;</a>
<a id="5663" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5559" class="Function">not-AboveFun-⊔-inv</a> <a id="5682" href="plfa.Adequacy.html#5682" class="Bound">af</a> <a id="5685" class="Symbol">=</a> <a id="5687" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5689" href="plfa.Adequacy.html#5715" class="Function">f</a> <a id="5691" href="plfa.Adequacy.html#5682" class="Bound">af</a> <a id="5694" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5696" href="plfa.Adequacy.html#5869" class="Function">g</a> <a id="5698" href="plfa.Adequacy.html#5682" class="Bound">af</a> <a id="5701" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
  <a id="5705" class="Keyword">where</a>
    <a id="5715" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5715" class="Function">f</a> <a id="5717" class="Symbol">:</a> <a id="5719" class="Symbol">∀{</a><a id="5721" href="plfa.Adequacy.html#5721" class="Bound">u</a> <a id="5723" href="plfa.Adequacy.html#5723" class="Bound">u&#39;</a> <a id="5726" class="Symbol">:</a> <a id="5728" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="5733" class="Symbol">}</a> <a id="5735" class="Symbol">→</a> <a id="5737" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5739" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5748" class="Symbol">(</a><a id="5749" href="plfa.Adequacy.html#5721" class="Bound">u</a> <a id="5751" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="5753" href="plfa.Adequacy.html#5723" class="Bound">u&#39;</a><a id="5755" class="Symbol">)</a> <a id="5757" class="Symbol">→</a> <a id="5759" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5761" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5770" href="plfa.Adequacy.html#5721" class="Bound">u</a>
    <a id="5776" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5715" class="Function">f</a><a id="5777" class="Symbol">{</a><a id="5778" href="plfa.Adequacy.html#5778" class="Bound">u</a><a id="5779" class="Symbol">}{</a><a id="5781" href="plfa.Adequacy.html#5781" class="Bound">u&#39;</a><a id="5783" class="Symbol">}</a> <a id="5785" href="plfa.Adequacy.html#5785" class="Bound">af12</a> <a id="5790" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5792" href="plfa.Adequacy.html#5792" class="Bound">v</a> <a id="5794" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5796" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5798" href="plfa.Adequacy.html#5798" class="Bound">w</a> <a id="5800" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5802" href="plfa.Adequacy.html#5802" class="Bound">lt</a> <a id="5805" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5807" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5809" class="Symbol">=</a>
        <a id="5819" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5833" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5835" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5792" class="Bound">v</a> <a id="5837" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5839" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5841" href="plfa.Adequacy.html#5798" class="Bound">w</a> <a id="5843" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5845" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4466" class="InductiveConstructor">ConjR1⊑</a> <a id="5853" href="plfa.Adequacy.html#5802" class="Bound">lt</a> <a id="5856" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5858" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5860" href="plfa.Adequacy.html#5785" class="Bound">af12</a>
    <a id="5869" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5869" class="Function">g</a> <a id="5871" class="Symbol">:</a> <a id="5873" class="Symbol">∀{</a><a id="5875" href="plfa.Adequacy.html#5875" class="Bound">u</a> <a id="5877" href="plfa.Adequacy.html#5877" class="Bound">u&#39;</a> <a id="5880" class="Symbol">:</a> <a id="5882" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="5887" class="Symbol">}</a> <a id="5889" class="Symbol">→</a> <a id="5891" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5893" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5902" class="Symbol">(</a><a id="5903" href="plfa.Adequacy.html#5875" class="Bound">u</a> <a id="5905" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="5907" href="plfa.Adequacy.html#5877" class="Bound">u&#39;</a><a id="5909" class="Symbol">)</a> <a id="5911" class="Symbol">→</a> <a id="5913" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5915" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="5924" href="plfa.Adequacy.html#5877" class="Bound">u&#39;</a>
    <a id="5931" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5869" class="Function">g</a><a id="5932" class="Symbol">{</a><a id="5933" href="plfa.Adequacy.html#5933" class="Bound">u</a><a id="5934" class="Symbol">}{</a><a id="5936" href="plfa.Adequacy.html#5936" class="Bound">u&#39;</a><a id="5938" class="Symbol">}</a> <a id="5940" href="plfa.Adequacy.html#5940" class="Bound">af12</a> <a id="5945" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5947" href="plfa.Adequacy.html#5947" class="Bound">v</a> <a id="5949" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5951" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5953" href="plfa.Adequacy.html#5953" class="Bound">w</a> <a id="5955" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5957" href="plfa.Adequacy.html#5957" class="Bound">lt</a> <a id="5960" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5962" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5964" class="Symbol">=</a>
        <a id="5974" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="5988" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5990" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5947" class="Bound">v</a> <a id="5992" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5994" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5996" href="plfa.Adequacy.html#5953" class="Bound">w</a> <a id="5998" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4540" class="InductiveConstructor">ConjR2⊑</a> <a id="6008" href="plfa.Adequacy.html#5957" class="Bound">lt</a> <a id="6011" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6013" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6015" href="plfa.Adequacy.html#5940" class="Bound">af12</a>
</pre>{% endraw %}
The property of being greater than a function value is decidable, as
exhibited by the following function.

{% raw %}<pre class="Agda"><a id="AboveFun?"></a><a id="6136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="6146" class="Symbol">:</a> <a id="6148" class="Symbol">(</a><a id="6149" href="plfa.Adequacy.html#6149" class="Bound">v</a> <a id="6151" class="Symbol">:</a> <a id="6153" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="6158" class="Symbol">)</a> <a id="6160" class="Symbol">→</a> <a id="6162" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="6166" class="Symbol">(</a><a id="6167" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="6176" href="plfa.Adequacy.html#6149" class="Bound">v</a><a id="6177" class="Symbol">)</a>
<a id="6179" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="6189" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3982" class="InductiveConstructor">⊥</a> <a id="6191" class="Symbol">=</a> <a id="6193" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6196" href="plfa.Adequacy.html#4386" class="Function">AboveFun⊥</a>
<a id="6206" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="6216" class="Symbol">(</a><a id="6217" href="plfa.Adequacy.html#6217" class="Bound">v</a> <a id="6219" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="6221" href="plfa.Adequacy.html#6221" class="Bound">w</a><a id="6222" class="Symbol">)</a> <a id="6224" class="Symbol">=</a> <a id="6226" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6230" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6232" href="plfa.Adequacy.html#6217" class="Bound">v</a> <a id="6234" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6236" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6238" href="plfa.Adequacy.html#6221" class="Bound">w</a> <a id="6240" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6242" href="plfa.Denotational.html#5471" class="Function">Refl⊑</a> <a id="6248" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6250" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="6252" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="6262" class="Symbol">(</a><a id="6263" href="plfa.Adequacy.html#6263" class="Bound">u</a> <a id="6265" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="6267" href="plfa.Adequacy.html#6267" class="Bound">u&#39;</a><a id="6269" class="Symbol">)</a>
    <a id="6275" class="Keyword">with</a> <a id="6280" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="6290" href="plfa.Adequacy.html#6263" class="Bound">u</a> <a id="6292" class="Symbol">|</a> <a id="6294" href="plfa.Adequacy.html#6136" class="Function">AboveFun?</a> <a id="6304" href="plfa.Adequacy.html#6267" class="Bound">u&#39;</a>
<a id="6307" class="Symbol">...</a> <a id="6311" class="Symbol">|</a> <a id="6313" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6317" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6319" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6319" class="Bound">v</a> <a id="6321" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6323" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6325" href="plfa.Adequacy.html#6325" class="Bound">w</a> <a id="6327" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6329" href="plfa.Adequacy.html#6329" class="Bound">lt</a> <a id="6332" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6334" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6336" class="Symbol">|</a> <a id="6338" class="Symbol">_</a> <a id="6340" class="Symbol">=</a> <a id="6342" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6346" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6348" href="plfa.Adequacy.html#6319" class="Bound">v</a> <a id="6350" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6352" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6354" href="plfa.Adequacy.html#6325" class="Bound">w</a> <a id="6356" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6358" class="Symbol">(</a><a id="6359" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4466" class="InductiveConstructor">ConjR1⊑</a> <a id="6367" href="plfa.Adequacy.html#6329" class="Bound">lt</a><a id="6369" class="Symbol">)</a> <a id="6371" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6373" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="6375" class="Symbol">...</a> <a id="6379" class="Symbol">|</a> <a id="6381" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6384" class="Symbol">_</a> <a id="6386" class="Symbol">|</a> <a id="6388" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6392" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6394" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6394" class="Bound">v</a> <a id="6396" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6398" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6400" href="plfa.Adequacy.html#6400" class="Bound">w</a> <a id="6402" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6404" href="plfa.Adequacy.html#6404" class="Bound">lt</a> <a id="6407" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6409" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6411" class="Symbol">=</a> <a id="6413" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6417" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6419" href="plfa.Adequacy.html#6394" class="Bound">v</a> <a id="6421" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6423" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6425" href="plfa.Adequacy.html#6400" class="Bound">w</a> <a id="6427" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6429" class="Symbol">(</a><a id="6430" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4540" class="InductiveConstructor">ConjR2⊑</a> <a id="6438" href="plfa.Adequacy.html#6404" class="Bound">lt</a><a id="6440" class="Symbol">)</a> <a id="6442" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="6444" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="6446" class="Symbol">...</a> <a id="6450" class="Symbol">|</a> <a id="6452" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6455" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6455" class="Bound">x</a> <a id="6457" class="Symbol">|</a> <a id="6459" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6462" href="plfa.Adequacy.html#6462" class="Bound">y</a> <a id="6464" class="Symbol">=</a> <a id="6466" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6469" class="Symbol">(</a><a id="6470" href="plfa.Adequacy.html#5182" class="Function">not-AboveFun-⊔</a> <a id="6485" href="plfa.Adequacy.html#6455" class="Bound">x</a> <a id="6487" href="plfa.Adequacy.html#6462" class="Bound">y</a><a id="6488" class="Symbol">)</a>
</pre>{% endraw %}

## Relating values to closures

Next we relate semantic values to closures.  The relation `𝕍` is for
closures whose term is a lambda abstraction, i.e., in weak-head normal
form (WHNF). The relation 𝔼 is for any closure. Roughly speaking,
`𝔼 v c` will hold if, when `v` is greater than a function value, `c` evaluates
to a closure `c'` in WHNF and `𝕍 v c'`. Regarding `𝕍 v c`, it will hold when
`c` is in WHNF, and if `v` is a function, the body of `c` evaluates
according to `v`.

{% raw %}<pre class="Agda"><a id="𝕍"></a><a id="6981" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="6983" class="Symbol">:</a> <a id="6985" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a> <a id="6991" class="Symbol">→</a> <a id="6993" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a> <a id="6998" class="Symbol">→</a> <a id="7000" class="PrimitiveType">Set</a>
<a id="𝔼"></a><a id="7004" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7004" class="Function">𝔼</a> <a id="7006" class="Symbol">:</a> <a id="7008" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a> <a id="7014" class="Symbol">→</a> <a id="7016" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a> <a id="7021" class="Symbol">→</a> <a id="7023" class="PrimitiveType">Set</a>
</pre>{% endraw %}
We define `𝕍` as a function from values and closures to `Set` and not as a
data type because it is mutually recursive with `𝔼` in a negative
position (to the left of an implication).  We first perform case
analysis on the term in the closure. If the term is a variable or
application, then `𝕍` is false (`Bot`). If the term is a lambda
abstraction, we define `𝕍` by recursion on the value, which we
describe below.

{% raw %}<pre class="Agda"><a id="7452" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="7454" href="plfa.Adequacy.html#7454" class="Bound">v</a> <a id="7456" class="Symbol">(</a><a id="7457" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="7462" class="Symbol">(</a><a id="7463" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="7465" href="plfa.Adequacy.html#7465" class="Bound">x₁</a><a id="7467" class="Symbol">)</a> <a id="7469" href="plfa.Adequacy.html#7469" class="Bound">γ</a><a id="7470" class="Symbol">)</a> <a id="7472" class="Symbol">=</a> <a id="7474" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a>
<a id="7478" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="7480" href="plfa.Adequacy.html#7480" class="Bound">v</a> <a id="7482" class="Symbol">(</a><a id="7483" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="7488" class="Symbol">(</a><a id="7489" href="plfa.Adequacy.html#7489" class="Bound">M</a> <a id="7491" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">·</a> <a id="7493" href="plfa.Adequacy.html#7493" class="Bound">M₁</a><a id="7495" class="Symbol">)</a> <a id="7497" href="plfa.Adequacy.html#7497" class="Bound">γ</a><a id="7498" class="Symbol">)</a> <a id="7500" class="Symbol">=</a> <a id="7502" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">Bot</a>
<a id="7506" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="7508" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3982" class="InductiveConstructor">⊥</a> <a id="7510" class="Symbol">(</a><a id="7511" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="7516" class="Symbol">(</a><a id="7517" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="7519" href="plfa.Adequacy.html#7519" class="Bound">M</a><a id="7520" class="Symbol">)</a> <a id="7522" href="plfa.Adequacy.html#7522" class="Bound">γ</a><a id="7523" class="Symbol">)</a> <a id="7525" class="Symbol">=</a> <a id="7527" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a>
<a id="7529" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="7531" class="Symbol">(</a><a id="7532" href="plfa.Adequacy.html#7532" class="Bound">v</a> <a id="7534" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="7536" href="plfa.Adequacy.html#7536" class="Bound">w</a><a id="7537" class="Symbol">)</a> <a id="7539" class="Symbol">(</a><a id="7540" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="7545" class="Symbol">(</a><a id="7546" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="7548" href="plfa.Adequacy.html#7548" class="Bound">N</a><a id="7549" class="Symbol">)</a> <a id="7551" href="plfa.Adequacy.html#7551" class="Bound">γ</a><a id="7552" class="Symbol">)</a> <a id="7554" class="Symbol">=</a>
    <a id="7560" class="Symbol">(∀{</a><a id="7563" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7563" class="Bound">c</a> <a id="7565" class="Symbol">:</a> <a id="7567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a><a id="7571" class="Symbol">}</a> <a id="7573" class="Symbol">→</a> <a id="7575" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="7577" href="plfa.Adequacy.html#7532" class="Bound">v</a> <a id="7579" href="plfa.Adequacy.html#7563" class="Bound">c</a> <a id="7581" class="Symbol">→</a> <a id="7583" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="7592" href="plfa.Adequacy.html#7536" class="Bound">w</a> <a id="7594" class="Symbol">→</a> <a id="7596" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="7599" href="plfa.Adequacy.html#7599" class="Bound">c&#39;</a> <a id="7602" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="7604" href="plfa.CallByName.html#2458" class="Datatype">Clos</a> <a id="7609" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
        <a id="7619" class="Symbol">(</a><a id="7620" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7551" class="Bound">γ</a> <a id="7622" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2663" class="Function Operator">,&#39;</a> <a id="7625" href="plfa.Adequacy.html#7563" class="Bound">c</a><a id="7626" class="Symbol">)</a> <a id="7628" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="7630" href="plfa.Adequacy.html#7548" class="Bound">N</a> <a id="7632" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="7634" href="plfa.Adequacy.html#7599" class="Bound">c&#39;</a>  <a id="7638" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a>  <a id="7641" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="7643" href="plfa.Adequacy.html#7536" class="Bound">w</a> <a id="7645" href="plfa.Adequacy.html#7599" class="Bound">c&#39;</a><a id="7647" class="Symbol">)</a>
<a id="7649" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="7651" class="Symbol">(</a><a id="7652" href="plfa.Adequacy.html#7652" class="Bound">u</a> <a id="7654" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="7656" href="plfa.Adequacy.html#7656" class="Bound">v</a><a id="7657" class="Symbol">)</a> <a id="7659" class="Symbol">(</a><a id="7660" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="7665" class="Symbol">(</a><a id="7666" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="7668" href="plfa.Adequacy.html#7668" class="Bound">N</a><a id="7669" class="Symbol">)</a> <a id="7671" href="plfa.Adequacy.html#7671" class="Bound">γ</a><a id="7672" class="Symbol">)</a> <a id="7674" class="Symbol">=</a> <a id="7676" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="7678" href="plfa.Adequacy.html#7652" class="Bound">u</a> <a id="7680" class="Symbol">(</a><a id="7681" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a> <a id="7686" class="Symbol">(</a><a id="7687" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ</a> <a id="7689" href="plfa.Adequacy.html#7668" class="Bound">N</a><a id="7690" class="Symbol">)</a> <a id="7692" href="plfa.Adequacy.html#7671" class="Bound">γ</a><a id="7693" class="Symbol">)</a> <a id="7695" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a> <a id="7697" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="7699" href="plfa.Adequacy.html#7656" class="Bound">v</a> <a id="7701" class="Symbol">(</a><a id="7702" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a> <a id="7707" class="Symbol">(</a><a id="7708" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ</a> <a id="7710" href="plfa.Adequacy.html#7668" class="Bound">N</a><a id="7711" class="Symbol">)</a> <a id="7713" href="plfa.Adequacy.html#7671" class="Bound">γ</a><a id="7714" class="Symbol">)</a>
</pre>{% endraw %}
* If the value is `⊥`, then the result is true (`⊤`).

* If the value is a join (u ⊔ v), then the result is the pair
  (conjunction) of 𝕍 is true for both u and v.

* The important case is for a function value `v ↦ w` and closure
  `clos (ƛ N) γ`. Given any closure `c` such that `𝔼 v c`, if `w` is
  greater than a function, then `N` evaluates (with `γ` extended with `c`)
  to some closure `c'` and we have `𝕍 w c'`.


The definition of `𝔼` is straightforward. If `v` is a greater than a
function, then `M` evaluates to a closure related to `v`.

{% raw %}<pre class="Agda"><a id="8274" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#7004" class="Function">𝔼</a> <a id="8276" href="plfa.Adequacy.html#8276" class="Bound">v</a> <a id="8278" class="Symbol">(</a><a id="8279" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="8284" href="plfa.Adequacy.html#8284" class="Bound">M</a> <a id="8286" href="plfa.Adequacy.html#8286" class="Bound">γ&#39;</a><a id="8288" class="Symbol">)</a> <a id="8290" class="Symbol">=</a> <a id="8292" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="8301" href="plfa.Adequacy.html#8276" class="Bound">v</a> <a id="8303" class="Symbol">→</a> <a id="8305" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="8308" href="plfa.Adequacy.html#8308" class="Bound">c</a> <a id="8310" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="8312" href="plfa.CallByName.html#2458" class="Datatype">Clos</a> <a id="8317" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="8319" href="plfa.Adequacy.html#8286" class="Bound">γ&#39;</a> <a id="8322" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="8324" href="plfa.Adequacy.html#8284" class="Bound">M</a> <a id="8326" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="8328" href="plfa.Adequacy.html#8308" class="Bound">c</a> <a id="8330" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a> <a id="8332" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="8334" href="plfa.Adequacy.html#8276" class="Bound">v</a> <a id="8336" href="plfa.Adequacy.html#8308" class="Bound">c</a>
</pre>{% endraw %}
The proof of the main lemma is by induction on `γ ⊢ M ↓ v`, so it goes
underneath lambda abstractions and must therefore reason about open
terms (terms with variables). So we must relate environments of
semantic values to environments of closures.  In the following, `𝔾`
relates `γ` to `γ'` if the corresponding values and closures are related
by `𝔼`.

{% raw %}<pre class="Agda"><a id="𝔾"></a><a id="8700" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8700" class="Function">𝔾</a> <a id="8702" class="Symbol">:</a> <a id="8704" class="Symbol">∀{</a><a id="8706" href="plfa.Adequacy.html#8706" class="Bound">Γ</a><a id="8707" class="Symbol">}</a> <a id="8709" class="Symbol">→</a> <a id="8711" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7100" class="Function">Env</a> <a id="8715" href="plfa.Adequacy.html#8706" class="Bound">Γ</a> <a id="8717" class="Symbol">→</a> <a id="8719" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="8727" href="plfa.Adequacy.html#8706" class="Bound">Γ</a> <a id="8729" class="Symbol">→</a> <a id="8731" class="PrimitiveType">Set</a>
<a id="8735" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8700" class="Function">𝔾</a> <a id="8737" class="Symbol">{</a><a id="8738" href="plfa.Adequacy.html#8738" class="Bound">Γ</a><a id="8739" class="Symbol">}</a> <a id="8741" href="plfa.Adequacy.html#8741" class="Bound">γ</a> <a id="8743" href="plfa.Adequacy.html#8743" class="Bound">γ&#39;</a> <a id="8746" class="Symbol">=</a> <a id="8748" class="Symbol">∀{</a><a id="8750" href="plfa.Adequacy.html#8750" class="Bound">x</a> <a id="8752" class="Symbol">:</a> <a id="8754" href="plfa.Adequacy.html#8738" class="Bound">Γ</a> <a id="8756" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3483" class="Datatype Operator">∋</a> <a id="8758" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="8759" class="Symbol">}</a> <a id="8761" class="Symbol">→</a> <a id="8763" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="8765" class="Symbol">(</a><a id="8766" href="plfa.Adequacy.html#8741" class="Bound">γ</a> <a id="8768" href="plfa.Adequacy.html#8750" class="Bound">x</a><a id="8769" class="Symbol">)</a> <a id="8771" class="Symbol">(</a><a id="8772" href="plfa.Adequacy.html#8743" class="Bound">γ&#39;</a> <a id="8775" href="plfa.Adequacy.html#8750" class="Bound">x</a><a id="8776" class="Symbol">)</a>

<a id="𝔾-∅"></a><a id="8779" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8779" class="Function">𝔾-∅</a> <a id="8783" class="Symbol">:</a> <a id="8785" href="plfa.Adequacy.html#8700" class="Function">𝔾</a> <a id="8787" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7224" class="Function">`∅</a> <a id="8790" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2641" class="Function">∅&#39;</a>
<a id="8793" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8779" class="Function">𝔾-∅</a> <a id="8797" class="Symbol">{()}</a>

<a id="𝔾-ext"></a><a id="8803" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8803" class="Function">𝔾-ext</a> <a id="8809" class="Symbol">:</a> <a id="8811" class="Symbol">∀{</a><a id="8813" href="plfa.Adequacy.html#8813" class="Bound">Γ</a><a id="8814" class="Symbol">}{</a><a id="8816" href="plfa.Adequacy.html#8816" class="Bound">γ</a> <a id="8818" class="Symbol">:</a> <a id="8820" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7100" class="Function">Env</a> <a id="8824" href="plfa.Adequacy.html#8813" class="Bound">Γ</a><a id="8825" class="Symbol">}{</a><a id="8827" href="plfa.Adequacy.html#8827" class="Bound">γ&#39;</a> <a id="8830" class="Symbol">:</a> <a id="8832" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="8840" href="plfa.Adequacy.html#8813" class="Bound">Γ</a><a id="8841" class="Symbol">}{</a><a id="8843" href="plfa.Adequacy.html#8843" class="Bound">v</a> <a id="8845" href="plfa.Adequacy.html#8845" class="Bound">c</a><a id="8846" class="Symbol">}</a>
      <a id="8854" class="Symbol">→</a> <a id="8856" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8700" class="Function">𝔾</a> <a id="8858" href="plfa.Adequacy.html#8816" class="Bound">γ</a> <a id="8860" href="plfa.Adequacy.html#8827" class="Bound">γ&#39;</a> <a id="8863" class="Symbol">→</a> <a id="8865" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="8867" href="plfa.Adequacy.html#8843" class="Bound">v</a> <a id="8869" href="plfa.Adequacy.html#8845" class="Bound">c</a> <a id="8871" class="Symbol">→</a> <a id="8873" href="plfa.Adequacy.html#8700" class="Function">𝔾</a> <a id="8875" class="Symbol">(</a><a id="8876" href="plfa.Adequacy.html#8816" class="Bound">γ</a> <a id="8878" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7257" class="Function Operator">`,</a> <a id="8881" href="plfa.Adequacy.html#8843" class="Bound">v</a><a id="8882" class="Symbol">)</a> <a id="8884" class="Symbol">(</a><a id="8885" href="plfa.Adequacy.html#8827" class="Bound">γ&#39;</a> <a id="8888" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2663" class="Function Operator">,&#39;</a> <a id="8891" href="plfa.Adequacy.html#8845" class="Bound">c</a><a id="8892" class="Symbol">)</a>
<a id="8894" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8803" class="Function">𝔾-ext</a> <a id="8900" class="Symbol">{</a><a id="8901" href="plfa.Adequacy.html#8901" class="Bound">Γ</a><a id="8902" class="Symbol">}</a> <a id="8904" class="Symbol">{</a><a id="8905" href="plfa.Adequacy.html#8905" class="Bound">γ</a><a id="8906" class="Symbol">}</a> <a id="8908" class="Symbol">{</a><a id="8909" href="plfa.Adequacy.html#8909" class="Bound">γ&#39;</a><a id="8911" class="Symbol">}</a> <a id="8913" href="plfa.Adequacy.html#8913" class="Bound">g</a> <a id="8915" href="plfa.Adequacy.html#8915" class="Bound">e</a> <a id="8917" class="Symbol">{</a><a id="8918" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3519" class="InductiveConstructor">Z</a><a id="8919" class="Symbol">}</a> <a id="8921" class="Symbol">=</a> <a id="8923" href="plfa.Adequacy.html#8915" class="Bound">e</a>
<a id="8925" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8803" class="Function">𝔾-ext</a> <a id="8931" class="Symbol">{</a><a id="8932" href="plfa.Adequacy.html#8932" class="Bound">Γ</a><a id="8933" class="Symbol">}</a> <a id="8935" class="Symbol">{</a><a id="8936" href="plfa.Adequacy.html#8936" class="Bound">γ</a><a id="8937" class="Symbol">}</a> <a id="8939" class="Symbol">{</a><a id="8940" href="plfa.Adequacy.html#8940" class="Bound">γ&#39;</a><a id="8942" class="Symbol">}</a> <a id="8944" href="plfa.Adequacy.html#8944" class="Bound">g</a> <a id="8946" href="plfa.Adequacy.html#8946" class="Bound">e</a> <a id="8948" class="Symbol">{</a><a id="8949" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3564" class="InductiveConstructor Operator">S</a> <a id="8951" href="plfa.Adequacy.html#8951" class="Bound">x</a><a id="8952" class="Symbol">}</a> <a id="8954" class="Symbol">=</a> <a id="8956" href="plfa.Adequacy.html#8944" class="Bound">g</a>
</pre>{% endraw %}

We need a few properties of the `𝕍` and `𝔼` relations.  The first is that
a closure in the `𝕍` relation must be in weak-head normal form.  We
define WHNF has follows.

{% raw %}<pre class="Agda"><a id="9136" class="Keyword">data</a> <a id="WHNF"></a><a id="9141" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9141" class="Datatype">WHNF</a> <a id="9146" class="Symbol">:</a> <a id="9148" class="Symbol">∀</a> <a id="9150" class="Symbol">{</a><a id="9151" href="plfa.Adequacy.html#9151" class="Bound">Γ</a> <a id="9153" href="plfa.Adequacy.html#9153" class="Bound">A</a><a id="9154" class="Symbol">}</a> <a id="9156" class="Symbol">→</a> <a id="9158" href="plfa.Adequacy.html#9151" class="Bound">Γ</a> <a id="9160" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">⊢</a> <a id="9162" href="plfa.Adequacy.html#9153" class="Bound">A</a> <a id="9164" class="Symbol">→</a> <a id="9166" class="PrimitiveType">Set</a> <a id="9170" class="Keyword">where</a>
  <a id="WHNF.ƛ_"></a><a id="9178" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="9181" class="Symbol">:</a> <a id="9183" class="Symbol">∀</a> <a id="9185" class="Symbol">{</a><a id="9186" href="plfa.Adequacy.html#9186" class="Bound">Γ</a><a id="9187" class="Symbol">}</a> <a id="9189" class="Symbol">{</a><a id="9190" href="plfa.Adequacy.html#9190" class="Bound">N</a> <a id="9192" class="Symbol">:</a> <a id="9194" href="plfa.Adequacy.html#9186" class="Bound">Γ</a> <a id="9196" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3168" class="InductiveConstructor Operator">,</a> <a id="9198" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="9200" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="9202" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="9203" class="Symbol">}</a>
     <a id="9210" class="Symbol">→</a> <a id="9212" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9141" class="Datatype">WHNF</a> <a id="9217" class="Symbol">(</a><a id="9218" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="9220" href="plfa.Adequacy.html#9190" class="Bound">N</a><a id="9221" class="Symbol">)</a>
</pre>{% endraw %}
The proof goes by cases on the term in the closure.

{% raw %}<pre class="Agda"><a id="𝕍→WHNF"></a><a id="9285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="9292" class="Symbol">:</a> <a id="9294" class="Symbol">∀{</a><a id="9296" href="plfa.Adequacy.html#9296" class="Bound">Γ</a><a id="9297" class="Symbol">}{</a><a id="9299" href="plfa.Adequacy.html#9299" class="Bound">γ</a> <a id="9301" class="Symbol">:</a> <a id="9303" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="9311" href="plfa.Adequacy.html#9296" class="Bound">Γ</a><a id="9312" class="Symbol">}{</a><a id="9314" href="plfa.Adequacy.html#9314" class="Bound">M</a> <a id="9316" class="Symbol">:</a> <a id="9318" href="plfa.Adequacy.html#9296" class="Bound">Γ</a> <a id="9320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">⊢</a> <a id="9322" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="9323" class="Symbol">}{</a><a id="9325" href="plfa.Adequacy.html#9325" class="Bound">v</a><a id="9326" class="Symbol">}</a>
       <a id="9335" class="Symbol">→</a> <a id="9337" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="9339" href="plfa.Adequacy.html#9325" class="Bound">v</a> <a id="9341" class="Symbol">(</a><a id="9342" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="9347" href="plfa.Adequacy.html#9314" class="Bound">M</a> <a id="9349" href="plfa.Adequacy.html#9299" class="Bound">γ</a><a id="9350" class="Symbol">)</a> <a id="9352" class="Symbol">→</a> <a id="9354" href="plfa.Adequacy.html#9141" class="Datatype">WHNF</a> <a id="9359" href="plfa.Adequacy.html#9314" class="Bound">M</a>
<a id="9361" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="9368" class="Symbol">{</a><a id="9369" class="Argument">M</a> <a id="9371" class="Symbol">=</a> <a id="9373" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="9375" href="plfa.Adequacy.html#9375" class="Bound">x</a><a id="9376" class="Symbol">}</a> <a id="9378" class="Symbol">{</a><a id="9379" href="plfa.Adequacy.html#9379" class="Bound">v</a><a id="9380" class="Symbol">}</a> <a id="9382" class="Symbol">()</a>
<a id="9385" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="9392" class="Symbol">{</a><a id="9393" class="Argument">M</a> <a id="9395" class="Symbol">=</a> <a id="9397" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="9399" href="plfa.Adequacy.html#9399" class="Bound">N</a><a id="9400" class="Symbol">}</a> <a id="9402" class="Symbol">{</a><a id="9403" href="plfa.Adequacy.html#9403" class="Bound">v</a><a id="9404" class="Symbol">}</a> <a id="9406" href="plfa.Adequacy.html#9406" class="Bound">vc</a> <a id="9409" class="Symbol">=</a> <a id="9411" href="plfa.Adequacy.html#9178" class="InductiveConstructor Operator">ƛ_</a>
<a id="9414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="9421" class="Symbol">{</a><a id="9422" class="Argument">M</a> <a id="9424" class="Symbol">=</a> <a id="9426" href="plfa.Adequacy.html#9426" class="Bound">L</a> <a id="9428" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">·</a> <a id="9430" href="plfa.Adequacy.html#9430" class="Bound">M</a><a id="9431" class="Symbol">}</a> <a id="9433" class="Symbol">{</a><a id="9434" href="plfa.Adequacy.html#9434" class="Bound">v</a><a id="9435" class="Symbol">}</a> <a id="9437" class="Symbol">()</a>
</pre>{% endraw %}
Next we have an introduction rule for `𝕍` that mimics the `⊔-intro`
rule. If both `u` and `v` are related to a closure `c`, then their join is
too.

{% raw %}<pre class="Agda"><a id="𝕍⊔-intro"></a><a id="9598" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9598" class="Function">𝕍⊔-intro</a> <a id="9607" class="Symbol">:</a> <a id="9609" class="Symbol">∀{</a><a id="9611" href="plfa.Adequacy.html#9611" class="Bound">c</a> <a id="9613" href="plfa.Adequacy.html#9613" class="Bound">u</a> <a id="9615" href="plfa.Adequacy.html#9615" class="Bound">v</a><a id="9616" class="Symbol">}</a>
         <a id="9627" class="Symbol">→</a> <a id="9629" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="9631" href="plfa.Adequacy.html#9613" class="Bound">u</a> <a id="9633" href="plfa.Adequacy.html#9611" class="Bound">c</a> <a id="9635" class="Symbol">→</a> <a id="9637" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="9639" href="plfa.Adequacy.html#9615" class="Bound">v</a> <a id="9641" href="plfa.Adequacy.html#9611" class="Bound">c</a>
           <a id="9654" class="Comment">---------------</a>
         <a id="9679" class="Symbol">→</a> <a id="9681" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="9683" class="Symbol">(</a><a id="9684" href="plfa.Adequacy.html#9613" class="Bound">u</a> <a id="9686" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="9688" href="plfa.Adequacy.html#9615" class="Bound">v</a><a id="9689" class="Symbol">)</a> <a id="9691" href="plfa.Adequacy.html#9611" class="Bound">c</a>
<a id="9693" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9598" class="Function">𝕍⊔-intro</a> <a id="9702" class="Symbol">{</a><a id="9703" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="9708" class="Symbol">(</a><a id="9709" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="9711" href="plfa.Adequacy.html#9711" class="Bound">x</a><a id="9712" class="Symbol">)</a> <a id="9714" href="plfa.Adequacy.html#9714" class="Bound">γ</a><a id="9715" class="Symbol">}</a> <a id="9717" class="Symbol">()</a> <a id="9720" href="plfa.Adequacy.html#9720" class="Bound">vc</a>
<a id="9723" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9598" class="Function">𝕍⊔-intro</a> <a id="9732" class="Symbol">{</a><a id="9733" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="9738" class="Symbol">(</a><a id="9739" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="9741" href="plfa.Adequacy.html#9741" class="Bound">N</a><a id="9742" class="Symbol">)</a> <a id="9744" href="plfa.Adequacy.html#9744" class="Bound">γ</a><a id="9745" class="Symbol">}</a> <a id="9747" href="plfa.Adequacy.html#9747" class="Bound">uc</a> <a id="9750" href="plfa.Adequacy.html#9750" class="Bound">vc</a> <a id="9753" class="Symbol">=</a> <a id="9755" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="9757" href="plfa.Adequacy.html#9747" class="Bound">uc</a> <a id="9760" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9762" href="plfa.Adequacy.html#9750" class="Bound">vc</a> <a id="9765" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="9767" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9598" class="Function">𝕍⊔-intro</a> <a id="9776" class="Symbol">{</a><a id="9777" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="9782" class="Symbol">(</a><a id="9783" href="plfa.Adequacy.html#9783" class="Bound">L</a> <a id="9785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">·</a> <a id="9787" href="plfa.Adequacy.html#9787" class="Bound">M</a><a id="9788" class="Symbol">)</a> <a id="9790" href="plfa.Adequacy.html#9790" class="Bound">γ</a><a id="9791" class="Symbol">}</a> <a id="9793" class="Symbol">()</a> <a id="9796" href="plfa.Adequacy.html#9796" class="Bound">vc</a>
</pre>{% endraw %}
In a moment we prove that `𝕍` is preserved when going from a greater
value to a lesser value: if `𝕍 v c` and `v' ⊑ v`, then `𝕍 v' c`.
This property, named `𝕍-sub`, is needed by the main lemma in
the case for the `sub` rule.

To prove `𝕍-sub`, we in turn need the following property concerning
values that are not greater than a function, that is, values that are
equivalent to `⊥`. In such cases, `𝕍 v (clos (ƛ N) γ')` is trivially true.

{% raw %}<pre class="Agda"><a id="not-AboveFun-𝕍"></a><a id="10247" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10247" class="Function">not-AboveFun-𝕍</a> <a id="10262" class="Symbol">:</a> <a id="10264" class="Symbol">∀{</a><a id="10266" href="plfa.Adequacy.html#10266" class="Bound">v</a> <a id="10268" class="Symbol">:</a> <a id="10270" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3962" class="Datatype">Value</a><a id="10275" class="Symbol">}{</a><a id="10277" href="plfa.Adequacy.html#10277" class="Bound">Γ</a><a id="10278" class="Symbol">}{</a><a id="10280" href="plfa.Adequacy.html#10280" class="Bound">γ&#39;</a> <a id="10283" class="Symbol">:</a> <a id="10285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="10293" href="plfa.Adequacy.html#10277" class="Bound">Γ</a><a id="10294" class="Symbol">}{</a><a id="10296" href="plfa.Adequacy.html#10296" class="Bound">N</a> <a id="10298" class="Symbol">:</a> <a id="10300" href="plfa.Adequacy.html#10277" class="Bound">Γ</a> <a id="10302" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3168" class="InductiveConstructor Operator">,</a> <a id="10304" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="10306" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="10308" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="10310" class="Symbol">}</a>
    <a id="10316" class="Symbol">→</a> <a id="10318" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="10320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#3983" class="Function">AboveFun</a> <a id="10329" href="plfa.Adequacy.html#10266" class="Bound">v</a>
      <a id="10337" class="Comment">-------------------</a>
    <a id="10361" class="Symbol">→</a> <a id="10363" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6981" class="Function">𝕍</a> <a id="10365" href="plfa.Adequacy.html#10266" class="Bound">v</a> <a id="10367" class="Symbol">(</a><a id="10368" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="10373" class="Symbol">(</a><a id="10374" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="10376" href="plfa.Adequacy.html#10296" class="Bound">N</a><a id="10377" class="Symbol">)</a> <a id="10379" href="plfa.Adequacy.html#10280" class="Bound">γ&#39;</a><a id="10381" class="Symbol">)</a>
<a id="10383" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10247" class="Function">not-AboveFun-𝕍</a> <a id="10398" class="Symbol">{</a><a id="10399" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3982" class="InductiveConstructor">⊥</a><a id="10400" class="Symbol">}</a> <a id="10402" href="plfa.Adequacy.html#10402" class="Bound">af</a> <a id="10405" class="Symbol">=</a> <a id="10407" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a>
<a id="10410" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10247" class="Function">not-AboveFun-𝕍</a> <a id="10425" class="Symbol">{</a><a id="10426" href="plfa.Adequacy.html#10426" class="Bound">v</a> <a id="10428" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="10430" href="plfa.Adequacy.html#10430" class="Bound">v&#39;</a><a id="10432" class="Symbol">}</a> <a id="10434" href="plfa.Adequacy.html#10434" class="Bound">af</a> <a id="10437" class="Symbol">=</a> <a id="10439" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="10446" class="Symbol">(</a><a id="10447" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="10461" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="10463" href="plfa.Adequacy.html#10426" class="Bound">v</a> <a id="10465" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10467" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="10469" href="plfa.Adequacy.html#10430" class="Bound">v&#39;</a> <a id="10472" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10474" href="plfa.Denotational.html#5471" class="Function">Refl⊑</a> <a id="10480" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="10482" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="10484" href="plfa.Adequacy.html#10434" class="Bound">af</a><a id="10486" class="Symbol">)</a>
<a id="10488" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10247" class="Function">not-AboveFun-𝕍</a> <a id="10503" class="Symbol">{</a><a id="10504" href="plfa.Adequacy.html#10504" class="Bound">v₁</a> <a id="10507" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4024" class="InductiveConstructor Operator">⊔</a> <a id="10509" href="plfa.Adequacy.html#10509" class="Bound">v₂</a><a id="10511" class="Symbol">}</a> <a id="10513" href="plfa.Adequacy.html#10513" class="Bound">af</a>
    <a id="10520" class="Keyword">with</a> <a id="10525" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#5559" class="Function">not-AboveFun-⊔-inv</a> <a id="10544" href="plfa.Adequacy.html#10513" class="Bound">af</a>
<a id="10547" class="Symbol">...</a> <a id="10551" class="Symbol">|</a> <a id="10553" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="10555" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10555" class="Bound">af1</a> <a id="10559" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10561" href="plfa.Adequacy.html#10561" class="Bound">af2</a> <a id="10565" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="10567" class="Symbol">=</a> <a id="10569" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="10571" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a> <a id="10586" href="plfa.Adequacy.html#10555" class="Bound">af1</a> <a id="10590" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10592" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a> <a id="10607" href="plfa.Adequacy.html#10561" class="Bound">af2</a> <a id="10611" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
The proofs of `𝕍-sub` and `𝔼-sub` are intertwined.

{% raw %}<pre class="Agda"><a id="sub-𝕍"></a><a id="10674" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="10680" class="Symbol">:</a> <a id="10682" class="Symbol">∀{</a><a id="10684" href="plfa.Adequacy.html#10684" class="Bound">c</a> <a id="10686" class="Symbol">:</a> <a id="10688" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a><a id="10692" class="Symbol">}{</a><a id="10694" href="plfa.Adequacy.html#10694" class="Bound">v</a> <a id="10696" href="plfa.Adequacy.html#10696" class="Bound">v&#39;</a><a id="10698" class="Symbol">}</a> <a id="10700" class="Symbol">→</a> <a id="10702" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="10704" href="plfa.Adequacy.html#10694" class="Bound">v</a> <a id="10706" href="plfa.Adequacy.html#10684" class="Bound">c</a> <a id="10708" class="Symbol">→</a> <a id="10710" href="plfa.Adequacy.html#10696" class="Bound">v&#39;</a> <a id="10713" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4317" class="Datatype Operator">⊑</a> <a id="10715" href="plfa.Adequacy.html#10694" class="Bound">v</a> <a id="10717" class="Symbol">→</a> <a id="10719" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="10721" href="plfa.Adequacy.html#10696" class="Bound">v&#39;</a> <a id="10724" href="plfa.Adequacy.html#10684" class="Bound">c</a>
<a id="sub-𝔼"></a><a id="10726" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10726" class="Function">sub-𝔼</a> <a id="10732" class="Symbol">:</a> <a id="10734" class="Symbol">∀{</a><a id="10736" href="plfa.Adequacy.html#10736" class="Bound">c</a> <a id="10738" class="Symbol">:</a> <a id="10740" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a><a id="10744" class="Symbol">}{</a><a id="10746" href="plfa.Adequacy.html#10746" class="Bound">v</a> <a id="10748" href="plfa.Adequacy.html#10748" class="Bound">v&#39;</a><a id="10750" class="Symbol">}</a> <a id="10752" class="Symbol">→</a> <a id="10754" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="10756" href="plfa.Adequacy.html#10746" class="Bound">v</a> <a id="10758" href="plfa.Adequacy.html#10736" class="Bound">c</a> <a id="10760" class="Symbol">→</a> <a id="10762" href="plfa.Adequacy.html#10748" class="Bound">v&#39;</a> <a id="10765" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4317" class="Datatype Operator">⊑</a> <a id="10767" href="plfa.Adequacy.html#10746" class="Bound">v</a> <a id="10769" class="Symbol">→</a> <a id="10771" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="10773" href="plfa.Adequacy.html#10748" class="Bound">v&#39;</a> <a id="10776" href="plfa.Adequacy.html#10736" class="Bound">c</a>
</pre>{% endraw %}
We prove `𝕍-sub` by case analysis on the closure's term, to dispatch the
cases for variables and application. We then proceed by induction on
`v' ⊑ v`. We describe each case below.

{% raw %}<pre class="Agda"><a id="10969" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="10975" class="Symbol">{</a><a id="10976" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="10981" class="Symbol">(</a><a id="10982" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4288" class="InductiveConstructor Operator">`</a> <a id="10984" href="plfa.Adequacy.html#10984" class="Bound">x</a><a id="10985" class="Symbol">)</a> <a id="10987" href="plfa.Adequacy.html#10987" class="Bound">γ</a><a id="10988" class="Symbol">}</a> <a id="10990" class="Symbol">{</a><a id="10991" href="plfa.Adequacy.html#10991" class="Bound">v</a><a id="10992" class="Symbol">}</a> <a id="10994" class="Symbol">()</a> <a id="10997" href="plfa.Adequacy.html#10997" class="Bound">lt</a>
<a id="11000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11006" class="Symbol">{</a><a id="11007" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11012" class="Symbol">(</a><a id="11013" href="plfa.Adequacy.html#11013" class="Bound">L</a> <a id="11015" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4400" class="InductiveConstructor Operator">·</a> <a id="11017" href="plfa.Adequacy.html#11017" class="Bound">M</a><a id="11018" class="Symbol">)</a> <a id="11020" href="plfa.Adequacy.html#11020" class="Bound">γ</a><a id="11021" class="Symbol">}</a> <a id="11023" class="Symbol">()</a> <a id="11026" href="plfa.Adequacy.html#11026" class="Bound">lt</a>
<a id="11029" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11035" class="Symbol">{</a><a id="11036" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11041" class="Symbol">(</a><a id="11042" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11044" href="plfa.Adequacy.html#11044" class="Bound">N</a><a id="11045" class="Symbol">)</a> <a id="11047" href="plfa.Adequacy.html#11047" class="Bound">γ</a><a id="11048" class="Symbol">}</a> <a id="11050" href="plfa.Adequacy.html#11050" class="Bound">vc</a> <a id="11053" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4352" class="InductiveConstructor">Bot⊑</a> <a id="11058" class="Symbol">=</a> <a id="11060" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a>
<a id="11063" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11069" class="Symbol">{</a><a id="11070" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11075" class="Symbol">(</a><a id="11076" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11078" href="plfa.Adequacy.html#11078" class="Bound">N</a><a id="11079" class="Symbol">)</a> <a id="11081" href="plfa.Adequacy.html#11081" class="Bound">γ</a><a id="11082" class="Symbol">}</a> <a id="11084" href="plfa.Adequacy.html#11084" class="Bound">vc</a> <a id="11087" class="Symbol">(</a><a id="11088" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4376" class="InductiveConstructor">ConjL⊑</a> <a id="11095" href="plfa.Adequacy.html#11095" class="Bound">lt1</a> <a id="11099" href="plfa.Adequacy.html#11099" class="Bound">lt2</a><a id="11102" class="Symbol">)</a> <a id="11104" class="Symbol">=</a> <a id="11106" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11108" class="Symbol">(</a><a id="11109" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11115" href="plfa.Adequacy.html#11084" class="Bound">vc</a> <a id="11118" href="plfa.Adequacy.html#11095" class="Bound">lt1</a><a id="11121" class="Symbol">)</a> <a id="11123" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11125" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11131" href="plfa.Adequacy.html#11084" class="Bound">vc</a> <a id="11134" href="plfa.Adequacy.html#11099" class="Bound">lt2</a> <a id="11138" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="11140" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11146" class="Symbol">{</a><a id="11147" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11152" class="Symbol">(</a><a id="11153" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11155" href="plfa.Adequacy.html#11155" class="Bound">N</a><a id="11156" class="Symbol">)</a> <a id="11158" href="plfa.Adequacy.html#11158" class="Bound">γ</a><a id="11159" class="Symbol">}</a> <a id="11161" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11163" href="plfa.Adequacy.html#11163" class="Bound">vv1</a> <a id="11167" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11169" href="plfa.Adequacy.html#11169" class="Bound">vv2</a> <a id="11173" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11175" class="Symbol">(</a><a id="11176" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4466" class="InductiveConstructor">ConjR1⊑</a> <a id="11184" href="plfa.Adequacy.html#11184" class="Bound">lt</a><a id="11186" class="Symbol">)</a> <a id="11188" class="Symbol">=</a> <a id="11190" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11196" href="plfa.Adequacy.html#11163" class="Bound">vv1</a> <a id="11200" href="plfa.Adequacy.html#11184" class="Bound">lt</a>
<a id="11203" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11209" class="Symbol">{</a><a id="11210" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11215" class="Symbol">(</a><a id="11216" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11218" href="plfa.Adequacy.html#11218" class="Bound">N</a><a id="11219" class="Symbol">)</a> <a id="11221" href="plfa.Adequacy.html#11221" class="Bound">γ</a><a id="11222" class="Symbol">}</a> <a id="11224" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11226" href="plfa.Adequacy.html#11226" class="Bound">vv1</a> <a id="11230" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11232" href="plfa.Adequacy.html#11232" class="Bound">vv2</a> <a id="11236" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11238" class="Symbol">(</a><a id="11239" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4540" class="InductiveConstructor">ConjR2⊑</a> <a id="11247" href="plfa.Adequacy.html#11247" class="Bound">lt</a><a id="11249" class="Symbol">)</a> <a id="11251" class="Symbol">=</a> <a id="11253" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11259" href="plfa.Adequacy.html#11232" class="Bound">vv2</a> <a id="11263" href="plfa.Adequacy.html#11247" class="Bound">lt</a>
<a id="11266" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11272" class="Symbol">{</a><a id="11273" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11278" class="Symbol">(</a><a id="11279" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11281" href="plfa.Adequacy.html#11281" class="Bound">N</a><a id="11282" class="Symbol">)</a> <a id="11284" href="plfa.Adequacy.html#11284" class="Bound">γ</a><a id="11285" class="Symbol">}</a> <a id="11287" href="plfa.Adequacy.html#11287" class="Bound">vc</a> <a id="11290" class="Symbol">(</a><a id="11291" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4614" class="InductiveConstructor">Trans⊑</a><a id="11297" class="Symbol">{</a><a id="11298" class="Argument">v</a> <a id="11300" class="Symbol">=</a> <a id="11302" href="plfa.Adequacy.html#11302" class="Bound">v₂</a><a id="11304" class="Symbol">}</a> <a id="11306" href="plfa.Adequacy.html#11306" class="Bound">lt1</a> <a id="11310" href="plfa.Adequacy.html#11310" class="Bound">lt2</a><a id="11313" class="Symbol">)</a> <a id="11315" class="Symbol">=</a> <a id="11317" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11323" class="Symbol">(</a><a id="11324" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11330" href="plfa.Adequacy.html#11287" class="Bound">vc</a> <a id="11333" href="plfa.Adequacy.html#11310" class="Bound">lt2</a><a id="11336" class="Symbol">)</a> <a id="11338" href="plfa.Adequacy.html#11306" class="Bound">lt1</a>
<a id="11342" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11348" class="Symbol">{</a><a id="11349" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11354" class="Symbol">(</a><a id="11355" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11357" href="plfa.Adequacy.html#11357" class="Bound">N</a><a id="11358" class="Symbol">)</a> <a id="11360" href="plfa.Adequacy.html#11360" class="Bound">γ</a><a id="11361" class="Symbol">}</a> <a id="11363" href="plfa.Adequacy.html#11363" class="Bound">vc</a> <a id="11366" class="Symbol">(</a><a id="11367" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#4688" class="InductiveConstructor">Fun⊑</a> <a id="11372" href="plfa.Adequacy.html#11372" class="Bound">lt1</a> <a id="11376" href="plfa.Adequacy.html#11376" class="Bound">lt2</a><a id="11379" class="Symbol">)</a> <a id="11381" href="plfa.Adequacy.html#11381" class="Bound">ev1</a> <a id="11385" href="plfa.Adequacy.html#11385" class="Bound">sf</a>
    <a id="11392" class="Keyword">with</a> <a id="11397" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11363" class="Bound">vc</a> <a id="11400" class="Symbol">(</a><a id="11401" href="plfa.Adequacy.html#10726" class="Function">sub-𝔼</a> <a id="11407" href="plfa.Adequacy.html#11381" class="Bound">ev1</a> <a id="11411" href="plfa.Adequacy.html#11372" class="Bound">lt1</a><a id="11414" class="Symbol">)</a> <a id="11416" class="Symbol">(</a><a id="11417" href="plfa.Adequacy.html#4152" class="Function">AboveFun-⊑</a> <a id="11428" href="plfa.Adequacy.html#11385" class="Bound">sf</a> <a id="11431" href="plfa.Adequacy.html#11376" class="Bound">lt2</a><a id="11434" class="Symbol">)</a>
<a id="11436" class="Symbol">...</a> <a id="11440" class="Symbol">|</a> <a id="11442" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11444" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11444" class="Bound">c</a> <a id="11446" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11448" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11450" href="plfa.Adequacy.html#11450" class="Bound">Nc</a> <a id="11453" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11455" href="plfa.Adequacy.html#11455" class="Bound">v4</a> <a id="11458" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11460" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11462" class="Symbol">=</a> <a id="11464" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11466" href="plfa.Adequacy.html#11444" class="Bound">c</a> <a id="11468" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11470" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11472" href="plfa.Adequacy.html#11450" class="Bound">Nc</a> <a id="11475" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11477" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="11483" href="plfa.Adequacy.html#11455" class="Bound">v4</a> <a id="11486" class="Bound">lt2</a> <a id="11490" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11492" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="11494" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11500" class="Symbol">{</a><a id="11501" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11506" class="Symbol">(</a><a id="11507" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="11509" href="plfa.Adequacy.html#11509" class="Bound">N</a><a id="11510" class="Symbol">)</a> <a id="11512" href="plfa.Adequacy.html#11512" class="Bound">γ</a><a id="11513" class="Symbol">}</a> <a id="11515" class="Symbol">{</a><a id="11516" href="plfa.Adequacy.html#11516" class="Bound">v</a> <a id="11518" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="11520" href="plfa.Adequacy.html#11520" class="Bound">w</a> <a id="11522" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="11524" href="plfa.Adequacy.html#11516" class="Bound">v</a> <a id="11526" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="11528" href="plfa.Adequacy.html#11528" class="Bound">w&#39;</a><a id="11530" class="Symbol">}</a> <a id="11532" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11534" href="plfa.Adequacy.html#11534" class="Bound">vcw</a> <a id="11538" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11540" href="plfa.Adequacy.html#11540" class="Bound">vcw&#39;</a> <a id="11545" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11547" href="plfa.Denotational.html#4802" class="InductiveConstructor">Dist⊑</a> <a id="11553" href="plfa.Adequacy.html#11553" class="Bound">ev1c</a> <a id="11558" href="plfa.Adequacy.html#11558" class="Bound">sf</a>
    <a id="11565" class="Keyword">with</a> <a id="11570" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="11580" href="plfa.Adequacy.html#11520" class="Bound">w</a> <a id="11582" class="Symbol">|</a> <a id="11584" href="plfa.Adequacy.html#6136" class="Function">AboveFun?</a> <a id="11594" href="plfa.Adequacy.html#11528" class="Bound">w&#39;</a>
<a id="11597" class="Symbol">...</a> <a id="11601" class="Symbol">|</a> <a id="11603" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11607" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11607" class="Bound">af2</a> <a id="11611" class="Symbol">|</a> <a id="11613" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11617" href="plfa.Adequacy.html#11617" class="Bound">af3</a>
    <a id="11625" class="Keyword">with</a> <a id="11630" class="Bound">vcw</a> <a id="11634" class="Bound">ev1c</a> <a id="11639" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11607" class="Bound">af2</a> <a id="11643" class="Symbol">|</a> <a id="11645" class="Bound">vcw&#39;</a> <a id="11650" class="Bound">ev1c</a> <a id="11655" href="plfa.Adequacy.html#11617" class="Bound">af3</a>
<a id="11659" class="Symbol">...</a> <a id="11663" class="Symbol">|</a> <a id="11665" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11667" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11672" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11672" class="Bound">L</a> <a id="11674" href="plfa.Adequacy.html#11674" class="Bound">δ</a> <a id="11676" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11678" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11680" href="plfa.Adequacy.html#11680" class="Bound">L⇓c₂</a> <a id="11685" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11687" href="plfa.Adequacy.html#11687" class="Bound">𝕍w</a> <a id="11690" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11692" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="11698" class="Symbol">|</a> <a id="11700" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11702" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11702" class="Bound">c₃</a> <a id="11705" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11707" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11709" href="plfa.Adequacy.html#11709" class="Bound">L⇓c₃</a> <a id="11714" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11716" href="plfa.Adequacy.html#11716" class="Bound">𝕍w&#39;</a> <a id="11720" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11722" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11724" class="Keyword">rewrite</a> <a id="11732" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4595" class="Function">⇓-determ</a> <a id="11741" href="plfa.Adequacy.html#11709" class="Bound">L⇓c₃</a> <a id="11746" href="plfa.Adequacy.html#11680" class="Bound">L⇓c₂</a> <a id="11751" class="Keyword">with</a> <a id="11756" href="plfa.Adequacy.html#9285" class="Function">𝕍→WHNF</a> <a id="11763" href="plfa.Adequacy.html#11687" class="Bound">𝕍w</a>
<a id="11766" class="Symbol">...</a> <a id="11770" class="Symbol">|</a> <a id="11772" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="11775" class="Symbol">=</a>
      <a id="11783" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11790" class="Bound">L</a> <a id="11792" class="Bound">δ</a> <a id="11794" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11796" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11798" class="Bound">L⇓c₂</a> <a id="11803" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11805" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11807" class="Bound">𝕍w</a> <a id="11810" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11812" class="Bound">𝕍w&#39;</a> <a id="11816" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11818" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11820" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="11822" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="11828" class="Symbol">{</a><a id="11829" href="plfa.Adequacy.html#11829" class="Bound">c</a><a id="11830" class="Symbol">}</a> <a id="11832" class="Symbol">{</a><a id="11833" href="plfa.Adequacy.html#11833" class="Bound">v</a> <a id="11835" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="11837" href="plfa.Adequacy.html#11837" class="Bound">w</a> <a id="11839" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="11841" href="plfa.Adequacy.html#11833" class="Bound">v</a> <a id="11843" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="11845" href="plfa.Adequacy.html#11845" class="Bound">w&#39;</a><a id="11847" class="Symbol">}</a> <a id="11849" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11851" href="plfa.Adequacy.html#11851" class="Bound">vcw</a> <a id="11855" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11857" href="plfa.Adequacy.html#11857" class="Bound">vcw&#39;</a> <a id="11862" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="11865" href="plfa.Denotational.html#4802" class="InductiveConstructor">Dist⊑</a> <a id="11871" href="plfa.Adequacy.html#11871" class="Bound">ev1c</a> <a id="11876" href="plfa.Adequacy.html#11876" class="Bound">sf</a>
    <a id="11883" class="Symbol">|</a> <a id="11885" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="11889" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11889" class="Bound">af2</a> <a id="11893" class="Symbol">|</a> <a id="11895" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="11898" href="plfa.Adequacy.html#11898" class="Bound">naf3</a>
    <a id="11907" class="Keyword">with</a> <a id="11912" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11851" class="Bound">vcw</a> <a id="11916" href="plfa.Adequacy.html#11871" class="Bound">ev1c</a> <a id="11921" href="plfa.Adequacy.html#11889" class="Bound">af2</a>
<a id="11925" class="Symbol">...</a> <a id="11929" class="Symbol">|</a> <a id="11931" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11933" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="11938" class="Symbol">{</a><a id="11939" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11939" class="Bound">Γ&#39;</a><a id="11941" class="Symbol">}</a> <a id="11943" href="plfa.Adequacy.html#11943" class="Bound">L</a> <a id="11945" href="plfa.Adequacy.html#11945" class="Bound">γ₁</a> <a id="11948" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11950" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="11952" href="plfa.Adequacy.html#11952" class="Bound">L⇓c2</a> <a id="11957" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11959" href="plfa.Adequacy.html#11959" class="Bound">𝕍w</a> <a id="11962" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="11964" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="11970" class="Keyword">with</a> <a id="11975" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="11982" href="plfa.Adequacy.html#11959" class="Bound">𝕍w</a>
<a id="11985" class="Symbol">...</a> <a id="11989" class="Symbol">|</a> <a id="11991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="11994" class="Symbol">{</a><a id="11995" class="Argument">N</a> <a id="11997" class="Symbol">=</a> <a id="11999" href="plfa.Adequacy.html#11999" class="Bound">N&#39;</a><a id="12001" class="Symbol">}</a> <a id="12003" class="Symbol">=</a>
      <a id="12011" class="Keyword">let</a> <a id="12015" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12015" class="Bound">𝕍w&#39;</a> <a id="12019" class="Symbol">=</a> <a id="12021" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a><a id="12035" class="Symbol">{</a><a id="12036" class="Bound">w&#39;</a><a id="12038" class="Symbol">}{</a><a id="12040" class="Bound">Γ&#39;</a><a id="12042" class="Symbol">}{</a><a id="12044" class="Bound">γ₁</a><a id="12046" class="Symbol">}{</a><a id="12048" href="plfa.Adequacy.html#11999" class="Bound">N&#39;</a><a id="12050" class="Symbol">}</a> <a id="12052" class="Bound">naf3</a> <a id="12057" class="Keyword">in</a>
      <a id="12066" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12068" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="12073" class="Symbol">(</a><a id="12074" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="12076" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#11999" class="Bound">N&#39;</a><a id="12078" class="Symbol">)</a> <a id="12080" class="Bound">γ₁</a> <a id="12083" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12085" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12087" class="Bound">L⇓c2</a> <a id="12092" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12094" href="plfa.Adequacy.html#9598" class="Function">𝕍⊔-intro</a> <a id="12103" class="Bound">𝕍w</a> <a id="12106" href="plfa.Adequacy.html#12015" class="Bound">𝕍w&#39;</a> <a id="12110" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12112" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="12114" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="12120" class="Symbol">{</a><a id="12121" href="plfa.Adequacy.html#12121" class="Bound">c</a><a id="12122" class="Symbol">}</a> <a id="12124" class="Symbol">{</a><a id="12125" href="plfa.Adequacy.html#12125" class="Bound">v</a> <a id="12127" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="12129" href="plfa.Adequacy.html#12129" class="Bound">w</a> <a id="12131" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="12133" href="plfa.Adequacy.html#12125" class="Bound">v</a> <a id="12135" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="12137" href="plfa.Adequacy.html#12137" class="Bound">w&#39;</a><a id="12139" class="Symbol">}</a> <a id="12141" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12143" href="plfa.Adequacy.html#12143" class="Bound">vcw</a> <a id="12147" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12149" href="plfa.Adequacy.html#12149" class="Bound">vcw&#39;</a> <a id="12154" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12156" href="plfa.Denotational.html#4802" class="InductiveConstructor">Dist⊑</a> <a id="12162" href="plfa.Adequacy.html#12162" class="Bound">ev1c</a> <a id="12167" href="plfa.Adequacy.html#12167" class="Bound">sf</a>
    <a id="12174" class="Symbol">|</a> <a id="12176" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12179" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12179" class="Bound">naf2</a> <a id="12184" class="Symbol">|</a> <a id="12186" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="12190" href="plfa.Adequacy.html#12190" class="Bound">af3</a>
    <a id="12198" class="Keyword">with</a> <a id="12203" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12149" class="Bound">vcw&#39;</a> <a id="12208" href="plfa.Adequacy.html#12162" class="Bound">ev1c</a> <a id="12213" href="plfa.Adequacy.html#12190" class="Bound">af3</a>
<a id="12217" class="Symbol">...</a> <a id="12221" class="Symbol">|</a> <a id="12223" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="12230" class="Symbol">{</a><a id="12231" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12231" class="Bound">Γ&#39;</a><a id="12233" class="Symbol">}</a> <a id="12235" href="plfa.Adequacy.html#12235" class="Bound">L</a> <a id="12237" href="plfa.Adequacy.html#12237" class="Bound">γ₁</a> <a id="12240" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12242" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12244" href="plfa.Adequacy.html#12244" class="Bound">L⇓c3</a> <a id="12249" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12251" href="plfa.Adequacy.html#12251" class="Bound">𝕍w&#39;c</a> <a id="12256" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12258" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="12264" class="Keyword">with</a> <a id="12269" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="12276" href="plfa.Adequacy.html#12251" class="Bound">𝕍w&#39;c</a>
<a id="12281" class="Symbol">...</a> <a id="12285" class="Symbol">|</a> <a id="12287" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="12290" class="Symbol">{</a><a id="12291" class="Argument">N</a> <a id="12293" class="Symbol">=</a> <a id="12295" href="plfa.Adequacy.html#12295" class="Bound">N&#39;</a><a id="12297" class="Symbol">}</a> <a id="12299" class="Symbol">=</a>
      <a id="12307" class="Keyword">let</a> <a id="12311" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12311" class="Bound">𝕍wc</a> <a id="12315" class="Symbol">=</a> <a id="12317" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a><a id="12331" class="Symbol">{</a><a id="12332" class="Bound">w</a><a id="12333" class="Symbol">}{</a><a id="12335" class="Bound">Γ&#39;</a><a id="12337" class="Symbol">}{</a><a id="12339" class="Bound">γ₁</a><a id="12341" class="Symbol">}{</a><a id="12343" href="plfa.Adequacy.html#12295" class="Bound">N&#39;</a><a id="12345" class="Symbol">}</a> <a id="12347" class="Bound">naf2</a> <a id="12352" class="Keyword">in</a>
      <a id="12361" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12363" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="12368" class="Symbol">(</a><a id="12369" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="12371" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12295" class="Bound">N&#39;</a><a id="12373" class="Symbol">)</a> <a id="12375" class="Bound">γ₁</a> <a id="12378" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12380" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12382" class="Bound">L⇓c3</a> <a id="12387" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12389" href="plfa.Adequacy.html#9598" class="Function">𝕍⊔-intro</a> <a id="12398" href="plfa.Adequacy.html#12311" class="Bound">𝕍wc</a> <a id="12402" class="Bound">𝕍w&#39;c</a> <a id="12407" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12409" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="12411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10674" class="Function">sub-𝕍</a> <a id="12417" class="Symbol">{</a><a id="12418" href="plfa.Adequacy.html#12418" class="Bound">c</a><a id="12419" class="Symbol">}</a> <a id="12421" class="Symbol">{</a><a id="12422" href="plfa.Adequacy.html#12422" class="Bound">v</a> <a id="12424" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3994" class="InductiveConstructor Operator">↦</a> <a id="12426" href="plfa.Adequacy.html#12426" class="Bound">w</a> <a id="12428" href="plfa.Denotational.html#4024" class="InductiveConstructor Operator">⊔</a> <a id="12430" href="plfa.Adequacy.html#12422" class="Bound">v</a> <a id="12432" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="12434" href="plfa.Adequacy.html#12434" class="Bound">w&#39;</a><a id="12436" class="Symbol">}</a> <a id="12438" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12440" href="plfa.Adequacy.html#12440" class="Bound">vcw</a> <a id="12444" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12446" href="plfa.Adequacy.html#12446" class="Bound">vcw&#39;</a> <a id="12451" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12453" href="plfa.Denotational.html#4802" class="InductiveConstructor">Dist⊑</a> <a id="12459" href="plfa.Adequacy.html#12459" class="Bound">ev1c</a> <a id="12464" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12466" href="plfa.Adequacy.html#12466" class="Bound">v&#39;</a> <a id="12469" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12471" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12473" href="plfa.Adequacy.html#12473" class="Bound">w&#39;&#39;</a> <a id="12477" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12479" href="plfa.Adequacy.html#12479" class="Bound">lt</a> <a id="12482" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12484" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="12490" class="Symbol">|</a> <a id="12492" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12495" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12495" class="Bound">naf2</a> <a id="12500" class="Symbol">|</a> <a id="12502" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="12505" href="plfa.Adequacy.html#12505" class="Bound">naf3</a>
    <a id="12514" class="Keyword">with</a> <a id="12519" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4686" class="Function">AboveFun-⊔</a> <a id="12530" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12532" href="plfa.Adequacy.html#12466" class="Bound">v&#39;</a> <a id="12535" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12537" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="12539" href="plfa.Adequacy.html#12473" class="Bound">w&#39;&#39;</a> <a id="12543" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="12545" href="plfa.Adequacy.html#12479" class="Bound">lt</a> <a id="12548" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="12550" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="12552" class="Symbol">...</a> <a id="12556" class="Symbol">|</a> <a id="12558" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">inj₁</a> <a id="12563" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12563" class="Bound">af2</a> <a id="12567" class="Symbol">=</a> <a id="12569" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="12576" class="Symbol">(</a><a id="12577" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="12591" href="plfa.Adequacy.html#12563" class="Bound">af2</a> <a id="12595" class="Bound">naf2</a><a id="12599" class="Symbol">)</a>
<a id="12601" class="Symbol">...</a> <a id="12605" class="Symbol">|</a> <a id="12607" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">inj₂</a> <a id="12612" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#12612" class="Bound">af3</a> <a id="12616" class="Symbol">=</a> <a id="12618" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="12625" class="Symbol">(</a><a id="12626" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="12640" href="plfa.Adequacy.html#12612" class="Bound">af3</a> <a id="12644" class="Bound">naf3</a><a id="12648" class="Symbol">)</a>
</pre>{% endraw %}
* Case `Bot⊑`. We immediately have `𝕍 ⊥ (clos (ƛ N) γ)`.

* Case `ConjL⊑`.

        v₁' ⊑ v     v₂' ⊑ v
        -------------------
        (v₁' ⊔ v₂') ⊑ v

  The induction hypotheses gives us `𝕍 v₁' (clos (ƛ N) γ)`
  and `𝕍 v₂' (clos (ƛ N) γ)`, which is all we need for this case.

* Case `ConjR1⊑`.

        v' ⊑ v₁
        -------------
        v' ⊑ (v₁ ⊔ v₂)

  The induction hypothesis gives us `𝕍 v' (clos (ƛ N) γ)`.

* Case `ConjR2⊑`.

        v' ⊑ v₂
        -------------
        v' ⊑ (v₁ ⊔ v₂)

  Again, the induction hypothesis gives us `𝕍 v' (clos (ƛ N) γ)`.

* Case `Trans⊑`.

        v' ⊑ v₂   v₂ ⊑ v
        -----------------
             v' ⊑ v

  The induction hypothesis for `v₂ ⊑ v` gives us
  `𝕍 v₂ (clos (ƛ N) γ)`. We apply the induction hypothesis
  for `v' ⊑ v₂` to conclude that `𝕍 v' (clos (ƛ N) γ)`.

* Case `Dist⊑`. This case  is the most difficult. We have

        𝕍 (v ↦ w) (clos (ƛ N) γ)
        𝕍 (v ↦ w') (clos (ƛ N) γ)

  and need to show that

        𝕍 (v ↦ (w ⊔ w')) (clos (ƛ N) γ)

  Let `c` be an arbtrary closure such that `𝔼 v c`.
  Assume `w ⊔ w'` is greater than a function.
  Unfortunately, this does not mean that both `w` and `w'`
  are above functions. But thanks to the lemma `AboveFun-⊔`,
  we know that at least one of them is greater than a function.

  * Suppose both of them are greater than a function.  Then we have
    `γ ⊢ N ⇓ clos L δ` and `𝕍 w (clos L δ)`.  We also have `γ ⊢ N ⇓ c₃` and
    `𝕍 w' c₃`.  Because the big-step semantics is deterministic, we have
    `c₃ ≡ clos L δ`. Also, from `𝕍 w (clos L δ)` we know that `L ≡ ƛ N'`
    for some `N'`. We conclude that `𝕍 (w ⊔ w') (clos (ƛ N') δ)`.

  * Suppose one of them is greater than a function and the other is
    not: say `AboveFun w` and `¬ AboveFun w'`. Then from
    `𝕍 (v ↦ w) (clos (ƛ N) γ)`
    we have `γ ⊢ N ⇓ clos L γ₁` and `𝕍 w (clos L γ₁)`. From this we have
    `L ≡ ƛ N'` for some `N'`. Meanwhile, from `¬ AboveFun w'` we have
    `𝕍 w' (clos L γ₁)`. We conclude that
    `𝕍 (w ⊔ w') (clos (ƛ N') γ₁)`.


The proof of `sub-𝔼` is direct and explained below.

{% raw %}<pre class="Agda"><a id="14749" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#10726" class="Function">sub-𝔼</a> <a id="14755" class="Symbol">{</a><a id="14756" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="14761" href="plfa.Adequacy.html#14761" class="Bound">M</a> <a id="14763" href="plfa.Adequacy.html#14763" class="Bound">γ</a><a id="14764" class="Symbol">}</a> <a id="14766" class="Symbol">{</a><a id="14767" href="plfa.Adequacy.html#14767" class="Bound">v</a><a id="14768" class="Symbol">}</a> <a id="14770" class="Symbol">{</a><a id="14771" href="plfa.Adequacy.html#14771" class="Bound">v&#39;</a><a id="14773" class="Symbol">}</a> <a id="14775" href="plfa.Adequacy.html#14775" class="Bound">𝔼v</a> <a id="14778" href="plfa.Adequacy.html#14778" class="Bound">v&#39;⊑v</a> <a id="14783" href="plfa.Adequacy.html#14783" class="Bound">fv&#39;</a>
    <a id="14791" class="Keyword">with</a> <a id="14796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14775" class="Bound">𝔼v</a> <a id="14799" class="Symbol">(</a><a id="14800" href="plfa.Adequacy.html#4152" class="Function">AboveFun-⊑</a> <a id="14811" href="plfa.Adequacy.html#14783" class="Bound">fv&#39;</a> <a id="14815" href="plfa.Adequacy.html#14778" class="Bound">v&#39;⊑v</a><a id="14819" class="Symbol">)</a>
<a id="14821" class="Symbol">...</a> <a id="14825" class="Symbol">|</a> <a id="14827" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14829" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14829" class="Bound">c</a> <a id="14831" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14833" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14835" href="plfa.Adequacy.html#14835" class="Bound">M⇓c</a> <a id="14839" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14841" href="plfa.Adequacy.html#14841" class="Bound">𝕍v</a> <a id="14844" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="14846" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="14848" class="Symbol">=</a>
      <a id="14856" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14858" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#14829" class="Bound">c</a> <a id="14860" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14862" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14864" href="plfa.Adequacy.html#14835" class="Bound">M⇓c</a> <a id="14868" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14870" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="14876" href="plfa.Adequacy.html#14841" class="Bound">𝕍v</a> <a id="14879" class="Bound">v&#39;⊑v</a> <a id="14884" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="14886" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
From `AboveFun v'` and `v' ⊑ v` we have `AboveFun v`.  Then with `𝔼 v c` we
obtain a closure `c` such that `γ ⊢ M ⇓ c` and `𝕍 v c`. We conclude with an
application of `sub-𝕍` with `v' ⊑ v` to show `𝕍 v' c`.


## Programs with function denotation terminate via call-by-name

The main lemma proves that if a term has a denotation that is above a
function, then it terminates via call-by-name. More formally, if
`γ ⊢ M ↓ v` and `𝔾 γ γ'`, then `𝔼 v (clos M γ')`. The proof is by
induction on the derivation of `γ ⊢ M ↓ v` we discuss each case below.

The following lemma, kth-x, is used in the case for the `var` rule.

{% raw %}<pre class="Agda"><a id="kth-x"></a><a id="15513" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15513" class="Function">kth-x</a> <a id="15519" class="Symbol">:</a> <a id="15521" class="Symbol">∀{</a><a id="15523" href="plfa.Adequacy.html#15523" class="Bound">Γ</a><a id="15524" class="Symbol">}{</a><a id="15526" href="plfa.Adequacy.html#15526" class="Bound">γ&#39;</a> <a id="15529" class="Symbol">:</a> <a id="15531" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="15539" href="plfa.Adequacy.html#15523" class="Bound">Γ</a><a id="15540" class="Symbol">}{</a><a id="15542" href="plfa.Adequacy.html#15542" class="Bound">x</a> <a id="15544" class="Symbol">:</a> <a id="15546" href="plfa.Adequacy.html#15523" class="Bound">Γ</a> <a id="15548" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3483" class="Datatype Operator">∋</a> <a id="15550" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="15551" class="Symbol">}</a>
     <a id="15558" class="Symbol">→</a> <a id="15560" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="15563" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15563" class="Bound">Δ</a> <a id="15565" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="15567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="15575" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="15577" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="15580" href="plfa.Adequacy.html#15580" class="Bound">δ</a> <a id="15582" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="15584" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="15592" href="plfa.Adequacy.html#15563" class="Bound">Δ</a> <a id="15594" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="15596" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="15599" href="plfa.Adequacy.html#15599" class="Bound">M</a> <a id="15601" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="15603" href="plfa.Adequacy.html#15563" class="Bound">Δ</a> <a id="15605" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="15607" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="15609" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
                 <a id="15628" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15526" class="Bound">γ&#39;</a> <a id="15631" href="plfa.Adequacy.html#15542" class="Bound">x</a> <a id="15633" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="15635" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="15640" href="plfa.Adequacy.html#15599" class="Bound">M</a> <a id="15642" href="plfa.Adequacy.html#15580" class="Bound">δ</a>
<a id="15644" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15513" class="Function">kth-x</a><a id="15649" class="Symbol">{</a><a id="15650" class="Argument">γ&#39;</a> <a id="15653" class="Symbol">=</a> <a id="15655" href="plfa.Adequacy.html#15655" class="Bound">γ&#39;</a><a id="15657" class="Symbol">}{</a><a id="15659" class="Argument">x</a> <a id="15661" class="Symbol">=</a> <a id="15663" href="plfa.Adequacy.html#15663" class="Bound">x</a><a id="15664" class="Symbol">}</a> <a id="15666" class="Keyword">with</a> <a id="15671" href="plfa.Adequacy.html#15655" class="Bound">γ&#39;</a> <a id="15674" href="plfa.Adequacy.html#15663" class="Bound">x</a>
<a id="15676" class="Symbol">...</a> <a id="15680" class="Symbol">|</a> <a id="15682" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a><a id="15686" class="Symbol">{</a><a id="15687" class="Argument">Γ</a> <a id="15689" class="Symbol">=</a> <a id="15691" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15691" class="Bound">Δ</a><a id="15692" class="Symbol">}</a> <a id="15694" href="plfa.Adequacy.html#15694" class="Bound">M</a> <a id="15696" href="plfa.Adequacy.html#15696" class="Bound">δ</a> <a id="15698" class="Symbol">=</a> <a id="15700" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15702" href="plfa.Adequacy.html#15691" class="Bound">Δ</a> <a id="15704" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15706" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15708" href="plfa.Adequacy.html#15696" class="Bound">δ</a> <a id="15710" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15712" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15714" href="plfa.Adequacy.html#15694" class="Bound">M</a> <a id="15716" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15718" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="15723" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="15725" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="15727" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
{% raw %}<pre class="Agda"><a id="↓→𝔼"></a><a id="15738" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="15742" class="Symbol">:</a> <a id="15744" class="Symbol">∀{</a><a id="15746" href="plfa.Adequacy.html#15746" class="Bound">Γ</a><a id="15747" class="Symbol">}{</a><a id="15749" href="plfa.Adequacy.html#15749" class="Bound">γ</a> <a id="15751" class="Symbol">:</a> <a id="15753" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7100" class="Function">Env</a> <a id="15757" href="plfa.Adequacy.html#15746" class="Bound">Γ</a><a id="15758" class="Symbol">}{</a><a id="15760" href="plfa.Adequacy.html#15760" class="Bound">γ&#39;</a> <a id="15763" class="Symbol">:</a> <a id="15765" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="15773" href="plfa.Adequacy.html#15746" class="Bound">Γ</a><a id="15774" class="Symbol">}{</a><a id="15776" href="plfa.Adequacy.html#15776" class="Bound">M</a> <a id="15778" class="Symbol">:</a> <a id="15780" href="plfa.Adequacy.html#15746" class="Bound">Γ</a> <a id="15782" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4252" class="Datatype Operator">⊢</a> <a id="15784" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="15786" class="Symbol">}{</a><a id="15788" href="plfa.Adequacy.html#15788" class="Bound">v</a><a id="15789" class="Symbol">}</a>
            <a id="15803" class="Symbol">→</a> <a id="15805" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#8700" class="Function">𝔾</a> <a id="15807" href="plfa.Adequacy.html#15749" class="Bound">γ</a> <a id="15809" href="plfa.Adequacy.html#15760" class="Bound">γ&#39;</a> <a id="15812" class="Symbol">→</a> <a id="15814" href="plfa.Adequacy.html#15749" class="Bound">γ</a> <a id="15816" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9274" class="Datatype Operator">⊢</a> <a id="15818" href="plfa.Adequacy.html#15776" class="Bound">M</a> <a id="15820" href="plfa.Denotational.html#9274" class="Datatype Operator">↓</a> <a id="15822" href="plfa.Adequacy.html#15788" class="Bound">v</a> <a id="15824" class="Symbol">→</a> <a id="15826" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="15828" href="plfa.Adequacy.html#15788" class="Bound">v</a> <a id="15830" class="Symbol">(</a><a id="15831" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="15836" href="plfa.Adequacy.html#15776" class="Bound">M</a> <a id="15838" href="plfa.Adequacy.html#15760" class="Bound">γ&#39;</a><a id="15840" class="Symbol">)</a>
<a id="15842" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="15846" class="Symbol">{</a><a id="15847" href="plfa.Adequacy.html#15847" class="Bound">Γ</a><a id="15848" class="Symbol">}</a> <a id="15850" class="Symbol">{</a><a id="15851" href="plfa.Adequacy.html#15851" class="Bound">γ</a><a id="15852" class="Symbol">}</a> <a id="15854" class="Symbol">{</a><a id="15855" href="plfa.Adequacy.html#15855" class="Bound">γ&#39;</a><a id="15857" class="Symbol">}</a> <a id="15859" href="plfa.Adequacy.html#15859" class="Bound">𝔾γγ&#39;</a> <a id="15864" class="Symbol">(</a><a id="15865" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9328" class="InductiveConstructor">var</a><a id="15868" class="Symbol">{</a><a id="15869" class="Argument">x</a> <a id="15871" class="Symbol">=</a> <a id="15873" href="plfa.Adequacy.html#15873" class="Bound">x</a><a id="15874" class="Symbol">})</a> <a id="15877" href="plfa.Adequacy.html#15877" class="Bound">fγx</a>
    <a id="15885" class="Keyword">with</a> <a id="15890" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15513" class="Function">kth-x</a><a id="15895" class="Symbol">{</a><a id="15896" href="plfa.Adequacy.html#15847" class="Bound">Γ</a><a id="15897" class="Symbol">}{</a><a id="15899" href="plfa.Adequacy.html#15855" class="Bound">γ&#39;</a><a id="15901" class="Symbol">}{</a><a id="15903" href="plfa.Adequacy.html#15873" class="Bound">x</a><a id="15904" class="Symbol">}</a> <a id="15906" class="Symbol">|</a> <a id="15908" href="plfa.Adequacy.html#15859" class="Bound">𝔾γγ&#39;</a><a id="15912" class="Symbol">{</a><a id="15913" class="Argument">x</a> <a id="15915" class="Symbol">=</a> <a id="15917" href="plfa.Adequacy.html#15873" class="Bound">x</a><a id="15918" class="Symbol">}</a>
<a id="15920" class="Symbol">...</a> <a id="15924" class="Symbol">|</a> <a id="15926" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15928" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15928" class="Bound">Δ</a> <a id="15930" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15932" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15934" href="plfa.Adequacy.html#15934" class="Bound">δ</a> <a id="15936" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15938" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="15940" href="plfa.Adequacy.html#15940" class="Bound">M&#39;</a> <a id="15943" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="15945" href="plfa.Adequacy.html#15945" class="Bound">eq</a> <a id="15948" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="15950" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="15952" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="15954" class="Symbol">|</a> <a id="15956" href="plfa.Adequacy.html#15956" class="Bound">𝔾γγ&#39;x</a> <a id="15962" class="Keyword">rewrite</a> <a id="15970" href="plfa.Adequacy.html#15945" class="Bound">eq</a>
    <a id="15977" class="Keyword">with</a> <a id="15982" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15956" class="Bound">𝔾γγ&#39;x</a> <a id="15988" class="Bound">fγx</a>
<a id="15992" class="Symbol">...</a> <a id="15996" class="Symbol">|</a> <a id="15998" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16000" class="Bound">c</a> <a id="16002" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16004" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16006" href="plfa.Adequacy.html#16006" class="Bound">M&#39;⇓c</a> <a id="16011" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16013" href="plfa.Adequacy.html#16013" class="Bound">𝕍γx</a> <a id="16017" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16019" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16021" class="Symbol">=</a>
      <a id="16029" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16031" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16000" class="Bound">c</a> <a id="16033" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16035" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16037" class="Symbol">(</a><a id="16038" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3069" class="InductiveConstructor">⇓-var</a> <a id="16044" class="Bound">eq</a> <a id="16047" href="plfa.Adequacy.html#16006" class="Bound">M&#39;⇓c</a><a id="16051" class="Symbol">)</a> <a id="16053" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16055" href="plfa.Adequacy.html#16013" class="Bound">𝕍γx</a> <a id="16059" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16061" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="16063" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16067" class="Symbol">{</a><a id="16068" href="plfa.Adequacy.html#16068" class="Bound">Γ</a><a id="16069" class="Symbol">}</a> <a id="16071" class="Symbol">{</a><a id="16072" href="plfa.Adequacy.html#16072" class="Bound">γ</a><a id="16073" class="Symbol">}</a> <a id="16075" class="Symbol">{</a><a id="16076" href="plfa.Adequacy.html#16076" class="Bound">γ&#39;</a><a id="16078" class="Symbol">}</a> <a id="16080" href="plfa.Adequacy.html#16080" class="Bound">𝔾γγ&#39;</a> <a id="16085" class="Symbol">(</a><a id="16086" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9407" class="InductiveConstructor">↦-elim</a><a id="16092" class="Symbol">{</a><a id="16093" class="Argument">L</a> <a id="16095" class="Symbol">=</a> <a id="16097" href="plfa.Adequacy.html#16097" class="Bound">L</a><a id="16098" class="Symbol">}{</a><a id="16100" class="Argument">M</a> <a id="16102" class="Symbol">=</a> <a id="16104" href="plfa.Adequacy.html#16104" class="Bound">M</a><a id="16105" class="Symbol">}{</a><a id="16107" class="Argument">v</a> <a id="16109" class="Symbol">=</a> <a id="16111" href="plfa.Adequacy.html#16111" class="Bound">v₁</a><a id="16113" class="Symbol">}{</a><a id="16115" class="Argument">w</a> <a id="16117" class="Symbol">=</a> <a id="16119" href="plfa.Adequacy.html#16119" class="Bound">v</a><a id="16120" class="Symbol">}</a> <a id="16122" href="plfa.Adequacy.html#16122" class="Bound">d₁</a> <a id="16125" href="plfa.Adequacy.html#16125" class="Bound">d₂</a><a id="16127" class="Symbol">)</a> <a id="16129" href="plfa.Adequacy.html#16129" class="Bound">fv</a>
    <a id="16136" class="Keyword">with</a> <a id="16141" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16145" href="plfa.Adequacy.html#16080" class="Bound">𝔾γγ&#39;</a> <a id="16150" href="plfa.Adequacy.html#16122" class="Bound">d₁</a> <a id="16153" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16155" href="plfa.Adequacy.html#16111" class="Bound">v₁</a> <a id="16158" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16160" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16162" href="plfa.Adequacy.html#16119" class="Bound">v</a> <a id="16164" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16166" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#5471" class="Function">Refl⊑</a> <a id="16172" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16174" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="16176" class="Symbol">...</a> <a id="16180" class="Symbol">|</a> <a id="16182" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16184" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="16189" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16189" class="Bound">L&#39;</a> <a id="16192" href="plfa.Adequacy.html#16192" class="Bound">δ</a> <a id="16194" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16196" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16198" href="plfa.Adequacy.html#16198" class="Bound">L⇓L&#39;</a> <a id="16203" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16205" href="plfa.Adequacy.html#16205" class="Bound">𝕍v₁↦v</a> <a id="16211" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16213" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="16219" class="Keyword">with</a> <a id="16224" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="16231" href="plfa.Adequacy.html#16205" class="Bound">𝕍v₁↦v</a>
<a id="16237" class="Symbol">...</a> <a id="16241" class="Symbol">|</a> <a id="16243" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="16246" class="Symbol">{</a><a id="16247" class="Argument">N</a> <a id="16249" class="Symbol">=</a> <a id="16251" href="plfa.Adequacy.html#16251" class="Bound">N</a><a id="16252" class="Symbol">}</a>
    <a id="16258" class="Keyword">with</a> <a id="16263" class="Bound">𝕍v₁↦v</a> <a id="16269" class="Symbol">{</a><a id="16270" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="16275" class="Bound">M</a> <a id="16277" class="Bound">γ&#39;</a><a id="16279" class="Symbol">}</a> <a id="16281" class="Symbol">(</a><a id="16282" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16286" class="Bound">𝔾γγ&#39;</a> <a id="16291" class="Bound">d₂</a><a id="16293" class="Symbol">)</a> <a id="16295" class="Bound">fv</a>
<a id="16298" class="Symbol">...</a> <a id="16302" class="Symbol">|</a> <a id="16304" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16306" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16306" class="Bound">c&#39;</a> <a id="16309" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16311" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16313" href="plfa.Adequacy.html#16313" class="Bound">N⇓c&#39;</a> <a id="16318" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16320" href="plfa.Adequacy.html#16320" class="Bound">𝕍v</a> <a id="16323" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16325" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16327" class="Symbol">=</a>
    <a id="16333" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16335" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16306" class="Bound">c&#39;</a> <a id="16338" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16340" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16342" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3311" class="InductiveConstructor">⇓-app</a> <a id="16348" class="Bound">L⇓L&#39;</a> <a id="16353" href="plfa.Adequacy.html#16313" class="Bound">N⇓c&#39;</a> <a id="16358" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16360" href="plfa.Adequacy.html#16320" class="Bound">𝕍v</a> <a id="16363" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16365" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="16367" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16371" class="Symbol">{</a><a id="16372" href="plfa.Adequacy.html#16372" class="Bound">Γ</a><a id="16373" class="Symbol">}</a> <a id="16375" class="Symbol">{</a><a id="16376" href="plfa.Adequacy.html#16376" class="Bound">γ</a><a id="16377" class="Symbol">}</a> <a id="16379" class="Symbol">{</a><a id="16380" href="plfa.Adequacy.html#16380" class="Bound">γ&#39;</a><a id="16382" class="Symbol">}</a> <a id="16384" href="plfa.Adequacy.html#16384" class="Bound">𝔾γγ&#39;</a> <a id="16389" class="Symbol">(</a><a id="16390" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9545" class="InductiveConstructor">↦-intro</a><a id="16397" class="Symbol">{</a><a id="16398" class="Argument">N</a> <a id="16400" class="Symbol">=</a> <a id="16402" href="plfa.Adequacy.html#16402" class="Bound">N</a><a id="16403" class="Symbol">}{</a><a id="16405" class="Argument">v</a> <a id="16407" class="Symbol">=</a> <a id="16409" href="plfa.Adequacy.html#16409" class="Bound">v</a><a id="16410" class="Symbol">}{</a><a id="16412" class="Argument">w</a> <a id="16414" class="Symbol">=</a> <a id="16416" href="plfa.Adequacy.html#16416" class="Bound">w</a><a id="16417" class="Symbol">}</a> <a id="16419" href="plfa.Adequacy.html#16419" class="Bound">d</a><a id="16420" class="Symbol">)</a> <a id="16422" href="plfa.Adequacy.html#16422" class="Bound">fv↦w</a> <a id="16427" class="Symbol">=</a>
    <a id="16433" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16435" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="16440" class="Symbol">(</a><a id="16441" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="16443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16402" class="Bound">N</a><a id="16444" class="Symbol">)</a> <a id="16446" href="plfa.Adequacy.html#16380" class="Bound">γ&#39;</a> <a id="16449" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16451" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16453" href="plfa.CallByName.html#3232" class="InductiveConstructor">⇓-lam</a> <a id="16459" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16461" href="plfa.Adequacy.html#16477" class="Function">E</a> <a id="16463" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16465" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="16471" class="Keyword">where</a> <a id="16477" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16477" class="Function">E</a> <a id="16479" class="Symbol">:</a> <a id="16481" class="Symbol">{</a><a id="16482" href="plfa.Adequacy.html#16482" class="Bound">c</a> <a id="16484" class="Symbol">:</a> <a id="16486" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a><a id="16490" class="Symbol">}</a> <a id="16492" class="Symbol">→</a> <a id="16494" href="plfa.Adequacy.html#7004" class="Function">𝔼</a> <a id="16496" href="plfa.Adequacy.html#16409" class="Bound">v</a> <a id="16498" href="plfa.Adequacy.html#16482" class="Bound">c</a> <a id="16500" class="Symbol">→</a> <a id="16502" href="plfa.Adequacy.html#3983" class="Function">AboveFun</a> <a id="16511" href="plfa.Adequacy.html#16416" class="Bound">w</a>
            <a id="16525" class="Symbol">→</a> <a id="16527" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="16530" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16530" class="Bound">c&#39;</a> <a id="16533" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="16535" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2458" class="Datatype">Clos</a> <a id="16540" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="16542" class="Symbol">(</a><a id="16543" href="plfa.Adequacy.html#16380" class="Bound">γ&#39;</a> <a id="16546" href="plfa.CallByName.html#2663" class="Function Operator">,&#39;</a> <a id="16549" href="plfa.Adequacy.html#16482" class="Bound">c</a><a id="16550" class="Symbol">)</a> <a id="16552" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="16554" href="plfa.Adequacy.html#16402" class="Bound">N</a> <a id="16556" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="16558" href="plfa.Adequacy.html#16530" class="Bound">c&#39;</a>  <a id="16562" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a>  <a id="16565" href="plfa.Adequacy.html#6981" class="Function">𝕍</a> <a id="16567" href="plfa.Adequacy.html#16416" class="Bound">w</a> <a id="16569" href="plfa.Adequacy.html#16530" class="Bound">c&#39;</a>
          <a id="16582" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16477" class="Function">E</a> <a id="16584" class="Symbol">{</a><a id="16585" href="plfa.Adequacy.html#16585" class="Bound">c</a><a id="16586" class="Symbol">}</a> <a id="16588" href="plfa.Adequacy.html#16588" class="Bound">𝔼vc</a> <a id="16592" href="plfa.Adequacy.html#16592" class="Bound">fw</a> <a id="16595" class="Symbol">=</a> <a id="16597" href="plfa.Adequacy.html#15738" class="Function">↓→𝔼</a> <a id="16601" class="Symbol">(λ</a> <a id="16604" class="Symbol">{</a><a id="16605" href="plfa.Adequacy.html#16605" class="Bound">x</a><a id="16606" class="Symbol">}</a> <a id="16608" class="Symbol">→</a> <a id="16610" href="plfa.Adequacy.html#8803" class="Function">𝔾-ext</a><a id="16615" class="Symbol">{</a><a id="16616" href="plfa.Adequacy.html#16372" class="Bound">Γ</a><a id="16617" class="Symbol">}{</a><a id="16619" href="plfa.Adequacy.html#16376" class="Bound">γ</a><a id="16620" class="Symbol">}{</a><a id="16622" href="plfa.Adequacy.html#16380" class="Bound">γ&#39;</a><a id="16624" class="Symbol">}</a> <a id="16626" href="plfa.Adequacy.html#16384" class="Bound">𝔾γγ&#39;</a> <a id="16631" href="plfa.Adequacy.html#16588" class="Bound">𝔼vc</a> <a id="16635" class="Symbol">{</a><a id="16636" href="plfa.Adequacy.html#16605" class="Bound">x</a><a id="16637" class="Symbol">})</a> <a id="16640" href="plfa.Adequacy.html#16419" class="Bound">d</a> <a id="16642" href="plfa.Adequacy.html#16592" class="Bound">fw</a>
<a id="16645" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16649" href="plfa.Adequacy.html#16649" class="Bound">𝔾γγ&#39;</a> <a id="16654" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9669" class="InductiveConstructor">⊥-intro</a> <a id="16662" href="plfa.Adequacy.html#16662" class="Bound">f⊥</a> <a id="16665" class="Symbol">=</a> <a id="16667" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="16674" class="Symbol">(</a><a id="16675" href="plfa.Adequacy.html#4386" class="Function">AboveFun⊥</a> <a id="16685" href="plfa.Adequacy.html#16662" class="Bound">f⊥</a><a id="16687" class="Symbol">)</a>
<a id="16689" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16693" href="plfa.Adequacy.html#16693" class="Bound">𝔾γγ&#39;</a> <a id="16698" class="Symbol">(</a><a id="16699" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9744" class="InductiveConstructor">⊔-intro</a><a id="16706" class="Symbol">{</a><a id="16707" class="Argument">v</a> <a id="16709" class="Symbol">=</a> <a id="16711" href="plfa.Adequacy.html#16711" class="Bound">v₁</a><a id="16713" class="Symbol">}{</a><a id="16715" class="Argument">w</a> <a id="16717" class="Symbol">=</a> <a id="16719" href="plfa.Adequacy.html#16719" class="Bound">v₂</a><a id="16721" class="Symbol">}</a> <a id="16723" href="plfa.Adequacy.html#16723" class="Bound">d₁</a> <a id="16726" href="plfa.Adequacy.html#16726" class="Bound">d₂</a><a id="16728" class="Symbol">)</a> <a id="16730" href="plfa.Adequacy.html#16730" class="Bound">fv12</a>
    <a id="16739" class="Keyword">with</a> <a id="16744" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#6136" class="Function">AboveFun?</a> <a id="16754" href="plfa.Adequacy.html#16711" class="Bound">v₁</a> <a id="16757" class="Symbol">|</a> <a id="16759" href="plfa.Adequacy.html#6136" class="Function">AboveFun?</a> <a id="16769" href="plfa.Adequacy.html#16719" class="Bound">v₂</a>
<a id="16772" class="Symbol">...</a> <a id="16776" class="Symbol">|</a> <a id="16778" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="16782" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16782" class="Bound">fv1</a> <a id="16786" class="Symbol">|</a> <a id="16788" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="16792" href="plfa.Adequacy.html#16792" class="Bound">fv2</a>
    <a id="16800" class="Keyword">with</a> <a id="16805" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16809" class="Bound">𝔾γγ&#39;</a> <a id="16814" class="Bound">d₁</a> <a id="16817" href="plfa.Adequacy.html#16782" class="Bound">fv1</a> <a id="16821" class="Symbol">|</a> <a id="16823" href="plfa.Adequacy.html#15738" class="Function">↓→𝔼</a> <a id="16827" class="Bound">𝔾γγ&#39;</a> <a id="16832" class="Bound">d₂</a> <a id="16835" href="plfa.Adequacy.html#16792" class="Bound">fv2</a>
<a id="16839" class="Symbol">...</a> <a id="16843" class="Symbol">|</a> <a id="16845" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16847" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16847" class="Bound">c₁</a> <a id="16850" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16852" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16854" href="plfa.Adequacy.html#16854" class="Bound">M⇓c₁</a> <a id="16859" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16861" href="plfa.Adequacy.html#16861" class="Bound">𝕍v₁</a> <a id="16865" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16867" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16869" class="Symbol">|</a> <a id="16871" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16873" href="plfa.Adequacy.html#16873" class="Bound">c₂</a> <a id="16876" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16878" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16880" href="plfa.Adequacy.html#16880" class="Bound">M⇓c₂</a> <a id="16885" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16887" href="plfa.Adequacy.html#16887" class="Bound">𝕍v₂</a> <a id="16891" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16893" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="16899" class="Keyword">rewrite</a> <a id="16907" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4595" class="Function">⇓-determ</a> <a id="16916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16880" class="Bound">M⇓c₂</a> <a id="16921" href="plfa.Adequacy.html#16854" class="Bound">M⇓c₁</a> <a id="16926" class="Symbol">=</a>
    <a id="16932" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16934" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#16847" class="Bound">c₁</a> <a id="16937" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16939" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="16941" href="plfa.Adequacy.html#16854" class="Bound">M⇓c₁</a> <a id="16946" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="16948" href="plfa.Adequacy.html#9598" class="Function">𝕍⊔-intro</a> <a id="16957" href="plfa.Adequacy.html#16861" class="Bound">𝕍v₁</a> <a id="16961" href="plfa.Adequacy.html#16887" class="Bound">𝕍v₂</a> <a id="16965" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="16967" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="16969" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="16973" href="plfa.Adequacy.html#16973" class="Bound">𝔾γγ&#39;</a> <a id="16978" class="Symbol">(</a><a id="16979" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9744" class="InductiveConstructor">⊔-intro</a><a id="16986" class="Symbol">{</a><a id="16987" class="Argument">v</a> <a id="16989" class="Symbol">=</a> <a id="16991" href="plfa.Adequacy.html#16991" class="Bound">v₁</a><a id="16993" class="Symbol">}{</a><a id="16995" class="Argument">w</a> <a id="16997" class="Symbol">=</a> <a id="16999" href="plfa.Adequacy.html#16999" class="Bound">v₂</a><a id="17001" class="Symbol">}</a> <a id="17003" href="plfa.Adequacy.html#17003" class="Bound">d₁</a> <a id="17006" href="plfa.Adequacy.html#17006" class="Bound">d₂</a><a id="17008" class="Symbol">)</a> <a id="17010" href="plfa.Adequacy.html#17010" class="Bound">fv12</a> <a id="17015" class="Symbol">|</a> <a id="17017" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="17021" href="plfa.Adequacy.html#17021" class="Bound">fv1</a> <a id="17025" class="Symbol">|</a> <a id="17027" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17030" href="plfa.Adequacy.html#17030" class="Bound">nfv2</a>
    <a id="17039" class="Keyword">with</a> <a id="17044" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17048" href="plfa.Adequacy.html#16973" class="Bound">𝔾γγ&#39;</a> <a id="17053" href="plfa.Adequacy.html#17003" class="Bound">d₁</a> <a id="17056" href="plfa.Adequacy.html#17021" class="Bound">fv1</a>
<a id="17060" class="Symbol">...</a> <a id="17064" class="Symbol">|</a> <a id="17066" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17068" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="17073" class="Symbol">{</a><a id="17074" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17074" class="Bound">Γ&#39;</a><a id="17076" class="Symbol">}</a> <a id="17078" href="plfa.Adequacy.html#17078" class="Bound">M&#39;</a> <a id="17081" href="plfa.Adequacy.html#17081" class="Bound">γ₁</a> <a id="17084" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17086" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17088" href="plfa.Adequacy.html#17088" class="Bound">M⇓c₁</a> <a id="17093" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17095" href="plfa.Adequacy.html#17095" class="Bound">𝕍v₁</a> <a id="17099" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17101" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="17107" class="Keyword">with</a> <a id="17112" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="17119" href="plfa.Adequacy.html#17095" class="Bound">𝕍v₁</a>
<a id="17123" class="Symbol">...</a> <a id="17127" class="Symbol">|</a> <a id="17129" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="17132" class="Symbol">{</a><a id="17133" class="Argument">N</a> <a id="17135" class="Symbol">=</a> <a id="17137" href="plfa.Adequacy.html#17137" class="Bound">N</a><a id="17138" class="Symbol">}</a> <a id="17140" class="Symbol">=</a>
    <a id="17146" class="Keyword">let</a> <a id="17150" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17150" class="Bound">𝕍v₂</a> <a id="17154" class="Symbol">=</a> <a id="17156" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a><a id="17170" class="Symbol">{</a><a id="17171" class="Bound">v₂</a><a id="17173" class="Symbol">}{</a><a id="17175" class="Bound">Γ&#39;</a><a id="17177" class="Symbol">}{</a><a id="17179" class="Bound">γ₁</a><a id="17181" class="Symbol">}{</a><a id="17183" href="plfa.Adequacy.html#17137" class="Bound">N</a><a id="17184" class="Symbol">}</a> <a id="17186" class="Bound">nfv2</a> <a id="17191" class="Keyword">in</a>
    <a id="17198" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17200" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="17205" class="Symbol">(</a><a id="17206" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="17208" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17137" class="Bound">N</a><a id="17209" class="Symbol">)</a> <a id="17211" class="Bound">γ₁</a> <a id="17214" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17216" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17218" class="Bound">M⇓c₁</a> <a id="17223" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17225" href="plfa.Adequacy.html#9598" class="Function">𝕍⊔-intro</a> <a id="17234" class="Bound">𝕍v₁</a> <a id="17238" href="plfa.Adequacy.html#17150" class="Bound">𝕍v₂</a> <a id="17242" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17244" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="17246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17250" href="plfa.Adequacy.html#17250" class="Bound">𝔾γγ&#39;</a> <a id="17255" class="Symbol">(</a><a id="17256" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9744" class="InductiveConstructor">⊔-intro</a><a id="17263" class="Symbol">{</a><a id="17264" class="Argument">v</a> <a id="17266" class="Symbol">=</a> <a id="17268" href="plfa.Adequacy.html#17268" class="Bound">v₁</a><a id="17270" class="Symbol">}{</a><a id="17272" class="Argument">w</a> <a id="17274" class="Symbol">=</a> <a id="17276" href="plfa.Adequacy.html#17276" class="Bound">v₂</a><a id="17278" class="Symbol">}</a> <a id="17280" href="plfa.Adequacy.html#17280" class="Bound">d₁</a> <a id="17283" href="plfa.Adequacy.html#17283" class="Bound">d₂</a><a id="17285" class="Symbol">)</a> <a id="17287" href="plfa.Adequacy.html#17287" class="Bound">fv12</a> <a id="17292" class="Symbol">|</a> <a id="17294" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17297" href="plfa.Adequacy.html#17297" class="Bound">nfv1</a>  <a id="17303" class="Symbol">|</a> <a id="17305" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="17309" href="plfa.Adequacy.html#17309" class="Bound">fv2</a>
    <a id="17317" class="Keyword">with</a> <a id="17322" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17326" href="plfa.Adequacy.html#17250" class="Bound">𝔾γγ&#39;</a> <a id="17331" href="plfa.Adequacy.html#17283" class="Bound">d₂</a> <a id="17334" href="plfa.Adequacy.html#17309" class="Bound">fv2</a>
<a id="17338" class="Symbol">...</a> <a id="17342" class="Symbol">|</a> <a id="17344" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="17351" class="Symbol">{</a><a id="17352" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17352" class="Bound">Γ&#39;</a><a id="17354" class="Symbol">}</a> <a id="17356" href="plfa.Adequacy.html#17356" class="Bound">M&#39;</a> <a id="17359" href="plfa.Adequacy.html#17359" class="Bound">γ₁</a> <a id="17362" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17364" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17366" href="plfa.Adequacy.html#17366" class="Bound">M&#39;⇓c₂</a> <a id="17372" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17374" href="plfa.Adequacy.html#17374" class="Bound">𝕍2c</a> <a id="17378" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17380" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="17386" class="Keyword">with</a> <a id="17391" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="17398" href="plfa.Adequacy.html#17374" class="Bound">𝕍2c</a>
<a id="17402" class="Symbol">...</a> <a id="17406" class="Symbol">|</a> <a id="17408" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="17411" class="Symbol">{</a><a id="17412" class="Argument">N</a> <a id="17414" class="Symbol">=</a> <a id="17416" href="plfa.Adequacy.html#17416" class="Bound">N</a><a id="17417" class="Symbol">}</a> <a id="17419" class="Symbol">=</a>
    <a id="17425" class="Keyword">let</a> <a id="17429" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17429" class="Bound">𝕍1c</a> <a id="17433" class="Symbol">=</a> <a id="17435" href="plfa.Adequacy.html#10247" class="Function">not-AboveFun-𝕍</a><a id="17449" class="Symbol">{</a><a id="17450" class="Bound">v₁</a><a id="17452" class="Symbol">}{</a><a id="17454" class="Bound">Γ&#39;</a><a id="17456" class="Symbol">}{</a><a id="17458" class="Bound">γ₁</a><a id="17460" class="Symbol">}{</a><a id="17462" href="plfa.Adequacy.html#17416" class="Bound">N</a><a id="17463" class="Symbol">}</a> <a id="17465" class="Bound">nfv1</a> <a id="17470" class="Keyword">in</a>
    <a id="17477" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17479" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="17484" class="Symbol">(</a><a id="17485" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="17487" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17416" class="Bound">N</a><a id="17488" class="Symbol">)</a> <a id="17490" class="Bound">γ₁</a> <a id="17493" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17495" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17497" class="Bound">M&#39;⇓c₂</a> <a id="17503" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17505" href="plfa.Adequacy.html#9598" class="Function">𝕍⊔-intro</a> <a id="17514" href="plfa.Adequacy.html#17429" class="Bound">𝕍1c</a> <a id="17518" class="Bound">𝕍2c</a> <a id="17522" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17524" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="17526" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17530" href="plfa.Adequacy.html#17530" class="Bound">𝔾γγ&#39;</a> <a id="17535" class="Symbol">(</a><a id="17536" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9744" class="InductiveConstructor">⊔-intro</a> <a id="17544" href="plfa.Adequacy.html#17544" class="Bound">d₁</a> <a id="17547" href="plfa.Adequacy.html#17547" class="Bound">d₂</a><a id="17549" class="Symbol">)</a> <a id="17551" href="plfa.Adequacy.html#17551" class="Bound">fv12</a> <a id="17556" class="Symbol">|</a> <a id="17558" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17561" href="plfa.Adequacy.html#17561" class="Bound">nfv1</a>  <a id="17567" class="Symbol">|</a> <a id="17569" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="17572" href="plfa.Adequacy.html#17572" class="Bound">nfv2</a>
    <a id="17581" class="Keyword">with</a> <a id="17586" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#4686" class="Function">AboveFun-⊔</a> <a id="17597" href="plfa.Adequacy.html#17551" class="Bound">fv12</a>
<a id="17602" class="Symbol">...</a> <a id="17606" class="Symbol">|</a> <a id="17608" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#662" class="InductiveConstructor">inj₁</a> <a id="17613" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17613" class="Bound">fv1</a> <a id="17617" class="Symbol">=</a> <a id="17619" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="17626" class="Symbol">(</a><a id="17627" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="17641" href="plfa.Adequacy.html#17613" class="Bound">fv1</a> <a id="17645" class="Bound">nfv1</a><a id="17649" class="Symbol">)</a>
<a id="17651" class="Symbol">...</a> <a id="17655" class="Symbol">|</a> <a id="17657" href="https://agda.github.io/agda-stdlib/v1.1/Data.Sum.Base.html#687" class="InductiveConstructor">inj₂</a> <a id="17662" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17662" class="Bound">fv2</a> <a id="17666" class="Symbol">=</a> <a id="17668" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="17675" class="Symbol">(</a><a id="17676" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.Negation.html#809" class="Function">contradiction</a> <a id="17690" href="plfa.Adequacy.html#17662" class="Bound">fv2</a> <a id="17694" class="Bound">nfv2</a><a id="17698" class="Symbol">)</a>
<a id="17700" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17704" class="Symbol">{</a><a id="17705" href="plfa.Adequacy.html#17705" class="Bound">Γ</a><a id="17706" class="Symbol">}</a> <a id="17708" class="Symbol">{</a><a id="17709" href="plfa.Adequacy.html#17709" class="Bound">γ</a><a id="17710" class="Symbol">}</a> <a id="17712" class="Symbol">{</a><a id="17713" href="plfa.Adequacy.html#17713" class="Bound">γ&#39;</a><a id="17715" class="Symbol">}</a> <a id="17717" class="Symbol">{</a><a id="17718" href="plfa.Adequacy.html#17718" class="Bound">M</a><a id="17719" class="Symbol">}</a> <a id="17721" class="Symbol">{</a><a id="17722" href="plfa.Adequacy.html#17722" class="Bound">v&#39;</a><a id="17724" class="Symbol">}</a> <a id="17726" href="plfa.Adequacy.html#17726" class="Bound">𝔾γγ&#39;</a> <a id="17731" class="Symbol">(</a><a id="17732" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#9875" class="InductiveConstructor">sub</a><a id="17735" class="Symbol">{</a><a id="17736" class="Argument">v</a> <a id="17738" class="Symbol">=</a> <a id="17740" href="plfa.Adequacy.html#17740" class="Bound">v</a><a id="17741" class="Symbol">}</a> <a id="17743" href="plfa.Adequacy.html#17743" class="Bound">d</a> <a id="17745" href="plfa.Adequacy.html#17745" class="Bound">v&#39;⊑v</a><a id="17749" class="Symbol">)</a> <a id="17751" href="plfa.Adequacy.html#17751" class="Bound">fv&#39;</a>
    <a id="17759" class="Keyword">with</a> <a id="17764" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="17768" class="Symbol">{</a><a id="17769" href="plfa.Adequacy.html#17705" class="Bound">Γ</a><a id="17770" class="Symbol">}</a> <a id="17772" class="Symbol">{</a><a id="17773" href="plfa.Adequacy.html#17709" class="Bound">γ</a><a id="17774" class="Symbol">}</a> <a id="17776" class="Symbol">{</a><a id="17777" href="plfa.Adequacy.html#17713" class="Bound">γ&#39;</a><a id="17779" class="Symbol">}</a> <a id="17781" class="Symbol">{</a><a id="17782" href="plfa.Adequacy.html#17718" class="Bound">M</a><a id="17783" class="Symbol">}</a> <a id="17785" href="plfa.Adequacy.html#17726" class="Bound">𝔾γγ&#39;</a> <a id="17790" href="plfa.Adequacy.html#17743" class="Bound">d</a> <a id="17792" class="Symbol">(</a><a id="17793" href="plfa.Adequacy.html#4152" class="Function">AboveFun-⊑</a> <a id="17804" href="plfa.Adequacy.html#17751" class="Bound">fv&#39;</a> <a id="17808" href="plfa.Adequacy.html#17745" class="Bound">v&#39;⊑v</a><a id="17812" class="Symbol">)</a>
<a id="17814" class="Symbol">...</a> <a id="17818" class="Symbol">|</a> <a id="17820" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17822" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17822" class="Bound">c</a> <a id="17824" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17826" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17828" href="plfa.Adequacy.html#17828" class="Bound">M⇓c</a> <a id="17832" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17834" href="plfa.Adequacy.html#17834" class="Bound">𝕍v</a> <a id="17837" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17839" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17841" class="Symbol">=</a>
      <a id="17849" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17851" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#17822" class="Bound">c</a> <a id="17853" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17855" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="17857" href="plfa.Adequacy.html#17828" class="Bound">M⇓c</a> <a id="17861" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="17863" href="plfa.Adequacy.html#10674" class="Function">sub-𝕍</a> <a id="17869" href="plfa.Adequacy.html#17834" class="Bound">𝕍v</a> <a id="17872" class="Bound">v&#39;⊑v</a> <a id="17877" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="17879" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}
* Case `var`. Looking up `x` in `γ'` yields some closure, `clos M' δ`,
  and from `𝔾 γ γ'` we have `𝔼 (γ x) (clos M' δ)`. With the premise
  `AboveFun (γ x)`, we obtain a closure `c` such that `δ ⊢ M' ⇓ c`
  and `𝕍 (γ x) c`. To conclude `γ' ⊢ x ⇓ c` via `⇓-var`, we
  need `γ' x ≡ clos M' δ`, which is obvious, but it requires some
  Agda shananigans via the `kth-x` lemma to get our hands on it.

* Case `↦-elim`. We have `γ ⊢ L · M ↓ v`.
  The induction hypothesis for `γ ⊢ L ↓ v₁ ↦ v`
  gives us `γ' ⊢ L ⇓ clos L' δ` and `𝕍 v (clos L' δ)`.
  Of course, `L' ≡ ƛ N` for some `N`.
  By the induction hypothesis for `γ ⊢ M ↓ v₁`,
  we have `𝔼 v₁ (clos M γ')`.
  Together with the premise `AboveFun v` and `𝕍 v (clos L' δ)`,
  we obtain a closure `c'` such that `δ ⊢ N ⇓ c'` and `𝕍 v c'`.
  We conclude that `γ' ⊢ L · M ⇓ c'` by rule `⇓-app`.

* Case `↦-intro`. We have `γ ⊢ ƛ N ↓ v ↦ w`.
  We immediately have `γ' ⊢ ƛ M ⇓ clos (ƛ M) γ'` by rule `⇓-lam`.
  But we also need to prove `𝕍 (v ↦ w) (clos (ƛ N) γ')`.
  Let `c` by an arbitrary closure such that `𝔼 v c`.
  Suppose `v'` is greater than a function value.
  We need to show that `γ' , c ⊢ N ⇓ c'` and `𝕍 v' c'` for some `c'`.
  We prove this by the induction hypothesis for `γ , v ⊢ N ↓ v'`
  but we must first show that `𝔾 (γ , v) (γ' , c)`. We prove
  that by the lemma `𝔾-ext`, using facts `𝔾 γ γ'` and `𝔼 v c`.

* Case `⊥-intro`. We have the premise `AboveFun ⊥`, but that's impossible.

* Case `⊔-intro`. We have `γ ⊢ M ↓ (v₁ ⊔ v₂)` and `AboveFun (v₁ ⊔ v₂)`
  and need to show `γ' ⊢ M ↓ c` and `𝕍 (v₁ ⊔ v₂) c` for some `c`.
  Again, by `AboveFun-⊔`, at least one of `v₁` or `v₂` is greater than
  a function.

  * Suppose both `v₁` and `v₂` are greater than a function value.
    By the induction hypotheses for `γ ⊢ M ↓ v₁` and `γ ⊢ M ↓ v₂`
    we have `γ' ⊢ M ⇓ c₁`, `𝕍 v₁ c₁`, `γ' ⊢ M ⇓ c₂`, and `𝕍 v₂ c₂`
    for some `c₁` and `c₂`. Because `⇓` is deterministic, we have `c₂ ≡ c₁`.
    Then by `𝕍⊔-intro` we conclude that `𝕍 (v₁ ⊔ v₂) c₁`.

  * Without loss of generality, suppose `v₁` is greater than a function
    value but `v₂` is not.  By the induction hypotheses for `γ ⊢ M ↓ v₁`,
    and using `𝕍→WHNF`, we have `γ' ⊢ M ⇓ clos (ƛ N) γ₁`
    and `𝕍 v₁ (clos (ƛ N) γ₁)`.
    Then because `v₂` is not greater than a function, we also have
    `𝕍 v₂ (clos (ƛ N) γ₁)`. We conclude that `𝕍 (v₁ ⊔ v₂) (clos (ƛ N) γ₁)`.

* Case `sub`. We have `γ ⊢ M ↓ v`, `v' ⊑ v`, and `AboveFun v'`.
  We need to show that `γ' ⊢ M ⇓ c` and `𝕍 v' c` for some `c`.
  We have `AboveFun v` by `AboveFun-⊑`,
  so the induction hypothesis for `γ ⊢ M ↓ v` gives us a closure `c`
  such that `γ' ⊢ M ⇓ c` and `𝕍 v c`. We conclude that `𝕍 v' c` by `sub-𝕍`.


## Proof of denotational adequacy

The adequacy property is a corollary of the main lemma.
We have `∅ ⊢ ƛ N ↓ ⊥ ↦ ⊥`, so `ℰ M ≃ ℰ (ƛ N)`
gives us `∅ ⊢ M ↓ ⊥ ↦ ⊥`. Then the main lemma gives us
`∅ ⊢ M ⇓ clos (ƛ N′) γ` for some `N′` and `γ`.

{% raw %}<pre class="Agda"><a id="adequacy"></a><a id="20829" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20829" class="Function">adequacy</a> <a id="20838" class="Symbol">:</a> <a id="20840" class="Symbol">∀{</a><a id="20842" href="plfa.Adequacy.html#20842" class="Bound">M</a> <a id="20844" class="Symbol">:</a> <a id="20846" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">∅</a> <a id="20848" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="20850" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="20851" class="Symbol">}{</a><a id="20853" href="plfa.Adequacy.html#20853" class="Bound">N</a> <a id="20855" class="Symbol">:</a> <a id="20857" href="plfa.Untyped.html#3152" class="InductiveConstructor">∅</a> <a id="20859" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="20861" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="20863" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="20865" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="20866" class="Symbol">}</a>  <a id="20869" class="Symbol">→</a>  <a id="20872" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#17427" class="Function">ℰ</a> <a id="20874" href="plfa.Adequacy.html#20842" class="Bound">M</a> <a id="20876" href="plfa.Denotational.html#17609" class="Function Operator">≃</a> <a id="20878" href="plfa.Denotational.html#17427" class="Function">ℰ</a> <a id="20880" class="Symbol">(</a><a id="20881" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ</a> <a id="20883" href="plfa.Adequacy.html#20853" class="Bound">N</a><a id="20884" class="Symbol">)</a>
         <a id="20895" class="Symbol">→</a>  <a id="20898" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="20901" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20901" class="Bound">Γ</a> <a id="20903" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="20905" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="20913" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="20915" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="20918" href="plfa.Adequacy.html#20918" class="Bound">N′</a> <a id="20921" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="20923" class="Symbol">(</a><a id="20924" href="plfa.Adequacy.html#20901" class="Bound">Γ</a> <a id="20926" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="20928" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="20930" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="20932" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="20933" class="Symbol">)</a> <a id="20935" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="20937" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="20940" href="plfa.Adequacy.html#20940" class="Bound">γ</a> <a id="20942" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="20944" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="20952" href="plfa.Adequacy.html#20901" class="Bound">Γ</a> <a id="20954" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
            <a id="20968" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2641" class="Function">∅&#39;</a> <a id="20971" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="20973" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20842" class="Bound">M</a> <a id="20975" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="20977" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a> <a id="20982" class="Symbol">(</a><a id="20983" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="20985" href="plfa.Adequacy.html#20918" class="Bound">N′</a><a id="20987" class="Symbol">)</a> <a id="20989" href="plfa.Adequacy.html#20940" class="Bound">γ</a>
<a id="20991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#20829" class="Function">adequacy</a><a id="20999" class="Symbol">{</a><a id="21000" href="plfa.Adequacy.html#21000" class="Bound">M</a><a id="21001" class="Symbol">}{</a><a id="21003" href="plfa.Adequacy.html#21003" class="Bound">N</a><a id="21004" class="Symbol">}</a> <a id="21006" href="plfa.Adequacy.html#21006" class="Bound">eq</a>
    <a id="21013" class="Keyword">with</a> <a id="21018" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#15738" class="Function">↓→𝔼</a> <a id="21022" href="plfa.Adequacy.html#8779" class="Function">𝔾-∅</a> <a id="21026" class="Symbol">((</a><a id="21028" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="21034" class="Symbol">(</a><a id="21035" href="plfa.Adequacy.html#21006" class="Bound">eq</a> <a id="21038" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#7224" class="Function">`∅</a> <a id="21041" class="Symbol">(</a><a id="21042" href="plfa.Denotational.html#3982" class="InductiveConstructor">⊥</a> <a id="21044" href="plfa.Denotational.html#3994" class="InductiveConstructor Operator">↦</a> <a id="21046" href="plfa.Denotational.html#3982" class="InductiveConstructor">⊥</a><a id="21047" class="Symbol">)))</a> <a id="21051" class="Symbol">(</a><a id="21052" href="plfa.Denotational.html#9545" class="InductiveConstructor">↦-intro</a> <a id="21060" href="plfa.Denotational.html#9669" class="InductiveConstructor">⊥-intro</a><a id="21067" class="Symbol">))</a>
                 <a id="21087" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21089" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#3982" class="InductiveConstructor">⊥</a> <a id="21091" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21093" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21095" href="plfa.Denotational.html#3982" class="InductiveConstructor">⊥</a> <a id="21097" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21099" href="plfa.Denotational.html#5471" class="Function">Refl⊑</a> <a id="21105" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="21107" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="21109" class="Symbol">...</a> <a id="21113" class="Symbol">|</a> <a id="21115" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21117" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2477" class="InductiveConstructor">clos</a> <a id="21122" class="Symbol">{</a><a id="21123" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21123" class="Bound">Γ</a><a id="21124" class="Symbol">}</a> <a id="21126" href="plfa.Adequacy.html#21126" class="Bound">M′</a> <a id="21129" href="plfa.Adequacy.html#21129" class="Bound">γ</a> <a id="21131" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21133" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21135" href="plfa.Adequacy.html#21135" class="Bound">M⇓c</a> <a id="21139" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21141" href="plfa.Adequacy.html#21141" class="Bound">Vc</a> <a id="21144" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="21146" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="21152" class="Keyword">with</a> <a id="21157" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9285" class="Function">𝕍→WHNF</a> <a id="21164" href="plfa.Adequacy.html#21141" class="Bound">Vc</a>
<a id="21167" class="Symbol">...</a> <a id="21171" class="Symbol">|</a> <a id="21173" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#9178" class="InductiveConstructor Operator">ƛ_</a> <a id="21176" class="Symbol">{</a><a id="21177" class="Argument">N</a> <a id="21179" class="Symbol">=</a> <a id="21181" href="plfa.Adequacy.html#21181" class="Bound">N′</a><a id="21183" class="Symbol">}</a> <a id="21185" class="Symbol">=</a>
    <a id="21191" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21193" class="Bound">Γ</a> <a id="21195" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21197" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21199" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21181" class="Bound">N′</a> <a id="21202" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21204" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21206" class="Bound">γ</a> <a id="21208" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21210" class="Bound">M⇓c</a> <a id="21214" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="21217" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="21219" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}

## Call-by-name is equivalent to beta reduction

As promised, we return to the question of whether call-by-name
evaluation is equivalent to beta reduction. In the chapter CallByName
we established the forward direction: that if call-by-name produces a
result, then the program beta reduces to a lambda abstraction.  We now
prove the backward direction of the if-and-only-if, leveraging our
results about the denotational semantics.

{% raw %}<pre class="Agda"><a id="reduce→cbn"></a><a id="21664" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21664" class="Function">reduce→cbn</a> <a id="21675" class="Symbol">:</a> <a id="21677" class="Symbol">∀</a> <a id="21679" class="Symbol">{</a><a id="21680" href="plfa.Adequacy.html#21680" class="Bound">M</a> <a id="21682" class="Symbol">:</a> <a id="21684" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">∅</a> <a id="21686" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="21688" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="21689" class="Symbol">}</a> <a id="21691" class="Symbol">{</a><a id="21692" href="plfa.Adequacy.html#21692" class="Bound">N</a> <a id="21694" class="Symbol">:</a> <a id="21696" href="plfa.Untyped.html#3152" class="InductiveConstructor">∅</a> <a id="21698" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="21700" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="21702" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="21704" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="21705" class="Symbol">}</a>
           <a id="21718" class="Symbol">→</a> <a id="21720" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21680" class="Bound">M</a> <a id="21722" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#11203" class="Datatype Operator">—↠</a> <a id="21725" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ</a> <a id="21727" href="plfa.Adequacy.html#21692" class="Bound">N</a>
           <a id="21740" class="Symbol">→</a> <a id="21742" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="21745" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21745" class="Bound">Δ</a> <a id="21747" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="21749" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="21757" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="21759" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="21762" href="plfa.Adequacy.html#21762" class="Bound">N′</a> <a id="21765" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="21767" href="plfa.Adequacy.html#21745" class="Bound">Δ</a> <a id="21769" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="21771" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="21773" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="21775" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="21777" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="21779" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="21782" href="plfa.Adequacy.html#21782" class="Bound">δ</a> <a id="21784" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="21786" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="21794" href="plfa.Adequacy.html#21745" class="Bound">Δ</a> <a id="21796" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
             <a id="21811" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2641" class="Function">∅&#39;</a> <a id="21814" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="21816" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21680" class="Bound">M</a> <a id="21818" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="21820" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a> <a id="21825" class="Symbol">(</a><a id="21826" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="21828" href="plfa.Adequacy.html#21762" class="Bound">N′</a><a id="21830" class="Symbol">)</a> <a id="21832" href="plfa.Adequacy.html#21782" class="Bound">δ</a>
<a id="21834" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#21664" class="Function">reduce→cbn</a> <a id="21845" href="plfa.Adequacy.html#21845" class="Bound">M—↠ƛN</a> <a id="21851" class="Symbol">=</a> <a id="21853" href="plfa.Adequacy.html#20829" class="Function">adequacy</a> <a id="21862" class="Symbol">(</a><a id="21863" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#23387" class="Function">soundness</a> <a id="21873" href="plfa.Adequacy.html#21845" class="Bound">M—↠ƛN</a><a id="21878" class="Symbol">)</a>
</pre>{% endraw %}
Suppose `M —↠ ƛ N`. Soundness of the denotational semantics gives us
`ℰ M ≃ ℰ (ƛ N)`. Then by adequacy we conclude that
`∅' ⊢ M ⇓ clos (ƛ N′) δ` for some `N′` and `δ`.

Putting the two directions of the if-and-only-if together, we
establish that call-by-name evaluation is equivalent to beta reduction
in the following sense.

{% raw %}<pre class="Agda"><a id="cbn↔reduce"></a><a id="22216" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22216" class="Function">cbn↔reduce</a> <a id="22227" class="Symbol">:</a> <a id="22229" class="Symbol">∀</a> <a id="22231" class="Symbol">{</a><a id="22232" href="plfa.Adequacy.html#22232" class="Bound">M</a> <a id="22234" class="Symbol">:</a> <a id="22236" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">∅</a> <a id="22238" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="22240" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a><a id="22241" class="Symbol">}</a>
           <a id="22254" class="Symbol">→</a> <a id="22256" class="Symbol">(</a><a id="22257" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="22260" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22260" class="Bound">N</a> <a id="22262" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="22264" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3152" class="InductiveConstructor">∅</a> <a id="22266" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="22268" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="22270" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="22272" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="22274" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22276" class="Symbol">(</a><a id="22277" href="plfa.Adequacy.html#22232" class="Bound">M</a> <a id="22279" href="plfa.Untyped.html#11203" class="Datatype Operator">—↠</a> <a id="22282" href="plfa.Untyped.html#4340" class="InductiveConstructor Operator">ƛ</a> <a id="22284" href="plfa.Adequacy.html#22260" class="Bound">N</a><a id="22285" class="Symbol">))</a>
             <a id="22301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Denotational.md %}{% raw %}#16948" class="Function Operator">iff</a>
             <a id="22318" class="Symbol">(</a><a id="22319" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="22322" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22322" class="Bound">Δ</a> <a id="22324" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="22326" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3130" class="Datatype">Context</a> <a id="22334" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22336" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="22339" href="plfa.Adequacy.html#22339" class="Bound">N′</a> <a id="22342" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="22344" href="plfa.Adequacy.html#22322" class="Bound">Δ</a> <a id="22346" href="plfa.Untyped.html#3168" class="InductiveConstructor Operator">,</a> <a id="22348" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="22350" href="plfa.Untyped.html#4252" class="Datatype Operator">⊢</a> <a id="22352" href="plfa.Untyped.html#2876" class="InductiveConstructor">★</a> <a id="22354" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="22356" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="22359" href="plfa.Adequacy.html#22359" class="Bound">δ</a> <a id="22361" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="22363" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2428" class="Function">ClosEnv</a> <a id="22371" href="plfa.Adequacy.html#22322" class="Bound">Δ</a> <a id="22373" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a>
               <a id="22390" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2641" class="Function">∅&#39;</a> <a id="22393" href="plfa.CallByName.html#3012" class="Datatype Operator">⊢</a> <a id="22395" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22232" class="Bound">M</a> <a id="22397" href="plfa.CallByName.html#3012" class="Datatype Operator">⇓</a> <a id="22399" href="plfa.CallByName.html#2477" class="InductiveConstructor">clos</a> <a id="22404" class="Symbol">(</a><a id="22405" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4340" class="InductiveConstructor Operator">ƛ</a> <a id="22407" href="plfa.Adequacy.html#22339" class="Bound">N′</a><a id="22409" class="Symbol">)</a> <a id="22411" href="plfa.Adequacy.html#22359" class="Bound">δ</a><a id="22412" class="Symbol">)</a>
<a id="22414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22216" class="Function">cbn↔reduce</a> <a id="22425" class="Symbol">{</a><a id="22426" href="plfa.Adequacy.html#22426" class="Bound">M</a><a id="22427" class="Symbol">}</a> <a id="22429" class="Symbol">=</a> <a id="22431" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22433" class="Symbol">(λ</a> <a id="22436" href="plfa.Adequacy.html#22436" class="Bound">x</a> <a id="22438" class="Symbol">→</a> <a id="22440" href="plfa.Adequacy.html#21664" class="Function">reduce→cbn</a> <a id="22451" class="Symbol">(</a><a id="22452" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="22458" href="plfa.Adequacy.html#22436" class="Bound">x</a><a id="22459" class="Symbol">))</a> <a id="22462" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a>
                   <a id="22483" class="Symbol">(λ</a> <a id="22486" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Adequacy.md %}{% raw %}#22486" class="Bound">x</a> <a id="22488" class="Symbol">→</a> <a id="22490" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#12222" class="Function">cbn→reduce</a> <a id="22501" class="Symbol">(</a><a id="22502" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="22508" class="Symbol">(</a><a id="22509" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="22515" class="Symbol">(</a><a id="22516" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="22522" href="plfa.Adequacy.html#22486" class="Bound">x</a><a id="22523" class="Symbol">))))</a> <a id="22528" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>{% endraw %}

## Unicode

This chapter uses the following unicode:

    𝔼  U+1D53C  MATHEMATICAL DOUBLE-STRUCK CAPITAL E (\bE)
    𝔾  U+1D53E  MATHEMATICAL DOUBLE-STRUCK CAPITAL G (\bG)
    𝕍  U+1D53E  MATHEMATICAL DOUBLE-STRUCK CAPITAL V (\bV)
