<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Untyped</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Untyped: 完全正规化的无类型 λ 演算</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Untyped-126" class="Keyword">module</a> <a id="plfa_plfa-part2-Untyped-133" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part2-Untyped-152" class="Keyword">where</a>
</pre><p>本章中，我们对于之前的主题加入不同的变化：</p><ul><li>之前的章节中讨论了内在类型的演算；我们这次讨论无类型，但是内在作用域的演算。</li></ul><ul><li>之前的章节中讨论了传值调用（Call-by-value）的演算；我们这次讨论传名调用（Call-by-name）。</li></ul><ul><li>之前的章节中讨论了<strong>弱头部范式</strong>（Weak Head Normal Form），其规约止步于 λ 抽象；我们这次讨论<strong>完全正规化</strong>（Full Normalisation），其在 λ 抽象之下仍然继续规约。</li></ul><ul><li>之前的章节中讨论了<strong>确定性</strong>（Deterministic）的规约，每个项中至多有一个可规约项； 我们这次讨论<strong>非确定性</strong>（Non-deterministic）的规约，每个项中可能有多个可规约项，而每一个都可规约。</li></ul><ul><li>之前的章节中讨论了<strong>封闭</strong>（Closed）的项，其不包含自由变量； 我们这次讨论<strong>开放</strong>（Open）的项，其可能包含自由变量。</li></ul><ul><li>之前的章节中讨论了加入自然数和不动点的 λ 演算； 我们这次讨论只包括变量、抽象和应用的小巧的演算，其他构造均可编码至其中。</li></ul><p>一般来说，我们可以将这些特性选择性的混合匹配，而完全正规化要求开放项， 且编码自然数和不动点需要无类型的演算。 本章的目的是展示 λ 演算可能出现的不同形式。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Untyped-2201" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2208" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Untyped-2246" class="Symbol">as</a> <a id="plfa_plfa-part2-Untyped-2249" class="Module">Eq</a>
<a id="plfa_plfa-part2-Untyped-2252" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2257" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Untyped-2260" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2266" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Untyped-2270" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2272" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Untyped-2276" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2278" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2283" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2290" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Untyped-2301" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2307" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2308" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Untyped-2309" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2311" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Untyped-2317" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2319" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2324" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2331" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Untyped-2340" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2346" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2347" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-2348" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2350" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-2354" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2356" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Untyped-2359" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2361" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a><a id="plfa_plfa-part2-Untyped-2364" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2366" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">_≤?_</a><a id="plfa_plfa-part2-Untyped-2370" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2372" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-2375" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2377" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="plfa_plfa-part2-Untyped-2380" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2382" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2387" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2394" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Untyped-2411" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2417" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2418" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Untyped-2420" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2422" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2427" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2434" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Untyped-2461" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2467" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2468" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="plfa_plfa-part2-Untyped-2472" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2474" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a><a id="plfa_plfa-part2-Untyped-2483" class="Symbol">)</a>
</pre><h2 id="无类型即是单一类型">无类型即是单一类型</h2><p>我们的内容将会和 [DeBruijn] 章节中相似，只是每个项会有相同的类型，写作 <code>★</code>，读作『任意』。 这呼应了一条 Dana Scott 提出，Robert Harper 重复的口号：『无类型即是单一类型』。 这样的结果之一就是之前我们需要额外给出的构造（例如自然数和不动点），现在可以在直接在语言本身中定义。</p><h2 id="语法">语法</h2><p>我们首先定义中缀声明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3265" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3272" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3275" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a>
<a id="plfa_plfa-part2-Untyped-3279" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3286" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3289" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">_∋_</a>
<a id="plfa_plfa-part2-Untyped-3293" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3300" class="Number">5</a>  <a id="plfa_plfa-part2-Untyped-3303" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a>

<a id="plfa_plfa-part2-Untyped-3308" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3315" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3318" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a>
<a id="plfa_plfa-part2-Untyped-3321" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3328" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3331" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′_</a>
<a id="plfa_plfa-part2-Untyped-3334" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3341" class="Number">7</a>  <a id="plfa_plfa-part2-Untyped-3344" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">_·_</a>
</pre><h2 id="类型">类型</h2><p>我们只有一种类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3431" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Type"></a><a id="plfa_plfa-part2-Untyped-3436" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3441" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3443" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3447" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Type.★"></a><a id="plfa_plfa-part2-Untyped-3455" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-3457" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3459" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a>
</pre><h4 id="练习-type-习题">练习 (<code>Type≃⊤</code>) （习题）</h4><p>证明 <code>Type</code> 与单元类型 <code>⊤</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3637" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="语境">语境</h2><p>和之前一样，语境是类型的列表，最新出现的约束变量的类型出现在最右边：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3843" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Context"></a><a id="plfa_plfa-part2-Untyped-3848" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3856" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3858" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3862" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Context.∅"></a><a id="plfa_plfa-part2-Untyped-3870" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a>   <a id="plfa_plfa-part2-Untyped-3874" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3876" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Untyped-Context._,_"></a><a id="plfa_plfa-part2-Untyped-3886" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-3890" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3892" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3900" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3902" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3907" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3909" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a>
</pre><p>我们使用 <code>Γ</code> 和 <code>Δ</code> 来指代语境。</p><h4 id="练习-contextℕ-习题">练习 (<code>Context≃ℕ</code>) （习题）</h4><p>证明 <code>Context</code> 和 <code>ℕ</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4156" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="变量和查询判断">变量和查询判断</h2><p>内在作用域的变量对应了查询判断。规则与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4369" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_∋_"></a><a id="plfa_plfa-part2-Untyped-4374" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">_∋_</a> <a id="plfa_plfa-part2-Untyped-4378" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4380" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4388" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4390" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4395" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4397" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4401" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.Z"></a><a id="plfa_plfa-part2-Untyped-4410" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Untyped-4412" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4414" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4416" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4417" href="../Untyped/#plfa_plfa-part2-Untyped-4417" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4419" href="../Untyped/#plfa_plfa-part2-Untyped-4419" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-4420" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Untyped-4427" class="Comment">---------</a>
   <a id="plfa_plfa-part2-Untyped-4440" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4442" href="../Untyped/#plfa_plfa-part2-Untyped-4417" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4444" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4446" href="../Untyped/#plfa_plfa-part2-Untyped-4419" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4448" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4450" href="../Untyped/#plfa_plfa-part2-Untyped-4419" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.S_"></a><a id="plfa_plfa-part2-Untyped-4455" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-4458" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4460" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4462" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4463" href="../Untyped/#plfa_plfa-part2-Untyped-4463" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4465" href="../Untyped/#plfa_plfa-part2-Untyped-4465" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4467" href="../Untyped/#plfa_plfa-part2-Untyped-4467" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-4468" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-4474" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4476" href="../Untyped/#plfa_plfa-part2-Untyped-4463" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4478" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4480" href="../Untyped/#plfa_plfa-part2-Untyped-4465" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-4488" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-4502" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4504" href="../Untyped/#plfa_plfa-part2-Untyped-4463" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4506" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4508" href="../Untyped/#plfa_plfa-part2-Untyped-4467" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-4510" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4512" href="../Untyped/#plfa_plfa-part2-Untyped-4465" class="Bound">A</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>因为 <code>★</code> 是唯一的类型，这样的判断并不会给出很多与类型相关的保证。 但它确实确保了所有的变量在作用域内。例如，我们不能在只有两个约束变量的语境中使用 <code>S S Z</code>。</p><h2 id="项与作用域判断">项与作用域判断</h2><p>内类作用域的项对应了赋型判断，但类型只有唯一的 <code>★</code> 类型。 得到的结果则是我们检查了每个项都是良作用域的——即所有使用的变量都在作用域内——而不是它们是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-5412" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_⊢_"></a><a id="plfa_plfa-part2-Untyped-5417" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a> <a id="plfa_plfa-part2-Untyped-5421" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5423" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-5431" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5433" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-5438" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5440" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-5444" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.`_"></a><a id="plfa_plfa-part2-Untyped-5453" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Untyped-5456" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5458" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5460" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5461" href="../Untyped/#plfa_plfa-part2-Untyped-5461" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5463" href="../Untyped/#plfa_plfa-part2-Untyped-5463" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-5464" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5470" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5472" href="../Untyped/#plfa_plfa-part2-Untyped-5461" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5474" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-5476" href="../Untyped/#plfa_plfa-part2-Untyped-5463" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-5484" class="Comment">-----</a>
    <a id="plfa_plfa-part2-Untyped-5494" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5496" href="../Untyped/#plfa_plfa-part2-Untyped-5461" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5498" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5500" href="../Untyped/#plfa_plfa-part2-Untyped-5463" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.ƛ_"></a><a id="plfa_plfa-part2-Untyped-5505" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-5509" class="Symbol">:</a>  <a id="plfa_plfa-part2-Untyped-5512" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5514" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5515" href="../Untyped/#plfa_plfa-part2-Untyped-5515" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5516" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5522" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5524" href="../Untyped/#plfa_plfa-part2-Untyped-5515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5526" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-5528" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-5530" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5532" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5540" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-5554" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5556" href="../Untyped/#plfa_plfa-part2-Untyped-5515" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5558" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5560" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_._·_"></a><a id="plfa_plfa-part2-Untyped-5565" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Untyped-5569" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5571" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5573" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5574" href="../Untyped/#plfa_plfa-part2-Untyped-5574" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5575" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5581" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5583" href="../Untyped/#plfa_plfa-part2-Untyped-5574" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5585" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5587" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
    <a id="plfa_plfa-part2-Untyped-5593" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5595" href="../Untyped/#plfa_plfa-part2-Untyped-5574" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5597" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5599" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5607" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-5618" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5620" href="../Untyped/#plfa_plfa-part2-Untyped-5574" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5622" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5624" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
</pre><p>现在我们有了一个迷你的演算，至包含变量、抽象和应用。 接下来我们展示如果将自然数和不动点编码进这个演算中。</p><h2 id="用数表示变量">用数表示变量</h2><p>如之前一样，我们可以将自然数转换为对应的 de Bruijn 因子。 我们不再需要从语境中查询变量的类型，因为每个变量都有一样的类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-length"></a><a id="plfa_plfa-part2-Untyped-6161" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6168" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6170" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-6178" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6180" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="plfa_plfa-part2-Untyped-6182" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6189" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a>        <a id="plfa_plfa-part2-Untyped-6198" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6201" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>
<a id="plfa_plfa-part2-Untyped-6206" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6213" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6214" href="../Untyped/#plfa_plfa-part2-Untyped-6214" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6216" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6218" class="Symbol">_)</a>  <a id="plfa_plfa-part2-Untyped-6222" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6225" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6229" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6230" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6237" href="../Untyped/#plfa_plfa-part2-Untyped-6214" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6238" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-count"></a><a id="plfa_plfa-part2-Untyped-6241" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6247" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6249" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6251" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6252" href="../Untyped/#plfa_plfa-part2-Untyped-6252" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6253" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6255" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6257" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6258" href="../Untyped/#plfa_plfa-part2-Untyped-6258" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6260" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6262" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6263" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6265" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6267" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6268" href="../Untyped/#plfa_plfa-part2-Untyped-6268" class="Bound">p</a> <a id="plfa_plfa-part2-Untyped-6270" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6272" href="../Untyped/#plfa_plfa-part2-Untyped-6258" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6274" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">&lt;</a> <a id="plfa_plfa-part2-Untyped-6276" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6283" href="../Untyped/#plfa_plfa-part2-Untyped-6252" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6284" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-6286" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6288" href="../Untyped/#plfa_plfa-part2-Untyped-6252" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6290" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-6292" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6294" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6300" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6301" href="../Untyped/#plfa_plfa-part2-Untyped-6301" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6303" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6305" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6306" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6308" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6309" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-6313" class="Symbol">}</a>    <a id="plfa_plfa-part2-Untyped-6318" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6319" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6323" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-6326" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-6329" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6332" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-6334" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6340" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6341" href="../Untyped/#plfa_plfa-part2-Untyped-6341" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6343" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6345" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6346" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6348" class="Symbol">{(</a><a id="plfa_plfa-part2-Untyped-6350" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6354" href="../Untyped/#plfa_plfa-part2-Untyped-6354" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6355" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-6358" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6359" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6363" href="../Untyped/#plfa_plfa-part2-Untyped-6363" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6364" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-6369" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6372" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-6374" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6375" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6381" href="../Untyped/#plfa_plfa-part2-Untyped-6363" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6382" class="Symbol">)</a>
</pre><p>我们可以接下来引入一种变量的缩略用法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#_"></a><a id="plfa_plfa-part2-Untyped-6491" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6494" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6496" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6498" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6499" href="../Untyped/#plfa_plfa-part2-Untyped-6499" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6500" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-6504" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6506" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6507" href="../Untyped/#plfa_plfa-part2-Untyped-6507" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6509" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6511" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6512" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-6516" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6518" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6519" href="../Untyped/#plfa_plfa-part2-Untyped-6519" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-6523" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6525" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-6530" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6531" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6535" href="../Untyped/#plfa_plfa-part2-Untyped-6507" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6537" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-6540" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6547" href="../Untyped/#plfa_plfa-part2-Untyped-6499" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6548" class="Symbol">)}</a>
    <a id="plfa_plfa-part2-Untyped-6555" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-6590" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6592" href="../Untyped/#plfa_plfa-part2-Untyped-6499" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6594" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6596" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6598" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6601" href="../Untyped/#plfa_plfa-part2-Untyped-6601" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6603" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6604" href="../Untyped/#plfa_plfa-part2-Untyped-6604" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6607" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-6610" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6613" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-6615" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6621" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6622" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-6632" href="../Untyped/#plfa_plfa-part2-Untyped-6604" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6635" class="Symbol">)</a>
</pre><h2 id="测试例子">测试例子</h2><p>我们唯一的例子是用 Church 数计算二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-twoᶜ"></a><a id="plfa_plfa-part2-Untyped-6785" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6790" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6792" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6794" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6795" href="../Untyped/#plfa_plfa-part2-Untyped-6795" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6796" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6798" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6800" href="../Untyped/#plfa_plfa-part2-Untyped-6795" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6802" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6804" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6806" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6811" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6813" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6815" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6817" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6818" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6820" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6822" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6824" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6825" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6827" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6829" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6831" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6833" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6834" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-fourᶜ"></a><a id="plfa_plfa-part2-Untyped-6838" href="../Untyped/#plfa_plfa-part2-Untyped-6838" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6844" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6846" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6848" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6849" href="../Untyped/#plfa_plfa-part2-Untyped-6849" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6850" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6852" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6854" href="../Untyped/#plfa_plfa-part2-Untyped-6849" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6856" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6858" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6860" href="../Untyped/#plfa_plfa-part2-Untyped-6838" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6866" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6868" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6870" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6872" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6873" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6875" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6877" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6879" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6880" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6882" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6884" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6886" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6887" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6889" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6891" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6893" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6894" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6896" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6898" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6900" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6902" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6903" class="Symbol">))))</a>

<a id="plfa_plfa-part2-Untyped-plusᶜ"></a><a id="plfa_plfa-part2-Untyped-6909" href="../Untyped/#plfa_plfa-part2-Untyped-6909" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6915" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6917" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6919" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6920" href="../Untyped/#plfa_plfa-part2-Untyped-6920" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6921" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6923" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6925" href="../Untyped/#plfa_plfa-part2-Untyped-6920" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6927" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6929" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6931" href="../Untyped/#plfa_plfa-part2-Untyped-6909" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6937" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6939" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6941" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6943" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6945" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6947" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6948" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6950" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-6952" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6954" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6956" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6958" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6960" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6961" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6963" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-6965" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6967" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6969" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6971" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6973" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6975" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6976" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-2+2ᶜ"></a><a id="plfa_plfa-part2-Untyped-6980" href="../Untyped/#plfa_plfa-part2-Untyped-6980" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6985" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6987" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Untyped-6989" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6991" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6993" href="../Untyped/#plfa_plfa-part2-Untyped-6980" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6998" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-7000" href="../Untyped/#plfa_plfa-part2-Untyped-6909" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-7006" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7008" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-7013" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7015" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a>
</pre><p>在之前，我们在遇到 λ 抽象时停止规约，因此我们需要计算 <code>plusᶜ · twoᶜ · twoᶜ · sucᶜ · `zero</code> 来确保我们规约至自然数四。 现在，规约在 λ 之下继续进行，所以我们不需要额外的参数。 为了便利，我们定义用 Church 数来表示二和四的项。</p><h2 id="重命名">重命名</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-ext"></a><a id="plfa_plfa-part2-Untyped-7682" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7686" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7688" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7690" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7691" href="../Untyped/#plfa_plfa-part2-Untyped-7691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7693" href="../Untyped/#plfa_plfa-part2-Untyped-7693" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-7694" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7696" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7698" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7701" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7702" href="../Untyped/#plfa_plfa-part2-Untyped-7702" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7703" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7705" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7707" href="../Untyped/#plfa_plfa-part2-Untyped-7691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7709" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7711" href="../Untyped/#plfa_plfa-part2-Untyped-7702" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7713" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7715" href="../Untyped/#plfa_plfa-part2-Untyped-7693" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7717" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7719" href="../Untyped/#plfa_plfa-part2-Untyped-7702" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7720" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-7726" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-7764" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7766" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7769" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7770" href="../Untyped/#plfa_plfa-part2-Untyped-7770" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7772" href="../Untyped/#plfa_plfa-part2-Untyped-7772" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-7773" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7775" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7777" href="../Untyped/#plfa_plfa-part2-Untyped-7691" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7779" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7781" href="../Untyped/#plfa_plfa-part2-Untyped-7772" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7783" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7785" href="../Untyped/#plfa_plfa-part2-Untyped-7770" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7787" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7789" href="../Untyped/#plfa_plfa-part2-Untyped-7693" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7791" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7793" href="../Untyped/#plfa_plfa-part2-Untyped-7772" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7795" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7797" href="../Untyped/#plfa_plfa-part2-Untyped-7770" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7798" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-7800" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7804" href="../Untyped/#plfa_plfa-part2-Untyped-7804" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7806" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-7813" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7816" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-7818" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7822" href="../Untyped/#plfa_plfa-part2-Untyped-7822" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7824" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7825" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7827" href="../Untyped/#plfa_plfa-part2-Untyped-7827" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7828" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-7831" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7834" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7836" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7837" href="../Untyped/#plfa_plfa-part2-Untyped-7822" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7839" href="../Untyped/#plfa_plfa-part2-Untyped-7827" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7840" class="Symbol">)</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>现在定义重命名就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-rename"></a><a id="plfa_plfa-part2-Untyped-8074" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8081" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8083" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8085" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8086" href="../Untyped/#plfa_plfa-part2-Untyped-8086" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8088" href="../Untyped/#plfa_plfa-part2-Untyped-8088" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8089" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8093" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8095" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8098" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8099" href="../Untyped/#plfa_plfa-part2-Untyped-8099" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8100" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8102" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8104" href="../Untyped/#plfa_plfa-part2-Untyped-8086" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8106" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8108" href="../Untyped/#plfa_plfa-part2-Untyped-8099" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8110" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8112" href="../Untyped/#plfa_plfa-part2-Untyped-8088" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8114" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8116" href="../Untyped/#plfa_plfa-part2-Untyped-8099" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8117" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8123" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8150" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8152" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8155" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8156" href="../Untyped/#plfa_plfa-part2-Untyped-8156" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8157" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8159" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8161" href="../Untyped/#plfa_plfa-part2-Untyped-8086" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8163" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8165" href="../Untyped/#plfa_plfa-part2-Untyped-8156" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8167" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8169" href="../Untyped/#plfa_plfa-part2-Untyped-8088" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8171" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8173" href="../Untyped/#plfa_plfa-part2-Untyped-8156" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8174" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8176" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8183" href="../Untyped/#plfa_plfa-part2-Untyped-8183" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8185" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8186" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8188" href="../Untyped/#plfa_plfa-part2-Untyped-8188" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8189" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8200" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8203" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8205" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8206" href="../Untyped/#plfa_plfa-part2-Untyped-8183" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8208" href="../Untyped/#plfa_plfa-part2-Untyped-8188" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8209" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8211" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8218" href="../Untyped/#plfa_plfa-part2-Untyped-8218" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8220" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8221" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8223" href="../Untyped/#plfa_plfa-part2-Untyped-8223" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8224" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8235" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8238" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8240" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8241" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8248" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8249" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-8253" href="../Untyped/#plfa_plfa-part2-Untyped-8218" class="Bound">ρ</a><a id="plfa_plfa-part2-Untyped-8254" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8256" href="../Untyped/#plfa_plfa-part2-Untyped-8223" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8257" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8259" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8266" href="../Untyped/#plfa_plfa-part2-Untyped-8266" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8268" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8269" href="../Untyped/#plfa_plfa-part2-Untyped-8269" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-8271" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8273" href="../Untyped/#plfa_plfa-part2-Untyped-8273" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8274" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-8283" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8286" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8287" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8294" href="../Untyped/#plfa_plfa-part2-Untyped-8266" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8296" href="../Untyped/#plfa_plfa-part2-Untyped-8269" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-8297" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8299" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8301" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8302" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8309" href="../Untyped/#plfa_plfa-part2-Untyped-8266" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8311" href="../Untyped/#plfa_plfa-part2-Untyped-8273" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8312" class="Symbol">)</a>
</pre><p>这和之前一样，只是我们项的形式更少了。</p><h2 id="同时替换">同时替换</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-exts"></a><a id="plfa_plfa-part2-Untyped-8601" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8606" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8608" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8610" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8611" href="../Untyped/#plfa_plfa-part2-Untyped-8611" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8613" href="../Untyped/#plfa_plfa-part2-Untyped-8613" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8614" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8616" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8618" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8621" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8622" href="../Untyped/#plfa_plfa-part2-Untyped-8622" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8623" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8625" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8627" href="../Untyped/#plfa_plfa-part2-Untyped-8611" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8629" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8631" href="../Untyped/#plfa_plfa-part2-Untyped-8622" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8633" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8635" href="../Untyped/#plfa_plfa-part2-Untyped-8613" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8637" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8639" href="../Untyped/#plfa_plfa-part2-Untyped-8622" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8640" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8646" class="Comment">----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8683" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8685" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8688" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8689" href="../Untyped/#plfa_plfa-part2-Untyped-8689" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8691" href="../Untyped/#plfa_plfa-part2-Untyped-8691" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-8692" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8694" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8696" href="../Untyped/#plfa_plfa-part2-Untyped-8611" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8698" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8700" href="../Untyped/#plfa_plfa-part2-Untyped-8691" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8702" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8704" href="../Untyped/#plfa_plfa-part2-Untyped-8689" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8706" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8708" href="../Untyped/#plfa_plfa-part2-Untyped-8613" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8710" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8712" href="../Untyped/#plfa_plfa-part2-Untyped-8691" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8714" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8716" href="../Untyped/#plfa_plfa-part2-Untyped-8689" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8717" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8719" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8724" href="../Untyped/#plfa_plfa-part2-Untyped-8724" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8726" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-8733" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8736" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8738" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-8740" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8745" href="../Untyped/#plfa_plfa-part2-Untyped-8745" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8747" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8748" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-8750" href="../Untyped/#plfa_plfa-part2-Untyped-8750" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8751" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-8754" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8757" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8764" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-8767" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8768" href="../Untyped/#plfa_plfa-part2-Untyped-8745" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8770" href="../Untyped/#plfa_plfa-part2-Untyped-8750" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8771" class="Symbol">)</a>
</pre><p>一样，我们可以把所有的 <code>A</code> 和 <code>B</code> 替换成 <code>★</code>。</p><p>现在定义替换就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst"></a><a id="plfa_plfa-part2-Untyped-8962" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-8968" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8970" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8972" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8973" href="../Untyped/#plfa_plfa-part2-Untyped-8973" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8975" href="../Untyped/#plfa_plfa-part2-Untyped-8975" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8976" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8980" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8982" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8985" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8986" href="../Untyped/#plfa_plfa-part2-Untyped-8986" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8987" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8989" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8991" href="../Untyped/#plfa_plfa-part2-Untyped-8973" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8993" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8995" href="../Untyped/#plfa_plfa-part2-Untyped-8986" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8997" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8999" href="../Untyped/#plfa_plfa-part2-Untyped-8975" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9001" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9003" href="../Untyped/#plfa_plfa-part2-Untyped-8986" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9004" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-9010" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-9037" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9039" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-9042" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9043" href="../Untyped/#plfa_plfa-part2-Untyped-9043" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9044" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9046" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9048" href="../Untyped/#plfa_plfa-part2-Untyped-8973" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9050" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9052" href="../Untyped/#plfa_plfa-part2-Untyped-9043" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9054" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9056" href="../Untyped/#plfa_plfa-part2-Untyped-8975" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9058" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9060" href="../Untyped/#plfa_plfa-part2-Untyped-9043" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9061" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9063" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9069" href="../Untyped/#plfa_plfa-part2-Untyped-9069" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9071" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9072" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9074" href="../Untyped/#plfa_plfa-part2-Untyped-9074" class="Bound">k</a><a id="plfa_plfa-part2-Untyped-9075" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9086" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9089" href="../Untyped/#plfa_plfa-part2-Untyped-9069" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9091" href="../Untyped/#plfa_plfa-part2-Untyped-9074" class="Bound">k</a>
<a id="plfa_plfa-part2-Untyped-9093" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9099" href="../Untyped/#plfa_plfa-part2-Untyped-9099" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9101" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9102" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9104" href="../Untyped/#plfa_plfa-part2-Untyped-9104" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9105" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9116" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9119" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9121" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9122" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9128" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9129" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-9134" href="../Untyped/#plfa_plfa-part2-Untyped-9099" class="Bound">σ</a><a id="plfa_plfa-part2-Untyped-9135" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9137" href="../Untyped/#plfa_plfa-part2-Untyped-9104" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9138" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9140" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9146" href="../Untyped/#plfa_plfa-part2-Untyped-9146" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9148" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9149" href="../Untyped/#plfa_plfa-part2-Untyped-9149" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-9151" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9153" href="../Untyped/#plfa_plfa-part2-Untyped-9153" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9154" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-9163" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9166" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9167" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9173" href="../Untyped/#plfa_plfa-part2-Untyped-9146" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9175" href="../Untyped/#plfa_plfa-part2-Untyped-9149" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-9176" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9178" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9180" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9181" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9187" href="../Untyped/#plfa_plfa-part2-Untyped-9146" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9189" href="../Untyped/#plfa_plfa-part2-Untyped-9153" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9190" class="Symbol">)</a>
</pre><p>同样，这和之前一样，只是我们项的形式更少了。</p><h2 id="单个替换">单个替换</h2><p>定义替换一个自由变量的特例很简单：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst-zero"></a><a id="plfa_plfa-part2-Untyped-9458" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9469" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9471" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9473" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9474" href="../Untyped/#plfa_plfa-part2-Untyped-9474" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9476" href="../Untyped/#plfa_plfa-part2-Untyped-9476" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9477" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9479" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9481" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9482" href="../Untyped/#plfa_plfa-part2-Untyped-9474" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9484" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9486" href="../Untyped/#plfa_plfa-part2-Untyped-9476" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9487" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9489" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9491" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9493" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9494" href="../Untyped/#plfa_plfa-part2-Untyped-9494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9495" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9497" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9499" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9500" href="../Untyped/#plfa_plfa-part2-Untyped-9474" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9502" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9504" href="../Untyped/#plfa_plfa-part2-Untyped-9476" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9506" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9508" href="../Untyped/#plfa_plfa-part2-Untyped-9494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9509" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9511" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9513" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9514" href="../Untyped/#plfa_plfa-part2-Untyped-9474" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9516" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9518" href="../Untyped/#plfa_plfa-part2-Untyped-9494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9519" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9521" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9532" href="../Untyped/#plfa_plfa-part2-Untyped-9532" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9534" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-9541" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9544" href="../Untyped/#plfa_plfa-part2-Untyped-9532" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-9546" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9557" href="../Untyped/#plfa_plfa-part2-Untyped-9557" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9559" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9560" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-9562" href="../Untyped/#plfa_plfa-part2-Untyped-9562" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-9563" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-9566" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9569" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9571" href="../Untyped/#plfa_plfa-part2-Untyped-9562" class="Bound">x</a>

<a id="plfa_plfa-part2-Untyped-_[_]"></a><a id="plfa_plfa-part2-Untyped-9574" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9579" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9581" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9583" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9584" href="../Untyped/#plfa_plfa-part2-Untyped-9584" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9586" href="../Untyped/#plfa_plfa-part2-Untyped-9586" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9588" href="../Untyped/#plfa_plfa-part2-Untyped-9588" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9589" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Untyped-9599" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9601" href="../Untyped/#plfa_plfa-part2-Untyped-9584" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9603" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9605" href="../Untyped/#plfa_plfa-part2-Untyped-9588" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9607" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9609" href="../Untyped/#plfa_plfa-part2-Untyped-9586" class="Bound">A</a>
        <a id="plfa_plfa-part2-Untyped-9619" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9621" href="../Untyped/#plfa_plfa-part2-Untyped-9584" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9623" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9625" href="../Untyped/#plfa_plfa-part2-Untyped-9588" class="Bound">B</a>
          <a id="plfa_plfa-part2-Untyped-9637" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Untyped-9655" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9657" href="../Untyped/#plfa_plfa-part2-Untyped-9584" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9659" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9661" href="../Untyped/#plfa_plfa-part2-Untyped-9586" class="Bound">A</a>
<a id="plfa_plfa-part2-Untyped-9663" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9668" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9669" href="../Untyped/#plfa_plfa-part2-Untyped-9669" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9670" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9672" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9673" href="../Untyped/#plfa_plfa-part2-Untyped-9673" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9674" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9676" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9677" href="../Untyped/#plfa_plfa-part2-Untyped-9677" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9678" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9680" href="../Untyped/#plfa_plfa-part2-Untyped-9680" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-9682" href="../Untyped/#plfa_plfa-part2-Untyped-9682" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9684" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9687" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9693" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9694" href="../Untyped/#plfa_plfa-part2-Untyped-9669" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9696" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9698" href="../Untyped/#plfa_plfa-part2-Untyped-9677" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9699" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9701" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9702" href="../Untyped/#plfa_plfa-part2-Untyped-9669" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9703" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9705" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9706" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9717" href="../Untyped/#plfa_plfa-part2-Untyped-9682" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9718" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9720" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9721" href="../Untyped/#plfa_plfa-part2-Untyped-9673" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9722" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9724" href="../Untyped/#plfa_plfa-part2-Untyped-9680" class="Bound">N</a>
</pre><h2 id="中性项和范式">中性项和范式</h2><p>直到项完全范式化之前，规则可以继续进行。 因此，我们现在在意的是<strong>范式</strong>（Normal Form），而不是值。 范式的项由与<strong>中性项</strong>（Neutral Terms）共同递归定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10091" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Neutral"></a><a id="plfa_plfa-part2-Untyped-10096" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10104" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10106" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10108" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10109" href="../Untyped/#plfa_plfa-part2-Untyped-10109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10111" href="../Untyped/#plfa_plfa-part2-Untyped-10111" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10112" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10114" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10116" href="../Untyped/#plfa_plfa-part2-Untyped-10109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10118" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10120" href="../Untyped/#plfa_plfa-part2-Untyped-10111" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10122" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10124" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Untyped-10128" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Normal"></a><a id="plfa_plfa-part2-Untyped-10133" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a>  <a id="plfa_plfa-part2-Untyped-10141" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10143" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10145" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10146" href="../Untyped/#plfa_plfa-part2-Untyped-10146" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10148" href="../Untyped/#plfa_plfa-part2-Untyped-10148" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10149" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10151" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10153" href="../Untyped/#plfa_plfa-part2-Untyped-10146" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10155" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10157" href="../Untyped/#plfa_plfa-part2-Untyped-10148" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10159" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10161" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
</pre><p>中性项由于我们需要考虑带有自由变量的开放项而产生。 一个项在其为变量时，或者是将中性项应用于范式项时，是一个中性项：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10434" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10439" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10447" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Neutral.`_"></a><a id="plfa_plfa-part2-Untyped-10456" href="../Untyped/#plfa_plfa-part2-Untyped-10456" class="InductiveConstructor Operator">`_</a>  <a id="plfa_plfa-part2-Untyped-10460" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10462" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10464" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10465" href="../Untyped/#plfa_plfa-part2-Untyped-10465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10467" href="../Untyped/#plfa_plfa-part2-Untyped-10467" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10468" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10470" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10471" href="../Untyped/#plfa_plfa-part2-Untyped-10471" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-10473" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10475" href="../Untyped/#plfa_plfa-part2-Untyped-10465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10477" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-10479" href="../Untyped/#plfa_plfa-part2-Untyped-10467" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10480" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-10488" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Untyped-10506" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10508" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10516" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10517" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-10519" href="../Untyped/#plfa_plfa-part2-Untyped-10471" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-10520" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Untyped-Neutral._·_"></a><a id="plfa_plfa-part2-Untyped-10525" href="../Untyped/#plfa_plfa-part2-Untyped-10525" class="InductiveConstructor Operator">_·_</a>  <a id="plfa_plfa-part2-Untyped-10530" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10532" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10534" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10535" href="../Untyped/#plfa_plfa-part2-Untyped-10535" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10536" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10538" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10539" href="../Untyped/#plfa_plfa-part2-Untyped-10539" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10541" href="../Untyped/#plfa_plfa-part2-Untyped-10541" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10543" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10545" href="../Untyped/#plfa_plfa-part2-Untyped-10535" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10547" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10549" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10550" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10556" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10558" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10566" href="../Untyped/#plfa_plfa-part2-Untyped-10539" class="Bound">L</a>
    <a id="plfa_plfa-part2-Untyped-10572" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10574" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10581" href="../Untyped/#plfa_plfa-part2-Untyped-10541" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10589" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Untyped-10609" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10611" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10619" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10620" href="../Untyped/#plfa_plfa-part2-Untyped-10539" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10622" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-10624" href="../Untyped/#plfa_plfa-part2-Untyped-10541" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-10625" class="Symbol">)</a>
</pre><p>一个项在其为中型项时，或者其为抽象且抽象体是范式时，是一个范式。 我们用 <code>′_</code> 来标记中型项。 如果 <code>`_</code> 一样，它不显眼：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10884" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10889" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10896" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Normal.′_"></a><a id="plfa_plfa-part2-Untyped-10905" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′_</a> <a id="plfa_plfa-part2-Untyped-10908" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10910" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10912" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10913" href="../Untyped/#plfa_plfa-part2-Untyped-10913" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10915" href="../Untyped/#plfa_plfa-part2-Untyped-10915" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10916" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10918" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10919" href="../Untyped/#plfa_plfa-part2-Untyped-10919" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10921" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10923" href="../Untyped/#plfa_plfa-part2-Untyped-10913" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10925" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10927" href="../Untyped/#plfa_plfa-part2-Untyped-10915" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10928" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10934" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10936" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10944" href="../Untyped/#plfa_plfa-part2-Untyped-10919" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10952" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-10966" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10968" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10975" href="../Untyped/#plfa_plfa-part2-Untyped-10919" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Normal.ƛ_"></a><a id="plfa_plfa-part2-Untyped-10980" href="../Untyped/#plfa_plfa-part2-Untyped-10980" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-10984" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10986" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10988" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10989" href="../Untyped/#plfa_plfa-part2-Untyped-10989" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10990" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10992" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10993" href="../Untyped/#plfa_plfa-part2-Untyped-10993" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-10995" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10997" href="../Untyped/#plfa_plfa-part2-Untyped-10989" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10999" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-11001" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-11003" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-11005" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-11006" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-11012" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11014" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11021" href="../Untyped/#plfa_plfa-part2-Untyped-10993" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-11029" class="Comment">------------</a>
    <a id="plfa_plfa-part2-Untyped-11046" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11048" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11055" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11056" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11058" href="../Untyped/#plfa_plfa-part2-Untyped-10993" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-11059" class="Symbol">)</a>
</pre><p>我们引入一种缩略用法，来提供变量是中型项的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#′_"></a><a id="plfa_plfa-part2-Untyped-11190" href="../Untyped/#plfa_plfa-part2-Untyped-11190" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11194" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11196" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11198" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11199" href="../Untyped/#plfa_plfa-part2-Untyped-11199" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11200" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11202" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11203" href="../Untyped/#plfa_plfa-part2-Untyped-11203" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11205" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11207" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-11208" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-11210" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11211" href="../Untyped/#plfa_plfa-part2-Untyped-11211" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-11215" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11217" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-11222" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11223" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-11227" href="../Untyped/#plfa_plfa-part2-Untyped-11203" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11229" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-11232" href="../Untyped/#plfa_plfa-part2-Untyped-6161" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-11239" href="../Untyped/#plfa_plfa-part2-Untyped-11199" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11240" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-11243" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11245" href="../Untyped/#plfa_plfa-part2-Untyped-10096" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11253" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11254" href="../Untyped/#plfa_plfa-part2-Untyped-11199" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11255" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11257" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11258" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-11260" href="../Untyped/#plfa_plfa-part2-Untyped-11203" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-11261" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-11263" href="../Untyped/#plfa_plfa-part2-Untyped-11190" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11267" href="../Untyped/#plfa_plfa-part2-Untyped-11267" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11269" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11270" href="../Untyped/#plfa_plfa-part2-Untyped-11270" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11273" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-11276" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-11279" href="../Untyped/#plfa_plfa-part2-Untyped-10456" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-11281" href="../Untyped/#plfa_plfa-part2-Untyped-6241" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-11287" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11288" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-11298" href="../Untyped/#plfa_plfa-part2-Untyped-11270" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11301" class="Symbol">)</a>
</pre><p>比如说，下面是 Church 数二为范式的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11433" href="../Untyped/#plfa_plfa-part2-Untyped-11433" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-11435" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11437" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11444" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11445" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-11450" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11451" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-11452" class="Symbol">})</a>
<a id="plfa_plfa-part2-Untyped-11455" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-11457" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-11459" href="../Untyped/#plfa_plfa-part2-Untyped-10980" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11461" href="../Untyped/#plfa_plfa-part2-Untyped-10980" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11463" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11464" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11466" href="../Untyped/#plfa_plfa-part2-Untyped-11190" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11469" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11471" href="../Untyped/#plfa_plfa-part2-Untyped-10525" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11473" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11474" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11476" href="../Untyped/#plfa_plfa-part2-Untyped-11190" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11479" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11481" href="../Untyped/#plfa_plfa-part2-Untyped-10525" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11483" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11484" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11486" href="../Untyped/#plfa_plfa-part2-Untyped-11190" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11489" class="Number">0</a><a id="plfa_plfa-part2-Untyped-11490" class="Symbol">)))</a>
</pre><p>某一项为范式的证明与其本身基本一致，其中包括的额外的撇来标记中型项，并且其中使用了 <code>#′</code> 而不是 <code>#</code>。</p><h2 id="规约步骤">规约步骤</h2><p>规约规则从传值调用改为传名调用，以实现完全范式化：</p><ul><li>规则 <code>ξ₁</code> 与简单类型的 λ 演算一样，保持不变。</li></ul><ul><li>规则 <code>ξ₂</code> 之中，项 <code>L</code> 是值的要求现在被丢弃了。 所以这条规则现在与 <code>ξ₁</code> 重合，且规约是<strong>非确定的</strong>。 现在可选择规约 <code>L</code> 或者 <code>M</code> 中的项。</li></ul><ul><li>规则 <code>β</code> 之中，参数是值的要求现在被丢弃了，对应了传名调用的求值。 这引入了更多的非确定性，由于 <code>β</code> 与 <code>ξ₂</code> 在参数中有可规约项时重合。</li></ul><ul><li>额外了新规则 <code>ζ</code>，使得 λ 抽象下可以继续规约。</li></ul><p>这里是形式化的规则：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-12855" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-12861" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-12863" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">_—→_</a>

<a id="plfa_plfa-part2-Untyped-12869" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—→_"></a><a id="plfa_plfa-part2-Untyped-12874" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">_—→_</a> <a id="plfa_plfa-part2-Untyped-12879" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12881" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12883" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12884" href="../Untyped/#plfa_plfa-part2-Untyped-12884" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12886" href="../Untyped/#plfa_plfa-part2-Untyped-12886" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12887" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12889" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12891" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12892" href="../Untyped/#plfa_plfa-part2-Untyped-12884" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12894" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12896" href="../Untyped/#plfa_plfa-part2-Untyped-12886" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12897" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12899" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12901" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12902" href="../Untyped/#plfa_plfa-part2-Untyped-12884" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12904" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12906" href="../Untyped/#plfa_plfa-part2-Untyped-12886" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12907" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12909" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12911" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-12915" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₁"></a><a id="plfa_plfa-part2-Untyped-12924" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-12927" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12929" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12931" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12932" href="../Untyped/#plfa_plfa-part2-Untyped-12932" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-12933" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12935" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12936" href="../Untyped/#plfa_plfa-part2-Untyped-12936" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12938" href="../Untyped/#plfa_plfa-part2-Untyped-12938" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12941" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12943" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12945" href="../Untyped/#plfa_plfa-part2-Untyped-12932" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12947" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12949" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-12950" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-12956" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12958" href="../Untyped/#plfa_plfa-part2-Untyped-12936" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12960" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12963" href="../Untyped/#plfa_plfa-part2-Untyped-12938" class="Bound">L′</a>
      <a id="plfa_plfa-part2-Untyped-12972" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-12993" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12995" href="../Untyped/#plfa_plfa-part2-Untyped-12936" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12997" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-12999" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13001" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13004" href="../Untyped/#plfa_plfa-part2-Untyped-12938" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-13007" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13009" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₂"></a><a id="plfa_plfa-part2-Untyped-13014" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-13017" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13019" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13021" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13022" href="../Untyped/#plfa_plfa-part2-Untyped-13022" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13023" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13025" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13026" href="../Untyped/#plfa_plfa-part2-Untyped-13026" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13028" href="../Untyped/#plfa_plfa-part2-Untyped-13028" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13030" href="../Untyped/#plfa_plfa-part2-Untyped-13030" class="Bound">M′</a> <a id="plfa_plfa-part2-Untyped-13033" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13035" href="../Untyped/#plfa_plfa-part2-Untyped-13022" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13037" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13039" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13040" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13046" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13048" href="../Untyped/#plfa_plfa-part2-Untyped-13028" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13050" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13053" href="../Untyped/#plfa_plfa-part2-Untyped-13030" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Untyped-13062" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13083" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13085" href="../Untyped/#plfa_plfa-part2-Untyped-13026" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13087" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13089" href="../Untyped/#plfa_plfa-part2-Untyped-13028" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13091" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13094" href="../Untyped/#plfa_plfa-part2-Untyped-13026" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13096" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13098" href="../Untyped/#plfa_plfa-part2-Untyped-13030" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.β"></a><a id="plfa_plfa-part2-Untyped-13104" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-13106" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13108" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13110" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13111" href="../Untyped/#plfa_plfa-part2-Untyped-13111" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13112" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13114" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13115" href="../Untyped/#plfa_plfa-part2-Untyped-13115" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13117" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13119" href="../Untyped/#plfa_plfa-part2-Untyped-13111" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13121" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13123" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13125" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13127" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13128" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13130" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13131" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13133" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13135" href="../Untyped/#plfa_plfa-part2-Untyped-13111" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13137" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13139" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13140" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Untyped-13148" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part2-Untyped-13186" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13188" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13189" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13191" href="../Untyped/#plfa_plfa-part2-Untyped-13115" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-13192" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13194" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13196" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13198" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13201" href="../Untyped/#plfa_plfa-part2-Untyped-13115" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13203" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">[</a> <a id="plfa_plfa-part2-Untyped-13205" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13207" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">]</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ζ"></a><a id="plfa_plfa-part2-Untyped-13212" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-13214" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13216" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13218" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13219" href="../Untyped/#plfa_plfa-part2-Untyped-13219" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13220" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13222" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13223" href="../Untyped/#plfa_plfa-part2-Untyped-13223" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13225" href="../Untyped/#plfa_plfa-part2-Untyped-13225" class="Bound">N′</a> <a id="plfa_plfa-part2-Untyped-13228" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13230" href="../Untyped/#plfa_plfa-part2-Untyped-13219" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13232" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13234" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13236" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13238" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13239" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13245" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13247" href="../Untyped/#plfa_plfa-part2-Untyped-13223" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13249" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13252" href="../Untyped/#plfa_plfa-part2-Untyped-13225" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Untyped-13261" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Untyped-13277" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13279" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13281" href="../Untyped/#plfa_plfa-part2-Untyped-13223" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13283" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13286" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13288" href="../Untyped/#plfa_plfa-part2-Untyped-13225" class="Bound">N′</a>
</pre><h4 id="练习-variant-1-习题">练习 (<code>variant-1</code>) （习题）</h4><p>如果我们想要传值调用，但需要项范式化其中的项的话，要怎么样修改规则？ 假设 <code>β</code> 在除了两个项都是范式时，不允许规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-13622" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-variant-2-习题">练习 (<code>variant-2</code>) （习题）</h4><p>如果我们想要传值调用，但项不在 λ 之下规约的话，要怎么样修改规则？ 假设 <code>β</code> 在双项均为值（即 λ 抽象）时允许规约。 <code>2+2ᶜ</code> 在这种情况下会规约成什么？</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14055" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="自反传递闭包">自反传递闭包</h2><p>我们复制粘贴之前的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14205" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14212" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14214" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">_—↠_</a>
<a id="plfa_plfa-part2-Untyped-14219" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14226" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14228" href="../Untyped/#plfa_plfa-part2-Untyped-14500" class="Function Operator">begin_</a>
<a id="plfa_plfa-part2-Untyped-14235" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-14242" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14244" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="plfa_plfa-part2-Untyped-14252" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14259" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-14261" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Untyped-14265" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—↠_"></a><a id="plfa_plfa-part2-Untyped-14270" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">_—↠_</a> <a id="plfa_plfa-part2-Untyped-14275" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14276" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14278" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14279" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14281" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14283" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14284" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14286" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14288" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14289" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14291" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14293" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14294" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14296" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14298" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14299" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14301" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14303" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-14307" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._∎"></a><a id="plfa_plfa-part2-Untyped-14316" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Untyped-14319" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14321" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14322" href="../Untyped/#plfa_plfa-part2-Untyped-14322" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14324" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14326" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14328" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14330" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14331" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-14339" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14350" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14352" href="../Untyped/#plfa_plfa-part2-Untyped-14322" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14354" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14357" href="../Untyped/#plfa_plfa-part2-Untyped-14322" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_.step—→"></a><a id="plfa_plfa-part2-Untyped-14362" href="../Untyped/#plfa_plfa-part2-Untyped-14362" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14369" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14371" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14372" href="../Untyped/#plfa_plfa-part2-Untyped-14372" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14374" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14376" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14378" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14380" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14381" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14383" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14384" href="../Untyped/#plfa_plfa-part2-Untyped-14384" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14386" href="../Untyped/#plfa_plfa-part2-Untyped-14386" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14388" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14390" href="../Untyped/#plfa_plfa-part2-Untyped-14276" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14392" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14394" href="../Untyped/#plfa_plfa-part2-Untyped-14278" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14395" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-14401" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14403" href="../Untyped/#plfa_plfa-part2-Untyped-14384" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14405" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14408" href="../Untyped/#plfa_plfa-part2-Untyped-14386" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14414" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14416" href="../Untyped/#plfa_plfa-part2-Untyped-14372" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14418" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-14421" href="../Untyped/#plfa_plfa-part2-Untyped-14384" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-14429" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14440" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14442" href="../Untyped/#plfa_plfa-part2-Untyped-14372" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14444" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14447" href="../Untyped/#plfa_plfa-part2-Untyped-14386" class="Bound">N</a>

<a id="plfa_plfa-part2-Untyped-14450" class="Keyword">pattern</a> <a id="plfa_plfa-part2-Untyped-_—→⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-14458" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-14466" href="../Untyped/#plfa_plfa-part2-Untyped-14487" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14468" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-14473" href="../Untyped/#plfa_plfa-part2-Untyped-14489" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14478" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14480" href="../Untyped/#plfa_plfa-part2-Untyped-14362" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14487" href="../Untyped/#plfa_plfa-part2-Untyped-14487" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14489" href="../Untyped/#plfa_plfa-part2-Untyped-14489" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14494" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">L—→M</a>

<a id="plfa_plfa-part2-Untyped-begin_"></a><a id="plfa_plfa-part2-Untyped-14500" href="../Untyped/#plfa_plfa-part2-Untyped-14500" class="Function Operator">begin_</a> <a id="plfa_plfa-part2-Untyped-14507" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14509" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14511" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14512" href="../Untyped/#plfa_plfa-part2-Untyped-14512" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14514" href="../Untyped/#plfa_plfa-part2-Untyped-14514" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14515" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14517" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14518" href="../Untyped/#plfa_plfa-part2-Untyped-14518" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14520" href="../Untyped/#plfa_plfa-part2-Untyped-14520" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14522" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14524" href="../Untyped/#plfa_plfa-part2-Untyped-14512" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14526" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14528" href="../Untyped/#plfa_plfa-part2-Untyped-14514" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14529" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-14533" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14535" href="../Untyped/#plfa_plfa-part2-Untyped-14518" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14537" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14540" href="../Untyped/#plfa_plfa-part2-Untyped-14520" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14546" class="Comment">------</a>
  <a id="plfa_plfa-part2-Untyped-14555" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14557" href="../Untyped/#plfa_plfa-part2-Untyped-14518" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14559" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14562" href="../Untyped/#plfa_plfa-part2-Untyped-14520" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-14564" href="../Untyped/#plfa_plfa-part2-Untyped-14500" class="Function Operator">begin</a> <a id="plfa_plfa-part2-Untyped-14570" href="../Untyped/#plfa_plfa-part2-Untyped-14570" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14575" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14577" href="../Untyped/#plfa_plfa-part2-Untyped-14570" class="Bound">M—↠N</a>
</pre><h2 id="规约序列的例子">规约序列的例子</h2><p>这里是二加二得四的展示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14725" href="../Untyped/#plfa_plfa-part2-Untyped-14725" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-14727" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14729" href="../Untyped/#plfa_plfa-part2-Untyped-6980" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-14734" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14737" href="../Untyped/#plfa_plfa-part2-Untyped-6838" class="Function">fourᶜ</a>
<a id="plfa_plfa-part2-Untyped-14743" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-14745" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Untyped-14749" href="../Untyped/#plfa_plfa-part2-Untyped-14500" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Untyped-14759" href="../Untyped/#plfa_plfa-part2-Untyped-6909" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-14765" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14767" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14772" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14774" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14781" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14785" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14788" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14790" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14796" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14797" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14799" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14801" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14803" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14808" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14810" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14812" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14814" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14816" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14817" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14819" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14821" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14823" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14825" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14827" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14829" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14831" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14832" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14835" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14837" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14844" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14848" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14850" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14856" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14858" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14860" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14865" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14867" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14869" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14871" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14873" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14874" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14879" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14881" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14883" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14885" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14887" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14889" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14890" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-14894" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14898" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14900" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14901" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14903" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14904" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14907" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14908" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14911" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14917" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14919" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14921" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-14923" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14925" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14927" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14929" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14931" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14932" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14934" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14936" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14938" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14940" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14941" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14944" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14946" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14947" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14952" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14954" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14956" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14958" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14960" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14962" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14963" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-14968" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14972" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14974" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14975" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14977" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14978" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14980" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14986" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14988" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14990" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14992" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14994" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14996" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14997" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14999" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15001" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15003" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15004" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-15009" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15011" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15013" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15015" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15017" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15019" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15020" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15025" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15029" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15031" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15032" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15034" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15035" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15038" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15039" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15042" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15043" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-15046" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15047" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-15052" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15058" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15060" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15062" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15064" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15066" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15069" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15071" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15073" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15075" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15077" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15079" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15081" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15083" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15085" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15086" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15088" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15090" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15092" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15094" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15095" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15098" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15100" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15102" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15103" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15108" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15112" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15114" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15115" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15118" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15121" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15122" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15125" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15126" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-15130" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part2-Untyped-15135" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15137" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15138" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15140" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15142" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15144" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15146" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15147" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15149" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15151" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15153" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15154" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15156" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15158" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15160" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15161" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15163" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15165" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15167" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15169" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15170" class="Symbol">))))</a>
  <a id="plfa_plfa-part2-Untyped-15177" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a>
</pre><p>在两步之后，顶层项是一个抽象，而 <code>ζ</code> 规则支持了剩余的范式化。</p><h2 id="可进性">可进性</h2><p>可进性相应地也变更了。之前我们说每个项要么是值，要么可以规约一步；我们现在说每个项要么是范式，要么可以规约一步。</p><p>之前，可进性只应用于封闭的、良类型的项。 我们没有考虑诸如应用一个不是函数的项（如 <code>`zero`</code>）或者是带有自由变量的项。 现在我们展示的包含了开放的、良作用域的项。 范式的定义容许了自由变量，且我们也有不是函数的项。</p><p>如果一个项可以规约一步，或其为范式，那么它具有可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-16198" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Progress"></a><a id="plfa_plfa-part2-Untyped-16203" href="../Untyped/#plfa_plfa-part2-Untyped-16203" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16212" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16213" href="../Untyped/#plfa_plfa-part2-Untyped-16213" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16215" href="../Untyped/#plfa_plfa-part2-Untyped-16215" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16216" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16219" href="../Untyped/#plfa_plfa-part2-Untyped-16219" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16221" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16223" href="../Untyped/#plfa_plfa-part2-Untyped-16213" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16225" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16227" href="../Untyped/#plfa_plfa-part2-Untyped-16215" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16228" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16230" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16232" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-16236" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Progress.step"></a><a id="plfa_plfa-part2-Untyped-16245" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16250" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16252" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16254" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16255" href="../Untyped/#plfa_plfa-part2-Untyped-16255" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-16257" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16259" href="../Untyped/#plfa_plfa-part2-Untyped-16213" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16261" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16263" href="../Untyped/#plfa_plfa-part2-Untyped-16215" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16264" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-16270" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16272" href="../Untyped/#plfa_plfa-part2-Untyped-16219" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16274" href="../Untyped/#plfa_plfa-part2-Untyped-12874" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-16277" href="../Untyped/#plfa_plfa-part2-Untyped-16255" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-16285" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16300" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16302" href="../Untyped/#plfa_plfa-part2-Untyped-16203" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16311" href="../Untyped/#plfa_plfa-part2-Untyped-16219" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Progress.done"></a><a id="plfa_plfa-part2-Untyped-16316" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16321" class="Symbol">:</a>
      <a id="plfa_plfa-part2-Untyped-16329" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-16336" href="../Untyped/#plfa_plfa-part2-Untyped-16219" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-16344" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16359" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16361" href="../Untyped/#plfa_plfa-part2-Untyped-16203" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16370" href="../Untyped/#plfa_plfa-part2-Untyped-16219" class="Bound">M</a>
</pre><p>如果一个项是良作用域的，那么它满足可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-progress"></a><a id="plfa_plfa-part2-Untyped-16471" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16480" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16482" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16484" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16485" href="../Untyped/#plfa_plfa-part2-Untyped-16485" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16487" href="../Untyped/#plfa_plfa-part2-Untyped-16487" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16488" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16490" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16492" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16493" href="../Untyped/#plfa_plfa-part2-Untyped-16493" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16495" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16497" href="../Untyped/#plfa_plfa-part2-Untyped-16485" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16499" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16501" href="../Untyped/#plfa_plfa-part2-Untyped-16487" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16502" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16504" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16506" href="../Untyped/#plfa_plfa-part2-Untyped-16203" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16515" href="../Untyped/#plfa_plfa-part2-Untyped-16493" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16517" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16526" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16527" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16529" href="../Untyped/#plfa_plfa-part2-Untyped-16529" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16530" class="Symbol">)</a>                                 <a id="plfa_plfa-part2-Untyped-16564" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16567" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16572" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16573" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16575" href="../Untyped/#plfa_plfa-part2-Untyped-10456" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16577" href="../Untyped/#plfa_plfa-part2-Untyped-16529" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16578" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16580" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16589" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16590" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16592" href="../Untyped/#plfa_plfa-part2-Untyped-16592" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16593" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-16596" class="Keyword">with</a>  <a id="plfa_plfa-part2-Untyped-16602" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16611" href="../Untyped/#plfa_plfa-part2-Untyped-16592" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-16613" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16617" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16619" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16624" href="../Untyped/#plfa_plfa-part2-Untyped-16624" class="Bound">N—→N′</a>                               <a id="plfa_plfa-part2-Untyped-16660" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16663" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16668" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16669" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-16671" href="../Untyped/#plfa_plfa-part2-Untyped-16624" class="Bound">N—→N′</a><a id="plfa_plfa-part2-Untyped-16676" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16678" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16682" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16684" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16689" href="../Untyped/#plfa_plfa-part2-Untyped-16689" class="Bound">NrmN</a>                                <a id="plfa_plfa-part2-Untyped-16725" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16728" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16733" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16734" href="../Untyped/#plfa_plfa-part2-Untyped-10980" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16736" href="../Untyped/#plfa_plfa-part2-Untyped-16689" class="Bound">NrmN</a><a id="plfa_plfa-part2-Untyped-16740" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16742" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16751" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16752" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16754" href="../Untyped/#plfa_plfa-part2-Untyped-16754" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-16756" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16758" href="../Untyped/#plfa_plfa-part2-Untyped-16758" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16759" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16761" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16766" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16775" href="../Untyped/#plfa_plfa-part2-Untyped-16758" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16777" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16781" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16783" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16788" href="../Untyped/#plfa_plfa-part2-Untyped-16788" class="Bound">M—→M′</a>                               <a id="plfa_plfa-part2-Untyped-16824" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16827" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16832" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16833" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-16836" href="../Untyped/#plfa_plfa-part2-Untyped-16788" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-16841" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16843" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16847" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16849" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16854" href="../Untyped/#plfa_plfa-part2-Untyped-16854" class="Bound">NrmM</a>                                <a id="plfa_plfa-part2-Untyped-16890" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16893" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16898" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16899" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16901" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16902" href="../Untyped/#plfa_plfa-part2-Untyped-10456" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16904" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16905" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16907" href="../Untyped/#plfa_plfa-part2-Untyped-10525" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16909" href="../Untyped/#plfa_plfa-part2-Untyped-16854" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-16913" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16915" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16924" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-16926" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16928" href="../Untyped/#plfa_plfa-part2-Untyped-16928" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16929" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16931" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16933" href="../Untyped/#plfa_plfa-part2-Untyped-16933" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16934" class="Symbol">)</a>                           <a id="plfa_plfa-part2-Untyped-16962" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16965" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16970" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a>
<a id="plfa_plfa-part2-Untyped-16972" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16982" href="../Untyped/#plfa_plfa-part2-Untyped-16982" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-16983" class="Symbol">@(_</a> <a id="plfa_plfa-part2-Untyped-16987" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16989" class="Symbol">_)</a> <a id="plfa_plfa-part2-Untyped-16992" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16994" href="../Untyped/#plfa_plfa-part2-Untyped-16994" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16995" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16997" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17002" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17011" href="../Untyped/#plfa_plfa-part2-Untyped-16982" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-17013" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17017" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17019" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17024" href="../Untyped/#plfa_plfa-part2-Untyped-17024" class="Bound">L—→L′</a>                               <a id="plfa_plfa-part2-Untyped-17060" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17063" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17069" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-17072" href="../Untyped/#plfa_plfa-part2-Untyped-17024" class="Bound">L—→L′</a><a id="plfa_plfa-part2-Untyped-17077" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17079" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17083" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17085" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17090" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17091" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17093" href="../Untyped/#plfa_plfa-part2-Untyped-17093" class="Bound">NeuL</a><a id="plfa_plfa-part2-Untyped-17097" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17099" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17104" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17113" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-17115" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17122" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17124" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17129" href="../Untyped/#plfa_plfa-part2-Untyped-17129" class="Bound">M—→M′</a>                            <a id="plfa_plfa-part2-Untyped-17162" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17165" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17170" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17171" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-17174" href="../Untyped/#plfa_plfa-part2-Untyped-17129" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-17179" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17181" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17188" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17190" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17195" href="../Untyped/#plfa_plfa-part2-Untyped-17195" class="Bound">NrmM</a>                             <a id="plfa_plfa-part2-Untyped-17228" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17231" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17236" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17237" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17239" class="Bound">NeuL</a> <a id="plfa_plfa-part2-Untyped-17244" href="../Untyped/#plfa_plfa-part2-Untyped-10525" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17246" href="../Untyped/#plfa_plfa-part2-Untyped-17195" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-17250" class="Symbol">)</a>
</pre><p>我们对项为良作用域的证明上进行归纳：</p><ul><li>如果项是变量，那么它是范式。 （这与之前的证明不同，以往项为变量的情况被闭项的条件所排除了。）</li><li>如果项是抽象，那么我们对其抽象体应用可进性。 （这与之前的证明不同，以往抽象本身即是值。）：<ul><li>如果它步进，那么整个项由 <code>ζ</code> 步进。</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果项是应用，那么我们考虑其函数子项：<ul><li>如果它是变量，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果它是抽象，那么整个项由 <code>β</code> 步进。</li><li>如果它是应用，我们对其函数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₁</code> 步进。</li><li>如果它是范式，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li></ul></li></ul></li></ul><p>可进性最后一条等式中使用了 <code>P@Q</code> 形式的 <strong>at 模式</strong>，其只在模式 <code>P</code> 和 <code>Q</code> 都匹配时匹配。 <code>@</code> 是 Agda 不允许出现在变量名中的字符之一，因此不需要在它周围加空格。 在此处，这个模式确保了 <code>L</code> 是一个应用。</p><h2 id="求值">求值</h2><p>与之前一样，可进性直接提供了一个求值器。</p><p>汽油由自然数给出：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19460" class="Keyword">record</a> <a id="plfa_plfa-part2-Untyped-Gas"></a><a id="plfa_plfa-part2-Untyped-19467" href="../Untyped/#plfa_plfa-part2-Untyped-19467" class="Record">Gas</a> <a id="plfa_plfa-part2-Untyped-19471" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19473" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19477" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-19485" class="Keyword">constructor</a> <a id="plfa_plfa-part2-Untyped-gas"></a><a id="plfa_plfa-part2-Untyped-19497" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a>
  <a id="plfa_plfa-part2-Untyped-19503" class="Keyword">field</a>
    <a id="plfa_plfa-part2-Untyped-Gas.amount"></a><a id="plfa_plfa-part2-Untyped-19513" href="../Untyped/#plfa_plfa-part2-Untyped-19513" class="Field">amount</a> <a id="plfa_plfa-part2-Untyped-19520" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19522" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
</pre><p>当我们的求值器返回项 <code>N</code>，它要么会给出 <code>N</code> 是范式的证明，或者提示汽油耗尽：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19714" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Finished"></a><a id="plfa_plfa-part2-Untyped-19719" href="../Untyped/#plfa_plfa-part2-Untyped-19719" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19728" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-19729" href="../Untyped/#plfa_plfa-part2-Untyped-19729" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19731" href="../Untyped/#plfa_plfa-part2-Untyped-19731" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19732" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-19734" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-19735" href="../Untyped/#plfa_plfa-part2-Untyped-19735" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-19737" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19739" href="../Untyped/#plfa_plfa-part2-Untyped-19729" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19741" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-19743" href="../Untyped/#plfa_plfa-part2-Untyped-19731" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19744" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-19746" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19748" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19752" class="Keyword">where</a>

   <a id="plfa_plfa-part2-Untyped-Finished.done"></a><a id="plfa_plfa-part2-Untyped-19762" href="../Untyped/#plfa_plfa-part2-Untyped-19762" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-19767" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19776" href="../Untyped/#plfa_plfa-part2-Untyped-10133" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-19783" href="../Untyped/#plfa_plfa-part2-Untyped-19735" class="Bound">N</a>
       <a id="plfa_plfa-part2-Untyped-19792" class="Comment">----------</a>
     <a id="plfa_plfa-part2-Untyped-19808" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-19810" href="../Untyped/#plfa_plfa-part2-Untyped-19719" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19819" href="../Untyped/#plfa_plfa-part2-Untyped-19735" class="Bound">N</a>

   <a id="plfa_plfa-part2-Untyped-Finished.out-of-gas"></a><a id="plfa_plfa-part2-Untyped-19825" href="../Untyped/#plfa_plfa-part2-Untyped-19825" class="InductiveConstructor">out-of-gas</a> <a id="plfa_plfa-part2-Untyped-19836" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19845" class="Comment">----------</a>
       <a id="plfa_plfa-part2-Untyped-19863" href="../Untyped/#plfa_plfa-part2-Untyped-19719" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19872" href="../Untyped/#plfa_plfa-part2-Untyped-19735" class="Bound">N</a>
</pre><p>给定类型 <code>A</code> 的项 <code>L</code>，求值器会对于某 <code>N</code> 返回自 <code>L</code> 至 <code>N</code> 的规约序列，并提示规约是否完成：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20114" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Steps"></a><a id="plfa_plfa-part2-Untyped-20119" href="../Untyped/#plfa_plfa-part2-Untyped-20119" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20125" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20127" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20129" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20130" href="../Untyped/#plfa_plfa-part2-Untyped-20130" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20132" href="../Untyped/#plfa_plfa-part2-Untyped-20132" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20133" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20135" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20137" href="../Untyped/#plfa_plfa-part2-Untyped-20130" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20139" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20141" href="../Untyped/#plfa_plfa-part2-Untyped-20132" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-20143" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20145" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-20149" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Steps.steps"></a><a id="plfa_plfa-part2-Untyped-20158" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20164" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20166" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20168" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20169" href="../Untyped/#plfa_plfa-part2-Untyped-20169" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20171" href="../Untyped/#plfa_plfa-part2-Untyped-20171" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20172" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20174" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20175" href="../Untyped/#plfa_plfa-part2-Untyped-20175" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20177" href="../Untyped/#plfa_plfa-part2-Untyped-20177" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-20179" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20181" href="../Untyped/#plfa_plfa-part2-Untyped-20169" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20183" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20185" href="../Untyped/#plfa_plfa-part2-Untyped-20171" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20186" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-20192" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20194" href="../Untyped/#plfa_plfa-part2-Untyped-20175" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20196" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-20199" href="../Untyped/#plfa_plfa-part2-Untyped-20177" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-20205" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20207" href="../Untyped/#plfa_plfa-part2-Untyped-19719" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-20216" href="../Untyped/#plfa_plfa-part2-Untyped-20177" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-20224" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-20239" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20241" href="../Untyped/#plfa_plfa-part2-Untyped-20119" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20247" href="../Untyped/#plfa_plfa-part2-Untyped-20175" class="Bound">L</a>
</pre><p>求值器取汽油和项，返回对应的步骤：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-eval"></a><a id="plfa_plfa-part2-Untyped-20363" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20368" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20370" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20372" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20373" href="../Untyped/#plfa_plfa-part2-Untyped-20373" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20375" href="../Untyped/#plfa_plfa-part2-Untyped-20375" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20376" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-20380" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20382" href="../Untyped/#plfa_plfa-part2-Untyped-19467" class="Record">Gas</a>
  <a id="plfa_plfa-part2-Untyped-20388" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20390" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20391" href="../Untyped/#plfa_plfa-part2-Untyped-20391" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20393" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20395" href="../Untyped/#plfa_plfa-part2-Untyped-20373" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20397" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20399" href="../Untyped/#plfa_plfa-part2-Untyped-20375" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20400" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-20406" class="Comment">-----------</a>
  <a id="plfa_plfa-part2-Untyped-20420" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20422" href="../Untyped/#plfa_plfa-part2-Untyped-20119" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20428" href="../Untyped/#plfa_plfa-part2-Untyped-20391" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20430" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20435" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20436" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20440" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-20444" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-20449" href="../Untyped/#plfa_plfa-part2-Untyped-20449" class="Bound">L</a>                     <a id="plfa_plfa-part2-Untyped-20471" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20474" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20480" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20481" href="../Untyped/#plfa_plfa-part2-Untyped-20449" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20483" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20484" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20486" href="../Untyped/#plfa_plfa-part2-Untyped-19825" class="InductiveConstructor">out-of-gas</a>
<a id="plfa_plfa-part2-Untyped-20497" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20502" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20503" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20507" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20508" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-20512" href="../Untyped/#plfa_plfa-part2-Untyped-20512" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20513" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-20516" href="../Untyped/#plfa_plfa-part2-Untyped-20516" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20518" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20523" href="../Untyped/#plfa_plfa-part2-Untyped-16471" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-20532" href="../Untyped/#plfa_plfa-part2-Untyped-20516" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20534" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20538" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20540" href="../Untyped/#plfa_plfa-part2-Untyped-16316" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20545" href="../Untyped/#plfa_plfa-part2-Untyped-20545" class="Bound">NrmL</a>                          <a id="plfa_plfa-part2-Untyped-20575" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20578" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20584" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20585" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20587" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20588" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20590" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20591" href="../Untyped/#plfa_plfa-part2-Untyped-19762" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20596" href="../Untyped/#plfa_plfa-part2-Untyped-20545" class="Bound">NrmL</a><a id="plfa_plfa-part2-Untyped-20600" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-20602" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20606" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20608" href="../Untyped/#plfa_plfa-part2-Untyped-16245" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-20613" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20614" href="../Untyped/#plfa_plfa-part2-Untyped-20614" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-20615" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20617" href="../Untyped/#plfa_plfa-part2-Untyped-20617" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20622" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20627" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20632" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20633" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20637" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20638" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20640" href="../Untyped/#plfa_plfa-part2-Untyped-20614" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-20642" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-20649" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20651" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20657" href="../Untyped/#plfa_plfa-part2-Untyped-20657" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-20662" href="../Untyped/#plfa_plfa-part2-Untyped-20662" class="Bound">fin</a>                  <a id="plfa_plfa-part2-Untyped-20683" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20686" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20692" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20693" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20695" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-20699" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20704" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-20706" href="../Untyped/#plfa_plfa-part2-Untyped-20657" class="Bound">M—↠N</a><a id="plfa_plfa-part2-Untyped-20710" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20712" href="../Untyped/#plfa_plfa-part2-Untyped-20662" class="Bound">fin</a>
</pre><p>定义与之前一样，除了我们将空语境 <code>∅</code> 推广至任意语境 <code>Γ</code>。</p><h2 id="例子">例子</h2><p>我们重复之前的例子。二加二得四，以 Church 数来表示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-21025" href="../Untyped/#plfa_plfa-part2-Untyped-21025" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-21027" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-21029" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-21034" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21035" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-21039" class="Number">100</a><a id="plfa_plfa-part2-Untyped-21042" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21044" href="../Untyped/#plfa_plfa-part2-Untyped-6980" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-21049" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
  <a id="plfa_plfa-part2-Untyped-21053" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a>
   <a id="plfa_plfa-part2-Untyped-21062" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21064" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21071" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21072" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21080" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21081" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21090" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21091" class="InductiveConstructor Operator">ƛ</a>
        <a id="plfa_plfa-part2-Untyped-21101" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21102" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21104" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21105" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21107" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21108" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21110" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21111" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21113" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21114" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21119" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21121" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21122" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21124" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21125" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21127" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21128" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21131" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Untyped-21141" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21143" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21145" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21146" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21148" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21149" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21151" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21152" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21156" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21159" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21161" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21162" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21164" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21165" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21168" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21170" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21171" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21173" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21174" class="Symbol">))))))</a>
    <a id="plfa_plfa-part2-Untyped-21185" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21187" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21188" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21190" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21191" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21193" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21194" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21196" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21197" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21199" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21200" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21203" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21205" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21207" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21209" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21210" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21212" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21213" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21216" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21219" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21221" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21222" class="Symbol">))))</a>
    <a id="plfa_plfa-part2-Untyped-21231" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21233" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21234" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21236" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21237" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21239" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21240" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21242" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21243" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21245" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21246" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21249" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21251" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21253" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21255" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21256" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21258" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21259" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21262" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21264" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21265" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21267" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21268" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21276" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21280" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21283" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21285" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21291" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21292" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21299" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21300" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21308" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21309" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21318" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21319" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21321" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21322" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21324" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21325" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21327" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21328" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21330" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21331" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21334" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21336" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21338" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21340" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21341" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21343" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21344" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21347" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21349" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21350" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21352" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21353" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21358" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21360" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21361" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21363" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21364" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21366" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21367" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21370" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-21379" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21381" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21383" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21384" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21386" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21387" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21389" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21390" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21394" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21396" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21397" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21399" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21400" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21402" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21403" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21406" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21408" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21409" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21411" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21412" class="Symbol">)))))</a>
    <a id="plfa_plfa-part2-Untyped-21422" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21424" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21425" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21427" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21428" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21430" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21431" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21433" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21434" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21436" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21437" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21440" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21442" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21444" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21446" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21447" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21449" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21450" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21453" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21455" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21456" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21458" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21459" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21467" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21471" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21473" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21479" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21485" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21486" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21493" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21494" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21496" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21497" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21499" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21500" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21502" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21503" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21505" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21506" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21509" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21511" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21513" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21515" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21516" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21518" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21519" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21522" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21524" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21525" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21527" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21528" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21533" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21535" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21536" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21538" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21539" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21541" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21542" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21545" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21552" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21554" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21556" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21557" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21559" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21560" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21562" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21563" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21565" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21566" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21571" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21573" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21575" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21576" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21578" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21579" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21582" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21584" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21585" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21587" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21588" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21593" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21595" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21596" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21598" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21599" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21601" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21602" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21605" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21607" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21608" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21610" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21611" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21618" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21622" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21624" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21625" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21627" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21628" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21631" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21632" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21635" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21641" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21647" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21648" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21655" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21656" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21658" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21659" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21661" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21662" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21664" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21665" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21667" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21668" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21672" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21674" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21676" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21678" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21679" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21681" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21682" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21684" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21685" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21689" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21691" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21692" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21694" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21695" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21699" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21706" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21708" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21710" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21711" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21713" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21714" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21716" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21717" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21719" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21720" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21723" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21725" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21727" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21729" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21730" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21732" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21733" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21736" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21738" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21739" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21741" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21742" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21747" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21749" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21750" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21752" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21753" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21755" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21756" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21759" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21761" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21762" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21764" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21765" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21772" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21776" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21778" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21779" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21781" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21782" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21784" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21790" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21796" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21797" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21804" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21805" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21807" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21808" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21810" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21811" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21814" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21821" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21823" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21825" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21826" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21828" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21829" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21832" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21840" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21842" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21844" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21845" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21847" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21848" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21850" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21851" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21853" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21854" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21857" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21859" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21861" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21863" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21864" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21866" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21867" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21870" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21872" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21873" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21875" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21876" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21881" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21883" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21884" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21886" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21887" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21889" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21890" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21893" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21895" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21896" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21898" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21899" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21907" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21911" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21913" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21914" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21916" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21917" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21920" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21921" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21924" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21925" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21928" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21929" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21934" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21940" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21946" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21947" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21954" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21955" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21957" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21958" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21960" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21961" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21964" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21971" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21973" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21975" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21976" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21978" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21979" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21982" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21990" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21992" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21994" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21995" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21997" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21998" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22000" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22001" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22003" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22004" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22008" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22010" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22012" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22014" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22015" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22017" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22018" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22020" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22021" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22025" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22027" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22028" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22030" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22031" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22035" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22037" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22038" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22040" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22041" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-22049" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-22053" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22055" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22056" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22058" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22059" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22062" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22063" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22066" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22067" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22071" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22077" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22079" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22080" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22082" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22083" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22085" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22086" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22088" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22089" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22092" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22094" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22096" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22098" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22099" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22101" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22102" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22105" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22107" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22109" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22111" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22112" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22114" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22115" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22118" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22120" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22122" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22124" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22125" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22127" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22128" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22131" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22133" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22134" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22136" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22137" class="Symbol">)))))</a>
   <a id="plfa_plfa-part2-Untyped-22146" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-22147" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Untyped-22152" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22153" class="InductiveConstructor">done</a>
    <a id="plfa_plfa-part2-Untyped-22162" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22163" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22170" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22171" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-22179" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22180" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a>
       <a id="plfa_plfa-part2-Untyped-22189" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22190" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22192" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22193" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22195" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22196" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22199" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-22208" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22209" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22211" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22212" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22214" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22215" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22217" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22218" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22221" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22223" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22224" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22226" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22227" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22229" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22230" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22232" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22233" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22236" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22238" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22239" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22241" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22242" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22244" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22245" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22247" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22248" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22251" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22253" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22254" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22256" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22257" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22259" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22260" class="Symbol">)))))))))</a>
<a id="plfa_plfa-part2-Untyped-22270" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-22272" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-22274" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="自然数和不动点">自然数和不动点</h2><p>我们可以使用 Church 数来表示自然数，但是计算某数的前继很复杂且昂贵。 取而代之的，我们使用另一种表示方法，叫做 Scott 数，其核心思想是一个数对应了对其自身的分情况讨论。</p><p>回忆 Church 数将某给定函数应用对应的次数。 使用命名的项，我们如下表示前三个 Church 数：</p><pre><code>zero  =  ƛ s ⇒ ƛ z ⇒ z
one   =  ƛ s ⇒ ƛ z ⇒ s · z
two   =  ƛ s ⇒ ƛ z ⇒ s · (s · z)</code></pre><p>作为对比，我们如下表示前三个 Scott 数：</p><pre><code>zero = ƛ s ⇒ ƛ z ⇒ z
one  = ƛ s ⇒ ƛ z ⇒ s · zero
two  = ƛ s ⇒ ƛ z ⇒ s · one</code></pre><p>每个数取两个参数，一个对应了后继分支的情况（它要求额外的参数，即当前参数的前继）， 一个对应了零分支的情况。 （两种情况可以以任意顺序出现。我们在此将后继分支放在前面，以方便与 Church 数对比。）</p><p>下面是以 de Bruijn 因子编码的自然数的 Scott 表示法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-`zero"></a><a id="plfa_plfa-part2-Untyped-23822" href="../Untyped/#plfa_plfa-part2-Untyped-23822" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23828" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23830" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23832" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23833" href="../Untyped/#plfa_plfa-part2-Untyped-23833" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23834" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23836" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23838" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23839" href="../Untyped/#plfa_plfa-part2-Untyped-23833" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23841" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23843" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23844" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23846" href="../Untyped/#plfa_plfa-part2-Untyped-23822" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23852" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23854" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23856" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23858" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23859" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23861" class="Number">0</a><a id="plfa_plfa-part2-Untyped-23862" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-`suc_"></a><a id="plfa_plfa-part2-Untyped-23865" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23871" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23873" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23875" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23876" href="../Untyped/#plfa_plfa-part2-Untyped-23876" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23877" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23879" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23881" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23882" href="../Untyped/#plfa_plfa-part2-Untyped-23876" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23884" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23886" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23887" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23889" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23891" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23892" href="../Untyped/#plfa_plfa-part2-Untyped-23876" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23894" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23896" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23897" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23899" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23905" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Bound">M</a>  <a id="plfa_plfa-part2-Untyped-23908" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23910" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23911" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23913" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23915" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23917" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23918" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23920" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-23922" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23924" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23926" class="Number">2</a><a id="plfa_plfa-part2-Untyped-23927" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-23930" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23932" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Bound">M</a>

<a id="plfa_plfa-part2-Untyped-case"></a><a id="plfa_plfa-part2-Untyped-23935" href="../Untyped/#plfa_plfa-part2-Untyped-23935" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23940" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23942" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23944" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23945" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23946" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23948" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23950" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23951" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23953" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23955" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23956" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23958" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23960" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23961" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23963" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23965" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23966" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23968" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23970" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23971" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23973" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-23975" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-23977" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23979" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23980" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-23983" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23985" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23986" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23988" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23990" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23991" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23993" href="../Untyped/#plfa_plfa-part2-Untyped-23935" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23998" href="../Untyped/#plfa_plfa-part2-Untyped-23998" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24000" href="../Untyped/#plfa_plfa-part2-Untyped-24000" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-24002" href="../Untyped/#plfa_plfa-part2-Untyped-24002" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-24004" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24006" href="../Untyped/#plfa_plfa-part2-Untyped-23998" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24008" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24010" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24011" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24013" href="../Untyped/#plfa_plfa-part2-Untyped-24002" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-24014" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24016" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24018" href="../Untyped/#plfa_plfa-part2-Untyped-24000" class="Bound">M</a>
</pre><p>我们小心地保留之前定义相同的形式。 后继分支期望作用域内有一个额外的变量（由它的类型可以看出），所以它被一个抽象转换成了一个普通的项。</p><p>对零使用后继的确规约至 Scott 数表示的一：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-24465" href="../Untyped/#plfa_plfa-part2-Untyped-24465" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-24467" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24469" href="../Untyped/#plfa_plfa-part2-Untyped-20363" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-24474" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24475" href="../Untyped/#plfa_plfa-part2-Untyped-19497" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-24479" class="Number">100</a><a id="plfa_plfa-part2-Untyped-24482" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24484" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24485" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-24491" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24492" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-24493" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24495" href="../Untyped/#plfa_plfa-part2-Untyped-23822" class="Function">`zero</a><a id="plfa_plfa-part2-Untyped-24500" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24502" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
    <a id="plfa_plfa-part2-Untyped-24508" href="../Untyped/#plfa_plfa-part2-Untyped-20158" class="InductiveConstructor">steps</a>
        <a id="plfa_plfa-part2-Untyped-24522" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-24524" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24526" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24527" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24529" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24530" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24532" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24534" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24536" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24538" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24540" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24541" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-24545" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24547" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24548" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24550" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24551" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24553" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24555" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24556" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Untyped-24563" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-24567" href="../Untyped/#plfa_plfa-part2-Untyped-13104" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-24569" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a>
         <a id="plfa_plfa-part2-Untyped-24580" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24582" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24583" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24585" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24587" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24589" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24591" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24592" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24594" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24595" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24597" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24599" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24600" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Untyped-24608" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-24609" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-24615" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24616" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-24621" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24622" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24624" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24625" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24627" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24628" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24630" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24631" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24633" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24634" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-24636" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24637" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24640" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24642" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24643" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24645" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24646" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24648" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24649" href="../Untyped/#plfa_plfa-part2-Untyped-10905" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24651" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24652" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24654" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24655" class="Symbol">))))))))</a>
<a id="plfa_plfa-part2-Untyped-24664" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-24666" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24668" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们同样可以定义不动点。使用命名的项，我们定义：</p><pre><code>μ f = (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))</code></pre><p>它能实现不动点的原因是：</p><pre><code>  μ f
≡
  (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))
—→
  f · ((ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x)))
≡
  f · (μ f)</code></pre><p>使用 de Bruijn 因子，我们有如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-μ_"></a><a id="plfa_plfa-part2-Untyped-25108" href="../Untyped/#plfa_plfa-part2-Untyped-25108" class="Function Operator">μ_</a> <a id="plfa_plfa-part2-Untyped-25111" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25113" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25115" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25116" href="../Untyped/#plfa_plfa-part2-Untyped-25116" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25117" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25119" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25121" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25122" href="../Untyped/#plfa_plfa-part2-Untyped-25116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25124" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-25126" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-25128" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25130" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25131" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25133" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25135" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25136" href="../Untyped/#plfa_plfa-part2-Untyped-25116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25138" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25140" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25141" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-25143" href="../Untyped/#plfa_plfa-part2-Untyped-25108" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25145" href="../Untyped/#plfa_plfa-part2-Untyped-25145" class="Bound">N</a>  <a id="plfa_plfa-part2-Untyped-25148" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-25151" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25152" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25154" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-25156" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25159" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25161" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25163" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25166" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25168" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25170" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25172" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25174" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25175" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-25179" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25181" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25182" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25184" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25185" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25187" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25189" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25191" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25192" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25194" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25196" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25198" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25200" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25201" class="Symbol">)))))</a> <a id="plfa_plfa-part2-Untyped-25207" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25209" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25210" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25212" href="../Untyped/#plfa_plfa-part2-Untyped-25145" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-25213" class="Symbol">)</a>
</pre><p>不动点的参数与之前自然数的后继分支的处理方法相似。</p><p>我们可以如之前一样定义二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-25421" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-25427" class="Number">5</a> <a id="plfa_plfa-part2-Untyped-25429" href="../Untyped/#plfa_plfa-part2-Untyped-25108" class="Function Operator">μ_</a>

<a id="plfa_plfa-part2-Untyped-two"></a><a id="plfa_plfa-part2-Untyped-25433" href="../Untyped/#plfa_plfa-part2-Untyped-25433" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25437" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25439" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25441" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25442" href="../Untyped/#plfa_plfa-part2-Untyped-25442" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25443" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25445" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25447" href="../Untyped/#plfa_plfa-part2-Untyped-25442" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25449" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25451" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25453" href="../Untyped/#plfa_plfa-part2-Untyped-25433" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25457" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25459" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25464" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25469" href="../Untyped/#plfa_plfa-part2-Untyped-23822" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-four"></a><a id="plfa_plfa-part2-Untyped-25476" href="../Untyped/#plfa_plfa-part2-Untyped-25476" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25481" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25483" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25485" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25486" href="../Untyped/#plfa_plfa-part2-Untyped-25486" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25487" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25489" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25491" href="../Untyped/#plfa_plfa-part2-Untyped-25486" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25493" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25495" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25497" href="../Untyped/#plfa_plfa-part2-Untyped-25476" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25502" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25504" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25509" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25514" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25519" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25524" href="../Untyped/#plfa_plfa-part2-Untyped-23822" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-plus"></a><a id="plfa_plfa-part2-Untyped-25531" href="../Untyped/#plfa_plfa-part2-Untyped-25531" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25536" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25538" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25540" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25541" href="../Untyped/#plfa_plfa-part2-Untyped-25541" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25542" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25544" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25546" href="../Untyped/#plfa_plfa-part2-Untyped-25541" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25548" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25550" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25552" href="../Untyped/#plfa_plfa-part2-Untyped-25531" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25557" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25559" href="../Untyped/#plfa_plfa-part2-Untyped-25108" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25561" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25563" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25565" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25566" href="../Untyped/#plfa_plfa-part2-Untyped-23935" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-25571" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25572" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25574" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25575" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25577" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25578" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25580" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25581" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25583" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25584" href="../Untyped/#plfa_plfa-part2-Untyped-23865" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25589" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25590" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25592" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-25594" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25596" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25598" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25600" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25602" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25604" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25605" class="Symbol">)))</a>
</pre><p>由于 <code>`suc</code> 是定义的项，而不是原语项， <code>plus · two · two</code> 不再规约至 <code>four</code>， 但是它们都规约至相同的范式。</p><h4 id="练习-plus-eval-实践">练习 <code>plus-eval</code> （实践）</h4><p>使用求值器，证实 <code>plus · two · two</code> 和 <code>four</code> 正规化至相同的项。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26114" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-multiplication-untyped-推荐">练习 <code>multiplication-untyped</code> （推荐）</h4><p>使用上文中的编码，翻译你之前章节乘法的定义，使得其使用 Scott 表示法和编码后的不动点运算符。 证实二乘二得四。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26515" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-encode-more-延伸">练习 <code>encode-more</code> （延伸）</h4><p>用上文中类似的方法，编码 <a href="../More/">More</a> 章节除了原语数字以外的剩余构造，用无类型的 λ 演算。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26823" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="多步规约是传递的">多步规约是传递的</h2><p>在我们对自反传递闭包的形式化，即 <code>—↠</code> 关系中，没有出现直接的传递性规则。 取而代之的是，这个关系模仿了列表形式，有一种空规约序列的情况，也有一种将一步规约加在规约序列之前的情况。 下面是传递性的证明，其与列表的附加 <code>_++_</code> 函数的结构相似。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-—↠-trans"></a><a id="plfa_plfa-part2-Untyped-27482" href="../Untyped/#plfa_plfa-part2-Untyped-27482" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27491" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27493" class="Symbol">∀{</a><a id="plfa_plfa-part2-Untyped-27495" href="../Untyped/#plfa_plfa-part2-Untyped-27495" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-27496" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27498" href="../Untyped/#plfa_plfa-part2-Untyped-27498" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27499" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27501" href="../Untyped/#plfa_plfa-part2-Untyped-27501" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27503" href="../Untyped/#plfa_plfa-part2-Untyped-27503" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27505" href="../Untyped/#plfa_plfa-part2-Untyped-27505" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27507" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27509" href="../Untyped/#plfa_plfa-part2-Untyped-27495" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27511" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27513" href="../Untyped/#plfa_plfa-part2-Untyped-27498" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27514" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-27525" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27527" href="../Untyped/#plfa_plfa-part2-Untyped-27501" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27529" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27532" href="../Untyped/#plfa_plfa-part2-Untyped-27503" class="Bound">M</a>
         <a id="plfa_plfa-part2-Untyped-27543" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27545" href="../Untyped/#plfa_plfa-part2-Untyped-27503" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27547" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27550" href="../Untyped/#plfa_plfa-part2-Untyped-27505" class="Bound">N</a>
         <a id="plfa_plfa-part2-Untyped-27561" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27563" href="../Untyped/#plfa_plfa-part2-Untyped-27501" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27565" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27568" href="../Untyped/#plfa_plfa-part2-Untyped-27505" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27570" href="../Untyped/#plfa_plfa-part2-Untyped-27482" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27579" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27580" href="../Untyped/#plfa_plfa-part2-Untyped-27580" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27582" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-27583" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27585" href="../Untyped/#plfa_plfa-part2-Untyped-27585" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27588" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27590" href="../Untyped/#plfa_plfa-part2-Untyped-27585" class="Bound">mn</a>
<a id="plfa_plfa-part2-Untyped-27593" href="../Untyped/#plfa_plfa-part2-Untyped-27482" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27602" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27603" href="../Untyped/#plfa_plfa-part2-Untyped-27603" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27605" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27609" href="../Untyped/#plfa_plfa-part2-Untyped-27609" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27611" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27613" href="../Untyped/#plfa_plfa-part2-Untyped-27613" class="Bound">lm</a><a id="plfa_plfa-part2-Untyped-27615" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27617" href="../Untyped/#plfa_plfa-part2-Untyped-27617" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27620" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27622" href="../Untyped/#plfa_plfa-part2-Untyped-27603" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27624" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27628" href="../Untyped/#plfa_plfa-part2-Untyped-27609" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27630" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27632" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27633" href="../Untyped/#plfa_plfa-part2-Untyped-27482" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27642" href="../Untyped/#plfa_plfa-part2-Untyped-27613" class="Bound">lm</a> <a id="plfa_plfa-part2-Untyped-27645" href="../Untyped/#plfa_plfa-part2-Untyped-27617" class="Bound">mn</a><a id="plfa_plfa-part2-Untyped-27647" class="Symbol">)</a>
</pre><p>下面的记法使得应用 <code>—↠</code> 的传递性更加方便。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-27773" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-27780" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-27782" href="../Untyped/#plfa_plfa-part2-Untyped-27791" class="Function Operator">_—↠⟨_⟩_</a>

<a id="plfa_plfa-part2-Untyped-_—↠⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-27791" href="../Untyped/#plfa_plfa-part2-Untyped-27791" class="Function Operator">_—↠⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-27799" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27801" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-27803" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27804" href="../Untyped/#plfa_plfa-part2-Untyped-27804" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27806" href="../Untyped/#plfa_plfa-part2-Untyped-27806" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27807" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-27809" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27810" href="../Untyped/#plfa_plfa-part2-Untyped-27810" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27812" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27814" href="../Untyped/#plfa_plfa-part2-Untyped-27804" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27816" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27818" href="../Untyped/#plfa_plfa-part2-Untyped-27806" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27819" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27821" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27822" href="../Untyped/#plfa_plfa-part2-Untyped-27822" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27824" href="../Untyped/#plfa_plfa-part2-Untyped-27824" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27826" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27828" href="../Untyped/#plfa_plfa-part2-Untyped-27804" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27830" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27832" href="../Untyped/#plfa_plfa-part2-Untyped-27806" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27833" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-27839" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27841" href="../Untyped/#plfa_plfa-part2-Untyped-27810" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27843" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27846" href="../Untyped/#plfa_plfa-part2-Untyped-27822" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-27852" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27854" href="../Untyped/#plfa_plfa-part2-Untyped-27822" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27856" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27859" href="../Untyped/#plfa_plfa-part2-Untyped-27824" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-27867" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-27881" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27883" href="../Untyped/#plfa_plfa-part2-Untyped-27810" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27885" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27888" href="../Untyped/#plfa_plfa-part2-Untyped-27824" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27890" href="../Untyped/#plfa_plfa-part2-Untyped-27890" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27892" href="../Untyped/#plfa_plfa-part2-Untyped-27791" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Untyped-27896" href="../Untyped/#plfa_plfa-part2-Untyped-27896" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27901" href="../Untyped/#plfa_plfa-part2-Untyped-27791" class="Function Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27903" href="../Untyped/#plfa_plfa-part2-Untyped-27903" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-27908" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27910" href="../Untyped/#plfa_plfa-part2-Untyped-27482" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27919" href="../Untyped/#plfa_plfa-part2-Untyped-27896" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27924" href="../Untyped/#plfa_plfa-part2-Untyped-27903" class="Bound">M—↠N</a>
</pre><h2 id="多步规约是合同性的">多步规约是合同性的</h2><p>回忆 <a href="../Induction/">Induction</a> 章节中，一个关系 <code>R</code> 对于一个给定的函数 <code>f</code> 在函数应用后仍然保持关系时，满足<strong>合同关系</strong>， 即『若 <code>R x y</code>，则 <code>R (f x) (f y)</code>』。 项构造子 <code>ƛ_</code> and <code>_·_</code> 是函数，因此合同性的概念也可作用于它们之上。 另外，当一个关系对于所有项的构造子满足合同时，我们说它对于整个语言满足合同性，在此即无类型的 λ 演算。</p><p>规则 <code>ξ₁</code> 、<code>ξ₂</code> 和 <code>ζ</code> 保证了规约关系对于无类型的 λ 演算满足合同性。 多步规约也是一个合同关系，我们在下面三条引理中证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appL-cong"></a><a id="plfa_plfa-part2-Untyped-29015" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29025" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29027" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-29029" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29030" href="../Untyped/#plfa_plfa-part2-Untyped-29030" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29031" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29033" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29034" href="../Untyped/#plfa_plfa-part2-Untyped-29034" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29036" href="../Untyped/#plfa_plfa-part2-Untyped-29036" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29039" href="../Untyped/#plfa_plfa-part2-Untyped-29039" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29041" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29043" href="../Untyped/#plfa_plfa-part2-Untyped-29030" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-29045" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-29047" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-29048" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-29059" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29061" href="../Untyped/#plfa_plfa-part2-Untyped-29034" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29063" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29066" href="../Untyped/#plfa_plfa-part2-Untyped-29036" class="Bound">L&#39;</a>
           <a id="plfa_plfa-part2-Untyped-29080" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-29105" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29107" href="../Untyped/#plfa_plfa-part2-Untyped-29034" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29109" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29111" href="../Untyped/#plfa_plfa-part2-Untyped-29039" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29113" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29116" href="../Untyped/#plfa_plfa-part2-Untyped-29036" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29119" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29121" href="../Untyped/#plfa_plfa-part2-Untyped-29039" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-29123" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29133" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29134" href="../Untyped/#plfa_plfa-part2-Untyped-29134" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29135" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29137" href="../Untyped/#plfa_plfa-part2-Untyped-29137" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29138" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29140" href="../Untyped/#plfa_plfa-part2-Untyped-29140" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29142" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29144" href="../Untyped/#plfa_plfa-part2-Untyped-29144" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29145" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29147" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29148" href="../Untyped/#plfa_plfa-part2-Untyped-29137" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29150" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-29151" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29153" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29155" href="../Untyped/#plfa_plfa-part2-Untyped-29137" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29157" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29159" href="../Untyped/#plfa_plfa-part2-Untyped-29144" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29161" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-29163" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29173" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29174" href="../Untyped/#plfa_plfa-part2-Untyped-29174" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29175" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29177" href="../Untyped/#plfa_plfa-part2-Untyped-29177" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29178" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29180" href="../Untyped/#plfa_plfa-part2-Untyped-29180" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29182" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29184" href="../Untyped/#plfa_plfa-part2-Untyped-29184" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29185" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29187" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29188" href="../Untyped/#plfa_plfa-part2-Untyped-29177" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29190" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29194" href="../Untyped/#plfa_plfa-part2-Untyped-29194" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29196" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29198" href="../Untyped/#plfa_plfa-part2-Untyped-29198" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-29200" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29202" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29204" href="../Untyped/#plfa_plfa-part2-Untyped-29177" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29206" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29208" href="../Untyped/#plfa_plfa-part2-Untyped-29184" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29210" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29214" href="../Untyped/#plfa_plfa-part2-Untyped-12924" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-29217" href="../Untyped/#plfa_plfa-part2-Untyped-29194" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29219" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29221" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29231" href="../Untyped/#plfa_plfa-part2-Untyped-29198" class="Bound">rs</a>
</pre><p><code>appL-cong</code> 的证明对于规约序列 <code>L —↠ L&#39;</code> 进行归纳。 * 若 <code>L —↠ L</code> 由 <code>L ∎</code> 成立。那我们可从 <code>L · M ∎</code> 得 <code>L · M —↠ L · M</code> 。 * 若 <code>L —↠ L&#39;&#39;</code> 由 <code>L —→⟨ r ⟩ rs</code> 成立，那么 <code>L —→ L&#39;</code> 由 <code>r</code> 成立，且 <code>L&#39; —↠ L&#39;&#39;</code> 由 <code>rs</code> 成立。 我们可从 <code>ξ₁ r</code> 得 <code>L · M —→ L&#39; · M</code>，且对 <code>rs</code> 应用归纳假设得到 <code>L&#39; · M —↠ L&#39;&#39; · M</code>。 我们可以将两者用 <code>_—→⟨_⟩_</code> 组合来获得 <code>L · M —↠ L&#39;&#39; · M</code>。</p><p><code>appR-cong</code> 和 <code>abs-cong</code> 的证明与 <code>appL-cong</code> 的证明使用一样的方法。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appR-cong"></a><a id="plfa_plfa-part2-Untyped-30168" href="../Untyped/#plfa_plfa-part2-Untyped-30168" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30178" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30180" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30182" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30183" href="../Untyped/#plfa_plfa-part2-Untyped-30183" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30184" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30186" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30187" href="../Untyped/#plfa_plfa-part2-Untyped-30187" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30189" href="../Untyped/#plfa_plfa-part2-Untyped-30189" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30191" href="../Untyped/#plfa_plfa-part2-Untyped-30191" class="Bound">M&#39;</a> <a id="plfa_plfa-part2-Untyped-30194" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30196" href="../Untyped/#plfa_plfa-part2-Untyped-30183" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30198" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30200" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30201" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30212" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30214" href="../Untyped/#plfa_plfa-part2-Untyped-30189" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30216" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30219" href="../Untyped/#plfa_plfa-part2-Untyped-30191" class="Bound">M&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30233" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-30258" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30260" href="../Untyped/#plfa_plfa-part2-Untyped-30187" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30262" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30264" href="../Untyped/#plfa_plfa-part2-Untyped-30189" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30266" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30269" href="../Untyped/#plfa_plfa-part2-Untyped-30187" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30271" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30273" href="../Untyped/#plfa_plfa-part2-Untyped-30191" class="Bound">M&#39;</a>
<a id="plfa_plfa-part2-Untyped-30276" href="../Untyped/#plfa_plfa-part2-Untyped-30168" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30286" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30287" href="../Untyped/#plfa_plfa-part2-Untyped-30287" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30288" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30290" href="../Untyped/#plfa_plfa-part2-Untyped-30290" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30291" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30293" href="../Untyped/#plfa_plfa-part2-Untyped-30293" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30294" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30296" href="../Untyped/#plfa_plfa-part2-Untyped-30296" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30298" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30300" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30301" href="../Untyped/#plfa_plfa-part2-Untyped-30293" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30303" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30304" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30306" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30308" href="../Untyped/#plfa_plfa-part2-Untyped-30290" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30310" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30312" href="../Untyped/#plfa_plfa-part2-Untyped-30293" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30314" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30316" href="../Untyped/#plfa_plfa-part2-Untyped-30168" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30326" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30327" href="../Untyped/#plfa_plfa-part2-Untyped-30327" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30328" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30330" href="../Untyped/#plfa_plfa-part2-Untyped-30330" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30331" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30333" href="../Untyped/#plfa_plfa-part2-Untyped-30333" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30334" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30336" href="../Untyped/#plfa_plfa-part2-Untyped-30336" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30338" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30340" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30341" href="../Untyped/#plfa_plfa-part2-Untyped-30333" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30343" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30347" href="../Untyped/#plfa_plfa-part2-Untyped-30347" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30349" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30351" href="../Untyped/#plfa_plfa-part2-Untyped-30351" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30353" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30355" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30357" href="../Untyped/#plfa_plfa-part2-Untyped-30330" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30359" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30361" href="../Untyped/#plfa_plfa-part2-Untyped-30333" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30363" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30367" href="../Untyped/#plfa_plfa-part2-Untyped-13014" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-30370" href="../Untyped/#plfa_plfa-part2-Untyped-30347" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30372" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30374" href="../Untyped/#plfa_plfa-part2-Untyped-30168" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30384" href="../Untyped/#plfa_plfa-part2-Untyped-30351" class="Bound">rs</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Untyped-abs-cong"></a><a id="plfa_plfa-part2-Untyped-30400" href="../Untyped/#plfa_plfa-part2-Untyped-30400" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30409" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30411" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30413" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30414" href="../Untyped/#plfa_plfa-part2-Untyped-30414" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30415" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30417" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30418" href="../Untyped/#plfa_plfa-part2-Untyped-30418" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30420" href="../Untyped/#plfa_plfa-part2-Untyped-30420" class="Bound">N&#39;</a> <a id="plfa_plfa-part2-Untyped-30423" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30425" href="../Untyped/#plfa_plfa-part2-Untyped-30414" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30427" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-30429" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-30431" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30433" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30434" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30445" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30447" href="../Untyped/#plfa_plfa-part2-Untyped-30418" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30449" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30452" href="../Untyped/#plfa_plfa-part2-Untyped-30420" class="Bound">N&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30466" class="Comment">----------</a>
         <a id="plfa_plfa-part2-Untyped-30486" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30488" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30490" href="../Untyped/#plfa_plfa-part2-Untyped-30418" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30492" href="../Untyped/#plfa_plfa-part2-Untyped-14270" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30495" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30497" href="../Untyped/#plfa_plfa-part2-Untyped-30420" class="Bound">N&#39;</a>
<a id="plfa_plfa-part2-Untyped-30500" href="../Untyped/#plfa_plfa-part2-Untyped-30400" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30509" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30510" href="../Untyped/#plfa_plfa-part2-Untyped-30510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30512" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30513" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30515" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30517" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30519" href="../Untyped/#plfa_plfa-part2-Untyped-30510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30521" href="../Untyped/#plfa_plfa-part2-Untyped-14316" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30523" href="../Untyped/#plfa_plfa-part2-Untyped-30400" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30532" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30533" href="../Untyped/#plfa_plfa-part2-Untyped-30533" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30535" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30539" href="../Untyped/#plfa_plfa-part2-Untyped-30539" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30541" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30543" href="../Untyped/#plfa_plfa-part2-Untyped-30543" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30545" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30547" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30549" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30551" href="../Untyped/#plfa_plfa-part2-Untyped-30533" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30553" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30557" href="../Untyped/#plfa_plfa-part2-Untyped-13212" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-30559" href="../Untyped/#plfa_plfa-part2-Untyped-30539" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30561" href="../Untyped/#plfa_plfa-part2-Untyped-14458" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30563" href="../Untyped/#plfa_plfa-part2-Untyped-30400" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30572" href="../Untyped/#plfa_plfa-part2-Untyped-30543" class="Bound">rs</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了下列 Unicode：</p><pre><code>★  U+2605  BLACK STAR (\st)</code></pre><p><code>\st</code> 命令允许选取不同种类的星，我们使用的是第七种。</p></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：Fangyi Zhou</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>