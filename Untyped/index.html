<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Untyped</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Untyped: 完全正规化的无类型 λ 演算</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Untyped-126" class="Keyword">module</a> <a id="plfa_plfa-part2-Untyped-133" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part2-Untyped-152" class="Keyword">where</a>
</pre><p>本章中，我们对于之前的主题加入不同的变化：</p><ul><li>之前的章节中讨论了内在类型的演算；我们这次讨论无类型，但是内在作用域的演算。</li></ul><ul><li>之前的章节中讨论了传值调用（Call-by-value）的演算；我们这次讨论传名调用（Call-by-name）。</li></ul><ul><li>之前的章节中讨论了<strong>弱头部范式</strong>（Weak Head Normal Form），其规约止步于 λ 抽象；我们这次讨论<strong>完全正规化</strong>（Full Normalisation），其在 λ 抽象之下仍然继续规约。</li></ul><ul><li>之前的章节中讨论了<strong>确定性</strong>（Deterministic）的规约，每个项中至多有一个可规约项； 我们这次讨论<strong>非确定性</strong>（Non-deterministic）的规约，每个项中可能有多个可规约项，而每一个都可规约。</li></ul><ul><li>之前的章节中讨论了<strong>封闭</strong>（Closed）的项，其不包含自由变量； 我们这次讨论<strong>开放</strong>（Open）的项，其可能包含自由变量。</li></ul><ul><li>之前的章节中讨论了加入自然数和不动点的 λ 演算； 我们这次讨论只包括变量、抽象和应用的小巧的演算，其他构造均可编码至其中。</li></ul><p>一般来说，我们可以将这些特性选择性的混合匹配，而完全正规化要求开放项， 且编码自然数和不动点需要无类型的演算。 本章的目的是展示 λ 演算可能出现的不同形式。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Untyped-2201" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2208" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Untyped-2246" class="Symbol">as</a> <a id="plfa_plfa-part2-Untyped-2249" class="Module">Eq</a>
<a id="plfa_plfa-part2-Untyped-2252" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2257" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Untyped-2260" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2266" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Untyped-2270" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2272" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Untyped-2276" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2278" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2283" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2290" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Untyped-2301" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2307" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2308" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Untyped-2309" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2311" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Untyped-2317" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2319" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2324" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2331" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Untyped-2340" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2346" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2347" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-2348" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2350" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-2354" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2356" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Untyped-2359" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2361" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a><a id="plfa_plfa-part2-Untyped-2364" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2366" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">_≤?_</a><a id="plfa_plfa-part2-Untyped-2370" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2372" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-2375" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2377" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="plfa_plfa-part2-Untyped-2380" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2382" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2387" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2394" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Untyped-2411" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2417" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2418" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Untyped-2420" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2422" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2427" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2434" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Untyped-2461" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2467" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2468" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="plfa_plfa-part2-Untyped-2472" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2474" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a><a id="plfa_plfa-part2-Untyped-2483" class="Symbol">)</a>
</pre><h2 id="无类型即是单一类型">无类型即是单一类型</h2><p>我们的内容将会和 [DeBruijn] 章节中相似，只是每个项会有相同的类型，写作 <code>★</code>，读作『任意』。 这呼应了一条 Dana Scott 提出，Robert Harper 重复的口号：『无类型即是单一类型』。 这样的结果之一就是之前我们需要额外给出的构造（例如自然数和不动点），现在可以在直接在语言本身中定义。</p><h2 id="语法">语法</h2><p>我们首先定义中缀声明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3265" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3272" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3275" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">_⊢_</a>
<a id="plfa_plfa-part2-Untyped-3279" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3286" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3289" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">_∋_</a>
<a id="plfa_plfa-part2-Untyped-3293" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3300" class="Number">5</a>  <a id="plfa_plfa-part2-Untyped-3303" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">_,_</a>

<a id="plfa_plfa-part2-Untyped-3308" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3315" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3318" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ_</a>
<a id="plfa_plfa-part2-Untyped-3321" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3328" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3331" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′_</a>
<a id="plfa_plfa-part2-Untyped-3334" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3341" class="Number">7</a>  <a id="plfa_plfa-part2-Untyped-3344" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">_·_</a>
</pre><h2 id="类型">类型</h2><p>我们只有一种类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3431" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Type"></a><a id="plfa_plfa-part2-Untyped-3436" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3441" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3443" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3447" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Type.★"></a><a id="plfa_plfa-part2-Untyped-3455" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-3457" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3459" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a>
</pre><h4 id="练习-type-习题">练习 (<code>Type≃⊤</code>) （习题）</h4><p>证明 <code>Type</code> 与单元类型 <code>⊤</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3637" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="上下文">上下文</h2><p>和之前一样，上下文是类型的列表，最新出现的约束变量的类型出现在最右边：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3845" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Context"></a><a id="plfa_plfa-part2-Untyped-3850" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3858" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3860" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3864" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Context.∅"></a><a id="plfa_plfa-part2-Untyped-3872" href="../Untyped/#plfa_plfa-part2-Untyped-3872" class="InductiveConstructor">∅</a>   <a id="plfa_plfa-part2-Untyped-3876" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3878" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Untyped-Context._,_"></a><a id="plfa_plfa-part2-Untyped-3888" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-3892" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3894" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3902" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3904" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3909" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3911" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a>
</pre><p>我们使用 <code>Γ</code> 和 <code>Δ</code> 来指代上下文。</p><h4 id="练习-contextℕ-习题">练习 (<code>Context≃ℕ</code>) （习题）</h4><p>证明 <code>Context</code> 和 <code>ℕ</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4159" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="变量和查询判断">变量和查询判断</h2><p>内在作用域的变量对应了查询判断。规则与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4372" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_∋_"></a><a id="plfa_plfa-part2-Untyped-4377" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">_∋_</a> <a id="plfa_plfa-part2-Untyped-4381" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4383" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4391" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4393" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4398" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4400" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4404" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.Z"></a><a id="plfa_plfa-part2-Untyped-4413" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Untyped-4415" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4417" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4419" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4420" href="../Untyped/#plfa_plfa-part2-Untyped-4420" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4422" href="../Untyped/#plfa_plfa-part2-Untyped-4422" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-4423" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Untyped-4430" class="Comment">---------</a>
   <a id="plfa_plfa-part2-Untyped-4443" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4445" href="../Untyped/#plfa_plfa-part2-Untyped-4420" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4447" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4449" href="../Untyped/#plfa_plfa-part2-Untyped-4422" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4451" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4453" href="../Untyped/#plfa_plfa-part2-Untyped-4422" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.S_"></a><a id="plfa_plfa-part2-Untyped-4458" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-4461" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4463" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4465" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4466" href="../Untyped/#plfa_plfa-part2-Untyped-4466" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4468" href="../Untyped/#plfa_plfa-part2-Untyped-4468" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4470" href="../Untyped/#plfa_plfa-part2-Untyped-4470" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-4471" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-4477" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4479" href="../Untyped/#plfa_plfa-part2-Untyped-4466" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4481" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4483" href="../Untyped/#plfa_plfa-part2-Untyped-4468" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-4491" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-4505" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4507" href="../Untyped/#plfa_plfa-part2-Untyped-4466" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4509" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4511" href="../Untyped/#plfa_plfa-part2-Untyped-4470" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-4513" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4515" href="../Untyped/#plfa_plfa-part2-Untyped-4468" class="Bound">A</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>因为 <code>★</code> 是唯一的类型，这样的判断并不会给出很多与类型相关的保证。 但它确实确保了所有的变量在作用域内。例如，我们不能在只有两个约束变量的上下文中使用 <code>S S Z</code>。</p><h2 id="项与作用域判断">项与作用域判断</h2><p>内类作用域的项对应了赋型判断，但类型只有唯一的 <code>★</code> 类型。 得到的结果则是我们检查了每个项都是良作用域的——即所有使用的变量都在作用域内——而不是它们是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-5416" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_⊢_"></a><a id="plfa_plfa-part2-Untyped-5421" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">_⊢_</a> <a id="plfa_plfa-part2-Untyped-5425" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5427" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-5435" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5437" href="../Untyped/#plfa_plfa-part2-Untyped-3436" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-5442" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5444" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-5448" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.`_"></a><a id="plfa_plfa-part2-Untyped-5457" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Untyped-5460" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5462" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5464" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5465" href="../Untyped/#plfa_plfa-part2-Untyped-5465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5467" href="../Untyped/#plfa_plfa-part2-Untyped-5467" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-5468" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5474" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5476" href="../Untyped/#plfa_plfa-part2-Untyped-5465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5478" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-5480" href="../Untyped/#plfa_plfa-part2-Untyped-5467" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-5488" class="Comment">-----</a>
    <a id="plfa_plfa-part2-Untyped-5498" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5500" href="../Untyped/#plfa_plfa-part2-Untyped-5465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5502" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5504" href="../Untyped/#plfa_plfa-part2-Untyped-5467" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.ƛ_"></a><a id="plfa_plfa-part2-Untyped-5509" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-5513" class="Symbol">:</a>  <a id="plfa_plfa-part2-Untyped-5516" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5518" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5519" href="../Untyped/#plfa_plfa-part2-Untyped-5519" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5520" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5526" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5528" href="../Untyped/#plfa_plfa-part2-Untyped-5519" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5530" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-5532" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-5534" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5536" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5544" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-5558" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5560" href="../Untyped/#plfa_plfa-part2-Untyped-5519" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5562" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5564" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_._·_"></a><a id="plfa_plfa-part2-Untyped-5569" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Untyped-5573" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5575" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5577" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5578" href="../Untyped/#plfa_plfa-part2-Untyped-5578" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5579" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5585" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5587" href="../Untyped/#plfa_plfa-part2-Untyped-5578" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5589" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5591" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
    <a id="plfa_plfa-part2-Untyped-5597" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5599" href="../Untyped/#plfa_plfa-part2-Untyped-5578" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5601" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5603" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5611" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-5622" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5624" href="../Untyped/#plfa_plfa-part2-Untyped-5578" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5626" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5628" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
</pre><p>现在我们有了一个迷你的演算，至包含变量、抽象和应用。 接下来我们展示如果将自然数和不动点编码进这个演算中。</p><h2 id="用数表示变量">用数表示变量</h2><p>如之前一样，我们可以将自然数转换为对应的 de Bruijn 因子。 我们不再需要从上下文中查询变量的类型，因为每个变量都有一样的类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-length"></a><a id="plfa_plfa-part2-Untyped-6166" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6173" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6175" href="../Untyped/#plfa_plfa-part2-Untyped-3850" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-6183" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6185" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="plfa_plfa-part2-Untyped-6187" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6194" href="../Untyped/#plfa_plfa-part2-Untyped-3872" class="InductiveConstructor">∅</a>        <a id="plfa_plfa-part2-Untyped-6203" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6206" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>
<a id="plfa_plfa-part2-Untyped-6211" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6219" href="../Untyped/#plfa_plfa-part2-Untyped-6219" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6221" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6223" class="Symbol">_)</a>  <a id="plfa_plfa-part2-Untyped-6227" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6230" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6234" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6235" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6242" href="../Untyped/#plfa_plfa-part2-Untyped-6219" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6243" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-count"></a><a id="plfa_plfa-part2-Untyped-6246" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6252" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6254" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6256" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6257" href="../Untyped/#plfa_plfa-part2-Untyped-6257" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6258" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6260" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6262" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6263" href="../Untyped/#plfa_plfa-part2-Untyped-6263" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6265" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6268" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6270" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6272" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6273" href="../Untyped/#plfa_plfa-part2-Untyped-6273" class="Bound">p</a> <a id="plfa_plfa-part2-Untyped-6275" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6277" href="../Untyped/#plfa_plfa-part2-Untyped-6263" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6279" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">&lt;</a> <a id="plfa_plfa-part2-Untyped-6281" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6288" href="../Untyped/#plfa_plfa-part2-Untyped-6257" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6289" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-6291" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6293" href="../Untyped/#plfa_plfa-part2-Untyped-6257" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6295" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-6297" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6299" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6305" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6306" href="../Untyped/#plfa_plfa-part2-Untyped-6306" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6308" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6310" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6311" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6313" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6314" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-6318" class="Symbol">}</a>    <a id="plfa_plfa-part2-Untyped-6323" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6324" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6328" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-6331" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-6334" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6337" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-6339" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6345" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6346" href="../Untyped/#plfa_plfa-part2-Untyped-6346" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6348" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6350" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6351" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6353" class="Symbol">{(</a><a id="plfa_plfa-part2-Untyped-6355" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6359" href="../Untyped/#plfa_plfa-part2-Untyped-6359" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6360" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-6363" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6364" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6368" href="../Untyped/#plfa_plfa-part2-Untyped-6368" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6369" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-6374" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6377" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-6379" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6380" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6386" href="../Untyped/#plfa_plfa-part2-Untyped-6368" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6387" class="Symbol">)</a>
</pre><p>我们可以接下来引入一种变量的缩略用法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#_"></a><a id="plfa_plfa-part2-Untyped-6496" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6499" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6501" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6503" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6504" href="../Untyped/#plfa_plfa-part2-Untyped-6504" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6505" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-6509" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6511" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6512" href="../Untyped/#plfa_plfa-part2-Untyped-6512" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6514" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6516" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6517" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-6521" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6523" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6524" href="../Untyped/#plfa_plfa-part2-Untyped-6524" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-6528" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6530" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-6535" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6536" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6540" href="../Untyped/#plfa_plfa-part2-Untyped-6512" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6542" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-6545" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6552" href="../Untyped/#plfa_plfa-part2-Untyped-6504" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6553" class="Symbol">)}</a>
    <a id="plfa_plfa-part2-Untyped-6560" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-6595" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6597" href="../Untyped/#plfa_plfa-part2-Untyped-6504" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6599" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6601" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6603" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6606" href="../Untyped/#plfa_plfa-part2-Untyped-6606" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6608" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6609" href="../Untyped/#plfa_plfa-part2-Untyped-6609" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6612" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-6615" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6618" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-6620" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6626" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6627" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-6637" href="../Untyped/#plfa_plfa-part2-Untyped-6609" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6640" class="Symbol">)</a>
</pre><h2 id="测试例子">测试例子</h2><p>我们唯一的例子是用 Church 数计算二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-twoᶜ"></a><a id="plfa_plfa-part2-Untyped-6790" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6795" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6797" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6799" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6800" href="../Untyped/#plfa_plfa-part2-Untyped-6800" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6801" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6803" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6805" href="../Untyped/#plfa_plfa-part2-Untyped-6800" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6807" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6809" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6811" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6816" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6818" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6820" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6822" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6823" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6825" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6827" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6829" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6830" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6832" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6834" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6836" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6838" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6839" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-fourᶜ"></a><a id="plfa_plfa-part2-Untyped-6843" href="../Untyped/#plfa_plfa-part2-Untyped-6843" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6849" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6851" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6853" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6854" href="../Untyped/#plfa_plfa-part2-Untyped-6854" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6855" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6857" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6859" href="../Untyped/#plfa_plfa-part2-Untyped-6854" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6861" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6863" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6865" href="../Untyped/#plfa_plfa-part2-Untyped-6843" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6871" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6873" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6875" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6877" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6878" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6880" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6882" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6884" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6885" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6887" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6889" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6891" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6892" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6894" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6896" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6898" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6899" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6901" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6903" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6905" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6907" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6908" class="Symbol">))))</a>

<a id="plfa_plfa-part2-Untyped-plusᶜ"></a><a id="plfa_plfa-part2-Untyped-6914" href="../Untyped/#plfa_plfa-part2-Untyped-6914" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6920" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6922" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6924" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6925" href="../Untyped/#plfa_plfa-part2-Untyped-6925" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6926" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6928" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6930" href="../Untyped/#plfa_plfa-part2-Untyped-6925" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6932" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6934" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6936" href="../Untyped/#plfa_plfa-part2-Untyped-6914" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6942" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6944" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6946" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6948" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6950" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6952" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6953" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6955" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-6957" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6959" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6961" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6963" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6965" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6966" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6968" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-6970" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6972" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6974" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6976" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6978" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6980" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6981" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-2+2ᶜ"></a><a id="plfa_plfa-part2-Untyped-6985" href="../Untyped/#plfa_plfa-part2-Untyped-6985" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6990" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6992" href="../Untyped/#plfa_plfa-part2-Untyped-3872" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Untyped-6994" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6996" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6998" href="../Untyped/#plfa_plfa-part2-Untyped-6985" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-7003" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-7005" href="../Untyped/#plfa_plfa-part2-Untyped-6914" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-7011" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7013" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-7018" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7020" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a>
</pre><p>在之前，我们在遇到 λ 抽象时停止规约，因此我们需要计算 <code>plusᶜ · twoᶜ · twoᶜ · sucᶜ · `zero</code> 来确保我们规约至自然数四。 现在，规约在 λ 之下继续进行，所以我们不需要额外的参数。 为了便利，我们定义用 Church 数来表示二和四的项。</p><h2 id="重命名">重命名</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-ext"></a><a id="plfa_plfa-part2-Untyped-7687" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7691" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7693" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7695" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7696" href="../Untyped/#plfa_plfa-part2-Untyped-7696" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7698" href="../Untyped/#plfa_plfa-part2-Untyped-7698" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-7699" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7701" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7703" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7706" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7707" href="../Untyped/#plfa_plfa-part2-Untyped-7707" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7708" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7710" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7712" href="../Untyped/#plfa_plfa-part2-Untyped-7696" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7714" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7716" href="../Untyped/#plfa_plfa-part2-Untyped-7707" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7718" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7720" href="../Untyped/#plfa_plfa-part2-Untyped-7698" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7722" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7724" href="../Untyped/#plfa_plfa-part2-Untyped-7707" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7725" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-7731" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-7769" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7771" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7774" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7775" href="../Untyped/#plfa_plfa-part2-Untyped-7775" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7777" href="../Untyped/#plfa_plfa-part2-Untyped-7777" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-7778" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7780" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7782" href="../Untyped/#plfa_plfa-part2-Untyped-7696" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7784" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7786" href="../Untyped/#plfa_plfa-part2-Untyped-7777" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7788" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7790" href="../Untyped/#plfa_plfa-part2-Untyped-7775" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7792" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7794" href="../Untyped/#plfa_plfa-part2-Untyped-7698" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7796" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7798" href="../Untyped/#plfa_plfa-part2-Untyped-7777" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7800" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7802" href="../Untyped/#plfa_plfa-part2-Untyped-7775" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7803" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-7805" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7809" href="../Untyped/#plfa_plfa-part2-Untyped-7809" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7811" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-7818" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7821" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-7823" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7827" href="../Untyped/#plfa_plfa-part2-Untyped-7827" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7829" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7830" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7832" href="../Untyped/#plfa_plfa-part2-Untyped-7832" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7833" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-7836" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7839" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7841" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7842" href="../Untyped/#plfa_plfa-part2-Untyped-7827" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7844" href="../Untyped/#plfa_plfa-part2-Untyped-7832" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7845" class="Symbol">)</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>现在定义重命名就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-rename"></a><a id="plfa_plfa-part2-Untyped-8079" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8086" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8088" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8090" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8091" href="../Untyped/#plfa_plfa-part2-Untyped-8091" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8093" href="../Untyped/#plfa_plfa-part2-Untyped-8093" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8094" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8098" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8100" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8103" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8104" href="../Untyped/#plfa_plfa-part2-Untyped-8104" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8105" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8107" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8109" href="../Untyped/#plfa_plfa-part2-Untyped-8091" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8111" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8113" href="../Untyped/#plfa_plfa-part2-Untyped-8104" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8115" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8117" href="../Untyped/#plfa_plfa-part2-Untyped-8093" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8119" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8121" href="../Untyped/#plfa_plfa-part2-Untyped-8104" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8122" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8128" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8155" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8157" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8160" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8161" href="../Untyped/#plfa_plfa-part2-Untyped-8161" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8162" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8164" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8166" href="../Untyped/#plfa_plfa-part2-Untyped-8091" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8168" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8170" href="../Untyped/#plfa_plfa-part2-Untyped-8161" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8172" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8174" href="../Untyped/#plfa_plfa-part2-Untyped-8093" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8176" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8178" href="../Untyped/#plfa_plfa-part2-Untyped-8161" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8179" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8181" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8188" href="../Untyped/#plfa_plfa-part2-Untyped-8188" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8190" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8191" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8193" href="../Untyped/#plfa_plfa-part2-Untyped-8193" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8194" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8205" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8208" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8210" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8211" href="../Untyped/#plfa_plfa-part2-Untyped-8188" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8213" href="../Untyped/#plfa_plfa-part2-Untyped-8193" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8214" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8216" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8223" href="../Untyped/#plfa_plfa-part2-Untyped-8223" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8225" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8226" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8228" href="../Untyped/#plfa_plfa-part2-Untyped-8228" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8229" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8240" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8243" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8245" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8246" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8253" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8254" href="../Untyped/#plfa_plfa-part2-Untyped-7687" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-8258" href="../Untyped/#plfa_plfa-part2-Untyped-8223" class="Bound">ρ</a><a id="plfa_plfa-part2-Untyped-8259" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8261" href="../Untyped/#plfa_plfa-part2-Untyped-8228" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8262" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8264" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8271" href="../Untyped/#plfa_plfa-part2-Untyped-8271" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8273" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8274" href="../Untyped/#plfa_plfa-part2-Untyped-8274" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-8276" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8278" href="../Untyped/#plfa_plfa-part2-Untyped-8278" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8279" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-8288" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8291" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8292" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8299" href="../Untyped/#plfa_plfa-part2-Untyped-8271" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8301" href="../Untyped/#plfa_plfa-part2-Untyped-8274" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-8302" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8304" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8306" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8307" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8314" href="../Untyped/#plfa_plfa-part2-Untyped-8271" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8316" href="../Untyped/#plfa_plfa-part2-Untyped-8278" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8317" class="Symbol">)</a>
</pre><p>这和之前一样，只是我们项的形式更少了。</p><h2 id="同时替换">同时替换</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-exts"></a><a id="plfa_plfa-part2-Untyped-8606" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8611" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8613" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8615" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8616" href="../Untyped/#plfa_plfa-part2-Untyped-8616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8618" href="../Untyped/#plfa_plfa-part2-Untyped-8618" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8619" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8621" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8623" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8626" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8627" href="../Untyped/#plfa_plfa-part2-Untyped-8627" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8628" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8630" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8632" href="../Untyped/#plfa_plfa-part2-Untyped-8616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8634" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8636" href="../Untyped/#plfa_plfa-part2-Untyped-8627" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8638" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8640" href="../Untyped/#plfa_plfa-part2-Untyped-8618" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8642" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8644" href="../Untyped/#plfa_plfa-part2-Untyped-8627" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8645" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8651" class="Comment">----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8688" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8690" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8693" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8694" href="../Untyped/#plfa_plfa-part2-Untyped-8694" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8696" href="../Untyped/#plfa_plfa-part2-Untyped-8696" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-8697" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8699" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8701" href="../Untyped/#plfa_plfa-part2-Untyped-8616" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8703" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8705" href="../Untyped/#plfa_plfa-part2-Untyped-8696" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8707" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8709" href="../Untyped/#plfa_plfa-part2-Untyped-8694" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8711" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8713" href="../Untyped/#plfa_plfa-part2-Untyped-8618" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8715" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8717" href="../Untyped/#plfa_plfa-part2-Untyped-8696" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8719" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8721" href="../Untyped/#plfa_plfa-part2-Untyped-8694" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8722" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8724" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8729" href="../Untyped/#plfa_plfa-part2-Untyped-8729" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8731" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-8738" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8741" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8743" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-8745" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8750" href="../Untyped/#plfa_plfa-part2-Untyped-8750" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8752" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8753" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-8755" href="../Untyped/#plfa_plfa-part2-Untyped-8755" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8756" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-8759" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8762" href="../Untyped/#plfa_plfa-part2-Untyped-8079" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8769" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-8772" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8773" href="../Untyped/#plfa_plfa-part2-Untyped-8750" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8775" href="../Untyped/#plfa_plfa-part2-Untyped-8755" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8776" class="Symbol">)</a>
</pre><p>一样，我们可以把所有的 <code>A</code> 和 <code>B</code> 替换成 <code>★</code>。</p><p>现在定义替换就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst"></a><a id="plfa_plfa-part2-Untyped-8967" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-8973" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8975" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8977" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8978" href="../Untyped/#plfa_plfa-part2-Untyped-8978" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8980" href="../Untyped/#plfa_plfa-part2-Untyped-8980" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8981" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8985" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8987" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8990" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8991" href="../Untyped/#plfa_plfa-part2-Untyped-8991" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8992" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8994" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8996" href="../Untyped/#plfa_plfa-part2-Untyped-8978" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8998" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9000" href="../Untyped/#plfa_plfa-part2-Untyped-8991" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9002" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9004" href="../Untyped/#plfa_plfa-part2-Untyped-8980" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9006" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9008" href="../Untyped/#plfa_plfa-part2-Untyped-8991" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9009" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-9015" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-9042" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9044" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-9047" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9048" href="../Untyped/#plfa_plfa-part2-Untyped-9048" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9049" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9051" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9053" href="../Untyped/#plfa_plfa-part2-Untyped-8978" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9055" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9057" href="../Untyped/#plfa_plfa-part2-Untyped-9048" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9059" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9061" href="../Untyped/#plfa_plfa-part2-Untyped-8980" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9063" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9065" href="../Untyped/#plfa_plfa-part2-Untyped-9048" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9066" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9068" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9074" href="../Untyped/#plfa_plfa-part2-Untyped-9074" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9076" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9077" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9079" href="../Untyped/#plfa_plfa-part2-Untyped-9079" class="Bound">k</a><a id="plfa_plfa-part2-Untyped-9080" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9091" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9094" href="../Untyped/#plfa_plfa-part2-Untyped-9074" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9096" href="../Untyped/#plfa_plfa-part2-Untyped-9079" class="Bound">k</a>
<a id="plfa_plfa-part2-Untyped-9098" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9104" href="../Untyped/#plfa_plfa-part2-Untyped-9104" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9106" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9107" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9109" href="../Untyped/#plfa_plfa-part2-Untyped-9109" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9110" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9121" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9124" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9126" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9127" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9133" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9134" href="../Untyped/#plfa_plfa-part2-Untyped-8606" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-9139" href="../Untyped/#plfa_plfa-part2-Untyped-9104" class="Bound">σ</a><a id="plfa_plfa-part2-Untyped-9140" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9142" href="../Untyped/#plfa_plfa-part2-Untyped-9109" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9143" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9145" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9151" href="../Untyped/#plfa_plfa-part2-Untyped-9151" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9153" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9154" href="../Untyped/#plfa_plfa-part2-Untyped-9154" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-9156" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9158" href="../Untyped/#plfa_plfa-part2-Untyped-9158" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9159" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-9168" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9171" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9172" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9178" href="../Untyped/#plfa_plfa-part2-Untyped-9151" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9180" href="../Untyped/#plfa_plfa-part2-Untyped-9154" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-9181" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9183" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9185" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9186" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9192" href="../Untyped/#plfa_plfa-part2-Untyped-9151" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9194" href="../Untyped/#plfa_plfa-part2-Untyped-9158" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9195" class="Symbol">)</a>
</pre><p>同样，这和之前一样，只是我们项的形式更少了。</p><h2 id="单个替换">单个替换</h2><p>定义替换一个自由变量的特例很简单：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst-zero"></a><a id="plfa_plfa-part2-Untyped-9463" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9474" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9476" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9478" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9479" href="../Untyped/#plfa_plfa-part2-Untyped-9479" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9481" href="../Untyped/#plfa_plfa-part2-Untyped-9481" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9482" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9484" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9486" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9487" href="../Untyped/#plfa_plfa-part2-Untyped-9479" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9489" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9491" href="../Untyped/#plfa_plfa-part2-Untyped-9481" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9492" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9494" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9496" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9498" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9499" href="../Untyped/#plfa_plfa-part2-Untyped-9499" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9500" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9502" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9504" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9505" href="../Untyped/#plfa_plfa-part2-Untyped-9479" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9507" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9509" href="../Untyped/#plfa_plfa-part2-Untyped-9481" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9511" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9513" href="../Untyped/#plfa_plfa-part2-Untyped-9499" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9514" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9516" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9518" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9519" href="../Untyped/#plfa_plfa-part2-Untyped-9479" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9521" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9523" href="../Untyped/#plfa_plfa-part2-Untyped-9499" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9524" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9526" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9537" href="../Untyped/#plfa_plfa-part2-Untyped-9537" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9539" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-9546" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9549" href="../Untyped/#plfa_plfa-part2-Untyped-9537" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-9551" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9562" href="../Untyped/#plfa_plfa-part2-Untyped-9562" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9564" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9565" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-9567" href="../Untyped/#plfa_plfa-part2-Untyped-9567" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-9568" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-9571" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9574" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9576" href="../Untyped/#plfa_plfa-part2-Untyped-9567" class="Bound">x</a>

<a id="plfa_plfa-part2-Untyped-_[_]"></a><a id="plfa_plfa-part2-Untyped-9579" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9584" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9586" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9588" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9589" href="../Untyped/#plfa_plfa-part2-Untyped-9589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9591" href="../Untyped/#plfa_plfa-part2-Untyped-9591" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9593" href="../Untyped/#plfa_plfa-part2-Untyped-9593" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9594" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Untyped-9604" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9606" href="../Untyped/#plfa_plfa-part2-Untyped-9589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9608" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9610" href="../Untyped/#plfa_plfa-part2-Untyped-9593" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9612" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9614" href="../Untyped/#plfa_plfa-part2-Untyped-9591" class="Bound">A</a>
        <a id="plfa_plfa-part2-Untyped-9624" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9626" href="../Untyped/#plfa_plfa-part2-Untyped-9589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9628" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9630" href="../Untyped/#plfa_plfa-part2-Untyped-9593" class="Bound">B</a>
          <a id="plfa_plfa-part2-Untyped-9642" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Untyped-9660" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9662" href="../Untyped/#plfa_plfa-part2-Untyped-9589" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9664" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9666" href="../Untyped/#plfa_plfa-part2-Untyped-9591" class="Bound">A</a>
<a id="plfa_plfa-part2-Untyped-9668" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9673" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9674" href="../Untyped/#plfa_plfa-part2-Untyped-9674" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9675" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9677" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9678" href="../Untyped/#plfa_plfa-part2-Untyped-9678" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9679" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9681" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9682" href="../Untyped/#plfa_plfa-part2-Untyped-9682" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9683" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9685" href="../Untyped/#plfa_plfa-part2-Untyped-9685" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-9687" href="../Untyped/#plfa_plfa-part2-Untyped-9687" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9689" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9692" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9698" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9699" href="../Untyped/#plfa_plfa-part2-Untyped-9674" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9701" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9703" href="../Untyped/#plfa_plfa-part2-Untyped-9682" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9704" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9706" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9707" href="../Untyped/#plfa_plfa-part2-Untyped-9674" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9708" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9710" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9711" href="../Untyped/#plfa_plfa-part2-Untyped-9463" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9722" href="../Untyped/#plfa_plfa-part2-Untyped-9687" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9723" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9725" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9726" href="../Untyped/#plfa_plfa-part2-Untyped-9678" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9727" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9729" href="../Untyped/#plfa_plfa-part2-Untyped-9685" class="Bound">N</a>
</pre><h2 id="中性项和范式">中性项和范式</h2><p>直到项完全范式化之前，规则可以继续进行。 因此，我们现在在意的是<strong>范式</strong>（Normal Form），而不是值。 范式的项由与<strong>中性项</strong>（Neutral Terms）共同递归定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10096" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Neutral"></a><a id="plfa_plfa-part2-Untyped-10101" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10109" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10111" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10113" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10114" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10116" href="../Untyped/#plfa_plfa-part2-Untyped-10116" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10117" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10119" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10121" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10123" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10125" href="../Untyped/#plfa_plfa-part2-Untyped-10116" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10127" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10129" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Untyped-10133" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Normal"></a><a id="plfa_plfa-part2-Untyped-10138" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a>  <a id="plfa_plfa-part2-Untyped-10146" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10148" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10150" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10151" href="../Untyped/#plfa_plfa-part2-Untyped-10151" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10153" href="../Untyped/#plfa_plfa-part2-Untyped-10153" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10154" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10156" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10158" href="../Untyped/#plfa_plfa-part2-Untyped-10151" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10160" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10162" href="../Untyped/#plfa_plfa-part2-Untyped-10153" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10164" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10166" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
</pre><p>中性项由于我们需要考虑带有自由变量的开放项而产生。 一个项在其为变量时，或者是将中性项应用于范式项时，是一个中性项：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10439" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10444" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10452" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Neutral.`_"></a><a id="plfa_plfa-part2-Untyped-10461" href="../Untyped/#plfa_plfa-part2-Untyped-10461" class="InductiveConstructor Operator">`_</a>  <a id="plfa_plfa-part2-Untyped-10465" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10467" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10469" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10470" href="../Untyped/#plfa_plfa-part2-Untyped-10470" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10472" href="../Untyped/#plfa_plfa-part2-Untyped-10472" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10473" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10475" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10476" href="../Untyped/#plfa_plfa-part2-Untyped-10476" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-10478" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10480" href="../Untyped/#plfa_plfa-part2-Untyped-10470" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10482" href="../Untyped/#plfa_plfa-part2-Untyped-4377" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-10484" href="../Untyped/#plfa_plfa-part2-Untyped-10472" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10485" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-10493" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Untyped-10511" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10513" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10521" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10522" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-10524" href="../Untyped/#plfa_plfa-part2-Untyped-10476" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-10525" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Untyped-Neutral._·_"></a><a id="plfa_plfa-part2-Untyped-10530" href="../Untyped/#plfa_plfa-part2-Untyped-10530" class="InductiveConstructor Operator">_·_</a>  <a id="plfa_plfa-part2-Untyped-10535" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10537" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10539" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10540" href="../Untyped/#plfa_plfa-part2-Untyped-10540" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10541" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10543" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10544" href="../Untyped/#plfa_plfa-part2-Untyped-10544" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10546" href="../Untyped/#plfa_plfa-part2-Untyped-10546" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10548" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10550" href="../Untyped/#plfa_plfa-part2-Untyped-10540" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10552" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10554" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10555" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10561" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10563" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10571" href="../Untyped/#plfa_plfa-part2-Untyped-10544" class="Bound">L</a>
    <a id="plfa_plfa-part2-Untyped-10577" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10579" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10586" href="../Untyped/#plfa_plfa-part2-Untyped-10546" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10594" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Untyped-10614" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10616" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10624" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10625" href="../Untyped/#plfa_plfa-part2-Untyped-10544" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10627" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-10629" href="../Untyped/#plfa_plfa-part2-Untyped-10546" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-10630" class="Symbol">)</a>
</pre><p>一个项在其为中型项时，或者其为抽象且抽象体是范式时，是一个范式。 我们用 <code>′_</code> 来标记中型项。 如果 <code>`_</code> 一样，它不显眼：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10889" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10894" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10901" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Normal.′_"></a><a id="plfa_plfa-part2-Untyped-10910" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′_</a> <a id="plfa_plfa-part2-Untyped-10913" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10915" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10917" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10918" href="../Untyped/#plfa_plfa-part2-Untyped-10918" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10920" href="../Untyped/#plfa_plfa-part2-Untyped-10920" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10921" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10923" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10924" href="../Untyped/#plfa_plfa-part2-Untyped-10924" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10926" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10928" href="../Untyped/#plfa_plfa-part2-Untyped-10918" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10930" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10932" href="../Untyped/#plfa_plfa-part2-Untyped-10920" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10933" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10939" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10941" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10949" href="../Untyped/#plfa_plfa-part2-Untyped-10924" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10957" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-10971" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10973" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10980" href="../Untyped/#plfa_plfa-part2-Untyped-10924" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Normal.ƛ_"></a><a id="plfa_plfa-part2-Untyped-10985" href="../Untyped/#plfa_plfa-part2-Untyped-10985" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-10989" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10991" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10993" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10994" href="../Untyped/#plfa_plfa-part2-Untyped-10994" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10995" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10997" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10998" href="../Untyped/#plfa_plfa-part2-Untyped-10998" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-11000" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11002" href="../Untyped/#plfa_plfa-part2-Untyped-10994" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-11004" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-11006" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-11008" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-11010" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-11011" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-11017" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11019" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11026" href="../Untyped/#plfa_plfa-part2-Untyped-10998" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-11034" class="Comment">------------</a>
    <a id="plfa_plfa-part2-Untyped-11051" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11053" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11060" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11061" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11063" href="../Untyped/#plfa_plfa-part2-Untyped-10998" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-11064" class="Symbol">)</a>
</pre><p>我们引入一种缩略用法，来提供变量是中型项的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#′_"></a><a id="plfa_plfa-part2-Untyped-11195" href="../Untyped/#plfa_plfa-part2-Untyped-11195" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11199" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11201" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11203" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11204" href="../Untyped/#plfa_plfa-part2-Untyped-11204" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11205" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11207" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11208" href="../Untyped/#plfa_plfa-part2-Untyped-11208" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11210" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11212" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-11213" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-11215" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11216" href="../Untyped/#plfa_plfa-part2-Untyped-11216" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-11220" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11222" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-11227" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11228" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-11232" href="../Untyped/#plfa_plfa-part2-Untyped-11208" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11234" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-11237" href="../Untyped/#plfa_plfa-part2-Untyped-6166" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-11244" href="../Untyped/#plfa_plfa-part2-Untyped-11204" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11245" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-11248" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11250" href="../Untyped/#plfa_plfa-part2-Untyped-10101" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11258" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11259" href="../Untyped/#plfa_plfa-part2-Untyped-11204" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11260" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11262" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11263" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-11265" href="../Untyped/#plfa_plfa-part2-Untyped-11208" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-11266" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-11268" href="../Untyped/#plfa_plfa-part2-Untyped-11195" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11272" href="../Untyped/#plfa_plfa-part2-Untyped-11272" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11274" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11275" href="../Untyped/#plfa_plfa-part2-Untyped-11275" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11278" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-11281" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-11284" href="../Untyped/#plfa_plfa-part2-Untyped-10461" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-11286" href="../Untyped/#plfa_plfa-part2-Untyped-6246" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-11292" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11293" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-11303" href="../Untyped/#plfa_plfa-part2-Untyped-11275" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11306" class="Symbol">)</a>
</pre><p>比如说，下面是 Church 数二为范式的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11438" href="../Untyped/#plfa_plfa-part2-Untyped-11438" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-11440" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11442" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11449" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11450" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-11455" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11456" href="../Untyped/#plfa_plfa-part2-Untyped-3872" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-11457" class="Symbol">})</a>
<a id="plfa_plfa-part2-Untyped-11460" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-11462" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-11464" href="../Untyped/#plfa_plfa-part2-Untyped-10985" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11466" href="../Untyped/#plfa_plfa-part2-Untyped-10985" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11468" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11469" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11471" href="../Untyped/#plfa_plfa-part2-Untyped-11195" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11474" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11476" href="../Untyped/#plfa_plfa-part2-Untyped-10530" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11478" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11479" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11481" href="../Untyped/#plfa_plfa-part2-Untyped-11195" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11484" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11486" href="../Untyped/#plfa_plfa-part2-Untyped-10530" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11488" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11489" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11491" href="../Untyped/#plfa_plfa-part2-Untyped-11195" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11494" class="Number">0</a><a id="plfa_plfa-part2-Untyped-11495" class="Symbol">)))</a>
</pre><p>某一项为范式的证明与其本身基本一致，其中包括的额外的撇来标记中型项，并且其中使用了 <code>#′</code> 而不是 <code>#</code>。</p><h2 id="规约步骤">规约步骤</h2><p>规约规则从传值调用改为传名调用，以实现完全范式化：</p><ul><li>规则 <code>ξ₁</code> 与简单类型的 λ 演算一样，保持不变。</li></ul><ul><li>规则 <code>ξ₂</code> 之中，项 <code>L</code> 是值的要求现在被丢弃了。 所以这条规则现在与 <code>ξ₁</code> 重合，且规约是<strong>非确定的</strong>。 现在可选择规约 <code>L</code> 或者 <code>M</code> 中的项。</li></ul><ul><li>规则 <code>β</code> 之中，参数是值的要求现在被丢弃了，对应了传名调用的求值。 这引入了更多的非确定性，由于 <code>β</code> 与 <code>ξ₂</code> 在参数中有可规约项时重合。</li></ul><ul><li>额外了新规则 <code>ζ</code>，使得 λ 抽象下可以继续规约。</li></ul><p>这里是形式化的规则：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-12860" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-12866" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-12868" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">_—→_</a>

<a id="plfa_plfa-part2-Untyped-12874" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—→_"></a><a id="plfa_plfa-part2-Untyped-12879" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">_—→_</a> <a id="plfa_plfa-part2-Untyped-12884" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12886" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12888" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12889" href="../Untyped/#plfa_plfa-part2-Untyped-12889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12891" href="../Untyped/#plfa_plfa-part2-Untyped-12891" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12892" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12894" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12896" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12897" href="../Untyped/#plfa_plfa-part2-Untyped-12889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12899" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12901" href="../Untyped/#plfa_plfa-part2-Untyped-12891" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12902" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12904" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12906" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12907" href="../Untyped/#plfa_plfa-part2-Untyped-12889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12909" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12911" href="../Untyped/#plfa_plfa-part2-Untyped-12891" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12912" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12914" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12916" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-12920" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₁"></a><a id="plfa_plfa-part2-Untyped-12929" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-12932" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12934" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12936" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12937" href="../Untyped/#plfa_plfa-part2-Untyped-12937" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-12938" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12940" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12941" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12943" href="../Untyped/#plfa_plfa-part2-Untyped-12943" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12946" href="../Untyped/#plfa_plfa-part2-Untyped-12946" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12948" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12950" href="../Untyped/#plfa_plfa-part2-Untyped-12937" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12952" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12954" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-12955" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-12961" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12963" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12965" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12968" href="../Untyped/#plfa_plfa-part2-Untyped-12943" class="Bound">L′</a>
      <a id="plfa_plfa-part2-Untyped-12977" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-12998" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13000" href="../Untyped/#plfa_plfa-part2-Untyped-12941" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13002" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13004" href="../Untyped/#plfa_plfa-part2-Untyped-12946" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13006" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13009" href="../Untyped/#plfa_plfa-part2-Untyped-12943" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-13012" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13014" href="../Untyped/#plfa_plfa-part2-Untyped-12946" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₂"></a><a id="plfa_plfa-part2-Untyped-13019" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-13022" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13024" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13026" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13027" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13028" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13030" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13031" href="../Untyped/#plfa_plfa-part2-Untyped-13031" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13033" href="../Untyped/#plfa_plfa-part2-Untyped-13033" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13035" href="../Untyped/#plfa_plfa-part2-Untyped-13035" class="Bound">M′</a> <a id="plfa_plfa-part2-Untyped-13038" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13040" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13042" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13044" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13045" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13051" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13053" href="../Untyped/#plfa_plfa-part2-Untyped-13033" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13055" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13058" href="../Untyped/#plfa_plfa-part2-Untyped-13035" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Untyped-13067" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13088" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13090" href="../Untyped/#plfa_plfa-part2-Untyped-13031" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13092" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13094" href="../Untyped/#plfa_plfa-part2-Untyped-13033" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13096" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13099" href="../Untyped/#plfa_plfa-part2-Untyped-13031" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13101" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13103" href="../Untyped/#plfa_plfa-part2-Untyped-13035" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.β"></a><a id="plfa_plfa-part2-Untyped-13109" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-13111" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13113" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13115" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13116" href="../Untyped/#plfa_plfa-part2-Untyped-13116" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13117" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13119" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13120" href="../Untyped/#plfa_plfa-part2-Untyped-13120" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13122" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13124" href="../Untyped/#plfa_plfa-part2-Untyped-13116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13126" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13128" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13130" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13132" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13133" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13135" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13136" href="../Untyped/#plfa_plfa-part2-Untyped-13136" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13138" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13140" href="../Untyped/#plfa_plfa-part2-Untyped-13116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13142" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13144" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13145" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Untyped-13153" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part2-Untyped-13191" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13193" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13194" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13196" href="../Untyped/#plfa_plfa-part2-Untyped-13120" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-13197" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13199" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13201" href="../Untyped/#plfa_plfa-part2-Untyped-13136" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13203" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13206" href="../Untyped/#plfa_plfa-part2-Untyped-13120" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13208" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">[</a> <a id="plfa_plfa-part2-Untyped-13210" href="../Untyped/#plfa_plfa-part2-Untyped-13136" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13212" href="../Untyped/#plfa_plfa-part2-Untyped-9579" class="Function Operator">]</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ζ"></a><a id="plfa_plfa-part2-Untyped-13217" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-13219" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13221" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13223" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13224" href="../Untyped/#plfa_plfa-part2-Untyped-13224" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13225" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13227" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13228" href="../Untyped/#plfa_plfa-part2-Untyped-13228" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13230" href="../Untyped/#plfa_plfa-part2-Untyped-13230" class="Bound">N′</a> <a id="plfa_plfa-part2-Untyped-13233" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13235" href="../Untyped/#plfa_plfa-part2-Untyped-13224" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13237" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13239" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13241" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13243" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13244" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13250" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13252" href="../Untyped/#plfa_plfa-part2-Untyped-13228" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13254" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13257" href="../Untyped/#plfa_plfa-part2-Untyped-13230" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Untyped-13266" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Untyped-13282" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13284" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13286" href="../Untyped/#plfa_plfa-part2-Untyped-13228" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13288" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13291" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13293" href="../Untyped/#plfa_plfa-part2-Untyped-13230" class="Bound">N′</a>
</pre><h4 id="练习-variant-1-习题">练习 (<code>variant-1</code>) （习题）</h4><p>如果我们想要传值调用，但需要项范式化其中的项的话，要怎么样修改规则？ 假设 <code>β</code> 在除了两个项都是范式时，不允许规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-13627" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-variant-2-习题">练习 (<code>variant-2</code>) （习题）</h4><p>如果我们想要传值调用，但项不在 λ 之下规约的话，要怎么样修改规则？ 假设 <code>β</code> 在双项均为值（即 λ 抽象）时允许规约。 <code>2+2ᶜ</code> 在这种情况下会规约成什么？</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14060" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="自反传递闭包">自反传递闭包</h2><p>我们复制粘贴之前的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14210" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14217" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14219" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">_—↠_</a>
<a id="plfa_plfa-part2-Untyped-14224" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14231" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14233" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin_</a>
<a id="plfa_plfa-part2-Untyped-14240" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-14247" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14249" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="plfa_plfa-part2-Untyped-14257" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14264" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-14266" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Untyped-14270" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—↠_"></a><a id="plfa_plfa-part2-Untyped-14275" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">_—↠_</a> <a id="plfa_plfa-part2-Untyped-14280" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14281" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14283" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14284" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14286" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14288" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14289" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14291" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14293" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14294" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14296" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14298" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14299" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14301" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14303" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14304" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14306" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14308" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-14312" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._∎"></a><a id="plfa_plfa-part2-Untyped-14321" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Untyped-14324" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14326" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14327" href="../Untyped/#plfa_plfa-part2-Untyped-14327" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14329" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14331" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14333" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14335" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14336" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-14344" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14355" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14357" href="../Untyped/#plfa_plfa-part2-Untyped-14327" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14359" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14362" href="../Untyped/#plfa_plfa-part2-Untyped-14327" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_.step—→"></a><a id="plfa_plfa-part2-Untyped-14367" href="../Untyped/#plfa_plfa-part2-Untyped-14367" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14374" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14376" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14377" href="../Untyped/#plfa_plfa-part2-Untyped-14377" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14379" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14381" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14383" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14385" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14386" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14388" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14389" href="../Untyped/#plfa_plfa-part2-Untyped-14389" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14391" href="../Untyped/#plfa_plfa-part2-Untyped-14391" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14393" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14395" href="../Untyped/#plfa_plfa-part2-Untyped-14281" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14397" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14399" href="../Untyped/#plfa_plfa-part2-Untyped-14283" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14400" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-14406" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14408" href="../Untyped/#plfa_plfa-part2-Untyped-14389" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14410" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14413" href="../Untyped/#plfa_plfa-part2-Untyped-14391" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14419" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14421" href="../Untyped/#plfa_plfa-part2-Untyped-14377" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14423" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-14426" href="../Untyped/#plfa_plfa-part2-Untyped-14389" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-14434" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14445" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14447" href="../Untyped/#plfa_plfa-part2-Untyped-14377" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14449" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14452" href="../Untyped/#plfa_plfa-part2-Untyped-14391" class="Bound">N</a>

<a id="plfa_plfa-part2-Untyped-14455" class="Keyword">pattern</a> <a id="plfa_plfa-part2-Untyped-_—→⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-14463" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-14471" href="../Untyped/#plfa_plfa-part2-Untyped-14492" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14473" href="../Untyped/#plfa_plfa-part2-Untyped-14499" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-14478" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14483" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14485" href="../Untyped/#plfa_plfa-part2-Untyped-14367" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14492" href="../Untyped/#plfa_plfa-part2-Untyped-14492" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14494" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14499" href="../Untyped/#plfa_plfa-part2-Untyped-14499" class="Bound">L—→M</a>

<a id="plfa_plfa-part2-Untyped-begin_"></a><a id="plfa_plfa-part2-Untyped-14505" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin_</a> <a id="plfa_plfa-part2-Untyped-14512" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14514" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14516" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14517" href="../Untyped/#plfa_plfa-part2-Untyped-14517" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14519" href="../Untyped/#plfa_plfa-part2-Untyped-14519" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14520" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14522" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14523" href="../Untyped/#plfa_plfa-part2-Untyped-14523" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14525" href="../Untyped/#plfa_plfa-part2-Untyped-14525" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14527" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14529" href="../Untyped/#plfa_plfa-part2-Untyped-14517" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14531" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14533" href="../Untyped/#plfa_plfa-part2-Untyped-14519" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14534" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-14538" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14540" href="../Untyped/#plfa_plfa-part2-Untyped-14523" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14542" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14545" href="../Untyped/#plfa_plfa-part2-Untyped-14525" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14551" class="Comment">------</a>
  <a id="plfa_plfa-part2-Untyped-14560" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14562" href="../Untyped/#plfa_plfa-part2-Untyped-14523" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14564" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14567" href="../Untyped/#plfa_plfa-part2-Untyped-14525" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-14569" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin</a> <a id="plfa_plfa-part2-Untyped-14575" href="../Untyped/#plfa_plfa-part2-Untyped-14575" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14580" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14582" href="../Untyped/#plfa_plfa-part2-Untyped-14575" class="Bound">M—↠N</a>
</pre><h2 id="规约序列的例子">规约序列的例子</h2><p>这里是二加二得四的展示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14730" href="../Untyped/#plfa_plfa-part2-Untyped-14730" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-14732" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14734" href="../Untyped/#plfa_plfa-part2-Untyped-6985" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-14739" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14742" href="../Untyped/#plfa_plfa-part2-Untyped-6843" class="Function">fourᶜ</a>
<a id="plfa_plfa-part2-Untyped-14748" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-14750" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Untyped-14754" href="../Untyped/#plfa_plfa-part2-Untyped-14505" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Untyped-14764" href="../Untyped/#plfa_plfa-part2-Untyped-6914" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-14770" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14772" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14777" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14779" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14786" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14790" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14793" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14795" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14801" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14802" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14804" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14806" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14808" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14813" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14815" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14817" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14819" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14821" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14822" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14824" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14826" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14828" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14830" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14832" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14834" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14836" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14837" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14840" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14842" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14849" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14853" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14855" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14861" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14863" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14865" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14870" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14872" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14874" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14876" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14878" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14879" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14884" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14886" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14888" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14890" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14892" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14894" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14895" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-14899" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14903" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14905" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14906" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14908" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14909" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14912" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14913" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14916" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14922" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14924" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14926" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-14928" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14930" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14932" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14934" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14936" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14937" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14939" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14941" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14943" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14945" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14946" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14949" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14951" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14952" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14957" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14959" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14961" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14963" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14965" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14967" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14968" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-14973" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14977" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14979" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14980" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14982" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14983" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14985" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14991" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14993" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14995" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14997" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14999" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15001" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15002" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15004" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15006" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15008" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15009" href="../Untyped/#plfa_plfa-part2-Untyped-6790" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-15014" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15016" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15018" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15020" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15022" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15024" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15025" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15030" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15034" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15036" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15037" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15039" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15040" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15043" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15044" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15047" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15048" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-15051" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15052" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-15057" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15063" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15065" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15067" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15069" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15071" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15073" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15074" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15076" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15078" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15080" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15082" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15084" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15086" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15088" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15090" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15091" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15093" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15095" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15097" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15099" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15100" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15103" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15105" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15107" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15108" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15113" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15117" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15119" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15120" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15122" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15123" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15126" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15127" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15130" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15131" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-15135" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part2-Untyped-15140" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15142" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15143" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15145" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15147" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15149" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15151" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15152" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15154" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15156" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15159" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15161" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15163" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15166" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15168" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15170" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15172" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15174" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15175" class="Symbol">))))</a>
  <a id="plfa_plfa-part2-Untyped-15182" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
</pre><p>在两步之后，顶层项是一个抽象，而 <code>ζ</code> 规则支持了剩余的范式化。</p><h2 id="可进性">可进性</h2><p>可进性相应地也变更了。之前我们说每个项要么是值，要么可以规约一步；我们现在说每个项要么是范式，要么可以规约一步。</p><p>之前，可进性只应用于封闭的、良类型的项。 我们没有考虑诸如应用一个不是函数的项（如 <code>`zero`</code>）或者是带有自由变量的项。 现在我们展示的包含了开放的、良作用域的项。 范式的定义容许了自由变量，且我们也有不是函数的项。</p><p>如果一个项可以规约一步，或其为范式，那么它具有可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-16203" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Progress"></a><a id="plfa_plfa-part2-Untyped-16208" href="../Untyped/#plfa_plfa-part2-Untyped-16208" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16217" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16218" href="../Untyped/#plfa_plfa-part2-Untyped-16218" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16220" href="../Untyped/#plfa_plfa-part2-Untyped-16220" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16221" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16223" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16224" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16226" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16228" href="../Untyped/#plfa_plfa-part2-Untyped-16218" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16230" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16232" href="../Untyped/#plfa_plfa-part2-Untyped-16220" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16233" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16235" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16237" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-16241" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Progress.step"></a><a id="plfa_plfa-part2-Untyped-16250" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16255" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16257" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16259" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16260" href="../Untyped/#plfa_plfa-part2-Untyped-16260" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-16262" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16264" href="../Untyped/#plfa_plfa-part2-Untyped-16218" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16266" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16268" href="../Untyped/#plfa_plfa-part2-Untyped-16220" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16269" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-16275" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16277" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16279" href="../Untyped/#plfa_plfa-part2-Untyped-12879" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-16282" href="../Untyped/#plfa_plfa-part2-Untyped-16260" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-16290" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16305" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16307" href="../Untyped/#plfa_plfa-part2-Untyped-16208" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16316" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Progress.done"></a><a id="plfa_plfa-part2-Untyped-16321" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16326" class="Symbol">:</a>
      <a id="plfa_plfa-part2-Untyped-16334" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-16341" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-16349" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16364" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16366" href="../Untyped/#plfa_plfa-part2-Untyped-16208" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16375" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="Bound">M</a>
</pre><p>如果一个项是良作用域的，那么它满足可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-progress"></a><a id="plfa_plfa-part2-Untyped-16476" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16485" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16487" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16489" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16490" href="../Untyped/#plfa_plfa-part2-Untyped-16490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16492" href="../Untyped/#plfa_plfa-part2-Untyped-16492" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16493" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16495" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16497" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16498" href="../Untyped/#plfa_plfa-part2-Untyped-16498" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16500" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16502" href="../Untyped/#plfa_plfa-part2-Untyped-16490" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16504" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16506" href="../Untyped/#plfa_plfa-part2-Untyped-16492" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16507" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16509" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16511" href="../Untyped/#plfa_plfa-part2-Untyped-16208" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16520" href="../Untyped/#plfa_plfa-part2-Untyped-16498" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16522" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16531" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16532" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16534" href="../Untyped/#plfa_plfa-part2-Untyped-16534" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16535" class="Symbol">)</a>                                 <a id="plfa_plfa-part2-Untyped-16569" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16572" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16577" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16578" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16580" href="../Untyped/#plfa_plfa-part2-Untyped-10461" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16582" href="../Untyped/#plfa_plfa-part2-Untyped-16534" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16583" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16585" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16594" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16595" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16597" href="../Untyped/#plfa_plfa-part2-Untyped-16597" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16598" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-16601" class="Keyword">with</a>  <a id="plfa_plfa-part2-Untyped-16607" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16616" href="../Untyped/#plfa_plfa-part2-Untyped-16597" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-16618" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16622" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16624" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16629" href="../Untyped/#plfa_plfa-part2-Untyped-16629" class="Bound">N—→N′</a>                               <a id="plfa_plfa-part2-Untyped-16665" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16668" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16673" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16674" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-16676" href="../Untyped/#plfa_plfa-part2-Untyped-16629" class="Bound">N—→N′</a><a id="plfa_plfa-part2-Untyped-16681" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16683" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16687" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16689" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16694" href="../Untyped/#plfa_plfa-part2-Untyped-16694" class="Bound">NrmN</a>                                <a id="plfa_plfa-part2-Untyped-16730" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16733" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16738" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16739" href="../Untyped/#plfa_plfa-part2-Untyped-10985" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16741" href="../Untyped/#plfa_plfa-part2-Untyped-16694" class="Bound">NrmN</a><a id="plfa_plfa-part2-Untyped-16745" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16747" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16756" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16757" href="../Untyped/#plfa_plfa-part2-Untyped-5457" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16759" href="../Untyped/#plfa_plfa-part2-Untyped-16759" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-16761" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16763" href="../Untyped/#plfa_plfa-part2-Untyped-16763" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16764" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16766" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16771" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16780" href="../Untyped/#plfa_plfa-part2-Untyped-16763" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16782" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16786" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16788" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16793" href="../Untyped/#plfa_plfa-part2-Untyped-16793" class="Bound">M—→M′</a>                               <a id="plfa_plfa-part2-Untyped-16829" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16832" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16837" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16838" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-16841" href="../Untyped/#plfa_plfa-part2-Untyped-16793" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-16846" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16848" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16852" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16854" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16859" href="../Untyped/#plfa_plfa-part2-Untyped-16859" class="Bound">NrmM</a>                                <a id="plfa_plfa-part2-Untyped-16895" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16898" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16903" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16904" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16906" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16907" href="../Untyped/#plfa_plfa-part2-Untyped-10461" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16909" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16910" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16912" href="../Untyped/#plfa_plfa-part2-Untyped-10530" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16914" href="../Untyped/#plfa_plfa-part2-Untyped-16859" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-16918" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16920" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16929" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-16931" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16933" href="../Untyped/#plfa_plfa-part2-Untyped-16933" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16934" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16936" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16938" href="../Untyped/#plfa_plfa-part2-Untyped-16938" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16939" class="Symbol">)</a>                           <a id="plfa_plfa-part2-Untyped-16967" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16970" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16975" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a>
<a id="plfa_plfa-part2-Untyped-16977" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16986" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16987" href="../Untyped/#plfa_plfa-part2-Untyped-16987" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-16988" class="Symbol">@(_</a> <a id="plfa_plfa-part2-Untyped-16992" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16994" class="Symbol">_)</a> <a id="plfa_plfa-part2-Untyped-16997" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16999" href="../Untyped/#plfa_plfa-part2-Untyped-16999" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-17000" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17002" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17007" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17016" href="../Untyped/#plfa_plfa-part2-Untyped-16987" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-17018" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17022" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17024" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17029" href="../Untyped/#plfa_plfa-part2-Untyped-17029" class="Bound">L—→L′</a>                               <a id="plfa_plfa-part2-Untyped-17065" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17068" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17073" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17074" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-17077" href="../Untyped/#plfa_plfa-part2-Untyped-17029" class="Bound">L—→L′</a><a id="plfa_plfa-part2-Untyped-17082" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17084" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17088" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17090" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17095" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17096" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17098" href="../Untyped/#plfa_plfa-part2-Untyped-17098" class="Bound">NeuL</a><a id="plfa_plfa-part2-Untyped-17102" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17104" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17109" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17118" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-17120" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17127" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17129" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17134" href="../Untyped/#plfa_plfa-part2-Untyped-17134" class="Bound">M—→M′</a>                            <a id="plfa_plfa-part2-Untyped-17167" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17170" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17175" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17176" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-17179" href="../Untyped/#plfa_plfa-part2-Untyped-17134" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-17184" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17186" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17193" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17195" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17200" href="../Untyped/#plfa_plfa-part2-Untyped-17200" class="Bound">NrmM</a>                             <a id="plfa_plfa-part2-Untyped-17233" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17236" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17241" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17242" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17244" class="Bound">NeuL</a> <a id="plfa_plfa-part2-Untyped-17249" href="../Untyped/#plfa_plfa-part2-Untyped-10530" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17251" href="../Untyped/#plfa_plfa-part2-Untyped-17200" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-17255" class="Symbol">)</a>
</pre><p>我们对项为良作用域的证明上进行归纳：</p><ul><li>如果项是变量，那么它是范式。 （这与之前的证明不同，以往项为变量的情况被闭项的条件所排除了。）</li><li>如果项是抽象，那么我们对其抽象体应用可进性。 （这与之前的证明不同，以往抽象本身即是值。）：<ul><li>如果它步进，那么整个项由 <code>ζ</code> 步进。</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果项是应用，那么我们考虑其函数子项：<ul><li>如果它是变量，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果它是抽象，那么整个项由 <code>β</code> 步进。</li><li>如果它是应用，我们对其函数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₁</code> 步进。</li><li>如果它是范式，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li></ul></li></ul></li></ul><p>可进性最后一条等式中使用了 <code>P@Q</code> 形式的 <strong>at 模式</strong>，其只在模式 <code>P</code> 和 <code>Q</code> 都匹配时匹配。 <code>@</code> 是 Agda 不允许出现在变量名中的字符之一，因此不需要在它周围加空格。 在此处，这个模式确保了 <code>L</code> 是一个应用。</p><h2 id="求值">求值</h2><p>与之前一样，可进性直接提供了一个求值器。</p><p>汽油由自然数给出：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19465" class="Keyword">record</a> <a id="plfa_plfa-part2-Untyped-Gas"></a><a id="plfa_plfa-part2-Untyped-19472" href="../Untyped/#plfa_plfa-part2-Untyped-19472" class="Record">Gas</a> <a id="plfa_plfa-part2-Untyped-19476" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19478" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19482" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-19490" class="Keyword">constructor</a> <a id="plfa_plfa-part2-Untyped-gas"></a><a id="plfa_plfa-part2-Untyped-19502" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a>
  <a id="plfa_plfa-part2-Untyped-19508" class="Keyword">field</a>
    <a id="plfa_plfa-part2-Untyped-Gas.amount"></a><a id="plfa_plfa-part2-Untyped-19518" href="../Untyped/#plfa_plfa-part2-Untyped-19518" class="Field">amount</a> <a id="plfa_plfa-part2-Untyped-19525" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
</pre><p>当我们的求值器返回项 <code>N</code>，它要么会给出 <code>N</code> 是范式的证明，或者提示汽油耗尽：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19719" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Finished"></a><a id="plfa_plfa-part2-Untyped-19724" href="../Untyped/#plfa_plfa-part2-Untyped-19724" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19733" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-19734" href="../Untyped/#plfa_plfa-part2-Untyped-19734" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19736" href="../Untyped/#plfa_plfa-part2-Untyped-19736" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19737" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-19739" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-19740" href="../Untyped/#plfa_plfa-part2-Untyped-19740" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-19742" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19744" href="../Untyped/#plfa_plfa-part2-Untyped-19734" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19746" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-19748" href="../Untyped/#plfa_plfa-part2-Untyped-19736" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19749" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-19751" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19753" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19757" class="Keyword">where</a>

   <a id="plfa_plfa-part2-Untyped-Finished.done"></a><a id="plfa_plfa-part2-Untyped-19767" href="../Untyped/#plfa_plfa-part2-Untyped-19767" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-19772" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19781" href="../Untyped/#plfa_plfa-part2-Untyped-10138" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-19788" href="../Untyped/#plfa_plfa-part2-Untyped-19740" class="Bound">N</a>
       <a id="plfa_plfa-part2-Untyped-19797" class="Comment">----------</a>
     <a id="plfa_plfa-part2-Untyped-19813" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-19815" href="../Untyped/#plfa_plfa-part2-Untyped-19724" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19824" href="../Untyped/#plfa_plfa-part2-Untyped-19740" class="Bound">N</a>

   <a id="plfa_plfa-part2-Untyped-Finished.out-of-gas"></a><a id="plfa_plfa-part2-Untyped-19830" href="../Untyped/#plfa_plfa-part2-Untyped-19830" class="InductiveConstructor">out-of-gas</a> <a id="plfa_plfa-part2-Untyped-19841" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19850" class="Comment">----------</a>
       <a id="plfa_plfa-part2-Untyped-19868" href="../Untyped/#plfa_plfa-part2-Untyped-19724" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19877" href="../Untyped/#plfa_plfa-part2-Untyped-19740" class="Bound">N</a>
</pre><p>给定类型 <code>A</code> 的项 <code>L</code>，求值器会对于某 <code>N</code> 返回自 <code>L</code> 至 <code>N</code> 的规约序列，并提示规约是否完成：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20119" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Steps"></a><a id="plfa_plfa-part2-Untyped-20124" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20130" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20132" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20134" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20135" href="../Untyped/#plfa_plfa-part2-Untyped-20135" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20137" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20138" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20140" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20142" href="../Untyped/#plfa_plfa-part2-Untyped-20135" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20144" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20146" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-20148" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20150" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-20154" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Steps.steps"></a><a id="plfa_plfa-part2-Untyped-20163" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20169" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20171" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20173" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20174" href="../Untyped/#plfa_plfa-part2-Untyped-20174" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20176" href="../Untyped/#plfa_plfa-part2-Untyped-20176" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20177" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20179" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20180" href="../Untyped/#plfa_plfa-part2-Untyped-20180" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20182" href="../Untyped/#plfa_plfa-part2-Untyped-20182" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-20184" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20186" href="../Untyped/#plfa_plfa-part2-Untyped-20174" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20188" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20190" href="../Untyped/#plfa_plfa-part2-Untyped-20176" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20191" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-20197" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20199" href="../Untyped/#plfa_plfa-part2-Untyped-20180" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20201" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-20204" href="../Untyped/#plfa_plfa-part2-Untyped-20182" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-20210" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20212" href="../Untyped/#plfa_plfa-part2-Untyped-19724" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-20221" href="../Untyped/#plfa_plfa-part2-Untyped-20182" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-20229" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-20244" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20246" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20252" href="../Untyped/#plfa_plfa-part2-Untyped-20180" class="Bound">L</a>
</pre><p>求值器取汽油和项，返回对应的步骤：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-eval"></a><a id="plfa_plfa-part2-Untyped-20368" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20373" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20375" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20377" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20378" href="../Untyped/#plfa_plfa-part2-Untyped-20378" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20380" href="../Untyped/#plfa_plfa-part2-Untyped-20380" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20381" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-20385" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20387" href="../Untyped/#plfa_plfa-part2-Untyped-19472" class="Record">Gas</a>
  <a id="plfa_plfa-part2-Untyped-20393" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20395" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20396" href="../Untyped/#plfa_plfa-part2-Untyped-20396" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20398" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20400" href="../Untyped/#plfa_plfa-part2-Untyped-20378" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20402" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20404" href="../Untyped/#plfa_plfa-part2-Untyped-20380" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20405" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-20411" class="Comment">-----------</a>
  <a id="plfa_plfa-part2-Untyped-20425" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20427" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20433" href="../Untyped/#plfa_plfa-part2-Untyped-20396" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20435" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20440" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20441" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20445" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-20449" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-20454" href="../Untyped/#plfa_plfa-part2-Untyped-20454" class="Bound">L</a>                     <a id="plfa_plfa-part2-Untyped-20476" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20479" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20485" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20486" href="../Untyped/#plfa_plfa-part2-Untyped-20454" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20488" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20489" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20491" href="../Untyped/#plfa_plfa-part2-Untyped-19830" class="InductiveConstructor">out-of-gas</a>
<a id="plfa_plfa-part2-Untyped-20502" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20507" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20508" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20512" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20513" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-20517" href="../Untyped/#plfa_plfa-part2-Untyped-20517" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20518" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-20521" href="../Untyped/#plfa_plfa-part2-Untyped-20521" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20523" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20528" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-20537" href="../Untyped/#plfa_plfa-part2-Untyped-20521" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20539" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20543" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20545" href="../Untyped/#plfa_plfa-part2-Untyped-16321" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20550" href="../Untyped/#plfa_plfa-part2-Untyped-20550" class="Bound">NrmL</a>                          <a id="plfa_plfa-part2-Untyped-20580" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20583" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20589" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20590" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20592" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20593" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20595" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20596" href="../Untyped/#plfa_plfa-part2-Untyped-19767" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20601" href="../Untyped/#plfa_plfa-part2-Untyped-20550" class="Bound">NrmL</a><a id="plfa_plfa-part2-Untyped-20605" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-20607" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20611" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20613" href="../Untyped/#plfa_plfa-part2-Untyped-16250" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-20618" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20619" href="../Untyped/#plfa_plfa-part2-Untyped-20619" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-20620" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20622" href="../Untyped/#plfa_plfa-part2-Untyped-20622" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20627" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20632" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20637" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20638" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20642" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20643" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20645" href="../Untyped/#plfa_plfa-part2-Untyped-20619" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-20647" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-20654" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20656" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20662" href="../Untyped/#plfa_plfa-part2-Untyped-20662" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-20667" href="../Untyped/#plfa_plfa-part2-Untyped-20667" class="Bound">fin</a>                  <a id="plfa_plfa-part2-Untyped-20688" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20691" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20697" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20698" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20700" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-20704" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20709" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-20711" href="../Untyped/#plfa_plfa-part2-Untyped-20662" class="Bound">M—↠N</a><a id="plfa_plfa-part2-Untyped-20715" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20717" href="../Untyped/#plfa_plfa-part2-Untyped-20667" class="Bound">fin</a>
</pre><p>定义与之前一样，除了我们将空上下文 <code>∅</code> 推广至任意上下文 <code>Γ</code>。</p><h2 id="例子">例子</h2><p>我们重复之前的例子。二加二得四，以 Church 数来表示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-21032" href="../Untyped/#plfa_plfa-part2-Untyped-21032" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-21034" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-21036" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-21041" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21042" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-21046" class="Number">100</a><a id="plfa_plfa-part2-Untyped-21049" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21051" href="../Untyped/#plfa_plfa-part2-Untyped-6985" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-21056" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
  <a id="plfa_plfa-part2-Untyped-21060" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a>
   <a id="plfa_plfa-part2-Untyped-21069" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21071" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21078" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21079" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21087" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21088" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21097" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21098" class="InductiveConstructor Operator">ƛ</a>
        <a id="plfa_plfa-part2-Untyped-21108" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21109" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21111" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21112" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21114" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21115" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21118" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21120" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21121" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21126" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21128" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21129" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21131" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21132" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21134" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21135" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21138" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Untyped-21148" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21150" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21152" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21153" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21155" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21156" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21158" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21159" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21163" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21166" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21168" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21169" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21171" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21172" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21175" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21177" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21178" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21180" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21181" class="Symbol">))))))</a>
    <a id="plfa_plfa-part2-Untyped-21192" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21194" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21195" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21197" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21198" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21200" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21201" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21203" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21204" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21206" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21207" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21210" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21212" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21214" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21216" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21217" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21219" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21220" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21223" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21225" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21226" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21228" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21229" class="Symbol">))))</a>
    <a id="plfa_plfa-part2-Untyped-21238" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21240" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21241" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21243" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21244" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21246" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21247" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21249" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21250" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21252" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21253" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21256" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21258" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21260" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21262" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21263" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21265" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21266" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21269" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21271" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21272" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21274" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21275" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21283" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21287" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21290" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21292" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21298" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21299" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21306" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21307" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21315" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21316" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21325" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21326" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21328" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21329" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21331" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21332" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21334" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21335" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21337" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21338" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21341" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21343" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21345" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21347" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21348" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21350" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21351" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21354" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21356" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21357" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21359" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21360" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21365" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21367" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21368" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21370" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21371" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21373" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21374" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21377" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-21386" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21388" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21390" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21391" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21393" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21394" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21396" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21397" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21401" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21403" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21404" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21406" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21407" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21409" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21410" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21413" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21415" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21416" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21418" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21419" class="Symbol">)))))</a>
    <a id="plfa_plfa-part2-Untyped-21429" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21431" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21432" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21434" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21435" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21437" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21438" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21440" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21441" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21443" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21444" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21447" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21449" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21451" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21453" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21454" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21456" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21457" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21460" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21462" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21463" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21465" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21466" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21474" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21478" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21480" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21486" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21492" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21493" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21500" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21501" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21503" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21504" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21506" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21507" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21509" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21510" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21512" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21513" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21516" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21518" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21520" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21522" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21523" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21525" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21526" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21529" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21531" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21532" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21534" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21535" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21540" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21542" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21543" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21545" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21546" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21548" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21549" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21552" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21559" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21561" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21563" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21564" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21566" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21567" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21569" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21570" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21572" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21573" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21576" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21578" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21580" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21582" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21583" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21585" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21586" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21589" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21591" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21592" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21594" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21595" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21600" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21602" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21603" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21605" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21606" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21608" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21609" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21612" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21614" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21615" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21617" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21618" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21625" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21629" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21631" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21632" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21634" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21635" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21638" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21639" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21642" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21648" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21654" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21655" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21662" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21663" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21665" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21666" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21668" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21669" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21671" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21672" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21674" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21675" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21679" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21681" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21683" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21685" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21686" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21688" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21689" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21691" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21692" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21696" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21698" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21699" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21701" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21702" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21706" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21713" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21715" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21717" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21718" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21720" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21721" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21723" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21724" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21726" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21727" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21730" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21732" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21734" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21736" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21737" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21739" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21740" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21743" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21745" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21746" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21748" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21749" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21754" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21756" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21757" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21759" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21760" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21762" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21763" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21766" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21768" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21769" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21771" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21772" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21779" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21783" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21785" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21786" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21788" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21789" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21791" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21797" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21803" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21804" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21811" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21812" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21814" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21815" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21817" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21818" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21821" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21828" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21830" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21832" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21833" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21835" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21836" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21839" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21847" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21849" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21851" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21852" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21854" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21855" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21857" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21858" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21860" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21861" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21864" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21866" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21868" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21870" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21871" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21873" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21874" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21877" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21879" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21880" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21882" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21883" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21888" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21890" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21891" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21893" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21894" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21896" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21897" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21900" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21902" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21903" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21905" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21906" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21914" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21918" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21920" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21921" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21923" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21924" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21927" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21928" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21931" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21932" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21935" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21936" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21941" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21947" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21953" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21954" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21961" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21962" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21964" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21965" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21967" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21968" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21971" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21978" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21980" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21982" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21983" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21985" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21986" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21989" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21997" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21999" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22001" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22002" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22004" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22005" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22007" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22008" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22010" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22011" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22015" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22017" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22019" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22021" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22022" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22024" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22025" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22027" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22028" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22032" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22034" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22035" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22037" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22038" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22042" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22044" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22045" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22047" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22048" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-22056" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-22060" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22062" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22063" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22065" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22066" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22069" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22070" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22073" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22074" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22078" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22084" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22086" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22087" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22089" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22090" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22092" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22093" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22095" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22096" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22099" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22101" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22103" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22105" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22106" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22108" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22109" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22112" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22114" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22116" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22118" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22119" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22121" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22122" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22125" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22127" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22129" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22131" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22132" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22134" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22135" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22138" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22140" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22141" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22143" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22144" class="Symbol">)))))</a>
   <a id="plfa_plfa-part2-Untyped-22153" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-22154" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Untyped-22159" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22160" class="InductiveConstructor">done</a>
    <a id="plfa_plfa-part2-Untyped-22169" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22170" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22177" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22178" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-22186" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22187" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a>
       <a id="plfa_plfa-part2-Untyped-22196" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22197" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22199" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22200" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22202" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22203" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22206" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-22215" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22216" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22219" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22221" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22222" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22224" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22225" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22228" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22230" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22231" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22233" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22234" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22236" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22237" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22239" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22240" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22243" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22245" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22246" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22248" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22249" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22251" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22252" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22254" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22255" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22258" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22260" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22261" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22263" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22264" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22266" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22267" class="Symbol">)))))))))</a>
<a id="plfa_plfa-part2-Untyped-22277" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-22279" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-22281" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="自然数和不动点">自然数和不动点</h2><p>我们可以使用 Church 数来表示自然数，但是计算某数的前继很复杂且昂贵。 取而代之的，我们使用另一种表示方法，叫做 Scott 数，其核心思想是一个数对应了对其自身的分情况讨论。</p><p>回忆 Church 数将某给定函数应用对应的次数。 使用命名的项，我们如下表示前三个 Church 数：</p><pre><code>zero  =  ƛ s ⇒ ƛ z ⇒ z
one   =  ƛ s ⇒ ƛ z ⇒ s · z
two   =  ƛ s ⇒ ƛ z ⇒ s · (s · z)</code></pre><p>作为对比，我们如下表示前三个 Scott 数：</p><pre><code>zero = ƛ s ⇒ ƛ z ⇒ z
one  = ƛ s ⇒ ƛ z ⇒ s · zero
two  = ƛ s ⇒ ƛ z ⇒ s · one</code></pre><p>每个数取两个参数，一个对应了后继分支的情况（它要求额外的参数，即当前参数的前继）， 一个对应了零分支的情况。 （两种情况可以以任意顺序出现。我们在此将后继分支放在前面，以方便与 Church 数对比。）</p><p>下面是以 de Bruijn 因子编码的自然数的 Scott 表示法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-`zero"></a><a id="plfa_plfa-part2-Untyped-23829" href="../Untyped/#plfa_plfa-part2-Untyped-23829" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23835" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23837" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23839" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23840" href="../Untyped/#plfa_plfa-part2-Untyped-23840" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23841" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23843" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23845" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23846" href="../Untyped/#plfa_plfa-part2-Untyped-23840" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23848" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23850" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23851" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23853" href="../Untyped/#plfa_plfa-part2-Untyped-23829" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23859" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23861" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23863" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23865" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23866" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23868" class="Number">0</a><a id="plfa_plfa-part2-Untyped-23869" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-`suc_"></a><a id="plfa_plfa-part2-Untyped-23872" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23878" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23880" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23882" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23883" href="../Untyped/#plfa_plfa-part2-Untyped-23883" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23884" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23886" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23888" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23889" href="../Untyped/#plfa_plfa-part2-Untyped-23883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23891" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23893" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23894" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23896" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23898" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23899" href="../Untyped/#plfa_plfa-part2-Untyped-23883" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23901" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23903" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23904" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23906" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23912" href="../Untyped/#plfa_plfa-part2-Untyped-23912" class="Bound">M</a>  <a id="plfa_plfa-part2-Untyped-23915" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23917" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23918" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23920" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23922" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23924" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23925" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23927" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-23929" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23931" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23933" class="Number">2</a><a id="plfa_plfa-part2-Untyped-23934" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-23937" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23939" href="../Untyped/#plfa_plfa-part2-Untyped-23912" class="Bound">M</a>

<a id="plfa_plfa-part2-Untyped-case"></a><a id="plfa_plfa-part2-Untyped-23942" href="../Untyped/#plfa_plfa-part2-Untyped-23942" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23947" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23949" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23951" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23952" href="../Untyped/#plfa_plfa-part2-Untyped-23952" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23953" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23955" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23957" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23958" href="../Untyped/#plfa_plfa-part2-Untyped-23952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23960" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23962" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23963" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23965" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23967" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23968" href="../Untyped/#plfa_plfa-part2-Untyped-23952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23970" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23972" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23973" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23975" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23977" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23978" href="../Untyped/#plfa_plfa-part2-Untyped-23952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23980" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-23982" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-23984" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23986" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23987" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-23990" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23992" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23993" href="../Untyped/#plfa_plfa-part2-Untyped-23952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23995" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23997" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23998" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-24000" href="../Untyped/#plfa_plfa-part2-Untyped-23942" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-24005" href="../Untyped/#plfa_plfa-part2-Untyped-24005" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24007" href="../Untyped/#plfa_plfa-part2-Untyped-24007" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-24009" href="../Untyped/#plfa_plfa-part2-Untyped-24009" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-24011" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24013" href="../Untyped/#plfa_plfa-part2-Untyped-24005" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24015" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24017" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24018" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24020" href="../Untyped/#plfa_plfa-part2-Untyped-24009" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-24021" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24023" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24025" href="../Untyped/#plfa_plfa-part2-Untyped-24007" class="Bound">M</a>
</pre><p>我们小心地保留之前定义相同的形式。 后继分支期望作用域内有一个额外的变量（由它的类型可以看出），所以它被一个抽象转换成了一个普通的项。</p><p>对零使用后继的确规约至 Scott 数表示的一：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-24472" href="../Untyped/#plfa_plfa-part2-Untyped-24472" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-24474" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24476" href="../Untyped/#plfa_plfa-part2-Untyped-20368" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-24481" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24482" href="../Untyped/#plfa_plfa-part2-Untyped-19502" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-24486" class="Number">100</a><a id="plfa_plfa-part2-Untyped-24489" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24491" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24492" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-24498" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24499" href="../Untyped/#plfa_plfa-part2-Untyped-3872" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-24500" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24502" href="../Untyped/#plfa_plfa-part2-Untyped-23829" class="Function">`zero</a><a id="plfa_plfa-part2-Untyped-24507" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24509" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
    <a id="plfa_plfa-part2-Untyped-24515" href="../Untyped/#plfa_plfa-part2-Untyped-20163" class="InductiveConstructor">steps</a>
        <a id="plfa_plfa-part2-Untyped-24529" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-24531" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24533" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24534" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24536" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24537" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24539" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24541" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24543" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24545" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24547" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24548" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-24552" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24554" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24555" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24557" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24558" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24560" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24562" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24563" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Untyped-24570" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-24574" href="../Untyped/#plfa_plfa-part2-Untyped-13109" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-24576" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a>
         <a id="plfa_plfa-part2-Untyped-24587" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24589" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24590" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24592" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24594" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24596" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24598" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24599" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24601" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24602" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24604" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24606" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24607" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Untyped-24615" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-24616" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-24622" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24623" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-24628" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24629" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24631" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24632" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24634" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24635" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24637" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24638" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24640" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24641" href="../Untyped/#plfa_plfa-part2-Untyped-4458" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-24643" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24644" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24647" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24649" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24650" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24652" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24653" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24655" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24656" href="../Untyped/#plfa_plfa-part2-Untyped-10910" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24658" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24659" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24661" href="../Untyped/#plfa_plfa-part2-Untyped-4413" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24662" class="Symbol">))))))))</a>
<a id="plfa_plfa-part2-Untyped-24671" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-24673" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24675" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们同样可以定义不动点。使用命名的项，我们定义：</p><pre><code>μ f = (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))</code></pre><p>它能实现不动点的原因是：</p><pre><code>  μ f
≡
  (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))
—→
  f · ((ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x)))
≡
  f · (μ f)</code></pre><p>使用 de Bruijn 因子，我们有如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-μ_"></a><a id="plfa_plfa-part2-Untyped-25115" href="../Untyped/#plfa_plfa-part2-Untyped-25115" class="Function Operator">μ_</a> <a id="plfa_plfa-part2-Untyped-25118" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25120" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25122" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25123" href="../Untyped/#plfa_plfa-part2-Untyped-25123" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25124" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25126" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25128" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25129" href="../Untyped/#plfa_plfa-part2-Untyped-25123" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25131" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-25133" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-25135" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25137" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25138" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25140" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25142" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25143" href="../Untyped/#plfa_plfa-part2-Untyped-25123" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25145" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25147" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25148" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-25150" href="../Untyped/#plfa_plfa-part2-Untyped-25115" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25152" href="../Untyped/#plfa_plfa-part2-Untyped-25152" class="Bound">N</a>  <a id="plfa_plfa-part2-Untyped-25155" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-25158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25159" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25161" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-25163" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25166" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25168" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25170" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25172" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25173" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25175" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25177" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25179" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25181" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25182" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-25186" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25188" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25189" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25191" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25192" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25194" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25196" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25198" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25199" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25201" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25203" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25205" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25207" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25208" class="Symbol">)))))</a> <a id="plfa_plfa-part2-Untyped-25214" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25216" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25217" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25219" href="../Untyped/#plfa_plfa-part2-Untyped-25152" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-25220" class="Symbol">)</a>
</pre><p>不动点的参数与之前自然数的后继分支的处理方法相似。</p><p>我们可以如之前一样定义二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-25428" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-25434" class="Number">5</a> <a id="plfa_plfa-part2-Untyped-25436" href="../Untyped/#plfa_plfa-part2-Untyped-25115" class="Function Operator">μ_</a>

<a id="plfa_plfa-part2-Untyped-two"></a><a id="plfa_plfa-part2-Untyped-25440" href="../Untyped/#plfa_plfa-part2-Untyped-25440" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25444" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25446" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25448" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25449" href="../Untyped/#plfa_plfa-part2-Untyped-25449" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25450" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25452" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25454" href="../Untyped/#plfa_plfa-part2-Untyped-25449" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25456" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25458" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25460" href="../Untyped/#plfa_plfa-part2-Untyped-25440" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25464" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25466" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25471" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25476" href="../Untyped/#plfa_plfa-part2-Untyped-23829" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-four"></a><a id="plfa_plfa-part2-Untyped-25483" href="../Untyped/#plfa_plfa-part2-Untyped-25483" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25488" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25490" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25492" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25493" href="../Untyped/#plfa_plfa-part2-Untyped-25493" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25494" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25496" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25498" href="../Untyped/#plfa_plfa-part2-Untyped-25493" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25500" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25502" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25504" href="../Untyped/#plfa_plfa-part2-Untyped-25483" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25509" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25511" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25516" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25521" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25526" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25531" href="../Untyped/#plfa_plfa-part2-Untyped-23829" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-plus"></a><a id="plfa_plfa-part2-Untyped-25538" href="../Untyped/#plfa_plfa-part2-Untyped-25538" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25543" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25545" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25547" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25548" href="../Untyped/#plfa_plfa-part2-Untyped-25548" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25549" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25551" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25553" href="../Untyped/#plfa_plfa-part2-Untyped-25548" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25555" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25557" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25559" href="../Untyped/#plfa_plfa-part2-Untyped-25538" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25564" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25566" href="../Untyped/#plfa_plfa-part2-Untyped-25115" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25568" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25570" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25572" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25573" href="../Untyped/#plfa_plfa-part2-Untyped-23942" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-25578" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25579" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25581" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25582" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25584" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25585" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25587" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25588" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25590" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25591" href="../Untyped/#plfa_plfa-part2-Untyped-23872" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25596" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25597" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25599" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-25601" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25603" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25605" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25607" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25609" href="../Untyped/#plfa_plfa-part2-Untyped-6496" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25611" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25612" class="Symbol">)))</a>
</pre><p>由于 <code>`suc</code> 是定义的项，而不是原语项， <code>plus · two · two</code> 不再规约至 <code>four</code>， 但是它们都规约至相同的范式。</p><h4 id="练习-plus-eval-实践">练习 <code>plus-eval</code> （实践）</h4><p>使用求值器，证实 <code>plus · two · two</code> 和 <code>four</code> 正规化至相同的项。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26121" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-multiplication-untyped-推荐">练习 <code>multiplication-untyped</code> （推荐）</h4><p>使用上文中的编码，翻译你之前章节乘法的定义，使得其使用 Scott 表示法和编码后的不动点运算符。 证实二乘二得四。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26522" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-encode-more-延伸">练习 <code>encode-more</code> （延伸）</h4><p>用上文中类似的方法，编码 <a href="../More/">More</a> 章节除了原语数字以外的剩余构造，用无类型的 λ 演算。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26830" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="多步规约是传递的">多步规约是传递的</h2><p>在我们对自反传递闭包的形式化，即 <code>—↠</code> 关系中，没有出现直接的传递性规则。 取而代之的是，这个关系模仿了列表形式，有一种空规约序列的情况，也有一种将一步规约加在规约序列之前的情况。 下面是传递性的证明，其与列表的附加 <code>_++_</code> 函数的结构相似。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-—↠-trans"></a><a id="plfa_plfa-part2-Untyped-27489" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27498" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27500" class="Symbol">∀{</a><a id="plfa_plfa-part2-Untyped-27502" href="../Untyped/#plfa_plfa-part2-Untyped-27502" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-27503" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27505" href="../Untyped/#plfa_plfa-part2-Untyped-27505" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27506" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27508" href="../Untyped/#plfa_plfa-part2-Untyped-27508" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27510" href="../Untyped/#plfa_plfa-part2-Untyped-27510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27512" href="../Untyped/#plfa_plfa-part2-Untyped-27512" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27514" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27516" href="../Untyped/#plfa_plfa-part2-Untyped-27502" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27518" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27520" href="../Untyped/#plfa_plfa-part2-Untyped-27505" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27521" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-27532" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27534" href="../Untyped/#plfa_plfa-part2-Untyped-27508" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27536" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27539" href="../Untyped/#plfa_plfa-part2-Untyped-27510" class="Bound">M</a>
         <a id="plfa_plfa-part2-Untyped-27550" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27552" href="../Untyped/#plfa_plfa-part2-Untyped-27510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27554" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27557" href="../Untyped/#plfa_plfa-part2-Untyped-27512" class="Bound">N</a>
         <a id="plfa_plfa-part2-Untyped-27568" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27570" href="../Untyped/#plfa_plfa-part2-Untyped-27508" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27572" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27575" href="../Untyped/#plfa_plfa-part2-Untyped-27512" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27577" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27586" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27587" href="../Untyped/#plfa_plfa-part2-Untyped-27587" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27589" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-27590" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27592" href="../Untyped/#plfa_plfa-part2-Untyped-27592" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27595" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27597" href="../Untyped/#plfa_plfa-part2-Untyped-27592" class="Bound">mn</a>
<a id="plfa_plfa-part2-Untyped-27600" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27609" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27610" href="../Untyped/#plfa_plfa-part2-Untyped-27610" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27612" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27616" href="../Untyped/#plfa_plfa-part2-Untyped-27616" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27618" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27620" href="../Untyped/#plfa_plfa-part2-Untyped-27620" class="Bound">lm</a><a id="plfa_plfa-part2-Untyped-27622" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27624" href="../Untyped/#plfa_plfa-part2-Untyped-27624" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27627" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27629" href="../Untyped/#plfa_plfa-part2-Untyped-27610" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27631" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27635" href="../Untyped/#plfa_plfa-part2-Untyped-27616" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27637" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27639" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27640" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27649" href="../Untyped/#plfa_plfa-part2-Untyped-27620" class="Bound">lm</a> <a id="plfa_plfa-part2-Untyped-27652" href="../Untyped/#plfa_plfa-part2-Untyped-27624" class="Bound">mn</a><a id="plfa_plfa-part2-Untyped-27654" class="Symbol">)</a>
</pre><p>下面的记法使得应用 <code>—↠</code> 的传递性更加方便。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-27780" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-27787" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-27789" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">_—↠⟨_⟩_</a>

<a id="plfa_plfa-part2-Untyped-_—↠⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-27798" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">_—↠⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-27806" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27808" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-27810" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27811" href="../Untyped/#plfa_plfa-part2-Untyped-27811" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27813" href="../Untyped/#plfa_plfa-part2-Untyped-27813" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27814" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-27816" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27817" href="../Untyped/#plfa_plfa-part2-Untyped-27817" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27819" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27821" href="../Untyped/#plfa_plfa-part2-Untyped-27811" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27823" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27825" href="../Untyped/#plfa_plfa-part2-Untyped-27813" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27826" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27828" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27829" href="../Untyped/#plfa_plfa-part2-Untyped-27829" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27831" href="../Untyped/#plfa_plfa-part2-Untyped-27831" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27833" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27835" href="../Untyped/#plfa_plfa-part2-Untyped-27811" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27837" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27839" href="../Untyped/#plfa_plfa-part2-Untyped-27813" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27840" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-27846" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27848" href="../Untyped/#plfa_plfa-part2-Untyped-27817" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27850" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27853" href="../Untyped/#plfa_plfa-part2-Untyped-27829" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-27859" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27861" href="../Untyped/#plfa_plfa-part2-Untyped-27829" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27863" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27866" href="../Untyped/#plfa_plfa-part2-Untyped-27831" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-27874" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-27888" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27890" href="../Untyped/#plfa_plfa-part2-Untyped-27817" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27892" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27895" href="../Untyped/#plfa_plfa-part2-Untyped-27831" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27897" href="../Untyped/#plfa_plfa-part2-Untyped-27897" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27899" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Untyped-27903" href="../Untyped/#plfa_plfa-part2-Untyped-27903" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27908" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Function Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27910" href="../Untyped/#plfa_plfa-part2-Untyped-27910" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-27915" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27917" href="../Untyped/#plfa_plfa-part2-Untyped-27489" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27926" href="../Untyped/#plfa_plfa-part2-Untyped-27903" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27931" href="../Untyped/#plfa_plfa-part2-Untyped-27910" class="Bound">M—↠N</a>
</pre><h2 id="多步规约是合同性的">多步规约是合同性的</h2><p>回忆 <a href="../Induction/">Induction</a> 章节中，一个关系 <code>R</code> 对于一个给定的函数 <code>f</code> 在函数应用后仍然保持关系时，满足<strong>合同关系</strong>， 即『若 <code>R x y</code>，则 <code>R (f x) (f y)</code>』。 项构造子 <code>ƛ_</code> and <code>_·_</code> 是函数，因此合同性的概念也可作用于它们之上。 另外，当一个关系对于所有项的构造子满足合同时，我们说它对于整个语言满足合同性，在此即无类型的 λ 演算。</p><p>规则 <code>ξ₁</code> 、<code>ξ₂</code> 和 <code>ζ</code> 保证了规约关系对于无类型的 λ 演算满足合同性。 多步规约也是一个合同关系，我们在下面三条引理中证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appL-cong"></a><a id="plfa_plfa-part2-Untyped-29022" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29032" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29034" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-29036" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29037" href="../Untyped/#plfa_plfa-part2-Untyped-29037" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29038" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29040" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29041" href="../Untyped/#plfa_plfa-part2-Untyped-29041" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29043" href="../Untyped/#plfa_plfa-part2-Untyped-29043" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29046" href="../Untyped/#plfa_plfa-part2-Untyped-29046" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29048" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29050" href="../Untyped/#plfa_plfa-part2-Untyped-29037" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-29052" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-29054" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-29055" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-29066" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29068" href="../Untyped/#plfa_plfa-part2-Untyped-29041" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29070" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29073" href="../Untyped/#plfa_plfa-part2-Untyped-29043" class="Bound">L&#39;</a>
           <a id="plfa_plfa-part2-Untyped-29087" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-29112" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29114" href="../Untyped/#plfa_plfa-part2-Untyped-29041" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29116" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29118" href="../Untyped/#plfa_plfa-part2-Untyped-29046" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29120" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29123" href="../Untyped/#plfa_plfa-part2-Untyped-29043" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29126" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29128" href="../Untyped/#plfa_plfa-part2-Untyped-29046" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-29130" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29140" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29141" href="../Untyped/#plfa_plfa-part2-Untyped-29141" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29142" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29144" href="../Untyped/#plfa_plfa-part2-Untyped-29144" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29145" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29147" href="../Untyped/#plfa_plfa-part2-Untyped-29147" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29149" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29151" href="../Untyped/#plfa_plfa-part2-Untyped-29151" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29152" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29154" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29155" href="../Untyped/#plfa_plfa-part2-Untyped-29144" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29157" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-29158" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29160" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29162" href="../Untyped/#plfa_plfa-part2-Untyped-29144" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29164" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29166" href="../Untyped/#plfa_plfa-part2-Untyped-29151" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29168" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-29170" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29180" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29181" href="../Untyped/#plfa_plfa-part2-Untyped-29181" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29182" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29184" href="../Untyped/#plfa_plfa-part2-Untyped-29184" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29185" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29187" href="../Untyped/#plfa_plfa-part2-Untyped-29187" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29189" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29191" href="../Untyped/#plfa_plfa-part2-Untyped-29191" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29192" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29194" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29195" href="../Untyped/#plfa_plfa-part2-Untyped-29184" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29197" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29201" href="../Untyped/#plfa_plfa-part2-Untyped-29201" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29203" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29205" href="../Untyped/#plfa_plfa-part2-Untyped-29205" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-29207" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29209" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29211" href="../Untyped/#plfa_plfa-part2-Untyped-29184" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29213" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29215" href="../Untyped/#plfa_plfa-part2-Untyped-29191" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29217" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29221" href="../Untyped/#plfa_plfa-part2-Untyped-12929" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-29224" href="../Untyped/#plfa_plfa-part2-Untyped-29201" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29226" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29228" href="../Untyped/#plfa_plfa-part2-Untyped-29022" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29238" href="../Untyped/#plfa_plfa-part2-Untyped-29205" class="Bound">rs</a>
</pre><p><code>appL-cong</code> 的证明对于规约序列 <code>L —↠ L&#39;</code> 进行归纳。 * 若 <code>L —↠ L</code> 由 <code>L ∎</code> 成立。那我们可从 <code>L · M ∎</code> 得 <code>L · M —↠ L · M</code> 。 * 若 <code>L —↠ L&#39;&#39;</code> 由 <code>L —→⟨ r ⟩ rs</code> 成立，那么 <code>L —→ L&#39;</code> 由 <code>r</code> 成立，且 <code>L&#39; —↠ L&#39;&#39;</code> 由 <code>rs</code> 成立。 我们可从 <code>ξ₁ r</code> 得 <code>L · M —→ L&#39; · M</code>，且对 <code>rs</code> 应用归纳假设得到 <code>L&#39; · M —↠ L&#39;&#39; · M</code>。 我们可以将两者用 <code>_—→⟨_⟩_</code> 组合来获得 <code>L · M —↠ L&#39;&#39; · M</code>。</p><p><code>appR-cong</code> 和 <code>abs-cong</code> 的证明与 <code>appL-cong</code> 的证明使用一样的方法。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appR-cong"></a><a id="plfa_plfa-part2-Untyped-30175" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30185" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30187" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30189" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30190" href="../Untyped/#plfa_plfa-part2-Untyped-30190" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30191" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30193" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30194" href="../Untyped/#plfa_plfa-part2-Untyped-30194" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30196" href="../Untyped/#plfa_plfa-part2-Untyped-30196" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30198" href="../Untyped/#plfa_plfa-part2-Untyped-30198" class="Bound">M&#39;</a> <a id="plfa_plfa-part2-Untyped-30201" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30203" href="../Untyped/#plfa_plfa-part2-Untyped-30190" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30205" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30207" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30208" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30219" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30221" href="../Untyped/#plfa_plfa-part2-Untyped-30196" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30223" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30226" href="../Untyped/#plfa_plfa-part2-Untyped-30198" class="Bound">M&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30240" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-30265" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30267" href="../Untyped/#plfa_plfa-part2-Untyped-30194" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30269" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30271" href="../Untyped/#plfa_plfa-part2-Untyped-30196" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30273" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30276" href="../Untyped/#plfa_plfa-part2-Untyped-30194" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30278" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30280" href="../Untyped/#plfa_plfa-part2-Untyped-30198" class="Bound">M&#39;</a>
<a id="plfa_plfa-part2-Untyped-30283" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30293" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30294" href="../Untyped/#plfa_plfa-part2-Untyped-30294" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30295" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30297" href="../Untyped/#plfa_plfa-part2-Untyped-30297" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30298" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30300" href="../Untyped/#plfa_plfa-part2-Untyped-30300" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30301" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30303" href="../Untyped/#plfa_plfa-part2-Untyped-30303" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30305" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30307" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30308" href="../Untyped/#plfa_plfa-part2-Untyped-30300" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30310" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30311" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30313" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30315" href="../Untyped/#plfa_plfa-part2-Untyped-30297" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30317" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30319" href="../Untyped/#plfa_plfa-part2-Untyped-30300" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30321" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30323" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30333" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30334" href="../Untyped/#plfa_plfa-part2-Untyped-30334" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30335" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30337" href="../Untyped/#plfa_plfa-part2-Untyped-30337" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30338" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30340" href="../Untyped/#plfa_plfa-part2-Untyped-30340" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30341" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30343" href="../Untyped/#plfa_plfa-part2-Untyped-30343" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30345" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30347" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30348" href="../Untyped/#plfa_plfa-part2-Untyped-30340" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30350" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30354" href="../Untyped/#plfa_plfa-part2-Untyped-30354" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30356" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30358" href="../Untyped/#plfa_plfa-part2-Untyped-30358" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30360" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30362" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30364" href="../Untyped/#plfa_plfa-part2-Untyped-30337" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30366" href="../Untyped/#plfa_plfa-part2-Untyped-5569" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30368" href="../Untyped/#plfa_plfa-part2-Untyped-30340" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30370" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30374" href="../Untyped/#plfa_plfa-part2-Untyped-13019" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-30377" href="../Untyped/#plfa_plfa-part2-Untyped-30354" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30379" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30381" href="../Untyped/#plfa_plfa-part2-Untyped-30175" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30391" href="../Untyped/#plfa_plfa-part2-Untyped-30358" class="Bound">rs</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Untyped-abs-cong"></a><a id="plfa_plfa-part2-Untyped-30407" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30416" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30418" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30420" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30421" href="../Untyped/#plfa_plfa-part2-Untyped-30421" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30422" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30424" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30425" href="../Untyped/#plfa_plfa-part2-Untyped-30425" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30427" href="../Untyped/#plfa_plfa-part2-Untyped-30427" class="Bound">N&#39;</a> <a id="plfa_plfa-part2-Untyped-30430" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30432" href="../Untyped/#plfa_plfa-part2-Untyped-30421" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30434" href="../Untyped/#plfa_plfa-part2-Untyped-3888" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-30436" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-30438" href="../Untyped/#plfa_plfa-part2-Untyped-5421" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30440" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30441" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30452" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30454" href="../Untyped/#plfa_plfa-part2-Untyped-30425" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30456" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30459" href="../Untyped/#plfa_plfa-part2-Untyped-30427" class="Bound">N&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30473" class="Comment">----------</a>
         <a id="plfa_plfa-part2-Untyped-30493" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30495" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30497" href="../Untyped/#plfa_plfa-part2-Untyped-30425" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30499" href="../Untyped/#plfa_plfa-part2-Untyped-14275" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30502" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30504" href="../Untyped/#plfa_plfa-part2-Untyped-30427" class="Bound">N&#39;</a>
<a id="plfa_plfa-part2-Untyped-30507" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30516" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30517" href="../Untyped/#plfa_plfa-part2-Untyped-30517" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30519" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30520" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30522" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30524" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30526" href="../Untyped/#plfa_plfa-part2-Untyped-30517" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30528" href="../Untyped/#plfa_plfa-part2-Untyped-14321" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30530" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30539" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30540" href="../Untyped/#plfa_plfa-part2-Untyped-30540" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30542" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30546" href="../Untyped/#plfa_plfa-part2-Untyped-30546" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30548" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30550" href="../Untyped/#plfa_plfa-part2-Untyped-30550" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30552" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30554" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30556" href="../Untyped/#plfa_plfa-part2-Untyped-5509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30558" href="../Untyped/#plfa_plfa-part2-Untyped-30540" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30560" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30564" href="../Untyped/#plfa_plfa-part2-Untyped-13217" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-30566" href="../Untyped/#plfa_plfa-part2-Untyped-30546" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30568" href="../Untyped/#plfa_plfa-part2-Untyped-14463" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30570" href="../Untyped/#plfa_plfa-part2-Untyped-30407" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30579" href="../Untyped/#plfa_plfa-part2-Untyped-30550" class="Bound">rs</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了下列 Unicode：</p><pre><code>★  U+2605  BLACK STAR (\st)</code></pre><p><code>\st</code> 命令允许选取不同种类的星，我们使用的是第七种。</p></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：Fangyi Zhou</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>