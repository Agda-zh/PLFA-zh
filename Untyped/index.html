<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-ZX/aBpdCBW4Eu5Bjc7USrGeiSiN2UpIuetQ1YMRtplE4MkM78yNQ+KiJYTWqFueppZ1C//BgkiOd+Vvx//iabw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-w0U8MAmTKZwYGKoZzBaimTEtI6cRyPxTv78JtkqDmvfjljTGU55Nppb++dx5aDvdhoY6R1UMRQzTOYg0Z9DOoQ==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Untyped</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Untyped: 完全正规化的无类型 λ 演算</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Untyped-126" class="Keyword">module</a> <a id="plfa_plfa-part2-Untyped-133" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part2-Untyped-152" class="Keyword">where</a>
</pre><p>本章中，我们对于之前的主题加入不同的变化：</p><ul><li>之前的章节中讨论了内在类型的演算；我们这次讨论无类型，但是内在作用域的演算。</li></ul><ul><li>之前的章节中讨论了传值调用（Call-by-value）的演算；我们这次讨论传名调用（Call-by-name）。</li></ul><ul><li>之前的章节中讨论了<strong>弱头部范式</strong>（Weak Head Normal Form），其规约止步于 λ 抽象；我们这次讨论<strong>完全正规化</strong>（Full Normalisation），其在 λ 抽象之下仍然继续规约。</li></ul><ul><li>之前的章节中讨论了<strong>确定性</strong>（Deterministic）的规约，每个项中至多有一个可规约项； 我们这次讨论<strong>非确定性</strong>（Non-deterministic）的规约，每个项中可能有多个可规约项，而每一个都可规约。</li></ul><ul><li>之前的章节中讨论了<strong>封闭</strong>（Closed）的项，其不包含自由变量； 我们这次讨论<strong>开放</strong>（Open）的项，其可能包含自由变量。</li></ul><ul><li>之前的章节中讨论了加入自然数和不动点的 λ 演算； 我们这次讨论只包括变量、抽象和应用的小巧的演算，其他构造均可编码至其中。</li></ul><p>一般来说，我们可以将这些特性选择性的混合匹配，而完全正规化要求开放项， 且编码自然数和不动点需要无类型的演算。 本章的目的是展示 λ 演算可能出现的不同形式。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Untyped-2201" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2208" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Untyped-2246" class="Symbol">as</a> <a id="plfa_plfa-part2-Untyped-2249" class="Module">Eq</a>
<a id="plfa_plfa-part2-Untyped-2252" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2257" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Untyped-2260" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2266" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2267" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Untyped-2270" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2272" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Untyped-2276" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2278" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part2-Untyped-2281" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2283" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="plfa_plfa-part2-Untyped-2288" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2290" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part2-Untyped-2294" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2296" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2301" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2308" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Untyped-2319" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2325" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2326" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Untyped-2327" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2329" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Untyped-2335" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2337" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2342" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2349" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Untyped-2358" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2364" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2365" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-2366" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2368" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-2372" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2374" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Untyped-2377" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2379" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="plfa_plfa-part2-Untyped-2382" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2384" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#2874" class="Primitive Operator">_∸_</a><a id="plfa_plfa-part2-Untyped-2387" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2389" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2394" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2401" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part2-Untyped-2414" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2420" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2421" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part2-Untyped-2424" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-2426" class="Keyword">renaming</a> <a id="plfa_plfa-part2-Untyped-2435" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2436" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-2440" class="Symbol">to</a> <a id="plfa_plfa-part2-Untyped-2443" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part2-Untyped-2448" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2450" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2455" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2462" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Unit.html" class="Module">Data.Unit</a> <a id="plfa_plfa-part2-Untyped-2472" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2478" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2479" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="plfa_plfa-part2-Untyped-2480" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2482" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="plfa_plfa-part2-Untyped-2484" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2486" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2491" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2498" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part2-Untyped-2507" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2513" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2514" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part2-Untyped-2517" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2519" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2524" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2531" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Equivalence.html" class="Module">Function.Equivalence</a> <a id="plfa_plfa-part2-Untyped-2552" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2558" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2559" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Equivalence.html#1204" class="Function Operator">_⇔_</a><a id="plfa_plfa-part2-Untyped-2562" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2564" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Equivalence.html#1297" class="Function">equivalence</a><a id="plfa_plfa-part2-Untyped-2575" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2577" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2582" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2589" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Untyped-2606" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2612" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2613" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Untyped-2615" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2617" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="plfa_plfa-part2-Untyped-2620" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2622" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="plfa_plfa-part2-Untyped-2625" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2627" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="plfa_plfa-part2-Untyped-2629" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2631" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2636" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2643" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Untyped-2670" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2676" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2677" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html#1228" class="Function">map</a><a id="plfa_plfa-part2-Untyped-2680" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2682" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2687" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2694" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part2-Untyped-2720" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2726" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2727" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#998" class="Function">contraposition</a><a id="plfa_plfa-part2-Untyped-2741" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2743" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2748" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2755" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Product.html" class="Module">Relation.Nullary.Product</a> <a id="plfa_plfa-part2-Untyped-2780" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2786" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2787" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Product.html#921" class="Function Operator">_×-dec_</a><a id="plfa_plfa-part2-Untyped-2794" class="Symbol">)</a>
</pre><h2 id="无类型即是单一类型">无类型即是单一类型</h2><p>我们的内容将会和 [DeBruijn] 章节中相似，只是每个项会有相同的类型，写作 <code>★</code>，读作『任意』。 这呼应了一条 Dana Scott 提出，Robert Harper 重复的口号：『无类型即是单一类型』。 这样的结果之一就是之前我们需要额外给出的构造（例如自然数和不动点），现在可以在直接在语言本身中定义。</p><h2 id="语法">语法</h2><p>我们首先定义中缀声明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3576" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3583" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3586" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">_⊢_</a>
<a id="plfa_plfa-part2-Untyped-3590" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3597" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3600" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">_∋_</a>
<a id="plfa_plfa-part2-Untyped-3604" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3611" class="Number">5</a>  <a id="plfa_plfa-part2-Untyped-3614" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">_,_</a>

<a id="plfa_plfa-part2-Untyped-3619" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3626" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3629" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a>
<a id="plfa_plfa-part2-Untyped-3632" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3639" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3642" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′_</a>
<a id="plfa_plfa-part2-Untyped-3645" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3652" class="Number">7</a>  <a id="plfa_plfa-part2-Untyped-3655" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a>
</pre><h2 id="类型">类型</h2><p>我们只有一种类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3742" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Type"></a><a id="plfa_plfa-part2-Untyped-3747" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3752" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3754" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3758" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Type.★"></a><a id="plfa_plfa-part2-Untyped-3766" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-3768" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3770" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a>
</pre><h4 id="练习-type-习题">练习 (<code>Type≃⊤</code>) （习题）</h4><p>证明 <code>Type</code> 与单元类型 <code>⊤</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3948" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="上下文">上下文</h2><p>和之前一样，上下文是类型的列表，最新出现的约束变量的类型出现在最右边：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4156" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Context"></a><a id="plfa_plfa-part2-Untyped-4161" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4169" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4171" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4175" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Context.∅"></a><a id="plfa_plfa-part2-Untyped-4183" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a>   <a id="plfa_plfa-part2-Untyped-4187" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4189" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Untyped-Context._,_"></a><a id="plfa_plfa-part2-Untyped-4199" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-4203" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4205" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4213" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4215" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4220" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4222" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a>
</pre><p>我们使用 <code>Γ</code> 和 <code>Δ</code> 来指代上下文。</p><h4 id="练习-contextℕ-习题">练习 (<code>Context≃ℕ</code>) （习题）</h4><p>证明 <code>Context</code> 和 <code>ℕ</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4470" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="变量和查询判断">变量和查询判断</h2><p>内在作用域的变量对应了查询判断。规则与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4683" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_∋_"></a><a id="plfa_plfa-part2-Untyped-4688" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">_∋_</a> <a id="plfa_plfa-part2-Untyped-4692" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4694" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4702" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4704" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4709" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4711" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4715" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.Z"></a><a id="plfa_plfa-part2-Untyped-4724" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Untyped-4726" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4728" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4730" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4731" href="../Untyped/#plfa_plfa-part2-Untyped-4731" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4733" href="../Untyped/#plfa_plfa-part2-Untyped-4733" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-4734" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Untyped-4741" class="Comment">---------</a>
   <a id="plfa_plfa-part2-Untyped-4754" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4756" href="../Untyped/#plfa_plfa-part2-Untyped-4731" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4758" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4760" href="../Untyped/#plfa_plfa-part2-Untyped-4733" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4762" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4764" href="../Untyped/#plfa_plfa-part2-Untyped-4733" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.S_"></a><a id="plfa_plfa-part2-Untyped-4769" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-4772" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4774" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4776" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4777" href="../Untyped/#plfa_plfa-part2-Untyped-4777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4779" href="../Untyped/#plfa_plfa-part2-Untyped-4779" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4781" href="../Untyped/#plfa_plfa-part2-Untyped-4781" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-4782" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-4788" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4790" href="../Untyped/#plfa_plfa-part2-Untyped-4777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4792" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4794" href="../Untyped/#plfa_plfa-part2-Untyped-4779" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-4802" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-4816" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4818" href="../Untyped/#plfa_plfa-part2-Untyped-4777" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4820" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4822" href="../Untyped/#plfa_plfa-part2-Untyped-4781" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-4824" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4826" href="../Untyped/#plfa_plfa-part2-Untyped-4779" class="Bound">A</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>因为 <code>★</code> 是唯一的类型，这样的判断并不会给出很多与类型相关的保证。 但它确实确保了所有的变量在作用域内。例如，我们不能在只有两个约束变量的上下文中使用 <code>S S Z</code>。</p><h2 id="项与作用域判断">项与作用域判断</h2><p>内类作用域的项对应了赋型判断，但类型只有唯一的 <code>★</code> 类型。 得到的结果则是我们检查了每个项都是良作用域的——即所有使用的变量都在作用域内——而不是它们是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-5727" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_⊢_"></a><a id="plfa_plfa-part2-Untyped-5732" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">_⊢_</a> <a id="plfa_plfa-part2-Untyped-5736" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5738" href="../Untyped/#plfa_plfa-part2-Untyped-4161" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-5746" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5748" href="../Untyped/#plfa_plfa-part2-Untyped-3747" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-5753" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5755" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-5759" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.`_"></a><a id="plfa_plfa-part2-Untyped-5768" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Untyped-5771" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5773" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5775" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5776" href="../Untyped/#plfa_plfa-part2-Untyped-5776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5778" href="../Untyped/#plfa_plfa-part2-Untyped-5778" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-5779" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5785" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5787" href="../Untyped/#plfa_plfa-part2-Untyped-5776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5789" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-5791" href="../Untyped/#plfa_plfa-part2-Untyped-5778" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-5799" class="Comment">-----</a>
    <a id="plfa_plfa-part2-Untyped-5809" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5811" href="../Untyped/#plfa_plfa-part2-Untyped-5776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5813" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5815" href="../Untyped/#plfa_plfa-part2-Untyped-5778" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.ƛ_"></a><a id="plfa_plfa-part2-Untyped-5820" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-5824" class="Symbol">:</a>  <a id="plfa_plfa-part2-Untyped-5827" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5829" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5830" href="../Untyped/#plfa_plfa-part2-Untyped-5830" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5831" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5837" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5839" href="../Untyped/#plfa_plfa-part2-Untyped-5830" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5841" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-5843" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-5845" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5847" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5855" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-5869" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5871" href="../Untyped/#plfa_plfa-part2-Untyped-5830" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5873" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5875" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_._·_"></a><a id="plfa_plfa-part2-Untyped-5880" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Untyped-5884" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5886" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5888" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5889" href="../Untyped/#plfa_plfa-part2-Untyped-5889" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5890" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5896" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5898" href="../Untyped/#plfa_plfa-part2-Untyped-5889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5900" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5902" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
    <a id="plfa_plfa-part2-Untyped-5908" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5910" href="../Untyped/#plfa_plfa-part2-Untyped-5889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5912" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5914" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5922" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-5933" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5935" href="../Untyped/#plfa_plfa-part2-Untyped-5889" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5937" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5939" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
</pre><p>现在我们有了一个迷你的演算，至包含变量、抽象和应用。 接下来我们展示如果将自然数和不动点编码进这个演算中。</p><h2 id="用数表示变量">用数表示变量</h2><p>如之前一样，我们可以将自然数转换为对应的 de Bruijn 因子。 我们不再需要从上下文中查询变量的类型，因为每个变量都有一样的类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-count"></a><a id="plfa_plfa-part2-Untyped-6477" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6483" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6485" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6487" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6488" href="../Untyped/#plfa_plfa-part2-Untyped-6488" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6489" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6491" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6493" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="plfa_plfa-part2-Untyped-6495" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6497" href="../Untyped/#plfa_plfa-part2-Untyped-6488" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6499" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-6501" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6503" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6509" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6510" href="../Untyped/#plfa_plfa-part2-Untyped-6510" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6512" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6514" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6515" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6517" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>     <a id="plfa_plfa-part2-Untyped-6526" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6529" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-6531" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6537" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6538" href="../Untyped/#plfa_plfa-part2-Untyped-6538" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6540" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6542" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6543" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6545" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6546" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6550" href="../Untyped/#plfa_plfa-part2-Untyped-6550" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6551" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-6554" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6557" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-6559" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6560" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6566" href="../Untyped/#plfa_plfa-part2-Untyped-6550" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6567" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-6569" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6575" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6576" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-6577" class="Symbol">}</a>     <a id="plfa_plfa-part2-Untyped-6583" class="Symbol">_</a>        <a id="plfa_plfa-part2-Untyped-6592" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6595" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a> <a id="plfa_plfa-part2-Untyped-6602" href="../Untyped/#plfa_plfa-part2-Untyped-6631" class="Postulate">impossible</a>
  <a id="plfa_plfa-part2-Untyped-6615" class="Keyword">where</a> <a id="plfa_plfa-part2-Untyped-6621" class="Keyword">postulate</a> <a id="plfa_plfa-part2-Untyped-6631" href="../Untyped/#plfa_plfa-part2-Untyped-6631" class="Postulate">impossible</a> <a id="plfa_plfa-part2-Untyped-6642" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6644" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a>
</pre><p>我们可以接下来引入一种变量的缩略用法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#_"></a><a id="plfa_plfa-part2-Untyped-6753" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6756" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6758" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6760" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6761" href="../Untyped/#plfa_plfa-part2-Untyped-6761" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6762" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6764" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6766" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="plfa_plfa-part2-Untyped-6768" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6770" href="../Untyped/#plfa_plfa-part2-Untyped-6761" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6772" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6774" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6776" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6778" href="../Untyped/#plfa_plfa-part2-Untyped-6778" class="Bound">n</a>  <a id="plfa_plfa-part2-Untyped-6781" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6784" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-6786" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6792" href="../Untyped/#plfa_plfa-part2-Untyped-6778" class="Bound">n</a>
</pre><h2 id="测试例子">测试例子</h2><p>我们唯一的例子是用 Church 数计算二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-twoᶜ"></a><a id="plfa_plfa-part2-Untyped-6942" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6947" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6949" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6951" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6952" href="../Untyped/#plfa_plfa-part2-Untyped-6952" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6953" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6955" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6957" href="../Untyped/#plfa_plfa-part2-Untyped-6952" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6959" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6961" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6963" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6968" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6970" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6972" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6974" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6975" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6977" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6979" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6982" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6984" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6986" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6988" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6990" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6991" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-fourᶜ"></a><a id="plfa_plfa-part2-Untyped-6995" href="../Untyped/#plfa_plfa-part2-Untyped-6995" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-7001" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7003" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7005" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7006" href="../Untyped/#plfa_plfa-part2-Untyped-7006" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-7007" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7009" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7011" href="../Untyped/#plfa_plfa-part2-Untyped-7006" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7013" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-7015" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-7017" href="../Untyped/#plfa_plfa-part2-Untyped-6995" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-7023" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-7025" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7027" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7029" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7030" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7032" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7034" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7036" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7037" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7039" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7041" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7043" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7044" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7046" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7048" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7050" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7051" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7053" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7055" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7057" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7059" class="Number">0</a><a id="plfa_plfa-part2-Untyped-7060" class="Symbol">))))</a>

<a id="plfa_plfa-part2-Untyped-plusᶜ"></a><a id="plfa_plfa-part2-Untyped-7066" href="../Untyped/#plfa_plfa-part2-Untyped-7066" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-7072" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7074" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7076" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7077" href="../Untyped/#plfa_plfa-part2-Untyped-7077" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-7078" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7080" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7082" href="../Untyped/#plfa_plfa-part2-Untyped-7077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7084" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-7086" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-7088" href="../Untyped/#plfa_plfa-part2-Untyped-7066" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-7094" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-7096" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7098" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7100" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7102" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-7104" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7105" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7107" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-7109" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7111" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7113" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7115" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7118" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7120" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-7122" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7124" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7126" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-7128" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7130" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-7132" class="Number">0</a><a id="plfa_plfa-part2-Untyped-7133" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-2+2ᶜ"></a><a id="plfa_plfa-part2-Untyped-7137" href="../Untyped/#plfa_plfa-part2-Untyped-7137" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-7142" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7144" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Untyped-7146" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-7148" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-7150" href="../Untyped/#plfa_plfa-part2-Untyped-7137" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-7155" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-7157" href="../Untyped/#plfa_plfa-part2-Untyped-7066" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-7163" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7165" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-7170" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-7172" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a>
</pre><p>在之前，我们在遇到 λ 抽象时停止规约，因此我们需要计算 <code>plusᶜ · twoᶜ · twoᶜ · sucᶜ · `zero</code> 来确保我们规约至自然数四。 现在，规约在 λ 之下继续进行，所以我们不需要额外的参数。 为了便利，我们定义用 Church 数来表示二和四的项。</p><h2 id="重命名">重命名</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-ext"></a><a id="plfa_plfa-part2-Untyped-7839" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7843" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7845" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7847" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7848" href="../Untyped/#plfa_plfa-part2-Untyped-7848" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7850" href="../Untyped/#plfa_plfa-part2-Untyped-7850" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-7851" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7853" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7855" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7858" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7859" href="../Untyped/#plfa_plfa-part2-Untyped-7859" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7860" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7862" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7864" href="../Untyped/#plfa_plfa-part2-Untyped-7848" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7866" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7868" href="../Untyped/#plfa_plfa-part2-Untyped-7859" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7870" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7872" href="../Untyped/#plfa_plfa-part2-Untyped-7850" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7874" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7876" href="../Untyped/#plfa_plfa-part2-Untyped-7859" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7877" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-7883" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-7921" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7923" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7926" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7927" href="../Untyped/#plfa_plfa-part2-Untyped-7927" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7929" href="../Untyped/#plfa_plfa-part2-Untyped-7929" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-7930" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7932" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7934" href="../Untyped/#plfa_plfa-part2-Untyped-7848" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7936" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7938" href="../Untyped/#plfa_plfa-part2-Untyped-7929" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7940" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7942" href="../Untyped/#plfa_plfa-part2-Untyped-7927" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7944" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7946" href="../Untyped/#plfa_plfa-part2-Untyped-7850" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7948" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7950" href="../Untyped/#plfa_plfa-part2-Untyped-7929" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7952" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7954" href="../Untyped/#plfa_plfa-part2-Untyped-7927" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7955" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-7957" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7961" href="../Untyped/#plfa_plfa-part2-Untyped-7961" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7963" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-7970" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7973" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-7975" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7979" href="../Untyped/#plfa_plfa-part2-Untyped-7979" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7982" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7984" href="../Untyped/#plfa_plfa-part2-Untyped-7984" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7985" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-7988" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7991" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7993" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7994" href="../Untyped/#plfa_plfa-part2-Untyped-7979" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7996" href="../Untyped/#plfa_plfa-part2-Untyped-7984" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7997" class="Symbol">)</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>现在定义重命名就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-rename"></a><a id="plfa_plfa-part2-Untyped-8231" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8238" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8240" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8242" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8243" href="../Untyped/#plfa_plfa-part2-Untyped-8243" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8245" href="../Untyped/#plfa_plfa-part2-Untyped-8245" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8246" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8250" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8252" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8255" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8256" href="../Untyped/#plfa_plfa-part2-Untyped-8256" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8257" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8259" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8261" href="../Untyped/#plfa_plfa-part2-Untyped-8243" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8263" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8265" href="../Untyped/#plfa_plfa-part2-Untyped-8256" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8267" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8269" href="../Untyped/#plfa_plfa-part2-Untyped-8245" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8271" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8273" href="../Untyped/#plfa_plfa-part2-Untyped-8256" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8274" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8280" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8307" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8309" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8312" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8313" href="../Untyped/#plfa_plfa-part2-Untyped-8313" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8314" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8316" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8318" href="../Untyped/#plfa_plfa-part2-Untyped-8243" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8320" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8322" href="../Untyped/#plfa_plfa-part2-Untyped-8313" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8324" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8326" href="../Untyped/#plfa_plfa-part2-Untyped-8245" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8328" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8330" href="../Untyped/#plfa_plfa-part2-Untyped-8313" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8331" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8333" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8340" href="../Untyped/#plfa_plfa-part2-Untyped-8340" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8342" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8343" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8345" href="../Untyped/#plfa_plfa-part2-Untyped-8345" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8346" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8357" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8360" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8362" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8363" href="../Untyped/#plfa_plfa-part2-Untyped-8340" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8365" href="../Untyped/#plfa_plfa-part2-Untyped-8345" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8366" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8368" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8375" href="../Untyped/#plfa_plfa-part2-Untyped-8375" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8377" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8378" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8380" href="../Untyped/#plfa_plfa-part2-Untyped-8380" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8381" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8392" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8395" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8397" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8398" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8405" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8406" href="../Untyped/#plfa_plfa-part2-Untyped-7839" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-8410" href="../Untyped/#plfa_plfa-part2-Untyped-8375" class="Bound">ρ</a><a id="plfa_plfa-part2-Untyped-8411" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8413" href="../Untyped/#plfa_plfa-part2-Untyped-8380" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8414" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8416" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8423" href="../Untyped/#plfa_plfa-part2-Untyped-8423" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8425" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8426" href="../Untyped/#plfa_plfa-part2-Untyped-8426" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-8428" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8430" href="../Untyped/#plfa_plfa-part2-Untyped-8430" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8431" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-8440" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8443" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8444" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8451" href="../Untyped/#plfa_plfa-part2-Untyped-8423" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8453" href="../Untyped/#plfa_plfa-part2-Untyped-8426" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-8454" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8456" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8458" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8459" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8466" href="../Untyped/#plfa_plfa-part2-Untyped-8423" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8468" href="../Untyped/#plfa_plfa-part2-Untyped-8430" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8469" class="Symbol">)</a>
</pre><p>这和之前一样，只是我们项的形式更少了。</p><h2 id="同时替换">同时替换</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-exts"></a><a id="plfa_plfa-part2-Untyped-8758" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8763" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8765" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8767" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8768" href="../Untyped/#plfa_plfa-part2-Untyped-8768" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8770" href="../Untyped/#plfa_plfa-part2-Untyped-8770" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8771" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8773" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8775" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8778" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8779" href="../Untyped/#plfa_plfa-part2-Untyped-8779" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8780" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8782" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8784" href="../Untyped/#plfa_plfa-part2-Untyped-8768" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8786" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8788" href="../Untyped/#plfa_plfa-part2-Untyped-8779" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8790" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8792" href="../Untyped/#plfa_plfa-part2-Untyped-8770" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8794" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8796" href="../Untyped/#plfa_plfa-part2-Untyped-8779" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8797" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8803" class="Comment">----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8840" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8842" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8845" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8846" href="../Untyped/#plfa_plfa-part2-Untyped-8846" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8848" href="../Untyped/#plfa_plfa-part2-Untyped-8848" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-8849" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8851" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8853" href="../Untyped/#plfa_plfa-part2-Untyped-8768" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8855" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8857" href="../Untyped/#plfa_plfa-part2-Untyped-8848" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8859" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8861" href="../Untyped/#plfa_plfa-part2-Untyped-8846" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8863" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8865" href="../Untyped/#plfa_plfa-part2-Untyped-8770" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8867" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8869" href="../Untyped/#plfa_plfa-part2-Untyped-8848" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8871" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8873" href="../Untyped/#plfa_plfa-part2-Untyped-8846" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8874" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8876" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8881" href="../Untyped/#plfa_plfa-part2-Untyped-8881" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8883" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-8890" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8893" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8895" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-8897" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8902" href="../Untyped/#plfa_plfa-part2-Untyped-8902" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8904" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8905" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-8907" href="../Untyped/#plfa_plfa-part2-Untyped-8907" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8908" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-8911" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8914" href="../Untyped/#plfa_plfa-part2-Untyped-8231" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8921" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-8924" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8925" href="../Untyped/#plfa_plfa-part2-Untyped-8902" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8927" href="../Untyped/#plfa_plfa-part2-Untyped-8907" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8928" class="Symbol">)</a>
</pre><p>一样，我们可以把所有的 <code>A</code> 和 <code>B</code> 替换成 <code>★</code>。</p><p>现在定义替换就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst"></a><a id="plfa_plfa-part2-Untyped-9119" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9125" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9127" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9129" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9130" href="../Untyped/#plfa_plfa-part2-Untyped-9130" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9132" href="../Untyped/#plfa_plfa-part2-Untyped-9132" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-9133" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-9137" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9139" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-9142" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9143" href="../Untyped/#plfa_plfa-part2-Untyped-9143" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9144" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9146" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9148" href="../Untyped/#plfa_plfa-part2-Untyped-9130" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9150" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9152" href="../Untyped/#plfa_plfa-part2-Untyped-9143" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9154" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9156" href="../Untyped/#plfa_plfa-part2-Untyped-9132" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9158" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9160" href="../Untyped/#plfa_plfa-part2-Untyped-9143" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9161" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-9167" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-9194" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9196" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-9199" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9200" href="../Untyped/#plfa_plfa-part2-Untyped-9200" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9201" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9203" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9205" href="../Untyped/#plfa_plfa-part2-Untyped-9130" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9207" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9209" href="../Untyped/#plfa_plfa-part2-Untyped-9200" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9211" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9213" href="../Untyped/#plfa_plfa-part2-Untyped-9132" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9215" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9217" href="../Untyped/#plfa_plfa-part2-Untyped-9200" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9218" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9220" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9226" href="../Untyped/#plfa_plfa-part2-Untyped-9226" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9228" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9229" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9231" href="../Untyped/#plfa_plfa-part2-Untyped-9231" class="Bound">k</a><a id="plfa_plfa-part2-Untyped-9232" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9243" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9246" href="../Untyped/#plfa_plfa-part2-Untyped-9226" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9248" href="../Untyped/#plfa_plfa-part2-Untyped-9231" class="Bound">k</a>
<a id="plfa_plfa-part2-Untyped-9250" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9256" href="../Untyped/#plfa_plfa-part2-Untyped-9256" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9258" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9259" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9261" href="../Untyped/#plfa_plfa-part2-Untyped-9261" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9262" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9273" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9276" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9278" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9279" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9285" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9286" href="../Untyped/#plfa_plfa-part2-Untyped-8758" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-9291" href="../Untyped/#plfa_plfa-part2-Untyped-9256" class="Bound">σ</a><a id="plfa_plfa-part2-Untyped-9292" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9294" href="../Untyped/#plfa_plfa-part2-Untyped-9261" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9295" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9297" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9303" href="../Untyped/#plfa_plfa-part2-Untyped-9303" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9305" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9306" href="../Untyped/#plfa_plfa-part2-Untyped-9306" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-9308" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9310" href="../Untyped/#plfa_plfa-part2-Untyped-9310" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9311" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-9320" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9323" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9324" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9330" href="../Untyped/#plfa_plfa-part2-Untyped-9303" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9332" href="../Untyped/#plfa_plfa-part2-Untyped-9306" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-9333" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9335" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9337" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9338" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9344" href="../Untyped/#plfa_plfa-part2-Untyped-9303" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9346" href="../Untyped/#plfa_plfa-part2-Untyped-9310" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9347" class="Symbol">)</a>
</pre><p>同样，这和之前一样，只是我们项的形式更少了。</p><h2 id="单个替换">单个替换</h2><p>定义替换一个自由变量的特例很简单：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst-zero"></a><a id="plfa_plfa-part2-Untyped-9615" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9626" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9628" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9630" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9631" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9633" href="../Untyped/#plfa_plfa-part2-Untyped-9633" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9634" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9636" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9638" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9639" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9641" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9643" href="../Untyped/#plfa_plfa-part2-Untyped-9633" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9644" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9646" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9648" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9650" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9651" href="../Untyped/#plfa_plfa-part2-Untyped-9651" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9652" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9654" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9656" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9657" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9659" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9661" href="../Untyped/#plfa_plfa-part2-Untyped-9633" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9663" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9665" href="../Untyped/#plfa_plfa-part2-Untyped-9651" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9666" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9668" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9670" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9671" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9673" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9675" href="../Untyped/#plfa_plfa-part2-Untyped-9651" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9676" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9678" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9689" href="../Untyped/#plfa_plfa-part2-Untyped-9689" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9691" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-9698" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9701" href="../Untyped/#plfa_plfa-part2-Untyped-9689" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-9703" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9714" href="../Untyped/#plfa_plfa-part2-Untyped-9714" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9716" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9717" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-9719" href="../Untyped/#plfa_plfa-part2-Untyped-9719" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-9720" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-9723" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9726" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9728" href="../Untyped/#plfa_plfa-part2-Untyped-9719" class="Bound">x</a>

<a id="plfa_plfa-part2-Untyped-_[_]"></a><a id="plfa_plfa-part2-Untyped-9731" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9736" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9738" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9740" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9741" href="../Untyped/#plfa_plfa-part2-Untyped-9741" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9743" href="../Untyped/#plfa_plfa-part2-Untyped-9743" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9745" href="../Untyped/#plfa_plfa-part2-Untyped-9745" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9746" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Untyped-9756" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9758" href="../Untyped/#plfa_plfa-part2-Untyped-9741" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9760" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9762" href="../Untyped/#plfa_plfa-part2-Untyped-9745" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9764" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9766" href="../Untyped/#plfa_plfa-part2-Untyped-9743" class="Bound">A</a>
        <a id="plfa_plfa-part2-Untyped-9776" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9778" href="../Untyped/#plfa_plfa-part2-Untyped-9741" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9780" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9782" href="../Untyped/#plfa_plfa-part2-Untyped-9745" class="Bound">B</a>
          <a id="plfa_plfa-part2-Untyped-9794" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Untyped-9812" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9814" href="../Untyped/#plfa_plfa-part2-Untyped-9741" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9816" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9818" href="../Untyped/#plfa_plfa-part2-Untyped-9743" class="Bound">A</a>
<a id="plfa_plfa-part2-Untyped-9820" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9825" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9826" href="../Untyped/#plfa_plfa-part2-Untyped-9826" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9827" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9829" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9830" href="../Untyped/#plfa_plfa-part2-Untyped-9830" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9831" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9833" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9834" href="../Untyped/#plfa_plfa-part2-Untyped-9834" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9835" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9837" href="../Untyped/#plfa_plfa-part2-Untyped-9837" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-9839" href="../Untyped/#plfa_plfa-part2-Untyped-9839" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9841" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9844" href="../Untyped/#plfa_plfa-part2-Untyped-9119" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9850" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9851" href="../Untyped/#plfa_plfa-part2-Untyped-9826" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9853" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9855" href="../Untyped/#plfa_plfa-part2-Untyped-9834" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9856" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9858" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9859" href="../Untyped/#plfa_plfa-part2-Untyped-9826" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9860" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9862" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9863" href="../Untyped/#plfa_plfa-part2-Untyped-9615" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9874" href="../Untyped/#plfa_plfa-part2-Untyped-9839" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9875" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9877" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9878" href="../Untyped/#plfa_plfa-part2-Untyped-9830" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9879" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9881" href="../Untyped/#plfa_plfa-part2-Untyped-9837" class="Bound">N</a>
</pre><h2 id="中性项和范式">中性项和范式</h2><p>直到项完全范式化之前，规则可以继续进行。 因此，我们现在在意的是<strong>范式</strong>（Normal Form），而不是值。 范式的项由与<strong>中性项</strong>（Neutral Terms）共同递归定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10248" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Neutral"></a><a id="plfa_plfa-part2-Untyped-10253" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10261" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10263" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10265" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10266" href="../Untyped/#plfa_plfa-part2-Untyped-10266" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10268" href="../Untyped/#plfa_plfa-part2-Untyped-10268" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10269" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10271" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10273" href="../Untyped/#plfa_plfa-part2-Untyped-10266" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10275" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10277" href="../Untyped/#plfa_plfa-part2-Untyped-10268" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10279" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10281" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Untyped-10285" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Normal"></a><a id="plfa_plfa-part2-Untyped-10290" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a>  <a id="plfa_plfa-part2-Untyped-10298" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10300" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10302" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10303" href="../Untyped/#plfa_plfa-part2-Untyped-10303" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10305" href="../Untyped/#plfa_plfa-part2-Untyped-10305" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10306" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10308" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10310" href="../Untyped/#plfa_plfa-part2-Untyped-10303" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10312" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10314" href="../Untyped/#plfa_plfa-part2-Untyped-10305" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10316" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10318" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a>
</pre><p>中性项由于我们需要考虑带有自由变量的开放项而产生。 一个项在其为变量时，或者是将中性项应用于范式项时，是一个中性项：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10591" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10596" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10604" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Neutral.`_"></a><a id="plfa_plfa-part2-Untyped-10613" href="../Untyped/#plfa_plfa-part2-Untyped-10613" class="InductiveConstructor Operator">`_</a>  <a id="plfa_plfa-part2-Untyped-10617" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10619" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10621" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10622" href="../Untyped/#plfa_plfa-part2-Untyped-10622" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10624" href="../Untyped/#plfa_plfa-part2-Untyped-10624" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10625" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10627" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10628" href="../Untyped/#plfa_plfa-part2-Untyped-10628" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-10630" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10632" href="../Untyped/#plfa_plfa-part2-Untyped-10622" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10634" href="../Untyped/#plfa_plfa-part2-Untyped-4688" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-10636" href="../Untyped/#plfa_plfa-part2-Untyped-10624" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10637" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-10645" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Untyped-10663" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10665" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10673" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10674" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-10676" href="../Untyped/#plfa_plfa-part2-Untyped-10628" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-10677" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Untyped-Neutral._·_"></a><a id="plfa_plfa-part2-Untyped-10682" href="../Untyped/#plfa_plfa-part2-Untyped-10682" class="InductiveConstructor Operator">_·_</a>  <a id="plfa_plfa-part2-Untyped-10687" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10689" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10691" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10692" href="../Untyped/#plfa_plfa-part2-Untyped-10692" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10693" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10695" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10696" href="../Untyped/#plfa_plfa-part2-Untyped-10696" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10698" href="../Untyped/#plfa_plfa-part2-Untyped-10698" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10700" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10702" href="../Untyped/#plfa_plfa-part2-Untyped-10692" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10704" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10706" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10707" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10713" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10715" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10723" href="../Untyped/#plfa_plfa-part2-Untyped-10696" class="Bound">L</a>
    <a id="plfa_plfa-part2-Untyped-10729" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10731" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10738" href="../Untyped/#plfa_plfa-part2-Untyped-10698" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10746" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Untyped-10766" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10768" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10776" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10777" href="../Untyped/#plfa_plfa-part2-Untyped-10696" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10779" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-10781" href="../Untyped/#plfa_plfa-part2-Untyped-10698" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-10782" class="Symbol">)</a>
</pre><p>一个项在其为中型项时，或者其为抽象且抽象体是范式时，是一个范式。 我们用 <code>′_</code> 来标记中型项。 如果 <code>`_</code> 一样，它不显眼：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11041" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-11046" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11053" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Normal.′_"></a><a id="plfa_plfa-part2-Untyped-11062" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′_</a> <a id="plfa_plfa-part2-Untyped-11065" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11067" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11069" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11070" href="../Untyped/#plfa_plfa-part2-Untyped-11070" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-11072" href="../Untyped/#plfa_plfa-part2-Untyped-11072" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-11073" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11075" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11076" href="../Untyped/#plfa_plfa-part2-Untyped-11076" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-11078" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11080" href="../Untyped/#plfa_plfa-part2-Untyped-11070" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-11082" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-11084" href="../Untyped/#plfa_plfa-part2-Untyped-11072" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-11085" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-11091" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11093" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11101" href="../Untyped/#plfa_plfa-part2-Untyped-11076" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-11109" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-11123" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11125" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11132" href="../Untyped/#plfa_plfa-part2-Untyped-11076" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Normal.ƛ_"></a><a id="plfa_plfa-part2-Untyped-11137" href="../Untyped/#plfa_plfa-part2-Untyped-11137" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-11141" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11143" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11145" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11146" href="../Untyped/#plfa_plfa-part2-Untyped-11146" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11147" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11149" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11150" href="../Untyped/#plfa_plfa-part2-Untyped-11150" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-11152" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11154" href="../Untyped/#plfa_plfa-part2-Untyped-11146" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-11156" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-11158" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-11160" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-11162" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-11163" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-11169" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11171" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11178" href="../Untyped/#plfa_plfa-part2-Untyped-11150" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-11186" class="Comment">------------</a>
    <a id="plfa_plfa-part2-Untyped-11203" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11205" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11212" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11213" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11215" href="../Untyped/#plfa_plfa-part2-Untyped-11150" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-11216" class="Symbol">)</a>
</pre><p>我们引入一种缩略用法，来提供变量是中型项的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#′_"></a><a id="plfa_plfa-part2-Untyped-11347" href="../Untyped/#plfa_plfa-part2-Untyped-11347" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11351" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11353" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11355" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11356" href="../Untyped/#plfa_plfa-part2-Untyped-11356" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11357" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11359" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11360" href="../Untyped/#plfa_plfa-part2-Untyped-11360" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11362" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11364" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-11365" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-11367" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11369" href="../Untyped/#plfa_plfa-part2-Untyped-10253" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11377" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11378" href="../Untyped/#plfa_plfa-part2-Untyped-11356" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11379" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11381" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11382" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-11384" href="../Untyped/#plfa_plfa-part2-Untyped-11360" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-11385" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-11387" href="../Untyped/#plfa_plfa-part2-Untyped-11347" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11390" href="../Untyped/#plfa_plfa-part2-Untyped-11390" class="Bound">n</a>  <a id="plfa_plfa-part2-Untyped-11393" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-11396" href="../Untyped/#plfa_plfa-part2-Untyped-10613" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-11398" href="../Untyped/#plfa_plfa-part2-Untyped-6477" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-11404" href="../Untyped/#plfa_plfa-part2-Untyped-11390" class="Bound">n</a>
</pre><p>比如说，下面是 Church 数二为范式的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11536" href="../Untyped/#plfa_plfa-part2-Untyped-11536" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-11538" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11540" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11547" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11548" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-11553" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11554" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-11555" class="Symbol">})</a>
<a id="plfa_plfa-part2-Untyped-11558" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-11560" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-11562" href="../Untyped/#plfa_plfa-part2-Untyped-11137" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11564" href="../Untyped/#plfa_plfa-part2-Untyped-11137" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11566" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11567" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11569" href="../Untyped/#plfa_plfa-part2-Untyped-11347" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11572" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11574" href="../Untyped/#plfa_plfa-part2-Untyped-10682" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11576" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11577" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11579" href="../Untyped/#plfa_plfa-part2-Untyped-11347" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11582" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11584" href="../Untyped/#plfa_plfa-part2-Untyped-10682" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11586" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11587" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11589" href="../Untyped/#plfa_plfa-part2-Untyped-11347" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11592" class="Number">0</a><a id="plfa_plfa-part2-Untyped-11593" class="Symbol">)))</a>
</pre><p>某一项为范式的证明与其本身基本一致，其中包括的额外的撇来标记中型项，并且其中使用了 <code>#′</code> 而不是 <code>#</code>。</p><h2 id="规约步骤">规约步骤</h2><p>规约规则从传值调用改为传名调用，以实现完全范式化：</p><ul><li>规则 <code>ξ₁</code> 与简单类型的 λ 演算一样，保持不变。</li></ul><ul><li>规则 <code>ξ₂</code> 之中，项 <code>L</code> 是值的要求现在被丢弃了。 所以这条规则现在与 <code>ξ₁</code> 重合，且规约是<strong>非确定的</strong>。 现在可选择规约 <code>L</code> 或者 <code>M</code> 中的项。</li></ul><ul><li>规则 <code>β</code> 之中，参数是值的要求现在被丢弃了，对应了传名调用的求值。 这引入了更多的非确定性，由于 <code>β</code> 与 <code>ξ₂</code> 在参数中有可规约项时重合。</li></ul><ul><li>额外了新规则 <code>ζ</code>，使得 λ 抽象下可以继续规约。</li></ul><p>这里是形式化的规则：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-12958" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-12964" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-12966" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">_—→_</a>

<a id="plfa_plfa-part2-Untyped-12972" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—→_"></a><a id="plfa_plfa-part2-Untyped-12977" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">_—→_</a> <a id="plfa_plfa-part2-Untyped-12982" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12984" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12986" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12987" href="../Untyped/#plfa_plfa-part2-Untyped-12987" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12989" href="../Untyped/#plfa_plfa-part2-Untyped-12989" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12990" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12992" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12994" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12995" href="../Untyped/#plfa_plfa-part2-Untyped-12987" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12997" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12999" href="../Untyped/#plfa_plfa-part2-Untyped-12989" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-13000" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13002" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13004" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13005" href="../Untyped/#plfa_plfa-part2-Untyped-12987" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13007" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13009" href="../Untyped/#plfa_plfa-part2-Untyped-12989" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-13010" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13012" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13014" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-13018" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₁"></a><a id="plfa_plfa-part2-Untyped-13027" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-13030" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13032" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13034" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13035" href="../Untyped/#plfa_plfa-part2-Untyped-13035" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13036" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13038" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13039" href="../Untyped/#plfa_plfa-part2-Untyped-13039" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13041" href="../Untyped/#plfa_plfa-part2-Untyped-13041" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-13044" href="../Untyped/#plfa_plfa-part2-Untyped-13044" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13046" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13048" href="../Untyped/#plfa_plfa-part2-Untyped-13035" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13050" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13052" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13053" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13059" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13061" href="../Untyped/#plfa_plfa-part2-Untyped-13039" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13063" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13066" href="../Untyped/#plfa_plfa-part2-Untyped-13041" class="Bound">L′</a>
      <a id="plfa_plfa-part2-Untyped-13075" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13096" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13098" href="../Untyped/#plfa_plfa-part2-Untyped-13039" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13100" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13102" href="../Untyped/#plfa_plfa-part2-Untyped-13044" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13104" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13107" href="../Untyped/#plfa_plfa-part2-Untyped-13041" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-13110" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13112" href="../Untyped/#plfa_plfa-part2-Untyped-13044" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₂"></a><a id="plfa_plfa-part2-Untyped-13117" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-13120" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13122" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13124" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13125" href="../Untyped/#plfa_plfa-part2-Untyped-13125" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13126" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13128" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13129" href="../Untyped/#plfa_plfa-part2-Untyped-13129" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13131" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13133" href="../Untyped/#plfa_plfa-part2-Untyped-13133" class="Bound">M′</a> <a id="plfa_plfa-part2-Untyped-13136" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13138" href="../Untyped/#plfa_plfa-part2-Untyped-13125" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13140" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13142" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13143" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13149" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13151" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13153" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13156" href="../Untyped/#plfa_plfa-part2-Untyped-13133" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Untyped-13165" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13186" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13188" href="../Untyped/#plfa_plfa-part2-Untyped-13129" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13190" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13192" href="../Untyped/#plfa_plfa-part2-Untyped-13131" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13194" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13197" href="../Untyped/#plfa_plfa-part2-Untyped-13129" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13199" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13201" href="../Untyped/#plfa_plfa-part2-Untyped-13133" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.β"></a><a id="plfa_plfa-part2-Untyped-13207" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-13209" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13211" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13213" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13214" href="../Untyped/#plfa_plfa-part2-Untyped-13214" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13215" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13217" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13218" href="../Untyped/#plfa_plfa-part2-Untyped-13218" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13220" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13222" href="../Untyped/#plfa_plfa-part2-Untyped-13214" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13224" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13226" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13228" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13230" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13231" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13233" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13234" href="../Untyped/#plfa_plfa-part2-Untyped-13234" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13236" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13238" href="../Untyped/#plfa_plfa-part2-Untyped-13214" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13240" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13242" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13243" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Untyped-13251" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part2-Untyped-13289" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13291" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13292" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13294" href="../Untyped/#plfa_plfa-part2-Untyped-13218" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-13295" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13297" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13299" href="../Untyped/#plfa_plfa-part2-Untyped-13234" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13301" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13304" href="../Untyped/#plfa_plfa-part2-Untyped-13218" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13306" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">[</a> <a id="plfa_plfa-part2-Untyped-13308" href="../Untyped/#plfa_plfa-part2-Untyped-13234" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13310" href="../Untyped/#plfa_plfa-part2-Untyped-9731" class="Function Operator">]</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ζ"></a><a id="plfa_plfa-part2-Untyped-13315" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-13317" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13319" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13321" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13322" href="../Untyped/#plfa_plfa-part2-Untyped-13322" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13323" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13325" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13326" href="../Untyped/#plfa_plfa-part2-Untyped-13326" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13328" href="../Untyped/#plfa_plfa-part2-Untyped-13328" class="Bound">N′</a> <a id="plfa_plfa-part2-Untyped-13331" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13333" href="../Untyped/#plfa_plfa-part2-Untyped-13322" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13335" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13337" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13339" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13341" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13342" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13348" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13350" href="../Untyped/#plfa_plfa-part2-Untyped-13326" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13352" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13355" href="../Untyped/#plfa_plfa-part2-Untyped-13328" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Untyped-13364" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Untyped-13380" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13382" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13384" href="../Untyped/#plfa_plfa-part2-Untyped-13326" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13386" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13389" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13391" href="../Untyped/#plfa_plfa-part2-Untyped-13328" class="Bound">N′</a>
</pre><h4 id="练习-variant-1-习题">练习 (<code>variant-1</code>) （习题）</h4><p>如果我们想要传值调用，但需要项范式化其中的项的话，要怎么样修改规则？ 假设 <code>β</code> 在除了两个项都是范式时，不允许规约。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-13725" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-variant-2-习题">练习 (<code>variant-2</code>) （习题）</h4><p>如果我们想要传值调用，但项不在 λ 之下规约的话，要怎么样修改规则？ 假设 <code>β</code> 在双项均为值（即 λ 抽象）时允许规约。 <code>2+2ᶜ</code> 在这种情况下会规约成什么？</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14158" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="自反传递闭包">自反传递闭包</h2><p>我们复制粘贴之前的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14308" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14315" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14317" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">_—↠_</a>
<a id="plfa_plfa-part2-Untyped-14322" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14329" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14331" href="../Untyped/#plfa_plfa-part2-Untyped-14579" class="Function Operator">begin_</a>
<a id="plfa_plfa-part2-Untyped-14338" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-14345" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14347" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="plfa_plfa-part2-Untyped-14355" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14362" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-14364" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Untyped-14368" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—↠_"></a><a id="plfa_plfa-part2-Untyped-14373" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">_—↠_</a> <a id="plfa_plfa-part2-Untyped-14378" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14380" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14382" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14383" href="../Untyped/#plfa_plfa-part2-Untyped-14383" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14385" href="../Untyped/#plfa_plfa-part2-Untyped-14385" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14386" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14388" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14390" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14391" href="../Untyped/#plfa_plfa-part2-Untyped-14383" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14393" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14395" href="../Untyped/#plfa_plfa-part2-Untyped-14385" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14396" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14398" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14400" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14401" href="../Untyped/#plfa_plfa-part2-Untyped-14383" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14403" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14405" href="../Untyped/#plfa_plfa-part2-Untyped-14385" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14406" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14408" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14410" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-14414" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._∎"></a><a id="plfa_plfa-part2-Untyped-14423" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Untyped-14426" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14428" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14430" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14431" href="../Untyped/#plfa_plfa-part2-Untyped-14431" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14433" href="../Untyped/#plfa_plfa-part2-Untyped-14433" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14434" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14436" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14437" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14439" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14441" href="../Untyped/#plfa_plfa-part2-Untyped-14431" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14443" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14445" href="../Untyped/#plfa_plfa-part2-Untyped-14433" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14446" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-14454" class="Comment">--------</a>
    <a id="plfa_plfa-part2-Untyped-14467" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14469" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14471" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14474" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._—→⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-14479" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-14487" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14489" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14491" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14492" href="../Untyped/#plfa_plfa-part2-Untyped-14492" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14494" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14495" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14497" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14498" href="../Untyped/#plfa_plfa-part2-Untyped-14498" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14500" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14502" href="../Untyped/#plfa_plfa-part2-Untyped-14492" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14504" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14506" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14507" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14509" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14510" href="../Untyped/#plfa_plfa-part2-Untyped-14510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14512" href="../Untyped/#plfa_plfa-part2-Untyped-14512" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14514" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14516" href="../Untyped/#plfa_plfa-part2-Untyped-14492" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14518" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14520" href="../Untyped/#plfa_plfa-part2-Untyped-14494" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14521" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-14527" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14529" href="../Untyped/#plfa_plfa-part2-Untyped-14498" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14531" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-14534" href="../Untyped/#plfa_plfa-part2-Untyped-14510" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-14540" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14542" href="../Untyped/#plfa_plfa-part2-Untyped-14510" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14544" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14547" href="../Untyped/#plfa_plfa-part2-Untyped-14512" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-14555" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-14569" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14571" href="../Untyped/#plfa_plfa-part2-Untyped-14498" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14573" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14576" href="../Untyped/#plfa_plfa-part2-Untyped-14512" class="Bound">N</a>

<a id="plfa_plfa-part2-Untyped-begin_"></a><a id="plfa_plfa-part2-Untyped-14579" href="../Untyped/#plfa_plfa-part2-Untyped-14579" class="Function Operator">begin_</a> <a id="plfa_plfa-part2-Untyped-14586" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14588" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14590" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14591" href="../Untyped/#plfa_plfa-part2-Untyped-14591" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-14592" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14594" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14595" href="../Untyped/#plfa_plfa-part2-Untyped-14595" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14596" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14598" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14599" href="../Untyped/#plfa_plfa-part2-Untyped-14599" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14601" href="../Untyped/#plfa_plfa-part2-Untyped-14601" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14603" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14605" href="../Untyped/#plfa_plfa-part2-Untyped-14591" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14607" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14609" href="../Untyped/#plfa_plfa-part2-Untyped-14595" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14610" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-14614" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14616" href="../Untyped/#plfa_plfa-part2-Untyped-14599" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14618" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14621" href="../Untyped/#plfa_plfa-part2-Untyped-14601" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14627" class="Comment">------</a>
  <a id="plfa_plfa-part2-Untyped-14636" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14638" href="../Untyped/#plfa_plfa-part2-Untyped-14599" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14640" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14643" href="../Untyped/#plfa_plfa-part2-Untyped-14601" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-14645" href="../Untyped/#plfa_plfa-part2-Untyped-14579" class="Function Operator">begin</a> <a id="plfa_plfa-part2-Untyped-14651" href="../Untyped/#plfa_plfa-part2-Untyped-14651" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14656" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14658" href="../Untyped/#plfa_plfa-part2-Untyped-14651" class="Bound">M—↠N</a>
</pre><h2 id="规约序列的例子">规约序列的例子</h2><p>这里是二加二得四的展示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14806" href="../Untyped/#plfa_plfa-part2-Untyped-14806" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-14808" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14810" href="../Untyped/#plfa_plfa-part2-Untyped-7137" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-14815" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14818" href="../Untyped/#plfa_plfa-part2-Untyped-6995" class="Function">fourᶜ</a>
<a id="plfa_plfa-part2-Untyped-14824" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-14826" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Untyped-14830" href="../Untyped/#plfa_plfa-part2-Untyped-14579" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Untyped-14840" href="../Untyped/#plfa_plfa-part2-Untyped-7066" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-14846" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14848" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14853" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14855" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14862" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14866" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14869" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14871" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14877" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14878" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14880" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14882" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14884" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14889" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14891" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14893" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14895" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14897" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14898" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14900" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14902" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14904" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14906" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14908" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14910" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14912" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14913" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14916" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14918" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14925" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14929" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14931" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14937" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14939" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14941" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14946" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14948" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14950" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14952" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14954" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14955" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14960" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14962" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14964" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14966" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14968" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14970" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14971" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-14975" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14979" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14982" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14984" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14985" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14988" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14989" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14992" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14998" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15000" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15002" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15004" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15006" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15008" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15010" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15012" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15013" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15015" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15017" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15019" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15021" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15022" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15025" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15027" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15028" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-15033" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15035" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15037" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15039" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15041" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15043" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15044" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15049" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15053" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15055" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15056" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15058" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15059" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-15061" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15067" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15069" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15071" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15073" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15075" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15077" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15078" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15080" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15082" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15084" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15085" href="../Untyped/#plfa_plfa-part2-Untyped-6942" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-15090" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15092" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15094" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15096" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15098" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15100" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15101" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15106" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15110" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15112" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15113" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15115" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15116" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15119" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15120" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15123" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15124" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-15127" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15128" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-15133" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15139" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15141" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15143" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15145" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15147" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15149" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15150" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15152" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15154" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15156" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15158" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15160" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15162" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15164" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15166" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15167" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15169" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15171" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15173" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15175" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15176" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15179" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15181" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15183" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15184" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15189" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15193" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15195" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15196" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15198" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15199" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15202" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15203" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15206" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15207" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-15211" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part2-Untyped-15216" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15219" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15221" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15223" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15225" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15227" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15228" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15230" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15232" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15234" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15235" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15237" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15239" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15241" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15242" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15244" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15246" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15248" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15250" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15251" class="Symbol">))))</a>
  <a id="plfa_plfa-part2-Untyped-15258" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a>
</pre><p>在两步之后，顶层项是一个抽象，而 <code>ζ</code> 规则支持了剩余的范式化。</p><h2 id="进行性">进行性</h2><p>进行性相应地也变更了。之前我们说每个项要么是值，要么可以规约一步；我们现在说每个项要么是范式，要么可以规约一步。</p><p>之前，进行性只应用于封闭的、良类型的项。 我们没有考虑诸如应用一个不是函数的项（如 <code>`zero`</code>）或者是带有自由变量的项。 现在我们展示的包含了开放的、良作用域的项。 范式的定义容许了自由变量，且我们也有不是函数的项。</p><p>如果一个项可以规约一步，或其为范式，那么它具有进行性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-16279" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Progress"></a><a id="plfa_plfa-part2-Untyped-16284" href="../Untyped/#plfa_plfa-part2-Untyped-16284" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16293" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16294" href="../Untyped/#plfa_plfa-part2-Untyped-16294" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16296" href="../Untyped/#plfa_plfa-part2-Untyped-16296" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16297" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16299" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16300" href="../Untyped/#plfa_plfa-part2-Untyped-16300" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16302" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16304" href="../Untyped/#plfa_plfa-part2-Untyped-16294" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16306" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16308" href="../Untyped/#plfa_plfa-part2-Untyped-16296" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16309" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16311" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16313" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-16317" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Progress.step"></a><a id="plfa_plfa-part2-Untyped-16326" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16331" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16333" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16335" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16336" href="../Untyped/#plfa_plfa-part2-Untyped-16336" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-16338" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16340" href="../Untyped/#plfa_plfa-part2-Untyped-16294" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16342" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16344" href="../Untyped/#plfa_plfa-part2-Untyped-16296" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16345" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-16351" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16353" href="../Untyped/#plfa_plfa-part2-Untyped-16300" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16355" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-16358" href="../Untyped/#plfa_plfa-part2-Untyped-16336" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-16366" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16381" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16383" href="../Untyped/#plfa_plfa-part2-Untyped-16284" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16392" href="../Untyped/#plfa_plfa-part2-Untyped-16300" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Progress.done"></a><a id="plfa_plfa-part2-Untyped-16397" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16402" class="Symbol">:</a>
      <a id="plfa_plfa-part2-Untyped-16410" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-16417" href="../Untyped/#plfa_plfa-part2-Untyped-16300" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-16425" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16440" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16442" href="../Untyped/#plfa_plfa-part2-Untyped-16284" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16451" href="../Untyped/#plfa_plfa-part2-Untyped-16300" class="Bound">M</a>
</pre><p>如果一个项是良作用域的，那么它满足进行性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-progress"></a><a id="plfa_plfa-part2-Untyped-16552" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16561" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16563" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16565" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16566" href="../Untyped/#plfa_plfa-part2-Untyped-16566" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16568" href="../Untyped/#plfa_plfa-part2-Untyped-16568" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16569" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16571" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16573" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16574" href="../Untyped/#plfa_plfa-part2-Untyped-16574" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16576" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16578" href="../Untyped/#plfa_plfa-part2-Untyped-16566" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16580" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16582" href="../Untyped/#plfa_plfa-part2-Untyped-16568" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16583" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16585" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16587" href="../Untyped/#plfa_plfa-part2-Untyped-16284" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16596" href="../Untyped/#plfa_plfa-part2-Untyped-16574" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16598" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16607" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16608" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16610" href="../Untyped/#plfa_plfa-part2-Untyped-16610" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16611" class="Symbol">)</a>                                 <a id="plfa_plfa-part2-Untyped-16645" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16648" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16653" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16654" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16656" href="../Untyped/#plfa_plfa-part2-Untyped-10613" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16658" href="../Untyped/#plfa_plfa-part2-Untyped-16610" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16659" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16661" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16670" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16671" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16673" href="../Untyped/#plfa_plfa-part2-Untyped-16673" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16674" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-16677" class="Keyword">with</a>  <a id="plfa_plfa-part2-Untyped-16683" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16692" href="../Untyped/#plfa_plfa-part2-Untyped-16673" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-16694" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16698" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16700" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16705" href="../Untyped/#plfa_plfa-part2-Untyped-16705" class="Bound">N—→N′</a>                               <a id="plfa_plfa-part2-Untyped-16741" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16744" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16749" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16750" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-16752" href="../Untyped/#plfa_plfa-part2-Untyped-16705" class="Bound">N—→N′</a><a id="plfa_plfa-part2-Untyped-16757" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16759" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16763" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16765" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16770" href="../Untyped/#plfa_plfa-part2-Untyped-16770" class="Bound">NrmN</a>                                <a id="plfa_plfa-part2-Untyped-16806" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16809" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16814" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16815" href="../Untyped/#plfa_plfa-part2-Untyped-11137" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16817" href="../Untyped/#plfa_plfa-part2-Untyped-16770" class="Bound">NrmN</a><a id="plfa_plfa-part2-Untyped-16821" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16823" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16832" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16833" href="../Untyped/#plfa_plfa-part2-Untyped-5768" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16835" href="../Untyped/#plfa_plfa-part2-Untyped-16835" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-16837" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16839" href="../Untyped/#plfa_plfa-part2-Untyped-16839" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16840" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16842" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16847" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16856" href="../Untyped/#plfa_plfa-part2-Untyped-16839" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16858" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16862" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16864" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16869" href="../Untyped/#plfa_plfa-part2-Untyped-16869" class="Bound">M—→M′</a>                               <a id="plfa_plfa-part2-Untyped-16905" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16908" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16913" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16914" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-16917" href="../Untyped/#plfa_plfa-part2-Untyped-16869" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-16922" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16924" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16928" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16930" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16935" href="../Untyped/#plfa_plfa-part2-Untyped-16935" class="Bound">NrmM</a>                                <a id="plfa_plfa-part2-Untyped-16971" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16974" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16979" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16980" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16982" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16983" href="../Untyped/#plfa_plfa-part2-Untyped-10613" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16985" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16986" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16988" href="../Untyped/#plfa_plfa-part2-Untyped-10682" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16990" href="../Untyped/#plfa_plfa-part2-Untyped-16935" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-16994" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16996" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17005" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-17007" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-17009" href="../Untyped/#plfa_plfa-part2-Untyped-17009" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-17010" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17012" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17014" href="../Untyped/#plfa_plfa-part2-Untyped-17014" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-17015" class="Symbol">)</a>                           <a id="plfa_plfa-part2-Untyped-17043" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17046" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17051" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a>
<a id="plfa_plfa-part2-Untyped-17053" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17062" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17063" href="../Untyped/#plfa_plfa-part2-Untyped-17063" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-17064" class="Symbol">@(_</a> <a id="plfa_plfa-part2-Untyped-17068" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17070" class="Symbol">_)</a> <a id="plfa_plfa-part2-Untyped-17073" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17075" href="../Untyped/#plfa_plfa-part2-Untyped-17075" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-17076" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17078" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17083" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17092" href="../Untyped/#plfa_plfa-part2-Untyped-17063" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-17094" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17098" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17100" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17105" href="../Untyped/#plfa_plfa-part2-Untyped-17105" class="Bound">L—→L′</a>                               <a id="plfa_plfa-part2-Untyped-17141" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17144" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17149" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17150" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-17153" href="../Untyped/#plfa_plfa-part2-Untyped-17105" class="Bound">L—→L′</a><a id="plfa_plfa-part2-Untyped-17158" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17160" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17164" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17166" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17171" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17172" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17174" href="../Untyped/#plfa_plfa-part2-Untyped-17174" class="Bound">NeuL</a><a id="plfa_plfa-part2-Untyped-17178" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17180" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17185" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17194" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-17196" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17203" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17205" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17210" href="../Untyped/#plfa_plfa-part2-Untyped-17210" class="Bound">M—→M′</a>                            <a id="plfa_plfa-part2-Untyped-17243" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17246" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17251" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17252" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-17255" href="../Untyped/#plfa_plfa-part2-Untyped-17210" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-17260" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17262" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17269" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17271" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17276" href="../Untyped/#plfa_plfa-part2-Untyped-17276" class="Bound">NrmM</a>                             <a id="plfa_plfa-part2-Untyped-17309" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17312" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17317" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17318" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17320" class="Bound">NeuL</a> <a id="plfa_plfa-part2-Untyped-17325" href="../Untyped/#plfa_plfa-part2-Untyped-10682" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17327" href="../Untyped/#plfa_plfa-part2-Untyped-17276" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-17331" class="Symbol">)</a>
</pre><p>我们对项为良作用域的证明上进行归纳：</p><ul><li>如果项是变量，那么它是范式。 （这与之前的证明不同，以往项为变量的情况被闭项的条件所排除了。）</li><li>如果项是抽象，那么我们对其抽象体应用进行性。 （这与之前的证明不同，以往抽象本身即是值。）：<ul><li>如果它步进，那么整个项由 <code>ζ</code> 步进。</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果项是应用，那么我们考虑其函数子项：<ul><li>如果它是变量，我们对参数子项递归应用进行性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果它是抽象，那么整个项由 <code>β</code> 步进。</li><li>如果它是应用，我们对其函数子项递归应用进行性：<ul><li>如果它步进，那么整个项由 <code>ξ₁</code> 步进。</li><li>如果它是范式，我们对参数子项递归应用进行性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li></ul></li></ul></li></ul><p>进行性最后一条等式中使用了 <code>P@Q</code> 形式的 <strong>at 模式</strong>，其只在模式 <code>P</code> 和 <code>Q</code> 都匹配时匹配。 <code>@</code> 是 Agda 不允许出现在变量名中的字符之一，因此不需要在它周围加空格。 在此处，这个模式确保了 <code>L</code> 是一个应用。</p><h2 id="求值">求值</h2><p>与之前一样，进行性直接提供了一个求值器。</p><p>汽油由自然数给出：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19541" class="Keyword">record</a> <a id="plfa_plfa-part2-Untyped-Gas"></a><a id="plfa_plfa-part2-Untyped-19548" href="../Untyped/#plfa_plfa-part2-Untyped-19548" class="Record">Gas</a> <a id="plfa_plfa-part2-Untyped-19552" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19554" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19558" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-19566" class="Keyword">constructor</a> <a id="plfa_plfa-part2-Untyped-gas"></a><a id="plfa_plfa-part2-Untyped-19578" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a>
  <a id="plfa_plfa-part2-Untyped-19584" class="Keyword">field</a>
    <a id="plfa_plfa-part2-Untyped-Gas.amount"></a><a id="plfa_plfa-part2-Untyped-19594" href="../Untyped/#plfa_plfa-part2-Untyped-19594" class="Field">amount</a> <a id="plfa_plfa-part2-Untyped-19601" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19603" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
</pre><p>当我们的求值器返回项 <code>N</code>，它要么会给出 <code>N</code> 是范式的证明，或者提示汽油耗尽：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19795" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Finished"></a><a id="plfa_plfa-part2-Untyped-19800" href="../Untyped/#plfa_plfa-part2-Untyped-19800" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19809" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-19810" href="../Untyped/#plfa_plfa-part2-Untyped-19810" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19812" href="../Untyped/#plfa_plfa-part2-Untyped-19812" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19813" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-19815" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-19816" href="../Untyped/#plfa_plfa-part2-Untyped-19816" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-19818" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19820" href="../Untyped/#plfa_plfa-part2-Untyped-19810" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19822" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-19824" href="../Untyped/#plfa_plfa-part2-Untyped-19812" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19825" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-19827" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19829" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19833" class="Keyword">where</a>

   <a id="plfa_plfa-part2-Untyped-Finished.done"></a><a id="plfa_plfa-part2-Untyped-19843" href="../Untyped/#plfa_plfa-part2-Untyped-19843" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-19848" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19857" href="../Untyped/#plfa_plfa-part2-Untyped-10290" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-19864" href="../Untyped/#plfa_plfa-part2-Untyped-19816" class="Bound">N</a>
       <a id="plfa_plfa-part2-Untyped-19873" class="Comment">----------</a>
     <a id="plfa_plfa-part2-Untyped-19889" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-19891" href="../Untyped/#plfa_plfa-part2-Untyped-19800" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19900" href="../Untyped/#plfa_plfa-part2-Untyped-19816" class="Bound">N</a>

   <a id="plfa_plfa-part2-Untyped-Finished.out-of-gas"></a><a id="plfa_plfa-part2-Untyped-19906" href="../Untyped/#plfa_plfa-part2-Untyped-19906" class="InductiveConstructor">out-of-gas</a> <a id="plfa_plfa-part2-Untyped-19917" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19926" class="Comment">----------</a>
       <a id="plfa_plfa-part2-Untyped-19944" href="../Untyped/#plfa_plfa-part2-Untyped-19800" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19953" href="../Untyped/#plfa_plfa-part2-Untyped-19816" class="Bound">N</a>
</pre><p>给定类型 <code>A</code> 的项 <code>L</code>，求值器会对于某 <code>N</code> 返回自 <code>L</code> 至 <code>N</code> 的规约序列，并提示规约是否完成：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20195" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Steps"></a><a id="plfa_plfa-part2-Untyped-20200" href="../Untyped/#plfa_plfa-part2-Untyped-20200" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20206" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20208" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20210" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20211" href="../Untyped/#plfa_plfa-part2-Untyped-20211" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20213" href="../Untyped/#plfa_plfa-part2-Untyped-20213" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20214" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20216" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20218" href="../Untyped/#plfa_plfa-part2-Untyped-20211" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20220" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20222" href="../Untyped/#plfa_plfa-part2-Untyped-20213" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-20224" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20226" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-20230" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Steps.steps"></a><a id="plfa_plfa-part2-Untyped-20239" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20245" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20247" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20249" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20250" href="../Untyped/#plfa_plfa-part2-Untyped-20250" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20252" href="../Untyped/#plfa_plfa-part2-Untyped-20252" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20253" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20255" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20256" href="../Untyped/#plfa_plfa-part2-Untyped-20256" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20258" href="../Untyped/#plfa_plfa-part2-Untyped-20258" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-20260" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20262" href="../Untyped/#plfa_plfa-part2-Untyped-20250" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20264" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20266" href="../Untyped/#plfa_plfa-part2-Untyped-20252" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20267" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-20273" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20275" href="../Untyped/#plfa_plfa-part2-Untyped-20256" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20277" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-20280" href="../Untyped/#plfa_plfa-part2-Untyped-20258" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-20286" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20288" href="../Untyped/#plfa_plfa-part2-Untyped-19800" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-20297" href="../Untyped/#plfa_plfa-part2-Untyped-20258" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-20305" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-20320" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20322" href="../Untyped/#plfa_plfa-part2-Untyped-20200" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20328" href="../Untyped/#plfa_plfa-part2-Untyped-20256" class="Bound">L</a>
</pre><p>求值器取汽油和项，返回对应的步骤：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-eval"></a><a id="plfa_plfa-part2-Untyped-20444" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20449" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20451" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20453" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20454" href="../Untyped/#plfa_plfa-part2-Untyped-20454" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20456" href="../Untyped/#plfa_plfa-part2-Untyped-20456" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20457" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-20461" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20463" href="../Untyped/#plfa_plfa-part2-Untyped-19548" class="Record">Gas</a>
  <a id="plfa_plfa-part2-Untyped-20469" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20471" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20472" href="../Untyped/#plfa_plfa-part2-Untyped-20472" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20474" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20476" href="../Untyped/#plfa_plfa-part2-Untyped-20454" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20478" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20480" href="../Untyped/#plfa_plfa-part2-Untyped-20456" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20481" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-20487" class="Comment">-----------</a>
  <a id="plfa_plfa-part2-Untyped-20501" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20503" href="../Untyped/#plfa_plfa-part2-Untyped-20200" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20509" href="../Untyped/#plfa_plfa-part2-Untyped-20472" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20511" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20516" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20517" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20521" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-20525" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-20530" href="../Untyped/#plfa_plfa-part2-Untyped-20530" class="Bound">L</a>                     <a id="plfa_plfa-part2-Untyped-20552" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20555" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20561" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20562" href="../Untyped/#plfa_plfa-part2-Untyped-20530" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20564" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20565" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20567" href="../Untyped/#plfa_plfa-part2-Untyped-19906" class="InductiveConstructor">out-of-gas</a>
<a id="plfa_plfa-part2-Untyped-20578" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20583" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20584" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20588" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20589" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-20593" href="../Untyped/#plfa_plfa-part2-Untyped-20593" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20594" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-20597" href="../Untyped/#plfa_plfa-part2-Untyped-20597" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20599" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20604" href="../Untyped/#plfa_plfa-part2-Untyped-16552" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-20613" href="../Untyped/#plfa_plfa-part2-Untyped-20597" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20615" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20619" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20621" href="../Untyped/#plfa_plfa-part2-Untyped-16397" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20626" href="../Untyped/#plfa_plfa-part2-Untyped-20626" class="Bound">NrmL</a>                          <a id="plfa_plfa-part2-Untyped-20656" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20659" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20665" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20666" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20668" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20669" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20671" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20672" href="../Untyped/#plfa_plfa-part2-Untyped-19843" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20677" href="../Untyped/#plfa_plfa-part2-Untyped-20626" class="Bound">NrmL</a><a id="plfa_plfa-part2-Untyped-20681" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-20683" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20687" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20689" href="../Untyped/#plfa_plfa-part2-Untyped-16326" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-20694" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20695" href="../Untyped/#plfa_plfa-part2-Untyped-20695" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-20696" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20698" href="../Untyped/#plfa_plfa-part2-Untyped-20698" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20703" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20708" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20713" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20714" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20718" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20719" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20721" href="../Untyped/#plfa_plfa-part2-Untyped-20695" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-20723" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-20730" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20732" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20738" href="../Untyped/#plfa_plfa-part2-Untyped-20738" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-20743" href="../Untyped/#plfa_plfa-part2-Untyped-20743" class="Bound">fin</a>                  <a id="plfa_plfa-part2-Untyped-20764" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20767" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20773" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20774" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20776" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-20780" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20785" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-20787" href="../Untyped/#plfa_plfa-part2-Untyped-20738" class="Bound">M—↠N</a><a id="plfa_plfa-part2-Untyped-20791" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20793" href="../Untyped/#plfa_plfa-part2-Untyped-20743" class="Bound">fin</a>
</pre><p>定义与之前一样，除了我们将空上下文 <code>∅</code> 推广至任意上下文 <code>Γ</code>。</p><h2 id="例子">例子</h2><p>我们重复之前的例子。二加二得四，以 Church 数来表示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-21108" href="../Untyped/#plfa_plfa-part2-Untyped-21108" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-21110" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-21112" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-21117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21118" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-21122" class="Number">100</a><a id="plfa_plfa-part2-Untyped-21125" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21127" href="../Untyped/#plfa_plfa-part2-Untyped-7137" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-21132" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>
  <a id="plfa_plfa-part2-Untyped-21136" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a>
   <a id="plfa_plfa-part2-Untyped-21145" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21147" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21154" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21155" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21163" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21164" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21173" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21174" class="InductiveConstructor Operator">ƛ</a>
        <a id="plfa_plfa-part2-Untyped-21184" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21185" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21187" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21188" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21190" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21191" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21193" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21194" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21196" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21197" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21202" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21204" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21205" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21207" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21208" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21210" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21211" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21214" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Untyped-21224" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21226" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21228" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21229" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21231" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21232" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21234" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21235" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21239" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21241" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21242" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21244" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21245" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21247" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21248" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21251" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21253" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21254" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21256" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21257" class="Symbol">))))))</a>
    <a id="plfa_plfa-part2-Untyped-21268" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21270" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21271" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21273" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21274" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21276" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21277" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21279" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21280" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21282" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21283" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21286" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21288" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21290" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21292" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21293" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21295" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21296" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21299" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21301" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21302" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21304" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21305" class="Symbol">))))</a>
    <a id="plfa_plfa-part2-Untyped-21314" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21316" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21317" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21319" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21320" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21322" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21323" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21325" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21326" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21328" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21329" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21332" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21334" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21336" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21338" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21339" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21341" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21342" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21345" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21347" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21348" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21350" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21351" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21359" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21363" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21366" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21368" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21374" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21375" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21382" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21383" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21391" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21392" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21401" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21402" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21404" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21405" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21407" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21408" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21410" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21411" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21413" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21414" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21417" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21419" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21421" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21423" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21424" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21426" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21427" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21430" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21432" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21433" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21435" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21436" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21441" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21443" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21444" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21446" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21447" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21449" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21450" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21453" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-21462" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21464" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21466" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21467" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21469" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21470" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21472" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21473" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21477" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21479" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21480" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21482" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21483" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21485" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21486" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21489" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21491" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21492" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21494" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21495" class="Symbol">)))))</a>
    <a id="plfa_plfa-part2-Untyped-21505" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21507" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21508" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21510" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21511" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21513" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21514" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21516" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21517" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21519" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21520" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21523" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21525" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21527" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21529" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21530" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21532" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21533" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21536" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21538" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21539" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21541" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21542" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21550" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21554" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21556" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21562" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21568" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21569" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21576" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21577" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21579" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21580" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21582" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21583" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21585" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21586" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21588" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21589" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21592" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21594" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21596" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21598" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21599" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21601" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21602" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21605" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21607" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21608" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21610" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21611" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21616" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21618" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21619" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21621" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21622" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21624" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21625" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21628" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21635" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21637" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21639" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21640" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21642" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21643" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21645" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21646" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21648" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21649" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21652" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21654" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21656" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21658" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21659" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21661" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21662" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21665" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21667" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21668" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21670" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21671" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21676" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21678" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21679" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21681" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21682" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21684" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21685" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21688" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21690" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21691" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21693" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21694" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21701" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21705" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21707" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21708" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21710" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21711" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21714" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21715" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21718" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21724" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21730" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21731" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21738" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21739" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21741" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21742" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21744" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21745" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21747" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21748" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21750" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21751" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21755" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21757" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21759" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21761" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21762" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21764" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21765" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21767" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21768" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21772" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21774" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21775" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21777" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21778" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21782" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21789" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21791" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21793" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21794" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21796" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21797" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21799" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21800" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21802" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21803" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21806" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21808" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21810" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21812" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21813" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21815" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21816" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21819" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21821" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21822" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21824" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21825" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21830" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21832" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21833" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21835" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21836" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21838" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21839" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21842" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21844" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21845" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21847" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21848" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21855" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21859" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21861" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21862" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21864" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21865" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21867" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21873" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21879" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21880" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21887" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21888" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21890" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21891" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21893" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21894" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21897" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21904" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21906" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21908" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21909" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21911" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21912" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21915" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21923" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21925" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21927" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21928" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21930" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21931" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21933" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21934" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21936" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21937" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21940" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21942" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21944" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21946" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21947" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21949" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21950" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21953" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21955" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21956" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21958" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21959" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21964" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21966" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21967" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21969" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21970" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21972" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21973" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21976" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21978" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21979" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21981" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21982" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21990" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21994" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21996" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21997" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21999" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22000" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22003" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22004" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22007" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22008" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-22011" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22012" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-22017" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22023" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-22029" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22030" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22037" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22038" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22040" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22041" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22043" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22044" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22047" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-22054" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22056" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22058" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22059" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22061" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22062" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22065" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-22073" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22075" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22077" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22078" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22080" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22081" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22083" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22084" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22086" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22087" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22091" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22093" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22095" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22097" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22098" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22100" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22101" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22103" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22104" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22108" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22110" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22111" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22113" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22114" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22118" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22120" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22121" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22123" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22124" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-22132" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-22136" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22138" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22139" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22141" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22142" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22145" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22146" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22149" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22150" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22154" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22160" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22162" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22163" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22166" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22168" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22169" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22171" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22172" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22175" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22177" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22179" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22181" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22182" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22184" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22185" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22188" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22190" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22192" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22194" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22195" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22197" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22198" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22201" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22203" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22205" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22207" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22208" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22210" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22211" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22214" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22216" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22217" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22219" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22220" class="Symbol">)))))</a>
   <a id="plfa_plfa-part2-Untyped-22229" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-22230" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Untyped-22235" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22236" class="InductiveConstructor">done</a>
    <a id="plfa_plfa-part2-Untyped-22245" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22246" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22253" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22254" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-22262" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22263" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a>
       <a id="plfa_plfa-part2-Untyped-22272" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22273" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22275" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22276" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22278" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22279" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22282" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-22291" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22292" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22294" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22295" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22297" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22298" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22300" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22301" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22304" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22306" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22307" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22309" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22310" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22312" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22313" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22315" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22316" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22319" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22321" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22322" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22324" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22325" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22327" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22328" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22330" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22331" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22334" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22336" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22337" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22339" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22340" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22342" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22343" class="Symbol">)))))))))</a>
<a id="plfa_plfa-part2-Untyped-22353" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-22355" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-22357" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><h2 id="自然数和不动点">自然数和不动点</h2><p>我们可以使用 Church 数来表示自然数，但是计算某数的前继很复杂且昂贵。 取而代之的，我们使用另一种表示方法，叫做 Scott 数，其核心思想是一个数对应了对其自身的分情况讨论。</p><p>回忆 Church 数将某给定函数应用对应的次数。 使用命名的项，我们如下表示前三个 Church 数：</p><pre><code>zero  =  ƛ s ⇒ ƛ z ⇒ z
one   =  ƛ s ⇒ ƛ z ⇒ s · z
two   =  ƛ s ⇒ ƛ z ⇒ s · (s · z)</code></pre><p>作为对比，我们如下表示前三个 Scott 数：</p><pre><code>zero = ƛ s ⇒ ƛ z ⇒ z
one  = ƛ s ⇒ ƛ z ⇒ s · zero
two  = ƛ s ⇒ ƛ z ⇒ s · one</code></pre><p>每个数取两个参数，一个对应了后继分支的情况（它要求额外的参数，即当前参数的前继）， 一个对应了零分支的情况。 （两种情况可以以任意顺序出现。我们在此将后继分支放在前面，以方便与 Church 数对比。）</p><p>下面是以 de Bruijn 因子编码的自然数的 Scott 表示法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-`zero"></a><a id="plfa_plfa-part2-Untyped-23905" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23911" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23913" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23915" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23916" href="../Untyped/#plfa_plfa-part2-Untyped-23916" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23917" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23919" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23921" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23922" href="../Untyped/#plfa_plfa-part2-Untyped-23916" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23924" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23926" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23927" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23929" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23935" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23937" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23939" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23941" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23942" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23944" class="Number">0</a><a id="plfa_plfa-part2-Untyped-23945" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-`suc_"></a><a id="plfa_plfa-part2-Untyped-23948" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23954" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23956" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23958" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23959" href="../Untyped/#plfa_plfa-part2-Untyped-23959" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23960" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23962" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23964" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23965" href="../Untyped/#plfa_plfa-part2-Untyped-23959" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23967" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23969" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23970" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23972" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23974" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23975" href="../Untyped/#plfa_plfa-part2-Untyped-23959" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23977" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23979" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23980" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23982" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23988" href="../Untyped/#plfa_plfa-part2-Untyped-23988" class="Bound">M</a>  <a id="plfa_plfa-part2-Untyped-23991" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23993" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23994" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23996" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23998" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24000" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24001" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24003" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24005" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24007" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24009" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24010" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24013" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24015" href="../Untyped/#plfa_plfa-part2-Untyped-23988" class="Bound">M</a>

<a id="plfa_plfa-part2-Untyped-case"></a><a id="plfa_plfa-part2-Untyped-24018" href="../Untyped/#plfa_plfa-part2-Untyped-24018" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-24023" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24025" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-24027" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24028" href="../Untyped/#plfa_plfa-part2-Untyped-24028" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-24029" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24031" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-24033" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24034" href="../Untyped/#plfa_plfa-part2-Untyped-24028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-24036" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-24038" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-24039" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24041" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-24043" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24044" href="../Untyped/#plfa_plfa-part2-Untyped-24028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-24046" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-24048" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-24049" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24051" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-24053" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24054" href="../Untyped/#plfa_plfa-part2-Untyped-24028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-24056" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-24058" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-24060" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-24062" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-24063" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-24066" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-24068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24069" href="../Untyped/#plfa_plfa-part2-Untyped-24028" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-24071" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-24073" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-24074" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-24076" href="../Untyped/#plfa_plfa-part2-Untyped-24018" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-24081" href="../Untyped/#plfa_plfa-part2-Untyped-24081" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24083" href="../Untyped/#plfa_plfa-part2-Untyped-24083" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-24085" href="../Untyped/#plfa_plfa-part2-Untyped-24085" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-24087" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24089" href="../Untyped/#plfa_plfa-part2-Untyped-24081" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-24091" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24093" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24094" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24096" href="../Untyped/#plfa_plfa-part2-Untyped-24085" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-24097" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24099" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24101" href="../Untyped/#plfa_plfa-part2-Untyped-24083" class="Bound">M</a>
</pre><p>我们小心地保留之前定义相同的形式。 后继分支期望作用域内有一个额外的变量（由它的类型可以看出），所以它被一个抽象转换成了一个普通的项。</p><p>对零使用后继的确规约至 Scott 数表示的一：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-24548" href="../Untyped/#plfa_plfa-part2-Untyped-24548" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-24550" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24552" href="../Untyped/#plfa_plfa-part2-Untyped-20444" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-24557" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24558" href="../Untyped/#plfa_plfa-part2-Untyped-19578" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-24562" class="Number">100</a><a id="plfa_plfa-part2-Untyped-24565" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24567" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24568" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-24574" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24575" href="../Untyped/#plfa_plfa-part2-Untyped-4183" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-24576" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24578" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Function">`zero</a><a id="plfa_plfa-part2-Untyped-24583" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24585" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>
    <a id="plfa_plfa-part2-Untyped-24591" href="../Untyped/#plfa_plfa-part2-Untyped-20239" class="InductiveConstructor">steps</a>
        <a id="plfa_plfa-part2-Untyped-24605" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-24607" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24609" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24610" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24612" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24613" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24615" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24617" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24619" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24621" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24623" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24624" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-24628" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24630" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24631" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24633" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24634" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24636" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24638" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24639" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Untyped-24646" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-24650" href="../Untyped/#plfa_plfa-part2-Untyped-13207" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-24652" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a>
         <a id="plfa_plfa-part2-Untyped-24663" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24665" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24666" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24668" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24670" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24672" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24674" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24675" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24677" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24678" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24680" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24682" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24683" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Untyped-24691" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-24692" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-24698" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24699" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-24704" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24705" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24707" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24708" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24710" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24711" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24713" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24714" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24716" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24717" href="../Untyped/#plfa_plfa-part2-Untyped-4769" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-24719" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24720" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24723" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24725" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24726" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24728" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24729" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24731" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24732" href="../Untyped/#plfa_plfa-part2-Untyped-11062" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24734" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24735" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24737" href="../Untyped/#plfa_plfa-part2-Untyped-4724" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24738" class="Symbol">))))))))</a>
<a id="plfa_plfa-part2-Untyped-24747" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-24749" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24751" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>我们同样可以定义不动点。使用命名的项，我们定义：</p><pre><code>μ f = (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))</code></pre><p>它能实现不动点的原因是：</p><pre><code>  μ f
≡
  (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))
—→
  f · ((ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x)))
≡
  f · (μ f)</code></pre><p>使用 de Bruijn 因子，我们有如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-μ_"></a><a id="plfa_plfa-part2-Untyped-25191" href="../Untyped/#plfa_plfa-part2-Untyped-25191" class="Function Operator">μ_</a> <a id="plfa_plfa-part2-Untyped-25194" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25196" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25198" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25199" href="../Untyped/#plfa_plfa-part2-Untyped-25199" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25200" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25202" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25204" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25205" href="../Untyped/#plfa_plfa-part2-Untyped-25199" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25207" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-25209" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-25211" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25213" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25214" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25216" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25219" href="../Untyped/#plfa_plfa-part2-Untyped-25199" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25221" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25223" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25224" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-25226" href="../Untyped/#plfa_plfa-part2-Untyped-25191" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25228" href="../Untyped/#plfa_plfa-part2-Untyped-25228" class="Bound">N</a>  <a id="plfa_plfa-part2-Untyped-25231" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-25234" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25235" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25237" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-25239" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25241" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25242" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25244" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25246" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25248" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25249" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25251" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25253" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25255" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25257" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25258" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-25262" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25264" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25265" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25267" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25268" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25270" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25272" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25274" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25275" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25277" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25279" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25281" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25283" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25284" class="Symbol">)))))</a> <a id="plfa_plfa-part2-Untyped-25290" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25292" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25293" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25295" href="../Untyped/#plfa_plfa-part2-Untyped-25228" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-25296" class="Symbol">)</a>
</pre><p>不动点的参数与之前自然数的后继分支的处理方法相似。</p><p>我们可以如之前一样定义二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-25504" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-25510" class="Number">5</a> <a id="plfa_plfa-part2-Untyped-25512" href="../Untyped/#plfa_plfa-part2-Untyped-25191" class="Function Operator">μ_</a>

<a id="plfa_plfa-part2-Untyped-two"></a><a id="plfa_plfa-part2-Untyped-25516" href="../Untyped/#plfa_plfa-part2-Untyped-25516" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25520" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25522" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25524" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25525" href="../Untyped/#plfa_plfa-part2-Untyped-25525" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25526" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25528" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25530" href="../Untyped/#plfa_plfa-part2-Untyped-25525" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25532" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25534" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25536" href="../Untyped/#plfa_plfa-part2-Untyped-25516" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25540" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25542" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25547" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25552" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-four"></a><a id="plfa_plfa-part2-Untyped-25559" href="../Untyped/#plfa_plfa-part2-Untyped-25559" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25564" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25566" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25568" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25569" href="../Untyped/#plfa_plfa-part2-Untyped-25569" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25570" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25572" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25574" href="../Untyped/#plfa_plfa-part2-Untyped-25569" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25576" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25578" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25580" href="../Untyped/#plfa_plfa-part2-Untyped-25559" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25585" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25587" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25592" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25597" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25602" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25607" href="../Untyped/#plfa_plfa-part2-Untyped-23905" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-plus"></a><a id="plfa_plfa-part2-Untyped-25614" href="../Untyped/#plfa_plfa-part2-Untyped-25614" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25619" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25621" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25623" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25624" href="../Untyped/#plfa_plfa-part2-Untyped-25624" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25625" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25627" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25629" href="../Untyped/#plfa_plfa-part2-Untyped-25624" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25631" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25633" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25635" href="../Untyped/#plfa_plfa-part2-Untyped-25614" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25640" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25642" href="../Untyped/#plfa_plfa-part2-Untyped-25191" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25644" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25646" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25648" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25649" href="../Untyped/#plfa_plfa-part2-Untyped-24018" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-25654" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25655" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25657" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25658" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25660" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25661" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25663" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25664" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25666" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25667" href="../Untyped/#plfa_plfa-part2-Untyped-23948" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25672" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25673" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25675" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-25677" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25679" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25681" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25683" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25685" href="../Untyped/#plfa_plfa-part2-Untyped-6753" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25687" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25688" class="Symbol">)))</a>
</pre><p>由于 <code>`suc</code> 是定义的项，而不是原语项， <code>plus · two · two</code> 不再规约至 <code>four</code>， 但是它们都规约至相同的范式。</p><h4 id="练习-plus-eval-实践">练习 <code>plus-eval</code> （实践）</h4><p>使用求值器，证实 <code>plus · two · two</code> 和 <code>four</code> 正规化至相同的项。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26197" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-multiplication-untyped-推荐">练习 <code>multiplication-untyped</code> （推荐）</h4><p>使用上文中的编码，翻译你之前章节乘法的定义，使得其使用 Scott 表示法和编码后的不动点运算符。 证实二乘二得四。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26598" class="Comment">-- 请将代码写在此处。</a>
</pre><h4 id="练习-encode-more-延伸">练习 <code>encode-more</code> （延伸）</h4><p>用上文中类似的方法，编码 <a href="../More/">More</a> 章节除了原语数字以外的剩余构造，用无类型的 λ 演算。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26906" class="Comment">-- 请将代码写在此处。</a>
</pre><h2 id="多步规约是传递的">多步规约是传递的</h2><p>在我们对自反传递闭包的形式化，即 <code>—↠</code> 关系中，没有出现直接的传递性规则。 取而代之的是，这个关系模仿了列表形式，有一种空规约序列的情况，也有一种将一步规约加在规约序列之前的情况。 下面是传递性的证明，其与列表的附加 <code>_++_</code> 函数的结构相似。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-—↠-trans"></a><a id="plfa_plfa-part2-Untyped-27565" href="../Untyped/#plfa_plfa-part2-Untyped-27565" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27574" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27576" class="Symbol">∀{</a><a id="plfa_plfa-part2-Untyped-27578" href="../Untyped/#plfa_plfa-part2-Untyped-27578" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-27579" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27581" href="../Untyped/#plfa_plfa-part2-Untyped-27581" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27582" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27584" href="../Untyped/#plfa_plfa-part2-Untyped-27584" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27586" href="../Untyped/#plfa_plfa-part2-Untyped-27586" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27588" href="../Untyped/#plfa_plfa-part2-Untyped-27588" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27590" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27592" href="../Untyped/#plfa_plfa-part2-Untyped-27578" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27594" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27596" href="../Untyped/#plfa_plfa-part2-Untyped-27581" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27597" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-27608" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27610" href="../Untyped/#plfa_plfa-part2-Untyped-27584" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27612" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27615" href="../Untyped/#plfa_plfa-part2-Untyped-27586" class="Bound">M</a>
         <a id="plfa_plfa-part2-Untyped-27626" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27628" href="../Untyped/#plfa_plfa-part2-Untyped-27586" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27630" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27633" href="../Untyped/#plfa_plfa-part2-Untyped-27588" class="Bound">N</a>
         <a id="plfa_plfa-part2-Untyped-27644" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27646" href="../Untyped/#plfa_plfa-part2-Untyped-27584" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27648" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27651" href="../Untyped/#plfa_plfa-part2-Untyped-27588" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27653" href="../Untyped/#plfa_plfa-part2-Untyped-27565" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27662" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27663" href="../Untyped/#plfa_plfa-part2-Untyped-27663" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27665" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-27666" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27668" href="../Untyped/#plfa_plfa-part2-Untyped-27668" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27671" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27673" href="../Untyped/#plfa_plfa-part2-Untyped-27668" class="Bound">mn</a>
<a id="plfa_plfa-part2-Untyped-27676" href="../Untyped/#plfa_plfa-part2-Untyped-27565" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27685" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27686" href="../Untyped/#plfa_plfa-part2-Untyped-27686" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27688" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27692" href="../Untyped/#plfa_plfa-part2-Untyped-27692" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27694" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27696" href="../Untyped/#plfa_plfa-part2-Untyped-27696" class="Bound">lm</a><a id="plfa_plfa-part2-Untyped-27698" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27700" href="../Untyped/#plfa_plfa-part2-Untyped-27700" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27703" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27705" href="../Untyped/#plfa_plfa-part2-Untyped-27686" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27707" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27711" href="../Untyped/#plfa_plfa-part2-Untyped-27692" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27713" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27715" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27716" href="../Untyped/#plfa_plfa-part2-Untyped-27565" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27725" href="../Untyped/#plfa_plfa-part2-Untyped-27696" class="Bound">lm</a> <a id="plfa_plfa-part2-Untyped-27728" href="../Untyped/#plfa_plfa-part2-Untyped-27700" class="Bound">mn</a><a id="plfa_plfa-part2-Untyped-27730" class="Symbol">)</a>
</pre><p>下面的记法使得应用 <code>—↠</code> 的传递性更加方便。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-27856" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-27863" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-27865" href="../Untyped/#plfa_plfa-part2-Untyped-27874" class="Function Operator">_—↠⟨_⟩_</a>

<a id="plfa_plfa-part2-Untyped-_—↠⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-27874" href="../Untyped/#plfa_plfa-part2-Untyped-27874" class="Function Operator">_—↠⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-27882" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27884" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-27886" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27887" href="../Untyped/#plfa_plfa-part2-Untyped-27887" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27889" href="../Untyped/#plfa_plfa-part2-Untyped-27889" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27890" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-27892" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27893" href="../Untyped/#plfa_plfa-part2-Untyped-27893" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27895" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27897" href="../Untyped/#plfa_plfa-part2-Untyped-27887" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27899" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27901" href="../Untyped/#plfa_plfa-part2-Untyped-27889" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27902" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27904" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27905" href="../Untyped/#plfa_plfa-part2-Untyped-27905" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27907" href="../Untyped/#plfa_plfa-part2-Untyped-27907" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27909" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27911" href="../Untyped/#plfa_plfa-part2-Untyped-27887" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27913" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27915" href="../Untyped/#plfa_plfa-part2-Untyped-27889" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27916" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-27922" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27924" href="../Untyped/#plfa_plfa-part2-Untyped-27893" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27926" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27929" href="../Untyped/#plfa_plfa-part2-Untyped-27905" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-27935" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27937" href="../Untyped/#plfa_plfa-part2-Untyped-27905" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27939" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27942" href="../Untyped/#plfa_plfa-part2-Untyped-27907" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-27950" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-27964" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27966" href="../Untyped/#plfa_plfa-part2-Untyped-27893" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27968" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27971" href="../Untyped/#plfa_plfa-part2-Untyped-27907" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27973" href="../Untyped/#plfa_plfa-part2-Untyped-27973" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27975" href="../Untyped/#plfa_plfa-part2-Untyped-27874" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Untyped-27979" href="../Untyped/#plfa_plfa-part2-Untyped-27979" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27984" href="../Untyped/#plfa_plfa-part2-Untyped-27874" class="Function Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27986" href="../Untyped/#plfa_plfa-part2-Untyped-27986" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-27991" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27993" href="../Untyped/#plfa_plfa-part2-Untyped-27565" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-28002" href="../Untyped/#plfa_plfa-part2-Untyped-27979" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-28007" href="../Untyped/#plfa_plfa-part2-Untyped-27986" class="Bound">M—↠N</a>
</pre><h2 id="多步规约是合同性的">多步规约是合同性的</h2><p>回忆 <a href="../Induction/">Induction</a> 章节中，一个关系 <code>R</code> 对于一个给定的函数 <code>f</code> 在函数应用后仍然保持关系时，满足<strong>合同关系</strong>， 即『若 <code>R x y</code>，则 <code>R (f x) (f y)</code>』。 项构造子 <code>ƛ_</code> and <code>_·_</code> 是函数，因此合同性的概念也可作用于它们之上。 另外，当一个关系对于所有项的构造子满足合同时，我们说它对于整个语言满足合同性，在此即无类型的 λ 演算。</p><p>规则 <code>ξ₁</code> 、<code>ξ₂</code> 和 <code>ζ</code> 保证了规约关系对于无类型的 λ 演算满足合同性。 多步规约也是一个合同关系，我们在下面三条引理中证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appL-cong"></a><a id="plfa_plfa-part2-Untyped-29098" href="../Untyped/#plfa_plfa-part2-Untyped-29098" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29108" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29110" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-29112" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29113" href="../Untyped/#plfa_plfa-part2-Untyped-29113" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29114" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29116" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29117" href="../Untyped/#plfa_plfa-part2-Untyped-29117" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29119" href="../Untyped/#plfa_plfa-part2-Untyped-29119" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29122" href="../Untyped/#plfa_plfa-part2-Untyped-29122" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29124" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29126" href="../Untyped/#plfa_plfa-part2-Untyped-29113" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-29128" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-29130" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-29131" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-29142" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29144" href="../Untyped/#plfa_plfa-part2-Untyped-29117" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29146" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29149" href="../Untyped/#plfa_plfa-part2-Untyped-29119" class="Bound">L&#39;</a>
           <a id="plfa_plfa-part2-Untyped-29163" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-29188" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29190" href="../Untyped/#plfa_plfa-part2-Untyped-29117" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29192" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29194" href="../Untyped/#plfa_plfa-part2-Untyped-29122" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29196" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29199" href="../Untyped/#plfa_plfa-part2-Untyped-29119" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29202" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29204" href="../Untyped/#plfa_plfa-part2-Untyped-29122" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-29206" href="../Untyped/#plfa_plfa-part2-Untyped-29098" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29216" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29217" href="../Untyped/#plfa_plfa-part2-Untyped-29217" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29218" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29220" href="../Untyped/#plfa_plfa-part2-Untyped-29220" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29221" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29223" href="../Untyped/#plfa_plfa-part2-Untyped-29223" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29225" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29227" href="../Untyped/#plfa_plfa-part2-Untyped-29227" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29228" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29230" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29231" href="../Untyped/#plfa_plfa-part2-Untyped-29220" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29233" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-29234" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29236" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29238" href="../Untyped/#plfa_plfa-part2-Untyped-29220" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29240" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29242" href="../Untyped/#plfa_plfa-part2-Untyped-29227" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29244" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-29246" href="../Untyped/#plfa_plfa-part2-Untyped-29098" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29256" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29257" href="../Untyped/#plfa_plfa-part2-Untyped-29257" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29258" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29260" href="../Untyped/#plfa_plfa-part2-Untyped-29260" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29261" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29263" href="../Untyped/#plfa_plfa-part2-Untyped-29263" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29265" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29267" href="../Untyped/#plfa_plfa-part2-Untyped-29267" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29268" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29270" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29271" href="../Untyped/#plfa_plfa-part2-Untyped-29260" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29273" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29277" href="../Untyped/#plfa_plfa-part2-Untyped-29277" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29279" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29281" href="../Untyped/#plfa_plfa-part2-Untyped-29281" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-29283" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29285" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29287" href="../Untyped/#plfa_plfa-part2-Untyped-29260" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29289" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29291" href="../Untyped/#plfa_plfa-part2-Untyped-29267" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29293" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29297" href="../Untyped/#plfa_plfa-part2-Untyped-13027" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-29300" href="../Untyped/#plfa_plfa-part2-Untyped-29277" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29302" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29304" href="../Untyped/#plfa_plfa-part2-Untyped-29098" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29314" href="../Untyped/#plfa_plfa-part2-Untyped-29281" class="Bound">rs</a>
</pre><p><code>appL-cong</code> 的证明对于规约序列 <code>L —↠ L&#39;</code> 进行归纳。 * 若 <code>L —↠ L</code> 由 <code>L ∎</code> 成立。那我们可从 <code>L · M ∎</code> 得 <code>L · M —↠ L · M</code> 。 * 若 <code>L —↠ L&#39;&#39;</code> 由 <code>L —→⟨ r ⟩ rs</code> 成立，那么 <code>L —→ L&#39;</code> 由 <code>r</code> 成立，且 <code>L&#39; —↠ L&#39;&#39;</code> 由 <code>rs</code> 成立。 我们可从 <code>ξ₁ r</code> 得 <code>L · M —→ L&#39; · M</code>，且对 <code>rs</code> 应用归纳假设得到 <code>L&#39; · M —↠ L&#39;&#39; · M</code>。 我们可以将两者用 <code>_—→⟨_⟩_</code> 组合来获得 <code>L · M —↠ L&#39;&#39; · M</code>。</p><p><code>appR-cong</code> 和 <code>abs-cong</code> 的证明与 <code>appL-cong</code> 的证明使用一样的方法。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appR-cong"></a><a id="plfa_plfa-part2-Untyped-30251" href="../Untyped/#plfa_plfa-part2-Untyped-30251" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30261" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30263" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30265" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30266" href="../Untyped/#plfa_plfa-part2-Untyped-30266" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30267" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30269" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30270" href="../Untyped/#plfa_plfa-part2-Untyped-30270" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30272" href="../Untyped/#plfa_plfa-part2-Untyped-30272" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30274" href="../Untyped/#plfa_plfa-part2-Untyped-30274" class="Bound">M&#39;</a> <a id="plfa_plfa-part2-Untyped-30277" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30279" href="../Untyped/#plfa_plfa-part2-Untyped-30266" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30281" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30283" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30284" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30295" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30297" href="../Untyped/#plfa_plfa-part2-Untyped-30272" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30299" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30302" href="../Untyped/#plfa_plfa-part2-Untyped-30274" class="Bound">M&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30316" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-30341" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30343" href="../Untyped/#plfa_plfa-part2-Untyped-30270" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30345" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30347" href="../Untyped/#plfa_plfa-part2-Untyped-30272" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30349" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30352" href="../Untyped/#plfa_plfa-part2-Untyped-30270" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30354" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30356" href="../Untyped/#plfa_plfa-part2-Untyped-30274" class="Bound">M&#39;</a>
<a id="plfa_plfa-part2-Untyped-30359" href="../Untyped/#plfa_plfa-part2-Untyped-30251" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30369" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30370" href="../Untyped/#plfa_plfa-part2-Untyped-30370" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30371" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30373" href="../Untyped/#plfa_plfa-part2-Untyped-30373" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30374" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30376" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30377" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30379" href="../Untyped/#plfa_plfa-part2-Untyped-30379" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30381" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30383" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30384" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30386" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30387" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30389" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30391" href="../Untyped/#plfa_plfa-part2-Untyped-30373" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30393" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30395" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30397" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30399" href="../Untyped/#plfa_plfa-part2-Untyped-30251" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30409" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30410" href="../Untyped/#plfa_plfa-part2-Untyped-30410" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30411" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30413" href="../Untyped/#plfa_plfa-part2-Untyped-30413" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30414" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30416" href="../Untyped/#plfa_plfa-part2-Untyped-30416" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30417" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30419" href="../Untyped/#plfa_plfa-part2-Untyped-30419" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30421" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30423" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30424" href="../Untyped/#plfa_plfa-part2-Untyped-30416" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30426" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30430" href="../Untyped/#plfa_plfa-part2-Untyped-30430" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30432" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30434" href="../Untyped/#plfa_plfa-part2-Untyped-30434" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30436" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30438" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30440" href="../Untyped/#plfa_plfa-part2-Untyped-30413" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30442" href="../Untyped/#plfa_plfa-part2-Untyped-5880" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30444" href="../Untyped/#plfa_plfa-part2-Untyped-30416" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30446" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30450" href="../Untyped/#plfa_plfa-part2-Untyped-13117" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-30453" href="../Untyped/#plfa_plfa-part2-Untyped-30430" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30455" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30457" href="../Untyped/#plfa_plfa-part2-Untyped-30251" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30467" href="../Untyped/#plfa_plfa-part2-Untyped-30434" class="Bound">rs</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Untyped-abs-cong"></a><a id="plfa_plfa-part2-Untyped-30483" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30492" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30494" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30496" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30497" href="../Untyped/#plfa_plfa-part2-Untyped-30497" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30498" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30500" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30501" href="../Untyped/#plfa_plfa-part2-Untyped-30501" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30503" href="../Untyped/#plfa_plfa-part2-Untyped-30503" class="Bound">N&#39;</a> <a id="plfa_plfa-part2-Untyped-30506" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30508" href="../Untyped/#plfa_plfa-part2-Untyped-30497" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30510" href="../Untyped/#plfa_plfa-part2-Untyped-4199" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-30512" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-30514" href="../Untyped/#plfa_plfa-part2-Untyped-5732" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30516" href="../Untyped/#plfa_plfa-part2-Untyped-3766" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30517" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30528" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30530" href="../Untyped/#plfa_plfa-part2-Untyped-30501" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30532" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30535" href="../Untyped/#plfa_plfa-part2-Untyped-30503" class="Bound">N&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30549" class="Comment">----------</a>
         <a id="plfa_plfa-part2-Untyped-30569" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30571" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30573" href="../Untyped/#plfa_plfa-part2-Untyped-30501" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30575" href="../Untyped/#plfa_plfa-part2-Untyped-14373" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30578" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30580" href="../Untyped/#plfa_plfa-part2-Untyped-30503" class="Bound">N&#39;</a>
<a id="plfa_plfa-part2-Untyped-30583" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30592" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30593" href="../Untyped/#plfa_plfa-part2-Untyped-30593" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30595" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30596" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30598" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30600" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30602" href="../Untyped/#plfa_plfa-part2-Untyped-30593" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30604" href="../Untyped/#plfa_plfa-part2-Untyped-14423" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30606" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30615" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30616" href="../Untyped/#plfa_plfa-part2-Untyped-30616" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30618" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30622" href="../Untyped/#plfa_plfa-part2-Untyped-30622" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30624" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30626" href="../Untyped/#plfa_plfa-part2-Untyped-30626" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30628" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30630" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30632" href="../Untyped/#plfa_plfa-part2-Untyped-5820" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30634" href="../Untyped/#plfa_plfa-part2-Untyped-30616" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30636" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30640" href="../Untyped/#plfa_plfa-part2-Untyped-13315" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-30642" href="../Untyped/#plfa_plfa-part2-Untyped-30622" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30644" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30646" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30655" href="../Untyped/#plfa_plfa-part2-Untyped-30626" class="Bound">rs</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了下列 Unicode：</p><pre><code>★  U+2605  BLACK STAR (\st)</code></pre><p><code>\st</code> 命令允许选取不同种类的星，我们使用的是第七种。</p></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：Fangyi Zhou</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>