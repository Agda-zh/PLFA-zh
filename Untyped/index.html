<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-dJLJysMdqXtVegSgJLzVykvHbDNrQjmEoKen2rU7YiGMbNpIJIZA1D6HLml44nUJyUGPQ1vkYmT4t5PXKVuBxw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-/ARdgOQa4vn2XAt4Y1F6NSxFACJwwEuz9pC9NZJHfA6M70ZLUlDoqqeh1kAoVZXgqSw2W4T4J1xuBba725O5/A==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Untyped</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Untyped: 完全正规化的无类型 λ-演算</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Untyped-109" class="Keyword">module</a> <a id="plfa_plfa-part2-Untyped-116" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part2-Untyped-135" class="Keyword">where</a>
</pre><p>本章中，我们对于之前的主题加入不同的变化：</p><ul><li>之前的章节中讨论了内在类型的演算；我们这次讨论无类型，但是内在作用域的演算。</li></ul><ul><li>之前的章节中讨论了传值调用（Call-by-value）的演算；我们这次讨论传名调用（Call-by-name）。</li></ul><ul><li>之前的章节中讨论了<strong>弱头部范式</strong>（Weak Head Normal Form），其归约止步于 λ 抽象；我们这次讨论<strong>完全正规化</strong>（Full Normalisation），其在 λ 抽象之下仍然继续归约。</li></ul><ul><li>之前的章节中讨论了<strong>确定性</strong>（Deterministic）的归约，每个项中至多有一个可归约项； 我们这次讨论<strong>非确定性</strong>（Non-deterministic）的归约，每个项中可能有多个可归约项，而每一个都可归约。</li></ul><ul><li>之前的章节中讨论了<strong>封闭</strong>（Closed）的项，其不包含自由变量； 我们这次讨论<strong>开放</strong>（Open）的项，其可能包含自由变量。</li></ul><ul><li>之前的章节中讨论了加入自然数和不动点的 λ 演算； 我们这次讨论只包括变量、抽象和应用的小巧的演算，其他构造均可编码至其中。</li></ul><p>一般来说，我们可以将这些特性选择性的混合匹配，而完全正规化要求开放项， 且编码自然数和不动点需要无类型的演算。 本章的目的是展示 λ 演算可能出现的不同形式。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Untyped-2184" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2191" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Untyped-2229" class="Symbol">as</a> <a id="plfa_plfa-part2-Untyped-2232" class="Module">Eq</a>
<a id="plfa_plfa-part2-Untyped-2235" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2240" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Untyped-2243" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2249" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2250" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Untyped-2253" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2255" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Untyped-2259" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2261" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2266" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2273" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Untyped-2282" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2288" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2289" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-2290" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2292" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-2296" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2298" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Untyped-2301" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2303" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1807" class="Function Operator">_&lt;_</a><a id="plfa_plfa-part2-Untyped-2306" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2308" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Properties.html#6709" class="Function Operator">_≤?_</a><a id="plfa_plfa-part2-Untyped-2312" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2314" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-2317" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2319" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a><a id="plfa_plfa-part2-Untyped-2322" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2324" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2329" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2336" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part2-Untyped-2362" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2368" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2369" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Untyped-2371" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2373" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2378" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2385" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Untyped-2412" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2418" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2419" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4481" class="Function">True</a><a id="plfa_plfa-part2-Untyped-2423" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2425" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4771" class="Function">toWitness</a><a id="plfa_plfa-part2-Untyped-2434" class="Symbol">)</a>
</pre><h2 id="无类型即是单一类型">无类型即是单一类型</h2><p>我们的内容将会和 [DeBruijn] 章节中相似，只是每个项会有相同的类型，写作 <code>★</code>，读作『任意』。 这呼应了一条 Dana Scott 提出，Robert Harper 重复的口号：『无类型即是单一类型』。 这样的结果之一就是之前我们需要额外给出的构造（例如自然数和不动点），现在可以在直接在语言本身中定义。</p><h2 id="语法">语法</h2><p>我们首先定义中缀声明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3216" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3223" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3226" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">_⊢_</a>
<a id="plfa_plfa-part2-Untyped-3230" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3237" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3240" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">_∋_</a>
<a id="plfa_plfa-part2-Untyped-3244" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3251" class="Number">5</a>  <a id="plfa_plfa-part2-Untyped-3254" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">_,_</a>

<a id="plfa_plfa-part2-Untyped-3259" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3266" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3269" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a>
<a id="plfa_plfa-part2-Untyped-3272" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3279" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3282" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′_</a>
<a id="plfa_plfa-part2-Untyped-3285" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3292" class="Number">7</a>  <a id="plfa_plfa-part2-Untyped-3295" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a>
</pre><h2 id="类型">类型</h2><p>我们只有一种类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3382" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Type"></a><a id="plfa_plfa-part2-Untyped-3387" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3392" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3394" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3398" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Type.★"></a><a id="plfa_plfa-part2-Untyped-3406" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-3408" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3410" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a>
</pre><h4 id="练习-type-习题">练习 (<code>Type≃⊤</code>) （习题）</h4><p>证明 <code>Type</code> 与单元类型 <code>⊤</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3588" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="语境">语境</h2><p>和之前一样，语境是类型的列表，最新出现的约束变量的类型出现在最右边：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3793" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Context"></a><a id="plfa_plfa-part2-Untyped-3798" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3806" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3808" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3812" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Context.∅"></a><a id="plfa_plfa-part2-Untyped-3820" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a>   <a id="plfa_plfa-part2-Untyped-3824" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3826" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Untyped-Context._,_"></a><a id="plfa_plfa-part2-Untyped-3836" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-3840" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3842" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3850" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3852" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3857" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3859" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a>
</pre><p>我们使用 <code>Γ</code> 和 <code>Δ</code> 来指代语境。</p><h4 id="练习-contextℕ-习题">练习 (<code>Context≃ℕ</code>) （习题）</h4><p>证明 <code>Context</code> 和 <code>ℕ</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4106" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="变量和查询判断">变量和查询判断</h2><p>内在作用域的变量对应了查询判断。规则与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4318" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_∋_"></a><a id="plfa_plfa-part2-Untyped-4323" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">_∋_</a> <a id="plfa_plfa-part2-Untyped-4327" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4329" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4337" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4339" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4344" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4346" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4350" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.Z"></a><a id="plfa_plfa-part2-Untyped-4359" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Untyped-4361" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4363" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4365" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4366" href="../Untyped/#plfa_plfa-part2-Untyped-4366" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4368" href="../Untyped/#plfa_plfa-part2-Untyped-4368" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-4369" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Untyped-4376" class="Comment">---------</a>
   <a id="plfa_plfa-part2-Untyped-4389" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4391" href="../Untyped/#plfa_plfa-part2-Untyped-4366" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4393" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4395" href="../Untyped/#plfa_plfa-part2-Untyped-4368" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4397" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4399" href="../Untyped/#plfa_plfa-part2-Untyped-4368" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.S_"></a><a id="plfa_plfa-part2-Untyped-4404" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-4407" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4409" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4411" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4412" href="../Untyped/#plfa_plfa-part2-Untyped-4412" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4414" href="../Untyped/#plfa_plfa-part2-Untyped-4414" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4416" href="../Untyped/#plfa_plfa-part2-Untyped-4416" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-4417" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-4423" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4425" href="../Untyped/#plfa_plfa-part2-Untyped-4412" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4427" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4429" href="../Untyped/#plfa_plfa-part2-Untyped-4414" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-4437" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-4451" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4453" href="../Untyped/#plfa_plfa-part2-Untyped-4412" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4455" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4457" href="../Untyped/#plfa_plfa-part2-Untyped-4416" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-4459" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4461" href="../Untyped/#plfa_plfa-part2-Untyped-4414" class="Bound">A</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>因为 <code>★</code> 是唯一的类型，这样的判断并不会给出很多与类型相关的保证。 但它确实确保了所有的变量在作用域内。例如，我们不能在只有两个约束变量的语境中使用 <code>S S Z</code>。</p><h2 id="项与作用域判断">项与作用域判断</h2><p>内类作用域的项对应了赋型判断，但类型只有唯一的 <code>★</code> 类型。 得到的结果则是我们检查了每个项都是良作用域的——即所有使用的变量都在作用域内——而不是它们是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-5361" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_⊢_"></a><a id="plfa_plfa-part2-Untyped-5366" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">_⊢_</a> <a id="plfa_plfa-part2-Untyped-5370" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5372" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-5380" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5382" href="../Untyped/#plfa_plfa-part2-Untyped-3387" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-5387" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5389" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-5393" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.`_"></a><a id="plfa_plfa-part2-Untyped-5402" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Untyped-5405" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5407" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5409" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5410" href="../Untyped/#plfa_plfa-part2-Untyped-5410" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5412" href="../Untyped/#plfa_plfa-part2-Untyped-5412" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-5413" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5419" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5421" href="../Untyped/#plfa_plfa-part2-Untyped-5410" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5423" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-5425" href="../Untyped/#plfa_plfa-part2-Untyped-5412" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-5433" class="Comment">-----</a>
    <a id="plfa_plfa-part2-Untyped-5443" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5445" href="../Untyped/#plfa_plfa-part2-Untyped-5410" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5447" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5449" href="../Untyped/#plfa_plfa-part2-Untyped-5412" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.ƛ_"></a><a id="plfa_plfa-part2-Untyped-5454" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-5458" class="Symbol">:</a>  <a id="plfa_plfa-part2-Untyped-5461" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5463" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5464" href="../Untyped/#plfa_plfa-part2-Untyped-5464" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5465" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5471" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5473" href="../Untyped/#plfa_plfa-part2-Untyped-5464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5475" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-5477" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-5479" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5481" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5489" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-5503" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5505" href="../Untyped/#plfa_plfa-part2-Untyped-5464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5507" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5509" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_._·_"></a><a id="plfa_plfa-part2-Untyped-5514" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Untyped-5518" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5520" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5522" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5523" href="../Untyped/#plfa_plfa-part2-Untyped-5523" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5524" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5530" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5532" href="../Untyped/#plfa_plfa-part2-Untyped-5523" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5534" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5536" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
    <a id="plfa_plfa-part2-Untyped-5542" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5544" href="../Untyped/#plfa_plfa-part2-Untyped-5523" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5546" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5548" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5556" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-5567" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5569" href="../Untyped/#plfa_plfa-part2-Untyped-5523" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5571" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5573" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
</pre><p>现在我们有了一个迷你的演算，至包含变量、抽象和应用。 接下来我们展示如果将自然数和不动点编码进这个演算中。</p><h2 id="用数表示变量">用数表示变量</h2><p>如之前一样，我们可以将自然数转换为对应的 de Bruijn 因子。 我们不再需要从语境中查询变量的类型，因为每个变量都有一样的类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-length"></a><a id="plfa_plfa-part2-Untyped-6110" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6117" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6119" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-6127" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6129" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="plfa_plfa-part2-Untyped-6131" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6138" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a>        <a id="plfa_plfa-part2-Untyped-6147" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6150" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="plfa_plfa-part2-Untyped-6155" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6162" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6163" href="../Untyped/#plfa_plfa-part2-Untyped-6163" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6165" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6167" class="Symbol">_)</a>  <a id="plfa_plfa-part2-Untyped-6171" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6174" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6178" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6179" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6186" href="../Untyped/#plfa_plfa-part2-Untyped-6163" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6187" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-count"></a><a id="plfa_plfa-part2-Untyped-6190" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6196" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6198" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6200" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6201" href="../Untyped/#plfa_plfa-part2-Untyped-6201" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6202" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6204" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6206" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6207" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6209" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6211" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6212" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6214" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6216" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6217" href="../Untyped/#plfa_plfa-part2-Untyped-6217" class="Bound">p</a> <a id="plfa_plfa-part2-Untyped-6219" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6221" href="../Untyped/#plfa_plfa-part2-Untyped-6207" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6223" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1807" class="Function Operator">&lt;</a> <a id="plfa_plfa-part2-Untyped-6225" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6232" href="../Untyped/#plfa_plfa-part2-Untyped-6201" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6233" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-6235" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6237" href="../Untyped/#plfa_plfa-part2-Untyped-6201" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6239" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-6241" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6243" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6249" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6250" href="../Untyped/#plfa_plfa-part2-Untyped-6250" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6252" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6254" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6255" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6257" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6258" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-6262" class="Symbol">}</a>    <a id="plfa_plfa-part2-Untyped-6267" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6268" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6272" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-6275" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-6278" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6281" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-6283" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6289" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6290" href="../Untyped/#plfa_plfa-part2-Untyped-6290" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6292" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6294" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6295" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6297" class="Symbol">{(</a><a id="plfa_plfa-part2-Untyped-6299" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6303" href="../Untyped/#plfa_plfa-part2-Untyped-6303" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6304" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-6307" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6308" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6312" href="../Untyped/#plfa_plfa-part2-Untyped-6312" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6313" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-6318" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6321" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-6323" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6324" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6330" href="../Untyped/#plfa_plfa-part2-Untyped-6312" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6331" class="Symbol">)</a>
</pre><p>我们可以接下来引入一种变量的缩略用法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#_"></a><a id="plfa_plfa-part2-Untyped-6440" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6443" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6445" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6447" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6448" href="../Untyped/#plfa_plfa-part2-Untyped-6448" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6449" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-6453" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6455" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6456" href="../Untyped/#plfa_plfa-part2-Untyped-6456" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6458" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6460" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6461" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-6465" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6467" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6468" href="../Untyped/#plfa_plfa-part2-Untyped-6468" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-6472" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6474" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4481" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-6479" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6480" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6484" href="../Untyped/#plfa_plfa-part2-Untyped-6456" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6486" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Properties.html#6709" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-6489" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6496" href="../Untyped/#plfa_plfa-part2-Untyped-6448" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6497" class="Symbol">)}</a>
    <a id="plfa_plfa-part2-Untyped-6504" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-6539" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6541" href="../Untyped/#plfa_plfa-part2-Untyped-6448" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6543" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6545" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6547" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6550" href="../Untyped/#plfa_plfa-part2-Untyped-6550" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6552" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6553" href="../Untyped/#plfa_plfa-part2-Untyped-6553" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6556" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-6559" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6562" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-6564" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6570" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6571" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4771" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-6581" href="../Untyped/#plfa_plfa-part2-Untyped-6553" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6584" class="Symbol">)</a>
</pre><h2 id="测试例子">测试例子</h2><p>我们唯一的例子是用 Church 数计算二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-twoᶜ"></a><a id="plfa_plfa-part2-Untyped-6734" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6739" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6741" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6743" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6744" href="../Untyped/#plfa_plfa-part2-Untyped-6744" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6745" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6747" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6749" href="../Untyped/#plfa_plfa-part2-Untyped-6744" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6751" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6753" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6755" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6760" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6762" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6764" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6766" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6767" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6769" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6771" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6773" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6774" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6776" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6778" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6780" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6782" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6783" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-fourᶜ"></a><a id="plfa_plfa-part2-Untyped-6787" href="../Untyped/#plfa_plfa-part2-Untyped-6787" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6793" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6795" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6797" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6798" href="../Untyped/#plfa_plfa-part2-Untyped-6798" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6799" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6801" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6803" href="../Untyped/#plfa_plfa-part2-Untyped-6798" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6805" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6807" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6809" href="../Untyped/#plfa_plfa-part2-Untyped-6787" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6815" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6817" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6819" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6821" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6822" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6824" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6826" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6828" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6829" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6831" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6833" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6835" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6836" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6838" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6840" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6842" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6843" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6845" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6847" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6849" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6851" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6852" class="Symbol">))))</a>

<a id="plfa_plfa-part2-Untyped-plusᶜ"></a><a id="plfa_plfa-part2-Untyped-6858" href="../Untyped/#plfa_plfa-part2-Untyped-6858" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6864" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6866" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6868" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6869" href="../Untyped/#plfa_plfa-part2-Untyped-6869" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6870" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6872" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6874" href="../Untyped/#plfa_plfa-part2-Untyped-6869" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6876" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6878" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6880" href="../Untyped/#plfa_plfa-part2-Untyped-6858" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6886" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6888" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6890" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6892" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6894" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6896" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6897" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6899" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-6901" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6903" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6905" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6907" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6909" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6910" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6912" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-6914" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6916" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6918" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6920" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6922" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6924" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6925" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-2+2ᶜ"></a><a id="plfa_plfa-part2-Untyped-6929" href="../Untyped/#plfa_plfa-part2-Untyped-6929" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6934" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6936" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Untyped-6938" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6940" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6942" href="../Untyped/#plfa_plfa-part2-Untyped-6929" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6947" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6949" href="../Untyped/#plfa_plfa-part2-Untyped-6858" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6955" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6957" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6962" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6964" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a>
</pre><p>在之前，我们在遇到 λ 抽象时停止归约，因此我们需要计算 <code>plusᶜ · twoᶜ · twoᶜ · sucᶜ · `zero</code> 来确保我们归约至自然数四。 现在，归约在 λ 之下继续进行，所以我们不需要额外的参数。 为了便利，我们定义用 Church 数来表示二和四的项。</p><h2 id="重命名">重命名</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-ext"></a><a id="plfa_plfa-part2-Untyped-7631" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7635" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7637" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7639" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7640" href="../Untyped/#plfa_plfa-part2-Untyped-7640" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7642" href="../Untyped/#plfa_plfa-part2-Untyped-7642" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-7643" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7645" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7647" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7650" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7651" href="../Untyped/#plfa_plfa-part2-Untyped-7651" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7652" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7654" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7656" href="../Untyped/#plfa_plfa-part2-Untyped-7640" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7658" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7660" href="../Untyped/#plfa_plfa-part2-Untyped-7651" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7662" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7664" href="../Untyped/#plfa_plfa-part2-Untyped-7642" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7666" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7668" href="../Untyped/#plfa_plfa-part2-Untyped-7651" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7669" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-7675" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-7713" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7715" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7718" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7719" href="../Untyped/#plfa_plfa-part2-Untyped-7719" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7721" href="../Untyped/#plfa_plfa-part2-Untyped-7721" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-7722" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7724" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7726" href="../Untyped/#plfa_plfa-part2-Untyped-7640" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7728" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7730" href="../Untyped/#plfa_plfa-part2-Untyped-7721" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7732" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7734" href="../Untyped/#plfa_plfa-part2-Untyped-7719" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7736" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7738" href="../Untyped/#plfa_plfa-part2-Untyped-7642" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7740" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7742" href="../Untyped/#plfa_plfa-part2-Untyped-7721" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7744" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7746" href="../Untyped/#plfa_plfa-part2-Untyped-7719" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7747" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-7749" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7753" href="../Untyped/#plfa_plfa-part2-Untyped-7753" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7755" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-7762" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7765" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-7767" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7771" href="../Untyped/#plfa_plfa-part2-Untyped-7771" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7773" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7774" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7776" href="../Untyped/#plfa_plfa-part2-Untyped-7776" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7777" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-7780" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7783" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7785" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7786" href="../Untyped/#plfa_plfa-part2-Untyped-7771" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7788" href="../Untyped/#plfa_plfa-part2-Untyped-7776" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7789" class="Symbol">)</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>现在定义重命名就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-rename"></a><a id="plfa_plfa-part2-Untyped-8023" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8030" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8032" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8034" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8035" href="../Untyped/#plfa_plfa-part2-Untyped-8035" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8037" href="../Untyped/#plfa_plfa-part2-Untyped-8037" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8038" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8042" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8044" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8047" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8048" href="../Untyped/#plfa_plfa-part2-Untyped-8048" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8049" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8051" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8053" href="../Untyped/#plfa_plfa-part2-Untyped-8035" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8055" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8057" href="../Untyped/#plfa_plfa-part2-Untyped-8048" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8059" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8061" href="../Untyped/#plfa_plfa-part2-Untyped-8037" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8063" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8065" href="../Untyped/#plfa_plfa-part2-Untyped-8048" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8066" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8072" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8099" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8101" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8104" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8105" href="../Untyped/#plfa_plfa-part2-Untyped-8105" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8106" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8108" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8110" href="../Untyped/#plfa_plfa-part2-Untyped-8035" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8112" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8114" href="../Untyped/#plfa_plfa-part2-Untyped-8105" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8116" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8118" href="../Untyped/#plfa_plfa-part2-Untyped-8037" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8120" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8122" href="../Untyped/#plfa_plfa-part2-Untyped-8105" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8123" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8125" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8132" href="../Untyped/#plfa_plfa-part2-Untyped-8132" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8134" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8135" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8137" href="../Untyped/#plfa_plfa-part2-Untyped-8137" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8138" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8149" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8152" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8154" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8155" href="../Untyped/#plfa_plfa-part2-Untyped-8132" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8157" href="../Untyped/#plfa_plfa-part2-Untyped-8137" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8158" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8160" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8167" href="../Untyped/#plfa_plfa-part2-Untyped-8167" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8169" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8170" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8172" href="../Untyped/#plfa_plfa-part2-Untyped-8172" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8173" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8184" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8187" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8189" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8190" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8197" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8198" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-8202" href="../Untyped/#plfa_plfa-part2-Untyped-8167" class="Bound">ρ</a><a id="plfa_plfa-part2-Untyped-8203" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8205" href="../Untyped/#plfa_plfa-part2-Untyped-8172" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8206" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8208" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8215" href="../Untyped/#plfa_plfa-part2-Untyped-8215" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8217" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8218" href="../Untyped/#plfa_plfa-part2-Untyped-8218" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-8220" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8222" href="../Untyped/#plfa_plfa-part2-Untyped-8222" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8223" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-8232" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8235" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8236" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8243" href="../Untyped/#plfa_plfa-part2-Untyped-8215" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8245" href="../Untyped/#plfa_plfa-part2-Untyped-8218" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-8246" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8248" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8250" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8251" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8258" href="../Untyped/#plfa_plfa-part2-Untyped-8215" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8260" href="../Untyped/#plfa_plfa-part2-Untyped-8222" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8261" class="Symbol">)</a>
</pre><p>这和之前一样，只是我们项的形式更少了。</p><h2 id="同时替换">同时替换</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-exts"></a><a id="plfa_plfa-part2-Untyped-8550" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8555" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8557" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8559" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8560" href="../Untyped/#plfa_plfa-part2-Untyped-8560" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8562" href="../Untyped/#plfa_plfa-part2-Untyped-8562" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8563" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8565" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8567" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8570" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8571" href="../Untyped/#plfa_plfa-part2-Untyped-8571" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8572" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8574" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8576" href="../Untyped/#plfa_plfa-part2-Untyped-8560" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8578" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8580" href="../Untyped/#plfa_plfa-part2-Untyped-8571" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8582" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8584" href="../Untyped/#plfa_plfa-part2-Untyped-8562" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8586" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8588" href="../Untyped/#plfa_plfa-part2-Untyped-8571" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8589" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8595" class="Comment">----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8632" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8634" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8637" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8638" href="../Untyped/#plfa_plfa-part2-Untyped-8638" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8640" href="../Untyped/#plfa_plfa-part2-Untyped-8640" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-8641" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8643" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8645" href="../Untyped/#plfa_plfa-part2-Untyped-8560" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8647" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8649" href="../Untyped/#plfa_plfa-part2-Untyped-8640" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8651" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8653" href="../Untyped/#plfa_plfa-part2-Untyped-8638" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8655" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8657" href="../Untyped/#plfa_plfa-part2-Untyped-8562" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8659" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8661" href="../Untyped/#plfa_plfa-part2-Untyped-8640" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8663" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8665" href="../Untyped/#plfa_plfa-part2-Untyped-8638" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8666" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8668" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8673" href="../Untyped/#plfa_plfa-part2-Untyped-8673" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8675" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-8682" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8685" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8687" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-8689" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8694" href="../Untyped/#plfa_plfa-part2-Untyped-8694" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8696" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8697" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-8699" href="../Untyped/#plfa_plfa-part2-Untyped-8699" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8700" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-8703" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8706" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8713" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-8716" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8717" href="../Untyped/#plfa_plfa-part2-Untyped-8694" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8719" href="../Untyped/#plfa_plfa-part2-Untyped-8699" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8720" class="Symbol">)</a>
</pre><p>一样，我们可以把所有的 <code>A</code> 和 <code>B</code> 替换成 <code>★</code>。</p><p>现在定义替换就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst"></a><a id="plfa_plfa-part2-Untyped-8911" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-8917" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8919" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8921" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8922" href="../Untyped/#plfa_plfa-part2-Untyped-8922" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8924" href="../Untyped/#plfa_plfa-part2-Untyped-8924" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8925" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8929" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8931" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8934" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8935" href="../Untyped/#plfa_plfa-part2-Untyped-8935" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8936" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8938" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8940" href="../Untyped/#plfa_plfa-part2-Untyped-8922" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8942" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8944" href="../Untyped/#plfa_plfa-part2-Untyped-8935" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8946" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8948" href="../Untyped/#plfa_plfa-part2-Untyped-8924" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8950" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8952" href="../Untyped/#plfa_plfa-part2-Untyped-8935" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8953" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8959" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8986" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8988" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8991" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8992" href="../Untyped/#plfa_plfa-part2-Untyped-8992" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8993" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8995" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8997" href="../Untyped/#plfa_plfa-part2-Untyped-8922" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8999" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9001" href="../Untyped/#plfa_plfa-part2-Untyped-8992" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9003" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9005" href="../Untyped/#plfa_plfa-part2-Untyped-8924" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9007" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9009" href="../Untyped/#plfa_plfa-part2-Untyped-8992" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9010" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9012" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9018" href="../Untyped/#plfa_plfa-part2-Untyped-9018" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9020" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9021" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9023" href="../Untyped/#plfa_plfa-part2-Untyped-9023" class="Bound">k</a><a id="plfa_plfa-part2-Untyped-9024" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9035" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9038" href="../Untyped/#plfa_plfa-part2-Untyped-9018" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9040" href="../Untyped/#plfa_plfa-part2-Untyped-9023" class="Bound">k</a>
<a id="plfa_plfa-part2-Untyped-9042" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9048" href="../Untyped/#plfa_plfa-part2-Untyped-9048" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9050" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9051" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9053" href="../Untyped/#plfa_plfa-part2-Untyped-9053" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9054" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9065" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9068" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9070" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9071" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9077" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9078" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-9083" href="../Untyped/#plfa_plfa-part2-Untyped-9048" class="Bound">σ</a><a id="plfa_plfa-part2-Untyped-9084" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9086" href="../Untyped/#plfa_plfa-part2-Untyped-9053" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9087" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9089" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9095" href="../Untyped/#plfa_plfa-part2-Untyped-9095" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9097" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9098" href="../Untyped/#plfa_plfa-part2-Untyped-9098" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-9100" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9102" href="../Untyped/#plfa_plfa-part2-Untyped-9102" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9103" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-9112" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9115" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9116" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9122" href="../Untyped/#plfa_plfa-part2-Untyped-9095" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9124" href="../Untyped/#plfa_plfa-part2-Untyped-9098" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-9125" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9127" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9129" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9130" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9136" href="../Untyped/#plfa_plfa-part2-Untyped-9095" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9138" href="../Untyped/#plfa_plfa-part2-Untyped-9102" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9139" class="Symbol">)</a>
</pre><p>同样，这和之前一样，只是我们项的形式更少了。</p><h2 id="单个替换">单个替换</h2><p>定义替换一个自由变量的特例很简单：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst-zero"></a><a id="plfa_plfa-part2-Untyped-9407" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9418" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9420" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9422" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9423" href="../Untyped/#plfa_plfa-part2-Untyped-9423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9425" href="../Untyped/#plfa_plfa-part2-Untyped-9425" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9426" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9428" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9430" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9431" href="../Untyped/#plfa_plfa-part2-Untyped-9423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9433" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9435" href="../Untyped/#plfa_plfa-part2-Untyped-9425" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9436" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9438" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9440" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9442" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9443" href="../Untyped/#plfa_plfa-part2-Untyped-9443" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9444" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9446" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9448" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9449" href="../Untyped/#plfa_plfa-part2-Untyped-9423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9451" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9453" href="../Untyped/#plfa_plfa-part2-Untyped-9425" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9455" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9457" href="../Untyped/#plfa_plfa-part2-Untyped-9443" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9458" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9460" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9462" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9463" href="../Untyped/#plfa_plfa-part2-Untyped-9423" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9465" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9467" href="../Untyped/#plfa_plfa-part2-Untyped-9443" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9468" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9470" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9481" href="../Untyped/#plfa_plfa-part2-Untyped-9481" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9483" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-9490" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9493" href="../Untyped/#plfa_plfa-part2-Untyped-9481" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-9495" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9506" href="../Untyped/#plfa_plfa-part2-Untyped-9506" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9508" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9509" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-9511" href="../Untyped/#plfa_plfa-part2-Untyped-9511" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-9512" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-9515" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9518" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9520" href="../Untyped/#plfa_plfa-part2-Untyped-9511" class="Bound">x</a>

<a id="plfa_plfa-part2-Untyped-_[_]"></a><a id="plfa_plfa-part2-Untyped-9523" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9528" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9530" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9532" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9533" href="../Untyped/#plfa_plfa-part2-Untyped-9533" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9535" href="../Untyped/#plfa_plfa-part2-Untyped-9535" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9537" href="../Untyped/#plfa_plfa-part2-Untyped-9537" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9538" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Untyped-9548" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9550" href="../Untyped/#plfa_plfa-part2-Untyped-9533" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9552" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9554" href="../Untyped/#plfa_plfa-part2-Untyped-9537" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9556" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9558" href="../Untyped/#plfa_plfa-part2-Untyped-9535" class="Bound">A</a>
        <a id="plfa_plfa-part2-Untyped-9568" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9570" href="../Untyped/#plfa_plfa-part2-Untyped-9533" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9572" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9574" href="../Untyped/#plfa_plfa-part2-Untyped-9537" class="Bound">B</a>
          <a id="plfa_plfa-part2-Untyped-9586" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Untyped-9604" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9606" href="../Untyped/#plfa_plfa-part2-Untyped-9533" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9608" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9610" href="../Untyped/#plfa_plfa-part2-Untyped-9535" class="Bound">A</a>
<a id="plfa_plfa-part2-Untyped-9612" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9617" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9618" href="../Untyped/#plfa_plfa-part2-Untyped-9618" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9619" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9621" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9622" href="../Untyped/#plfa_plfa-part2-Untyped-9622" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9623" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9625" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9626" href="../Untyped/#plfa_plfa-part2-Untyped-9626" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9627" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9629" href="../Untyped/#plfa_plfa-part2-Untyped-9629" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-9631" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9633" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9636" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9642" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9643" href="../Untyped/#plfa_plfa-part2-Untyped-9618" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9645" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9647" href="../Untyped/#plfa_plfa-part2-Untyped-9626" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9648" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9650" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9651" href="../Untyped/#plfa_plfa-part2-Untyped-9618" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9652" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9654" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9655" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9666" href="../Untyped/#plfa_plfa-part2-Untyped-9631" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9667" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9669" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9670" href="../Untyped/#plfa_plfa-part2-Untyped-9622" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9671" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9673" href="../Untyped/#plfa_plfa-part2-Untyped-9629" class="Bound">N</a>
</pre><h2 id="中性项和范式">中性项和范式</h2><p>直到项完全范式化之前，规则可以继续进行。 因此，我们现在在意的是<strong>范式</strong>（Normal Form），而不是值。 范式的项由与<strong>中性项</strong>（Neutral Terms）共同递归定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10040" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Neutral"></a><a id="plfa_plfa-part2-Untyped-10045" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10053" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10055" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10057" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10058" href="../Untyped/#plfa_plfa-part2-Untyped-10058" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10060" href="../Untyped/#plfa_plfa-part2-Untyped-10060" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10061" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10063" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10065" href="../Untyped/#plfa_plfa-part2-Untyped-10058" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10067" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10069" href="../Untyped/#plfa_plfa-part2-Untyped-10060" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10071" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10073" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Untyped-10077" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Normal"></a><a id="plfa_plfa-part2-Untyped-10082" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a>  <a id="plfa_plfa-part2-Untyped-10090" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10092" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10094" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10095" href="../Untyped/#plfa_plfa-part2-Untyped-10095" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10097" href="../Untyped/#plfa_plfa-part2-Untyped-10097" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10098" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10100" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10102" href="../Untyped/#plfa_plfa-part2-Untyped-10095" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10104" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10106" href="../Untyped/#plfa_plfa-part2-Untyped-10097" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10108" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10110" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
</pre><p>中性项由于我们需要考虑带有自由变量的开放项而产生。 一个项在其为变量时，或者是将中性项应用于范式项时，是一个中性项：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10383" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10388" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10396" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Neutral.`_"></a><a id="plfa_plfa-part2-Untyped-10405" href="../Untyped/#plfa_plfa-part2-Untyped-10405" class="InductiveConstructor Operator">`_</a>  <a id="plfa_plfa-part2-Untyped-10409" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10411" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10413" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10414" href="../Untyped/#plfa_plfa-part2-Untyped-10414" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10416" href="../Untyped/#plfa_plfa-part2-Untyped-10416" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10417" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10419" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10420" href="../Untyped/#plfa_plfa-part2-Untyped-10420" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-10422" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10424" href="../Untyped/#plfa_plfa-part2-Untyped-10414" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10426" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-10428" href="../Untyped/#plfa_plfa-part2-Untyped-10416" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10429" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-10437" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Untyped-10455" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10457" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10465" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10466" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-10468" href="../Untyped/#plfa_plfa-part2-Untyped-10420" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-10469" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Untyped-Neutral._·_"></a><a id="plfa_plfa-part2-Untyped-10474" href="../Untyped/#plfa_plfa-part2-Untyped-10474" class="InductiveConstructor Operator">_·_</a>  <a id="plfa_plfa-part2-Untyped-10479" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10481" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10483" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10484" href="../Untyped/#plfa_plfa-part2-Untyped-10484" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10485" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10487" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10488" href="../Untyped/#plfa_plfa-part2-Untyped-10488" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10490" href="../Untyped/#plfa_plfa-part2-Untyped-10490" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10492" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10494" href="../Untyped/#plfa_plfa-part2-Untyped-10484" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10496" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10498" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10499" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10505" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10507" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10515" href="../Untyped/#plfa_plfa-part2-Untyped-10488" class="Bound">L</a>
    <a id="plfa_plfa-part2-Untyped-10521" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10523" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10530" href="../Untyped/#plfa_plfa-part2-Untyped-10490" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10538" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Untyped-10558" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10560" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10568" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10569" href="../Untyped/#plfa_plfa-part2-Untyped-10488" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10571" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-10573" href="../Untyped/#plfa_plfa-part2-Untyped-10490" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-10574" class="Symbol">)</a>
</pre><p>一个项在其为中型项时，或者其为抽象且抽象体是范式时，是一个范式。 我们用 <code>′_</code> 来标记中型项。 如果 <code>`_</code> 一样，它不显眼：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10833" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10838" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10845" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Normal.′_"></a><a id="plfa_plfa-part2-Untyped-10854" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′_</a> <a id="plfa_plfa-part2-Untyped-10857" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10859" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10861" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10862" href="../Untyped/#plfa_plfa-part2-Untyped-10862" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10864" href="../Untyped/#plfa_plfa-part2-Untyped-10864" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10865" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10867" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10868" href="../Untyped/#plfa_plfa-part2-Untyped-10868" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10870" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10872" href="../Untyped/#plfa_plfa-part2-Untyped-10862" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10874" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10876" href="../Untyped/#plfa_plfa-part2-Untyped-10864" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10877" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10883" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10885" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10893" href="../Untyped/#plfa_plfa-part2-Untyped-10868" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10901" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-10915" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10917" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10924" href="../Untyped/#plfa_plfa-part2-Untyped-10868" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Normal.ƛ_"></a><a id="plfa_plfa-part2-Untyped-10929" href="../Untyped/#plfa_plfa-part2-Untyped-10929" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-10933" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10935" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10937" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10938" href="../Untyped/#plfa_plfa-part2-Untyped-10938" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10939" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10941" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10942" href="../Untyped/#plfa_plfa-part2-Untyped-10942" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-10944" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10946" href="../Untyped/#plfa_plfa-part2-Untyped-10938" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10948" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-10950" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-10952" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10954" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10955" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10961" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10963" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10970" href="../Untyped/#plfa_plfa-part2-Untyped-10942" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-10978" class="Comment">------------</a>
    <a id="plfa_plfa-part2-Untyped-10995" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10997" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11004" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11005" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11007" href="../Untyped/#plfa_plfa-part2-Untyped-10942" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-11008" class="Symbol">)</a>
</pre><p>我们引入一种缩略用法，来提供变量是中型项的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#′_"></a><a id="plfa_plfa-part2-Untyped-11139" href="../Untyped/#plfa_plfa-part2-Untyped-11139" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11143" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11145" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11147" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11148" href="../Untyped/#plfa_plfa-part2-Untyped-11148" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11149" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11151" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11152" href="../Untyped/#plfa_plfa-part2-Untyped-11152" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11154" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11156" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-11157" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-11159" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11160" href="../Untyped/#plfa_plfa-part2-Untyped-11160" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-11164" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11166" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4481" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-11171" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11172" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-11176" href="../Untyped/#plfa_plfa-part2-Untyped-11152" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11178" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Properties.html#6709" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-11181" href="../Untyped/#plfa_plfa-part2-Untyped-6110" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-11188" href="../Untyped/#plfa_plfa-part2-Untyped-11148" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11189" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-11192" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11194" href="../Untyped/#plfa_plfa-part2-Untyped-10045" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11202" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11203" href="../Untyped/#plfa_plfa-part2-Untyped-11148" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11204" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11206" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11207" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-11209" href="../Untyped/#plfa_plfa-part2-Untyped-11152" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-11210" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-11212" href="../Untyped/#plfa_plfa-part2-Untyped-11139" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11216" href="../Untyped/#plfa_plfa-part2-Untyped-11216" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11218" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11219" href="../Untyped/#plfa_plfa-part2-Untyped-11219" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11222" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-11225" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-11228" href="../Untyped/#plfa_plfa-part2-Untyped-10405" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-11230" href="../Untyped/#plfa_plfa-part2-Untyped-6190" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-11236" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11237" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Decidable.Core.html#4771" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-11247" href="../Untyped/#plfa_plfa-part2-Untyped-11219" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11250" class="Symbol">)</a>
</pre><p>比如说，下面是 Church 数二为范式的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11382" href="../Untyped/#plfa_plfa-part2-Untyped-11382" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-11384" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11386" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11393" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11394" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-11399" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11400" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-11401" class="Symbol">})</a>
<a id="plfa_plfa-part2-Untyped-11404" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-11406" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-11408" href="../Untyped/#plfa_plfa-part2-Untyped-10929" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11410" href="../Untyped/#plfa_plfa-part2-Untyped-10929" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11412" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11413" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11415" href="../Untyped/#plfa_plfa-part2-Untyped-11139" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11418" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11420" href="../Untyped/#plfa_plfa-part2-Untyped-10474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11422" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11423" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11425" href="../Untyped/#plfa_plfa-part2-Untyped-11139" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11428" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11430" href="../Untyped/#plfa_plfa-part2-Untyped-10474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11432" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11433" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11435" href="../Untyped/#plfa_plfa-part2-Untyped-11139" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11438" class="Number">0</a><a id="plfa_plfa-part2-Untyped-11439" class="Symbol">)))</a>
</pre><p>某一项为范式的证明与其本身基本一致，其中包括的额外的撇来标记中型项，并且其中使用了 <code>#′</code> 而不是 <code>#</code>。</p><h2 id="归约步骤">归约步骤</h2><p>归约规则从传值调用改为传名调用，以实现完全范式化：</p><ul><li>规则 <code>ξ₁</code> 与简单类型的 λ 演算一样，保持不变。</li></ul><ul><li>规则 <code>ξ₂</code> 之中，项 <code>L</code> 是值的要求现在被丢弃了。 所以这条规则现在与 <code>ξ₁</code> 重合，且归约是<strong>非确定的</strong>。 现在可选择归约 <code>L</code> 或者 <code>M</code> 中的项。</li></ul><ul><li>规则 <code>β</code> 之中，参数是值的要求现在被丢弃了，对应了传名调用的求值。 这引入了更多的非确定性，由于 <code>β</code> 与 <code>ξ₂</code> 在参数中有可归约项时重合。</li></ul><ul><li>额外了新规则 <code>ζ</code>，使得 λ 抽象下可以继续归约。</li></ul><p>这里是形式化的规则：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-12804" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-12810" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-12812" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">_—→_</a>

<a id="plfa_plfa-part2-Untyped-12818" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—→_"></a><a id="plfa_plfa-part2-Untyped-12823" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">_—→_</a> <a id="plfa_plfa-part2-Untyped-12828" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12830" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12832" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12833" href="../Untyped/#plfa_plfa-part2-Untyped-12833" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12835" href="../Untyped/#plfa_plfa-part2-Untyped-12835" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12836" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12838" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12840" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12841" href="../Untyped/#plfa_plfa-part2-Untyped-12833" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12843" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12845" href="../Untyped/#plfa_plfa-part2-Untyped-12835" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12846" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12848" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12850" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12851" href="../Untyped/#plfa_plfa-part2-Untyped-12833" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12853" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12855" href="../Untyped/#plfa_plfa-part2-Untyped-12835" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12856" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12858" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12860" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-12864" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₁"></a><a id="plfa_plfa-part2-Untyped-12873" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-12876" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12878" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12880" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12881" href="../Untyped/#plfa_plfa-part2-Untyped-12881" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-12882" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12884" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12885" href="../Untyped/#plfa_plfa-part2-Untyped-12885" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12887" href="../Untyped/#plfa_plfa-part2-Untyped-12887" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12890" href="../Untyped/#plfa_plfa-part2-Untyped-12890" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12892" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12894" href="../Untyped/#plfa_plfa-part2-Untyped-12881" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12896" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12898" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-12899" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-12905" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12907" href="../Untyped/#plfa_plfa-part2-Untyped-12885" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12909" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12912" href="../Untyped/#plfa_plfa-part2-Untyped-12887" class="Bound">L′</a>
      <a id="plfa_plfa-part2-Untyped-12921" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-12942" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12944" href="../Untyped/#plfa_plfa-part2-Untyped-12885" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12946" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-12948" href="../Untyped/#plfa_plfa-part2-Untyped-12890" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12950" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12953" href="../Untyped/#plfa_plfa-part2-Untyped-12887" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12956" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-12958" href="../Untyped/#plfa_plfa-part2-Untyped-12890" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₂"></a><a id="plfa_plfa-part2-Untyped-12963" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-12966" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12968" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12970" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12971" href="../Untyped/#plfa_plfa-part2-Untyped-12971" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-12972" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12974" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12975" href="../Untyped/#plfa_plfa-part2-Untyped-12975" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12977" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12979" href="../Untyped/#plfa_plfa-part2-Untyped-12979" class="Bound">M′</a> <a id="plfa_plfa-part2-Untyped-12982" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12984" href="../Untyped/#plfa_plfa-part2-Untyped-12971" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12986" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12988" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-12989" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-12995" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12997" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12999" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13002" href="../Untyped/#plfa_plfa-part2-Untyped-12979" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Untyped-13011" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13032" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13034" href="../Untyped/#plfa_plfa-part2-Untyped-12975" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13036" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13038" href="../Untyped/#plfa_plfa-part2-Untyped-12977" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13040" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13043" href="../Untyped/#plfa_plfa-part2-Untyped-12975" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13045" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13047" href="../Untyped/#plfa_plfa-part2-Untyped-12979" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.β"></a><a id="plfa_plfa-part2-Untyped-13053" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-13055" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13057" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13059" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13060" href="../Untyped/#plfa_plfa-part2-Untyped-13060" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13061" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13063" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13064" href="../Untyped/#plfa_plfa-part2-Untyped-13064" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13066" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13068" href="../Untyped/#plfa_plfa-part2-Untyped-13060" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13070" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13072" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13074" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13076" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13077" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13079" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13080" href="../Untyped/#plfa_plfa-part2-Untyped-13080" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13082" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13084" href="../Untyped/#plfa_plfa-part2-Untyped-13060" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13086" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13088" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13089" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Untyped-13097" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part2-Untyped-13135" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13137" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13138" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13140" href="../Untyped/#plfa_plfa-part2-Untyped-13064" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-13141" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13143" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13145" href="../Untyped/#plfa_plfa-part2-Untyped-13080" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13147" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13150" href="../Untyped/#plfa_plfa-part2-Untyped-13064" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13152" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">[</a> <a id="plfa_plfa-part2-Untyped-13154" href="../Untyped/#plfa_plfa-part2-Untyped-13080" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13156" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">]</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ζ"></a><a id="plfa_plfa-part2-Untyped-13161" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-13163" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13165" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13167" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13168" href="../Untyped/#plfa_plfa-part2-Untyped-13168" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13169" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13171" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13172" href="../Untyped/#plfa_plfa-part2-Untyped-13172" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13174" href="../Untyped/#plfa_plfa-part2-Untyped-13174" class="Bound">N′</a> <a id="plfa_plfa-part2-Untyped-13177" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13179" href="../Untyped/#plfa_plfa-part2-Untyped-13168" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13181" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13183" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13185" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13187" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13188" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13194" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13196" href="../Untyped/#plfa_plfa-part2-Untyped-13172" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13198" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13201" href="../Untyped/#plfa_plfa-part2-Untyped-13174" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Untyped-13210" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Untyped-13226" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13228" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13230" href="../Untyped/#plfa_plfa-part2-Untyped-13172" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13232" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13235" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13237" href="../Untyped/#plfa_plfa-part2-Untyped-13174" class="Bound">N′</a>
</pre><h4 id="练习-variant-1-习题">练习 (<code>variant-1</code>) （习题）</h4><p>如果我们想要传值调用，但需要项范式化其中的项的话，要怎么样修改规则？ 假设 <code>β</code> 在除了两个项都是范式时，不允许归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-13571" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-variant-2-习题">练习 (<code>variant-2</code>) （习题）</h4><p>如果我们想要传值调用，但项不在 λ 之下归约的话，要怎么样修改规则？ 假设 <code>β</code> 在双项均为值（即 λ 抽象）时允许归约。 <code>2+2ᶜ</code> 在这种情况下会归约成什么？</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14003" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="自反传递闭包">自反传递闭包</h2><p>我们复制粘贴之前的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14152" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14159" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14161" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">_—↠_</a>
<a id="plfa_plfa-part2-Untyped-14166" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14173" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14175" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin_</a>
<a id="plfa_plfa-part2-Untyped-14182" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-14189" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14191" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="plfa_plfa-part2-Untyped-14199" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14206" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-14208" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Untyped-14212" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—↠_"></a><a id="plfa_plfa-part2-Untyped-14217" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">_—↠_</a> <a id="plfa_plfa-part2-Untyped-14222" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14223" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14225" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14226" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14228" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14230" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14231" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14233" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14235" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14236" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14238" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14240" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14241" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14243" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14245" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14246" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14248" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14250" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-14254" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._∎"></a><a id="plfa_plfa-part2-Untyped-14263" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Untyped-14266" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14268" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14269" href="../Untyped/#plfa_plfa-part2-Untyped-14269" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14271" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14273" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14275" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14277" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14278" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-14286" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14297" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14299" href="../Untyped/#plfa_plfa-part2-Untyped-14269" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14301" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14304" href="../Untyped/#plfa_plfa-part2-Untyped-14269" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_.step—→"></a><a id="plfa_plfa-part2-Untyped-14309" href="../Untyped/#plfa_plfa-part2-Untyped-14309" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14316" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14318" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14319" href="../Untyped/#plfa_plfa-part2-Untyped-14319" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14321" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14323" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14325" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14327" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14328" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14330" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14331" href="../Untyped/#plfa_plfa-part2-Untyped-14331" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14333" href="../Untyped/#plfa_plfa-part2-Untyped-14333" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14335" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14337" href="../Untyped/#plfa_plfa-part2-Untyped-14223" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14339" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14341" href="../Untyped/#plfa_plfa-part2-Untyped-14225" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14342" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-14348" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14350" href="../Untyped/#plfa_plfa-part2-Untyped-14331" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14352" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14355" href="../Untyped/#plfa_plfa-part2-Untyped-14333" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14361" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14363" href="../Untyped/#plfa_plfa-part2-Untyped-14319" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14365" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-14368" href="../Untyped/#plfa_plfa-part2-Untyped-14331" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-14376" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14387" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14389" href="../Untyped/#plfa_plfa-part2-Untyped-14319" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14391" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14394" href="../Untyped/#plfa_plfa-part2-Untyped-14333" class="Bound">N</a>

<a id="plfa_plfa-part2-Untyped-14397" class="Keyword">pattern</a> <a id="plfa_plfa-part2-Untyped-_—→⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-14405" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-14413" href="../Untyped/#plfa_plfa-part2-Untyped-14434" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14415" href="../Untyped/#plfa_plfa-part2-Untyped-14441" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-14420" href="../Untyped/#plfa_plfa-part2-Untyped-14436" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14425" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14427" href="../Untyped/#plfa_plfa-part2-Untyped-14309" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14434" href="../Untyped/#plfa_plfa-part2-Untyped-14434" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14436" href="../Untyped/#plfa_plfa-part2-Untyped-14436" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14441" href="../Untyped/#plfa_plfa-part2-Untyped-14441" class="Bound">L—→M</a>

<a id="plfa_plfa-part2-Untyped-begin_"></a><a id="plfa_plfa-part2-Untyped-14447" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin_</a> <a id="plfa_plfa-part2-Untyped-14454" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14456" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14458" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14459" href="../Untyped/#plfa_plfa-part2-Untyped-14459" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14461" href="../Untyped/#plfa_plfa-part2-Untyped-14461" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14462" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14464" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14465" href="../Untyped/#plfa_plfa-part2-Untyped-14465" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14467" href="../Untyped/#plfa_plfa-part2-Untyped-14467" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14469" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14471" href="../Untyped/#plfa_plfa-part2-Untyped-14459" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14473" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14475" href="../Untyped/#plfa_plfa-part2-Untyped-14461" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14476" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-14480" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14482" href="../Untyped/#plfa_plfa-part2-Untyped-14465" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14484" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14487" href="../Untyped/#plfa_plfa-part2-Untyped-14467" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14493" class="Comment">------</a>
  <a id="plfa_plfa-part2-Untyped-14502" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14504" href="../Untyped/#plfa_plfa-part2-Untyped-14465" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14506" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14509" href="../Untyped/#plfa_plfa-part2-Untyped-14467" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-14511" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin</a> <a id="plfa_plfa-part2-Untyped-14517" href="../Untyped/#plfa_plfa-part2-Untyped-14517" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14522" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14524" href="../Untyped/#plfa_plfa-part2-Untyped-14517" class="Bound">M—↠N</a>
</pre><h2 id="归约序列的例子">归约序列的例子</h2><p>这里是二加二得四的展示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14672" href="../Untyped/#plfa_plfa-part2-Untyped-14672" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-14674" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14676" href="../Untyped/#plfa_plfa-part2-Untyped-6929" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-14681" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14684" href="../Untyped/#plfa_plfa-part2-Untyped-6787" class="Function">fourᶜ</a>
<a id="plfa_plfa-part2-Untyped-14690" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-14692" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Untyped-14696" href="../Untyped/#plfa_plfa-part2-Untyped-14447" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Untyped-14706" href="../Untyped/#plfa_plfa-part2-Untyped-6858" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-14712" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14714" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14719" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14721" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14728" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14732" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14735" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14737" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14743" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14744" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14746" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14748" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14750" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14755" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14757" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14759" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14761" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14763" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14764" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14766" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14768" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14770" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14772" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14774" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14776" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14778" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14779" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14782" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14784" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14791" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14795" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14797" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14803" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14805" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14807" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14812" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14814" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14816" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14818" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14820" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14821" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14826" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14828" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14830" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14832" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14834" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14836" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14837" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-14841" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14845" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14847" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14848" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14850" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14851" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14854" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14855" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14858" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14864" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14866" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14868" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-14870" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14872" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14874" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14876" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14878" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14879" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14881" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14883" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14885" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14887" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14888" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14891" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14893" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14894" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14899" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14901" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14903" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14905" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14907" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14909" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14910" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-14915" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14919" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14921" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14922" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14924" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14925" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14927" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14933" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14935" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14937" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14939" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14941" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14943" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14944" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14946" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14948" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14950" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14951" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14956" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14958" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14960" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14962" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14964" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14966" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14967" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-14972" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14976" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14978" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14979" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14982" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-14985" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14986" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-14989" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14990" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14993" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14994" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-14999" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15005" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15007" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15009" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15011" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15013" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15015" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15016" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15018" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15020" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15022" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15024" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15026" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15028" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15030" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15032" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15033" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15035" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15037" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15039" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15041" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15042" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15045" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15047" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15049" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15050" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15055" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15059" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15061" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15062" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15064" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15065" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15069" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15072" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15073" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-15077" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part2-Untyped-15082" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15084" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15085" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15087" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15089" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15091" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15093" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15094" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15096" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15098" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15100" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15101" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15103" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15105" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15107" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15108" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15110" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15112" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15114" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15116" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15117" class="Symbol">))))</a>
  <a id="plfa_plfa-part2-Untyped-15124" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
</pre><p>在两步之后，顶层项是一个抽象，而 <code>ζ</code> 规则支持了剩余的范式化。</p><h2 id="可进性">可进性</h2><p>可进性相应地也变更了。之前我们说每个项要么是值，要么可以归约一步；我们现在说每个项要么是范式，要么可以归约一步。</p><p>之前，可进性只应用于封闭的、良类型的项。 我们没有考虑诸如应用一个不是函数的项（如 <code>`zero`</code>）或者是带有自由变量的项。 现在我们展示的包含了开放的、良作用域的项。 范式的定义容许了自由变量，且我们也有不是函数的项。</p><p>如果一个项可以归约一步，或其为范式，那么它具有可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-16145" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Progress"></a><a id="plfa_plfa-part2-Untyped-16150" href="../Untyped/#plfa_plfa-part2-Untyped-16150" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16159" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16160" href="../Untyped/#plfa_plfa-part2-Untyped-16160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16162" href="../Untyped/#plfa_plfa-part2-Untyped-16162" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16163" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16166" href="../Untyped/#plfa_plfa-part2-Untyped-16166" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16168" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16170" href="../Untyped/#plfa_plfa-part2-Untyped-16160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16172" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16174" href="../Untyped/#plfa_plfa-part2-Untyped-16162" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16175" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16177" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16179" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-16183" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Progress.step"></a><a id="plfa_plfa-part2-Untyped-16192" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16197" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16199" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16201" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16202" href="../Untyped/#plfa_plfa-part2-Untyped-16202" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-16204" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16206" href="../Untyped/#plfa_plfa-part2-Untyped-16160" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16208" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16210" href="../Untyped/#plfa_plfa-part2-Untyped-16162" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16211" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-16217" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16219" href="../Untyped/#plfa_plfa-part2-Untyped-16166" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16221" href="../Untyped/#plfa_plfa-part2-Untyped-12823" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-16224" href="../Untyped/#plfa_plfa-part2-Untyped-16202" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-16232" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16247" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16249" href="../Untyped/#plfa_plfa-part2-Untyped-16150" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16258" href="../Untyped/#plfa_plfa-part2-Untyped-16166" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Progress.done"></a><a id="plfa_plfa-part2-Untyped-16263" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16268" class="Symbol">:</a>
      <a id="plfa_plfa-part2-Untyped-16276" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-16283" href="../Untyped/#plfa_plfa-part2-Untyped-16166" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-16291" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16306" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16308" href="../Untyped/#plfa_plfa-part2-Untyped-16150" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16317" href="../Untyped/#plfa_plfa-part2-Untyped-16166" class="Bound">M</a>
</pre><p>如果一个项是良作用域的，那么它满足可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-progress"></a><a id="plfa_plfa-part2-Untyped-16418" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16427" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16429" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16431" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16432" href="../Untyped/#plfa_plfa-part2-Untyped-16432" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16434" href="../Untyped/#plfa_plfa-part2-Untyped-16434" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16435" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16437" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16439" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16440" href="../Untyped/#plfa_plfa-part2-Untyped-16440" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16442" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16444" href="../Untyped/#plfa_plfa-part2-Untyped-16432" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16446" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16448" href="../Untyped/#plfa_plfa-part2-Untyped-16434" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16449" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16451" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16453" href="../Untyped/#plfa_plfa-part2-Untyped-16150" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16462" href="../Untyped/#plfa_plfa-part2-Untyped-16440" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16464" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16473" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16474" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16476" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16477" class="Symbol">)</a>                                 <a id="plfa_plfa-part2-Untyped-16511" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16514" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16519" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16520" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16522" href="../Untyped/#plfa_plfa-part2-Untyped-10405" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16524" href="../Untyped/#plfa_plfa-part2-Untyped-16476" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16525" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16527" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16536" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16537" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16539" href="../Untyped/#plfa_plfa-part2-Untyped-16539" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16540" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-16543" class="Keyword">with</a>  <a id="plfa_plfa-part2-Untyped-16549" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16558" href="../Untyped/#plfa_plfa-part2-Untyped-16539" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-16560" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16564" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16566" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16571" href="../Untyped/#plfa_plfa-part2-Untyped-16571" class="Bound">N—→N′</a>                               <a id="plfa_plfa-part2-Untyped-16607" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16610" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16615" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16616" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-16618" href="../Untyped/#plfa_plfa-part2-Untyped-16571" class="Bound">N—→N′</a><a id="plfa_plfa-part2-Untyped-16623" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16625" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16629" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16631" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16636" href="../Untyped/#plfa_plfa-part2-Untyped-16636" class="Bound">NrmN</a>                                <a id="plfa_plfa-part2-Untyped-16672" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16675" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16680" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16681" href="../Untyped/#plfa_plfa-part2-Untyped-10929" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16683" href="../Untyped/#plfa_plfa-part2-Untyped-16636" class="Bound">NrmN</a><a id="plfa_plfa-part2-Untyped-16687" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16689" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16698" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16699" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16701" href="../Untyped/#plfa_plfa-part2-Untyped-16701" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-16703" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16705" href="../Untyped/#plfa_plfa-part2-Untyped-16705" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16706" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16708" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16713" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16722" href="../Untyped/#plfa_plfa-part2-Untyped-16705" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16724" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16728" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16730" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16735" href="../Untyped/#plfa_plfa-part2-Untyped-16735" class="Bound">M—→M′</a>                               <a id="plfa_plfa-part2-Untyped-16771" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16774" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16779" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16780" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-16783" href="../Untyped/#plfa_plfa-part2-Untyped-16735" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-16788" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16790" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16794" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16796" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16801" href="../Untyped/#plfa_plfa-part2-Untyped-16801" class="Bound">NrmM</a>                                <a id="plfa_plfa-part2-Untyped-16837" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16840" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16845" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16846" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16848" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16849" href="../Untyped/#plfa_plfa-part2-Untyped-10405" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16851" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16852" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16854" href="../Untyped/#plfa_plfa-part2-Untyped-10474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16856" href="../Untyped/#plfa_plfa-part2-Untyped-16801" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-16860" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16862" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16871" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-16873" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16875" href="../Untyped/#plfa_plfa-part2-Untyped-16875" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16876" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16878" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16880" href="../Untyped/#plfa_plfa-part2-Untyped-16880" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16881" class="Symbol">)</a>                           <a id="plfa_plfa-part2-Untyped-16909" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16912" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16917" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a>
<a id="plfa_plfa-part2-Untyped-16919" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16928" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16929" href="../Untyped/#plfa_plfa-part2-Untyped-16929" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-16930" class="Symbol">@(_</a> <a id="plfa_plfa-part2-Untyped-16934" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16936" class="Symbol">_)</a> <a id="plfa_plfa-part2-Untyped-16939" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16941" href="../Untyped/#plfa_plfa-part2-Untyped-16941" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16942" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16944" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16949" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16958" href="../Untyped/#plfa_plfa-part2-Untyped-16929" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-16960" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16964" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16966" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16971" href="../Untyped/#plfa_plfa-part2-Untyped-16971" class="Bound">L—→L′</a>                               <a id="plfa_plfa-part2-Untyped-17007" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17010" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17015" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17016" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-17019" href="../Untyped/#plfa_plfa-part2-Untyped-16971" class="Bound">L—→L′</a><a id="plfa_plfa-part2-Untyped-17024" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17026" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17030" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17032" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17037" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17038" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17040" href="../Untyped/#plfa_plfa-part2-Untyped-17040" class="Bound">NeuL</a><a id="plfa_plfa-part2-Untyped-17044" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17046" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17051" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17060" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-17062" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17069" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17071" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17076" href="../Untyped/#plfa_plfa-part2-Untyped-17076" class="Bound">M—→M′</a>                            <a id="plfa_plfa-part2-Untyped-17109" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17112" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17118" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-17121" href="../Untyped/#plfa_plfa-part2-Untyped-17076" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-17126" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17128" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17135" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17137" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17142" href="../Untyped/#plfa_plfa-part2-Untyped-17142" class="Bound">NrmM</a>                             <a id="plfa_plfa-part2-Untyped-17175" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17178" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17183" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17184" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17186" class="Bound">NeuL</a> <a id="plfa_plfa-part2-Untyped-17191" href="../Untyped/#plfa_plfa-part2-Untyped-10474" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17193" href="../Untyped/#plfa_plfa-part2-Untyped-17142" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-17197" class="Symbol">)</a>
</pre><p>我们对项为良作用域的证明上进行归纳：</p><ul><li>如果项是变量，那么它是范式。 （这与之前的证明不同，以往项为变量的情况被闭项的条件所排除了。）</li><li>如果项是抽象，那么我们对其抽象体应用可进性。 （这与之前的证明不同，以往抽象本身即是值。）：<ul><li>如果它步进，那么整个项由 <code>ζ</code> 步进。</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果项是应用，那么我们考虑其函数子项：<ul><li>如果它是变量，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果它是抽象，那么整个项由 <code>β</code> 步进。</li><li>如果它是应用，我们对其函数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₁</code> 步进。</li><li>如果它是范式，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li></ul></li></ul></li></ul><p>可进性最后一条等式中使用了 <code>P@Q</code> 形式的 <strong>at 模式</strong>，其只在模式 <code>P</code> 和 <code>Q</code> 都匹配时匹配。 <code>@</code> 是 Agda 不允许出现在变量名中的字符之一，因此不需要在它周围加空格。 在此处，这个模式确保了 <code>L</code> 是一个应用。</p><h2 id="求值">求值</h2><p>与之前一样，可进性直接提供了一个求值器。</p><p>汽油由自然数给出：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19407" class="Keyword">record</a> <a id="plfa_plfa-part2-Untyped-Gas"></a><a id="plfa_plfa-part2-Untyped-19414" href="../Untyped/#plfa_plfa-part2-Untyped-19414" class="Record">Gas</a> <a id="plfa_plfa-part2-Untyped-19418" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19420" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19424" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-19432" class="Keyword">constructor</a> <a id="plfa_plfa-part2-Untyped-gas"></a><a id="plfa_plfa-part2-Untyped-19444" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a>
  <a id="plfa_plfa-part2-Untyped-19450" class="Keyword">field</a>
    <a id="plfa_plfa-part2-Untyped-Gas.amount"></a><a id="plfa_plfa-part2-Untyped-19460" href="../Untyped/#plfa_plfa-part2-Untyped-19460" class="Field">amount</a> <a id="plfa_plfa-part2-Untyped-19467" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19469" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
</pre><p>当我们的求值器返回项 <code>N</code>，它要么会给出 <code>N</code> 是范式的证明，或者提示汽油耗尽：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19661" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Finished"></a><a id="plfa_plfa-part2-Untyped-19666" href="../Untyped/#plfa_plfa-part2-Untyped-19666" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19675" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-19676" href="../Untyped/#plfa_plfa-part2-Untyped-19676" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19678" href="../Untyped/#plfa_plfa-part2-Untyped-19678" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19679" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-19681" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-19682" href="../Untyped/#plfa_plfa-part2-Untyped-19682" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-19684" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19686" href="../Untyped/#plfa_plfa-part2-Untyped-19676" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19688" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-19690" href="../Untyped/#plfa_plfa-part2-Untyped-19678" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19691" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-19693" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19695" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19699" class="Keyword">where</a>

   <a id="plfa_plfa-part2-Untyped-Finished.done"></a><a id="plfa_plfa-part2-Untyped-19709" href="../Untyped/#plfa_plfa-part2-Untyped-19709" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-19714" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19723" href="../Untyped/#plfa_plfa-part2-Untyped-10082" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-19730" href="../Untyped/#plfa_plfa-part2-Untyped-19682" class="Bound">N</a>
       <a id="plfa_plfa-part2-Untyped-19739" class="Comment">----------</a>
     <a id="plfa_plfa-part2-Untyped-19755" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-19757" href="../Untyped/#plfa_plfa-part2-Untyped-19666" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19766" href="../Untyped/#plfa_plfa-part2-Untyped-19682" class="Bound">N</a>

   <a id="plfa_plfa-part2-Untyped-Finished.out-of-gas"></a><a id="plfa_plfa-part2-Untyped-19772" href="../Untyped/#plfa_plfa-part2-Untyped-19772" class="InductiveConstructor">out-of-gas</a> <a id="plfa_plfa-part2-Untyped-19783" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19792" class="Comment">----------</a>
       <a id="plfa_plfa-part2-Untyped-19810" href="../Untyped/#plfa_plfa-part2-Untyped-19666" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19819" href="../Untyped/#plfa_plfa-part2-Untyped-19682" class="Bound">N</a>
</pre><p>给定类型 <code>A</code> 的项 <code>L</code>，求值器会对于某 <code>N</code> 返回自 <code>L</code> 至 <code>N</code> 的归约序列，并提示归约是否完成：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20061" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Steps"></a><a id="plfa_plfa-part2-Untyped-20066" href="../Untyped/#plfa_plfa-part2-Untyped-20066" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20072" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20074" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20076" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20077" href="../Untyped/#plfa_plfa-part2-Untyped-20077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20079" href="../Untyped/#plfa_plfa-part2-Untyped-20079" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20080" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20082" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20084" href="../Untyped/#plfa_plfa-part2-Untyped-20077" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20086" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20088" href="../Untyped/#plfa_plfa-part2-Untyped-20079" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-20090" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20092" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-20096" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Steps.steps"></a><a id="plfa_plfa-part2-Untyped-20105" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20111" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20113" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20115" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20116" href="../Untyped/#plfa_plfa-part2-Untyped-20116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20118" href="../Untyped/#plfa_plfa-part2-Untyped-20118" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20119" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20121" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20122" href="../Untyped/#plfa_plfa-part2-Untyped-20122" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20124" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-20126" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20128" href="../Untyped/#plfa_plfa-part2-Untyped-20116" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20130" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20132" href="../Untyped/#plfa_plfa-part2-Untyped-20118" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20133" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-20139" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20141" href="../Untyped/#plfa_plfa-part2-Untyped-20122" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20143" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-20146" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-20152" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20154" href="../Untyped/#plfa_plfa-part2-Untyped-19666" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-20163" href="../Untyped/#plfa_plfa-part2-Untyped-20124" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-20171" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-20186" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20188" href="../Untyped/#plfa_plfa-part2-Untyped-20066" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20194" href="../Untyped/#plfa_plfa-part2-Untyped-20122" class="Bound">L</a>
</pre><p>求值器取汽油和项，返回对应的步骤：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-eval"></a><a id="plfa_plfa-part2-Untyped-20310" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20315" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20317" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20319" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20320" href="../Untyped/#plfa_plfa-part2-Untyped-20320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20322" href="../Untyped/#plfa_plfa-part2-Untyped-20322" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20323" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-20327" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20329" href="../Untyped/#plfa_plfa-part2-Untyped-19414" class="Record">Gas</a>
  <a id="plfa_plfa-part2-Untyped-20335" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20337" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20338" href="../Untyped/#plfa_plfa-part2-Untyped-20338" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20340" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20342" href="../Untyped/#plfa_plfa-part2-Untyped-20320" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20344" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20346" href="../Untyped/#plfa_plfa-part2-Untyped-20322" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20347" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-20353" class="Comment">-----------</a>
  <a id="plfa_plfa-part2-Untyped-20367" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20369" href="../Untyped/#plfa_plfa-part2-Untyped-20066" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20375" href="../Untyped/#plfa_plfa-part2-Untyped-20338" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20377" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20382" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20383" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20387" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-20391" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-20396" href="../Untyped/#plfa_plfa-part2-Untyped-20396" class="Bound">L</a>                     <a id="plfa_plfa-part2-Untyped-20418" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20421" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20427" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20428" href="../Untyped/#plfa_plfa-part2-Untyped-20396" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20430" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20431" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20433" href="../Untyped/#plfa_plfa-part2-Untyped-19772" class="InductiveConstructor">out-of-gas</a>
<a id="plfa_plfa-part2-Untyped-20444" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20449" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20450" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20454" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20455" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-20459" href="../Untyped/#plfa_plfa-part2-Untyped-20459" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20460" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-20463" href="../Untyped/#plfa_plfa-part2-Untyped-20463" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20465" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20470" href="../Untyped/#plfa_plfa-part2-Untyped-16418" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-20479" href="../Untyped/#plfa_plfa-part2-Untyped-20463" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20481" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20485" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20487" href="../Untyped/#plfa_plfa-part2-Untyped-16263" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20492" href="../Untyped/#plfa_plfa-part2-Untyped-20492" class="Bound">NrmL</a>                          <a id="plfa_plfa-part2-Untyped-20522" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20525" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20531" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20532" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20534" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20535" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20537" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20538" href="../Untyped/#plfa_plfa-part2-Untyped-19709" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20543" href="../Untyped/#plfa_plfa-part2-Untyped-20492" class="Bound">NrmL</a><a id="plfa_plfa-part2-Untyped-20547" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-20549" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20553" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20555" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-20560" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20561" href="../Untyped/#plfa_plfa-part2-Untyped-20561" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-20562" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20564" href="../Untyped/#plfa_plfa-part2-Untyped-20564" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20569" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20574" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20579" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20580" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20584" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20585" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20587" href="../Untyped/#plfa_plfa-part2-Untyped-20561" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-20589" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-20596" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20598" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20604" href="../Untyped/#plfa_plfa-part2-Untyped-20604" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-20609" href="../Untyped/#plfa_plfa-part2-Untyped-20609" class="Bound">fin</a>                  <a id="plfa_plfa-part2-Untyped-20630" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20633" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20639" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20640" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20642" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-20646" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20651" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-20653" href="../Untyped/#plfa_plfa-part2-Untyped-20604" class="Bound">M—↠N</a><a id="plfa_plfa-part2-Untyped-20657" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20659" href="../Untyped/#plfa_plfa-part2-Untyped-20609" class="Bound">fin</a>
</pre><p>定义与之前一样，除了我们将空语境 <code>∅</code> 推广至任意语境 <code>Γ</code>。</p><h2 id="例子">例子</h2><p>我们重复之前的例子。二加二得四，以 Church 数来表示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20972" href="../Untyped/#plfa_plfa-part2-Untyped-20972" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-20974" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20976" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20981" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20982" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20986" class="Number">100</a><a id="plfa_plfa-part2-Untyped-20989" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20991" href="../Untyped/#plfa_plfa-part2-Untyped-6929" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-20996" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
  <a id="plfa_plfa-part2-Untyped-21000" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a>
   <a id="plfa_plfa-part2-Untyped-21009" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21011" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21018" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21019" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21027" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21028" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21037" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21038" class="InductiveConstructor Operator">ƛ</a>
        <a id="plfa_plfa-part2-Untyped-21048" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21049" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21051" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21052" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21054" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21055" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21057" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21058" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21060" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21061" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21066" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21069" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21071" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21072" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21074" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21075" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21078" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Untyped-21088" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21090" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21092" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21093" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21095" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21096" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21098" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21099" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21103" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21105" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21106" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21108" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21109" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21111" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21112" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21115" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21118" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21120" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21121" class="Symbol">))))))</a>
    <a id="plfa_plfa-part2-Untyped-21132" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21134" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21135" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21137" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21138" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21140" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21141" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21143" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21144" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21146" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21147" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21150" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21152" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21154" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21156" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21157" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21159" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21160" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21163" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21165" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21166" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21168" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21169" class="Symbol">))))</a>
    <a id="plfa_plfa-part2-Untyped-21178" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21180" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21181" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21183" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21184" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21186" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21187" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21189" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21190" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21192" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21193" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21196" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21198" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21200" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21202" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21203" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21205" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21206" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21209" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21211" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21212" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21214" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21215" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21223" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21227" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21230" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21232" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21238" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21239" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21246" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21247" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21255" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21256" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21265" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21266" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21268" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21269" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21271" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21272" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21274" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21275" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21277" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21278" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21281" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21283" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21285" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21287" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21288" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21290" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21291" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21294" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21296" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21297" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21299" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21300" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21305" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21307" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21308" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21310" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21311" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21313" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21314" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21317" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-21326" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21328" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21330" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21331" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21333" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21334" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21336" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21337" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21341" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21343" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21344" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21346" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21347" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21349" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21350" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21353" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21355" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21356" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21358" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21359" class="Symbol">)))))</a>
    <a id="plfa_plfa-part2-Untyped-21369" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21371" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21372" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21374" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21375" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21377" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21378" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21380" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21381" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21383" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21384" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21387" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21389" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21391" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21393" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21394" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21396" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21397" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21400" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21402" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21403" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21405" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21406" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21414" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21418" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21420" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21426" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21432" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21433" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21440" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21441" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21443" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21444" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21446" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21447" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21449" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21450" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21452" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21453" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21456" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21458" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21460" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21462" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21463" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21465" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21466" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21469" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21471" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21472" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21474" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21475" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21480" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21482" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21483" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21485" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21486" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21488" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21489" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21492" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21499" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21501" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21503" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21504" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21506" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21507" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21509" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21510" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21512" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21513" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21516" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21518" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21520" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21522" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21523" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21525" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21526" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21529" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21531" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21532" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21534" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21535" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21540" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21542" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21543" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21545" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21546" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21548" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21549" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21552" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21554" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21555" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21557" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21558" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21565" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21569" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21571" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21572" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21574" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21575" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21578" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21579" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21582" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21588" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21594" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21595" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21602" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21603" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21605" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21606" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21608" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21609" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21611" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21612" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21614" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21615" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21619" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21621" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21623" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21625" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21626" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21628" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21629" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21631" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21632" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21636" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21638" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21639" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21641" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21642" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21646" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21653" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21655" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21657" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21658" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21660" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21661" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21663" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21664" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21666" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21667" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21670" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21672" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21674" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21676" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21677" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21679" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21680" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21683" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21685" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21686" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21688" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21689" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21694" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21696" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21697" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21699" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21700" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21702" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21703" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21706" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21708" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21709" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21711" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21712" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21719" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21723" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21725" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21726" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21728" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21729" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21731" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21737" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21743" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21744" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21751" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21752" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21754" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21755" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21757" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21758" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21761" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21768" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21770" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21772" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21773" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21775" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21776" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21779" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21787" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21789" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21791" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21792" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21794" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21795" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21797" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21798" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21800" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21801" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21804" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21806" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21808" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21810" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21811" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21813" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21814" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21817" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21819" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21820" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21822" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21823" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21828" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21830" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21831" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21833" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21834" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21836" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21837" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21840" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21842" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21843" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21845" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21846" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21854" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21858" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21860" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21861" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21863" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21864" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21867" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21868" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21871" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21872" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21875" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21876" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21881" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21887" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21893" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21894" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21901" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21902" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21904" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21905" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21907" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21908" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21911" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21918" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21920" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21922" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21923" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21925" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21926" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21929" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21937" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21939" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21941" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21942" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21944" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21945" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21947" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21948" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21950" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21951" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21955" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21957" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21959" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21961" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21962" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21964" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21965" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21967" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21968" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21972" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21974" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21975" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21977" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21978" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21982" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21984" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21985" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21987" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21988" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21996" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-22000" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22002" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22003" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22005" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22006" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22009" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22010" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22013" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22014" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22018" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22024" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22026" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22027" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22029" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22030" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22032" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22033" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22035" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22036" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22039" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22041" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22043" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22045" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22046" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22048" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22049" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22052" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22054" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22056" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22058" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22059" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22061" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22062" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22065" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22067" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22069" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22071" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22072" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22074" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22075" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22078" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22080" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22081" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22083" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22084" class="Symbol">)))))</a>
   <a id="plfa_plfa-part2-Untyped-22093" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-22094" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Untyped-22099" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22100" class="InductiveConstructor">done</a>
    <a id="plfa_plfa-part2-Untyped-22109" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22110" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22117" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22118" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-22126" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22127" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a>
       <a id="plfa_plfa-part2-Untyped-22136" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22137" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22139" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22140" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22142" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22143" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22146" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-22155" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22156" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22159" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22161" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22162" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22164" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22165" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22168" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22170" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22171" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22173" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22174" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22176" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22177" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22179" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22180" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22183" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22185" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22186" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22188" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22189" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22191" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22192" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22194" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22195" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22198" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22200" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22201" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22203" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22204" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22206" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22207" class="Symbol">)))))))))</a>
<a id="plfa_plfa-part2-Untyped-22217" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-22219" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-22221" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h2 id="自然数和不动点">自然数和不动点</h2><p>我们可以使用 Church 数来表示自然数，但是计算某数的前继很复杂且昂贵。 取而代之的，我们使用另一种表示方法，叫做 Scott 数，其核心思想是一个数对应了对其自身的分情况讨论。</p><p>回忆 Church 数将某给定函数应用对应的次数。 使用命名的项，我们如下表示前三个 Church 数：</p><pre><code>zero  =  ƛ s ⇒ ƛ z ⇒ z
one   =  ƛ s ⇒ ƛ z ⇒ s · z
two   =  ƛ s ⇒ ƛ z ⇒ s · (s · z)</code></pre><p>作为对比，我们如下表示前三个 Scott 数：</p><pre><code>zero = ƛ s ⇒ ƛ z ⇒ z
one  = ƛ s ⇒ ƛ z ⇒ s · zero
two  = ƛ s ⇒ ƛ z ⇒ s · one</code></pre><p>每个数取两个参数，一个对应了后继分支的情况（它要求额外的参数，即当前参数的前继）， 一个对应了零分支的情况。 （两种情况可以以任意顺序出现。我们在此将后继分支放在前面，以方便与 Church 数对比。）</p><p>下面是以 de Bruijn 因子编码的自然数的 Scott 表示法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-`zero"></a><a id="plfa_plfa-part2-Untyped-23769" href="../Untyped/#plfa_plfa-part2-Untyped-23769" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23775" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23777" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23779" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23780" href="../Untyped/#plfa_plfa-part2-Untyped-23780" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23781" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23783" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23785" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23786" href="../Untyped/#plfa_plfa-part2-Untyped-23780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23788" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23790" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23791" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23793" href="../Untyped/#plfa_plfa-part2-Untyped-23769" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23799" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23801" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23803" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23805" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23806" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23808" class="Number">0</a><a id="plfa_plfa-part2-Untyped-23809" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-`suc_"></a><a id="plfa_plfa-part2-Untyped-23812" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23818" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23820" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23822" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23823" href="../Untyped/#plfa_plfa-part2-Untyped-23823" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23824" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23826" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23828" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23829" href="../Untyped/#plfa_plfa-part2-Untyped-23823" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23831" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23833" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23834" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23836" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23838" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23839" href="../Untyped/#plfa_plfa-part2-Untyped-23823" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23841" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23843" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23844" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23846" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23852" href="../Untyped/#plfa_plfa-part2-Untyped-23852" class="Bound">M</a>  <a id="plfa_plfa-part2-Untyped-23855" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23857" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23858" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23860" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23862" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23864" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23865" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23867" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-23869" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23871" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23873" class="Number">2</a><a id="plfa_plfa-part2-Untyped-23874" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-23877" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23879" href="../Untyped/#plfa_plfa-part2-Untyped-23852" class="Bound">M</a>

<a id="plfa_plfa-part2-Untyped-case"></a><a id="plfa_plfa-part2-Untyped-23882" href="../Untyped/#plfa_plfa-part2-Untyped-23882" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23887" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23889" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23891" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23892" href="../Untyped/#plfa_plfa-part2-Untyped-23892" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23893" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23895" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23897" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23898" href="../Untyped/#plfa_plfa-part2-Untyped-23892" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23900" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23902" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23903" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23905" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23907" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23908" href="../Untyped/#plfa_plfa-part2-Untyped-23892" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23910" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23912" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23913" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23915" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23917" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23918" href="../Untyped/#plfa_plfa-part2-Untyped-23892" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23920" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-23922" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-23924" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23926" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23927" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-23930" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23932" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23933" href="../Untyped/#plfa_plfa-part2-Untyped-23892" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23935" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23937" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23938" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23940" href="../Untyped/#plfa_plfa-part2-Untyped-23882" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23945" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-23947" href="../Untyped/#plfa_plfa-part2-Untyped-23947" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-23949" href="../Untyped/#plfa_plfa-part2-Untyped-23949" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-23951" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23953" href="../Untyped/#plfa_plfa-part2-Untyped-23945" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-23955" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23957" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23958" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23960" href="../Untyped/#plfa_plfa-part2-Untyped-23949" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-23961" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23963" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23965" href="../Untyped/#plfa_plfa-part2-Untyped-23947" class="Bound">M</a>
</pre><p>我们小心地保留之前定义相同的形式。 后继分支期望作用域内有一个额外的变量（由它的类型可以看出），所以它被一个抽象转换成了一个普通的项。</p><p>对零使用后继的确归约至 Scott 数表示的一：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-24412" href="../Untyped/#plfa_plfa-part2-Untyped-24412" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-24414" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24416" href="../Untyped/#plfa_plfa-part2-Untyped-20310" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-24421" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24422" href="../Untyped/#plfa_plfa-part2-Untyped-19444" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-24426" class="Number">100</a><a id="plfa_plfa-part2-Untyped-24429" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24431" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24432" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-24438" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24439" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-24440" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24442" href="../Untyped/#plfa_plfa-part2-Untyped-23769" class="Function">`zero</a><a id="plfa_plfa-part2-Untyped-24447" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24449" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="plfa_plfa-part2-Untyped-24455" href="../Untyped/#plfa_plfa-part2-Untyped-20105" class="InductiveConstructor">steps</a>
        <a id="plfa_plfa-part2-Untyped-24469" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-24471" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24473" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24474" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24476" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24477" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24479" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24481" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24483" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24485" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24487" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24488" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-24492" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24494" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24495" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24497" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24498" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24500" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24502" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24503" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Untyped-24510" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-24514" href="../Untyped/#plfa_plfa-part2-Untyped-13053" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-24516" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a>
         <a id="plfa_plfa-part2-Untyped-24527" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24529" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24530" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24532" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24534" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24536" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24538" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24539" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24541" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24542" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24544" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24546" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24547" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Untyped-24555" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-24556" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-24562" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24563" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-24568" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24569" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24571" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24572" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24574" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24575" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24577" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24578" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24580" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24581" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-24583" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24584" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24587" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24589" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24590" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24592" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24593" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24595" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24596" href="../Untyped/#plfa_plfa-part2-Untyped-10854" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24598" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24599" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24601" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24602" class="Symbol">))))))))</a>
<a id="plfa_plfa-part2-Untyped-24611" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-24613" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24615" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>我们同样可以定义不动点。使用命名的项，我们定义：</p><pre><code>μ f = (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))</code></pre><p>它能实现不动点的原因是：</p><pre><code>  μ f
≡
  (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))
—→
  f · ((ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x)))
≡
  f · (μ f)</code></pre><p>使用 de Bruijn 因子，我们有如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-μ_"></a><a id="plfa_plfa-part2-Untyped-25055" href="../Untyped/#plfa_plfa-part2-Untyped-25055" class="Function Operator">μ_</a> <a id="plfa_plfa-part2-Untyped-25058" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25060" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25062" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25063" href="../Untyped/#plfa_plfa-part2-Untyped-25063" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25064" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25066" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25068" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25069" href="../Untyped/#plfa_plfa-part2-Untyped-25063" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25071" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-25073" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-25075" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25077" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25078" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25080" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25082" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25083" href="../Untyped/#plfa_plfa-part2-Untyped-25063" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25085" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25087" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25088" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-25090" href="../Untyped/#plfa_plfa-part2-Untyped-25055" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25092" href="../Untyped/#plfa_plfa-part2-Untyped-25092" class="Bound">N</a>  <a id="plfa_plfa-part2-Untyped-25095" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-25098" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25099" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25101" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-25103" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25105" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25106" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25108" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25110" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25112" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25113" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25115" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25117" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25119" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25121" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25122" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-25126" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25128" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25129" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25131" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25132" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25134" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25136" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25138" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25139" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25141" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25143" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25145" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25147" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25148" class="Symbol">)))))</a> <a id="plfa_plfa-part2-Untyped-25154" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25156" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25157" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25159" href="../Untyped/#plfa_plfa-part2-Untyped-25092" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-25160" class="Symbol">)</a>
</pre><p>不动点的参数与之前自然数的后继分支的处理方法相似。</p><p>我们可以如之前一样定义二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-25368" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-25374" class="Number">5</a> <a id="plfa_plfa-part2-Untyped-25376" href="../Untyped/#plfa_plfa-part2-Untyped-25055" class="Function Operator">μ_</a>

<a id="plfa_plfa-part2-Untyped-two"></a><a id="plfa_plfa-part2-Untyped-25380" href="../Untyped/#plfa_plfa-part2-Untyped-25380" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25384" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25386" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25388" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25389" href="../Untyped/#plfa_plfa-part2-Untyped-25389" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25390" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25392" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25394" href="../Untyped/#plfa_plfa-part2-Untyped-25389" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25396" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25398" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25400" href="../Untyped/#plfa_plfa-part2-Untyped-25380" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25404" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25406" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25411" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25416" href="../Untyped/#plfa_plfa-part2-Untyped-23769" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-four"></a><a id="plfa_plfa-part2-Untyped-25423" href="../Untyped/#plfa_plfa-part2-Untyped-25423" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25428" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25430" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25432" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25433" href="../Untyped/#plfa_plfa-part2-Untyped-25433" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25434" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25436" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25438" href="../Untyped/#plfa_plfa-part2-Untyped-25433" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25440" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25442" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25444" href="../Untyped/#plfa_plfa-part2-Untyped-25423" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25449" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25451" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25456" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25461" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25466" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25471" href="../Untyped/#plfa_plfa-part2-Untyped-23769" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-plus"></a><a id="plfa_plfa-part2-Untyped-25478" href="../Untyped/#plfa_plfa-part2-Untyped-25478" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25483" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25485" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25487" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25488" href="../Untyped/#plfa_plfa-part2-Untyped-25488" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25489" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25491" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25493" href="../Untyped/#plfa_plfa-part2-Untyped-25488" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25495" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25497" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25499" href="../Untyped/#plfa_plfa-part2-Untyped-25478" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25504" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25506" href="../Untyped/#plfa_plfa-part2-Untyped-25055" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25508" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25510" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25512" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25513" href="../Untyped/#plfa_plfa-part2-Untyped-23882" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-25518" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25519" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25521" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25522" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25524" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25525" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25527" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25528" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25530" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25531" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25536" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25537" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25539" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-25541" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25543" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25545" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25547" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25549" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25551" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25552" class="Symbol">)))</a>
</pre><p>由于 <code>`suc</code> 是定义的项，而不是原语项， <code>plus · two · two</code> 不再归约至 <code>four</code>， 但是它们都归约至相同的范式。</p><h4 id="练习-plus-eval-实践">练习 <code>plus-eval</code> （实践）</h4><p>使用求值器，证实 <code>plus · two · two</code> 和 <code>four</code> 正规化至相同的项。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26061" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-multiplication-untyped-推荐">练习 <code>multiplication-untyped</code> （推荐）</h4><p>使用上文中的编码，翻译你之前章节乘法的定义，使得其使用 Scott 表示法和编码后的不动点运算符。 证实二乘二得四。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26461" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-encode-more-延伸">练习 <code>encode-more</code> （延伸）</h4><p>用上文中类似的方法，编码 <a href="../More/">More</a> 章节除了原语数字以外的剩余构造，用无类型的 λ 演算。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26768" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="多步归约是传递的">多步归约是传递的</h2><p>在我们对自反传递闭包的形式化，即 <code>—↠</code> 关系中，没有出现直接的传递性规则。 取而代之的是，这个关系模仿了列表形式，有一种空归约序列的情况，也有一种将一步归约加在归约序列之前的情况。 下面是传递性的证明，其与列表的附加 <code>_++_</code> 函数的结构相似。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-—↠-trans"></a><a id="plfa_plfa-part2-Untyped-27426" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27435" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27437" class="Symbol">∀{</a><a id="plfa_plfa-part2-Untyped-27439" href="../Untyped/#plfa_plfa-part2-Untyped-27439" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-27440" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27442" href="../Untyped/#plfa_plfa-part2-Untyped-27442" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27443" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27445" href="../Untyped/#plfa_plfa-part2-Untyped-27445" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27447" href="../Untyped/#plfa_plfa-part2-Untyped-27447" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27449" href="../Untyped/#plfa_plfa-part2-Untyped-27449" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27451" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27453" href="../Untyped/#plfa_plfa-part2-Untyped-27439" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27455" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27457" href="../Untyped/#plfa_plfa-part2-Untyped-27442" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27458" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-27469" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27471" href="../Untyped/#plfa_plfa-part2-Untyped-27445" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27473" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27476" href="../Untyped/#plfa_plfa-part2-Untyped-27447" class="Bound">M</a>
         <a id="plfa_plfa-part2-Untyped-27487" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27489" href="../Untyped/#plfa_plfa-part2-Untyped-27447" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27491" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27494" href="../Untyped/#plfa_plfa-part2-Untyped-27449" class="Bound">N</a>
         <a id="plfa_plfa-part2-Untyped-27505" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27507" href="../Untyped/#plfa_plfa-part2-Untyped-27445" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27509" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27512" href="../Untyped/#plfa_plfa-part2-Untyped-27449" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27514" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27523" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27524" href="../Untyped/#plfa_plfa-part2-Untyped-27524" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27526" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-27527" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27529" href="../Untyped/#plfa_plfa-part2-Untyped-27529" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27532" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27534" href="../Untyped/#plfa_plfa-part2-Untyped-27529" class="Bound">mn</a>
<a id="plfa_plfa-part2-Untyped-27537" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27546" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27547" href="../Untyped/#plfa_plfa-part2-Untyped-27547" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27549" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27553" href="../Untyped/#plfa_plfa-part2-Untyped-27553" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27555" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27557" href="../Untyped/#plfa_plfa-part2-Untyped-27557" class="Bound">lm</a><a id="plfa_plfa-part2-Untyped-27559" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27561" href="../Untyped/#plfa_plfa-part2-Untyped-27561" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27564" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27566" href="../Untyped/#plfa_plfa-part2-Untyped-27547" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27568" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27572" href="../Untyped/#plfa_plfa-part2-Untyped-27553" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27574" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27576" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27577" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27586" href="../Untyped/#plfa_plfa-part2-Untyped-27557" class="Bound">lm</a> <a id="plfa_plfa-part2-Untyped-27589" href="../Untyped/#plfa_plfa-part2-Untyped-27561" class="Bound">mn</a><a id="plfa_plfa-part2-Untyped-27591" class="Symbol">)</a>
</pre><p>下面的记法使得应用 <code>—↠</code> 的传递性更加方便。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-27717" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-27724" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-27726" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">_—↠⟨_⟩_</a>

<a id="plfa_plfa-part2-Untyped-_—↠⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-27735" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">_—↠⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-27743" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27745" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-27747" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27748" href="../Untyped/#plfa_plfa-part2-Untyped-27748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27750" href="../Untyped/#plfa_plfa-part2-Untyped-27750" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27751" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-27753" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27754" href="../Untyped/#plfa_plfa-part2-Untyped-27754" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27756" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27758" href="../Untyped/#plfa_plfa-part2-Untyped-27748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27760" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27762" href="../Untyped/#plfa_plfa-part2-Untyped-27750" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27763" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27765" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27766" href="../Untyped/#plfa_plfa-part2-Untyped-27766" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27768" href="../Untyped/#plfa_plfa-part2-Untyped-27768" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27770" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27772" href="../Untyped/#plfa_plfa-part2-Untyped-27748" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27774" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27776" href="../Untyped/#plfa_plfa-part2-Untyped-27750" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27777" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-27783" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27785" href="../Untyped/#plfa_plfa-part2-Untyped-27754" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27787" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27790" href="../Untyped/#plfa_plfa-part2-Untyped-27766" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-27796" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27798" href="../Untyped/#plfa_plfa-part2-Untyped-27766" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27800" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27803" href="../Untyped/#plfa_plfa-part2-Untyped-27768" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-27811" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-27825" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27827" href="../Untyped/#plfa_plfa-part2-Untyped-27754" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27829" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27832" href="../Untyped/#plfa_plfa-part2-Untyped-27768" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27834" href="../Untyped/#plfa_plfa-part2-Untyped-27834" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27836" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Untyped-27840" href="../Untyped/#plfa_plfa-part2-Untyped-27840" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27845" href="../Untyped/#plfa_plfa-part2-Untyped-27735" class="Function Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27847" href="../Untyped/#plfa_plfa-part2-Untyped-27847" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-27852" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27854" href="../Untyped/#plfa_plfa-part2-Untyped-27426" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27863" href="../Untyped/#plfa_plfa-part2-Untyped-27840" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27868" href="../Untyped/#plfa_plfa-part2-Untyped-27847" class="Bound">M—↠N</a>
</pre><h2 id="多步归约是合同性的">多步归约是合同性的</h2><p>回忆 <a href="../Induction/">Induction</a> 章节中，一个关系 <code>R</code> 对于一个给定的函数 <code>f</code> 在函数应用后仍然保持关系时，满足<strong>合同关系</strong>， 即『若 <code>R x y</code>，则 <code>R (f x) (f y)</code>』。 项构造子 <code>ƛ_</code> and <code>_·_</code> 是函数，因此合同性的概念也可作用于它们之上。 另外，当一个关系对于所有项的构造子满足合同时，我们说它对于整个语言满足合同性，在此即无类型的 λ 演算。</p><p>规则 <code>ξ₁</code> 、<code>ξ₂</code> 和 <code>ζ</code> 保证了归约关系对于无类型的 λ 演算满足合同性。 多步归约也是一个合同关系，我们在下面三条引理中证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appL-cong"></a><a id="plfa_plfa-part2-Untyped-28959" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-28969" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-28971" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-28973" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-28974" href="../Untyped/#plfa_plfa-part2-Untyped-28974" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-28975" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-28977" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-28978" href="../Untyped/#plfa_plfa-part2-Untyped-28978" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-28980" href="../Untyped/#plfa_plfa-part2-Untyped-28980" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-28983" href="../Untyped/#plfa_plfa-part2-Untyped-28983" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-28985" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-28987" href="../Untyped/#plfa_plfa-part2-Untyped-28974" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-28989" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-28991" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-28992" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-29003" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29005" href="../Untyped/#plfa_plfa-part2-Untyped-28978" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29007" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29010" href="../Untyped/#plfa_plfa-part2-Untyped-28980" class="Bound">L&#39;</a>
           <a id="plfa_plfa-part2-Untyped-29024" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-29049" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29051" href="../Untyped/#plfa_plfa-part2-Untyped-28978" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29053" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29055" href="../Untyped/#plfa_plfa-part2-Untyped-28983" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29057" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29060" href="../Untyped/#plfa_plfa-part2-Untyped-28980" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29063" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29065" href="../Untyped/#plfa_plfa-part2-Untyped-28983" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-29067" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29077" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29078" href="../Untyped/#plfa_plfa-part2-Untyped-29078" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29079" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29081" href="../Untyped/#plfa_plfa-part2-Untyped-29081" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29082" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29084" href="../Untyped/#plfa_plfa-part2-Untyped-29084" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29086" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29088" href="../Untyped/#plfa_plfa-part2-Untyped-29088" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29089" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29091" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29092" href="../Untyped/#plfa_plfa-part2-Untyped-29081" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29094" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-29095" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29097" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29099" href="../Untyped/#plfa_plfa-part2-Untyped-29081" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29101" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29103" href="../Untyped/#plfa_plfa-part2-Untyped-29088" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29105" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-29107" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29117" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29118" href="../Untyped/#plfa_plfa-part2-Untyped-29118" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29119" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29121" href="../Untyped/#plfa_plfa-part2-Untyped-29121" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29122" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29124" href="../Untyped/#plfa_plfa-part2-Untyped-29124" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29126" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29128" href="../Untyped/#plfa_plfa-part2-Untyped-29128" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29129" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29131" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29132" href="../Untyped/#plfa_plfa-part2-Untyped-29121" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29134" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29138" href="../Untyped/#plfa_plfa-part2-Untyped-29138" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29140" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29142" href="../Untyped/#plfa_plfa-part2-Untyped-29142" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-29144" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29146" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29148" href="../Untyped/#plfa_plfa-part2-Untyped-29121" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29150" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29152" href="../Untyped/#plfa_plfa-part2-Untyped-29128" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29154" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29158" href="../Untyped/#plfa_plfa-part2-Untyped-12873" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-29161" href="../Untyped/#plfa_plfa-part2-Untyped-29138" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29163" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29165" href="../Untyped/#plfa_plfa-part2-Untyped-28959" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29175" href="../Untyped/#plfa_plfa-part2-Untyped-29142" class="Bound">rs</a>
</pre><p><code>appL-cong</code> 的证明对于归约序列 <code>L —↠ L&#39;</code> 进行归纳。 * 若 <code>L —↠ L</code> 由 <code>L ∎</code> 成立。那我们可从 <code>L · M ∎</code> 得 <code>L · M —↠ L · M</code> 。 * 若 <code>L —↠ L&#39;&#39;</code> 由 <code>L —→⟨ r ⟩ rs</code> 成立，那么 <code>L —→ L&#39;</code> 由 <code>r</code> 成立，且 <code>L&#39; —↠ L&#39;&#39;</code> 由 <code>rs</code> 成立。 我们可从 <code>ξ₁ r</code> 得 <code>L · M —→ L&#39; · M</code>，且对 <code>rs</code> 应用归纳假设得到 <code>L&#39; · M —↠ L&#39;&#39; · M</code>。 我们可以将两者用 <code>_—→⟨_⟩_</code> 组合来获得 <code>L · M —↠ L&#39;&#39; · M</code>。</p><p><code>appR-cong</code> 和 <code>abs-cong</code> 的证明与 <code>appL-cong</code> 的证明使用一样的方法。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appR-cong"></a><a id="plfa_plfa-part2-Untyped-30112" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30122" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30124" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30126" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30127" href="../Untyped/#plfa_plfa-part2-Untyped-30127" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30128" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30130" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30131" href="../Untyped/#plfa_plfa-part2-Untyped-30131" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30133" href="../Untyped/#plfa_plfa-part2-Untyped-30133" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30135" href="../Untyped/#plfa_plfa-part2-Untyped-30135" class="Bound">M&#39;</a> <a id="plfa_plfa-part2-Untyped-30138" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30140" href="../Untyped/#plfa_plfa-part2-Untyped-30127" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30142" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30144" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30145" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30156" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30158" href="../Untyped/#plfa_plfa-part2-Untyped-30133" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30160" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30163" href="../Untyped/#plfa_plfa-part2-Untyped-30135" class="Bound">M&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30177" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-30202" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30204" href="../Untyped/#plfa_plfa-part2-Untyped-30131" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30206" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30208" href="../Untyped/#plfa_plfa-part2-Untyped-30133" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30210" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30213" href="../Untyped/#plfa_plfa-part2-Untyped-30131" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30215" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30217" href="../Untyped/#plfa_plfa-part2-Untyped-30135" class="Bound">M&#39;</a>
<a id="plfa_plfa-part2-Untyped-30220" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30230" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30231" href="../Untyped/#plfa_plfa-part2-Untyped-30231" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30232" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30234" href="../Untyped/#plfa_plfa-part2-Untyped-30234" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30235" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30237" href="../Untyped/#plfa_plfa-part2-Untyped-30237" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30238" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30240" href="../Untyped/#plfa_plfa-part2-Untyped-30240" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30242" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30244" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30245" href="../Untyped/#plfa_plfa-part2-Untyped-30237" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30247" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30248" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30250" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30252" href="../Untyped/#plfa_plfa-part2-Untyped-30234" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30254" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30256" href="../Untyped/#plfa_plfa-part2-Untyped-30237" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30258" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30260" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30270" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30271" href="../Untyped/#plfa_plfa-part2-Untyped-30271" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30272" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30274" href="../Untyped/#plfa_plfa-part2-Untyped-30274" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30275" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30277" href="../Untyped/#plfa_plfa-part2-Untyped-30277" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30278" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30280" href="../Untyped/#plfa_plfa-part2-Untyped-30280" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30282" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30284" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30285" href="../Untyped/#plfa_plfa-part2-Untyped-30277" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30287" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30291" href="../Untyped/#plfa_plfa-part2-Untyped-30291" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30293" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30295" href="../Untyped/#plfa_plfa-part2-Untyped-30295" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30297" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30299" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30301" href="../Untyped/#plfa_plfa-part2-Untyped-30274" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30303" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30305" href="../Untyped/#plfa_plfa-part2-Untyped-30277" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30307" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30311" href="../Untyped/#plfa_plfa-part2-Untyped-12963" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-30314" href="../Untyped/#plfa_plfa-part2-Untyped-30291" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30316" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30318" href="../Untyped/#plfa_plfa-part2-Untyped-30112" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30328" href="../Untyped/#plfa_plfa-part2-Untyped-30295" class="Bound">rs</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Untyped-abs-cong"></a><a id="plfa_plfa-part2-Untyped-30344" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30353" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30355" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30357" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30358" href="../Untyped/#plfa_plfa-part2-Untyped-30358" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30359" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30361" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30362" href="../Untyped/#plfa_plfa-part2-Untyped-30362" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30364" href="../Untyped/#plfa_plfa-part2-Untyped-30364" class="Bound">N&#39;</a> <a id="plfa_plfa-part2-Untyped-30367" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30369" href="../Untyped/#plfa_plfa-part2-Untyped-30358" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30371" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-30373" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-30375" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30377" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30378" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30389" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30391" href="../Untyped/#plfa_plfa-part2-Untyped-30362" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30393" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30396" href="../Untyped/#plfa_plfa-part2-Untyped-30364" class="Bound">N&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30410" class="Comment">----------</a>
         <a id="plfa_plfa-part2-Untyped-30430" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30432" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30434" href="../Untyped/#plfa_plfa-part2-Untyped-30362" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30436" href="../Untyped/#plfa_plfa-part2-Untyped-14217" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30439" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30441" href="../Untyped/#plfa_plfa-part2-Untyped-30364" class="Bound">N&#39;</a>
<a id="plfa_plfa-part2-Untyped-30444" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30453" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30454" href="../Untyped/#plfa_plfa-part2-Untyped-30454" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30456" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30457" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30459" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30461" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30463" href="../Untyped/#plfa_plfa-part2-Untyped-30454" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30465" href="../Untyped/#plfa_plfa-part2-Untyped-14263" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30467" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30476" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30477" href="../Untyped/#plfa_plfa-part2-Untyped-30477" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30479" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30483" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30485" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30487" href="../Untyped/#plfa_plfa-part2-Untyped-30487" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30489" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30491" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30493" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30495" href="../Untyped/#plfa_plfa-part2-Untyped-30477" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30497" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30501" href="../Untyped/#plfa_plfa-part2-Untyped-13161" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-30503" href="../Untyped/#plfa_plfa-part2-Untyped-30483" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30505" href="../Untyped/#plfa_plfa-part2-Untyped-14405" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30507" href="../Untyped/#plfa_plfa-part2-Untyped-30344" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30516" href="../Untyped/#plfa_plfa-part2-Untyped-30487" class="Bound">rs</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了下列 Unicode：</p><pre><code>★  U+2605  BLACK STAR (\st)</code></pre><p><code>\st</code> 命令允许选取不同种类的星，我们使用的是第七种。</p></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：Fangyi Zhou<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer><script src="../assets/js/ruby-tags.js" integrity="sha512-ohLx3ydhHH5A2SRALHSSKZ1WRfgHk35NR9ef+bnxc1XgZCXDRYG5oNYdx2STnACcshdWXXnPjb5doJLM6Zhaew==" id="script-ruby-tags"></script></body></html>