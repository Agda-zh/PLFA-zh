<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Untyped</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Untyped: 完全正规化的无类型 λ-演算</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part2-Untyped-109" class="Keyword">module</a> <a id="plfa_plfa-part2-Untyped-116" href="../Untyped/#" class="Module">plfa.part2.Untyped</a> <a id="plfa_plfa-part2-Untyped-135" class="Keyword">where</a>
</pre><p>本章中，我们对于之前的主题加入不同的变化：</p><ul><li>之前的章节中讨论了内在类型的演算；我们这次讨论无类型，但是内在作用域的演算。</li></ul><ul><li>之前的章节中讨论了传值调用（Call-by-value）的演算；我们这次讨论传名调用（Call-by-name）。</li></ul><ul><li>之前的章节中讨论了<strong>弱头部范式</strong>（Weak Head Normal Form），其归约止步于 λ 抽象；我们这次讨论<strong>完全正规化</strong>（Full Normalisation），其在 λ 抽象之下仍然继续归约。</li></ul><ul><li>之前的章节中讨论了<strong>确定性</strong>（Deterministic）的归约，每个项中至多有一个可归约项； 我们这次讨论<strong>非确定性</strong>（Non-deterministic）的归约，每个项中可能有多个可归约项，而每一个都可归约。</li></ul><ul><li>之前的章节中讨论了<strong>封闭</strong>（Closed）的项，其不包含自由变量； 我们这次讨论<strong>开放</strong>（Open）的项，其可能包含自由变量。</li></ul><ul><li>之前的章节中讨论了加入自然数和不动点的 λ 演算； 我们这次讨论只包括变量、抽象和应用的小巧的演算，其他构造均可编码至其中。</li></ul><p>一般来说，我们可以将这些特性选择性的混合匹配，而完全正规化要求开放项， 且编码自然数和不动点需要无类型的演算。 本章的目的是展示 λ 演算可能出现的不同形式。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part2-Untyped-2184" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2191" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="plfa_plfa-part2-Untyped-2229" class="Symbol">as</a> <a id="plfa_plfa-part2-Untyped-2232" class="Module">Eq</a>
<a id="plfa_plfa-part2-Untyped-2235" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2240" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="plfa_plfa-part2-Untyped-2243" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2249" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2250" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part2-Untyped-2253" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2255" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part2-Untyped-2259" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2261" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2266" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2273" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="plfa_plfa-part2-Untyped-2284" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2290" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2291" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="plfa_plfa-part2-Untyped-2292" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2294" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="plfa_plfa-part2-Untyped-2300" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2302" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2307" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2314" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part2-Untyped-2323" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2329" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2330" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-2331" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2333" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-2337" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2339" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part2-Untyped-2342" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2344" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a><a id="plfa_plfa-part2-Untyped-2347" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2349" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">_≤?_</a><a id="plfa_plfa-part2-Untyped-2353" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2355" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-2358" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2360" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="plfa_plfa-part2-Untyped-2363" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2365" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2370" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2377" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part2-Untyped-2394" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2400" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2401" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part2-Untyped-2403" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-2405" class="Keyword">open</a> <a id="plfa_plfa-part2-Untyped-2410" class="Keyword">import</a> <a id="plfa_plfa-part2-Untyped-2417" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="plfa_plfa-part2-Untyped-2444" class="Keyword">using</a> <a id="plfa_plfa-part2-Untyped-2450" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-2451" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="plfa_plfa-part2-Untyped-2455" class="Symbol">;</a> <a id="plfa_plfa-part2-Untyped-2457" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a><a id="plfa_plfa-part2-Untyped-2466" class="Symbol">)</a>
</pre><h2 id="无类型即是单一类型">无类型即是单一类型</h2><p>我们的内容将会和 [DeBruijn] 章节中相似，只是每个项会有相同的类型，写作 <code>★</code>，读作『任意』。 这呼应了一条 Dana Scott 提出，Robert Harper 重复的口号：『无类型即是单一类型』。 这样的结果之一就是之前我们需要额外给出的构造（例如自然数和不动点），现在可以在直接在语言本身中定义。</p><h2 id="语法">语法</h2><p>我们首先定义中缀声明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3248" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3255" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3258" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a>
<a id="plfa_plfa-part2-Untyped-3262" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3269" class="Number">4</a>  <a id="plfa_plfa-part2-Untyped-3272" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">_∋_</a>
<a id="plfa_plfa-part2-Untyped-3276" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3283" class="Number">5</a>  <a id="plfa_plfa-part2-Untyped-3286" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a>

<a id="plfa_plfa-part2-Untyped-3291" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3298" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3301" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a>
<a id="plfa_plfa-part2-Untyped-3304" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-3311" class="Number">6</a>  <a id="plfa_plfa-part2-Untyped-3314" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′_</a>
<a id="plfa_plfa-part2-Untyped-3317" class="Keyword">infixl</a> <a id="plfa_plfa-part2-Untyped-3324" class="Number">7</a>  <a id="plfa_plfa-part2-Untyped-3327" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a>
</pre><h2 id="类型">类型</h2><p>我们只有一种类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3414" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Type"></a><a id="plfa_plfa-part2-Untyped-3419" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3424" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3426" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3430" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Type.★"></a><a id="plfa_plfa-part2-Untyped-3438" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-3440" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3442" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a>
</pre><h4 id="练习-type-习题">练习 (<code>Type≃⊤</code>) （习题）</h4><p>证明 <code>Type</code> 与单元类型 <code>⊤</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3620" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="语境">语境</h2><p>和之前一样，语境是类型的列表，最新出现的约束变量的类型出现在最右边：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-3825" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Context"></a><a id="plfa_plfa-part2-Untyped-3830" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3838" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3840" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-3844" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-Context.∅"></a><a id="plfa_plfa-part2-Untyped-3852" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a>   <a id="plfa_plfa-part2-Untyped-3856" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3858" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a>
  <a id="plfa_plfa-part2-Untyped-Context._,_"></a><a id="plfa_plfa-part2-Untyped-3868" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part2-Untyped-3872" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-3874" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-3882" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3884" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-3889" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-3891" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a>
</pre><p>我们使用 <code>Γ</code> 和 <code>Δ</code> 来指代语境。</p><h4 id="练习-contextℕ-习题">练习 (<code>Context≃ℕ</code>) （习题）</h4><p>证明 <code>Context</code> 和 <code>ℕ</code> 同构。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4138" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="变量和查询判断">变量和查询判断</h2><p>内在作用域的变量对应了查询判断。规则与之前一样：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-4350" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_∋_"></a><a id="plfa_plfa-part2-Untyped-4355" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">_∋_</a> <a id="plfa_plfa-part2-Untyped-4359" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4361" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-4369" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4371" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-4376" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4378" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-4382" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.Z"></a><a id="plfa_plfa-part2-Untyped-4391" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part2-Untyped-4393" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4395" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4397" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4398" href="../Untyped/#plfa_plfa-part2-Untyped-4398" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4400" href="../Untyped/#plfa_plfa-part2-Untyped-4400" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-4401" class="Symbol">}</a>
     <a id="plfa_plfa-part2-Untyped-4408" class="Comment">---------</a>
   <a id="plfa_plfa-part2-Untyped-4421" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4423" href="../Untyped/#plfa_plfa-part2-Untyped-4398" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4425" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4427" href="../Untyped/#plfa_plfa-part2-Untyped-4400" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4429" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4431" href="../Untyped/#plfa_plfa-part2-Untyped-4400" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_∋_.S_"></a><a id="plfa_plfa-part2-Untyped-4436" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-4439" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-4441" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-4443" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-4444" href="../Untyped/#plfa_plfa-part2-Untyped-4444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4446" href="../Untyped/#plfa_plfa-part2-Untyped-4446" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-4448" href="../Untyped/#plfa_plfa-part2-Untyped-4448" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-4449" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-4455" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4457" href="../Untyped/#plfa_plfa-part2-Untyped-4444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4459" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4461" href="../Untyped/#plfa_plfa-part2-Untyped-4446" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-4469" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-4483" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-4485" href="../Untyped/#plfa_plfa-part2-Untyped-4444" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-4487" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-4489" href="../Untyped/#plfa_plfa-part2-Untyped-4448" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-4491" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-4493" href="../Untyped/#plfa_plfa-part2-Untyped-4446" class="Bound">A</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>因为 <code>★</code> 是唯一的类型，这样的判断并不会给出很多与类型相关的保证。 但它确实确保了所有的变量在作用域内。例如，我们不能在只有两个约束变量的语境中使用 <code>S S Z</code>。</p><h2 id="项与作用域判断">项与作用域判断</h2><p>内类作用域的项对应了赋型判断，但类型只有唯一的 <code>★</code> 类型。 得到的结果则是我们检查了每个项都是良作用域的——即所有使用的变量都在作用域内——而不是它们是良类型的：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-5393" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_⊢_"></a><a id="plfa_plfa-part2-Untyped-5398" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a> <a id="plfa_plfa-part2-Untyped-5402" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5404" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-5412" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5414" href="../Untyped/#plfa_plfa-part2-Untyped-3419" class="Datatype">Type</a> <a id="plfa_plfa-part2-Untyped-5419" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5421" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-5425" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.`_"></a><a id="plfa_plfa-part2-Untyped-5434" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`_</a> <a id="plfa_plfa-part2-Untyped-5437" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5439" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5441" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5442" href="../Untyped/#plfa_plfa-part2-Untyped-5442" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5444" href="../Untyped/#plfa_plfa-part2-Untyped-5444" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-5445" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5451" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5453" href="../Untyped/#plfa_plfa-part2-Untyped-5442" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5455" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-5457" href="../Untyped/#plfa_plfa-part2-Untyped-5444" class="Bound">A</a>
      <a id="plfa_plfa-part2-Untyped-5465" class="Comment">-----</a>
    <a id="plfa_plfa-part2-Untyped-5475" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5477" href="../Untyped/#plfa_plfa-part2-Untyped-5442" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5479" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5481" href="../Untyped/#plfa_plfa-part2-Untyped-5444" class="Bound">A</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_.ƛ_"></a><a id="plfa_plfa-part2-Untyped-5486" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-5490" class="Symbol">:</a>  <a id="plfa_plfa-part2-Untyped-5493" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5495" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5496" href="../Untyped/#plfa_plfa-part2-Untyped-5496" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5497" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5503" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5505" href="../Untyped/#plfa_plfa-part2-Untyped-5496" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5507" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-5509" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-5511" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5513" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5521" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-5535" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5537" href="../Untyped/#plfa_plfa-part2-Untyped-5496" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5539" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5541" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>

  <a id="plfa_plfa-part2-Untyped-_⊢_._·_"></a><a id="plfa_plfa-part2-Untyped-5546" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a> <a id="plfa_plfa-part2-Untyped-5550" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-5552" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-5554" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-5555" href="../Untyped/#plfa_plfa-part2-Untyped-5555" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-5556" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-5562" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5564" href="../Untyped/#plfa_plfa-part2-Untyped-5555" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5566" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5568" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
    <a id="plfa_plfa-part2-Untyped-5574" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5576" href="../Untyped/#plfa_plfa-part2-Untyped-5555" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5578" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5580" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
      <a id="plfa_plfa-part2-Untyped-5588" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-5599" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-5601" href="../Untyped/#plfa_plfa-part2-Untyped-5555" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-5603" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-5605" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
</pre><p>现在我们有了一个迷你的演算，至包含变量、抽象和应用。 接下来我们展示如果将自然数和不动点编码进这个演算中。</p><h2 id="用数表示变量">用数表示变量</h2><p>如之前一样，我们可以将自然数转换为对应的 de Bruijn 因子。 我们不再需要从语境中查询变量的类型，因为每个变量都有一样的类型：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-length"></a><a id="plfa_plfa-part2-Untyped-6142" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6149" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6151" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part2-Untyped-6159" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6161" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="plfa_plfa-part2-Untyped-6163" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6170" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a>        <a id="plfa_plfa-part2-Untyped-6179" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6182" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>
<a id="plfa_plfa-part2-Untyped-6187" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6194" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6195" href="../Untyped/#plfa_plfa-part2-Untyped-6195" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6197" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6199" class="Symbol">_)</a>  <a id="plfa_plfa-part2-Untyped-6203" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6206" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6210" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6211" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6218" href="../Untyped/#plfa_plfa-part2-Untyped-6195" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6219" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-count"></a><a id="plfa_plfa-part2-Untyped-6222" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6228" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6230" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6232" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6233" href="../Untyped/#plfa_plfa-part2-Untyped-6233" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6234" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6236" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6238" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6239" href="../Untyped/#plfa_plfa-part2-Untyped-6239" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6241" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6243" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6244" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6246" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6248" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6249" href="../Untyped/#plfa_plfa-part2-Untyped-6249" class="Bound">p</a> <a id="plfa_plfa-part2-Untyped-6251" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6253" href="../Untyped/#plfa_plfa-part2-Untyped-6239" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6255" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1645" class="Function Operator">&lt;</a> <a id="plfa_plfa-part2-Untyped-6257" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6264" href="../Untyped/#plfa_plfa-part2-Untyped-6233" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6265" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-6267" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6269" href="../Untyped/#plfa_plfa-part2-Untyped-6233" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6271" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-6273" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6275" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6281" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6282" href="../Untyped/#plfa_plfa-part2-Untyped-6282" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6284" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6286" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6287" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6289" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6290" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-6294" class="Symbol">}</a>    <a id="plfa_plfa-part2-Untyped-6299" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6300" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6304" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="plfa_plfa-part2-Untyped-6307" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-6310" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6313" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-6315" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6321" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6322" href="../Untyped/#plfa_plfa-part2-Untyped-6322" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6324" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-6326" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-6327" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6329" class="Symbol">{(</a><a id="plfa_plfa-part2-Untyped-6331" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6335" href="../Untyped/#plfa_plfa-part2-Untyped-6335" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-6336" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-6339" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6340" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a> <a id="plfa_plfa-part2-Untyped-6344" href="../Untyped/#plfa_plfa-part2-Untyped-6344" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6345" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-6350" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6353" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-6355" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6356" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6362" href="../Untyped/#plfa_plfa-part2-Untyped-6344" class="Bound">p</a><a id="plfa_plfa-part2-Untyped-6363" class="Symbol">)</a>
</pre><p>我们可以接下来引入一种变量的缩略用法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#_"></a><a id="plfa_plfa-part2-Untyped-6472" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6475" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6477" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6479" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6480" href="../Untyped/#plfa_plfa-part2-Untyped-6480" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6481" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-6485" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6487" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6488" href="../Untyped/#plfa_plfa-part2-Untyped-6488" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6490" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6492" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-6493" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-6497" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6499" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6500" href="../Untyped/#plfa_plfa-part2-Untyped-6500" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-6504" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6506" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-6511" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6512" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-6516" href="../Untyped/#plfa_plfa-part2-Untyped-6488" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6518" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-6521" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-6528" href="../Untyped/#plfa_plfa-part2-Untyped-6480" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6529" class="Symbol">)}</a>
    <a id="plfa_plfa-part2-Untyped-6536" class="Comment">--------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-6571" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6573" href="../Untyped/#plfa_plfa-part2-Untyped-6480" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6575" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6577" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6579" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#_</a> <a id="plfa_plfa-part2-Untyped-6582" href="../Untyped/#plfa_plfa-part2-Untyped-6582" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-6584" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6585" href="../Untyped/#plfa_plfa-part2-Untyped-6585" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6588" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-6591" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-6594" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-6596" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-6602" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6603" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-6613" href="../Untyped/#plfa_plfa-part2-Untyped-6585" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-6616" class="Symbol">)</a>
</pre><h2 id="测试例子">测试例子</h2><p>我们唯一的例子是用 Church 数计算二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-twoᶜ"></a><a id="plfa_plfa-part2-Untyped-6766" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6771" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6773" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6775" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6776" href="../Untyped/#plfa_plfa-part2-Untyped-6776" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6777" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6779" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6781" href="../Untyped/#plfa_plfa-part2-Untyped-6776" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6783" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6785" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6787" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6792" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6794" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6796" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6798" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6799" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6801" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6803" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6805" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6806" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6808" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6810" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6812" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6814" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6815" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-fourᶜ"></a><a id="plfa_plfa-part2-Untyped-6819" href="../Untyped/#plfa_plfa-part2-Untyped-6819" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6825" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6827" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6829" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6830" href="../Untyped/#plfa_plfa-part2-Untyped-6830" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6831" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6833" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6835" href="../Untyped/#plfa_plfa-part2-Untyped-6830" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6837" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6839" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6841" href="../Untyped/#plfa_plfa-part2-Untyped-6819" class="Function">fourᶜ</a> <a id="plfa_plfa-part2-Untyped-6847" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6849" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6851" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6853" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6854" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6856" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6858" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6860" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6861" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6863" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6865" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6867" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6868" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6870" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6872" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6874" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6875" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6877" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6879" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6881" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6883" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6884" class="Symbol">))))</a>

<a id="plfa_plfa-part2-Untyped-plusᶜ"></a><a id="plfa_plfa-part2-Untyped-6890" href="../Untyped/#plfa_plfa-part2-Untyped-6890" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6896" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6898" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-6900" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-6901" href="../Untyped/#plfa_plfa-part2-Untyped-6901" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-6902" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-6904" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-6906" href="../Untyped/#plfa_plfa-part2-Untyped-6901" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-6908" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6910" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6912" href="../Untyped/#plfa_plfa-part2-Untyped-6890" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6918" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6920" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6922" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6924" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6926" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-6928" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6929" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6931" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-6933" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6935" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6937" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6939" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6941" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-6942" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6944" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-6946" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6948" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6950" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-6952" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6954" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-6956" class="Number">0</a><a id="plfa_plfa-part2-Untyped-6957" class="Symbol">))</a>

<a id="plfa_plfa-part2-Untyped-2+2ᶜ"></a><a id="plfa_plfa-part2-Untyped-6961" href="../Untyped/#plfa_plfa-part2-Untyped-6961" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6966" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-6968" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part2-Untyped-6970" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-6972" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-6974" href="../Untyped/#plfa_plfa-part2-Untyped-6961" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-6979" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-6981" href="../Untyped/#plfa_plfa-part2-Untyped-6890" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-6987" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6989" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-6994" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-6996" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a>
</pre><p>在之前，我们在遇到 λ 抽象时停止归约，因此我们需要计算 <code>plusᶜ · twoᶜ · twoᶜ · sucᶜ · `zero</code> 来确保我们归约至自然数四。 现在，归约在 λ 之下继续进行，所以我们不需要额外的参数。 为了便利，我们定义用 Church 数来表示二和四的项。</p><h2 id="重命名">重命名</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-ext"></a><a id="plfa_plfa-part2-Untyped-7663" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7667" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-7669" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-7671" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7672" href="../Untyped/#plfa_plfa-part2-Untyped-7672" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7674" href="../Untyped/#plfa_plfa-part2-Untyped-7674" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-7675" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7677" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7679" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7682" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7683" href="../Untyped/#plfa_plfa-part2-Untyped-7683" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7684" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7686" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7688" href="../Untyped/#plfa_plfa-part2-Untyped-7672" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7690" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7692" href="../Untyped/#plfa_plfa-part2-Untyped-7683" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7694" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7696" href="../Untyped/#plfa_plfa-part2-Untyped-7674" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7698" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7700" href="../Untyped/#plfa_plfa-part2-Untyped-7683" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7701" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-7707" class="Comment">-----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-7745" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7747" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-7750" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-7751" href="../Untyped/#plfa_plfa-part2-Untyped-7751" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7753" href="../Untyped/#plfa_plfa-part2-Untyped-7753" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-7754" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-7756" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7758" href="../Untyped/#plfa_plfa-part2-Untyped-7672" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-7760" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7762" href="../Untyped/#plfa_plfa-part2-Untyped-7753" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7764" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7766" href="../Untyped/#plfa_plfa-part2-Untyped-7751" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-7768" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-7770" href="../Untyped/#plfa_plfa-part2-Untyped-7674" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-7772" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-7774" href="../Untyped/#plfa_plfa-part2-Untyped-7753" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-7776" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-7778" href="../Untyped/#plfa_plfa-part2-Untyped-7751" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-7779" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-7781" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7785" href="../Untyped/#plfa_plfa-part2-Untyped-7785" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7787" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-7794" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7797" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-7799" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-7803" href="../Untyped/#plfa_plfa-part2-Untyped-7803" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7805" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7806" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7808" href="../Untyped/#plfa_plfa-part2-Untyped-7808" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7809" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-7812" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-7815" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-7817" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-7818" href="../Untyped/#plfa_plfa-part2-Untyped-7803" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-7820" href="../Untyped/#plfa_plfa-part2-Untyped-7808" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-7821" class="Symbol">)</a>
</pre><p>我们可以在规则中将所有的 <code>A</code> 和 <code>B</code> 都替换成 <code>★</code>，但不这样做更加清晰。</p><p>现在定义重命名就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-rename"></a><a id="plfa_plfa-part2-Untyped-8055" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8062" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8064" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8066" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8067" href="../Untyped/#plfa_plfa-part2-Untyped-8067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8069" href="../Untyped/#plfa_plfa-part2-Untyped-8069" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8070" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8074" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8076" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8079" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8080" href="../Untyped/#plfa_plfa-part2-Untyped-8080" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8081" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8083" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8085" href="../Untyped/#plfa_plfa-part2-Untyped-8067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8087" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8089" href="../Untyped/#plfa_plfa-part2-Untyped-8080" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8091" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8093" href="../Untyped/#plfa_plfa-part2-Untyped-8069" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8095" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8097" href="../Untyped/#plfa_plfa-part2-Untyped-8080" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8098" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8104" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8131" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8133" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8136" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8137" href="../Untyped/#plfa_plfa-part2-Untyped-8137" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8138" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8140" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8142" href="../Untyped/#plfa_plfa-part2-Untyped-8067" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8144" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8146" href="../Untyped/#plfa_plfa-part2-Untyped-8137" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8148" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8150" href="../Untyped/#plfa_plfa-part2-Untyped-8069" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8152" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8154" href="../Untyped/#plfa_plfa-part2-Untyped-8137" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8155" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8157" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8164" href="../Untyped/#plfa_plfa-part2-Untyped-8164" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8166" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8167" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8169" href="../Untyped/#plfa_plfa-part2-Untyped-8169" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8170" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8181" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8184" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8186" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8187" href="../Untyped/#plfa_plfa-part2-Untyped-8164" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8189" href="../Untyped/#plfa_plfa-part2-Untyped-8169" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8190" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8192" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8199" href="../Untyped/#plfa_plfa-part2-Untyped-8199" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8201" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8202" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8204" href="../Untyped/#plfa_plfa-part2-Untyped-8204" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8205" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-8216" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8219" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-8221" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8222" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8229" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8230" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part2-Untyped-8234" href="../Untyped/#plfa_plfa-part2-Untyped-8199" class="Bound">ρ</a><a id="plfa_plfa-part2-Untyped-8235" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8237" href="../Untyped/#plfa_plfa-part2-Untyped-8204" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-8238" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8240" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8247" href="../Untyped/#plfa_plfa-part2-Untyped-8247" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8249" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8250" href="../Untyped/#plfa_plfa-part2-Untyped-8250" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-8252" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8254" href="../Untyped/#plfa_plfa-part2-Untyped-8254" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8255" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-8264" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8267" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8268" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8275" href="../Untyped/#plfa_plfa-part2-Untyped-8247" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8277" href="../Untyped/#plfa_plfa-part2-Untyped-8250" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-8278" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-8280" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-8282" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8283" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8290" href="../Untyped/#plfa_plfa-part2-Untyped-8247" class="Bound">ρ</a> <a id="plfa_plfa-part2-Untyped-8292" href="../Untyped/#plfa_plfa-part2-Untyped-8254" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-8293" class="Symbol">)</a>
</pre><p>这和之前一样，只是我们项的形式更少了。</p><h2 id="同时替换">同时替换</h2><p>我们重命名的定义与以前一样。首先我们需要一条扩充引理：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-exts"></a><a id="plfa_plfa-part2-Untyped-8582" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8587" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8589" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8591" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8592" href="../Untyped/#plfa_plfa-part2-Untyped-8592" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8594" href="../Untyped/#plfa_plfa-part2-Untyped-8594" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8595" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8597" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8599" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8602" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8603" href="../Untyped/#plfa_plfa-part2-Untyped-8603" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8604" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8606" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8608" href="../Untyped/#plfa_plfa-part2-Untyped-8592" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8610" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8612" href="../Untyped/#plfa_plfa-part2-Untyped-8603" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8614" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8616" href="../Untyped/#plfa_plfa-part2-Untyped-8594" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8618" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8620" href="../Untyped/#plfa_plfa-part2-Untyped-8603" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8621" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8627" class="Comment">----------------------------------</a>
  <a id="plfa_plfa-part2-Untyped-8664" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8666" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8669" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8670" href="../Untyped/#plfa_plfa-part2-Untyped-8670" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8672" href="../Untyped/#plfa_plfa-part2-Untyped-8672" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-8673" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8675" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8677" href="../Untyped/#plfa_plfa-part2-Untyped-8592" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8679" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8681" href="../Untyped/#plfa_plfa-part2-Untyped-8672" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8683" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8685" href="../Untyped/#plfa_plfa-part2-Untyped-8670" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8687" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8689" href="../Untyped/#plfa_plfa-part2-Untyped-8594" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8691" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-8693" href="../Untyped/#plfa_plfa-part2-Untyped-8672" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-8695" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8697" href="../Untyped/#plfa_plfa-part2-Untyped-8670" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8698" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-8700" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8705" href="../Untyped/#plfa_plfa-part2-Untyped-8705" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8707" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-8714" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8717" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-8719" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>
<a id="plfa_plfa-part2-Untyped-8721" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-8726" href="../Untyped/#plfa_plfa-part2-Untyped-8726" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8728" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8729" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-8731" href="../Untyped/#plfa_plfa-part2-Untyped-8731" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8732" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-8735" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-8738" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part2-Untyped-8745" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a> <a id="plfa_plfa-part2-Untyped-8748" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-8749" href="../Untyped/#plfa_plfa-part2-Untyped-8726" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-8751" href="../Untyped/#plfa_plfa-part2-Untyped-8731" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-8752" class="Symbol">)</a>
</pre><p>一样，我们可以把所有的 <code>A</code> 和 <code>B</code> 替换成 <code>★</code>。</p><p>现在定义替换就很直接了：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst"></a><a id="plfa_plfa-part2-Untyped-8943" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-8949" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-8951" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-8953" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8954" href="../Untyped/#plfa_plfa-part2-Untyped-8954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8956" href="../Untyped/#plfa_plfa-part2-Untyped-8956" class="Bound">Δ</a><a id="plfa_plfa-part2-Untyped-8957" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-8961" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8963" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-8966" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-8967" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8968" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-8970" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8972" href="../Untyped/#plfa_plfa-part2-Untyped-8954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-8974" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-8976" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-8978" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-8980" href="../Untyped/#plfa_plfa-part2-Untyped-8956" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-8982" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-8984" href="../Untyped/#plfa_plfa-part2-Untyped-8967" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-8985" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-8991" class="Comment">------------------------</a>
  <a id="plfa_plfa-part2-Untyped-9018" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9020" class="Symbol">(∀</a> <a id="plfa_plfa-part2-Untyped-9023" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9024" href="../Untyped/#plfa_plfa-part2-Untyped-9024" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9025" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9027" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9029" href="../Untyped/#plfa_plfa-part2-Untyped-8954" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9031" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9033" href="../Untyped/#plfa_plfa-part2-Untyped-9024" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9035" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9037" href="../Untyped/#plfa_plfa-part2-Untyped-8956" class="Bound">Δ</a> <a id="plfa_plfa-part2-Untyped-9039" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9041" href="../Untyped/#plfa_plfa-part2-Untyped-9024" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9042" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9044" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9050" href="../Untyped/#plfa_plfa-part2-Untyped-9050" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9052" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9053" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9055" href="../Untyped/#plfa_plfa-part2-Untyped-9055" class="Bound">k</a><a id="plfa_plfa-part2-Untyped-9056" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9067" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9070" href="../Untyped/#plfa_plfa-part2-Untyped-9050" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9072" href="../Untyped/#plfa_plfa-part2-Untyped-9055" class="Bound">k</a>
<a id="plfa_plfa-part2-Untyped-9074" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9080" href="../Untyped/#plfa_plfa-part2-Untyped-9080" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9082" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9083" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9085" href="../Untyped/#plfa_plfa-part2-Untyped-9085" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9086" class="Symbol">)</a>          <a id="plfa_plfa-part2-Untyped-9097" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9100" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-9102" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9103" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9109" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9110" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a> <a id="plfa_plfa-part2-Untyped-9115" href="../Untyped/#plfa_plfa-part2-Untyped-9080" class="Bound">σ</a><a id="plfa_plfa-part2-Untyped-9116" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9118" href="../Untyped/#plfa_plfa-part2-Untyped-9085" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-9119" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9121" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9127" href="../Untyped/#plfa_plfa-part2-Untyped-9127" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9129" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9130" href="../Untyped/#plfa_plfa-part2-Untyped-9130" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-9132" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9134" href="../Untyped/#plfa_plfa-part2-Untyped-9134" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9135" class="Symbol">)</a>        <a id="plfa_plfa-part2-Untyped-9144" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9147" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9148" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9154" href="../Untyped/#plfa_plfa-part2-Untyped-9127" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9156" href="../Untyped/#plfa_plfa-part2-Untyped-9130" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-9157" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9159" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-9161" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9162" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9168" href="../Untyped/#plfa_plfa-part2-Untyped-9127" class="Bound">σ</a> <a id="plfa_plfa-part2-Untyped-9170" href="../Untyped/#plfa_plfa-part2-Untyped-9134" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9171" class="Symbol">)</a>
</pre><p>同样，这和之前一样，只是我们项的形式更少了。</p><h2 id="单个替换">单个替换</h2><p>定义替换一个自由变量的特例很简单：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-subst-zero"></a><a id="plfa_plfa-part2-Untyped-9439" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9450" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9452" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9454" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9455" href="../Untyped/#plfa_plfa-part2-Untyped-9455" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9457" href="../Untyped/#plfa_plfa-part2-Untyped-9457" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9458" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9460" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9462" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9463" href="../Untyped/#plfa_plfa-part2-Untyped-9455" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9465" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9467" href="../Untyped/#plfa_plfa-part2-Untyped-9457" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9468" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9470" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9472" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9474" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9475" href="../Untyped/#plfa_plfa-part2-Untyped-9475" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9476" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9478" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9480" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9481" href="../Untyped/#plfa_plfa-part2-Untyped-9455" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9483" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9485" href="../Untyped/#plfa_plfa-part2-Untyped-9457" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9487" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-9489" href="../Untyped/#plfa_plfa-part2-Untyped-9475" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9490" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9492" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9494" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9495" href="../Untyped/#plfa_plfa-part2-Untyped-9455" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9497" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9499" href="../Untyped/#plfa_plfa-part2-Untyped-9475" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9500" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-9502" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9513" href="../Untyped/#plfa_plfa-part2-Untyped-9513" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9515" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part2-Untyped-9522" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9525" href="../Untyped/#plfa_plfa-part2-Untyped-9513" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-9527" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9538" href="../Untyped/#plfa_plfa-part2-Untyped-9538" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9540" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9541" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-9543" href="../Untyped/#plfa_plfa-part2-Untyped-9543" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-9544" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-9547" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9550" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-9552" href="../Untyped/#plfa_plfa-part2-Untyped-9543" class="Bound">x</a>

<a id="plfa_plfa-part2-Untyped-_[_]"></a><a id="plfa_plfa-part2-Untyped-9555" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9560" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-9562" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-9564" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9565" href="../Untyped/#plfa_plfa-part2-Untyped-9565" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9567" href="../Untyped/#plfa_plfa-part2-Untyped-9567" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-9569" href="../Untyped/#plfa_plfa-part2-Untyped-9569" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9570" class="Symbol">}</a>
        <a id="plfa_plfa-part2-Untyped-9580" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9582" href="../Untyped/#plfa_plfa-part2-Untyped-9565" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9584" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9586" href="../Untyped/#plfa_plfa-part2-Untyped-9569" class="Bound">B</a> <a id="plfa_plfa-part2-Untyped-9588" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9590" href="../Untyped/#plfa_plfa-part2-Untyped-9567" class="Bound">A</a>
        <a id="plfa_plfa-part2-Untyped-9600" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9602" href="../Untyped/#plfa_plfa-part2-Untyped-9565" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9604" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9606" href="../Untyped/#plfa_plfa-part2-Untyped-9569" class="Bound">B</a>
          <a id="plfa_plfa-part2-Untyped-9618" class="Comment">---------</a>
        <a id="plfa_plfa-part2-Untyped-9636" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-9638" href="../Untyped/#plfa_plfa-part2-Untyped-9565" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9640" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-9642" href="../Untyped/#plfa_plfa-part2-Untyped-9567" class="Bound">A</a>
<a id="plfa_plfa-part2-Untyped-9644" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">_[_]</a> <a id="plfa_plfa-part2-Untyped-9649" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9650" href="../Untyped/#plfa_plfa-part2-Untyped-9650" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9651" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9653" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9654" href="../Untyped/#plfa_plfa-part2-Untyped-9654" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9655" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9657" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9658" href="../Untyped/#plfa_plfa-part2-Untyped-9658" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9659" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9661" href="../Untyped/#plfa_plfa-part2-Untyped-9661" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-9663" href="../Untyped/#plfa_plfa-part2-Untyped-9663" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-9665" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-9668" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a> <a id="plfa_plfa-part2-Untyped-9674" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9675" href="../Untyped/#plfa_plfa-part2-Untyped-9650" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-9677" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-9679" href="../Untyped/#plfa_plfa-part2-Untyped-9658" class="Bound">B</a><a id="plfa_plfa-part2-Untyped-9680" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9682" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9683" href="../Untyped/#plfa_plfa-part2-Untyped-9650" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-9684" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9686" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-9687" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a> <a id="plfa_plfa-part2-Untyped-9698" href="../Untyped/#plfa_plfa-part2-Untyped-9663" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-9699" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-9701" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-9702" href="../Untyped/#plfa_plfa-part2-Untyped-9654" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-9703" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-9705" href="../Untyped/#plfa_plfa-part2-Untyped-9661" class="Bound">N</a>
</pre><h2 id="中性项和范式">中性项和范式</h2><p>直到项完全范式化之前，规则可以继续进行。 因此，我们现在在意的是<strong>范式</strong>（Normal Form），而不是值。 范式的项由与<strong>中性项</strong>（Neutral Terms）共同递归定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10072" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Neutral"></a><a id="plfa_plfa-part2-Untyped-10077" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10085" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10087" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10089" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10090" href="../Untyped/#plfa_plfa-part2-Untyped-10090" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10092" href="../Untyped/#plfa_plfa-part2-Untyped-10092" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10093" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10095" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10097" href="../Untyped/#plfa_plfa-part2-Untyped-10090" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10099" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10101" href="../Untyped/#plfa_plfa-part2-Untyped-10092" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10103" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10105" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part2-Untyped-10109" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Normal"></a><a id="plfa_plfa-part2-Untyped-10114" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a>  <a id="plfa_plfa-part2-Untyped-10122" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10124" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10126" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10127" href="../Untyped/#plfa_plfa-part2-Untyped-10127" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10129" href="../Untyped/#plfa_plfa-part2-Untyped-10129" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10130" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10132" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10134" href="../Untyped/#plfa_plfa-part2-Untyped-10127" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10136" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10138" href="../Untyped/#plfa_plfa-part2-Untyped-10129" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-10140" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10142" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
</pre><p>中性项由于我们需要考虑带有自由变量的开放项而产生。 一个项在其为变量时，或者是将中性项应用于范式项时，是一个中性项：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10415" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10420" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10428" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Neutral.`_"></a><a id="plfa_plfa-part2-Untyped-10437" href="../Untyped/#plfa_plfa-part2-Untyped-10437" class="InductiveConstructor Operator">`_</a>  <a id="plfa_plfa-part2-Untyped-10441" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10443" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10445" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10446" href="../Untyped/#plfa_plfa-part2-Untyped-10446" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10448" href="../Untyped/#plfa_plfa-part2-Untyped-10448" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10449" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10451" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10452" href="../Untyped/#plfa_plfa-part2-Untyped-10452" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-10454" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10456" href="../Untyped/#plfa_plfa-part2-Untyped-10446" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10458" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part2-Untyped-10460" href="../Untyped/#plfa_plfa-part2-Untyped-10448" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10461" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-10469" class="Comment">-------------</a>
    <a id="plfa_plfa-part2-Untyped-10487" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10489" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10497" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10498" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-10500" href="../Untyped/#plfa_plfa-part2-Untyped-10452" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-10501" class="Symbol">)</a>

  <a id="plfa_plfa-part2-Untyped-Neutral._·_"></a><a id="plfa_plfa-part2-Untyped-10506" href="../Untyped/#plfa_plfa-part2-Untyped-10506" class="InductiveConstructor Operator">_·_</a>  <a id="plfa_plfa-part2-Untyped-10511" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10513" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10515" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10516" href="../Untyped/#plfa_plfa-part2-Untyped-10516" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10517" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10519" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10520" href="../Untyped/#plfa_plfa-part2-Untyped-10520" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10522" href="../Untyped/#plfa_plfa-part2-Untyped-10522" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10524" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10526" href="../Untyped/#plfa_plfa-part2-Untyped-10516" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10528" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10530" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10531" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10537" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10539" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10547" href="../Untyped/#plfa_plfa-part2-Untyped-10520" class="Bound">L</a>
    <a id="plfa_plfa-part2-Untyped-10553" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10555" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10562" href="../Untyped/#plfa_plfa-part2-Untyped-10522" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10570" class="Comment">---------------</a>
    <a id="plfa_plfa-part2-Untyped-10590" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10592" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10600" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-10601" href="../Untyped/#plfa_plfa-part2-Untyped-10520" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-10603" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-10605" href="../Untyped/#plfa_plfa-part2-Untyped-10522" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-10606" class="Symbol">)</a>
</pre><p>一个项在其为中型项时，或者其为抽象且抽象体是范式时，是一个范式。 我们用 <code>′_</code> 来标记中型项。 如果 <code>`_</code> 一样，它不显眼：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-10865" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-10870" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10877" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Normal.′_"></a><a id="plfa_plfa-part2-Untyped-10886" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′_</a> <a id="plfa_plfa-part2-Untyped-10889" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10891" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10893" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10894" href="../Untyped/#plfa_plfa-part2-Untyped-10894" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10896" href="../Untyped/#plfa_plfa-part2-Untyped-10896" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10897" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10899" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10900" href="../Untyped/#plfa_plfa-part2-Untyped-10900" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-10902" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10904" href="../Untyped/#plfa_plfa-part2-Untyped-10894" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10906" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10908" href="../Untyped/#plfa_plfa-part2-Untyped-10896" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-10909" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10915" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10917" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-10925" href="../Untyped/#plfa_plfa-part2-Untyped-10900" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-10933" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-10947" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10949" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-10956" href="../Untyped/#plfa_plfa-part2-Untyped-10900" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Normal.ƛ_"></a><a id="plfa_plfa-part2-Untyped-10961" href="../Untyped/#plfa_plfa-part2-Untyped-10961" class="InductiveConstructor Operator">ƛ_</a>  <a id="plfa_plfa-part2-Untyped-10965" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10967" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-10969" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10970" href="../Untyped/#plfa_plfa-part2-Untyped-10970" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-10971" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-10973" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-10974" href="../Untyped/#plfa_plfa-part2-Untyped-10974" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-10976" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-10978" href="../Untyped/#plfa_plfa-part2-Untyped-10970" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-10980" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-10982" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-10984" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-10986" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-10987" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-10993" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-10995" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11002" href="../Untyped/#plfa_plfa-part2-Untyped-10974" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-11010" class="Comment">------------</a>
    <a id="plfa_plfa-part2-Untyped-11027" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11029" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11036" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11037" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11039" href="../Untyped/#plfa_plfa-part2-Untyped-10974" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-11040" class="Symbol">)</a>
</pre><p>我们引入一种缩略用法，来提供变量是中型项的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-#′_"></a><a id="plfa_plfa-part2-Untyped-11171" href="../Untyped/#plfa_plfa-part2-Untyped-11171" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11175" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11177" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-11179" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11180" href="../Untyped/#plfa_plfa-part2-Untyped-11180" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11181" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11183" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11184" href="../Untyped/#plfa_plfa-part2-Untyped-11184" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11186" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11188" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part2-Untyped-11189" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-11191" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11192" href="../Untyped/#plfa_plfa-part2-Untyped-11192" class="Bound">n∈Γ</a> <a id="plfa_plfa-part2-Untyped-11196" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11198" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="plfa_plfa-part2-Untyped-11203" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11204" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-11208" href="../Untyped/#plfa_plfa-part2-Untyped-11184" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11210" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#5518" class="Function Operator">≤?</a> <a id="plfa_plfa-part2-Untyped-11213" href="../Untyped/#plfa_plfa-part2-Untyped-6142" class="Function">length</a> <a id="plfa_plfa-part2-Untyped-11220" href="../Untyped/#plfa_plfa-part2-Untyped-11180" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11221" class="Symbol">)}</a> <a id="plfa_plfa-part2-Untyped-11224" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-11226" href="../Untyped/#plfa_plfa-part2-Untyped-10077" class="Datatype">Neutral</a> <a id="plfa_plfa-part2-Untyped-11234" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11235" href="../Untyped/#plfa_plfa-part2-Untyped-11180" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-11236" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-11238" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11239" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-11241" href="../Untyped/#plfa_plfa-part2-Untyped-11184" class="Bound">n</a><a id="plfa_plfa-part2-Untyped-11242" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-11244" href="../Untyped/#plfa_plfa-part2-Untyped-11171" class="Function Operator">#′_</a> <a id="plfa_plfa-part2-Untyped-11248" href="../Untyped/#plfa_plfa-part2-Untyped-11248" class="Bound">n</a> <a id="plfa_plfa-part2-Untyped-11250" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11251" href="../Untyped/#plfa_plfa-part2-Untyped-11251" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11254" class="Symbol">}</a>  <a id="plfa_plfa-part2-Untyped-11257" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-11260" href="../Untyped/#plfa_plfa-part2-Untyped-10437" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-11262" href="../Untyped/#plfa_plfa-part2-Untyped-6222" class="Function">count</a> <a id="plfa_plfa-part2-Untyped-11268" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11269" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="plfa_plfa-part2-Untyped-11279" href="../Untyped/#plfa_plfa-part2-Untyped-11251" class="Bound">n∈Γ</a><a id="plfa_plfa-part2-Untyped-11282" class="Symbol">)</a>
</pre><p>比如说，下面是 Church 数二为范式的证明：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-11414" href="../Untyped/#plfa_plfa-part2-Untyped-11414" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-11416" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-11418" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-11425" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11426" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-11431" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-11432" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-11433" class="Symbol">})</a>
<a id="plfa_plfa-part2-Untyped-11436" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-11438" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-11440" href="../Untyped/#plfa_plfa-part2-Untyped-10961" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11442" href="../Untyped/#plfa_plfa-part2-Untyped-10961" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-11444" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11445" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11447" href="../Untyped/#plfa_plfa-part2-Untyped-11171" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11450" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11452" href="../Untyped/#plfa_plfa-part2-Untyped-10506" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11454" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11455" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11457" href="../Untyped/#plfa_plfa-part2-Untyped-11171" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11460" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-11462" href="../Untyped/#plfa_plfa-part2-Untyped-10506" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-11464" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-11465" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-11467" href="../Untyped/#plfa_plfa-part2-Untyped-11171" class="Function Operator">#′</a> <a id="plfa_plfa-part2-Untyped-11470" class="Number">0</a><a id="plfa_plfa-part2-Untyped-11471" class="Symbol">)))</a>
</pre><p>某一项为范式的证明与其本身基本一致，其中包括的额外的撇来标记中型项，并且其中使用了 <code>#′</code> 而不是 <code>#</code>。</p><h2 id="归约步骤">归约步骤</h2><p>归约规则从传值调用改为传名调用，以实现完全范式化：</p><ul><li>规则 <code>ξ₁</code> 与简单类型的 λ 演算一样，保持不变。</li></ul><ul><li>规则 <code>ξ₂</code> 之中，项 <code>L</code> 是值的要求现在被丢弃了。 所以这条规则现在与 <code>ξ₁</code> 重合，且归约是<strong>非确定的</strong>。 现在可选择归约 <code>L</code> 或者 <code>M</code> 中的项。</li></ul><ul><li>规则 <code>β</code> 之中，参数是值的要求现在被丢弃了，对应了传名调用的求值。 这引入了更多的非确定性，由于 <code>β</code> 与 <code>ξ₂</code> 在参数中有可归约项时重合。</li></ul><ul><li>额外了新规则 <code>ζ</code>，使得 λ 抽象下可以继续归约。</li></ul><p>这里是形式化的规则：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-12836" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-12842" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-12844" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">_—→_</a>

<a id="plfa_plfa-part2-Untyped-12850" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—→_"></a><a id="plfa_plfa-part2-Untyped-12855" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">_—→_</a> <a id="plfa_plfa-part2-Untyped-12860" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12862" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12864" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12865" href="../Untyped/#plfa_plfa-part2-Untyped-12865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12867" href="../Untyped/#plfa_plfa-part2-Untyped-12867" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12868" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12870" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12872" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12873" href="../Untyped/#plfa_plfa-part2-Untyped-12865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12875" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12877" href="../Untyped/#plfa_plfa-part2-Untyped-12867" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12878" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12880" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12882" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-12883" href="../Untyped/#plfa_plfa-part2-Untyped-12865" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12885" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12887" href="../Untyped/#plfa_plfa-part2-Untyped-12867" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-12888" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-12890" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12892" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-12896" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₁"></a><a id="plfa_plfa-part2-Untyped-12905" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-12908" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12910" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-12912" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12913" href="../Untyped/#plfa_plfa-part2-Untyped-12913" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-12914" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-12916" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-12917" href="../Untyped/#plfa_plfa-part2-Untyped-12917" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12919" href="../Untyped/#plfa_plfa-part2-Untyped-12919" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12922" href="../Untyped/#plfa_plfa-part2-Untyped-12922" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12924" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-12926" href="../Untyped/#plfa_plfa-part2-Untyped-12913" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-12928" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-12930" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-12931" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-12937" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12939" href="../Untyped/#plfa_plfa-part2-Untyped-12917" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12941" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12944" href="../Untyped/#plfa_plfa-part2-Untyped-12919" class="Bound">L′</a>
      <a id="plfa_plfa-part2-Untyped-12953" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-12974" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-12976" href="../Untyped/#plfa_plfa-part2-Untyped-12917" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-12978" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-12980" href="../Untyped/#plfa_plfa-part2-Untyped-12922" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-12982" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-12985" href="../Untyped/#plfa_plfa-part2-Untyped-12919" class="Bound">L′</a> <a id="plfa_plfa-part2-Untyped-12988" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-12990" href="../Untyped/#plfa_plfa-part2-Untyped-12922" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ξ₂"></a><a id="plfa_plfa-part2-Untyped-12995" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-12998" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13000" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13002" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13003" href="../Untyped/#plfa_plfa-part2-Untyped-13003" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13004" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13006" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13007" href="../Untyped/#plfa_plfa-part2-Untyped-13007" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13009" href="../Untyped/#plfa_plfa-part2-Untyped-13009" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13011" href="../Untyped/#plfa_plfa-part2-Untyped-13011" class="Bound">M′</a> <a id="plfa_plfa-part2-Untyped-13014" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13016" href="../Untyped/#plfa_plfa-part2-Untyped-13003" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13018" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13020" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13021" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13027" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13029" href="../Untyped/#plfa_plfa-part2-Untyped-13009" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13031" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13034" href="../Untyped/#plfa_plfa-part2-Untyped-13011" class="Bound">M′</a>
      <a id="plfa_plfa-part2-Untyped-13043" class="Comment">----------------</a>
    <a id="plfa_plfa-part2-Untyped-13064" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13066" href="../Untyped/#plfa_plfa-part2-Untyped-13007" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13068" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13070" href="../Untyped/#plfa_plfa-part2-Untyped-13009" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13072" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13075" href="../Untyped/#plfa_plfa-part2-Untyped-13007" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-13077" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13079" href="../Untyped/#plfa_plfa-part2-Untyped-13011" class="Bound">M′</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.β"></a><a id="plfa_plfa-part2-Untyped-13085" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-13087" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13089" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13091" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13092" href="../Untyped/#plfa_plfa-part2-Untyped-13092" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13093" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13095" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13096" href="../Untyped/#plfa_plfa-part2-Untyped-13096" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13098" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13100" href="../Untyped/#plfa_plfa-part2-Untyped-13092" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13102" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13104" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13106" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13108" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13109" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13111" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13112" href="../Untyped/#plfa_plfa-part2-Untyped-13112" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13114" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13116" href="../Untyped/#plfa_plfa-part2-Untyped-13092" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13118" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13120" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13121" class="Symbol">}</a>
      <a id="plfa_plfa-part2-Untyped-13129" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part2-Untyped-13167" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13169" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-13170" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13172" href="../Untyped/#plfa_plfa-part2-Untyped-13096" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-13173" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-13175" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-13177" href="../Untyped/#plfa_plfa-part2-Untyped-13112" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13179" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13182" href="../Untyped/#plfa_plfa-part2-Untyped-13096" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13184" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">[</a> <a id="plfa_plfa-part2-Untyped-13186" href="../Untyped/#plfa_plfa-part2-Untyped-13112" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-13188" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">]</a>

  <a id="plfa_plfa-part2-Untyped-_—→_.ζ"></a><a id="plfa_plfa-part2-Untyped-13193" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-13195" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13197" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-13199" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13200" href="../Untyped/#plfa_plfa-part2-Untyped-13200" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-13201" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-13203" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-13204" href="../Untyped/#plfa_plfa-part2-Untyped-13204" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13206" href="../Untyped/#plfa_plfa-part2-Untyped-13206" class="Bound">N′</a> <a id="plfa_plfa-part2-Untyped-13209" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-13211" href="../Untyped/#plfa_plfa-part2-Untyped-13200" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-13213" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-13215" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-13217" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-13219" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-13220" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-13226" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13228" href="../Untyped/#plfa_plfa-part2-Untyped-13204" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13230" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13233" href="../Untyped/#plfa_plfa-part2-Untyped-13206" class="Bound">N′</a>
      <a id="plfa_plfa-part2-Untyped-13242" class="Comment">-----------</a>
    <a id="plfa_plfa-part2-Untyped-13258" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-13260" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13262" href="../Untyped/#plfa_plfa-part2-Untyped-13204" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-13264" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-13267" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-13269" href="../Untyped/#plfa_plfa-part2-Untyped-13206" class="Bound">N′</a>
</pre><h4 id="练习-variant-1-习题">练习 (<code>variant-1</code>) （习题）</h4><p>如果我们想要传值调用，但需要项范式化其中的项的话，要怎么样修改规则？ 假设 <code>β</code> 在除了两个项都是范式时，不允许归约。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-13603" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-variant-2-习题">练习 (<code>variant-2</code>) （习题）</h4><p>如果我们想要传值调用，但项不在 λ 之下归约的话，要怎么样修改规则？ 假设 <code>β</code> 在双项均为值（即 λ 抽象）时允许归约。 <code>2+2ᶜ</code> 在这种情况下会归约成什么？</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14035" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="自反传递闭包">自反传递闭包</h2><p>我们复制粘贴之前的定义：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14184" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14191" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14193" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">_—↠_</a>
<a id="plfa_plfa-part2-Untyped-14198" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14205" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14207" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin_</a>
<a id="plfa_plfa-part2-Untyped-14214" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-14221" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14223" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="plfa_plfa-part2-Untyped-14231" class="Keyword">infix</a>  <a id="plfa_plfa-part2-Untyped-14238" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-14240" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">_∎</a>

<a id="plfa_plfa-part2-Untyped-14244" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-_—↠_"></a><a id="plfa_plfa-part2-Untyped-14249" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">_—↠_</a> <a id="plfa_plfa-part2-Untyped-14254" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14255" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14257" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14258" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14260" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14262" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14263" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14265" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14267" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14268" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14270" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14272" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14273" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14275" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14277" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14278" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14280" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14282" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-14286" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_._∎"></a><a id="plfa_plfa-part2-Untyped-14295" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">_∎</a> <a id="plfa_plfa-part2-Untyped-14298" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14300" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14301" href="../Untyped/#plfa_plfa-part2-Untyped-14301" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14303" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14305" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14307" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14309" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14310" class="Symbol">)</a>
      <a id="plfa_plfa-part2-Untyped-14318" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14329" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14331" href="../Untyped/#plfa_plfa-part2-Untyped-14301" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14333" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14336" href="../Untyped/#plfa_plfa-part2-Untyped-14301" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-_—↠_.step—→"></a><a id="plfa_plfa-part2-Untyped-14341" href="../Untyped/#plfa_plfa-part2-Untyped-14341" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14348" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14350" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14351" href="../Untyped/#plfa_plfa-part2-Untyped-14351" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14353" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14355" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14357" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14359" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14360" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14362" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14363" href="../Untyped/#plfa_plfa-part2-Untyped-14363" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14365" href="../Untyped/#plfa_plfa-part2-Untyped-14365" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14367" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14369" href="../Untyped/#plfa_plfa-part2-Untyped-14255" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14371" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14373" href="../Untyped/#plfa_plfa-part2-Untyped-14257" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14374" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-14380" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14382" href="../Untyped/#plfa_plfa-part2-Untyped-14363" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14384" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14387" href="../Untyped/#plfa_plfa-part2-Untyped-14365" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14393" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14395" href="../Untyped/#plfa_plfa-part2-Untyped-14351" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14397" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-14400" href="../Untyped/#plfa_plfa-part2-Untyped-14363" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-14408" class="Comment">------</a>
    <a id="plfa_plfa-part2-Untyped-14419" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14421" href="../Untyped/#plfa_plfa-part2-Untyped-14351" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14423" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14426" href="../Untyped/#plfa_plfa-part2-Untyped-14365" class="Bound">N</a>

<a id="plfa_plfa-part2-Untyped-14429" class="Keyword">pattern</a> <a id="plfa_plfa-part2-Untyped-_—→⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-14437" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-14445" href="../Untyped/#plfa_plfa-part2-Untyped-14466" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14447" href="../Untyped/#plfa_plfa-part2-Untyped-14473" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-14452" href="../Untyped/#plfa_plfa-part2-Untyped-14468" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14457" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14459" href="../Untyped/#plfa_plfa-part2-Untyped-14341" class="InductiveConstructor">step—→</a> <a id="plfa_plfa-part2-Untyped-14466" href="../Untyped/#plfa_plfa-part2-Untyped-14466" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-14468" href="../Untyped/#plfa_plfa-part2-Untyped-14468" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14473" href="../Untyped/#plfa_plfa-part2-Untyped-14473" class="Bound">L—→M</a>

<a id="plfa_plfa-part2-Untyped-begin_"></a><a id="plfa_plfa-part2-Untyped-14479" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin_</a> <a id="plfa_plfa-part2-Untyped-14486" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14488" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-14490" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14491" href="../Untyped/#plfa_plfa-part2-Untyped-14491" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14493" href="../Untyped/#plfa_plfa-part2-Untyped-14493" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14494" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-14496" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-14497" href="../Untyped/#plfa_plfa-part2-Untyped-14497" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14499" href="../Untyped/#plfa_plfa-part2-Untyped-14499" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-14501" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14503" href="../Untyped/#plfa_plfa-part2-Untyped-14491" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-14505" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-14507" href="../Untyped/#plfa_plfa-part2-Untyped-14493" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-14508" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-14512" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14514" href="../Untyped/#plfa_plfa-part2-Untyped-14497" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14516" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14519" href="../Untyped/#plfa_plfa-part2-Untyped-14499" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-14525" class="Comment">------</a>
  <a id="plfa_plfa-part2-Untyped-14534" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-14536" href="../Untyped/#plfa_plfa-part2-Untyped-14497" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-14538" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14541" href="../Untyped/#plfa_plfa-part2-Untyped-14499" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-14543" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin</a> <a id="plfa_plfa-part2-Untyped-14549" href="../Untyped/#plfa_plfa-part2-Untyped-14549" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-14554" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-14556" href="../Untyped/#plfa_plfa-part2-Untyped-14549" class="Bound">M—↠N</a>
</pre><h2 id="归约序列的例子">归约序列的例子</h2><p>这里是二加二得四的展示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-14704" href="../Untyped/#plfa_plfa-part2-Untyped-14704" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-14706" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-14708" href="../Untyped/#plfa_plfa-part2-Untyped-6961" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-14713" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-14716" href="../Untyped/#plfa_plfa-part2-Untyped-6819" class="Function">fourᶜ</a>
<a id="plfa_plfa-part2-Untyped-14722" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-14724" class="Symbol">=</a>
  <a id="plfa_plfa-part2-Untyped-14728" href="../Untyped/#plfa_plfa-part2-Untyped-14479" class="Function Operator">begin</a>
    <a id="plfa_plfa-part2-Untyped-14738" href="../Untyped/#plfa_plfa-part2-Untyped-6890" class="Function">plusᶜ</a> <a id="plfa_plfa-part2-Untyped-14744" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14746" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14751" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14753" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14760" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14764" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14767" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14769" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14775" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14776" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14778" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14780" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14782" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14787" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14789" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14791" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14793" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14795" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14796" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14798" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14800" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14802" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14804" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14806" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14808" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14810" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14811" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14814" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14816" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a>
  <a id="plfa_plfa-part2-Untyped-14823" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14827" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-14829" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14835" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14837" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14839" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14844" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14846" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14848" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14850" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14852" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14853" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14858" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14860" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14862" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14864" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14866" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14868" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14869" class="Symbol">)</a>
  <a id="plfa_plfa-part2-Untyped-14873" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14877" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14879" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14880" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14882" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14883" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-14886" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14887" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14890" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14896" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14898" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14900" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-14902" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14904" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14906" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14908" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14910" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14911" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14913" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-14915" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14917" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14919" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14920" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-14923" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14925" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14926" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14931" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14933" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14935" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14937" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14939" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14941" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14942" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-14947" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-14951" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14953" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14954" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-14956" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-14957" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-14959" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-14965" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14967" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-14969" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14971" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14973" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14975" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14976" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14978" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14980" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14982" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-14983" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part2-Untyped-14988" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14990" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14992" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-14994" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-14996" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-14998" class="Number">0</a><a id="plfa_plfa-part2-Untyped-14999" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15004" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15008" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15010" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15011" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15013" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15014" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15017" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15018" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15021" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15022" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-15025" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15026" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-15031" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-15037" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15039" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15041" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15043" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15045" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15047" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15048" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15050" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15052" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15054" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-15056" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15058" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15060" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15062" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15064" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15065" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15067" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-15069" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15071" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15073" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15074" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-15077" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15079" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15081" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15082" class="Symbol">))</a>
  <a id="plfa_plfa-part2-Untyped-15087" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-15091" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15093" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15094" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-15096" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15097" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15100" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15101" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-15104" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-15105" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-15109" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part2-Untyped-15114" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15116" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15117" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-15119" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15121" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15123" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15125" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15126" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15128" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15130" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15132" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15133" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15135" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15137" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15139" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-15140" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15142" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-15144" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-15146" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-15148" class="Number">0</a><a id="plfa_plfa-part2-Untyped-15149" class="Symbol">))))</a>
  <a id="plfa_plfa-part2-Untyped-15156" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
</pre><p>在两步之后，顶层项是一个抽象，而 <code>ζ</code> 规则支持了剩余的范式化。</p><h2 id="可进性">可进性</h2><p>可进性相应地也变更了。之前我们说每个项要么是值，要么可以归约一步；我们现在说每个项要么是范式，要么可以归约一步。</p><p>之前，可进性只应用于封闭的、良类型的项。 我们没有考虑诸如应用一个不是函数的项（如 <code>`zero`</code>）或者是带有自由变量的项。 现在我们展示的包含了开放的、良作用域的项。 范式的定义容许了自由变量，且我们也有不是函数的项。</p><p>如果一个项可以归约一步，或其为范式，那么它具有可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-16177" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Progress"></a><a id="plfa_plfa-part2-Untyped-16182" href="../Untyped/#plfa_plfa-part2-Untyped-16182" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16191" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16192" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16194" href="../Untyped/#plfa_plfa-part2-Untyped-16194" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16195" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16197" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16198" href="../Untyped/#plfa_plfa-part2-Untyped-16198" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16200" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16202" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16204" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16206" href="../Untyped/#plfa_plfa-part2-Untyped-16194" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16207" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16209" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16211" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-16215" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Progress.step"></a><a id="plfa_plfa-part2-Untyped-16224" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16229" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16231" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16233" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16234" href="../Untyped/#plfa_plfa-part2-Untyped-16234" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-16236" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16238" href="../Untyped/#plfa_plfa-part2-Untyped-16192" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16240" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16242" href="../Untyped/#plfa_plfa-part2-Untyped-16194" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16243" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-16249" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16251" href="../Untyped/#plfa_plfa-part2-Untyped-16198" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16253" href="../Untyped/#plfa_plfa-part2-Untyped-12855" class="Datatype Operator">—→</a> <a id="plfa_plfa-part2-Untyped-16256" href="../Untyped/#plfa_plfa-part2-Untyped-16234" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-16264" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16279" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16281" href="../Untyped/#plfa_plfa-part2-Untyped-16182" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16290" href="../Untyped/#plfa_plfa-part2-Untyped-16198" class="Bound">M</a>

  <a id="plfa_plfa-part2-Untyped-Progress.done"></a><a id="plfa_plfa-part2-Untyped-16295" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16300" class="Symbol">:</a>
      <a id="plfa_plfa-part2-Untyped-16308" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-16315" href="../Untyped/#plfa_plfa-part2-Untyped-16198" class="Bound">M</a>
      <a id="plfa_plfa-part2-Untyped-16323" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-16338" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16340" href="../Untyped/#plfa_plfa-part2-Untyped-16182" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16349" href="../Untyped/#plfa_plfa-part2-Untyped-16198" class="Bound">M</a>
</pre><p>如果一个项是良作用域的，那么它满足可进性：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-progress"></a><a id="plfa_plfa-part2-Untyped-16450" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16459" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16461" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-16463" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-16464" href="../Untyped/#plfa_plfa-part2-Untyped-16464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16466" href="../Untyped/#plfa_plfa-part2-Untyped-16466" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16467" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-16469" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16471" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16472" href="../Untyped/#plfa_plfa-part2-Untyped-16472" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-16474" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-16476" href="../Untyped/#plfa_plfa-part2-Untyped-16464" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-16478" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-16480" href="../Untyped/#plfa_plfa-part2-Untyped-16466" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-16481" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16483" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-16485" href="../Untyped/#plfa_plfa-part2-Untyped-16182" class="Datatype">Progress</a> <a id="plfa_plfa-part2-Untyped-16494" href="../Untyped/#plfa_plfa-part2-Untyped-16472" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16496" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16505" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16506" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16508" href="../Untyped/#plfa_plfa-part2-Untyped-16508" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16509" class="Symbol">)</a>                                 <a id="plfa_plfa-part2-Untyped-16543" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16546" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16551" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16552" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16554" href="../Untyped/#plfa_plfa-part2-Untyped-10437" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16556" href="../Untyped/#plfa_plfa-part2-Untyped-16508" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16557" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16559" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16568" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16569" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16571" href="../Untyped/#plfa_plfa-part2-Untyped-16571" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16572" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-16575" class="Keyword">with</a>  <a id="plfa_plfa-part2-Untyped-16581" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16590" href="../Untyped/#plfa_plfa-part2-Untyped-16571" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-16592" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16596" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16598" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16603" href="../Untyped/#plfa_plfa-part2-Untyped-16603" class="Bound">N—→N′</a>                               <a id="plfa_plfa-part2-Untyped-16639" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16642" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16647" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16648" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-16650" href="../Untyped/#plfa_plfa-part2-Untyped-16603" class="Bound">N—→N′</a><a id="plfa_plfa-part2-Untyped-16655" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16657" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16661" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16663" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16668" href="../Untyped/#plfa_plfa-part2-Untyped-16668" class="Bound">NrmN</a>                                <a id="plfa_plfa-part2-Untyped-16704" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16707" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16712" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16713" href="../Untyped/#plfa_plfa-part2-Untyped-10961" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16715" href="../Untyped/#plfa_plfa-part2-Untyped-16668" class="Bound">NrmN</a><a id="plfa_plfa-part2-Untyped-16719" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16721" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16730" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16731" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16733" href="../Untyped/#plfa_plfa-part2-Untyped-16733" class="Bound">x</a> <a id="plfa_plfa-part2-Untyped-16735" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16737" href="../Untyped/#plfa_plfa-part2-Untyped-16737" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16738" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16740" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16745" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16754" href="../Untyped/#plfa_plfa-part2-Untyped-16737" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-16756" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16760" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16762" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16767" href="../Untyped/#plfa_plfa-part2-Untyped-16767" class="Bound">M—→M′</a>                               <a id="plfa_plfa-part2-Untyped-16803" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16806" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16811" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16812" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-16815" href="../Untyped/#plfa_plfa-part2-Untyped-16767" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-16820" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16822" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16826" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16828" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16833" href="../Untyped/#plfa_plfa-part2-Untyped-16833" class="Bound">NrmM</a>                                <a id="plfa_plfa-part2-Untyped-16869" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16872" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-16877" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16878" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-16880" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16881" href="../Untyped/#plfa_plfa-part2-Untyped-10437" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-16883" class="Bound">x</a><a id="plfa_plfa-part2-Untyped-16884" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16886" href="../Untyped/#plfa_plfa-part2-Untyped-10506" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16888" href="../Untyped/#plfa_plfa-part2-Untyped-16833" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-16892" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-16894" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16903" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-16905" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-16907" href="../Untyped/#plfa_plfa-part2-Untyped-16907" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-16908" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16910" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16912" href="../Untyped/#plfa_plfa-part2-Untyped-16912" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16913" class="Symbol">)</a>                           <a id="plfa_plfa-part2-Untyped-16941" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-16944" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-16949" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a>
<a id="plfa_plfa-part2-Untyped-16951" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16960" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-16961" href="../Untyped/#plfa_plfa-part2-Untyped-16961" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-16962" class="Symbol">@(_</a> <a id="plfa_plfa-part2-Untyped-16966" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16968" class="Symbol">_)</a> <a id="plfa_plfa-part2-Untyped-16971" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-16973" href="../Untyped/#plfa_plfa-part2-Untyped-16973" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-16974" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-16976" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-16981" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-16990" href="../Untyped/#plfa_plfa-part2-Untyped-16961" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-16992" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-16996" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-16998" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17003" href="../Untyped/#plfa_plfa-part2-Untyped-17003" class="Bound">L—→L′</a>                               <a id="plfa_plfa-part2-Untyped-17039" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17042" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17047" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17048" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-17051" href="../Untyped/#plfa_plfa-part2-Untyped-17003" class="Bound">L—→L′</a><a id="plfa_plfa-part2-Untyped-17056" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17058" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-17062" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17064" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17069" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17070" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17072" href="../Untyped/#plfa_plfa-part2-Untyped-17072" class="Bound">NeuL</a><a id="plfa_plfa-part2-Untyped-17076" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-17078" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-17083" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-17092" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-17094" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17101" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17103" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17108" href="../Untyped/#plfa_plfa-part2-Untyped-17108" class="Bound">M—→M′</a>                            <a id="plfa_plfa-part2-Untyped-17141" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17144" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-17149" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17150" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-17153" href="../Untyped/#plfa_plfa-part2-Untyped-17108" class="Bound">M—→M′</a><a id="plfa_plfa-part2-Untyped-17158" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-17160" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-17167" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-17169" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17174" href="../Untyped/#plfa_plfa-part2-Untyped-17174" class="Bound">NrmM</a>                             <a id="plfa_plfa-part2-Untyped-17207" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-17210" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-17215" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-17216" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-17218" class="Bound">NeuL</a> <a id="plfa_plfa-part2-Untyped-17223" href="../Untyped/#plfa_plfa-part2-Untyped-10506" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-17225" href="../Untyped/#plfa_plfa-part2-Untyped-17174" class="Bound">NrmM</a><a id="plfa_plfa-part2-Untyped-17229" class="Symbol">)</a>
</pre><p>我们对项为良作用域的证明上进行归纳：</p><ul><li>如果项是变量，那么它是范式。 （这与之前的证明不同，以往项为变量的情况被闭项的条件所排除了。）</li><li>如果项是抽象，那么我们对其抽象体应用可进性。 （这与之前的证明不同，以往抽象本身即是值。）：<ul><li>如果它步进，那么整个项由 <code>ζ</code> 步进。</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果项是应用，那么我们考虑其函数子项：<ul><li>如果它是变量，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li><li>如果它是抽象，那么整个项由 <code>β</code> 步进。</li><li>如果它是应用，我们对其函数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₁</code> 步进。</li><li>如果它是范式，我们对参数子项递归应用可进性：<ul><li>如果它步进，那么整个项由 <code>ξ₂</code> 步进；</li><li>如果它是范式，那么整个项也是范式。</li></ul></li></ul></li></ul></li></ul><p>可进性最后一条等式中使用了 <code>P@Q</code> 形式的 <strong>at 模式</strong>，其只在模式 <code>P</code> 和 <code>Q</code> 都匹配时匹配。 <code>@</code> 是 Agda 不允许出现在变量名中的字符之一，因此不需要在它周围加空格。 在此处，这个模式确保了 <code>L</code> 是一个应用。</p><h2 id="求值">求值</h2><p>与之前一样，可进性直接提供了一个求值器。</p><p>汽油由自然数给出：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19439" class="Keyword">record</a> <a id="plfa_plfa-part2-Untyped-Gas"></a><a id="plfa_plfa-part2-Untyped-19446" href="../Untyped/#plfa_plfa-part2-Untyped-19446" class="Record">Gas</a> <a id="plfa_plfa-part2-Untyped-19450" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19452" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19456" class="Keyword">where</a>
  <a id="plfa_plfa-part2-Untyped-19464" class="Keyword">constructor</a> <a id="plfa_plfa-part2-Untyped-gas"></a><a id="plfa_plfa-part2-Untyped-19476" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a>
  <a id="plfa_plfa-part2-Untyped-19482" class="Keyword">field</a>
    <a id="plfa_plfa-part2-Untyped-Gas.amount"></a><a id="plfa_plfa-part2-Untyped-19492" href="../Untyped/#plfa_plfa-part2-Untyped-19492" class="Field">amount</a> <a id="plfa_plfa-part2-Untyped-19499" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19501" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
</pre><p>当我们的求值器返回项 <code>N</code>，它要么会给出 <code>N</code> 是范式的证明，或者提示汽油耗尽：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-19693" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Finished"></a><a id="plfa_plfa-part2-Untyped-19698" href="../Untyped/#plfa_plfa-part2-Untyped-19698" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19707" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-19708" href="../Untyped/#plfa_plfa-part2-Untyped-19708" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19710" href="../Untyped/#plfa_plfa-part2-Untyped-19710" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19711" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-19713" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-19714" href="../Untyped/#plfa_plfa-part2-Untyped-19714" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-19716" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19718" href="../Untyped/#plfa_plfa-part2-Untyped-19708" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-19720" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-19722" href="../Untyped/#plfa_plfa-part2-Untyped-19710" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-19723" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-19725" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-19727" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-19731" class="Keyword">where</a>

   <a id="plfa_plfa-part2-Untyped-Finished.done"></a><a id="plfa_plfa-part2-Untyped-19741" href="../Untyped/#plfa_plfa-part2-Untyped-19741" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-19746" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19755" href="../Untyped/#plfa_plfa-part2-Untyped-10114" class="Datatype">Normal</a> <a id="plfa_plfa-part2-Untyped-19762" href="../Untyped/#plfa_plfa-part2-Untyped-19714" class="Bound">N</a>
       <a id="plfa_plfa-part2-Untyped-19771" class="Comment">----------</a>
     <a id="plfa_plfa-part2-Untyped-19787" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-19789" href="../Untyped/#plfa_plfa-part2-Untyped-19698" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19798" href="../Untyped/#plfa_plfa-part2-Untyped-19714" class="Bound">N</a>

   <a id="plfa_plfa-part2-Untyped-Finished.out-of-gas"></a><a id="plfa_plfa-part2-Untyped-19804" href="../Untyped/#plfa_plfa-part2-Untyped-19804" class="InductiveConstructor">out-of-gas</a> <a id="plfa_plfa-part2-Untyped-19815" class="Symbol">:</a>
       <a id="plfa_plfa-part2-Untyped-19824" class="Comment">----------</a>
       <a id="plfa_plfa-part2-Untyped-19842" href="../Untyped/#plfa_plfa-part2-Untyped-19698" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-19851" href="../Untyped/#plfa_plfa-part2-Untyped-19714" class="Bound">N</a>
</pre><p>给定类型 <code>A</code> 的项 <code>L</code>，求值器会对于某 <code>N</code> 返回自 <code>L</code> 至 <code>N</code> 的归约序列，并提示归约是否完成：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-20093" class="Keyword">data</a> <a id="plfa_plfa-part2-Untyped-Steps"></a><a id="plfa_plfa-part2-Untyped-20098" href="../Untyped/#plfa_plfa-part2-Untyped-20098" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20104" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20106" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20108" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20109" href="../Untyped/#plfa_plfa-part2-Untyped-20109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20111" href="../Untyped/#plfa_plfa-part2-Untyped-20111" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20112" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20114" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20116" href="../Untyped/#plfa_plfa-part2-Untyped-20109" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20118" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20120" href="../Untyped/#plfa_plfa-part2-Untyped-20111" class="Bound">A</a> <a id="plfa_plfa-part2-Untyped-20122" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20124" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part2-Untyped-20128" class="Keyword">where</a>

  <a id="plfa_plfa-part2-Untyped-Steps.steps"></a><a id="plfa_plfa-part2-Untyped-20137" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20143" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20145" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20147" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20148" href="../Untyped/#plfa_plfa-part2-Untyped-20148" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20150" href="../Untyped/#plfa_plfa-part2-Untyped-20150" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20151" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20153" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20154" href="../Untyped/#plfa_plfa-part2-Untyped-20154" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20156" href="../Untyped/#plfa_plfa-part2-Untyped-20156" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-20158" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20160" href="../Untyped/#plfa_plfa-part2-Untyped-20148" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20162" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20164" href="../Untyped/#plfa_plfa-part2-Untyped-20150" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20165" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-20171" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20173" href="../Untyped/#plfa_plfa-part2-Untyped-20154" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20175" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-20178" href="../Untyped/#plfa_plfa-part2-Untyped-20156" class="Bound">N</a>
    <a id="plfa_plfa-part2-Untyped-20184" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20186" href="../Untyped/#plfa_plfa-part2-Untyped-19698" class="Datatype">Finished</a> <a id="plfa_plfa-part2-Untyped-20195" href="../Untyped/#plfa_plfa-part2-Untyped-20156" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-20203" class="Comment">----------</a>
    <a id="plfa_plfa-part2-Untyped-20218" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20220" href="../Untyped/#plfa_plfa-part2-Untyped-20098" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20226" href="../Untyped/#plfa_plfa-part2-Untyped-20154" class="Bound">L</a>
</pre><p>求值器取汽油和项，返回对应的步骤：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-eval"></a><a id="plfa_plfa-part2-Untyped-20342" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20347" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20349" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-20351" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20352" href="../Untyped/#plfa_plfa-part2-Untyped-20352" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20354" href="../Untyped/#plfa_plfa-part2-Untyped-20354" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20355" class="Symbol">}</a>
  <a id="plfa_plfa-part2-Untyped-20359" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20361" href="../Untyped/#plfa_plfa-part2-Untyped-19446" class="Record">Gas</a>
  <a id="plfa_plfa-part2-Untyped-20367" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20369" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20370" href="../Untyped/#plfa_plfa-part2-Untyped-20370" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20372" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-20374" href="../Untyped/#plfa_plfa-part2-Untyped-20352" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-20376" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-20378" href="../Untyped/#plfa_plfa-part2-Untyped-20354" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-20379" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-20385" class="Comment">-----------</a>
  <a id="plfa_plfa-part2-Untyped-20399" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-20401" href="../Untyped/#plfa_plfa-part2-Untyped-20098" class="Datatype">Steps</a> <a id="plfa_plfa-part2-Untyped-20407" href="../Untyped/#plfa_plfa-part2-Untyped-20370" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20409" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20414" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20415" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20419" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part2-Untyped-20423" class="Symbol">)</a>    <a id="plfa_plfa-part2-Untyped-20428" href="../Untyped/#plfa_plfa-part2-Untyped-20428" class="Bound">L</a>                     <a id="plfa_plfa-part2-Untyped-20450" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20453" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20459" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20460" href="../Untyped/#plfa_plfa-part2-Untyped-20428" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20462" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20463" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20465" href="../Untyped/#plfa_plfa-part2-Untyped-19804" class="InductiveConstructor">out-of-gas</a>
<a id="plfa_plfa-part2-Untyped-20476" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20481" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20482" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20486" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20487" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part2-Untyped-20491" href="../Untyped/#plfa_plfa-part2-Untyped-20491" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20492" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-20495" href="../Untyped/#plfa_plfa-part2-Untyped-20495" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20497" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20502" href="../Untyped/#plfa_plfa-part2-Untyped-16450" class="Function">progress</a> <a id="plfa_plfa-part2-Untyped-20511" href="../Untyped/#plfa_plfa-part2-Untyped-20495" class="Bound">L</a>
<a id="plfa_plfa-part2-Untyped-20513" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20517" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20519" href="../Untyped/#plfa_plfa-part2-Untyped-16295" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20524" href="../Untyped/#plfa_plfa-part2-Untyped-20524" class="Bound">NrmL</a>                          <a id="plfa_plfa-part2-Untyped-20554" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20557" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20563" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20564" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20566" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-20567" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20569" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20570" href="../Untyped/#plfa_plfa-part2-Untyped-19741" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-20575" href="../Untyped/#plfa_plfa-part2-Untyped-20524" class="Bound">NrmL</a><a id="plfa_plfa-part2-Untyped-20579" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-20581" class="Symbol">...</a> <a id="plfa_plfa-part2-Untyped-20585" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20587" href="../Untyped/#plfa_plfa-part2-Untyped-16224" class="InductiveConstructor">step</a> <a id="plfa_plfa-part2-Untyped-20592" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-20593" href="../Untyped/#plfa_plfa-part2-Untyped-20593" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-20594" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-20596" href="../Untyped/#plfa_plfa-part2-Untyped-20596" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20601" class="Keyword">with</a> <a id="plfa_plfa-part2-Untyped-20606" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-20611" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20612" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-20616" class="Bound">m</a><a id="plfa_plfa-part2-Untyped-20617" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20619" href="../Untyped/#plfa_plfa-part2-Untyped-20593" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-20621" class="Symbol">...</a>    <a id="plfa_plfa-part2-Untyped-20628" class="Symbol">|</a> <a id="plfa_plfa-part2-Untyped-20630" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20636" href="../Untyped/#plfa_plfa-part2-Untyped-20636" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-20641" href="../Untyped/#plfa_plfa-part2-Untyped-20641" class="Bound">fin</a>                  <a id="plfa_plfa-part2-Untyped-20662" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-20665" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a> <a id="plfa_plfa-part2-Untyped-20671" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-20672" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-20674" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-20678" class="Bound">L—→M</a> <a id="plfa_plfa-part2-Untyped-20683" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-20685" href="../Untyped/#plfa_plfa-part2-Untyped-20636" class="Bound">M—↠N</a><a id="plfa_plfa-part2-Untyped-20689" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-20691" href="../Untyped/#plfa_plfa-part2-Untyped-20641" class="Bound">fin</a>
</pre><p>定义与之前一样，除了我们将空语境 <code>∅</code> 推广至任意语境 <code>Γ</code>。</p><h2 id="例子">例子</h2><p>我们重复之前的例子。二加二得四，以 Church 数来表示：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-21004" href="../Untyped/#plfa_plfa-part2-Untyped-21004" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-21006" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-21008" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-21013" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21014" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-21018" class="Number">100</a><a id="plfa_plfa-part2-Untyped-21021" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21023" href="../Untyped/#plfa_plfa-part2-Untyped-6961" class="Function">2+2ᶜ</a> <a id="plfa_plfa-part2-Untyped-21028" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
  <a id="plfa_plfa-part2-Untyped-21032" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a>
   <a id="plfa_plfa-part2-Untyped-21041" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21043" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21050" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21051" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21059" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21060" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21069" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21070" class="InductiveConstructor Operator">ƛ</a>
        <a id="plfa_plfa-part2-Untyped-21080" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21081" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21083" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21084" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21086" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21087" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21089" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21090" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21092" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21093" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21098" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21100" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21101" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21103" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21104" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21106" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21107" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21110" class="InductiveConstructor Operator">·</a>
        <a id="plfa_plfa-part2-Untyped-21120" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21122" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21124" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21125" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21127" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21128" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21130" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21131" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21135" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21137" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21138" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21140" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21141" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21143" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21144" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21147" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21149" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21150" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21152" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21153" class="Symbol">))))))</a>
    <a id="plfa_plfa-part2-Untyped-21164" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21166" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21167" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21169" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21170" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21172" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21173" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21175" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21176" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21178" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21179" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21182" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21184" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21186" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21188" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21189" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21191" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21192" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21195" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21197" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21198" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21200" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21201" class="Symbol">))))</a>
    <a id="plfa_plfa-part2-Untyped-21210" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21212" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21213" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21215" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21216" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21218" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21219" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21221" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21222" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21224" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21225" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21228" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21230" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21232" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21234" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21235" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21237" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21238" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21241" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21243" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21244" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21246" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21247" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21255" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21259" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21262" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21264" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21270" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21271" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21278" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21279" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-21287" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21288" class="InductiveConstructor Operator">ƛ</a>
       <a id="plfa_plfa-part2-Untyped-21297" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21298" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21300" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21301" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21303" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21304" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21306" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21307" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21309" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21310" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21313" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21315" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21317" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21319" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21320" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21322" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21323" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21326" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21328" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21329" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21331" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21332" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21337" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21339" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21340" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21342" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21343" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21345" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21346" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21349" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-21358" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21360" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21362" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21363" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21365" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21366" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21368" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21369" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21373" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21375" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21376" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21378" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21379" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21381" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21382" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21385" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21387" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21388" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21390" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21391" class="Symbol">)))))</a>
    <a id="plfa_plfa-part2-Untyped-21401" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21403" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21404" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21406" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21407" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21409" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21410" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21412" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21413" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21415" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21416" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21419" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21421" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21423" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21425" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21426" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21428" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21429" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21432" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21434" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21435" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21437" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21438" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21446" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21450" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-21452" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21458" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21464" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21465" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21472" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21473" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21475" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21476" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21478" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21479" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21481" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21482" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21484" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21485" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21488" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21490" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21492" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21494" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21495" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21497" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21498" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21501" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21503" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21504" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21506" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21507" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21512" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21514" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21515" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21517" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21518" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21520" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21521" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21524" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21531" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21533" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21535" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21536" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21538" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21539" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21541" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21542" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21544" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21545" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21548" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21550" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21552" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21554" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21555" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21557" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21558" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21561" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21563" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21564" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21566" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21567" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21572" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21574" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21575" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21577" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21578" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21580" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21581" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21584" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21586" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21587" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21589" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21590" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21597" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21601" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21603" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21604" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21606" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21607" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21610" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21611" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21614" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21620" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21626" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21627" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21634" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21635" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21637" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21638" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21640" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21641" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21643" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21644" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21646" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21647" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21651" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21653" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21655" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21657" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21658" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21660" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21661" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21663" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21664" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21668" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21670" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21671" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21673" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21674" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21678" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21685" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21687" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21689" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21690" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21692" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21693" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21695" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21696" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21698" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21699" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21702" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21704" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21706" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21708" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21709" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21711" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21712" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21715" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21717" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21718" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21720" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21721" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21726" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21728" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21729" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21731" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21732" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21734" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21735" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21738" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21740" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21741" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21743" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21744" class="Symbol">)))</a>
   <a id="plfa_plfa-part2-Untyped-21751" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21755" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21757" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21758" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21760" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21761" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-21763" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21769" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21775" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21776" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21783" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21784" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21786" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21787" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21789" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21790" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21793" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21800" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21802" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21804" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21805" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21807" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21808" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21811" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21819" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21821" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21823" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21824" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21826" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21827" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21829" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21830" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21832" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21833" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21836" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21838" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21840" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21842" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21843" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21845" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21846" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21849" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21851" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21852" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21854" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21855" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21860" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21862" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21863" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21865" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21866" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21868" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21869" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21872" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21874" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21875" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21877" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21878" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-21886" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-21890" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21892" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21893" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-21895" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21896" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21899" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21900" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-21903" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21904" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-21907" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-21908" class="Symbol">))))</a> <a id="plfa_plfa-part2-Untyped-21913" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-21919" class="InductiveConstructor Operator">ƛ</a>
    <a id="plfa_plfa-part2-Untyped-21925" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21926" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-21933" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21934" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21936" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21937" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21939" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21940" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21943" class="InductiveConstructor Operator">·</a>
     <a id="plfa_plfa-part2-Untyped-21950" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21952" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21954" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21955" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21957" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21958" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-21961" class="InductiveConstructor Operator">·</a>
      <a id="plfa_plfa-part2-Untyped-21969" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21971" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-21973" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21974" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21976" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21977" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21979" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21980" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21982" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-21983" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-21987" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-21989" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-21991" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-21993" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21994" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21996" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-21997" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-21999" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22000" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22004" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22006" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22007" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22009" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22010" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22014" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22016" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22017" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22019" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22020" class="Symbol">))))</a>
   <a id="plfa_plfa-part2-Untyped-22028" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-22032" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22034" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22035" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-22037" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22038" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22041" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22042" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-22045" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a><a id="plfa_plfa-part2-Untyped-22046" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-22050" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part2-Untyped-22056" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22058" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22059" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-22061" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22062" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22064" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22065" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22067" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22068" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22071" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22073" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22075" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22077" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22078" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22080" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22081" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22084" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22086" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22088" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22090" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22091" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22093" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22094" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22097" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22099" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-22101" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22103" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22104" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22106" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22107" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22110" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22112" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22113" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22115" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22116" class="Symbol">)))))</a>
   <a id="plfa_plfa-part2-Untyped-22125" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-22126" class="Symbol">)</a>
   <a id="plfa_plfa-part2-Untyped-22131" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22132" class="InductiveConstructor">done</a>
    <a id="plfa_plfa-part2-Untyped-22141" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22142" class="InductiveConstructor Operator">ƛ</a>
     <a id="plfa_plfa-part2-Untyped-22149" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22150" class="InductiveConstructor Operator">ƛ</a>
      <a id="plfa_plfa-part2-Untyped-22158" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22159" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a>
       <a id="plfa_plfa-part2-Untyped-22168" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22169" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22171" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22172" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22174" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22175" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22178" class="InductiveConstructor Operator">·</a>
       <a id="plfa_plfa-part2-Untyped-22187" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22188" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22190" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22191" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22193" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22194" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22196" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22197" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22200" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22202" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22203" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22205" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22206" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22208" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22209" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22211" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22212" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22215" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22217" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22218" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22220" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22221" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22223" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22224" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-22226" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22227" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-22230" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-22232" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22233" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-22235" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-22236" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-22238" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-22239" class="Symbol">)))))))))</a>
<a id="plfa_plfa-part2-Untyped-22249" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-22251" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-22253" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h2 id="自然数和不动点">自然数和不动点</h2><p>我们可以使用 Church 数来表示自然数，但是计算某数的前继很复杂且昂贵。 取而代之的，我们使用另一种表示方法，叫做 Scott 数，其核心思想是一个数对应了对其自身的分情况讨论。</p><p>回忆 Church 数将某给定函数应用对应的次数。 使用命名的项，我们如下表示前三个 Church 数：</p><pre><code>zero  =  ƛ s ⇒ ƛ z ⇒ z
one   =  ƛ s ⇒ ƛ z ⇒ s · z
two   =  ƛ s ⇒ ƛ z ⇒ s · (s · z)</code></pre><p>作为对比，我们如下表示前三个 Scott 数：</p><pre><code>zero = ƛ s ⇒ ƛ z ⇒ z
one  = ƛ s ⇒ ƛ z ⇒ s · zero
two  = ƛ s ⇒ ƛ z ⇒ s · one</code></pre><p>每个数取两个参数，一个对应了后继分支的情况（它要求额外的参数，即当前参数的前继）， 一个对应了零分支的情况。 （两种情况可以以任意顺序出现。我们在此将后继分支放在前面，以方便与 Church 数对比。）</p><p>下面是以 de Bruijn 因子编码的自然数的 Scott 表示法：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-`zero"></a><a id="plfa_plfa-part2-Untyped-23801" href="../Untyped/#plfa_plfa-part2-Untyped-23801" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23807" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23809" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23811" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23812" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23813" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23815" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23817" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23818" href="../Untyped/#plfa_plfa-part2-Untyped-23812" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23820" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23822" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23823" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23825" href="../Untyped/#plfa_plfa-part2-Untyped-23801" class="Function">`zero</a> <a id="plfa_plfa-part2-Untyped-23831" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23833" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23835" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23837" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23838" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23840" class="Number">0</a><a id="plfa_plfa-part2-Untyped-23841" class="Symbol">)</a>

<a id="plfa_plfa-part2-Untyped-`suc_"></a><a id="plfa_plfa-part2-Untyped-23844" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23850" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23852" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23854" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23855" href="../Untyped/#plfa_plfa-part2-Untyped-23855" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23856" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23858" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23860" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23861" href="../Untyped/#plfa_plfa-part2-Untyped-23855" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23863" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23865" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23866" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23868" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23870" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23871" href="../Untyped/#plfa_plfa-part2-Untyped-23855" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23873" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23875" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23876" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23878" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-23884" href="../Untyped/#plfa_plfa-part2-Untyped-23884" class="Bound">M</a>  <a id="plfa_plfa-part2-Untyped-23887" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23889" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23890" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23892" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23894" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23896" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23897" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23899" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-23901" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23903" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-23905" class="Number">2</a><a id="plfa_plfa-part2-Untyped-23906" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-23909" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23911" href="../Untyped/#plfa_plfa-part2-Untyped-23884" class="Bound">M</a>

<a id="plfa_plfa-part2-Untyped-case"></a><a id="plfa_plfa-part2-Untyped-23914" href="../Untyped/#plfa_plfa-part2-Untyped-23914" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23919" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-23921" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-23923" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-23924" href="../Untyped/#plfa_plfa-part2-Untyped-23924" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-23925" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-23927" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23929" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23930" href="../Untyped/#plfa_plfa-part2-Untyped-23924" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23932" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23934" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23935" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23937" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23939" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23940" href="../Untyped/#plfa_plfa-part2-Untyped-23924" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23942" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23944" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23945" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23947" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23949" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23950" href="../Untyped/#plfa_plfa-part2-Untyped-23924" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23952" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-23954" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-23956" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23958" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23959" class="Symbol">)</a>  <a id="plfa_plfa-part2-Untyped-23962" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-23964" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23965" href="../Untyped/#plfa_plfa-part2-Untyped-23924" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-23967" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-23969" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-23970" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-23972" href="../Untyped/#plfa_plfa-part2-Untyped-23914" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-23977" href="../Untyped/#plfa_plfa-part2-Untyped-23977" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-23979" href="../Untyped/#plfa_plfa-part2-Untyped-23979" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-23981" href="../Untyped/#plfa_plfa-part2-Untyped-23981" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-23983" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-23985" href="../Untyped/#plfa_plfa-part2-Untyped-23977" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-23987" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23989" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-23990" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-23992" href="../Untyped/#plfa_plfa-part2-Untyped-23981" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-23993" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-23995" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-23997" href="../Untyped/#plfa_plfa-part2-Untyped-23979" class="Bound">M</a>
</pre><p>我们小心地保留之前定义相同的形式。 后继分支期望作用域内有一个额外的变量（由它的类型可以看出），所以它被一个抽象转换成了一个普通的项。</p><p>对零使用后继的确归约至 Scott 数表示的一：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-24444" href="../Untyped/#plfa_plfa-part2-Untyped-24444" class="Function">_</a> <a id="plfa_plfa-part2-Untyped-24446" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-24448" href="../Untyped/#plfa_plfa-part2-Untyped-20342" class="Function">eval</a> <a id="plfa_plfa-part2-Untyped-24453" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24454" href="../Untyped/#plfa_plfa-part2-Untyped-19476" class="InductiveConstructor">gas</a> <a id="plfa_plfa-part2-Untyped-24458" class="Number">100</a><a id="plfa_plfa-part2-Untyped-24461" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24463" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24464" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc_</a> <a id="plfa_plfa-part2-Untyped-24470" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-24471" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part2-Untyped-24472" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-24474" href="../Untyped/#plfa_plfa-part2-Untyped-23801" class="Function">`zero</a><a id="plfa_plfa-part2-Untyped-24479" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-24481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
    <a id="plfa_plfa-part2-Untyped-24487" href="../Untyped/#plfa_plfa-part2-Untyped-20137" class="InductiveConstructor">steps</a>
        <a id="plfa_plfa-part2-Untyped-24501" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-24503" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24505" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24506" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24508" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24509" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24511" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24513" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24515" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24517" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24519" class="Number">2</a><a id="plfa_plfa-part2-Untyped-24520" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-24524" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24526" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24527" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24529" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24530" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24532" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24534" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24535" class="Symbol">))</a>
    <a id="plfa_plfa-part2-Untyped-24542" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-24546" href="../Untyped/#plfa_plfa-part2-Untyped-13085" class="InductiveConstructor">β</a> <a id="plfa_plfa-part2-Untyped-24548" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a>
         <a id="plfa_plfa-part2-Untyped-24559" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24561" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24562" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24564" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24566" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-24568" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24570" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24571" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24573" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24574" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24576" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-24578" class="Number">0</a><a id="plfa_plfa-part2-Untyped-24579" class="Symbol">)))</a>
    <a id="plfa_plfa-part2-Untyped-24587" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-24588" class="Symbol">)</a>
    <a id="plfa_plfa-part2-Untyped-24594" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24595" class="InductiveConstructor">done</a> <a id="plfa_plfa-part2-Untyped-24600" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24601" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24603" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24604" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24606" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24607" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24609" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24610" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24612" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24613" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part2-Untyped-24615" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24616" class="Symbol">))</a> <a id="plfa_plfa-part2-Untyped-24619" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-24621" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24622" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24624" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24625" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-24627" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24628" href="../Untyped/#plfa_plfa-part2-Untyped-10886" class="InductiveConstructor Operator">′</a> <a id="plfa_plfa-part2-Untyped-24630" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-24631" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part2-Untyped-24633" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part2-Untyped-24634" class="Symbol">))))))))</a>
<a id="plfa_plfa-part2-Untyped-24643" class="Symbol">_</a> <a id="plfa_plfa-part2-Untyped-24645" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-24647" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们同样可以定义不动点。使用命名的项，我们定义：</p><pre><code>μ f = (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))</code></pre><p>它能实现不动点的原因是：</p><pre><code>  μ f
≡
  (ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x))
—→
  f · ((ƛ x ⇒ f · (x · x)) · (ƛ x ⇒ f · (x · x)))
≡
  f · (μ f)</code></pre><p>使用 de Bruijn 因子，我们有如下：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-μ_"></a><a id="plfa_plfa-part2-Untyped-25087" href="../Untyped/#plfa_plfa-part2-Untyped-25087" class="Function Operator">μ_</a> <a id="plfa_plfa-part2-Untyped-25090" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25092" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25094" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25095" href="../Untyped/#plfa_plfa-part2-Untyped-25095" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25096" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25098" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25100" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25101" href="../Untyped/#plfa_plfa-part2-Untyped-25095" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25103" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-25105" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-25107" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25109" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25110" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25112" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25114" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25115" href="../Untyped/#plfa_plfa-part2-Untyped-25095" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25117" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25119" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-25120" class="Symbol">)</a>
<a id="plfa_plfa-part2-Untyped-25122" href="../Untyped/#plfa_plfa-part2-Untyped-25087" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25124" href="../Untyped/#plfa_plfa-part2-Untyped-25124" class="Bound">N</a>  <a id="plfa_plfa-part2-Untyped-25127" class="Symbol">=</a>  <a id="plfa_plfa-part2-Untyped-25130" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25131" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25133" class="Symbol">((</a><a id="plfa_plfa-part2-Untyped-25135" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25137" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25138" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25140" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25142" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25144" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25145" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25147" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25149" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25151" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25153" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25154" class="Symbol">)))</a> <a id="plfa_plfa-part2-Untyped-25158" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25160" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25161" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25163" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25164" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25166" class="Number">1</a> <a id="plfa_plfa-part2-Untyped-25168" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25170" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25171" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25173" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25175" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25177" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25179" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25180" class="Symbol">)))))</a> <a id="plfa_plfa-part2-Untyped-25186" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25188" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25189" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25191" href="../Untyped/#plfa_plfa-part2-Untyped-25124" class="Bound">N</a><a id="plfa_plfa-part2-Untyped-25192" class="Symbol">)</a>
</pre><p>不动点的参数与之前自然数的后继分支的处理方法相似。</p><p>我们可以如之前一样定义二加二：</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-25400" class="Keyword">infix</a> <a id="plfa_plfa-part2-Untyped-25406" class="Number">5</a> <a id="plfa_plfa-part2-Untyped-25408" href="../Untyped/#plfa_plfa-part2-Untyped-25087" class="Function Operator">μ_</a>

<a id="plfa_plfa-part2-Untyped-two"></a><a id="plfa_plfa-part2-Untyped-25412" href="../Untyped/#plfa_plfa-part2-Untyped-25412" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25416" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25418" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25420" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25421" href="../Untyped/#plfa_plfa-part2-Untyped-25421" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25422" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25424" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25426" href="../Untyped/#plfa_plfa-part2-Untyped-25421" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25428" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25430" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25432" href="../Untyped/#plfa_plfa-part2-Untyped-25412" class="Function">two</a> <a id="plfa_plfa-part2-Untyped-25436" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25438" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25443" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25448" href="../Untyped/#plfa_plfa-part2-Untyped-23801" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-four"></a><a id="plfa_plfa-part2-Untyped-25455" href="../Untyped/#plfa_plfa-part2-Untyped-25455" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25460" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25462" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25464" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25465" href="../Untyped/#plfa_plfa-part2-Untyped-25465" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25466" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25468" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25470" href="../Untyped/#plfa_plfa-part2-Untyped-25465" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25472" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25474" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25476" href="../Untyped/#plfa_plfa-part2-Untyped-25455" class="Function">four</a> <a id="plfa_plfa-part2-Untyped-25481" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25483" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25488" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25493" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25498" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25503" href="../Untyped/#plfa_plfa-part2-Untyped-23801" class="Function">`zero</a>

<a id="plfa_plfa-part2-Untyped-plus"></a><a id="plfa_plfa-part2-Untyped-25510" href="../Untyped/#plfa_plfa-part2-Untyped-25510" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25515" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-25517" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-25519" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-25520" href="../Untyped/#plfa_plfa-part2-Untyped-25520" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-25521" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-25523" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-25525" href="../Untyped/#plfa_plfa-part2-Untyped-25520" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-25527" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-25529" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part2-Untyped-25531" href="../Untyped/#plfa_plfa-part2-Untyped-25510" class="Function">plus</a> <a id="plfa_plfa-part2-Untyped-25536" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-25538" href="../Untyped/#plfa_plfa-part2-Untyped-25087" class="Function Operator">μ</a> <a id="plfa_plfa-part2-Untyped-25540" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25542" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-25544" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25545" href="../Untyped/#plfa_plfa-part2-Untyped-23914" class="Function">case</a> <a id="plfa_plfa-part2-Untyped-25550" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25551" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25553" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25554" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25556" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25557" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25559" class="Number">0</a><a id="plfa_plfa-part2-Untyped-25560" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-25562" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25563" href="../Untyped/#plfa_plfa-part2-Untyped-23844" class="Function Operator">`suc</a> <a id="plfa_plfa-part2-Untyped-25568" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-25569" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25571" class="Number">3</a> <a id="plfa_plfa-part2-Untyped-25573" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25575" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25577" class="Number">0</a> <a id="plfa_plfa-part2-Untyped-25579" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-25581" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part2-Untyped-25583" class="Number">1</a><a id="plfa_plfa-part2-Untyped-25584" class="Symbol">)))</a>
</pre><p>由于 <code>`suc</code> 是定义的项，而不是原语项， <code>plus · two · two</code> 不再归约至 <code>four</code>， 但是它们都归约至相同的范式。</p><h4 id="练习-plus-eval-实践">练习 <code>plus-eval</code> （实践）</h4><p>使用求值器，证实 <code>plus · two · two</code> 和 <code>four</code> 正规化至相同的项。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26093" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-multiplication-untyped-推荐">练习 <code>multiplication-untyped</code> （推荐）</h4><p>使用上文中的编码，翻译你之前章节乘法的定义，使得其使用 Scott 表示法和编码后的不动点运算符。 证实二乘二得四。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26493" class="Comment">-- 请将代码写在此处</a>
</pre><h4 id="练习-encode-more-延伸">练习 <code>encode-more</code> （延伸）</h4><p>用上文中类似的方法，编码 <a href="../More/">More</a> 章节除了原语数字以外的剩余构造，用无类型的 λ 演算。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-26800" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="多步归约是传递的">多步归约是传递的</h2><p>在我们对自反传递闭包的形式化，即 <code>—↠</code> 关系中，没有出现直接的传递性规则。 取而代之的是，这个关系模仿了列表形式，有一种空归约序列的情况，也有一种将一步归约加在归约序列之前的情况。 下面是传递性的证明，其与列表的附加 <code>_++_</code> 函数的结构相似。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-—↠-trans"></a><a id="plfa_plfa-part2-Untyped-27458" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27467" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27469" class="Symbol">∀{</a><a id="plfa_plfa-part2-Untyped-27471" href="../Untyped/#plfa_plfa-part2-Untyped-27471" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-27472" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27474" href="../Untyped/#plfa_plfa-part2-Untyped-27474" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27475" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-27477" href="../Untyped/#plfa_plfa-part2-Untyped-27477" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27479" href="../Untyped/#plfa_plfa-part2-Untyped-27479" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27481" href="../Untyped/#plfa_plfa-part2-Untyped-27481" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27483" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27485" href="../Untyped/#plfa_plfa-part2-Untyped-27471" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27487" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27489" href="../Untyped/#plfa_plfa-part2-Untyped-27474" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27490" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-27501" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27503" href="../Untyped/#plfa_plfa-part2-Untyped-27477" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27505" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27508" href="../Untyped/#plfa_plfa-part2-Untyped-27479" class="Bound">M</a>
         <a id="plfa_plfa-part2-Untyped-27519" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27521" href="../Untyped/#plfa_plfa-part2-Untyped-27479" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27523" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27526" href="../Untyped/#plfa_plfa-part2-Untyped-27481" class="Bound">N</a>
         <a id="plfa_plfa-part2-Untyped-27537" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27539" href="../Untyped/#plfa_plfa-part2-Untyped-27477" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27541" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27544" href="../Untyped/#plfa_plfa-part2-Untyped-27481" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27546" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27555" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27556" href="../Untyped/#plfa_plfa-part2-Untyped-27556" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27558" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-27559" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27561" href="../Untyped/#plfa_plfa-part2-Untyped-27561" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27564" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27566" href="../Untyped/#plfa_plfa-part2-Untyped-27561" class="Bound">mn</a>
<a id="plfa_plfa-part2-Untyped-27569" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27578" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27579" href="../Untyped/#plfa_plfa-part2-Untyped-27579" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27581" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27585" href="../Untyped/#plfa_plfa-part2-Untyped-27585" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27587" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27589" href="../Untyped/#plfa_plfa-part2-Untyped-27589" class="Bound">lm</a><a id="plfa_plfa-part2-Untyped-27591" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27593" href="../Untyped/#plfa_plfa-part2-Untyped-27593" class="Bound">mn</a> <a id="plfa_plfa-part2-Untyped-27596" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27598" href="../Untyped/#plfa_plfa-part2-Untyped-27579" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27600" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-27604" href="../Untyped/#plfa_plfa-part2-Untyped-27585" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-27606" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27608" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27609" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27618" href="../Untyped/#plfa_plfa-part2-Untyped-27589" class="Bound">lm</a> <a id="plfa_plfa-part2-Untyped-27621" href="../Untyped/#plfa_plfa-part2-Untyped-27593" class="Bound">mn</a><a id="plfa_plfa-part2-Untyped-27623" class="Symbol">)</a>
</pre><p>下面的记法使得应用 <code>—↠</code> 的传递性更加方便。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-27749" class="Keyword">infixr</a> <a id="plfa_plfa-part2-Untyped-27756" class="Number">2</a> <a id="plfa_plfa-part2-Untyped-27758" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">_—↠⟨_⟩_</a>

<a id="plfa_plfa-part2-Untyped-_—↠⟨_⟩_"></a><a id="plfa_plfa-part2-Untyped-27767" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">_—↠⟨_⟩_</a> <a id="plfa_plfa-part2-Untyped-27775" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27777" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-27779" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27780" href="../Untyped/#plfa_plfa-part2-Untyped-27780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27782" href="../Untyped/#plfa_plfa-part2-Untyped-27782" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27783" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-27785" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-27786" href="../Untyped/#plfa_plfa-part2-Untyped-27786" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27788" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27790" href="../Untyped/#plfa_plfa-part2-Untyped-27780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27792" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27794" href="../Untyped/#plfa_plfa-part2-Untyped-27782" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27795" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-27797" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-27798" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27800" href="../Untyped/#plfa_plfa-part2-Untyped-27800" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-27802" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-27804" href="../Untyped/#plfa_plfa-part2-Untyped-27780" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-27806" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-27808" href="../Untyped/#plfa_plfa-part2-Untyped-27782" class="Bound">A</a><a id="plfa_plfa-part2-Untyped-27809" class="Symbol">}</a>
    <a id="plfa_plfa-part2-Untyped-27815" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27817" href="../Untyped/#plfa_plfa-part2-Untyped-27786" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27819" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27822" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Bound">M</a>
    <a id="plfa_plfa-part2-Untyped-27828" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27830" href="../Untyped/#plfa_plfa-part2-Untyped-27798" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-27832" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27835" href="../Untyped/#plfa_plfa-part2-Untyped-27800" class="Bound">N</a>
      <a id="plfa_plfa-part2-Untyped-27843" class="Comment">---------</a>
    <a id="plfa_plfa-part2-Untyped-27857" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-27859" href="../Untyped/#plfa_plfa-part2-Untyped-27786" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27861" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-27864" href="../Untyped/#plfa_plfa-part2-Untyped-27800" class="Bound">N</a>
<a id="plfa_plfa-part2-Untyped-27866" href="../Untyped/#plfa_plfa-part2-Untyped-27866" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-27868" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">—↠⟨</a> <a id="plfa_plfa-part2-Untyped-27872" href="../Untyped/#plfa_plfa-part2-Untyped-27872" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27877" href="../Untyped/#plfa_plfa-part2-Untyped-27767" class="Function Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-27879" href="../Untyped/#plfa_plfa-part2-Untyped-27879" class="Bound">M—↠N</a> <a id="plfa_plfa-part2-Untyped-27884" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-27886" href="../Untyped/#plfa_plfa-part2-Untyped-27458" class="Function">—↠-trans</a> <a id="plfa_plfa-part2-Untyped-27895" href="../Untyped/#plfa_plfa-part2-Untyped-27872" class="Bound">L—↠M</a> <a id="plfa_plfa-part2-Untyped-27900" href="../Untyped/#plfa_plfa-part2-Untyped-27879" class="Bound">M—↠N</a>
</pre><h2 id="多步归约是合同性的">多步归约是合同性的</h2><p>回忆 <a href="../Induction/">Induction</a> 章节中，一个关系 <code>R</code> 对于一个给定的函数 <code>f</code> 在函数应用后仍然保持关系时，满足<strong>合同关系</strong>， 即『若 <code>R x y</code>，则 <code>R (f x) (f y)</code>』。 项构造子 <code>ƛ_</code> and <code>_·_</code> 是函数，因此合同性的概念也可作用于它们之上。 另外，当一个关系对于所有项的构造子满足合同时，我们说它对于整个语言满足合同性，在此即无类型的 λ 演算。</p><p>规则 <code>ξ₁</code> 、<code>ξ₂</code> 和 <code>ζ</code> 保证了归约关系对于无类型的 λ 演算满足合同性。 多步归约也是一个合同关系，我们在下面三条引理中证明。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appL-cong"></a><a id="plfa_plfa-part2-Untyped-28991" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29001" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29003" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-29005" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29006" href="../Untyped/#plfa_plfa-part2-Untyped-29006" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29007" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29009" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29010" href="../Untyped/#plfa_plfa-part2-Untyped-29010" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29012" href="../Untyped/#plfa_plfa-part2-Untyped-29012" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29015" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29017" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-29019" href="../Untyped/#plfa_plfa-part2-Untyped-29006" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-29021" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-29023" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-29024" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-29035" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29037" href="../Untyped/#plfa_plfa-part2-Untyped-29010" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29039" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29042" href="../Untyped/#plfa_plfa-part2-Untyped-29012" class="Bound">L&#39;</a>
           <a id="plfa_plfa-part2-Untyped-29056" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-29081" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-29083" href="../Untyped/#plfa_plfa-part2-Untyped-29010" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29085" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29087" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29089" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-29092" href="../Untyped/#plfa_plfa-part2-Untyped-29012" class="Bound">L&#39;</a> <a id="plfa_plfa-part2-Untyped-29095" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29097" href="../Untyped/#plfa_plfa-part2-Untyped-29015" class="Bound">M</a>
<a id="plfa_plfa-part2-Untyped-29099" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29109" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29110" href="../Untyped/#plfa_plfa-part2-Untyped-29110" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29111" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29113" href="../Untyped/#plfa_plfa-part2-Untyped-29113" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29114" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29116" href="../Untyped/#plfa_plfa-part2-Untyped-29116" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29118" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29120" href="../Untyped/#plfa_plfa-part2-Untyped-29120" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29121" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29123" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29124" href="../Untyped/#plfa_plfa-part2-Untyped-29113" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29126" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-29127" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29129" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29131" href="../Untyped/#plfa_plfa-part2-Untyped-29113" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29133" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29135" href="../Untyped/#plfa_plfa-part2-Untyped-29120" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29137" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-29139" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29149" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-29150" href="../Untyped/#plfa_plfa-part2-Untyped-29150" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-29151" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29153" href="../Untyped/#plfa_plfa-part2-Untyped-29153" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-29154" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29156" href="../Untyped/#plfa_plfa-part2-Untyped-29156" class="Bound">L&#39;</a><a id="plfa_plfa-part2-Untyped-29158" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-29160" href="../Untyped/#plfa_plfa-part2-Untyped-29160" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-29161" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-29163" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-29164" href="../Untyped/#plfa_plfa-part2-Untyped-29153" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29166" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29170" href="../Untyped/#plfa_plfa-part2-Untyped-29170" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29172" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29174" href="../Untyped/#plfa_plfa-part2-Untyped-29174" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-29176" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-29178" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-29180" href="../Untyped/#plfa_plfa-part2-Untyped-29153" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-29182" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-29184" href="../Untyped/#plfa_plfa-part2-Untyped-29160" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-29186" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-29190" href="../Untyped/#plfa_plfa-part2-Untyped-12905" class="InductiveConstructor">ξ₁</a> <a id="plfa_plfa-part2-Untyped-29193" href="../Untyped/#plfa_plfa-part2-Untyped-29170" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-29195" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-29197" href="../Untyped/#plfa_plfa-part2-Untyped-28991" class="Function">appL-cong</a> <a id="plfa_plfa-part2-Untyped-29207" href="../Untyped/#plfa_plfa-part2-Untyped-29174" class="Bound">rs</a>
</pre><p><code>appL-cong</code> 的证明对于归约序列 <code>L —↠ L&#39;</code> 进行归纳。 * 若 <code>L —↠ L</code> 由 <code>L ∎</code> 成立。那我们可从 <code>L · M ∎</code> 得 <code>L · M —↠ L · M</code> 。 * 若 <code>L —↠ L&#39;&#39;</code> 由 <code>L —→⟨ r ⟩ rs</code> 成立，那么 <code>L —→ L&#39;</code> 由 <code>r</code> 成立，且 <code>L&#39; —↠ L&#39;&#39;</code> 由 <code>rs</code> 成立。 我们可从 <code>ξ₁ r</code> 得 <code>L · M —→ L&#39; · M</code>，且对 <code>rs</code> 应用归纳假设得到 <code>L&#39; · M —↠ L&#39;&#39; · M</code>。 我们可以将两者用 <code>_—→⟨_⟩_</code> 组合来获得 <code>L · M —↠ L&#39;&#39; · M</code>。</p><p><code>appR-cong</code> 和 <code>abs-cong</code> 的证明与 <code>appL-cong</code> 的证明使用一样的方法。</p><pre class="Agda"><a id="plfa_plfa-part2-Untyped-appR-cong"></a><a id="plfa_plfa-part2-Untyped-30144" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30154" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30156" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30158" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30159" href="../Untyped/#plfa_plfa-part2-Untyped-30159" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30160" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30162" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30163" href="../Untyped/#plfa_plfa-part2-Untyped-30163" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30165" href="../Untyped/#plfa_plfa-part2-Untyped-30165" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30167" href="../Untyped/#plfa_plfa-part2-Untyped-30167" class="Bound">M&#39;</a> <a id="plfa_plfa-part2-Untyped-30170" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30172" href="../Untyped/#plfa_plfa-part2-Untyped-30159" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30174" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30176" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30177" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30188" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30190" href="../Untyped/#plfa_plfa-part2-Untyped-30165" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30192" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30195" href="../Untyped/#plfa_plfa-part2-Untyped-30167" class="Bound">M&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30209" class="Comment">---------------</a>
         <a id="plfa_plfa-part2-Untyped-30234" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30236" href="../Untyped/#plfa_plfa-part2-Untyped-30163" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30238" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30240" href="../Untyped/#plfa_plfa-part2-Untyped-30165" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30242" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30245" href="../Untyped/#plfa_plfa-part2-Untyped-30163" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30247" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30249" href="../Untyped/#plfa_plfa-part2-Untyped-30167" class="Bound">M&#39;</a>
<a id="plfa_plfa-part2-Untyped-30252" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30262" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30263" href="../Untyped/#plfa_plfa-part2-Untyped-30263" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30264" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30266" href="../Untyped/#plfa_plfa-part2-Untyped-30266" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30267" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30269" href="../Untyped/#plfa_plfa-part2-Untyped-30269" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30270" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30272" href="../Untyped/#plfa_plfa-part2-Untyped-30272" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30274" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30276" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30277" href="../Untyped/#plfa_plfa-part2-Untyped-30269" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30279" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30280" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30282" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30284" href="../Untyped/#plfa_plfa-part2-Untyped-30266" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30286" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30288" href="../Untyped/#plfa_plfa-part2-Untyped-30269" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30290" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30292" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30302" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30303" href="../Untyped/#plfa_plfa-part2-Untyped-30303" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30304" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30306" href="../Untyped/#plfa_plfa-part2-Untyped-30306" class="Bound">L</a><a id="plfa_plfa-part2-Untyped-30307" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30309" href="../Untyped/#plfa_plfa-part2-Untyped-30309" class="Bound">M</a><a id="plfa_plfa-part2-Untyped-30310" class="Symbol">}{</a><a id="plfa_plfa-part2-Untyped-30312" href="../Untyped/#plfa_plfa-part2-Untyped-30312" class="Bound">M&#39;</a><a id="plfa_plfa-part2-Untyped-30314" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30316" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30317" href="../Untyped/#plfa_plfa-part2-Untyped-30309" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30319" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30323" href="../Untyped/#plfa_plfa-part2-Untyped-30323" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30325" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30327" href="../Untyped/#plfa_plfa-part2-Untyped-30327" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30329" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30331" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30333" href="../Untyped/#plfa_plfa-part2-Untyped-30306" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30335" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part2-Untyped-30337" href="../Untyped/#plfa_plfa-part2-Untyped-30309" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30339" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30343" href="../Untyped/#plfa_plfa-part2-Untyped-12995" class="InductiveConstructor">ξ₂</a> <a id="plfa_plfa-part2-Untyped-30346" href="../Untyped/#plfa_plfa-part2-Untyped-30323" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30348" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30350" href="../Untyped/#plfa_plfa-part2-Untyped-30144" class="Function">appR-cong</a> <a id="plfa_plfa-part2-Untyped-30360" href="../Untyped/#plfa_plfa-part2-Untyped-30327" class="Bound">rs</a>
</pre><pre class="Agda"><a id="plfa_plfa-part2-Untyped-abs-cong"></a><a id="plfa_plfa-part2-Untyped-30376" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30385" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30387" class="Symbol">∀</a> <a id="plfa_plfa-part2-Untyped-30389" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30390" href="../Untyped/#plfa_plfa-part2-Untyped-30390" class="Bound">Γ</a><a id="plfa_plfa-part2-Untyped-30391" class="Symbol">}</a> <a id="plfa_plfa-part2-Untyped-30393" class="Symbol">{</a><a id="plfa_plfa-part2-Untyped-30394" href="../Untyped/#plfa_plfa-part2-Untyped-30394" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30396" href="../Untyped/#plfa_plfa-part2-Untyped-30396" class="Bound">N&#39;</a> <a id="plfa_plfa-part2-Untyped-30399" class="Symbol">:</a> <a id="plfa_plfa-part2-Untyped-30401" href="../Untyped/#plfa_plfa-part2-Untyped-30390" class="Bound">Γ</a> <a id="plfa_plfa-part2-Untyped-30403" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part2-Untyped-30405" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part2-Untyped-30407" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part2-Untyped-30409" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part2-Untyped-30410" class="Symbol">}</a>
         <a id="plfa_plfa-part2-Untyped-30421" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30423" href="../Untyped/#plfa_plfa-part2-Untyped-30394" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30425" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30428" href="../Untyped/#plfa_plfa-part2-Untyped-30396" class="Bound">N&#39;</a>
           <a id="plfa_plfa-part2-Untyped-30442" class="Comment">----------</a>
         <a id="plfa_plfa-part2-Untyped-30462" class="Symbol">→</a> <a id="plfa_plfa-part2-Untyped-30464" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30466" href="../Untyped/#plfa_plfa-part2-Untyped-30394" class="Bound">N</a> <a id="plfa_plfa-part2-Untyped-30468" href="../Untyped/#plfa_plfa-part2-Untyped-14249" class="Datatype Operator">—↠</a> <a id="plfa_plfa-part2-Untyped-30471" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30473" href="../Untyped/#plfa_plfa-part2-Untyped-30396" class="Bound">N&#39;</a>
<a id="plfa_plfa-part2-Untyped-30476" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30485" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30486" href="../Untyped/#plfa_plfa-part2-Untyped-30486" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30488" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a><a id="plfa_plfa-part2-Untyped-30489" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30491" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30493" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30495" href="../Untyped/#plfa_plfa-part2-Untyped-30486" class="Bound">M</a> <a id="plfa_plfa-part2-Untyped-30497" href="../Untyped/#plfa_plfa-part2-Untyped-14295" class="InductiveConstructor Operator">∎</a>
<a id="plfa_plfa-part2-Untyped-30499" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30508" class="Symbol">(</a><a id="plfa_plfa-part2-Untyped-30509" href="../Untyped/#plfa_plfa-part2-Untyped-30509" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30511" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30515" href="../Untyped/#plfa_plfa-part2-Untyped-30515" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30517" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30519" href="../Untyped/#plfa_plfa-part2-Untyped-30519" class="Bound">rs</a><a id="plfa_plfa-part2-Untyped-30521" class="Symbol">)</a> <a id="plfa_plfa-part2-Untyped-30523" class="Symbol">=</a> <a id="plfa_plfa-part2-Untyped-30525" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part2-Untyped-30527" href="../Untyped/#plfa_plfa-part2-Untyped-30509" class="Bound">L</a> <a id="plfa_plfa-part2-Untyped-30529" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">—→⟨</a> <a id="plfa_plfa-part2-Untyped-30533" href="../Untyped/#plfa_plfa-part2-Untyped-13193" class="InductiveConstructor">ζ</a> <a id="plfa_plfa-part2-Untyped-30535" href="../Untyped/#plfa_plfa-part2-Untyped-30515" class="Bound">r</a> <a id="plfa_plfa-part2-Untyped-30537" href="../Untyped/#plfa_plfa-part2-Untyped-14437" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part2-Untyped-30539" href="../Untyped/#plfa_plfa-part2-Untyped-30376" class="Function">abs-cong</a> <a id="plfa_plfa-part2-Untyped-30548" href="../Untyped/#plfa_plfa-part2-Untyped-30519" class="Bound">rs</a>
</pre><h2 id="unicode">Unicode</h2><p>本章使用了下列 Unicode：</p><pre><code>★  U+2605  BLACK STAR (\st)</code></pre><p><code>\st</code> 命令允许选取不同种类的星，我们使用的是第七种。</p></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../Inference/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part2/Untyped.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Confluence/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：Fangyi Zhou<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>