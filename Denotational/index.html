<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Denotational: 无类型 λ-演算的指称语义</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-87" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-94" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-118" class="Keyword">where</a>
</pre><p>λ-演算是一种关于<strong>函数</strong>的语言，即从输入到输出的映射。在计算中， 我们通常认为这种映射是通过一系列将输入转换为输出的操作来执行的。 但函数也可以表示为数据。例如，可以将函数表格化，即创建一个表， 其中每行都有两个条目：一个输入和一个该函数对应的输出。 函数应用则是查找给定输入的行并读取输出的过程。</p><p>我们可按照「函数即表格」的思想为无类型 λ-演算创建语义。然而却碰上了两个难点： 首先，函数的定义域通常是无穷的，因此我们似乎需要无限长的表格来表示函数。 其次，在 λ-演算中，函数可应用于函数，它们甚至可以应用于自身！ 因而这些表格可能包含循环引用。你可能会担心需要高级技术来解决这些问题， 幸而情况并非如此！</p><p>第一个问题是带有无穷定义域的函数。注意到每一个 λ-抽象只会应用于数量有限的不同参数， 该问题因而得以解决（我们回头再讨论发散的程序）。这是看待 Dana Scott 见解的另一种方式，即只需要对 λ-演算进行建模只需要用到连续函数。</p><p>第二个问题是自应用，可以通过放宽在函数表格中查找参数的方式来解决。 通常，人们会在表中查找输入条目与参数完全匹配的行。在自应用的情况下， 这样会要求表包含其自身的副本，当然这是不可能的 （至少，想要使用归纳数据类型定义来构建表是不可能的，而这就是我们要做的）。 其实只要找到一个输入，使得每一行输入都对应到一行参数（即，输入是参数的子集）。 在自应用的情况下，表只需要包含其自身的较小副本，这样就好了。</p><p>基于这两点观察，我们就能直接写出 λ-演算的指称语义。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3234" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3239" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3246" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="plfa_plfa-part3-Denotational-3261" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3267" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3268" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#758" class="Primitive">lzero</a><a id="plfa_plfa-part3-Denotational-3273" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3275" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#774" class="Primitive">lsuc</a><a id="plfa_plfa-part3-Denotational-3279" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3281" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3286" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3293" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part3-Denotational-3302" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3308" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3309" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-3310" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3312" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-3316" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3318" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-3321" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3323" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3328" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3335" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-Denotational-3348" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3354" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3355" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-3358" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3360" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-3361" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3363" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-3371" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3373" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-3374" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3376" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-3384" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3386" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-3391" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3393" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-3398" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-3402" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-3411" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3412" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-3416" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-3424" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3426" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3431" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3438" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="plfa_plfa-part3-Denotational-3447" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3452" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3459" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.html" class="Module">Data.Vec</a> <a id="plfa_plfa-part3-Denotational-3468" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3474" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3475" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-3478" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3480" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-3482" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3484" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-3487" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3489" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3494" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3501" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-3541" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3548" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-3551" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3553" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part3-Denotational-3556" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3558" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-3562" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3564" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part3-Denotational-3567" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3569" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part3-Denotational-3573" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3575" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part3-Denotational-3580" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3582" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part3-Denotational-3590" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3592" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3597" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3604" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part3-Denotational-3621" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3627" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3628" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-3630" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3632" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3637" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3644" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-3670" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3676" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3677" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3690" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3692" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3697" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3704" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part3-Denotational-3713" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3719" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3720" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3723" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3725" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3730" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3737" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3758" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3764" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3765" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3772" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3774" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3775" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3777" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3780" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3782" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3783" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3785" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3788" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3790" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3791" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3793" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3795" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3797" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3800" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3802" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3804" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3806" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3809" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3811" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3813" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3824" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3826" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3828" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3832" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3834" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3837" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3839" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3845" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3847" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3851" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3853" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3858" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3860" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3870" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3872" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3876" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3878" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3883" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3890" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3914" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3920" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3921" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3927" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3929" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3943" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3945" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3954" class="Symbol">)</a>
</pre><h2 id="值">值</h2><p>值数据类型 <code>Value</code> 表示函数的有限的一部分。我们将值视为表示「输入-输出」 映射的有限序对集合。<code>Value</code> 数据类型将集合表示为二叉树，其内部节点是并集运算符， 叶子节点表示单个映射或空集。</p><ul><li><p>⊥ 值不提供有关计算的信息。</p></li><li><p>形如 <code>v ↦ w</code> 的值是从输入 <code>v</code> 到输出 <code>w</code> 的单个输入-输出映射。</p></li><li><p>形如 <code>v ⊔ w</code> 的值是根据 <code>v</code> 和 <code>w</code> 将输入映射到输出的函数。 可将其视为两个集合的并集。</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4897" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-4904" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-4906" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-4910" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-4917" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-4919" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-4924" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-4929" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4935" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4937" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4941" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-4949" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4951" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4953" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-4961" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-4965" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4967" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4973" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4975" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4981" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4983" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-4991" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-4995" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4997" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5003" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5005" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5011" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5013" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
</pre><p>关系 <code>⊑</code> 将熟悉的子集概念适配到 <code>Value</code> 数据类型上。这种关系在实现自我应用方面 起到了关键作用。有两个特定于函数的规则 <code>⊑-fun</code> 和 <code>⊑-dist</code>，我们将在后面讨论。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-5378" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-5384" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-5386" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-5391" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-5396" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-5400" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5402" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5408" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5410" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5416" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5418" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-5422" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-5431" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-5437" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5439" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5441" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5442" href="../Denotational/#plfa_plfa-part3-Denotational-5442" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5443" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5445" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5447" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-5449" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5451" href="../Denotational/#plfa_plfa-part3-Denotational-5442" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-5456" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5465" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5467" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5469" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5470" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5472" href="../Denotational/#plfa_plfa-part3-Denotational-5472" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5474" href="../Denotational/#plfa_plfa-part3-Denotational-5474" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5475" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5481" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5483" href="../Denotational/#plfa_plfa-part3-Denotational-5472" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5485" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5487" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-5493" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5495" href="../Denotational/#plfa_plfa-part3-Denotational-5474" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5497" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5499" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-5507" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5523" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5525" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5526" href="../Denotational/#plfa_plfa-part3-Denotational-5472" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5528" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5530" href="../Denotational/#plfa_plfa-part3-Denotational-5474" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5531" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5533" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5535" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-5540" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5550" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5552" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5554" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5555" href="../Denotational/#plfa_plfa-part3-Denotational-5555" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5557" href="../Denotational/#plfa_plfa-part3-Denotational-5557" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5559" href="../Denotational/#plfa_plfa-part3-Denotational-5559" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5560" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5566" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5568" href="../Denotational/#plfa_plfa-part3-Denotational-5555" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5570" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5572" href="../Denotational/#plfa_plfa-part3-Denotational-5557" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-5580" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5596" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5598" href="../Denotational/#plfa_plfa-part3-Denotational-5555" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5600" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5602" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5603" href="../Denotational/#plfa_plfa-part3-Denotational-5557" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5605" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5607" href="../Denotational/#plfa_plfa-part3-Denotational-5559" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5608" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-5613" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5623" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5625" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5627" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5628" href="../Denotational/#plfa_plfa-part3-Denotational-5628" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5630" href="../Denotational/#plfa_plfa-part3-Denotational-5630" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5632" href="../Denotational/#plfa_plfa-part3-Denotational-5632" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5633" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5639" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5641" href="../Denotational/#plfa_plfa-part3-Denotational-5628" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5643" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5645" href="../Denotational/#plfa_plfa-part3-Denotational-5632" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5653" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5669" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5671" href="../Denotational/#plfa_plfa-part3-Denotational-5628" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5673" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5675" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5676" href="../Denotational/#plfa_plfa-part3-Denotational-5630" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5678" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5680" href="../Denotational/#plfa_plfa-part3-Denotational-5632" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5681" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-5686" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-5694" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5696" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5698" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5699" href="../Denotational/#plfa_plfa-part3-Denotational-5699" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5701" href="../Denotational/#plfa_plfa-part3-Denotational-5701" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5703" href="../Denotational/#plfa_plfa-part3-Denotational-5703" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5704" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5710" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5712" href="../Denotational/#plfa_plfa-part3-Denotational-5699" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5714" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5716" href="../Denotational/#plfa_plfa-part3-Denotational-5701" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5722" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5724" href="../Denotational/#plfa_plfa-part3-Denotational-5701" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5726" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5728" href="../Denotational/#plfa_plfa-part3-Denotational-5703" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5736" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-5746" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5748" href="../Denotational/#plfa_plfa-part3-Denotational-5699" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5750" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5752" href="../Denotational/#plfa_plfa-part3-Denotational-5703" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-5757" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5763" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5765" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5767" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5768" href="../Denotational/#plfa_plfa-part3-Denotational-5768" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5770" href="../Denotational/#plfa_plfa-part3-Denotational-5770" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5772" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5775" href="../Denotational/#plfa_plfa-part3-Denotational-5775" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5777" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5783" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5785" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5788" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5790" href="../Denotational/#plfa_plfa-part3-Denotational-5768" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5796" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5798" href="../Denotational/#plfa_plfa-part3-Denotational-5770" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5800" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5802" href="../Denotational/#plfa_plfa-part3-Denotational-5775" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-5811" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-5835" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5837" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5838" href="../Denotational/#plfa_plfa-part3-Denotational-5768" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5840" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5842" href="../Denotational/#plfa_plfa-part3-Denotational-5770" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5843" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5845" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5847" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5848" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5851" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5853" href="../Denotational/#plfa_plfa-part3-Denotational-5775" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5855" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-5860" href="../Denotational/#plfa_plfa-part3-Denotational-5860" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-5867" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5869" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-5871" href="../Denotational/#plfa_plfa-part3-Denotational-5871" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5873" href="../Denotational/#plfa_plfa-part3-Denotational-5873" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5875" href="../Denotational/#plfa_plfa-part3-Denotational-5875" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5877" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-5885" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-5923" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5925" href="../Denotational/#plfa_plfa-part3-Denotational-5871" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5927" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5929" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5930" href="../Denotational/#plfa_plfa-part3-Denotational-5873" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5932" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5934" href="../Denotational/#plfa_plfa-part3-Denotational-5875" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5936" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5938" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5940" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5941" href="../Denotational/#plfa_plfa-part3-Denotational-5871" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5943" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5945" href="../Denotational/#plfa_plfa-part3-Denotational-5873" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5946" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5948" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5950" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5951" href="../Denotational/#plfa_plfa-part3-Denotational-5871" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5953" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5955" href="../Denotational/#plfa_plfa-part3-Denotational-5875" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5957" class="Symbol">)</a>
</pre><p>前五条规则很简单。规则 <code>⊑-fun</code> 刻画了何时可以将高阶参数 <code>v′ ↦ w′</code> 与输入为 <code>v ↦ w</code> 的表格条目相匹配。考虑一个高阶参数的调用，可以传入一个比预期更大的参数， 因此 <code>v</code> 可以大于 <code>v′</code>。此外，还可以忽略某些输出，因此 <code>w</code> 可以小于 <code>w′</code>。 （译注：即作为子类型的函数，其参数是逆变的，返回值是协变的。） 规则 <code>⊑-dist</code> 表示，如果对同一个输入有两个条目相匹配， 则可以将它们合并成一个条目并连接两个输出。</p><p><code>⊑</code> 关系满足自反性：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-6792" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6799" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6801" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-6803" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6804" href="../Denotational/#plfa_plfa-part3-Denotational-6804" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-6805" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6807" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6809" href="../Denotational/#plfa_plfa-part3-Denotational-6804" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6811" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6813" href="../Denotational/#plfa_plfa-part3-Denotational-6804" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-6815" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6822" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6823" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-6824" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6826" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6828" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-6834" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6841" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6842" href="../Denotational/#plfa_plfa-part3-Denotational-6842" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6844" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6846" href="../Denotational/#plfa_plfa-part3-Denotational-6846" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6848" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6850" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6852" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6858" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6865" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-6872" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6879" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6880" href="../Denotational/#plfa_plfa-part3-Denotational-6880" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-6883" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6885" href="../Denotational/#plfa_plfa-part3-Denotational-6885" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-6887" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6889" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6891" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6900" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6901" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6911" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6917" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6919" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6920" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6930" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6936" class="Symbol">)</a>
</pre><p><code>⊔</code> 运算对 <code>⊑</code> 满足单调性，即给定两个较大的值，它会产生一个更大的值：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-7115" href="../Denotational/#plfa_plfa-part3-Denotational-7115" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7119" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7121" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7123" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7124" href="../Denotational/#plfa_plfa-part3-Denotational-7124" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7126" href="../Denotational/#plfa_plfa-part3-Denotational-7126" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7128" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7131" href="../Denotational/#plfa_plfa-part3-Denotational-7131" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7133" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7137" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7139" href="../Denotational/#plfa_plfa-part3-Denotational-7124" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7141" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7143" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-7147" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-7150" href="../Denotational/#plfa_plfa-part3-Denotational-7126" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7152" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7154" href="../Denotational/#plfa_plfa-part3-Denotational-7131" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-7161" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-7187" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7189" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7190" href="../Denotational/#plfa_plfa-part3-Denotational-7124" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7192" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7194" href="../Denotational/#plfa_plfa-part3-Denotational-7126" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7195" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7197" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7199" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7200" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7203" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7205" href="../Denotational/#plfa_plfa-part3-Denotational-7131" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7207" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7209" href="../Denotational/#plfa_plfa-part3-Denotational-7115" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7213" href="../Denotational/#plfa_plfa-part3-Denotational-7213" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-7216" href="../Denotational/#plfa_plfa-part3-Denotational-7216" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-7219" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7221" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-7230" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7231" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7241" href="../Denotational/#plfa_plfa-part3-Denotational-7213" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-7243" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7245" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7246" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7256" href="../Denotational/#plfa_plfa-part3-Denotational-7216" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-7258" class="Symbol">)</a>
</pre><p>即使输入的值不相同，<code>⊑-dist</code> 规则也可用于合并两个条目。首先可以用 <code>⊔</code> 将两个输入合并起来，然后应用 <code>⊑-dist</code> 规则来获得以下属性。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-7572" href="../Denotational/#plfa_plfa-part3-Denotational-7572" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7581" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7583" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-7585" href="../Denotational/#plfa_plfa-part3-Denotational-7585" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7587" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7590" href="../Denotational/#plfa_plfa-part3-Denotational-7590" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7592" href="../Denotational/#plfa_plfa-part3-Denotational-7592" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-7595" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7597" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-7602" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7606" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7608" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7609" href="../Denotational/#plfa_plfa-part3-Denotational-7585" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7611" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7613" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-7615" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7617" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7619" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7620" href="../Denotational/#plfa_plfa-part3-Denotational-7590" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7622" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7624" href="../Denotational/#plfa_plfa-part3-Denotational-7592" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7626" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7628" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7630" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7631" href="../Denotational/#plfa_plfa-part3-Denotational-7585" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7633" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7635" href="../Denotational/#plfa_plfa-part3-Denotational-7590" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7636" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7638" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7640" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7641" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7644" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7646" href="../Denotational/#plfa_plfa-part3-Denotational-7592" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7648" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7650" href="../Denotational/#plfa_plfa-part3-Denotational-7572" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7659" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7661" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-7669" href="../Denotational/#plfa_plfa-part3-Denotational-5860" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-7676" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7677" href="../Denotational/#plfa_plfa-part3-Denotational-7115" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7681" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7682" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7688" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7689" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7699" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7705" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7707" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7713" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-7743" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7744" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7750" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7751" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7761" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7767" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7769" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7775" class="Symbol">))</a>
</pre><p>如果连接 <code>u ⊔ v</code> 小于另一个值 <code>w</code>，则 <code>u</code> 和 <code>v</code> 都小于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-8028" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8036" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8038" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8040" href="../Denotational/#plfa_plfa-part3-Denotational-8040" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8042" href="../Denotational/#plfa_plfa-part3-Denotational-8042" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8044" href="../Denotational/#plfa_plfa-part3-Denotational-8044" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8046" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8048" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8053" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8057" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8059" href="../Denotational/#plfa_plfa-part3-Denotational-8040" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8061" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8063" href="../Denotational/#plfa_plfa-part3-Denotational-8042" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8065" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8067" href="../Denotational/#plfa_plfa-part3-Denotational-8044" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8073" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8085" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8087" href="../Denotational/#plfa_plfa-part3-Denotational-8040" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8089" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8091" href="../Denotational/#plfa_plfa-part3-Denotational-8044" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8093" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8101" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8102" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8111" href="../Denotational/#plfa_plfa-part3-Denotational-8111" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8115" href="../Denotational/#plfa_plfa-part3-Denotational-8115" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8118" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8120" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8122" href="../Denotational/#plfa_plfa-part3-Denotational-8111" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-8126" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8134" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8135" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8145" href="../Denotational/#plfa_plfa-part3-Denotational-8145" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8147" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8149" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8151" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8161" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8162" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8170" href="../Denotational/#plfa_plfa-part3-Denotational-8145" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8172" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8174" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8182" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8183" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8193" href="../Denotational/#plfa_plfa-part3-Denotational-8193" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8195" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8197" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8199" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8209" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8210" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8218" href="../Denotational/#plfa_plfa-part3-Denotational-8193" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8220" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8222" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8230" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8231" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8239" href="../Denotational/#plfa_plfa-part3-Denotational-8239" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8243" href="../Denotational/#plfa_plfa-part3-Denotational-8243" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8246" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8248" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8250" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8258" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8259" href="../Denotational/#plfa_plfa-part3-Denotational-8028" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8267" href="../Denotational/#plfa_plfa-part3-Denotational-8239" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8270" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8272" href="../Denotational/#plfa_plfa-part3-Denotational-8243" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-8277" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8285" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8287" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8289" href="../Denotational/#plfa_plfa-part3-Denotational-8289" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8291" href="../Denotational/#plfa_plfa-part3-Denotational-8291" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8293" href="../Denotational/#plfa_plfa-part3-Denotational-8293" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8295" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8297" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8302" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8306" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8308" href="../Denotational/#plfa_plfa-part3-Denotational-8289" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8310" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8312" href="../Denotational/#plfa_plfa-part3-Denotational-8291" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8314" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8316" href="../Denotational/#plfa_plfa-part3-Denotational-8293" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8322" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8334" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8336" href="../Denotational/#plfa_plfa-part3-Denotational-8291" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8338" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8340" href="../Denotational/#plfa_plfa-part3-Denotational-8293" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8342" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8350" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8351" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8360" href="../Denotational/#plfa_plfa-part3-Denotational-8360" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8364" href="../Denotational/#plfa_plfa-part3-Denotational-8364" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8367" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8369" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8371" href="../Denotational/#plfa_plfa-part3-Denotational-8364" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-8375" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8383" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8384" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8394" href="../Denotational/#plfa_plfa-part3-Denotational-8394" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8396" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8398" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8400" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8410" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8411" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8419" href="../Denotational/#plfa_plfa-part3-Denotational-8394" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8421" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8423" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8431" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8432" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8442" href="../Denotational/#plfa_plfa-part3-Denotational-8442" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8444" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8446" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8448" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8458" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8459" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8467" href="../Denotational/#plfa_plfa-part3-Denotational-8442" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8469" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8471" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8479" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8480" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8488" href="../Denotational/#plfa_plfa-part3-Denotational-8488" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8492" href="../Denotational/#plfa_plfa-part3-Denotational-8492" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8495" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8497" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8499" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8507" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8508" href="../Denotational/#plfa_plfa-part3-Denotational-8277" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8516" href="../Denotational/#plfa_plfa-part3-Denotational-8488" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8519" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8521" href="../Denotational/#plfa_plfa-part3-Denotational-8492" class="Bound">lt2</a>
</pre><h2 id="环境">环境</h2><p>环境通过将变量映射到值来为项中的自由变量赋予含义：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-8702" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8706" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8708" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-8716" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8718" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8722" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8726" href="../Denotational/#plfa_plfa-part3-Denotational-8726" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8728" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8730" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8732" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8733" href="../Denotational/#plfa_plfa-part3-Denotational-8733" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8735" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8737" href="../Denotational/#plfa_plfa-part3-Denotational-8726" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8739" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8741" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8742" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8744" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8746" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
</pre><p>我们有空环境，且可以扩展环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-8857" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8860" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8862" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8866" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-8868" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8871" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-8875" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-8882" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-8884" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-8890" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-8895" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8897" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8899" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8900" href="../Denotational/#plfa_plfa-part3-Denotational-8900" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8901" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8903" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8905" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8909" href="../Denotational/#plfa_plfa-part3-Denotational-8900" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8911" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8913" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-8919" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8921" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8925" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8926" href="../Denotational/#plfa_plfa-part3-Denotational-8900" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8928" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-8930" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8931" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8933" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8934" href="../Denotational/#plfa_plfa-part3-Denotational-8934" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8936" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8939" href="../Denotational/#plfa_plfa-part3-Denotational-8939" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8940" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8942" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-8944" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8946" href="../Denotational/#plfa_plfa-part3-Denotational-8939" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-8948" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8949" href="../Denotational/#plfa_plfa-part3-Denotational-8949" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8951" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8954" href="../Denotational/#plfa_plfa-part3-Denotational-8954" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8955" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8957" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8958" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-8960" href="../Denotational/#plfa_plfa-part3-Denotational-8960" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8961" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8963" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8965" href="../Denotational/#plfa_plfa-part3-Denotational-8949" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8967" href="../Denotational/#plfa_plfa-part3-Denotational-8960" class="Bound">x</a>
</pre><p>我们可以从扩展的环境中恢复以前的环境以及最后添加的值。 将它们再次合并在一起能让我们回到开始：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-9194" href="../Denotational/#plfa_plfa-part3-Denotational-9194" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9199" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9201" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9203" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9204" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9205" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9207" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9209" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9213" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9214" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9216" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9218" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9219" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9221" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9223" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9227" href="../Denotational/#plfa_plfa-part3-Denotational-9204" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9229" href="../Denotational/#plfa_plfa-part3-Denotational-9194" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9234" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9236" href="../Denotational/#plfa_plfa-part3-Denotational-9236" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9238" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9240" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9242" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9243" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9245" href="../Denotational/#plfa_plfa-part3-Denotational-9236" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9246" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-9249" href="../Denotational/#plfa_plfa-part3-Denotational-9249" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9254" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9256" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9258" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9259" href="../Denotational/#plfa_plfa-part3-Denotational-9259" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9260" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9262" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9264" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9268" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9269" href="../Denotational/#plfa_plfa-part3-Denotational-9259" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9271" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9273" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9274" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9276" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9278" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-9284" href="../Denotational/#plfa_plfa-part3-Denotational-9249" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9289" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9291" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9293" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9295" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-9298" href="../Denotational/#plfa_plfa-part3-Denotational-9298" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9308" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9310" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9312" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9313" href="../Denotational/#plfa_plfa-part3-Denotational-9313" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9314" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9316" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9318" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9319" href="../Denotational/#plfa_plfa-part3-Denotational-9319" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9321" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9323" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9327" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9328" href="../Denotational/#plfa_plfa-part3-Denotational-9313" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9330" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9332" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9333" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-9336" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9338" href="../Denotational/#plfa_plfa-part3-Denotational-9319" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9340" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9342" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9343" href="../Denotational/#plfa_plfa-part3-Denotational-9194" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9348" href="../Denotational/#plfa_plfa-part3-Denotational-9319" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9350" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9353" href="../Denotational/#plfa_plfa-part3-Denotational-9249" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9358" href="../Denotational/#plfa_plfa-part3-Denotational-9319" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9359" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-9361" href="../Denotational/#plfa_plfa-part3-Denotational-9298" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9371" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9372" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9373" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9375" href="../Denotational/#plfa_plfa-part3-Denotational-9375" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9377" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9379" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-9394" href="../Denotational/#plfa_plfa-part3-Denotational-9408" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-9402" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-9408" href="../Denotational/#plfa_plfa-part3-Denotational-9408" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9414" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9416" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9418" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9419" href="../Denotational/#plfa_plfa-part3-Denotational-9419" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9421" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9423" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9425" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9427" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-9429" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9431" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9432" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9434" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9436" href="../Denotational/#plfa_plfa-part3-Denotational-9375" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9438" href="../Denotational/#plfa_plfa-part3-Denotational-9419" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9440" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9442" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9443" href="../Denotational/#plfa_plfa-part3-Denotational-9194" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9448" href="../Denotational/#plfa_plfa-part3-Denotational-9375" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9450" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9453" href="../Denotational/#plfa_plfa-part3-Denotational-9249" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9458" href="../Denotational/#plfa_plfa-part3-Denotational-9375" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9459" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9461" href="../Denotational/#plfa_plfa-part3-Denotational-9419" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-9471" href="../Denotational/#plfa_plfa-part3-Denotational-9408" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9477" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-9484" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9487" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-9500" href="../Denotational/#plfa_plfa-part3-Denotational-9408" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9506" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9507" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9509" href="../Denotational/#plfa_plfa-part3-Denotational-9509" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9510" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-9513" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9516" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们将 <code>⊑</code> 关系逐点（Point-wise）扩展到具有以下定义的环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-9668" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9673" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9675" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9677" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9678" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9679" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9681" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9683" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9687" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9689" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9691" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9695" href="../Denotational/#plfa_plfa-part3-Denotational-9678" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9697" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9699" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-9703" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9708" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9709" href="../Denotational/#plfa_plfa-part3-Denotational-9709" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9710" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9712" href="../Denotational/#plfa_plfa-part3-Denotational-9712" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9714" href="../Denotational/#plfa_plfa-part3-Denotational-9714" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9716" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9718" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9720" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9721" href="../Denotational/#plfa_plfa-part3-Denotational-9721" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9723" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9725" href="../Denotational/#plfa_plfa-part3-Denotational-9709" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9727" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9729" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9730" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9732" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9734" href="../Denotational/#plfa_plfa-part3-Denotational-9712" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9736" href="../Denotational/#plfa_plfa-part3-Denotational-9721" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9738" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9740" href="../Denotational/#plfa_plfa-part3-Denotational-9714" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9742" href="../Denotational/#plfa_plfa-part3-Denotational-9721" class="Bound">x</a>
</pre><p>我们定义了一个底环境和一个环境上的连接运算符，它接受它们的值的逐点连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-9922" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9925" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9927" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9929" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9930" href="../Denotational/#plfa_plfa-part3-Denotational-9930" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9931" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9933" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9935" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9939" href="../Denotational/#plfa_plfa-part3-Denotational-9930" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9941" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9944" href="../Denotational/#plfa_plfa-part3-Denotational-9944" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9946" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9948" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-9951" href="../Denotational/#plfa_plfa-part3-Denotational-9951" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-9956" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9958" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9960" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9961" href="../Denotational/#plfa_plfa-part3-Denotational-9961" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9962" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9966" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9970" href="../Denotational/#plfa_plfa-part3-Denotational-9961" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9972" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9974" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9978" href="../Denotational/#plfa_plfa-part3-Denotational-9961" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9980" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9982" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9986" href="../Denotational/#plfa_plfa-part3-Denotational-9961" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9988" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9989" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9991" href="../Denotational/#plfa_plfa-part3-Denotational-9951" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-9994" href="../Denotational/#plfa_plfa-part3-Denotational-9994" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-9995" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9997" href="../Denotational/#plfa_plfa-part3-Denotational-9997" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9999" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10001" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10003" href="../Denotational/#plfa_plfa-part3-Denotational-9997" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10005" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-10007" href="../Denotational/#plfa_plfa-part3-Denotational-9994" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10009" href="../Denotational/#plfa_plfa-part3-Denotational-9997" class="Bound">x</a>
</pre><p><code>⊑-refl</code>、<code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 规则对环境也适用，因此两个环境 <code>γ</code> 和 <code>δ</code> 的连接大于第一个环境 <code>γ</code> 或第二个环境 <code>δ</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-10511" href="../Denotational/#plfa_plfa-part3-Denotational-10511" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10519" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10521" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10523" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10524" href="../Denotational/#plfa_plfa-part3-Denotational-10524" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10525" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10527" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10528" href="../Denotational/#plfa_plfa-part3-Denotational-10528" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10530" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10532" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10536" href="../Denotational/#plfa_plfa-part3-Denotational-10524" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10537" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10539" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10541" href="../Denotational/#plfa_plfa-part3-Denotational-10528" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10543" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10546" href="../Denotational/#plfa_plfa-part3-Denotational-10528" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-10548" href="../Denotational/#plfa_plfa-part3-Denotational-10511" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10556" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10557" href="../Denotational/#plfa_plfa-part3-Denotational-10557" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10558" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10560" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10561" href="../Denotational/#plfa_plfa-part3-Denotational-10561" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10562" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10564" href="../Denotational/#plfa_plfa-part3-Denotational-10564" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10566" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10568" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10575" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10576" href="../Denotational/#plfa_plfa-part3-Denotational-10561" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10578" href="../Denotational/#plfa_plfa-part3-Denotational-10564" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-10579" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-10582" href="../Denotational/#plfa_plfa-part3-Denotational-10582" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10596" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10598" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10600" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10601" href="../Denotational/#plfa_plfa-part3-Denotational-10601" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10602" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10604" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10606" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10607" href="../Denotational/#plfa_plfa-part3-Denotational-10607" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10609" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10611" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10615" href="../Denotational/#plfa_plfa-part3-Denotational-10601" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10616" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10618" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10620" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10621" href="../Denotational/#plfa_plfa-part3-Denotational-10621" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10623" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10625" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10629" href="../Denotational/#plfa_plfa-part3-Denotational-10601" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10630" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10632" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10634" href="../Denotational/#plfa_plfa-part3-Denotational-10607" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10636" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10639" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10640" href="../Denotational/#plfa_plfa-part3-Denotational-10607" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10642" href="../Denotational/#plfa_plfa-part3-Denotational-9951" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10645" href="../Denotational/#plfa_plfa-part3-Denotational-10621" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10646" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10648" href="../Denotational/#plfa_plfa-part3-Denotational-10582" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10662" href="../Denotational/#plfa_plfa-part3-Denotational-10662" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10664" href="../Denotational/#plfa_plfa-part3-Denotational-10664" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10666" href="../Denotational/#plfa_plfa-part3-Denotational-10666" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10668" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10670" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10680" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-10688" href="../Denotational/#plfa_plfa-part3-Denotational-10688" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10702" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10704" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10706" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10707" href="../Denotational/#plfa_plfa-part3-Denotational-10707" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10708" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10710" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10712" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10713" href="../Denotational/#plfa_plfa-part3-Denotational-10713" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10715" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10717" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10721" href="../Denotational/#plfa_plfa-part3-Denotational-10707" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10722" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10724" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10726" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10727" href="../Denotational/#plfa_plfa-part3-Denotational-10727" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10729" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10731" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10735" href="../Denotational/#plfa_plfa-part3-Denotational-10707" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10736" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10738" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10740" href="../Denotational/#plfa_plfa-part3-Denotational-10727" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10742" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10745" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10746" href="../Denotational/#plfa_plfa-part3-Denotational-10713" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10748" href="../Denotational/#plfa_plfa-part3-Denotational-9951" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10751" href="../Denotational/#plfa_plfa-part3-Denotational-10727" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10752" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10754" href="../Denotational/#plfa_plfa-part3-Denotational-10688" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10768" href="../Denotational/#plfa_plfa-part3-Denotational-10768" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10770" href="../Denotational/#plfa_plfa-part3-Denotational-10770" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10772" href="../Denotational/#plfa_plfa-part3-Denotational-10772" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10774" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10776" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10786" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>
</pre><h2 id="指称语义">指称语义</h2><p>我们用形如 <code>ρ ⊢ M ↓ v</code> 的判断来定义语义，其中 <code>ρ</code> 是环境，<code>M</code> 程序，<code>v</code> 是结果值。 对于熟悉大步语义的读者来说，这种表示法会感觉很自然，但不要让这种相似性欺骗了你。 二者之间存在细微但重要的差异！下面是语义的定义，我们将在后面的段落中详细讨论：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-11406" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-11412" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-11414" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-11421" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-11426" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-11432" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11434" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-11436" href="../Denotational/#plfa_plfa-part3-Denotational-11436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11437" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11439" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11441" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11445" href="../Denotational/#plfa_plfa-part3-Denotational-11436" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11447" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11449" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11450" href="../Denotational/#plfa_plfa-part3-Denotational-11436" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11452" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11454" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-11455" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11457" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11459" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-11465" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11467" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-11471" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-11480" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-11484" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11486" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11488" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11489" href="../Denotational/#plfa_plfa-part3-Denotational-11489" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11490" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11492" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11493" href="../Denotational/#plfa_plfa-part3-Denotational-11493" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11495" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11497" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11501" href="../Denotational/#plfa_plfa-part3-Denotational-11489" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11502" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11504" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11505" href="../Denotational/#plfa_plfa-part3-Denotational-11505" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11506" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11514" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11534" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11536" href="../Denotational/#plfa_plfa-part3-Denotational-11493" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11538" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11540" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11541" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-11543" href="../Denotational/#plfa_plfa-part3-Denotational-11505" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11544" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11546" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11548" href="../Denotational/#plfa_plfa-part3-Denotational-11493" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11550" href="../Denotational/#plfa_plfa-part3-Denotational-11505" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-11555" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-11562" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11564" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11566" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11567" href="../Denotational/#plfa_plfa-part3-Denotational-11567" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11568" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11570" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11571" href="../Denotational/#plfa_plfa-part3-Denotational-11571" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11573" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11575" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11579" href="../Denotational/#plfa_plfa-part3-Denotational-11567" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11580" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11582" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11583" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11585" href="../Denotational/#plfa_plfa-part3-Denotational-11585" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11587" href="../Denotational/#plfa_plfa-part3-Denotational-11587" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11589" href="../Denotational/#plfa_plfa-part3-Denotational-11589" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11590" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11596" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11598" href="../Denotational/#plfa_plfa-part3-Denotational-11571" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11600" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11602" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11604" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11606" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11607" href="../Denotational/#plfa_plfa-part3-Denotational-11587" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11609" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11611" href="../Denotational/#plfa_plfa-part3-Denotational-11589" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11612" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-11618" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11620" href="../Denotational/#plfa_plfa-part3-Denotational-11571" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11622" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11624" href="../Denotational/#plfa_plfa-part3-Denotational-11585" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11626" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11628" href="../Denotational/#plfa_plfa-part3-Denotational-11587" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11636" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11656" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11658" href="../Denotational/#plfa_plfa-part3-Denotational-11571" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11660" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11662" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11663" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11665" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-11667" href="../Denotational/#plfa_plfa-part3-Denotational-11585" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11668" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11670" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11672" href="../Denotational/#plfa_plfa-part3-Denotational-11589" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-11677" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-11685" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11687" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11689" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11690" href="../Denotational/#plfa_plfa-part3-Denotational-11690" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11691" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11693" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11694" href="../Denotational/#plfa_plfa-part3-Denotational-11694" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11696" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11698" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11702" href="../Denotational/#plfa_plfa-part3-Denotational-11690" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11703" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11705" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11706" href="../Denotational/#plfa_plfa-part3-Denotational-11706" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11708" href="../Denotational/#plfa_plfa-part3-Denotational-11708" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11710" href="../Denotational/#plfa_plfa-part3-Denotational-11710" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11711" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11717" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11719" href="../Denotational/#plfa_plfa-part3-Denotational-11694" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11721" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-11724" href="../Denotational/#plfa_plfa-part3-Denotational-11708" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11726" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11728" href="../Denotational/#plfa_plfa-part3-Denotational-11706" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11730" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11732" href="../Denotational/#plfa_plfa-part3-Denotational-11710" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11740" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-11764" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11766" href="../Denotational/#plfa_plfa-part3-Denotational-11694" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11768" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11770" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11771" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-11773" href="../Denotational/#plfa_plfa-part3-Denotational-11706" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-11774" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11776" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11778" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11779" href="../Denotational/#plfa_plfa-part3-Denotational-11708" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11781" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11783" href="../Denotational/#plfa_plfa-part3-Denotational-11710" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11784" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-11789" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-11797" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11799" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11801" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11802" href="../Denotational/#plfa_plfa-part3-Denotational-11802" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11803" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11805" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11806" href="../Denotational/#plfa_plfa-part3-Denotational-11806" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11808" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11810" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11814" href="../Denotational/#plfa_plfa-part3-Denotational-11802" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11815" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11817" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11818" href="../Denotational/#plfa_plfa-part3-Denotational-11818" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11819" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11827" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-11841" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11843" href="../Denotational/#plfa_plfa-part3-Denotational-11806" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11845" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11847" href="../Denotational/#plfa_plfa-part3-Denotational-11818" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11849" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11851" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-11856" href="../Denotational/#plfa_plfa-part3-Denotational-11856" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11864" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11866" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11868" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11869" href="../Denotational/#plfa_plfa-part3-Denotational-11869" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11870" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11872" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11873" href="../Denotational/#plfa_plfa-part3-Denotational-11873" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11875" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11877" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11881" href="../Denotational/#plfa_plfa-part3-Denotational-11869" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11882" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11884" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11885" href="../Denotational/#plfa_plfa-part3-Denotational-11885" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11887" href="../Denotational/#plfa_plfa-part3-Denotational-11887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11889" href="../Denotational/#plfa_plfa-part3-Denotational-11889" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11890" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11896" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11898" href="../Denotational/#plfa_plfa-part3-Denotational-11873" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11900" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11902" href="../Denotational/#plfa_plfa-part3-Denotational-11885" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11904" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11906" href="../Denotational/#plfa_plfa-part3-Denotational-11887" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11912" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11914" href="../Denotational/#plfa_plfa-part3-Denotational-11873" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11916" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11918" href="../Denotational/#plfa_plfa-part3-Denotational-11885" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11920" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11922" href="../Denotational/#plfa_plfa-part3-Denotational-11889" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11930" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11950" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11952" href="../Denotational/#plfa_plfa-part3-Denotational-11873" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11954" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11956" href="../Denotational/#plfa_plfa-part3-Denotational-11885" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11958" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11960" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11961" href="../Denotational/#plfa_plfa-part3-Denotational-11887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11963" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11965" href="../Denotational/#plfa_plfa-part3-Denotational-11889" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11966" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-11971" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-11975" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11977" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11979" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11980" href="../Denotational/#plfa_plfa-part3-Denotational-11980" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11981" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11983" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11984" href="../Denotational/#plfa_plfa-part3-Denotational-11984" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11986" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11988" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11992" href="../Denotational/#plfa_plfa-part3-Denotational-11980" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11993" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11995" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11996" href="../Denotational/#plfa_plfa-part3-Denotational-11996" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11998" href="../Denotational/#plfa_plfa-part3-Denotational-11998" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-12000" href="../Denotational/#plfa_plfa-part3-Denotational-12000" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-12001" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-12007" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12009" href="../Denotational/#plfa_plfa-part3-Denotational-11984" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12011" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12013" href="../Denotational/#plfa_plfa-part3-Denotational-11996" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12015" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12017" href="../Denotational/#plfa_plfa-part3-Denotational-11998" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-12023" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12025" href="../Denotational/#plfa_plfa-part3-Denotational-12000" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-12027" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-12029" href="../Denotational/#plfa_plfa-part3-Denotational-11998" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-12037" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-12051" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12053" href="../Denotational/#plfa_plfa-part3-Denotational-11984" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12055" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12057" href="../Denotational/#plfa_plfa-part3-Denotational-11996" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12059" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12061" href="../Denotational/#plfa_plfa-part3-Denotational-12000" class="Bound">w</a>
</pre><p>考虑 λ-抽象的规则 <code>↦-intro</code>，它表示 λ-抽象会生成一个单条目的表，该表将输入 <code>v</code> 映射到输出 <code>w</code>，前提是在具有 <code>v</code> 绑定到其形参会产生输出 <code>w</code>。 作为此规则的简单示例，我们可以看到恒等函数将 <code>⊥</code> 映射到 <code>⊥</code>，并将 <code>⊥</code> ↦ <code>⊥</code> 映射到 <code>⊥ ↦ ⊥</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-12630" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12633" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12635" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-12637" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12639" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-12641" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12644" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12646" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-12648" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-12650" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-12665" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12675" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12677" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12679" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12680" href="../Denotational/#plfa_plfa-part3-Denotational-12680" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12681" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12683" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12685" href="../Denotational/#plfa_plfa-part3-Denotational-12680" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12687" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12689" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12692" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12694" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12696" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12698" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-12700" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12710" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12712" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12720" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-12725" href="../Denotational/#plfa_plfa-part3-Denotational-12725" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12735" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12737" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12739" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12740" href="../Denotational/#plfa_plfa-part3-Denotational-12740" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12741" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12743" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12745" href="../Denotational/#plfa_plfa-part3-Denotational-12740" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12747" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12749" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12752" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12754" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12755" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12757" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12759" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12760" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12762" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12764" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12765" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12767" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12769" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12770" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12772" href="../Denotational/#plfa_plfa-part3-Denotational-12725" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12782" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12784" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12792" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a>
</pre><p>当然，我们需要多行表格来刻画 λ-抽象的含义。它们可以用 <code>⊔-intro</code> 规则构建。如果项 M（通常是一个 λ-抽象）可以产生表格 <code>v</code> 和 <code>w</code>， 那么它也可以产生合并的表格 <code>v ⊔ w</code>。我们可以从操作的视角看待规则 <code>↦-intro</code> 和 <code>⊔-intro</code>。想象一下，当解释器首次遇到 λ-抽象时， 它会在许多随机选择的参数上预先对函数求值，使用多个规则 <code>↦-intro</code> 的实例，然后使用多个规则 <code>⊔-intro</code> 将它们合并成一个大表格。 在接下来的内容中，我们将展示恒等函数产生一个包含上述两个结果的表格 <code>⊥ ↦ ⊥</code>和<code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-13870" href="../Denotational/#plfa_plfa-part3-Denotational-13870" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13880" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13882" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13885" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13887" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-13890" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13892" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13893" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13895" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13897" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13898" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13900" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13902" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13903" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13905" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13907" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13908" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13910" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13912" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13913" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13915" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13917" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13918" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13920" href="../Denotational/#plfa_plfa-part3-Denotational-13870" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13930" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13932" href="../Denotational/#plfa_plfa-part3-Denotational-11856" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-13940" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-13950" href="../Denotational/#plfa_plfa-part3-Denotational-12725" class="Function">denot-id2</a>
</pre><p>我们通常认为判断 <code>γ ⊢ M ↓ v</code> 以环境 <code>γ</code> 和项 <code>M</code> 为输入，产生结果 <code>v</code>。 然而重点在于，语义是一种<strong>关系</strong>。上述恒等函数的结果表明， 相同的环境和项可以映射为不同的结果。然而，对于给定的 <code>γ</code> 和 <code>M</code> ，它们的结果并不会有<strong>太大</strong>区别，毕竟它们都是同一个函数的有限近似。 或许考虑判断 <code>γ ⊢ M ↓ v</code> 更好的方法是将 <code>γ</code>、<code>M</code> 和 <code>v</code> 都视为输入， 其语义则是判定 <code>v</code> 是否为精确的环境 <code>γ</code> 中 <code>M</code> 的求值结果的部分描述。</p><p>接下来我们考虑 <code>↦-elim</code> 规则给出的函数应用的含义。 以此规则为前提，我们有规则 <code>L</code> 将 <code>v</code> 映射到 <code>w</code>。 因此，如果 <code>M</code> 产生 <code>v</code>，那么将 <code>L</code> 应用于 <code>M</code> 会产生 <code>w</code>。</p><p>举一个函数应用和 <code>↦-elim</code> 规则的例子，我们将恒等函数应用于自身。 实际上，我们有 <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> 的同时还有 <code>∅ ⊢ id ↓ (u ↦ u)</code>，因此我们可以应用规则 <code>↦-elim</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-15607" href="../Denotational/#plfa_plfa-part3-Denotational-15607" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15617" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15619" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-15621" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15622" href="../Denotational/#plfa_plfa-part3-Denotational-15622" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15624" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15626" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-15631" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15633" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-15635" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15638" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15640" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15643" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15645" href="../Denotational/#plfa_plfa-part3-Denotational-12630" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15648" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15650" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15651" href="../Denotational/#plfa_plfa-part3-Denotational-15622" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15653" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-15655" href="../Denotational/#plfa_plfa-part3-Denotational-15622" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15656" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-15658" href="../Denotational/#plfa_plfa-part3-Denotational-15607" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15668" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15669" href="../Denotational/#plfa_plfa-part3-Denotational-15669" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15670" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15672" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15674" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15681" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15682" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15690" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15693" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15695" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15696" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15704" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15707" class="Symbol">)</a>
</pre><p>接着我们重新考虑丘奇数二：<code>λ f. λ u. (f (f u))</code>。该函数有两个参数：<code>f</code> 和一个任意值 <code>u</code>，并将 <code>f</code> 应用两次。于是 <code>f</code> 必定将 <code>u</code> 映射到某个值， 我们将其命名为 <code>v</code>。接着，对于第二次应用，<code>f</code> 必定将 <code>v</code> 映射到某个值， 我们将其命名为 <code>w</code>。因此该函数的表格必定包含两个条目，即 <code>u ↦ v</code> 和 <code>v ↦ w</code>。 对于该表格的每一次应用，我们用 <code>sub</code> 规则提取对应的条目。具体来说， 就是用 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 从表格 <code>u ↦ v ⊔ v ↦ w</code> 中分别选出 <code>u ↦ v</code> 和 <code>v ↦ w</code>。所以 <code>twoᶜ</code> 的涵义就是接受该表格和参数 <code>u</code>，然后返回 <code>w</code>。 实际上我们通过以下过程把它推导出来的：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-16824" href="../Denotational/#plfa_plfa-part3-Denotational-16824" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16835" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16837" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-16839" href="../Denotational/#plfa_plfa-part3-Denotational-16839" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16841" href="../Denotational/#plfa_plfa-part3-Denotational-16841" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16843" href="../Denotational/#plfa_plfa-part3-Denotational-16843" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16845" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16847" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-16852" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16854" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16856" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-16859" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16861" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16866" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16868" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-16870" href="../Denotational/#plfa_plfa-part3-Denotational-16839" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16872" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16874" href="../Denotational/#plfa_plfa-part3-Denotational-16841" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16876" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16878" href="../Denotational/#plfa_plfa-part3-Denotational-16841" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16880" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16882" href="../Denotational/#plfa_plfa-part3-Denotational-16843" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16883" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16885" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16887" href="../Denotational/#plfa_plfa-part3-Denotational-16839" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16889" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16891" href="../Denotational/#plfa_plfa-part3-Denotational-16843" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16892" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-16894" href="../Denotational/#plfa_plfa-part3-Denotational-16824" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16905" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16906" href="../Denotational/#plfa_plfa-part3-Denotational-16906" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-16907" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16909" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-16910" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16912" href="../Denotational/#plfa_plfa-part3-Denotational-16912" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16913" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16915" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-16919" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16927" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16928" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16936" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16937" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16944" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16945" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16949" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16953" href="../Denotational/#plfa_plfa-part3-Denotational-16995" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-16956" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16958" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16959" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16966" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16967" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16971" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16975" href="../Denotational/#plfa_plfa-part3-Denotational-17078" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-16978" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16980" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-16983" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-16989" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-16995" href="../Denotational/#plfa_plfa-part3-Denotational-16995" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-16999" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17001" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17003" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17005" href="../Denotational/#plfa_plfa-part3-Denotational-16912" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17007" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17009" href="../Denotational/#plfa_plfa-part3-Denotational-16906" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17011" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17013" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17015" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17017" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17019" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17021" href="../Denotational/#plfa_plfa-part3-Denotational-16912" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17031" href="../Denotational/#plfa_plfa-part3-Denotational-16995" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17035" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17037" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17047" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17048" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17054" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17061" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17067" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-17078" href="../Denotational/#plfa_plfa-part3-Denotational-17078" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17082" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17084" href="../Denotational/#plfa_plfa-part3-Denotational-16906" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17086" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17088" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17090" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17092" href="../Denotational/#plfa_plfa-part3-Denotational-16906" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17094" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17096" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17098" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17100" href="../Denotational/#plfa_plfa-part3-Denotational-16909" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17102" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17104" href="../Denotational/#plfa_plfa-part3-Denotational-16912" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17114" href="../Denotational/#plfa_plfa-part3-Denotational-17078" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17118" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17120" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17121" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17131" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17132" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17138" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17145" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17151" class="Symbol">))</a>
</pre><p>接下来展示一个自应用的经典例子：<code>Δ = λx. (x x)</code>。 <code>x</code> 的输入值必须是一个表格，其中有一个条目将其较小的版本 <code>v</code> 映射到某个值 <code>w</code>，所以输入值类似于 <code>v ↦ w ⊔ v</code>。当然， <code>Δ</code> 的输出就是 <code>w</code>，推导过程如下所示。第一个 <code>x</code> 求值为 <code>v ↦ w</code>， 第二个 <code>x</code> 求值为 <code>v</code>，应用的结果为 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-17832" href="../Denotational/#plfa_plfa-part3-Denotational-17832" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17834" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17836" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-17838" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17840" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-17842" href="../Denotational/#plfa_plfa-part3-Denotational-17832" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17844" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17846" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17847" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-17849" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17850" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17852" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17853" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17855" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-17857" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17858" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17860" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17861" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-17865" href="../Denotational/#plfa_plfa-part3-Denotational-17865" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17873" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17875" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17877" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17878" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17880" href="../Denotational/#plfa_plfa-part3-Denotational-17880" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17881" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17883" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17885" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-17888" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17890" href="../Denotational/#plfa_plfa-part3-Denotational-17832" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17892" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17894" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-17896" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17898" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17900" href="../Denotational/#plfa_plfa-part3-Denotational-17880" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17902" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17904" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17905" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17907" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17909" href="../Denotational/#plfa_plfa-part3-Denotational-17880" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17910" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-17912" href="../Denotational/#plfa_plfa-part3-Denotational-17865" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17920" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17922" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-17930" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17931" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17938" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17939" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17943" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17947" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17948" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17958" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17964" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-17993" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17994" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17998" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-18002" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18003" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-18013" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18019" class="Symbol">)))</a>
</pre><p>你可能会担心这种语义是否可以处理发散的程序。值 <code>⊥</code> 和规则 <code>⊥-intro</code> 提供了一种处理它们的方法（<code>⊥-intro</code> 规则也是 β-规约能够应用于不停机参数的原因）。 经典的 <code>Ω</code> 程序是一个特别简单的发散程序，它将 <code>Δ</code> 应用于自身，语义赋予 <code>Ω</code> 含义 <code>⊥</code>。有多种方法可以得出它，我们将从使用 <code>⊔-intro</code> 规则的方法开始。 首先，<code>denot-Δ</code> 告诉我们 <code>Δ</code> 的计算结果为 <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code>（选择 <code>v₁ = v2 = ⊥</code> ）。接着，<code>Δ</code> 还通过使用 <code>↦-intro</code> 和 <code>⊥-intro</code> 求值为 <code>⊥ ↦ ⊥</code>，并通过 <code>⊥-intro</code> 求值为 <code>⊥</code>。正如我们之前所看到的， 只要我们能证明程序会求值出两个值，我们就能应用 <code>⊔-intro</code> 将它们连接在一起， 于是 <code>Δ</code> 求值为 <code>(⊥ ↦ ⊥) ⊔ ⊥</code>，这与第一个 <code>Δ</code> 的输入相匹配， 因此可得应用的结果是 <code>⊥</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-19419" href="../Denotational/#plfa_plfa-part3-Denotational-19419" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19421" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19423" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-19425" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19427" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-19429" href="../Denotational/#plfa_plfa-part3-Denotational-19419" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19431" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19433" href="../Denotational/#plfa_plfa-part3-Denotational-17832" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-19435" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-19437" href="../Denotational/#plfa_plfa-part3-Denotational-17832" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-19440" href="../Denotational/#plfa_plfa-part3-Denotational-19440" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19448" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19450" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19453" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19455" href="../Denotational/#plfa_plfa-part3-Denotational-19419" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19457" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19459" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19461" href="../Denotational/#plfa_plfa-part3-Denotational-19440" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19469" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19471" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-19478" href="../Denotational/#plfa_plfa-part3-Denotational-17865" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-19486" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19487" href="../Denotational/#plfa_plfa-part3-Denotational-11856" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-19495" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19496" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-19504" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19511" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19513" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19520" class="Symbol">)</a>
</pre><p>同一结果的较短推导就是单纯使用 <code>⊥-intro</code> 规则：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-19658" href="../Denotational/#plfa_plfa-part3-Denotational-19658" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19667" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19669" href="../Denotational/#plfa_plfa-part3-Denotational-8857" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19672" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19674" href="../Denotational/#plfa_plfa-part3-Denotational-19419" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19676" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19678" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19680" href="../Denotational/#plfa_plfa-part3-Denotational-19658" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19689" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19691" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a>
</pre><p>仅凭对某个封闭项 <code>M</code> 可以推导出 <code>∅ ⊢ M ↓ ⊥</code> 并不意味着 <code>M</code> 必然发散。 可能还有其他可以推出 <code>M</code> 的推导过程能产生包含更多信息的值。然而， 如果一个项求值的唯一结果是 <code>⊥</code>，那么它确实发散。</p><p>细心的读者会发现，我们计划解决自应用问题的方式与实际应用的 <code>↦-elim</code> 规则之间存在脱节。开头说过，我们会放宽查表的概念， 如果参数等于或大于输入条目，则允许参数匹配输入条目。然而，<code>↦-elim</code> 规则似乎需要精确匹配，但由于存在 <code>sub</code> 规则，应用确实可以允许更大的参数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-20761" href="../Denotational/#plfa_plfa-part3-Denotational-20761" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20771" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-20773" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20774" href="../Denotational/#plfa_plfa-part3-Denotational-20774" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20775" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20777" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20778" href="../Denotational/#plfa_plfa-part3-Denotational-20778" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20780" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20782" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-20786" href="../Denotational/#plfa_plfa-part3-Denotational-20774" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20787" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20789" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20790" href="../Denotational/#plfa_plfa-part3-Denotational-20790" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20793" href="../Denotational/#plfa_plfa-part3-Denotational-20793" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20796" href="../Denotational/#plfa_plfa-part3-Denotational-20796" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20799" href="../Denotational/#plfa_plfa-part3-Denotational-20799" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-20802" href="../Denotational/#plfa_plfa-part3-Denotational-20802" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20804" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-20808" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20810" href="../Denotational/#plfa_plfa-part3-Denotational-20778" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20812" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20814" href="../Denotational/#plfa_plfa-part3-Denotational-20790" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20817" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20819" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20820" href="../Denotational/#plfa_plfa-part3-Denotational-20796" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20823" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-20825" href="../Denotational/#plfa_plfa-part3-Denotational-20802" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20827" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-20831" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20833" href="../Denotational/#plfa_plfa-part3-Denotational-20778" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20835" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20837" href="../Denotational/#plfa_plfa-part3-Denotational-20793" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20840" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20842" href="../Denotational/#plfa_plfa-part3-Denotational-20799" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-20847" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20849" href="../Denotational/#plfa_plfa-part3-Denotational-20796" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20852" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-20854" href="../Denotational/#plfa_plfa-part3-Denotational-20799" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-20861" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-20882" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20884" href="../Denotational/#plfa_plfa-part3-Denotational-20778" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20886" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20888" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20889" href="../Denotational/#plfa_plfa-part3-Denotational-20790" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20892" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-20894" href="../Denotational/#plfa_plfa-part3-Denotational-20793" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-20896" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-20898" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20900" href="../Denotational/#plfa_plfa-part3-Denotational-20802" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-20903" href="../Denotational/#plfa_plfa-part3-Denotational-20761" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20911" href="../Denotational/#plfa_plfa-part3-Denotational-20911" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20914" href="../Denotational/#plfa_plfa-part3-Denotational-20914" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20917" href="../Denotational/#plfa_plfa-part3-Denotational-20917" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-20920" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-20922" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-20929" href="../Denotational/#plfa_plfa-part3-Denotational-20911" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20932" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20933" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-20937" href="../Denotational/#plfa_plfa-part3-Denotational-20914" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20940" href="../Denotational/#plfa_plfa-part3-Denotational-20917" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-20942" class="Symbol">)</a>
</pre><h4 id="练习-denot-plusᶜ实践">练习 <code>denot-plusᶜ</code>（实践）</h4><p><code>plusᶜ</code> 的指称是什么？即，找到一个值 <code>v</code>（排除 <code>⊥</code>），使得 <code>∅ ⊢ plusᶜ ↓ v</code>。 此外，对你选择的 <code>v</code> 给出 <code>∅ ⊢ plusᶜ ↓ v</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-21304" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="指称与指称相等">指称与指称相等</h2><p>接下来我们基于上述语义来定义指称相等的概念，它的语句使用了「当且仅当」， 其定义如下</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-21600" href="../Denotational/#plfa_plfa-part3-Denotational-21600" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-21606" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21608" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21612" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21614" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21618" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21620" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-21624" href="../Denotational/#plfa_plfa-part3-Denotational-21624" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21626" href="../Denotational/#plfa_plfa-part3-Denotational-21600" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-21630" href="../Denotational/#plfa_plfa-part3-Denotational-21630" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21632" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21634" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21635" href="../Denotational/#plfa_plfa-part3-Denotational-21624" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21637" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21639" href="../Denotational/#plfa_plfa-part3-Denotational-21630" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-21640" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-21642" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-21644" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21645" href="../Denotational/#plfa_plfa-part3-Denotational-21630" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21647" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21649" href="../Denotational/#plfa_plfa-part3-Denotational-21624" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-21650" class="Symbol">)</a>
</pre><p>看待指称语义的另一种方式是将它看作一个函数，它将项映射为一个从环境到值的关系， 即，项的<strong>指称（Denotation）</strong>是一个从环境到值的关系。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-21955" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-21966" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21968" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-21976" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21978" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-21983" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-21994" href="../Denotational/#plfa_plfa-part3-Denotational-21994" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-21996" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21998" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21999" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22003" href="../Denotational/#plfa_plfa-part3-Denotational-21994" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22005" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22007" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-22013" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22015" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-22018" class="Symbol">)</a>
</pre><p>下面的函数 ℰ 给出了语义的另一种视角，它相当于只改变了参数的顺序：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-22217" href="../Denotational/#plfa_plfa-part3-Denotational-22217" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22219" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22221" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-22223" href="../Denotational/#plfa_plfa-part3-Denotational-22223" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22224" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22226" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22228" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22229" href="../Denotational/#plfa_plfa-part3-Denotational-22229" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22231" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22233" href="../Denotational/#plfa_plfa-part3-Denotational-22223" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22235" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22237" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-22238" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22240" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22242" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22253" href="../Denotational/#plfa_plfa-part3-Denotational-22223" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-22255" href="../Denotational/#plfa_plfa-part3-Denotational-22217" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22257" href="../Denotational/#plfa_plfa-part3-Denotational-22257" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22259" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22261" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-22263" href="../Denotational/#plfa_plfa-part3-Denotational-22263" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22265" href="../Denotational/#plfa_plfa-part3-Denotational-22265" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22267" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22269" href="../Denotational/#plfa_plfa-part3-Denotational-22263" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22271" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22273" href="../Denotational/#plfa_plfa-part3-Denotational-22257" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22275" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-22277" href="../Denotational/#plfa_plfa-part3-Denotational-22265" class="Bound">v</a>
</pre><p>一般来说，当两个指称在相同的环境中能够产生相同的值时，二者就是相等的。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-22436" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-22442" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-22444" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-22449" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22453" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22455" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22457" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22458" href="../Denotational/#plfa_plfa-part3-Denotational-22458" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22459" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22461" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22463" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22464" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22475" href="../Denotational/#plfa_plfa-part3-Denotational-22458" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22476" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22478" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22480" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22481" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22492" href="../Denotational/#plfa_plfa-part3-Denotational-22458" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22493" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22495" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22497" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-22501" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22502" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22506" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22507" href="../Denotational/#plfa_plfa-part3-Denotational-22507" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22508" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22510" href="../Denotational/#plfa_plfa-part3-Denotational-22510" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22513" href="../Denotational/#plfa_plfa-part3-Denotational-22513" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-22515" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22517" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22519" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22520" href="../Denotational/#plfa_plfa-part3-Denotational-22520" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22522" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22524" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22528" href="../Denotational/#plfa_plfa-part3-Denotational-22507" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22529" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22531" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22533" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22534" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22536" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22538" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-22543" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22545" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22547" href="../Denotational/#plfa_plfa-part3-Denotational-22510" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22550" href="../Denotational/#plfa_plfa-part3-Denotational-22520" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22552" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22554" href="../Denotational/#plfa_plfa-part3-Denotational-21600" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-22558" href="../Denotational/#plfa_plfa-part3-Denotational-22513" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-22561" href="../Denotational/#plfa_plfa-part3-Denotational-22520" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22563" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">v</a>
</pre><p>指称相等是一种等价关系：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-22652" href="../Denotational/#plfa_plfa-part3-Denotational-22652" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22659" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22661" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22663" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22664" href="../Denotational/#plfa_plfa-part3-Denotational-22664" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22666" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22668" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22675" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22679" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22680" href="../Denotational/#plfa_plfa-part3-Denotational-22680" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22682" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22684" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22695" href="../Denotational/#plfa_plfa-part3-Denotational-22664" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22696" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22700" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22702" href="../Denotational/#plfa_plfa-part3-Denotational-22680" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22704" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22706" href="../Denotational/#plfa_plfa-part3-Denotational-22680" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22708" href="../Denotational/#plfa_plfa-part3-Denotational-22652" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22715" href="../Denotational/#plfa_plfa-part3-Denotational-22715" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22717" href="../Denotational/#plfa_plfa-part3-Denotational-22717" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22719" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22721" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22723" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22726" href="../Denotational/#plfa_plfa-part3-Denotational-22726" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22728" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22730" href="../Denotational/#plfa_plfa-part3-Denotational-22726" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22731" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22733" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22735" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22738" href="../Denotational/#plfa_plfa-part3-Denotational-22738" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22740" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22742" href="../Denotational/#plfa_plfa-part3-Denotational-22738" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22743" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22745" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-22748" href="../Denotational/#plfa_plfa-part3-Denotational-22748" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22754" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22756" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22758" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22759" href="../Denotational/#plfa_plfa-part3-Denotational-22759" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22761" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22763" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22770" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22772" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22774" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22775" href="../Denotational/#plfa_plfa-part3-Denotational-22775" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22777" href="../Denotational/#plfa_plfa-part3-Denotational-22777" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22779" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22781" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22792" href="../Denotational/#plfa_plfa-part3-Denotational-22759" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22793" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22797" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22799" href="../Denotational/#plfa_plfa-part3-Denotational-22775" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22801" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22803" href="../Denotational/#plfa_plfa-part3-Denotational-22777" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-22809" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-22817" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22819" href="../Denotational/#plfa_plfa-part3-Denotational-22777" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22821" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22823" href="../Denotational/#plfa_plfa-part3-Denotational-22775" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22825" href="../Denotational/#plfa_plfa-part3-Denotational-22748" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22831" href="../Denotational/#plfa_plfa-part3-Denotational-22831" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22834" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22836" href="../Denotational/#plfa_plfa-part3-Denotational-22836" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22838" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22840" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22842" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22843" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-22849" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22850" href="../Denotational/#plfa_plfa-part3-Denotational-22831" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22853" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22855" href="../Denotational/#plfa_plfa-part3-Denotational-22836" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22856" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22859" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22861" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22862" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22868" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22869" href="../Denotational/#plfa_plfa-part3-Denotational-22831" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22872" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22874" href="../Denotational/#plfa_plfa-part3-Denotational-22836" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22875" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22878" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-22881" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22889" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22891" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22893" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22894" href="../Denotational/#plfa_plfa-part3-Denotational-22894" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22896" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22898" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22905" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22907" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22909" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22910" href="../Denotational/#plfa_plfa-part3-Denotational-22910" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22913" href="../Denotational/#plfa_plfa-part3-Denotational-22913" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22916" href="../Denotational/#plfa_plfa-part3-Denotational-22916" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-22919" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22921" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22932" href="../Denotational/#plfa_plfa-part3-Denotational-22894" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22933" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22937" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22939" href="../Denotational/#plfa_plfa-part3-Denotational-22910" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22942" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22944" href="../Denotational/#plfa_plfa-part3-Denotational-22913" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-22949" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22951" href="../Denotational/#plfa_plfa-part3-Denotational-22913" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22954" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22956" href="../Denotational/#plfa_plfa-part3-Denotational-22916" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-22963" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-22973" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22975" href="../Denotational/#plfa_plfa-part3-Denotational-22910" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22978" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22980" href="../Denotational/#plfa_plfa-part3-Denotational-22916" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-22983" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22991" href="../Denotational/#plfa_plfa-part3-Denotational-22991" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-22995" href="../Denotational/#plfa_plfa-part3-Denotational-22995" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-22999" href="../Denotational/#plfa_plfa-part3-Denotational-22999" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23001" href="../Denotational/#plfa_plfa-part3-Denotational-23001" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-23003" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23005" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-23007" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23010" href="../Denotational/#plfa_plfa-part3-Denotational-23010" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23012" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23014" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23020" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23021" href="../Denotational/#plfa_plfa-part3-Denotational-22995" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23025" href="../Denotational/#plfa_plfa-part3-Denotational-22999" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23027" href="../Denotational/#plfa_plfa-part3-Denotational-23001" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23028" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23030" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23031" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23037" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23038" href="../Denotational/#plfa_plfa-part3-Denotational-22991" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23042" href="../Denotational/#plfa_plfa-part3-Denotational-22999" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23044" href="../Denotational/#plfa_plfa-part3-Denotational-23001" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23045" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23047" href="../Denotational/#plfa_plfa-part3-Denotational-23010" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23048" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23051" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-23077" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23080" href="../Denotational/#plfa_plfa-part3-Denotational-23080" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23082" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23084" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23090" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23091" href="../Denotational/#plfa_plfa-part3-Denotational-22991" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23095" href="../Denotational/#plfa_plfa-part3-Denotational-22999" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23097" href="../Denotational/#plfa_plfa-part3-Denotational-23001" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23098" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23100" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23101" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23107" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23108" href="../Denotational/#plfa_plfa-part3-Denotational-22995" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23112" href="../Denotational/#plfa_plfa-part3-Denotational-22999" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23114" href="../Denotational/#plfa_plfa-part3-Denotational-23001" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23115" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23117" href="../Denotational/#plfa_plfa-part3-Denotational-23080" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23118" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23121" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
</pre><p>若两个项 <code>M</code> 和 <code>N</code> 的指称相等，我们就说它们是指称相等的，即 <code>ℰ M ≃ ℰ N</code>。</p><p>以下子模块引入了 <code>≃</code> 关系的等式推理：</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-23409" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-23416" href="../Denotational/#plfa_plfa-part3-Denotational-23416" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-23428" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23429" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23431" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23433" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-23440" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23442" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-23451" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23458" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-23460" href="../Denotational/#plfa_plfa-part3-Denotational-23508" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-23469" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-23476" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-23478" href="../Denotational/#plfa_plfa-part3-Denotational-23739" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23484" href="../Denotational/#plfa_plfa-part3-Denotational-23599" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-23493" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23500" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-23502" href="../Denotational/#plfa_plfa-part3-Denotational-23846" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-23508" href="../Denotational/#plfa_plfa-part3-Denotational-23508" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-23515" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23517" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23519" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23520" href="../Denotational/#plfa_plfa-part3-Denotational-23520" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23522" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23524" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23526" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23537" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23538" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23544" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23546" href="../Denotational/#plfa_plfa-part3-Denotational-23520" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23548" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23550" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23558" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23568" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23570" href="../Denotational/#plfa_plfa-part3-Denotational-23520" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23572" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23574" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23578" href="../Denotational/#plfa_plfa-part3-Denotational-23508" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-23584" href="../Denotational/#plfa_plfa-part3-Denotational-23584" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23589" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23592" href="../Denotational/#plfa_plfa-part3-Denotational-23584" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-23599" href="../Denotational/#plfa_plfa-part3-Denotational-23599" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-23606" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23608" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23610" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23611" href="../Denotational/#plfa_plfa-part3-Denotational-23611" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23613" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23615" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23626" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23627" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23629" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23630" href="../Denotational/#plfa_plfa-part3-Denotational-23630" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23632" href="../Denotational/#plfa_plfa-part3-Denotational-23632" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23634" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23636" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23647" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23648" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23654" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23656" href="../Denotational/#plfa_plfa-part3-Denotational-23611" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23658" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23660" href="../Denotational/#plfa_plfa-part3-Denotational-23630" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-23666" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23668" href="../Denotational/#plfa_plfa-part3-Denotational-23630" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23670" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23672" href="../Denotational/#plfa_plfa-part3-Denotational-23632" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-23680" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23690" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23692" href="../Denotational/#plfa_plfa-part3-Denotational-23611" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23694" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23696" href="../Denotational/#plfa_plfa-part3-Denotational-23632" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-23700" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23701" href="../Denotational/#plfa_plfa-part3-Denotational-23701" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23703" href="../Denotational/#plfa_plfa-part3-Denotational-23599" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-23706" href="../Denotational/#plfa_plfa-part3-Denotational-23706" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23710" href="../Denotational/#plfa_plfa-part3-Denotational-23599" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-23712" href="../Denotational/#plfa_plfa-part3-Denotational-23712" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-23715" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23717" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23720" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23728" href="../Denotational/#plfa_plfa-part3-Denotational-23706" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23732" href="../Denotational/#plfa_plfa-part3-Denotational-23712" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-23739" href="../Denotational/#plfa_plfa-part3-Denotational-23739" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23745" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23747" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23749" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23750" href="../Denotational/#plfa_plfa-part3-Denotational-23750" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23752" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23754" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23765" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23766" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23768" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23769" href="../Denotational/#plfa_plfa-part3-Denotational-23769" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23771" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23773" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23784" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23785" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23791" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23793" href="../Denotational/#plfa_plfa-part3-Denotational-23750" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23795" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23797" href="../Denotational/#plfa_plfa-part3-Denotational-23769" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23805" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23815" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23817" href="../Denotational/#plfa_plfa-part3-Denotational-23750" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23819" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23821" href="../Denotational/#plfa_plfa-part3-Denotational-23769" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23825" href="../Denotational/#plfa_plfa-part3-Denotational-23825" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23827" href="../Denotational/#plfa_plfa-part3-Denotational-23739" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-23831" href="../Denotational/#plfa_plfa-part3-Denotational-23831" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23836" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23839" href="../Denotational/#plfa_plfa-part3-Denotational-23831" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-23846" href="../Denotational/#plfa_plfa-part3-Denotational-23846" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-23849" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23851" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23853" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23854" href="../Denotational/#plfa_plfa-part3-Denotational-23854" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23856" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23858" href="../Denotational/#plfa_plfa-part3-Denotational-21955" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23869" href="../Denotational/#plfa_plfa-part3-Denotational-23429" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23870" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-23878" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23888" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23890" href="../Denotational/#plfa_plfa-part3-Denotational-23854" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23892" href="../Denotational/#plfa_plfa-part3-Denotational-22449" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23894" href="../Denotational/#plfa_plfa-part3-Denotational-23854" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-23898" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23899" href="../Denotational/#plfa_plfa-part3-Denotational-23899" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23901" href="../Denotational/#plfa_plfa-part3-Denotational-23846" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-23902" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-23905" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23908" href="../Denotational/#plfa_plfa-part3-Denotational-22652" class="Function">≃-refl</a>
</pre><h2 id="后续章节的路线图">后续章节的路线图</h2><p>后续章节证明了指称语义拥有几个期望的性质。首先我们证明了语义是可组合的， 即，一个项的指称是其子项的指称的函数。为此我们需要证明以下形式的等式：</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>组合性的性质并不平凡，因为我们定义的语义包含三个非语法制导的规则： <code>⊥-intro</code>、<code>⊔-intro</code> 和 <code>sub</code>。上面的等式表明指称语义可以被定义为递归函数， 实际上，我们确实给出了这样的定义并证明它等价于 ℰ。</p><p>接下来我们研究指称语义和规约语义是否等价。回想一下，一个语言的语义的作用， 就是描述给定程序 <code>M</code> 的可观测行为。对于 λ-演算，我们可以做出多种选择， 但它们通常可以归结为一点信息：</p><ul><li>发散：程序 <code>M</code> 永远执行。</li><li>停机：程序 <code>M</code> 停止。</li></ul><p>我们可以用规约的项来刻画发散和停机：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (M —↠ ƛ N)</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>M —↠ ƛ N</code> 。</li></ul><p>我们也可以用指称来刻画发散和停机：</p><ul><li>发散：对于任意 <code>v</code> 和 <code>w</code>，有 <code>¬ (∅ ⊢ M ↓ v ↦ w)</code>。</li><li>停机：对于某个 <code>v</code> 和 <code>w</code>，有 <code>∅ ⊢ M ↓ v ↦ w</code>。</li></ul><p>此外，我们还可以用指称函数 <code>ℰ</code>：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (ℰ M ≃ ℰ (ƛ N))</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>ℰ M ≃ ℰ (ƛ N)</code>。</li></ul><p>所以问题在于规约语义和指称语义是否等价：</p><pre><code>(∃ N. M —↠ ƛ N)  当且仅当  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>我们将在第二章和第三章中讨论等价的每个方向。在第二章中，我们证明了 λ-抽象的规约蕴含 λ-抽象的指称相等。此性质在文献中被称为<strong>可靠性（Soundness）</strong>。</p><pre><code>M —↠ ƛ N  蕴含  ℰ M ≃ ℰ (ƛ N)</code></pre><p>在第三章中，我们证明了 λ-抽象的指称相等蕴含 λ-抽象的规约。 此性质在文献中被称为<strong>充分性（Adequacy）</strong>。</p><pre><code>ℰ M ≃ ℰ (ƛ N)  蕴含 M —↠ ƛ N′ 对于某个 N′</code></pre><p>第四章应用前三章的结果（组合性、可靠性和充分性）来证明指称相等蕴含一种称为 <strong>语境等价（Contextual Equivalence）</strong>的性质。这个性质很重要， 因为它保证了在证明程序变换（如性能优化）的正确性时使用指称相等的合理性。</p><p>我们会在本章剩下的部分中建立关于指称语义的一些基本结果， 所有这些性质的证明都依赖此。我们先从一些关于重命名的引理开始， 它们与我们在前面的章节中见过的重命名引理非常相似。 我们以关于函数值的小于关系的重要反演引理的证明作为结论。</p><h2 id="重命名保持指称不变">重命名保持指称不变</h2><p>我们将证明重命名变量并更改环境中对应的项仍能保持项的含义。 我们推广了重命名引理，以允许新环境中的值等于或大于原始值， 这种推广有助于证明规约蕴含指称相等。</p><p>和以前一样，我们需要一个扩展引理来处理在 λ-抽象的情况下的证明。假设 <code>ρ</code> 是一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相等或更大值的变量。 这个引理说明了，扩展重命名会产生一个重命名 <code>ext r</code>，它将 <code>γ , v</code> 映射到 <code>δ , v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-29275" href="../Denotational/#plfa_plfa-part3-Denotational-29275" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29281" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29283" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-29285" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29286" href="../Denotational/#plfa_plfa-part3-Denotational-29286" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29288" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-29290" href="../Denotational/#plfa_plfa-part3-Denotational-29290" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29291" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29293" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29294" href="../Denotational/#plfa_plfa-part3-Denotational-29294" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29296" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29298" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29302" href="../Denotational/#plfa_plfa-part3-Denotational-29286" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-29303" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29305" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29306" href="../Denotational/#plfa_plfa-part3-Denotational-29306" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29308" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29310" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29314" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29315" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-29319" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29321" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29322" href="../Denotational/#plfa_plfa-part3-Denotational-29322" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29324" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29326" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-29333" href="../Denotational/#plfa_plfa-part3-Denotational-29286" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29335" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29336" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-29340" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29342" href="../Denotational/#plfa_plfa-part3-Denotational-29294" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29344" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29347" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29348" href="../Denotational/#plfa_plfa-part3-Denotational-29306" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29350" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29352" href="../Denotational/#plfa_plfa-part3-Denotational-29322" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29353" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-29359" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-29392" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29394" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29395" href="../Denotational/#plfa_plfa-part3-Denotational-29294" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29397" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29400" href="../Denotational/#plfa_plfa-part3-Denotational-29290" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29401" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29403" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29406" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-29408" href="../Denotational/#plfa_plfa-part3-Denotational-29306" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29410" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29413" href="../Denotational/#plfa_plfa-part3-Denotational-29290" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29414" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29416" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29418" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-29422" href="../Denotational/#plfa_plfa-part3-Denotational-29322" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29423" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-29425" href="../Denotational/#plfa_plfa-part3-Denotational-29275" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29431" href="../Denotational/#plfa_plfa-part3-Denotational-29431" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29433" href="../Denotational/#plfa_plfa-part3-Denotational-29433" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29436" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-29438" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29440" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-29447" href="../Denotational/#plfa_plfa-part3-Denotational-29275" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29453" href="../Denotational/#plfa_plfa-part3-Denotational-29453" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29455" href="../Denotational/#plfa_plfa-part3-Denotational-29455" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29458" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29459" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-29461" href="../Denotational/#plfa_plfa-part3-Denotational-29461" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-29463" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29465" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29467" href="../Denotational/#plfa_plfa-part3-Denotational-29455" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29470" href="../Denotational/#plfa_plfa-part3-Denotational-29461" class="Bound">n′</a>
</pre><p>我们对 de Bruijn 索引 <code>n</code> 分情况来证明：</p><ul><li><p>若索引为 <code>Z</code>，那么我们只需证明 <code>v ⊑ v</code>，它根据 <code>⊑-refl</code> 成立。</p></li><li><p>若索引为 <code>S n′</code>，则目标简化为 <code>γ n′ ⊑ δ (ρ n′)</code>，它是前提的一个实例。</p></li></ul><p>现在是重命名引理的证明。假设我们有一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相同值的变量。若在环境 <code>γ</code> 中 <code>M</code> 求值为 <code>v</code>，则对 <code>M</code> 应用重命名会生成一个程序，它在环境 <code>δ</code> 中求值会产生相同的值 <code>v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-30287" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30299" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30301" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-30303" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30304" href="../Denotational/#plfa_plfa-part3-Denotational-30304" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30306" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-30308" href="../Denotational/#plfa_plfa-part3-Denotational-30308" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30309" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30311" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30312" href="../Denotational/#plfa_plfa-part3-Denotational-30312" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30314" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30316" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30320" href="../Denotational/#plfa_plfa-part3-Denotational-30304" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-30321" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30323" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30324" href="../Denotational/#plfa_plfa-part3-Denotational-30324" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30326" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30328" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30332" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30333" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30335" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30336" href="../Denotational/#plfa_plfa-part3-Denotational-30336" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30338" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30340" href="../Denotational/#plfa_plfa-part3-Denotational-30304" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30342" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30344" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-30345" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-30349" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30351" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30352" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30354" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30356" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-30363" href="../Denotational/#plfa_plfa-part3-Denotational-30304" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30365" href="../Denotational/#plfa_plfa-part3-Denotational-30306" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30366" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30370" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30372" href="../Denotational/#plfa_plfa-part3-Denotational-30312" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30374" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-30377" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30378" href="../Denotational/#plfa_plfa-part3-Denotational-30324" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30380" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-30382" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30383" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30389" href="../Denotational/#plfa_plfa-part3-Denotational-30312" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30391" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30393" href="../Denotational/#plfa_plfa-part3-Denotational-30336" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30395" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30397" href="../Denotational/#plfa_plfa-part3-Denotational-30308" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-30403" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-30427" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30429" href="../Denotational/#plfa_plfa-part3-Denotational-30324" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30431" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30433" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30434" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-30441" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30443" href="../Denotational/#plfa_plfa-part3-Denotational-30336" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-30444" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30446" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30448" href="../Denotational/#plfa_plfa-part3-Denotational-30308" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30450" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30462" href="../Denotational/#plfa_plfa-part3-Denotational-30462" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30464" href="../Denotational/#plfa_plfa-part3-Denotational-30464" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30467" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30468" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30472" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30473" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-30475" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30477" href="../Denotational/#plfa_plfa-part3-Denotational-30477" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30478" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-30481" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30483" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30487" href="../Denotational/#plfa_plfa-part3-Denotational-11480" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30491" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30492" href="../Denotational/#plfa_plfa-part3-Denotational-30464" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30495" href="../Denotational/#plfa_plfa-part3-Denotational-30477" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30496" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30498" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30510" href="../Denotational/#plfa_plfa-part3-Denotational-30510" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30512" href="../Denotational/#plfa_plfa-part3-Denotational-30512" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30515" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30516" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30523" href="../Denotational/#plfa_plfa-part3-Denotational-30523" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30525" href="../Denotational/#plfa_plfa-part3-Denotational-30525" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30527" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30529" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30534" href="../Denotational/#plfa_plfa-part3-Denotational-11555" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30541" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30542" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30554" href="../Denotational/#plfa_plfa-part3-Denotational-30510" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30556" href="../Denotational/#plfa_plfa-part3-Denotational-30512" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30559" href="../Denotational/#plfa_plfa-part3-Denotational-30523" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30560" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30562" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30563" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30575" href="../Denotational/#plfa_plfa-part3-Denotational-30510" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30577" href="../Denotational/#plfa_plfa-part3-Denotational-30512" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30580" href="../Denotational/#plfa_plfa-part3-Denotational-30525" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30582" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30584" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30596" href="../Denotational/#plfa_plfa-part3-Denotational-30596" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30598" href="../Denotational/#plfa_plfa-part3-Denotational-30598" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30601" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30602" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30610" href="../Denotational/#plfa_plfa-part3-Denotational-30610" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30611" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30613" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30618" href="../Denotational/#plfa_plfa-part3-Denotational-11677" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30626" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30627" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30639" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30640" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-30644" href="../Denotational/#plfa_plfa-part3-Denotational-30596" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30645" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30647" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30648" href="../Denotational/#plfa_plfa-part3-Denotational-29275" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-30654" href="../Denotational/#plfa_plfa-part3-Denotational-30596" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30656" href="../Denotational/#plfa_plfa-part3-Denotational-30598" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-30658" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30660" href="../Denotational/#plfa_plfa-part3-Denotational-30610" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30661" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30663" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30675" href="../Denotational/#plfa_plfa-part3-Denotational-30675" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30677" href="../Denotational/#plfa_plfa-part3-Denotational-30677" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30680" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-30688" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30690" href="../Denotational/#plfa_plfa-part3-Denotational-11789" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-30698" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30710" href="../Denotational/#plfa_plfa-part3-Denotational-30710" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30712" href="../Denotational/#plfa_plfa-part3-Denotational-30712" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30715" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30716" href="../Denotational/#plfa_plfa-part3-Denotational-11856" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30724" href="../Denotational/#plfa_plfa-part3-Denotational-30724" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30726" href="../Denotational/#plfa_plfa-part3-Denotational-30726" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30728" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30730" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30735" href="../Denotational/#plfa_plfa-part3-Denotational-11856" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30743" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30744" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30756" href="../Denotational/#plfa_plfa-part3-Denotational-30710" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30758" href="../Denotational/#plfa_plfa-part3-Denotational-30712" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30761" href="../Denotational/#plfa_plfa-part3-Denotational-30724" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30762" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30764" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30765" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30777" href="../Denotational/#plfa_plfa-part3-Denotational-30710" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30779" href="../Denotational/#plfa_plfa-part3-Denotational-30712" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30782" href="../Denotational/#plfa_plfa-part3-Denotational-30726" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30784" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30786" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30798" href="../Denotational/#plfa_plfa-part3-Denotational-30798" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30800" href="../Denotational/#plfa_plfa-part3-Denotational-30800" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30803" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30804" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30808" href="../Denotational/#plfa_plfa-part3-Denotational-30808" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30810" href="../Denotational/#plfa_plfa-part3-Denotational-30810" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-30813" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30815" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30820" href="../Denotational/#plfa_plfa-part3-Denotational-11971" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30824" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30825" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30837" href="../Denotational/#plfa_plfa-part3-Denotational-30798" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30839" href="../Denotational/#plfa_plfa-part3-Denotational-30800" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30842" href="../Denotational/#plfa_plfa-part3-Denotational-30808" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30843" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30845" href="../Denotational/#plfa_plfa-part3-Denotational-30810" class="Bound">lt′</a>
</pre><p>证明通过对 <code>M</code> 的语义进行归纳而得出。如你所见，除了变量和 λ-的情况外，其他情况都很简单。</p><ul><li><p>对于 <code>x</code>，我们根据前提来证明 <code>γ x ⊑ δ (ρ x)</code>。</p></li><li><p>对于 λ-抽象，归纳假设需要我们扩展重命名。我们扩展了它并使用 <code>ext-⊑</code> 引理来证明，扩展重命名会将变量映射到具有等价的值的变量。</p></li></ul><h2 id="环境增强与恒等重命名">环境增强与恒等重命名</h2><p>我们还需要一个重命名引理的推论，即用更大（或更强）的环境替换当前环境， 并不会改变项 <code>M</code> 是否产生特定的值 <code>v</code>。具体来说，即若 <code>γ ⊢ M ↓ v</code> 且 <code>γ ⊑ δ</code>，则 <code>δ ⊢ M ↓ v</code>。那么这和重命名有何关联呢？ 它其实就是用恒等函数来重命名。我们以恒等重命名来应用重命名引理， 会得到 <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>，之后应用 <code>rename-id</code> 引理就会得到 <code>δ ⊢ M ↓ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-32288" href="../Denotational/#plfa_plfa-part3-Denotational-32288" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32294" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32296" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32298" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32299" href="../Denotational/#plfa_plfa-part3-Denotational-32299" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32300" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32302" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32303" href="../Denotational/#plfa_plfa-part3-Denotational-32303" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32305" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32307" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32311" href="../Denotational/#plfa_plfa-part3-Denotational-32299" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32312" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32314" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32315" href="../Denotational/#plfa_plfa-part3-Denotational-32315" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32317" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32319" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32323" href="../Denotational/#plfa_plfa-part3-Denotational-32299" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32324" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32326" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32327" href="../Denotational/#plfa_plfa-part3-Denotational-32327" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32329" href="../Denotational/#plfa_plfa-part3-Denotational-32329" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32330" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32334" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32336" href="../Denotational/#plfa_plfa-part3-Denotational-32303" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32338" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32340" href="../Denotational/#plfa_plfa-part3-Denotational-32327" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32342" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32344" href="../Denotational/#plfa_plfa-part3-Denotational-32329" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32348" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32350" href="../Denotational/#plfa_plfa-part3-Denotational-32303" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32352" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-32315" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-32361" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-32374" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32376" href="../Denotational/#plfa_plfa-part3-Denotational-32315" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32378" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32380" href="../Denotational/#plfa_plfa-part3-Denotational-32327" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32382" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32384" href="../Denotational/#plfa_plfa-part3-Denotational-32329" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32386" href="../Denotational/#plfa_plfa-part3-Denotational-32288" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-32391" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32392" href="../Denotational/#plfa_plfa-part3-Denotational-32392" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32393" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32395" href="../Denotational/#plfa_plfa-part3-Denotational-32395" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32396" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32398" href="../Denotational/#plfa_plfa-part3-Denotational-32398" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32399" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32401" href="../Denotational/#plfa_plfa-part3-Denotational-32401" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32402" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32404" href="../Denotational/#plfa_plfa-part3-Denotational-32404" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32405" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32407" href="../Denotational/#plfa_plfa-part3-Denotational-32407" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32409" href="../Denotational/#plfa_plfa-part3-Denotational-32409" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-32418" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32423" href="../Denotational/#plfa_plfa-part3-Denotational-30287" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-32434" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32435" href="../Denotational/#plfa_plfa-part3-Denotational-32392" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32436" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32438" href="../Denotational/#plfa_plfa-part3-Denotational-32392" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32439" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32441" href="../Denotational/#plfa_plfa-part3-Denotational-32404" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32442" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32444" href="../Denotational/#plfa_plfa-part3-Denotational-32395" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32445" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32447" href="../Denotational/#plfa_plfa-part3-Denotational-32398" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32448" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32450" href="../Denotational/#plfa_plfa-part3-Denotational-32401" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32451" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32453" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32456" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32457" href="../Denotational/#plfa_plfa-part3-Denotational-32457" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-32458" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32460" href="../Denotational/#plfa_plfa-part3-Denotational-32460" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-32462" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32464" href="../Denotational/#plfa_plfa-part3-Denotational-32460" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-32465" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32467" href="../Denotational/#plfa_plfa-part3-Denotational-32409" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32470" href="../Denotational/#plfa_plfa-part3-Denotational-32407" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-32472" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32476" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32478" href="../Denotational/#plfa_plfa-part3-Denotational-32478" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-32488" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-32496" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-32506" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32507" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32508" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32510" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-32511" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32513" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32514" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32516" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-32524" href="../Denotational/#plfa_plfa-part3-Denotational-32478" class="Bound">δ⊢id[M]↓v</a>
</pre><p>在代换反映了指称的证明中，对于 λ-抽象这一情况，我们使用 <code>⊑-env</code> 的一个小变体，其中只有环境中的最后一个元素变大：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-32810" href="../Denotational/#plfa_plfa-part3-Denotational-32810" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32817" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32819" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32821" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32822" href="../Denotational/#plfa_plfa-part3-Denotational-32822" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32823" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32825" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32826" href="../Denotational/#plfa_plfa-part3-Denotational-32826" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32828" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32830" href="../Denotational/#plfa_plfa-part3-Denotational-8702" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32834" href="../Denotational/#plfa_plfa-part3-Denotational-32822" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32835" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32837" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32838" href="../Denotational/#plfa_plfa-part3-Denotational-32838" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32840" href="../Denotational/#plfa_plfa-part3-Denotational-32840" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32842" href="../Denotational/#plfa_plfa-part3-Denotational-32842" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32845" href="../Denotational/#plfa_plfa-part3-Denotational-32845" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32847" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32851" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32853" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32854" href="../Denotational/#plfa_plfa-part3-Denotational-32826" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32856" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32859" href="../Denotational/#plfa_plfa-part3-Denotational-32842" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32861" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32863" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32865" href="../Denotational/#plfa_plfa-part3-Denotational-32838" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32867" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32869" href="../Denotational/#plfa_plfa-part3-Denotational-32840" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32873" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32875" href="../Denotational/#plfa_plfa-part3-Denotational-32842" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32878" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32880" href="../Denotational/#plfa_plfa-part3-Denotational-32845" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-32887" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-32907" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32909" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32910" href="../Denotational/#plfa_plfa-part3-Denotational-32826" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32912" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32915" href="../Denotational/#plfa_plfa-part3-Denotational-32845" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32917" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32919" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32921" href="../Denotational/#plfa_plfa-part3-Denotational-32838" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32923" href="../Denotational/#plfa_plfa-part3-Denotational-11426" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32925" href="../Denotational/#plfa_plfa-part3-Denotational-32840" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32927" href="../Denotational/#plfa_plfa-part3-Denotational-32810" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32934" href="../Denotational/#plfa_plfa-part3-Denotational-32934" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32936" href="../Denotational/#plfa_plfa-part3-Denotational-32936" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32939" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32941" href="../Denotational/#plfa_plfa-part3-Denotational-32288" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32947" href="../Denotational/#plfa_plfa-part3-Denotational-32934" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32949" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32950" href="../Denotational/#plfa_plfa-part3-Denotational-32971" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32957" href="../Denotational/#plfa_plfa-part3-Denotational-32936" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-32959" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-32963" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-32971" href="../Denotational/#plfa_plfa-part3-Denotational-32971" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32978" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32980" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32982" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32983" href="../Denotational/#plfa_plfa-part3-Denotational-32983" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32985" href="../Denotational/#plfa_plfa-part3-Denotational-32985" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32988" href="../Denotational/#plfa_plfa-part3-Denotational-32988" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32990" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32992" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32994" href="../Denotational/#plfa_plfa-part3-Denotational-32985" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32997" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32999" href="../Denotational/#plfa_plfa-part3-Denotational-32988" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-33002" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33004" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33005" href="../Denotational/#plfa_plfa-part3-Denotational-32983" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33007" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33010" href="../Denotational/#plfa_plfa-part3-Denotational-32985" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-33012" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33014" href="../Denotational/#plfa_plfa-part3-Denotational-9668" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-33017" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33018" href="../Denotational/#plfa_plfa-part3-Denotational-32983" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33020" href="../Denotational/#plfa_plfa-part3-Denotational-8890" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33023" href="../Denotational/#plfa_plfa-part3-Denotational-32988" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33025" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33029" href="../Denotational/#plfa_plfa-part3-Denotational-32971" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33036" href="../Denotational/#plfa_plfa-part3-Denotational-33036" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33039" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-33041" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33043" href="../Denotational/#plfa_plfa-part3-Denotational-33036" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-33048" href="../Denotational/#plfa_plfa-part3-Denotational-32971" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33055" href="../Denotational/#plfa_plfa-part3-Denotational-33055" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33058" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33059" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-33061" href="../Denotational/#plfa_plfa-part3-Denotational-33061" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33062" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33064" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33066" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>
</pre><h4 id="练习-denot-church推荐">练习 <code>denot-church</code>（推荐）</h4><p>在路径的表达上，丘奇数比自然数更通用。一条路径由 <code>n</code> 条边和 <code>n + 1</code> 个顶点构成。 我们将顶点逆序存储在长度为 <code>n + 1</code> 的向量中。路径中的边将第 <code>i</code> 个顶点映射到第 <code>i + 1</code> 个顶点。以下函数 <code>D^suc</code>（表示后继（successor）的指称）构造了一个表， 其中的条目是路径上所有的边：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-33734" href="../Denotational/#plfa_plfa-part3-Denotational-33734" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33740" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33742" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33743" href="../Denotational/#plfa_plfa-part3-Denotational-33743" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-33745" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33747" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-33748" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33750" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33752" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-33756" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-33762" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33763" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33767" href="../Denotational/#plfa_plfa-part3-Denotational-33743" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33768" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33770" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33772" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33778" href="../Denotational/#plfa_plfa-part3-Denotational-33734" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33784" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-33789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33790" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-33795" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33797" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-33799" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33801" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33803" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33805" href="../Denotational/#plfa_plfa-part3-Denotational-33734" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33811" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33812" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33816" href="../Denotational/#plfa_plfa-part3-Denotational-33816" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-33817" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33819" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33820" href="../Denotational/#plfa_plfa-part3-Denotational-33820" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-33827" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33829" href="../Denotational/#plfa_plfa-part3-Denotational-33829" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33834" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33836" href="../Denotational/#plfa_plfa-part3-Denotational-33836" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33838" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33840" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-33843" href="../Denotational/#plfa_plfa-part3-Denotational-33829" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33848" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33850" href="../Denotational/#plfa_plfa-part3-Denotational-33820" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-33858" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-33861" href="../Denotational/#plfa_plfa-part3-Denotational-33734" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33867" href="../Denotational/#plfa_plfa-part3-Denotational-33816" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-33869" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33870" href="../Denotational/#plfa_plfa-part3-Denotational-33829" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33875" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33877" href="../Denotational/#plfa_plfa-part3-Denotational-33836" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33879" class="Symbol">)</a>
</pre><p>我们用以下辅助函数来获取非空向量的第一个元素（就我们的目的而言，这种表示方式比 Agda 标准库中的更加方便）。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-34150" href="../Denotational/#plfa_plfa-part3-Denotational-34150" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34159" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34161" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34163" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34165" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34167" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34168" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34170" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34172" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34176" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34182" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34183" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34187" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34188" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34190" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34192" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34198" href="../Denotational/#plfa_plfa-part3-Denotational-34150" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34207" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34208" class="Number">0</a><a id="plfa_plfa-part3-Denotational-34209" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34211" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34212" href="../Denotational/#plfa_plfa-part3-Denotational-34212" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34214" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34216" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-34218" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34220" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34222" href="../Denotational/#plfa_plfa-part3-Denotational-34212" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-34224" href="../Denotational/#plfa_plfa-part3-Denotational-34150" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34233" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34234" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34238" href="../Denotational/#plfa_plfa-part3-Denotational-34238" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34239" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34241" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34242" href="../Denotational/#plfa_plfa-part3-Denotational-34242" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34244" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34246" href="../Denotational/#plfa_plfa-part3-Denotational-34246" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34248" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34250" href="../Denotational/#plfa_plfa-part3-Denotational-34250" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34252" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34254" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34256" href="../Denotational/#plfa_plfa-part3-Denotational-34150" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34265" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34266" href="../Denotational/#plfa_plfa-part3-Denotational-34246" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34268" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34270" href="../Denotational/#plfa_plfa-part3-Denotational-34250" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34272" class="Symbol">)</a>
</pre><p>函数 <code>Dᶜ</code> 计算给定的路径上第 <code>n</code> 个丘奇数的指称。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-34415" href="../Denotational/#plfa_plfa-part3-Denotational-34415" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34418" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34420" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34421" href="../Denotational/#plfa_plfa-part3-Denotational-34421" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34423" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34425" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34426" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34428" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34430" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34434" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34440" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34441" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34445" href="../Denotational/#plfa_plfa-part3-Denotational-34421" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34446" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34448" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34450" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34456" href="../Denotational/#plfa_plfa-part3-Denotational-34415" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34459" href="../Denotational/#plfa_plfa-part3-Denotational-34459" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34461" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34462" href="../Denotational/#plfa_plfa-part3-Denotational-34462" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34467" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34469" href="../Denotational/#plfa_plfa-part3-Denotational-34469" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34471" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34473" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34475" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34476" href="../Denotational/#plfa_plfa-part3-Denotational-33734" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-34482" href="../Denotational/#plfa_plfa-part3-Denotational-34459" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34484" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34485" href="../Denotational/#plfa_plfa-part3-Denotational-34462" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34490" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34492" href="../Denotational/#plfa_plfa-part3-Denotational-34469" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34494" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34497" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34499" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34500" href="../Denotational/#plfa_plfa-part3-Denotational-34150" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34509" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34510" href="../Denotational/#plfa_plfa-part3-Denotational-34462" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34515" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34517" href="../Denotational/#plfa_plfa-part3-Denotational-34469" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34519" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34522" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34524" href="../Denotational/#plfa_plfa-part3-Denotational-34462" class="Bound">a[n]</a>
</pre><ul><li><p><code>0</code> 的丘奇数忽略其第一个参数并返回第二个参数，因此对于只由 <code>a[0]</code> 构成的单例路径，其指称为</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li></ul><ul><li><p><code>suc n</code> 的丘奇数接受两个参数：一个后继函数，其指称由 <code>D^suc</code> 给定， 以及一个路径的起点（向量的最后一个元素）。它返回路径中的第 <code>n + 1</code> 个节点。</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>此练习证明了对于任意路径 <code>ls</code> 邱奇数 <code>n</code> 的含义是 <code>Dᶜ n ls</code>。</p><p>为了便于讨论任意丘奇数，以下 <code>church</code> 函数通过辅助函数 <code>apply-n</code> 来构建第 <code>n</code> 个丘奇数的项：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-35583" href="../Denotational/#plfa_plfa-part3-Denotational-35583" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35591" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35593" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35594" href="../Denotational/#plfa_plfa-part3-Denotational-35594" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35596" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35598" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35599" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35601" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35603" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35605" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35607" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35609" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35611" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35613" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35615" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35617" href="../Denotational/#plfa_plfa-part3-Denotational-35583" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35625" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-35630" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35632" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35634" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-35636" href="../Denotational/#plfa_plfa-part3-Denotational-35583" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35644" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35645" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-35649" href="../Denotational/#plfa_plfa-part3-Denotational-35649" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-35650" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35652" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35654" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35656" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-35658" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-35660" href="../Denotational/#plfa_plfa-part3-Denotational-35583" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35668" href="../Denotational/#plfa_plfa-part3-Denotational-35649" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-35671" href="../Denotational/#plfa_plfa-part3-Denotational-35671" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35678" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35680" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35681" href="../Denotational/#plfa_plfa-part3-Denotational-35681" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35683" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35685" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35686" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35688" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35690" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35692" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35694" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35696" href="../Denotational/#plfa_plfa-part3-Denotational-35671" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35703" href="../Denotational/#plfa_plfa-part3-Denotational-35703" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35705" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35707" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35709" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35711" href="../Denotational/#plfa_plfa-part3-Denotational-35583" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35719" href="../Denotational/#plfa_plfa-part3-Denotational-35703" class="Bound">n</a>
</pre><p>证明以下定理：</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-35868" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="函数小于关系的反演">函数小于关系的反演</h2><p>已知函数 <code>v ↦ w</code> 小于某个值 <code>u</code>，我们可以推断出什么？关于 <code>u</code> 我们可以推断出什么？问题的答案被称为「函数小于」的<strong>反演性（Inversion）</strong>。 这个问题并不容易回答，因为 <code>⊑-dist</code> 规则将左侧的函数与右侧的一对函数联系了起来。 因此，<code>u</code> 可能包含多个与 <code>v ↦ w</code> 相关的一组函数。此外，由于规则 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code>，<code>u</code> 中可能还有别的值（如 <code>⊥</code>）与 <code>v ↦ w</code> 无关。但总的来说， 我们可以推断出 <code>u</code> 包含了一组函数，其中它们的定义域的连接小于 <code>v</code>，而它们的陪域的连接大于 <code>w</code>。</p><p>为了精确陈述并证明这种反演性，我们需要定义「一个值<strong>包含</strong>一组值的含义。 我们还需要定义如何计算它们的定义域和陪域的连接。</p><h3 id="值的成员关系与包含关系">值的成员关系与包含关系</h3><p>前面我们将值视作一个集合，它由条目以及类似并集的连接运算符 <code>v ⊔ w</code> 组成。 函数值 <code>v ↦ w</code> 和底值 <code>⊥</code> 构成了集合的两种元素（在其他语境下，人们可能将 <code>⊥</code> 视作空集，但在这里我们必须将它视为一个元素）。我们用 <code>u ∈ v</code>表示 <code>u</code> 是 <code>v</code> 的一个元素，定义如下：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-37920" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-37926" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-37928" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-37933" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-37937" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37939" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37945" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37947" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37953" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37955" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-37959" href="../Denotational/#plfa_plfa-part3-Denotational-37959" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37961" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37963" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-37965" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37967" href="../Denotational/#plfa_plfa-part3-Denotational-37959" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37969" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-37971" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-37973" href="../Denotational/#plfa_plfa-part3-Denotational-37973" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37975" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37977" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37979" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-37981" href="../Denotational/#plfa_plfa-part3-Denotational-37981" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-37983" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37985" href="../Denotational/#plfa_plfa-part3-Denotational-37973" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37987" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-37989" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37991" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-37993" href="../Denotational/#plfa_plfa-part3-Denotational-37981" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-37995" href="../Denotational/#plfa_plfa-part3-Denotational-37995" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37997" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37999" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38000" href="../Denotational/#plfa_plfa-part3-Denotational-38000" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38002" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38004" href="../Denotational/#plfa_plfa-part3-Denotational-38004" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38005" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38007" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38009" href="../Denotational/#plfa_plfa-part3-Denotational-37995" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38011" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38013" href="../Denotational/#plfa_plfa-part3-Denotational-38000" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38015" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-38017" href="../Denotational/#plfa_plfa-part3-Denotational-37995" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38019" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38021" href="../Denotational/#plfa_plfa-part3-Denotational-38004" class="Bound">w</a>
</pre><p>于是我们可以简单地将一组值表示为一个值。我们用 <code>v ⊆ w</code> 表示 <code>v</code> 的所有元素也都属于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-38234" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-38240" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-38242" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-38247" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-38251" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38253" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38259" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38261" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38267" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38269" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38273" href="../Denotational/#plfa_plfa-part3-Denotational-38273" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38275" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38277" href="../Denotational/#plfa_plfa-part3-Denotational-38277" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38279" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38281" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38283" href="../Denotational/#plfa_plfa-part3-Denotational-38283" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38284" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38286" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38288" href="../Denotational/#plfa_plfa-part3-Denotational-38283" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38290" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38292" href="../Denotational/#plfa_plfa-part3-Denotational-38273" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38294" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38296" href="../Denotational/#plfa_plfa-part3-Denotational-38283" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38298" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38300" href="../Denotational/#plfa_plfa-part3-Denotational-38277" class="Bound">w</a>
</pre><p>值的成员与包含关系的概念和小于关系密切相关， 它们是蕴含了小于关系的更狭义的关系，反之则不然。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-38572" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38576" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38578" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38580" href="../Denotational/#plfa_plfa-part3-Denotational-38580" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38582" href="../Denotational/#plfa_plfa-part3-Denotational-38582" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38584" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38586" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38591" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38597" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38599" href="../Denotational/#plfa_plfa-part3-Denotational-38580" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38601" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38603" href="../Denotational/#plfa_plfa-part3-Denotational-38582" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38611" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38621" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38623" href="../Denotational/#plfa_plfa-part3-Denotational-38580" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38625" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38627" href="../Denotational/#plfa_plfa-part3-Denotational-38582" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38629" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38633" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38634" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-38635" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38636" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38638" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38639" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38640" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38642" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38647" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38649" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38655" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38660" href="../Denotational/#plfa_plfa-part3-Denotational-38660" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38662" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38664" href="../Denotational/#plfa_plfa-part3-Denotational-38664" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38665" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38667" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38668" href="../Denotational/#plfa_plfa-part3-Denotational-38660" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38670" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38672" href="../Denotational/#plfa_plfa-part3-Denotational-38664" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38673" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38675" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38680" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38682" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-38689" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38693" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38694" href="../Denotational/#plfa_plfa-part3-Denotational-38694" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38695" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38697" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38698" href="../Denotational/#plfa_plfa-part3-Denotational-38698" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38700" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38702" href="../Denotational/#plfa_plfa-part3-Denotational-38702" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38703" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38705" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38706" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38711" href="../Denotational/#plfa_plfa-part3-Denotational-38711" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38712" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38714" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38716" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-38726" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38727" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38731" href="../Denotational/#plfa_plfa-part3-Denotational-38711" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38732" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-38734" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38738" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38739" href="../Denotational/#plfa_plfa-part3-Denotational-38739" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38740" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38742" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38743" href="../Denotational/#plfa_plfa-part3-Denotational-38743" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38745" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38747" href="../Denotational/#plfa_plfa-part3-Denotational-38747" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38748" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38750" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38751" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38756" href="../Denotational/#plfa_plfa-part3-Denotational-38756" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38757" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38759" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38761" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-38771" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38772" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38776" href="../Denotational/#plfa_plfa-part3-Denotational-38756" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38777" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-38780" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38784" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38786" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38788" href="../Denotational/#plfa_plfa-part3-Denotational-38788" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38790" href="../Denotational/#plfa_plfa-part3-Denotational-38790" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38792" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38794" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38799" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38805" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38807" href="../Denotational/#plfa_plfa-part3-Denotational-38788" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38809" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38811" href="../Denotational/#plfa_plfa-part3-Denotational-38790" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38819" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38829" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38831" href="../Denotational/#plfa_plfa-part3-Denotational-38788" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38833" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38835" href="../Denotational/#plfa_plfa-part3-Denotational-38790" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38837" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38841" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38842" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38843" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38845" href="../Denotational/#plfa_plfa-part3-Denotational-38845" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38847" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38852" href="../Denotational/#plfa_plfa-part3-Denotational-38845" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38854" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38855" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38856" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38858" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38863" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38867" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38869" href="../Denotational/#plfa_plfa-part3-Denotational-38869" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38871" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38873" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38879" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38883" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38884" href="../Denotational/#plfa_plfa-part3-Denotational-38884" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38886" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38888" href="../Denotational/#plfa_plfa-part3-Denotational-38888" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38890" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38892" href="../Denotational/#plfa_plfa-part3-Denotational-38892" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38894" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38899" href="../Denotational/#plfa_plfa-part3-Denotational-38892" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38901" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38902" href="../Denotational/#plfa_plfa-part3-Denotational-38884" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38904" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38906" href="../Denotational/#plfa_plfa-part3-Denotational-38888" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38908" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38910" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38915" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38919" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38921" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38923" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38925" href="../Denotational/#plfa_plfa-part3-Denotational-38572" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38929" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38931" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38935" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38936" href="../Denotational/#plfa_plfa-part3-Denotational-38936" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38938" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38940" href="../Denotational/#plfa_plfa-part3-Denotational-38940" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38942" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38944" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38946" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38948" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38957" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38958" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38962" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38965" href="../Denotational/#plfa_plfa-part3-Denotational-38965" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38967" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38969" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38971" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38972" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38977" href="../Denotational/#plfa_plfa-part3-Denotational-38965" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38978" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-38982" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38983" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38987" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38990" href="../Denotational/#plfa_plfa-part3-Denotational-38990" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38992" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38994" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38996" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38997" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39002" href="../Denotational/#plfa_plfa-part3-Denotational-38990" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39003" class="Symbol">)))</a>
</pre><p>我们还需要一些值的包含关系的反演原则。如果 <code>u</code> 和 <code>v</code> 的并含于 <code>w</code>， 那么 <code>u</code> 和 <code>v</code> 自然都含于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-39270" href="../Denotational/#plfa_plfa-part3-Denotational-39270" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39277" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39279" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39281" href="../Denotational/#plfa_plfa-part3-Denotational-39281" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39283" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39285" href="../Denotational/#plfa_plfa-part3-Denotational-39285" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39287" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39289" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39294" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-39303" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39305" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39306" href="../Denotational/#plfa_plfa-part3-Denotational-39281" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39308" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39310" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-39311" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39313" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39315" href="../Denotational/#plfa_plfa-part3-Denotational-39285" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-39326" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-39349" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39351" href="../Denotational/#plfa_plfa-part3-Denotational-39281" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39353" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39355" href="../Denotational/#plfa_plfa-part3-Denotational-39285" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-39358" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-39361" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39363" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39365" href="../Denotational/#plfa_plfa-part3-Denotational-39285" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-39367" href="../Denotational/#plfa_plfa-part3-Denotational-39270" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39374" href="../Denotational/#plfa_plfa-part3-Denotational-39374" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39378" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39380" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39382" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39385" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39389" href="../Denotational/#plfa_plfa-part3-Denotational-39374" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39393" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39394" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39399" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39400" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39403" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39405" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39408" href="../Denotational/#plfa_plfa-part3-Denotational-39408" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39410" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39412" href="../Denotational/#plfa_plfa-part3-Denotational-39374" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39416" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39417" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39422" href="../Denotational/#plfa_plfa-part3-Denotational-39408" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39423" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39426" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
</pre><p>在我们的值的表示中，<code>v ↦ w</code> 既是一个元素，又是一个单例集。因此如果 <code>v ↦ w</code> 是 <code>u</code> 的一个子集，那么 <code>v ↦ w</code> 必定是 <code>u</code> 的一个成员。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-39709" href="../Denotational/#plfa_plfa-part3-Denotational-39709" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39714" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39716" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39718" href="../Denotational/#plfa_plfa-part3-Denotational-39718" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39720" href="../Denotational/#plfa_plfa-part3-Denotational-39720" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39722" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39724" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39726" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39731" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-39738" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39740" href="../Denotational/#plfa_plfa-part3-Denotational-39718" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39742" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39744" href="../Denotational/#plfa_plfa-part3-Denotational-39720" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39746" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39748" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-39757" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-39772" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39774" href="../Denotational/#plfa_plfa-part3-Denotational-39718" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39776" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39778" href="../Denotational/#plfa_plfa-part3-Denotational-39720" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39780" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-39782" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-39784" href="../Denotational/#plfa_plfa-part3-Denotational-39709" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39789" href="../Denotational/#plfa_plfa-part3-Denotational-39789" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39794" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39796" href="../Denotational/#plfa_plfa-part3-Denotational-39789" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39801" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h3 id="函数值">函数值</h3><p>为了识别函数的集合，我们定义了以下两个谓词。如果 <code>u</code> 是一个函数值， 即对于某些值 <code>v</code> 和 <code>w</code>，有 <code>u ≡ v ↦ w</code>，我们就记作 <code>Fun u</code>。 如果 <code>v</code> 中的所有元素都是函数，我们就记作 <code>all-funs v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-40231" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-40236" href="../Denotational/#plfa_plfa-part3-Denotational-40236" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40240" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40242" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40248" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40250" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-40254" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-40262" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40266" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40268" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40270" href="../Denotational/#plfa_plfa-part3-Denotational-40270" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40272" href="../Denotational/#plfa_plfa-part3-Denotational-40272" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40274" href="../Denotational/#plfa_plfa-part3-Denotational-40274" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40275" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40277" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40279" href="../Denotational/#plfa_plfa-part3-Denotational-40270" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40281" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-40283" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40284" href="../Denotational/#plfa_plfa-part3-Denotational-40272" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40286" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40288" href="../Denotational/#plfa_plfa-part3-Denotational-40274" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40289" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40291" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40293" href="../Denotational/#plfa_plfa-part3-Denotational-40236" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40297" href="../Denotational/#plfa_plfa-part3-Denotational-40270" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-40300" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40311" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40317" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40319" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-40323" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40332" href="../Denotational/#plfa_plfa-part3-Denotational-40332" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40334" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40336" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40338" href="../Denotational/#plfa_plfa-part3-Denotational-40338" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40339" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40341" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40343" href="../Denotational/#plfa_plfa-part3-Denotational-40338" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40345" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40347" href="../Denotational/#plfa_plfa-part3-Denotational-40332" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40349" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40351" href="../Denotational/#plfa_plfa-part3-Denotational-40236" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40355" href="../Denotational/#plfa_plfa-part3-Denotational-40338" class="Bound">u</a>
</pre><p>值 <code>⊥</code> 不是函数：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-40426" href="../Denotational/#plfa_plfa-part3-Denotational-40426" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40432" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40434" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-40436" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40437" href="../Denotational/#plfa_plfa-part3-Denotational-40236" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40441" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40442" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-40444" href="../Denotational/#plfa_plfa-part3-Denotational-40426" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40450" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40451" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40455" class="Symbol">())</a>
</pre><p>在「值作为集合」的表示中，集合总是包含至少一个元素。即，如果所有的元素都是函数， 那么至少存在一个函数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-40703" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40713" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40715" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40717" href="../Denotational/#plfa_plfa-part3-Denotational-40717" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40718" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-40726" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40728" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40737" href="../Denotational/#plfa_plfa-part3-Denotational-40717" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-40745" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40747" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40750" href="../Denotational/#plfa_plfa-part3-Denotational-40750" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40752" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40754" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40760" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40762" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40765" href="../Denotational/#plfa_plfa-part3-Denotational-40765" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40767" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40769" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40775" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40777" href="../Denotational/#plfa_plfa-part3-Denotational-40750" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40779" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40781" href="../Denotational/#plfa_plfa-part3-Denotational-40765" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40783" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40785" href="../Denotational/#plfa_plfa-part3-Denotational-40717" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-40787" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40797" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40798" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40799" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40801" href="../Denotational/#plfa_plfa-part3-Denotational-40801" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40803" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40808" href="../Denotational/#plfa_plfa-part3-Denotational-40801" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40810" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40811" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40812" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40814" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-40819" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40823" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40825" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40829" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-40832" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40842" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40843" href="../Denotational/#plfa_plfa-part3-Denotational-40843" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40845" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40847" href="../Denotational/#plfa_plfa-part3-Denotational-40847" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40848" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40850" href="../Denotational/#plfa_plfa-part3-Denotational-40850" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40852" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40854" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40856" href="../Denotational/#plfa_plfa-part3-Denotational-40843" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40858" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40860" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40862" href="../Denotational/#plfa_plfa-part3-Denotational-40847" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40864" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40866" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40871" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40873" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40875" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40885" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40886" href="../Denotational/#plfa_plfa-part3-Denotational-40886" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40888" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40890" href="../Denotational/#plfa_plfa-part3-Denotational-40890" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-40892" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40894" href="../Denotational/#plfa_plfa-part3-Denotational-40894" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-40900" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40905" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40915" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40918" href="../Denotational/#plfa_plfa-part3-Denotational-40918" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40920" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40922" href="../Denotational/#plfa_plfa-part3-Denotational-40894" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40924" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40925" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40930" href="../Denotational/#plfa_plfa-part3-Denotational-40918" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40931" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-40934" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40938" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40940" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40942" href="../Denotational/#plfa_plfa-part3-Denotational-40942" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40944" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40946" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40948" href="../Denotational/#plfa_plfa-part3-Denotational-40948" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40950" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40952" href="../Denotational/#plfa_plfa-part3-Denotational-40952" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-40954" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40956" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40958" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40960" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40962" href="../Denotational/#plfa_plfa-part3-Denotational-40942" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40964" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40966" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40968" href="../Denotational/#plfa_plfa-part3-Denotational-40948" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40970" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40972" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40973" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40978" href="../Denotational/#plfa_plfa-part3-Denotational-40952" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-40979" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40981" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40983" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="定义域与陪域">定义域与陪域</h3><p>回到我们一开始的目标上来，即「小于一个函数」的反演法则。我们想要证明 <code>v ↦ w ⊑ u</code> 蕴含「<code>u</code> 包含一个函数值的集合，它们定义域的连接小于 <code>v</code>，陪域的连接大于 <code>w</code>」。</p><p>为此，我们定义了以下 <code>⨆dom</code> 和 <code>⨆cod</code> 函数。给定某个值 <code>u</code>（表示一个条目的集合）， <code>⨆dom u</code> 返回其定义域的连接，<code>⨆cod u</code> 返回其共域的连接。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-41732" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41737" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41739" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41740" href="../Denotational/#plfa_plfa-part3-Denotational-41740" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41742" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41744" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41749" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41751" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41753" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41759" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41764" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41767" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41769" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41771" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41776" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41777" href="../Denotational/#plfa_plfa-part3-Denotational-41777" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41779" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41781" href="../Denotational/#plfa_plfa-part3-Denotational-41781" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41782" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41784" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41786" href="../Denotational/#plfa_plfa-part3-Denotational-41777" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-41788" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41793" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41794" href="../Denotational/#plfa_plfa-part3-Denotational-41794" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41796" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41798" href="../Denotational/#plfa_plfa-part3-Denotational-41798" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41800" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41802" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41804" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41809" href="../Denotational/#plfa_plfa-part3-Denotational-41794" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41811" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41813" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41818" href="../Denotational/#plfa_plfa-part3-Denotational-41798" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-41822" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41827" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41829" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41830" href="../Denotational/#plfa_plfa-part3-Denotational-41830" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41832" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41834" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41839" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41841" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41843" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41849" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41854" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41857" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41859" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41861" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41866" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41867" href="../Denotational/#plfa_plfa-part3-Denotational-41867" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41869" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41871" href="../Denotational/#plfa_plfa-part3-Denotational-41871" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41872" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41874" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41876" href="../Denotational/#plfa_plfa-part3-Denotational-41871" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-41878" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41883" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41884" href="../Denotational/#plfa_plfa-part3-Denotational-41884" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41886" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41888" href="../Denotational/#plfa_plfa-part3-Denotational-41888" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41890" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41892" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41894" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41899" href="../Denotational/#plfa_plfa-part3-Denotational-41884" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41901" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41903" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41908" href="../Denotational/#plfa_plfa-part3-Denotational-41888" class="Bound">u′</a>
</pre><p>对于 <code>⨆dom</code> 和 <code>⨆cod</code> 我们只需要一个性质。给定一个函数的的集合，表示为值 <code>u</code>，和一个条目 <code>v ↦ w ∈ u</code>，我们能够证明 <code>v</code> 包含在定义域 <code>u</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-42217" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42226" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42228" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42230" href="../Denotational/#plfa_plfa-part3-Denotational-42230" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42232" href="../Denotational/#plfa_plfa-part3-Denotational-42232" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42234" href="../Denotational/#plfa_plfa-part3-Denotational-42234" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42236" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42238" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42243" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-42255" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42257" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42266" href="../Denotational/#plfa_plfa-part3-Denotational-42230" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-42269" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-42272" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42273" href="../Denotational/#plfa_plfa-part3-Denotational-42232" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42275" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42277" href="../Denotational/#plfa_plfa-part3-Denotational-42234" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42278" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42280" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42282" href="../Denotational/#plfa_plfa-part3-Denotational-42230" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-42296" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-42329" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42331" href="../Denotational/#plfa_plfa-part3-Denotational-42232" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42333" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42335" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-42340" href="../Denotational/#plfa_plfa-part3-Denotational-42230" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-42342" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42351" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42352" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42353" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42355" href="../Denotational/#plfa_plfa-part3-Denotational-42355" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42358" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-42361" href="../Denotational/#plfa_plfa-part3-Denotational-42361" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42365" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42374" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42375" href="../Denotational/#plfa_plfa-part3-Denotational-42375" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42377" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42379" href="../Denotational/#plfa_plfa-part3-Denotational-42379" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42380" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42382" href="../Denotational/#plfa_plfa-part3-Denotational-42382" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42385" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42390" href="../Denotational/#plfa_plfa-part3-Denotational-42390" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42394" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42396" href="../Denotational/#plfa_plfa-part3-Denotational-42390" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42400" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42409" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42410" href="../Denotational/#plfa_plfa-part3-Denotational-42410" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42412" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42414" href="../Denotational/#plfa_plfa-part3-Denotational-42414" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42416" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42418" href="../Denotational/#plfa_plfa-part3-Denotational-42418" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42421" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42422" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42427" href="../Denotational/#plfa_plfa-part3-Denotational-42427" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-42432" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42434" href="../Denotational/#plfa_plfa-part3-Denotational-42434" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42438" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42443" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42447" href="../Denotational/#plfa_plfa-part3-Denotational-42447" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42450" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42452" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42461" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42464" href="../Denotational/#plfa_plfa-part3-Denotational-42464" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42466" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42468" href="../Denotational/#plfa_plfa-part3-Denotational-42418" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42471" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42472" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42477" href="../Denotational/#plfa_plfa-part3-Denotational-42464" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42478" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42481" href="../Denotational/#plfa_plfa-part3-Denotational-42427" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-42487" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42493" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42498" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42499" href="../Denotational/#plfa_plfa-part3-Denotational-42447" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42502" href="../Denotational/#plfa_plfa-part3-Denotational-42434" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42505" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-42507" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42516" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42517" href="../Denotational/#plfa_plfa-part3-Denotational-42517" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42519" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42521" href="../Denotational/#plfa_plfa-part3-Denotational-42521" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42523" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42525" href="../Denotational/#plfa_plfa-part3-Denotational-42525" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42528" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42529" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42534" href="../Denotational/#plfa_plfa-part3-Denotational-42534" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-42540" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42542" href="../Denotational/#plfa_plfa-part3-Denotational-42542" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42546" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42551" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42555" href="../Denotational/#plfa_plfa-part3-Denotational-42555" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42558" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42560" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42569" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42572" href="../Denotational/#plfa_plfa-part3-Denotational-42572" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42574" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42576" href="../Denotational/#plfa_plfa-part3-Denotational-42525" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42579" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42580" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42585" href="../Denotational/#plfa_plfa-part3-Denotational-42572" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42586" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42589" href="../Denotational/#plfa_plfa-part3-Denotational-42534" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-42596" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42602" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42607" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42608" href="../Denotational/#plfa_plfa-part3-Denotational-42555" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42611" href="../Denotational/#plfa_plfa-part3-Denotational-42542" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42614" class="Symbol">)</a>
</pre><p>对于 <code>⨆cod</code>，假设我们有一个函数集合 <code>u</code>，但它们都只是 <code>v ↦ w</code> 的副本。 那么 <code>⨆cod u</code> 包含在 <code>w</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-42872" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42881" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42883" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42885" href="../Denotational/#plfa_plfa-part3-Denotational-42885" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42887" href="../Denotational/#plfa_plfa-part3-Denotational-42887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42889" href="../Denotational/#plfa_plfa-part3-Denotational-42889" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42891" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42893" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42898" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-42908" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42910" href="../Denotational/#plfa_plfa-part3-Denotational-42885" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42912" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42914" href="../Denotational/#plfa_plfa-part3-Denotational-42887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42916" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42918" href="../Denotational/#plfa_plfa-part3-Denotational-42889" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-42930" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-42948" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42950" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-42955" href="../Denotational/#plfa_plfa-part3-Denotational-42885" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42957" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42959" href="../Denotational/#plfa_plfa-part3-Denotational-42889" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-42961" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42970" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42971" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42972" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42974" href="../Denotational/#plfa_plfa-part3-Denotational-42974" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-42976" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42981" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-42986" href="../Denotational/#plfa_plfa-part3-Denotational-42974" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-42988" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42989" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42990" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42992" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-42997" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43001" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43003" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-43006" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43015" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43016" href="../Denotational/#plfa_plfa-part3-Denotational-43016" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43018" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43020" href="../Denotational/#plfa_plfa-part3-Denotational-43020" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43022" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43024" href="../Denotational/#plfa_plfa-part3-Denotational-43024" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43026" href="../Denotational/#plfa_plfa-part3-Denotational-43026" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43028" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43033" href="../Denotational/#plfa_plfa-part3-Denotational-43024" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43035" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43036" href="../Denotational/#plfa_plfa-part3-Denotational-43016" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43038" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43040" href="../Denotational/#plfa_plfa-part3-Denotational-43020" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43042" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43044" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43049" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43053" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43055" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43060" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43062" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-43064" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43073" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43074" href="../Denotational/#plfa_plfa-part3-Denotational-43074" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43076" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43078" href="../Denotational/#plfa_plfa-part3-Denotational-43078" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43080" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43082" href="../Denotational/#plfa_plfa-part3-Denotational-43082" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43084" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43085" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43090" href="../Denotational/#plfa_plfa-part3-Denotational-43090" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-43091" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43093" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43095" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43104" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43107" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43108" href="../Denotational/#plfa_plfa-part3-Denotational-43108" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43109" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43111" href="../Denotational/#plfa_plfa-part3-Denotational-43111" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43113" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43115" href="../Denotational/#plfa_plfa-part3-Denotational-43082" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43117" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43118" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43123" href="../Denotational/#plfa_plfa-part3-Denotational-43111" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43124" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43127" href="../Denotational/#plfa_plfa-part3-Denotational-43090" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-43129" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43138" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43139" href="../Denotational/#plfa_plfa-part3-Denotational-43139" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43141" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43143" href="../Denotational/#plfa_plfa-part3-Denotational-43143" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43145" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43147" href="../Denotational/#plfa_plfa-part3-Denotational-43147" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43149" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43150" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43155" href="../Denotational/#plfa_plfa-part3-Denotational-43155" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-43156" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43158" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43160" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43169" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43172" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43173" href="../Denotational/#plfa_plfa-part3-Denotational-43173" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43174" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43176" href="../Denotational/#plfa_plfa-part3-Denotational-43176" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43178" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43180" href="../Denotational/#plfa_plfa-part3-Denotational-43147" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43182" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43183" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43188" href="../Denotational/#plfa_plfa-part3-Denotational-43176" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43189" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43192" href="../Denotational/#plfa_plfa-part3-Denotational-43155" class="Bound">y</a>
</pre><p>有了 <code>⨆dom</code> 和 <code>⨆cod</code> 函数，我们就可以精确地得出函数的反演法则， 并将其封装到下面的谓词 <code>factor</code> 中。 如果 <code>u′</code> 包含在 <code>u</code> 中， 我们就说 <code>v ↦ w</code> 将 <code>u</code> <strong>分解（factor）</strong>为 <code>u′</code>，如果 <code>u′</code> 中只包含函数，那么其定义域小于 <code>v</code>，其陪域大于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-43738" href="../Denotational/#plfa_plfa-part3-Denotational-43738" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43745" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43747" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43748" href="../Denotational/#plfa_plfa-part3-Denotational-43748" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43750" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43752" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43757" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43759" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43761" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43762" href="../Denotational/#plfa_plfa-part3-Denotational-43762" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43765" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43767" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43772" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43774" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43776" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43777" href="../Denotational/#plfa_plfa-part3-Denotational-43777" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43779" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43781" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43786" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43788" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43790" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43791" href="../Denotational/#plfa_plfa-part3-Denotational-43791" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43793" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43795" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43800" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43802" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43804" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-43808" href="../Denotational/#plfa_plfa-part3-Denotational-43738" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43815" href="../Denotational/#plfa_plfa-part3-Denotational-43815" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43817" href="../Denotational/#plfa_plfa-part3-Denotational-43817" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43820" href="../Denotational/#plfa_plfa-part3-Denotational-43820" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43822" href="../Denotational/#plfa_plfa-part3-Denotational-43822" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43824" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43826" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43835" href="../Denotational/#plfa_plfa-part3-Denotational-43817" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-43839" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43842" href="../Denotational/#plfa_plfa-part3-Denotational-43817" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43845" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43847" href="../Denotational/#plfa_plfa-part3-Denotational-43815" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-43850" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43853" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-43858" href="../Denotational/#plfa_plfa-part3-Denotational-43817" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43861" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43863" href="../Denotational/#plfa_plfa-part3-Denotational-43820" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-43866" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43869" href="../Denotational/#plfa_plfa-part3-Denotational-43822" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43871" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43873" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43878" href="../Denotational/#plfa_plfa-part3-Denotational-43817" class="Bound">u′</a>
</pre><p>因此函数的反演法则可被陈述为：</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>我们通过在小于关系的推导上归纳证明了函数的反演法则。为了让归纳假设更强， 我们将前提 <code>v ↦ w ⊑ u</code> 推广为 <code>u₁ ⊑ u₂</code> 并加强了结论，即对于<strong>每一个</strong>函数值 <code>v ↦ w ∈ u₁</code>，我们都有 <code>v ↦ w</code> 将 <code>u₂</code> 分解为某个值 <code>u₃</code>。</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="函数小于的反演-trans-的情况">函数小于的反演，<code>⊑-trans</code> 的情况</h3><p>证明的核心在 <code>⊑-trans</code> 的情况：</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们证明了对某个值 <code>u′</code>，有 <code>v ↦ w factors u into u′</code>， 因此我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。 根据归纳假设 <code>u ⊑ u₂</code>，我们证明了对于任意 <code>v′ ↦ w′ ∈ u</code>， <code>v′ ↦ w′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 有了这些事实，我们就能对 <code>u′</code> 进行归纳，证明 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。接下来我们讨论证明的每种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-45590" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45604" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45606" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-45608" href="../Denotational/#plfa_plfa-part3-Denotational-45608" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45611" href="../Denotational/#plfa_plfa-part3-Denotational-45611" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45614" href="../Denotational/#plfa_plfa-part3-Denotational-45614" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45616" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45618" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-45623" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-45629" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45631" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-45640" href="../Denotational/#plfa_plfa-part3-Denotational-45608" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-45644" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-45647" href="../Denotational/#plfa_plfa-part3-Denotational-45608" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45650" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-45652" href="../Denotational/#plfa_plfa-part3-Denotational-45614" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-45658" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45660" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-45663" href="../Denotational/#plfa_plfa-part3-Denotational-45663" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45666" href="../Denotational/#plfa_plfa-part3-Denotational-45666" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45668" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45670" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45672" href="../Denotational/#plfa_plfa-part3-Denotational-45663" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45675" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45677" href="../Denotational/#plfa_plfa-part3-Denotational-45666" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-45680" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-45682" href="../Denotational/#plfa_plfa-part3-Denotational-45614" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45684" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45686" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45689" href="../Denotational/#plfa_plfa-part3-Denotational-45689" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45692" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45694" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45700" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45702" href="../Denotational/#plfa_plfa-part3-Denotational-43738" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45709" href="../Denotational/#plfa_plfa-part3-Denotational-45611" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45712" href="../Denotational/#plfa_plfa-part3-Denotational-45689" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45715" href="../Denotational/#plfa_plfa-part3-Denotational-45663" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45718" href="../Denotational/#plfa_plfa-part3-Denotational-45666" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45720" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-45728" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-45796" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45798" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45801" href="../Denotational/#plfa_plfa-part3-Denotational-45801" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45804" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45806" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45812" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45814" href="../Denotational/#plfa_plfa-part3-Denotational-43738" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45821" href="../Denotational/#plfa_plfa-part3-Denotational-45611" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45824" href="../Denotational/#plfa_plfa-part3-Denotational-45801" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45827" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45828" href="../Denotational/#plfa_plfa-part3-Denotational-41732" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-45833" href="../Denotational/#plfa_plfa-part3-Denotational-45608" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45835" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45837" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45838" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-45843" href="../Denotational/#plfa_plfa-part3-Denotational-45608" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45845" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45847" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45861" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45862" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-45863" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45865" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45866" href="../Denotational/#plfa_plfa-part3-Denotational-45866" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45868" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45870" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45871" href="../Denotational/#plfa_plfa-part3-Denotational-45871" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45872" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45874" href="../Denotational/#plfa_plfa-part3-Denotational-45874" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45878" href="../Denotational/#plfa_plfa-part3-Denotational-45878" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45883" href="../Denotational/#plfa_plfa-part3-Denotational-45883" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45886" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-45891" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-45905" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45906" href="../Denotational/#plfa_plfa-part3-Denotational-45874" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45910" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-45914" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45916" href="../Denotational/#plfa_plfa-part3-Denotational-40426" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-45922" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45936" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45937" href="../Denotational/#plfa_plfa-part3-Denotational-45937" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45941" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45943" href="../Denotational/#plfa_plfa-part3-Denotational-45943" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-45946" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45948" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45949" href="../Denotational/#plfa_plfa-part3-Denotational-45949" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45951" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45953" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45954" href="../Denotational/#plfa_plfa-part3-Denotational-45954" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45955" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45957" href="../Denotational/#plfa_plfa-part3-Denotational-45957" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-45960" href="../Denotational/#plfa_plfa-part3-Denotational-45960" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45965" href="../Denotational/#plfa_plfa-part3-Denotational-45965" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45968" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-45970" href="../Denotational/#plfa_plfa-part3-Denotational-45965" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45973" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45974" href="../Denotational/#plfa_plfa-part3-Denotational-39709" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-45979" href="../Denotational/#plfa_plfa-part3-Denotational-45960" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-45983" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45985" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45999" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46000" href="../Denotational/#plfa_plfa-part3-Denotational-46000" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-46004" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46006" href="../Denotational/#plfa_plfa-part3-Denotational-46006" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46009" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46011" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46012" href="../Denotational/#plfa_plfa-part3-Denotational-46012" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46014" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46016" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46017" href="../Denotational/#plfa_plfa-part3-Denotational-46017" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46018" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46020" href="../Denotational/#plfa_plfa-part3-Denotational-46020" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46023" href="../Denotational/#plfa_plfa-part3-Denotational-46023" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46028" href="../Denotational/#plfa_plfa-part3-Denotational-46028" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-46035" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46040" href="../Denotational/#plfa_plfa-part3-Denotational-39270" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-46047" href="../Denotational/#plfa_plfa-part3-Denotational-46023" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-46052" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46056" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46058" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46060" href="../Denotational/#plfa_plfa-part3-Denotational-46060" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46066" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46068" href="../Denotational/#plfa_plfa-part3-Denotational-46068" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46074" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46080" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46085" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46099" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46100" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-46103" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46105" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46106" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46108" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46110" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46111" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46112" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46114" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46117" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46118" href="../Denotational/#plfa_plfa-part3-Denotational-46118" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46120" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46122" href="../Denotational/#plfa_plfa-part3-Denotational-46122" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46124" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46126" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46129" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46130" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46135" href="../Denotational/#plfa_plfa-part3-Denotational-46122" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46136" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46139" href="../Denotational/#plfa_plfa-part3-Denotational-46060" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46145" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-46155" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46157" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46171" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46172" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46175" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46177" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46178" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46180" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46182" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46183" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46184" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46186" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46189" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46190" href="../Denotational/#plfa_plfa-part3-Denotational-46190" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46192" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46194" href="../Denotational/#plfa_plfa-part3-Denotational-46194" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46196" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46198" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46201" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46202" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46207" href="../Denotational/#plfa_plfa-part3-Denotational-46194" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46208" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46211" href="../Denotational/#plfa_plfa-part3-Denotational-46068" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46217" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-46220" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46224" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46226" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46228" href="../Denotational/#plfa_plfa-part3-Denotational-46228" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46232" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46234" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46236" href="../Denotational/#plfa_plfa-part3-Denotational-46236" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46242" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46244" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46246" href="../Denotational/#plfa_plfa-part3-Denotational-46246" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46253" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46255" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46257" href="../Denotational/#plfa_plfa-part3-Denotational-46257" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46267" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46269" href="../Denotational/#plfa_plfa-part3-Denotational-46269" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46279" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46281" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46283" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46285" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46291" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46293" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46295" href="../Denotational/#plfa_plfa-part3-Denotational-46295" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46299" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46301" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46303" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46309" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46311" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46313" href="../Denotational/#plfa_plfa-part3-Denotational-46313" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46320" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46322" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46324" href="../Denotational/#plfa_plfa-part3-Denotational-46324" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46334" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46336" href="../Denotational/#plfa_plfa-part3-Denotational-46336" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46346" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46348" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46350" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46352" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46354" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-46362" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46364" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46365" href="../Denotational/#plfa_plfa-part3-Denotational-46228" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46369" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46371" href="../Denotational/#plfa_plfa-part3-Denotational-46295" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-46374" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46376" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46378" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46380" href="../Denotational/#plfa_plfa-part3-Denotational-46482" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46385" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46387" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46389" href="../Denotational/#plfa_plfa-part3-Denotational-46621" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46396" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-46404" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46406" href="../Denotational/#plfa_plfa-part3-Denotational-7115" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46410" href="../Denotational/#plfa_plfa-part3-Denotational-46257" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46420" href="../Denotational/#plfa_plfa-part3-Denotational-46324" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46430" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-46440" href="../Denotational/#plfa_plfa-part3-Denotational-7115" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46444" href="../Denotational/#plfa_plfa-part3-Denotational-46269" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46454" href="../Denotational/#plfa_plfa-part3-Denotational-46336" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46464" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46466" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46468" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46470" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46476" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-46482" href="../Denotational/#plfa_plfa-part3-Denotational-46482" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46487" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46489" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46490" href="../Denotational/#plfa_plfa-part3-Denotational-46490" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46493" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46495" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46500" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46502" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46504" href="../Denotational/#plfa_plfa-part3-Denotational-46490" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46507" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46509" href="../Denotational/#plfa_plfa-part3-Denotational-46228" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46513" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46515" href="../Denotational/#plfa_plfa-part3-Denotational-46490" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46518" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46520" href="../Denotational/#plfa_plfa-part3-Denotational-46295" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46524" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46526" href="../Denotational/#plfa_plfa-part3-Denotational-40236" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-46530" href="../Denotational/#plfa_plfa-part3-Denotational-46490" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-46543" href="../Denotational/#plfa_plfa-part3-Denotational-46482" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46548" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46549" href="../Denotational/#plfa_plfa-part3-Denotational-46549" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46551" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46553" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46554" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46559" href="../Denotational/#plfa_plfa-part3-Denotational-46559" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46560" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46562" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46564" href="../Denotational/#plfa_plfa-part3-Denotational-46236" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46570" href="../Denotational/#plfa_plfa-part3-Denotational-46559" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46582" href="../Denotational/#plfa_plfa-part3-Denotational-46482" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46587" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46588" href="../Denotational/#plfa_plfa-part3-Denotational-46588" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46590" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46592" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46593" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46598" href="../Denotational/#plfa_plfa-part3-Denotational-46598" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46599" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46601" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46603" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46609" href="../Denotational/#plfa_plfa-part3-Denotational-46598" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-46621" href="../Denotational/#plfa_plfa-part3-Denotational-46621" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46628" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46630" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46631" href="../Denotational/#plfa_plfa-part3-Denotational-46631" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46633" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46635" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46640" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46642" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46644" href="../Denotational/#plfa_plfa-part3-Denotational-46631" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46646" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46648" href="../Denotational/#plfa_plfa-part3-Denotational-46228" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46652" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46654" href="../Denotational/#plfa_plfa-part3-Denotational-46631" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46656" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46658" href="../Denotational/#plfa_plfa-part3-Denotational-46295" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46662" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46664" href="../Denotational/#plfa_plfa-part3-Denotational-46631" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46666" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46668" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-46681" href="../Denotational/#plfa_plfa-part3-Denotational-46621" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46688" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46689" href="../Denotational/#plfa_plfa-part3-Denotational-46689" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46690" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46692" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46693" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46698" href="../Denotational/#plfa_plfa-part3-Denotational-46698" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46699" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46701" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46703" href="../Denotational/#plfa_plfa-part3-Denotational-46246" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46710" href="../Denotational/#plfa_plfa-part3-Denotational-46698" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46722" href="../Denotational/#plfa_plfa-part3-Denotational-46621" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46729" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46730" href="../Denotational/#plfa_plfa-part3-Denotational-46730" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46731" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46733" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46734" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46739" href="../Denotational/#plfa_plfa-part3-Denotational-46739" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46740" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46742" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46744" href="../Denotational/#plfa_plfa-part3-Denotational-46313" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46751" href="../Denotational/#plfa_plfa-part3-Denotational-46739" class="Bound">y</a>
</pre><ul><li>假设 <code>u′ ≡ ⊥</code>，那么我们可导出矛盾，因为它不满足 <code>Fun ⊥</code> 的情况。</li></ul><ul><li>假设 <code>u′ ≡ u₁′ ↦ u₂′</code>，那么 <code>u₁′ ↦ u₂′ ∈ u</code>，且我们可以应用前提 （归纳假设 <code>u ⊑ u₂</code>）来得到 <code>u₁′ ↦ u₂′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 此情况是完整的，因为 <code>⨆dom u′ ≡ u₁′</code> 且 <code>⨆cod u′ ≡ u₂′</code>。</li></ul><ul><li><p>假设 <code>u′ ≡ u₁′ ⊔ u₂′</code>，那么 <code>u₁′ ⊆ u</code> 且 <code>u₂′ ⊆ u</code>。我们同样有 <code>all-funs u₁′</code> 且 <code>all-funs u₂′</code>，于是我们可以对 <code>u₁′</code> 和 <code>u₂′</code> 应用归纳假设。因此存在值 <code>u₃₁</code> 和 <code>u₃₂</code> 使得 <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> 将 <code>u</code> 分解为 <code>u₃₁</code>，以及 <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> 将 <code>u</code> 分解为 <code>u₃₂</code>。 我们要证明 <code>(⨆dom u) ↦ (⨆cod u)</code> 将 <code>u</code> 分解为 <code>u₃₁ ⊔ u₃₂</code>，因此我们需要证明</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre></li></ul><p>然而二者可直接根据 <code>⊔</code> 对于 <code>⊑</code> 的单调性，从 <code>u</code> 分解为 <code>u₃₁</code> 和 <code>u₃₂</code> 得到。</p><h3 id="函数小于的反演">函数小于的反演</h3><p>我们来证明有关函数小于的反演的主要引理。我们要证明若 <code>u₁ ⊑ u₂</code>， 则对于任何 <code>v ↦ w ∈ u₁</code>，都可以根据 <code>v ↦ w</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们对 <code>u₁ ⊑ u₂</code> 的推导进行归纳，并在 Agda 证明过程后面描述证明中的每一种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-48871" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-48879" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48881" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48883" href="../Denotational/#plfa_plfa-part3-Denotational-48883" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48886" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-48889" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48891" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-48896" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-48906" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48908" href="../Denotational/#plfa_plfa-part3-Denotational-48883" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48911" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-48913" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-48924" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48926" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48928" href="../Denotational/#plfa_plfa-part3-Denotational-48928" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48930" href="../Denotational/#plfa_plfa-part3-Denotational-48930" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-48931" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-48933" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48935" href="../Denotational/#plfa_plfa-part3-Denotational-48928" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48937" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-48939" href="../Denotational/#plfa_plfa-part3-Denotational-48930" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-48941" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-48943" href="../Denotational/#plfa_plfa-part3-Denotational-48883" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-48956" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-49002" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49004" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-49007" href="../Denotational/#plfa_plfa-part3-Denotational-49007" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49010" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-49012" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-49018" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-49020" href="../Denotational/#plfa_plfa-part3-Denotational-43738" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-49027" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-49030" href="../Denotational/#plfa_plfa-part3-Denotational-49007" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49033" href="../Denotational/#plfa_plfa-part3-Denotational-48928" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-49035" href="../Denotational/#plfa_plfa-part3-Denotational-48930" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-49037" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49045" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49046" href="../Denotational/#plfa_plfa-part3-Denotational-4949" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-49047" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49049" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49050" href="../Denotational/#plfa_plfa-part3-Denotational-49050" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49052" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49054" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-49060" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49061" href="../Denotational/#plfa_plfa-part3-Denotational-49061" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49062" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49064" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49065" href="../Denotational/#plfa_plfa-part3-Denotational-49065" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49066" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49068" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-49071" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49079" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49080" href="../Denotational/#plfa_plfa-part3-Denotational-49080" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49084" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49086" href="../Denotational/#plfa_plfa-part3-Denotational-49086" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49089" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49091" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49092" href="../Denotational/#plfa_plfa-part3-Denotational-49092" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49094" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49096" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49097" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49106" href="../Denotational/#plfa_plfa-part3-Denotational-49106" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49110" href="../Denotational/#plfa_plfa-part3-Denotational-49110" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49113" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49115" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49116" href="../Denotational/#plfa_plfa-part3-Denotational-49116" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49117" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49119" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49120" href="../Denotational/#plfa_plfa-part3-Denotational-49120" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49121" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49123" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49124" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49129" href="../Denotational/#plfa_plfa-part3-Denotational-49129" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-49130" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49132" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49134" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49142" href="../Denotational/#plfa_plfa-part3-Denotational-49106" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49146" href="../Denotational/#plfa_plfa-part3-Denotational-49129" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-49148" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49156" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49157" href="../Denotational/#plfa_plfa-part3-Denotational-49157" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49161" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49163" href="../Denotational/#plfa_plfa-part3-Denotational-49163" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49168" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49169" href="../Denotational/#plfa_plfa-part3-Denotational-49169" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49171" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49173" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49174" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49183" href="../Denotational/#plfa_plfa-part3-Denotational-49183" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49187" href="../Denotational/#plfa_plfa-part3-Denotational-49187" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49190" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49192" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49193" href="../Denotational/#plfa_plfa-part3-Denotational-49193" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49194" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49196" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49197" href="../Denotational/#plfa_plfa-part3-Denotational-49197" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49198" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49200" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49201" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49206" href="../Denotational/#plfa_plfa-part3-Denotational-49206" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-49207" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49209" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49211" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49219" href="../Denotational/#plfa_plfa-part3-Denotational-49187" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-49223" href="../Denotational/#plfa_plfa-part3-Denotational-49206" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-49225" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49232" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49233" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49234" href="../Denotational/#plfa_plfa-part3-Denotational-49234" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49236" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49237" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49238" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49239" href="../Denotational/#plfa_plfa-part3-Denotational-49239" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49242" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49243" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49244" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49245" href="../Denotational/#plfa_plfa-part3-Denotational-49245" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49248" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49249" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49250" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49251" href="../Denotational/#plfa_plfa-part3-Denotational-5540" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-49260" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49261" href="../Denotational/#plfa_plfa-part3-Denotational-49261" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49263" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49264" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49265" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49266" href="../Denotational/#plfa_plfa-part3-Denotational-49266" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49267" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49268" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49269" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49270" href="../Denotational/#plfa_plfa-part3-Denotational-49270" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49271" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49272" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49273" href="../Denotational/#plfa_plfa-part3-Denotational-49273" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49279" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49284" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49292" href="../Denotational/#plfa_plfa-part3-Denotational-49261" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49295" href="../Denotational/#plfa_plfa-part3-Denotational-49273" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49297" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49301" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49303" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49305" href="../Denotational/#plfa_plfa-part3-Denotational-49305" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49309" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49311" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49313" href="../Denotational/#plfa_plfa-part3-Denotational-49313" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49318" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49320" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49322" href="../Denotational/#plfa_plfa-part3-Denotational-49322" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49330" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49332" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49334" href="../Denotational/#plfa_plfa-part3-Denotational-49334" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49343" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49345" href="../Denotational/#plfa_plfa-part3-Denotational-49345" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49354" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49356" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49358" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49360" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49362" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49370" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49372" href="../Denotational/#plfa_plfa-part3-Denotational-49305" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49376" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49378" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49380" href="../Denotational/#plfa_plfa-part3-Denotational-49313" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49385" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49387" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49389" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49392" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49393" href="../Denotational/#plfa_plfa-part3-Denotational-49393" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49394" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49396" href="../Denotational/#plfa_plfa-part3-Denotational-49396" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49398" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49400" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49405" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49406" href="../Denotational/#plfa_plfa-part3-Denotational-49322" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49414" href="../Denotational/#plfa_plfa-part3-Denotational-49396" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49415" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49418" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49455" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49457" href="../Denotational/#plfa_plfa-part3-Denotational-49334" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49466" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49468" href="../Denotational/#plfa_plfa-part3-Denotational-49345" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49477" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49479" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49481" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49483" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49485" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49492" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49493" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49494" href="../Denotational/#plfa_plfa-part3-Denotational-49494" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49496" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49497" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49498" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49499" href="../Denotational/#plfa_plfa-part3-Denotational-49499" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49502" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49503" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49504" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49505" href="../Denotational/#plfa_plfa-part3-Denotational-49505" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49508" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49509" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49510" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49511" href="../Denotational/#plfa_plfa-part3-Denotational-5613" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-49520" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49521" href="../Denotational/#plfa_plfa-part3-Denotational-49521" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49523" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49524" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49525" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49526" href="../Denotational/#plfa_plfa-part3-Denotational-49526" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49527" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49528" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49529" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49530" href="../Denotational/#plfa_plfa-part3-Denotational-49530" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49531" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49532" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49533" href="../Denotational/#plfa_plfa-part3-Denotational-49533" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49539" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49544" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49552" href="../Denotational/#plfa_plfa-part3-Denotational-49521" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49555" href="../Denotational/#plfa_plfa-part3-Denotational-49533" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49557" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49561" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49563" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49565" href="../Denotational/#plfa_plfa-part3-Denotational-49565" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49569" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49571" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49573" href="../Denotational/#plfa_plfa-part3-Denotational-49573" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49578" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49580" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49582" href="../Denotational/#plfa_plfa-part3-Denotational-49582" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49590" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49592" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49594" href="../Denotational/#plfa_plfa-part3-Denotational-49594" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49603" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49605" href="../Denotational/#plfa_plfa-part3-Denotational-49605" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49614" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49616" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49618" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49620" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49622" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49630" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49632" href="../Denotational/#plfa_plfa-part3-Denotational-49565" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49636" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49638" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49640" href="../Denotational/#plfa_plfa-part3-Denotational-49573" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49645" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49647" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49649" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49652" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49653" href="../Denotational/#plfa_plfa-part3-Denotational-49653" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-49654" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49656" href="../Denotational/#plfa_plfa-part3-Denotational-49656" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49658" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49660" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49665" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49666" href="../Denotational/#plfa_plfa-part3-Denotational-49582" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49674" href="../Denotational/#plfa_plfa-part3-Denotational-49656" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49675" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49678" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49715" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49717" href="../Denotational/#plfa_plfa-part3-Denotational-49594" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49726" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49728" href="../Denotational/#plfa_plfa-part3-Denotational-49605" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49737" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49739" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49741" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49743" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49745" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49752" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49753" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49754" href="../Denotational/#plfa_plfa-part3-Denotational-49754" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49756" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49757" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49758" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49759" href="../Denotational/#plfa_plfa-part3-Denotational-49759" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49761" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49762" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49763" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49764" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-49771" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49772" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-49773" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49774" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-49775" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49776" href="../Denotational/#plfa_plfa-part3-Denotational-49776" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-49777" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49778" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49779" href="../Denotational/#plfa_plfa-part3-Denotational-49779" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-49783" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49784" href="../Denotational/#plfa_plfa-part3-Denotational-49784" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49788" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49789" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49790" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49791" href="../Denotational/#plfa_plfa-part3-Denotational-49791" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49792" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49793" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49794" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49795" href="../Denotational/#plfa_plfa-part3-Denotational-49795" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49796" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49797" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49798" href="../Denotational/#plfa_plfa-part3-Denotational-49798" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-49809" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49814" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49822" href="../Denotational/#plfa_plfa-part3-Denotational-49779" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-49827" href="../Denotational/#plfa_plfa-part3-Denotational-49798" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-49834" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49838" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49840" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49842" href="../Denotational/#plfa_plfa-part3-Denotational-49842" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-49845" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49847" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49849" href="../Denotational/#plfa_plfa-part3-Denotational-49849" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49853" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49855" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49857" href="../Denotational/#plfa_plfa-part3-Denotational-49857" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49862" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49864" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49866" href="../Denotational/#plfa_plfa-part3-Denotational-49866" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-49874" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49876" href="../Denotational/#plfa_plfa-part3-Denotational-49876" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-49884" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49886" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49888" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49890" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-49896" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49901" href="../Denotational/#plfa_plfa-part3-Denotational-45590" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-49915" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49916" href="../Denotational/#plfa_plfa-part3-Denotational-49842" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-49918" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49920" href="../Denotational/#plfa_plfa-part3-Denotational-49849" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49924" href="../Denotational/#plfa_plfa-part3-Denotational-49857" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49929" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49930" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49938" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49942" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-49944" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49948" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49950" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49952" href="../Denotational/#plfa_plfa-part3-Denotational-49952" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49955" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49957" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49959" href="../Denotational/#plfa_plfa-part3-Denotational-49959" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-49963" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49965" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49967" href="../Denotational/#plfa_plfa-part3-Denotational-49967" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-49973" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49975" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49977" href="../Denotational/#plfa_plfa-part3-Denotational-49977" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-49989" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49991" href="../Denotational/#plfa_plfa-part3-Denotational-49991" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50003" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50005" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50007" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50009" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50011" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-50019" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50021" href="../Denotational/#plfa_plfa-part3-Denotational-49952" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50024" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50026" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50028" href="../Denotational/#plfa_plfa-part3-Denotational-49959" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50032" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50034" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50036" href="../Denotational/#plfa_plfa-part3-Denotational-49967" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50042" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50044" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50046" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50054" href="../Denotational/#plfa_plfa-part3-Denotational-49977" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50066" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-50074" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-50112" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50120" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-50128" href="../Denotational/#plfa_plfa-part3-Denotational-49991" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50140" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50142" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50144" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50146" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50148" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50156" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50157" href="../Denotational/#plfa_plfa-part3-Denotational-50157" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-50161" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50163" href="../Denotational/#plfa_plfa-part3-Denotational-50163" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-50166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50168" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50169" href="../Denotational/#plfa_plfa-part3-Denotational-50169" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50173" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50175" href="../Denotational/#plfa_plfa-part3-Denotational-50175" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-50178" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50180" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50181" href="../Denotational/#plfa_plfa-part3-Denotational-5757" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-50187" href="../Denotational/#plfa_plfa-part3-Denotational-50187" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50191" href="../Denotational/#plfa_plfa-part3-Denotational-50191" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-50194" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50196" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50201" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50207" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50209" href="../Denotational/#plfa_plfa-part3-Denotational-50169" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50213" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50215" href="../Denotational/#plfa_plfa-part3-Denotational-50175" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50219" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50221" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50223" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50226" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50227" href="../Denotational/#plfa_plfa-part3-Denotational-50227" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-50228" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50230" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50232" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-50235" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50237" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50239" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50241" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50244" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50245" href="../Denotational/#plfa_plfa-part3-Denotational-50245" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-50246" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50248" href="../Denotational/#plfa_plfa-part3-Denotational-50248" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-50250" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50252" href="../Denotational/#plfa_plfa-part3-Denotational-50248" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-50253" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50255" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50257" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50259" href="../Denotational/#plfa_plfa-part3-Denotational-50187" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50263" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50265" href="../Denotational/#plfa_plfa-part3-Denotational-50191" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-50269" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50271" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50273" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50275" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50277" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50285" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50286" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50290" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50292" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50293" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50297" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50299" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50302" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-50305" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50306" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50310" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50312" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50316" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50318" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50322" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50324" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50327" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50329" href="../Denotational/#plfa_plfa-part3-Denotational-5860" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-50340" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50341" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-50342" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-50345" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50347" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50348" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-50350" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50354" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50356" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50359" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-50360" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50362" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50367" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50373" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50375" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50379" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50381" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50385" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50387" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50391" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50393" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-50397" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50399" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50401" href="../Denotational/#plfa_plfa-part3-Denotational-50461" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50403" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50405" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50407" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50409" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50411" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50413" href="../Denotational/#plfa_plfa-part3-Denotational-5456" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-50422" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50429" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50436" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50438" href="../Denotational/#plfa_plfa-part3-Denotational-6792" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50445" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50447" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50449" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50451" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-50455" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-50461" href="../Denotational/#plfa_plfa-part3-Denotational-50461" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50463" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50465" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-50474" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50475" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50479" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50481" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50485" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50487" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50491" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50493" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50496" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50506" href="../Denotational/#plfa_plfa-part3-Denotational-50461" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50508" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50509" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50514" href="../Denotational/#plfa_plfa-part3-Denotational-50514" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50515" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50517" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50519" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50523" href="../Denotational/#plfa_plfa-part3-Denotational-50514" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50533" href="../Denotational/#plfa_plfa-part3-Denotational-50461" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50535" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50536" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50541" href="../Denotational/#plfa_plfa-part3-Denotational-50541" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50542" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50544" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50546" href="../Denotational/#plfa_plfa-part3-Denotational-40262" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50550" href="../Denotational/#plfa_plfa-part3-Denotational-50541" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-50560" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50562" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50564" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50565" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50569" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50571" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50575" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50577" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50581" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50583" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50586" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50588" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-50590" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50591" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50595" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50597" href="../Denotational/#plfa_plfa-part3-Denotational-50293" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50601" href="../Denotational/#plfa_plfa-part3-Denotational-4991" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50603" href="../Denotational/#plfa_plfa-part3-Denotational-50286" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50607" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50609" href="../Denotational/#plfa_plfa-part3-Denotational-50299" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50612" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50622" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50624" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50625" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50630" href="../Denotational/#plfa_plfa-part3-Denotational-50630" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50631" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50633" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50635" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50640" href="../Denotational/#plfa_plfa-part3-Denotational-50630" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50650" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50652" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50653" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50658" href="../Denotational/#plfa_plfa-part3-Denotational-50658" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50659" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50661" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50663" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50668" href="../Denotational/#plfa_plfa-part3-Denotational-50658" class="Bound">y</a>
</pre><p>令 <code>v</code> 和 <code>w</code> 为任意值。</p><ul><li><p>情况 <code>⊑-bot</code>：若 <code>u₁ ≡ ⊥</code>，我们有 <code>v ↦ w ∈ ⊥</code>，但这是不可能的。</p></li><li><p>情况 <code>⊑-conj-L</code>：</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>，那么有两种子情况需要考虑：</p><ul><li><p>子情况 <code>v ↦ w ∈ u₁₁</code>：我们通过归纳假设 <code>u₁₁ ⊑ u₂</code> 得出结论。</p></li><li><p>子情况 <code>v ↦ w ∈ u₁₂</code>：我们通过归纳假设 <code>u₁₂ ⊑ u₂</code> 得出结论。</p></li></ul><ul><li><p>情况 <code>⊑-conj-R1</code>：</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁</code>，归纳假设 <code>u₁ ⊑ u₂₁</code> 给出了对某个 <code>u₃₁</code>，<code>v ↦ w</code> 将 <code>u₂₁</code> 分解为 <code>u₃₁</code>。为了证明 <code>v ↦ w</code> 也将 <code>u₂₁ ⊔ u₂₂</code> 分解为 <code>u₃₁</code>， 我们只需证明 <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>，而这一点可直接从 <code>u₃₁ ⊆ u₂₁</code> 得出。</p><ul><li><p>情况 <code>⊑-conj-R2</code>：此情况的论证过程与情况 <code>⊑-conj-R1</code> 类似。</p></li><li><p>情况 <code>⊑-trans</code>：</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre></li></ul><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们可以证明对于某个值 <code>u′</code>，<code>v ↦ w</code> 将 <code>u</code> 分解为 <code>u′</code>， 于是我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。跟举归纳假设 <code>u ⊑ u₂</code>，我们可以证明对于任意 <code>v′ ↦ w′ ∈ u</code>，<code>v′ ↦ w′</code> 分解了 <code>u₂</code>。现在应用引理 <code>sub-inv-trans</code>， 它会给出 <code>u₃</code> 使得 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们证明了 <code>v ↦ w</code> 也将 <code>u₂</code> 分解为 <code>u₃</code>。 从 <code>⨆dom u₃ ⊑ ⨆dom u′</code> 和 <code>⨆dom u′ ⊑ v</code>，我们可得出 <code>⨆dom u₃ ⊑ v</code>。 从 <code>w ⊑ ⨆cod u′</code> 和 <code>⨆cod u′ ⊑ ⨆cod u₃</code>，我们有 <code>w ⊑ ⨆cod u₃</code>，于是此情况就覆盖完整了。</p><ul><li><p>情况 <code>⊑-fun</code>：</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>，我们有 <code>v ≡ u₁₁</code> 和 <code>w ≡ u₁₂</code>。 我们证明了 <code>u₁₁ ↦ u₁₂</code> 将 <code>u₂₁ ↦ u₂₂</code> 分解为其自身。 我们还需证明 <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>， 然而这等价于前提 <code>u₂₁ ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ u₂₂</code>。</p><ul><li><p>情况 <code>⊑-dist</code>：</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>，我们有 <code>v ≡ u₂₁</code> 和 <code>w ≡ u₂₂ ⊔ u₂₃</code>。 我们证明了 <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> 将 <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> 分解为其自身。 我们有 <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>，以及 <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>，于是此证明就覆盖完整了。</p><p>我们用 <code>sub-inv</code> 引理的两个推论作为本节的结尾。首先，我们来证明以下性质， 方便在后面的证明中使用。我们将前提特化为 <code>v ↦ w ⊑ u₁</code>，并将结论修改为对于每个 <code>v′ ↦ w′ ∈ u₂</code>，我们有 <code>v′ ⊑ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-54864" href="../Denotational/#plfa_plfa-part3-Denotational-54864" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-54876" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54878" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-54880" href="../Denotational/#plfa_plfa-part3-Denotational-54880" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54882" href="../Denotational/#plfa_plfa-part3-Denotational-54882" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-54884" href="../Denotational/#plfa_plfa-part3-Denotational-54884" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-54887" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54889" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-54894" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-54900" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54902" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-54903" href="../Denotational/#plfa_plfa-part3-Denotational-54880" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54905" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-54907" href="../Denotational/#plfa_plfa-part3-Denotational-54882" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-54908" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-54910" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-54912" href="../Denotational/#plfa_plfa-part3-Denotational-54884" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-54921" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-54979" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54981" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-54984" href="../Denotational/#plfa_plfa-part3-Denotational-54984" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-54987" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-54989" href="../Denotational/#plfa_plfa-part3-Denotational-4929" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-54995" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-54997" href="../Denotational/#plfa_plfa-part3-Denotational-40300" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-55006" href="../Denotational/#plfa_plfa-part3-Denotational-54984" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55009" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55011" href="../Denotational/#plfa_plfa-part3-Denotational-54984" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55014" href="../Denotational/#plfa_plfa-part3-Denotational-38247" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-55016" href="../Denotational/#plfa_plfa-part3-Denotational-54884" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-55027" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55029" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-55032" href="../Denotational/#plfa_plfa-part3-Denotational-55032" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55035" href="../Denotational/#plfa_plfa-part3-Denotational-55035" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55037" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55039" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55041" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55042" href="../Denotational/#plfa_plfa-part3-Denotational-55032" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55045" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55047" href="../Denotational/#plfa_plfa-part3-Denotational-55035" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55049" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55051" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55053" href="../Denotational/#plfa_plfa-part3-Denotational-54984" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55056" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55058" href="../Denotational/#plfa_plfa-part3-Denotational-55032" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55061" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55063" href="../Denotational/#plfa_plfa-part3-Denotational-54880" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55064" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55066" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55068" href="../Denotational/#plfa_plfa-part3-Denotational-54882" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55070" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55072" href="../Denotational/#plfa_plfa-part3-Denotational-41822" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-55077" href="../Denotational/#plfa_plfa-part3-Denotational-54984" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-55080" href="../Denotational/#plfa_plfa-part3-Denotational-54864" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-55091" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55092" href="../Denotational/#plfa_plfa-part3-Denotational-55092" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55093" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55095" href="../Denotational/#plfa_plfa-part3-Denotational-55095" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55096" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55098" href="../Denotational/#plfa_plfa-part3-Denotational-55098" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-55100" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55102" href="../Denotational/#plfa_plfa-part3-Denotational-55102" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-55110" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55115" href="../Denotational/#plfa_plfa-part3-Denotational-48871" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-55123" href="../Denotational/#plfa_plfa-part3-Denotational-55102" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-55127" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55128" href="../Denotational/#plfa_plfa-part3-Denotational-55092" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55129" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55131" href="../Denotational/#plfa_plfa-part3-Denotational-55095" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55132" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55134" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-55139" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55143" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55145" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55147" href="../Denotational/#plfa_plfa-part3-Denotational-55147" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55150" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55152" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55154" href="../Denotational/#plfa_plfa-part3-Denotational-55154" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55156" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55158" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55160" href="../Denotational/#plfa_plfa-part3-Denotational-55160" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55166" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55168" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55170" href="../Denotational/#plfa_plfa-part3-Denotational-55170" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-55173" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55175" href="../Denotational/#plfa_plfa-part3-Denotational-55175" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55178" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55180" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55182" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55184" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55186" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-55194" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55196" href="../Denotational/#plfa_plfa-part3-Denotational-55147" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55199" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55201" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55203" href="../Denotational/#plfa_plfa-part3-Denotational-55154" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55205" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55207" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55209" href="../Denotational/#plfa_plfa-part3-Denotational-55160" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55215" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55217" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55219" href="../Denotational/#plfa_plfa-part3-Denotational-55243" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55221" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55223" href="../Denotational/#plfa_plfa-part3-Denotational-55175" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55226" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55228" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55230" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55232" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-55237" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-55243" href="../Denotational/#plfa_plfa-part3-Denotational-55243" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55245" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55247" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55249" href="../Denotational/#plfa_plfa-part3-Denotational-55249" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55251" href="../Denotational/#plfa_plfa-part3-Denotational-55251" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55254" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55256" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55257" href="../Denotational/#plfa_plfa-part3-Denotational-55249" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55259" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55261" href="../Denotational/#plfa_plfa-part3-Denotational-55251" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55262" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55264" href="../Denotational/#plfa_plfa-part3-Denotational-37933" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55266" href="../Denotational/#plfa_plfa-part3-Denotational-55147" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55269" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55271" href="../Denotational/#plfa_plfa-part3-Denotational-55249" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55273" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55275" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-55286" href="../Denotational/#plfa_plfa-part3-Denotational-55243" class="Function">G</a><a id="plfa_plfa-part3-Denotational-55287" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55288" href="../Denotational/#plfa_plfa-part3-Denotational-55288" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-55289" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55291" href="../Denotational/#plfa_plfa-part3-Denotational-55291" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55292" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55294" href="../Denotational/#plfa_plfa-part3-Denotational-55294" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-55296" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55298" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55306" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55307" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55311" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55312" href="../Denotational/#plfa_plfa-part3-Denotational-42217" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-55321" href="../Denotational/#plfa_plfa-part3-Denotational-55154" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55323" href="../Denotational/#plfa_plfa-part3-Denotational-55294" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-55324" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-55327" href="../Denotational/#plfa_plfa-part3-Denotational-55170" class="Bound">db</a>
</pre><p>第二个推论是反转规则，即我们期望左侧函数小于右侧。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-55508" href="../Denotational/#plfa_plfa-part3-Denotational-55508" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-55516" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55518" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55520" href="../Denotational/#plfa_plfa-part3-Denotational-55520" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55522" href="../Denotational/#plfa_plfa-part3-Denotational-55522" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55524" href="../Denotational/#plfa_plfa-part3-Denotational-55524" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55527" href="../Denotational/#plfa_plfa-part3-Denotational-55527" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55529" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-55539" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55541" href="../Denotational/#plfa_plfa-part3-Denotational-55520" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55543" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55545" href="../Denotational/#plfa_plfa-part3-Denotational-55522" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55547" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55549" href="../Denotational/#plfa_plfa-part3-Denotational-55524" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55552" href="../Denotational/#plfa_plfa-part3-Denotational-4961" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55554" href="../Denotational/#plfa_plfa-part3-Denotational-55527" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-55567" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-55593" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55595" href="../Denotational/#plfa_plfa-part3-Denotational-55524" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55598" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55600" href="../Denotational/#plfa_plfa-part3-Denotational-55520" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55602" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55604" href="../Denotational/#plfa_plfa-part3-Denotational-55522" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55606" href="../Denotational/#plfa_plfa-part3-Denotational-5396" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55608" href="../Denotational/#plfa_plfa-part3-Denotational-55527" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-55611" href="../Denotational/#plfa_plfa-part3-Denotational-55508" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-55618" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55619" href="../Denotational/#plfa_plfa-part3-Denotational-55619" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55620" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55622" href="../Denotational/#plfa_plfa-part3-Denotational-55622" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55623" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55625" href="../Denotational/#plfa_plfa-part3-Denotational-55625" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-55627" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55629" href="../Denotational/#plfa_plfa-part3-Denotational-55629" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55631" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55633" href="../Denotational/#plfa_plfa-part3-Denotational-55633" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-55640" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55645" href="../Denotational/#plfa_plfa-part3-Denotational-54864" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-55657" href="../Denotational/#plfa_plfa-part3-Denotational-55633" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-55660" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55664" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55666" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55668" href="../Denotational/#plfa_plfa-part3-Denotational-55668" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-55670" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55672" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55674" href="../Denotational/#plfa_plfa-part3-Denotational-55674" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55676" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55678" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55680" href="../Denotational/#plfa_plfa-part3-Denotational-55680" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55686" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55688" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55690" href="../Denotational/#plfa_plfa-part3-Denotational-55690" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55694" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55696" href="../Denotational/#plfa_plfa-part3-Denotational-55696" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55700" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55702" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55704" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55706" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55712" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55717" href="../Denotational/#plfa_plfa-part3-Denotational-40703" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-55727" href="../Denotational/#plfa_plfa-part3-Denotational-55674" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-55729" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55733" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55735" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55737" href="../Denotational/#plfa_plfa-part3-Denotational-55737" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-55739" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55741" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55743" href="../Denotational/#plfa_plfa-part3-Denotational-55743" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-55746" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55748" href="../Denotational/#plfa_plfa-part3-Denotational-55748" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55755" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55757" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55763" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55768" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55774" href="../Denotational/#plfa_plfa-part3-Denotational-55748" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-55781" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55785" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55787" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-55792" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-55796" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-55800" href="../Denotational/#plfa_plfa-part3-Denotational-55800" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-55809" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55811" href="../Denotational/#plfa_plfa-part3-Denotational-42872" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-55820" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55826" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-55831" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55833" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55837" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55844" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55846" href="../Denotational/#plfa_plfa-part3-Denotational-5686" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55854" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55858" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55859" href="../Denotational/#plfa_plfa-part3-Denotational-38780" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55863" href="../Denotational/#plfa_plfa-part3-Denotational-55800" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-55871" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55873" href="../Denotational/#plfa_plfa-part3-Denotational-3419" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>本章中展示的操作语义是<strong>过滤器模型（filter model）</strong>（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）的一个例子。 过滤器模型使用带有交集类型的类型系统来精确刻画运行时行为（<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>）。 我们在本章中使用的记法并不是类型系统和交集类型的记法，但 <code>Value</code> 数据类型与类型同构（<code>↦</code> 对应 <code>→</code>，<code>⊔</code> 对应 <code>∧</code>，<code>⊥</code> 对应 <code>⊤</code>）， <code>⊑</code> 关系是子类型 <code>&lt;:</code> 的逆关系，并且求值关系 <code>ρ ⊢ M ↓ v</code> 与类型系统同构。 将 <code>ρ</code> 写成 <code>Γ</code>，将 <code>v</code> 写成 <code>A</code>，将 <code>↓</code> 替换为 <code>:</code>，就得到了一个类型判断 <code>Γ ⊢ M : A</code>。通过改变子类型的定义和使用类型原子的不同选择， 交集类型系统为许多不同的无类型 λ-演算提供语义，从完整的 beta-规约到惰性演算和按值调用演算（<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>）（<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>）。 本章中的指称语义对应于 BCD 系统（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）。 <em>Lambda Calculus with Types</em> 一书中的第三部分描述了一个交集类型系统的框架， 它可以实现与本章中类似的结果，但适用于整个交集类型系统族（<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>）</p><p>使用有限表来表示函数，以及放宽表的查找以实现自我应用这两个想法首次出现在 <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> 的技术报告中，后来在《理论计算机科学》（<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>） 的一篇文章中进行了描述。在该项工作中，<code>Value</code> 的归纳定义与我们使用的有点不同：</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>其中 <code>C</code> 是一组常量，<code>℘f</code> 表示有限幂集。<code>℘f(Value) × ℘f(Value)</code> 中的序对表示输入-输出映射，和本章中的一样。有限幂集用于使函数表能够出现在输入和输出中。 这些差异相当于改变了 <code>Value</code> 定义中递归出现的位置。Plotkin 的模型是无类型 λ-演算的<strong>图模型（graph model）</strong>示例（<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>）。 在图模型中，语义被表示为从程序和环境到（可能是无限的）值的集合的函数。 本章中的语义被定义为关系，不过以集合为值的函数与关系同构。 实际上，我们将在下一章中将语义表示为函数，并证明它等价于关系的版本。</p><p><span class="citation" data-cites="Scott:1976">Scott (1976)</span> 的 ℘(ω) 模型和 <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> 的 B(A) 模型是图模型的另外两个例子。 二者都试用了以下 <code>Value</code> 的归纳定义。</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>在输出中使用 <code>Value</code> 而非 <code>℘f(Value)</code> 相对 Plotkin 的模型来说并不会限制表达能力， 因为使用了值的集合的语义和集合 <code>(V, V′)</code> 的序对可以表示为一个序对的集合 <code>{ (V, v′) | v′ ∈ V′ }</code>。在 Scott 的 ℘(ω) 中，上面的值通过一种哥德尔编码做了 到自然数的双向映射。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="参考来源">参考来源</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>