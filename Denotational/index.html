<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-oald/giFwKDrcy9DORpCxMSq2IAFjgwVUM5pRbyPtm60xZT/52VIm0b9qqbL2UcrxYzxM4cYrtRk02or57bQsA==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-3emtxUSJDVriAZnzOyZFTRu0beO+lk81E2cRDhzd62DQrlh2u4kR6+lz2dOUNZwPDvGwcqfFRrKJO2Zu0O4IJA==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Denotational: 无类型 λ-演算的指称语义</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-118" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-125" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-149" class="Keyword">where</a>
</pre><p>λ-演算是一种关于<strong>函数</strong>的语言，即从输入到输出的映射。在计算中， 我们通常认为这种映射是通过一系列将输入转换为输出的操作来执行的。 但函数也可以表示为数据。例如，可以将函数表格化，即创建一个表， 其中每行都有两个条目：一个输入和一个该函数对应的输出。 函数应用则是查找给定输入的行并读取输出的过程。</p><p>我们可按照「函数即表格」的思想为无类型 λ-演算创建语义。然而却碰上了两个难点： 首先，函数的定义域通常是无穷的，因此我们似乎需要无限长的表格来表示函数。 其次，在 λ-演算中，函数可应用于函数，它们甚至可以应用于自身！ 因而这些表格可能包含循环引用。你可能会担心需要高级技术来解决这些问题， 幸而情况并非如此！</p><p>第一个问题是带有无穷定义域的函数。注意到每一个 λ-抽象只会应用于数量有限的不同参数， 该问题因而得以解决（我们回头再讨论发散的程序）。这是看待 Dana Scott 见解的另一种方式，即对 λ-演算进行建模只需要用到连续函数。</p><p>第二个问题是自应用，可以通过放宽在函数表格中查找参数的方式来解决。 通常，人们会在表中查找输入条目与参数完全匹配的行。在自应用的情况下， 这样会要求表包含其自身的副本，当然这是不可能的 （至少，想要使用归纳数据类型定义来构建表是不可能的，而这就是我们要做的）。 其实只要找到一个输入，使得每一行输入都对应到一行参数（即，输入是参数的子集）。 在自应用的情况下，表只需要包含其自身的较小副本，这样就好了。</p><p>基于这两点观察，我们就能直接写出 λ-演算的指称语义。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3262" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3267" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3274" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="plfa_plfa-part3-Denotational-3288" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3294" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3295" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-3296" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3298" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-3302" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3304" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-3307" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3309" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3314" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3321" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="plfa_plfa-part3-Denotational-3339" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3345" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3346" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-3349" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3351" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-3352" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3354" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-3362" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3364" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#852" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-3365" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3367" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-3375" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3377" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#636" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-3382" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3384" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#650" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-3389" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-3393" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-3402" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3403" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-3407" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-3415" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3417" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3422" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3429" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="plfa_plfa-part3-Denotational-3443" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3449" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3450" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="plfa_plfa-part3-Denotational-3453" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3455" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="plfa_plfa-part3-Denotational-3459" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3461" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="plfa_plfa-part3-Denotational-3465" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3467" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3472" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3479" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="plfa_plfa-part3-Denotational-3493" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3499" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3500" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-3503" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3505" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-3507" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3509" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-3512" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3514" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3519" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3526" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-3566" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3572" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3573" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-3576" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3578" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-3582" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3584" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3589" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3596" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-3622" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3628" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3629" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-3631" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3633" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3646" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3648" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3653" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3660" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html" class="Module">Function.Base</a> <a id="plfa_plfa-part3-Denotational-3674" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3680" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3681" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3684" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3686" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3691" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3698" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3719" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3725" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3726" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3733" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3735" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3736" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3738" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3741" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3743" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3744" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3746" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3749" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3751" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3752" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3754" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3756" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3758" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3761" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3763" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3765" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3767" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3770" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3772" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3774" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3785" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3787" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3789" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3793" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3795" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3798" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3800" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3806" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3808" href="../Untyped/#plfa_plfa-part2-Untyped-8550" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3812" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3814" href="../Untyped/#plfa_plfa-part2-Untyped-8911" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3819" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3821" href="../Untyped/#plfa_plfa-part2-Untyped-9407" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3831" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3833" href="../Untyped/#plfa_plfa-part2-Untyped-9523" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3837" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3839" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3844" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3851" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3875" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3881" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3882" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3888" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3890" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3904" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3906" href="../Substitution/#plfa_plfa-part2-Substitution-20731" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3915" class="Symbol">)</a>
</pre><h2 id="值">值</h2><p>值数据类型 <code>Value</code> 表示函数的有限的一部分。我们将值视为表示「输入-输出」 映射的有限序对集合。<code>Value</code> 数据类型将集合表示为二叉树，其内部节点是并集运算符， 叶子节点表示单个映射或空集。</p><ul><li><p>⊥ 值不提供有关计算的信息。</p></li><li><p>形如 <code>v ↦ w</code> 的值是从输入 <code>v</code> 到输出 <code>w</code> 的单个输入-输出映射。</p></li><li><p>形如 <code>v ⊔ w</code> 的值是根据 <code>v</code> 和 <code>w</code> 将输入映射到输出的函数。 可将其视为两个集合的并集。</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4858" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-4865" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-4867" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-4871" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-4878" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-4880" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-4885" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-4890" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4896" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4898" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4902" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-4910" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4912" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4914" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-4922" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-4926" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4928" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4934" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4936" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4942" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4944" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-4952" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-4956" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4958" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4966" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4972" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4974" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
</pre><p>关系 <code>⊑</code> 将熟悉的子集概念适配到 <code>Value</code> 数据类型上。 这种关系在实现自我应用方面起到了关键作用。有两个特定于函数的规则 <code>⊑-fun</code> 和 <code>⊑-dist</code>，我们将在后面讨论。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-5339" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-5345" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-5347" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-5352" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-5357" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-5361" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5363" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5369" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5371" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5377" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5379" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-5383" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-5392" href="../Denotational/#plfa_plfa-part3-Denotational-5392" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-5398" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5400" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5402" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5403" href="../Denotational/#plfa_plfa-part3-Denotational-5403" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5404" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5406" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5408" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-5410" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5412" href="../Denotational/#plfa_plfa-part3-Denotational-5403" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-5417" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5426" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5428" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5430" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5431" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5433" href="../Denotational/#plfa_plfa-part3-Denotational-5433" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5435" href="../Denotational/#plfa_plfa-part3-Denotational-5435" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5436" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5442" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5444" href="../Denotational/#plfa_plfa-part3-Denotational-5433" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5446" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5448" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-5454" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5456" href="../Denotational/#plfa_plfa-part3-Denotational-5435" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5458" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5460" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-5468" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5484" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5486" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5487" href="../Denotational/#plfa_plfa-part3-Denotational-5433" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5489" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5491" href="../Denotational/#plfa_plfa-part3-Denotational-5435" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5492" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5494" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5496" href="../Denotational/#plfa_plfa-part3-Denotational-5431" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-5501" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5511" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5513" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5515" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5516" href="../Denotational/#plfa_plfa-part3-Denotational-5516" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5518" href="../Denotational/#plfa_plfa-part3-Denotational-5518" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5520" href="../Denotational/#plfa_plfa-part3-Denotational-5520" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5521" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5527" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5529" href="../Denotational/#plfa_plfa-part3-Denotational-5516" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5531" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5533" href="../Denotational/#plfa_plfa-part3-Denotational-5518" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-5541" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5557" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5559" href="../Denotational/#plfa_plfa-part3-Denotational-5516" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5561" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5563" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5564" href="../Denotational/#plfa_plfa-part3-Denotational-5518" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5566" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5568" href="../Denotational/#plfa_plfa-part3-Denotational-5520" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5569" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-5574" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5584" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5586" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5588" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5589" href="../Denotational/#plfa_plfa-part3-Denotational-5589" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5591" href="../Denotational/#plfa_plfa-part3-Denotational-5591" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5593" href="../Denotational/#plfa_plfa-part3-Denotational-5593" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5594" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5600" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5602" href="../Denotational/#plfa_plfa-part3-Denotational-5589" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5604" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5606" href="../Denotational/#plfa_plfa-part3-Denotational-5593" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5614" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5630" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5632" href="../Denotational/#plfa_plfa-part3-Denotational-5589" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5634" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5637" href="../Denotational/#plfa_plfa-part3-Denotational-5591" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5639" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5641" href="../Denotational/#plfa_plfa-part3-Denotational-5593" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5642" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-5647" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-5655" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5657" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5660" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5662" href="../Denotational/#plfa_plfa-part3-Denotational-5662" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5664" href="../Denotational/#plfa_plfa-part3-Denotational-5664" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5665" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5671" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5673" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5675" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5677" href="../Denotational/#plfa_plfa-part3-Denotational-5662" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5683" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5685" href="../Denotational/#plfa_plfa-part3-Denotational-5662" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5687" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5689" href="../Denotational/#plfa_plfa-part3-Denotational-5664" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5697" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-5707" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5709" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5711" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5713" href="../Denotational/#plfa_plfa-part3-Denotational-5664" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-5718" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5724" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5726" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5728" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5729" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5731" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5733" href="../Denotational/#plfa_plfa-part3-Denotational-5733" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5736" href="../Denotational/#plfa_plfa-part3-Denotational-5736" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5738" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5744" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5746" href="../Denotational/#plfa_plfa-part3-Denotational-5733" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5749" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5751" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5757" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5759" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5761" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5763" href="../Denotational/#plfa_plfa-part3-Denotational-5736" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-5772" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-5796" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5798" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5799" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5801" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5803" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5804" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5806" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5808" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5809" href="../Denotational/#plfa_plfa-part3-Denotational-5733" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5812" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5814" href="../Denotational/#plfa_plfa-part3-Denotational-5736" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5816" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-5821" href="../Denotational/#plfa_plfa-part3-Denotational-5821" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-5828" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5830" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-5832" href="../Denotational/#plfa_plfa-part3-Denotational-5832" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5834" href="../Denotational/#plfa_plfa-part3-Denotational-5834" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5836" href="../Denotational/#plfa_plfa-part3-Denotational-5836" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5838" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-5846" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-5884" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5886" href="../Denotational/#plfa_plfa-part3-Denotational-5832" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5888" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5890" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5891" href="../Denotational/#plfa_plfa-part3-Denotational-5834" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5893" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5895" href="../Denotational/#plfa_plfa-part3-Denotational-5836" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5897" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5899" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5901" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5902" href="../Denotational/#plfa_plfa-part3-Denotational-5832" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5904" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5906" href="../Denotational/#plfa_plfa-part3-Denotational-5834" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5907" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5909" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5911" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5912" href="../Denotational/#plfa_plfa-part3-Denotational-5832" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5914" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5916" href="../Denotational/#plfa_plfa-part3-Denotational-5836" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5918" class="Symbol">)</a>
</pre><p>前五条规则很简单。规则 <code>⊑-fun</code> 刻画了何时可以将高阶参数 <code>v′ ↦ w′</code> 与输入为 <code>v ↦ w</code> 的表格条目相匹配。考虑一个高阶参数的调用，可以传入一个比预期更大的参数， 因此 <code>v</code> 可以大于 <code>v′</code>。此外，还可以忽略某些输出，因此 <code>w</code> 可以小于 <code>w′</code>。 （译注：即作为子类型的函数，其参数是逆变的，返回值是协变的。） 规则 <code>⊑-dist</code> 表示，如果对同一个输入有两个条目相匹配， 则可以将它们合并成一个条目并连接两个输出。</p><p><code>⊑</code> 关系满足自反性：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-6753" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6760" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6762" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-6764" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6765" href="../Denotational/#plfa_plfa-part3-Denotational-6765" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-6766" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6768" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6770" href="../Denotational/#plfa_plfa-part3-Denotational-6765" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6772" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6774" href="../Denotational/#plfa_plfa-part3-Denotational-6765" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-6776" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6783" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6784" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-6785" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6787" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6789" href="../Denotational/#plfa_plfa-part3-Denotational-5392" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-6795" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6802" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6803" href="../Denotational/#plfa_plfa-part3-Denotational-6803" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6805" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6807" href="../Denotational/#plfa_plfa-part3-Denotational-6807" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6809" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6811" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6813" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6819" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6826" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-6833" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6840" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6841" href="../Denotational/#plfa_plfa-part3-Denotational-6841" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-6844" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6846" href="../Denotational/#plfa_plfa-part3-Denotational-6846" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-6848" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6850" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6852" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6861" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6862" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6872" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6878" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6880" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6881" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6891" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6897" class="Symbol">)</a>
</pre><p><code>⊔</code> 运算对 <code>⊑</code> 满足单调性，即给定两个较大的值，它会产生一个更大的值：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-7076" href="../Denotational/#plfa_plfa-part3-Denotational-7076" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7080" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7082" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7084" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7085" href="../Denotational/#plfa_plfa-part3-Denotational-7085" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7087" href="../Denotational/#plfa_plfa-part3-Denotational-7087" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7089" href="../Denotational/#plfa_plfa-part3-Denotational-7089" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7092" href="../Denotational/#plfa_plfa-part3-Denotational-7092" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7094" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7098" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7100" href="../Denotational/#plfa_plfa-part3-Denotational-7085" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7102" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7104" href="../Denotational/#plfa_plfa-part3-Denotational-7089" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-7108" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-7111" href="../Denotational/#plfa_plfa-part3-Denotational-7087" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7113" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7115" href="../Denotational/#plfa_plfa-part3-Denotational-7092" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-7122" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-7148" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7150" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7151" href="../Denotational/#plfa_plfa-part3-Denotational-7085" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7153" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7155" href="../Denotational/#plfa_plfa-part3-Denotational-7087" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7156" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7158" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7160" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7161" href="../Denotational/#plfa_plfa-part3-Denotational-7089" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7164" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7166" href="../Denotational/#plfa_plfa-part3-Denotational-7092" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7168" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7170" href="../Denotational/#plfa_plfa-part3-Denotational-7076" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7174" href="../Denotational/#plfa_plfa-part3-Denotational-7174" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-7177" href="../Denotational/#plfa_plfa-part3-Denotational-7177" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-7180" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7182" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-7191" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7192" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7202" href="../Denotational/#plfa_plfa-part3-Denotational-7174" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-7204" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7206" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7207" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7217" href="../Denotational/#plfa_plfa-part3-Denotational-7177" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-7219" class="Symbol">)</a>
</pre><p>即使输入的值不相同，<code>⊑-dist</code> 规则也可用于合并两个条目。首先可以用 <code>⊔</code> 将两个输入合并起来，然后应用 <code>⊑-dist</code> 规则来获得以下属性。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-7533" href="../Denotational/#plfa_plfa-part3-Denotational-7533" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7542" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7544" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-7546" href="../Denotational/#plfa_plfa-part3-Denotational-7546" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7548" href="../Denotational/#plfa_plfa-part3-Denotational-7548" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7551" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7553" href="../Denotational/#plfa_plfa-part3-Denotational-7553" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-7556" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7558" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-7563" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7567" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7569" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7570" href="../Denotational/#plfa_plfa-part3-Denotational-7546" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7572" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7574" href="../Denotational/#plfa_plfa-part3-Denotational-7548" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-7576" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7578" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7580" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7581" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7583" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7585" href="../Denotational/#plfa_plfa-part3-Denotational-7553" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7587" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7589" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7591" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7592" href="../Denotational/#plfa_plfa-part3-Denotational-7546" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7594" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7596" href="../Denotational/#plfa_plfa-part3-Denotational-7551" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7597" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7599" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7601" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7602" href="../Denotational/#plfa_plfa-part3-Denotational-7548" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7605" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7607" href="../Denotational/#plfa_plfa-part3-Denotational-7553" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7609" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7611" href="../Denotational/#plfa_plfa-part3-Denotational-7533" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7620" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7622" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-7630" href="../Denotational/#plfa_plfa-part3-Denotational-5821" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-7637" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7638" href="../Denotational/#plfa_plfa-part3-Denotational-7076" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7642" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7643" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7649" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7650" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7660" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7666" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7668" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7674" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-7704" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7705" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7711" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7712" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7722" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7728" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7730" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7736" class="Symbol">))</a>
</pre><p>如果连接 <code>u ⊔ v</code> 小于另一个值 <code>w</code>，则 <code>u</code> 和 <code>v</code> 都小于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-7989" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-7997" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7999" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8001" href="../Denotational/#plfa_plfa-part3-Denotational-8001" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8003" href="../Denotational/#plfa_plfa-part3-Denotational-8003" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8005" href="../Denotational/#plfa_plfa-part3-Denotational-8005" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8007" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8009" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8014" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8018" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8020" href="../Denotational/#plfa_plfa-part3-Denotational-8001" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8022" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8024" href="../Denotational/#plfa_plfa-part3-Denotational-8003" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8026" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8028" href="../Denotational/#plfa_plfa-part3-Denotational-8005" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8034" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8046" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8048" href="../Denotational/#plfa_plfa-part3-Denotational-8001" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8050" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8052" href="../Denotational/#plfa_plfa-part3-Denotational-8005" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8054" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8062" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8063" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8072" href="../Denotational/#plfa_plfa-part3-Denotational-8072" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8076" href="../Denotational/#plfa_plfa-part3-Denotational-8076" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8079" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8081" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8083" href="../Denotational/#plfa_plfa-part3-Denotational-8072" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-8087" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8095" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8096" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8106" href="../Denotational/#plfa_plfa-part3-Denotational-8106" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8108" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8110" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8112" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8122" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8123" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8131" href="../Denotational/#plfa_plfa-part3-Denotational-8106" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8133" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8135" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8143" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8144" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8154" href="../Denotational/#plfa_plfa-part3-Denotational-8154" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8156" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8158" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8160" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8170" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8171" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8179" href="../Denotational/#plfa_plfa-part3-Denotational-8154" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8181" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8183" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8191" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8192" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8200" href="../Denotational/#plfa_plfa-part3-Denotational-8200" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8204" href="../Denotational/#plfa_plfa-part3-Denotational-8204" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8207" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8209" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8211" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8219" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8220" href="../Denotational/#plfa_plfa-part3-Denotational-7989" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8228" href="../Denotational/#plfa_plfa-part3-Denotational-8200" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8231" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8233" href="../Denotational/#plfa_plfa-part3-Denotational-8204" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-8238" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8246" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8248" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8250" href="../Denotational/#plfa_plfa-part3-Denotational-8250" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8252" href="../Denotational/#plfa_plfa-part3-Denotational-8252" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8254" href="../Denotational/#plfa_plfa-part3-Denotational-8254" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8256" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8258" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8263" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8267" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8269" href="../Denotational/#plfa_plfa-part3-Denotational-8250" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8271" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8273" href="../Denotational/#plfa_plfa-part3-Denotational-8252" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8275" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8277" href="../Denotational/#plfa_plfa-part3-Denotational-8254" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8283" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8295" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8297" href="../Denotational/#plfa_plfa-part3-Denotational-8252" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8299" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8301" href="../Denotational/#plfa_plfa-part3-Denotational-8254" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8303" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8311" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8312" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8321" href="../Denotational/#plfa_plfa-part3-Denotational-8321" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8325" href="../Denotational/#plfa_plfa-part3-Denotational-8325" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8328" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8330" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8332" href="../Denotational/#plfa_plfa-part3-Denotational-8325" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-8336" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8344" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8345" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8355" href="../Denotational/#plfa_plfa-part3-Denotational-8355" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8357" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8359" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8361" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8371" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8372" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8380" href="../Denotational/#plfa_plfa-part3-Denotational-8355" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8382" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8384" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8392" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8393" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8403" href="../Denotational/#plfa_plfa-part3-Denotational-8403" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8405" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8407" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8409" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8419" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8420" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8428" href="../Denotational/#plfa_plfa-part3-Denotational-8403" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8430" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8432" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8440" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8441" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8449" href="../Denotational/#plfa_plfa-part3-Denotational-8449" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8453" href="../Denotational/#plfa_plfa-part3-Denotational-8453" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8456" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8458" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8460" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8468" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8469" href="../Denotational/#plfa_plfa-part3-Denotational-8238" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8477" href="../Denotational/#plfa_plfa-part3-Denotational-8449" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8480" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8482" href="../Denotational/#plfa_plfa-part3-Denotational-8453" class="Bound">lt2</a>
</pre><h2 id="环境">环境</h2><p>环境通过将变量映射到值来为项中的自由变量赋予含义：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-8663" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8667" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8669" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-8677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8679" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8683" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8687" href="../Denotational/#plfa_plfa-part3-Denotational-8687" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8689" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8691" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8693" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8694" href="../Denotational/#plfa_plfa-part3-Denotational-8694" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8696" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8698" href="../Denotational/#plfa_plfa-part3-Denotational-8687" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8700" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8702" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8703" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8705" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8707" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
</pre><p>我们有空环境，且可以扩展环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-8818" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8821" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8823" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8827" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-8829" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8832" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-8836" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-8843" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-8845" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-8851" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-8856" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8858" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8860" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8861" href="../Denotational/#plfa_plfa-part3-Denotational-8861" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8862" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8864" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8866" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8870" href="../Denotational/#plfa_plfa-part3-Denotational-8861" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8872" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8874" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-8880" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8882" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8886" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8887" href="../Denotational/#plfa_plfa-part3-Denotational-8861" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8889" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-8891" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8892" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8894" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8895" href="../Denotational/#plfa_plfa-part3-Denotational-8895" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8897" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8900" href="../Denotational/#plfa_plfa-part3-Denotational-8900" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8901" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8903" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-8905" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8907" href="../Denotational/#plfa_plfa-part3-Denotational-8900" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-8909" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8910" href="../Denotational/#plfa_plfa-part3-Denotational-8910" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8912" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8915" href="../Denotational/#plfa_plfa-part3-Denotational-8915" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8916" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8918" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8919" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-8921" href="../Denotational/#plfa_plfa-part3-Denotational-8921" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8922" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8924" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8926" href="../Denotational/#plfa_plfa-part3-Denotational-8910" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8928" href="../Denotational/#plfa_plfa-part3-Denotational-8921" class="Bound">x</a>
</pre><p>我们可以从扩展的环境中恢复以前的环境以及最后添加的值。 将它们再次合并在一起能让我们回到开始：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-9155" href="../Denotational/#plfa_plfa-part3-Denotational-9155" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9160" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9162" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9164" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9165" href="../Denotational/#plfa_plfa-part3-Denotational-9165" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9168" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9170" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9174" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9175" href="../Denotational/#plfa_plfa-part3-Denotational-9165" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9177" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9179" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9180" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9182" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9184" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9188" href="../Denotational/#plfa_plfa-part3-Denotational-9165" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9190" href="../Denotational/#plfa_plfa-part3-Denotational-9155" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9195" href="../Denotational/#plfa_plfa-part3-Denotational-9195" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9197" href="../Denotational/#plfa_plfa-part3-Denotational-9197" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9199" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9201" href="../Denotational/#plfa_plfa-part3-Denotational-9195" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9203" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9204" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9206" href="../Denotational/#plfa_plfa-part3-Denotational-9197" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9207" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-9210" href="../Denotational/#plfa_plfa-part3-Denotational-9210" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9215" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9217" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9219" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9220" href="../Denotational/#plfa_plfa-part3-Denotational-9220" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9221" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9223" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9225" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9229" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9230" href="../Denotational/#plfa_plfa-part3-Denotational-9220" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9232" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9234" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9235" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9237" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9239" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-9245" href="../Denotational/#plfa_plfa-part3-Denotational-9210" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9250" href="../Denotational/#plfa_plfa-part3-Denotational-9250" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9252" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9254" href="../Denotational/#plfa_plfa-part3-Denotational-9250" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9256" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-9259" href="../Denotational/#plfa_plfa-part3-Denotational-9259" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9269" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9271" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9273" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9274" href="../Denotational/#plfa_plfa-part3-Denotational-9274" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9275" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9277" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9279" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9280" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9282" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9284" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9288" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9289" href="../Denotational/#plfa_plfa-part3-Denotational-9274" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9291" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9293" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9294" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-9297" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9299" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9301" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9303" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9304" href="../Denotational/#plfa_plfa-part3-Denotational-9155" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9309" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9311" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9314" href="../Denotational/#plfa_plfa-part3-Denotational-9210" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9319" href="../Denotational/#plfa_plfa-part3-Denotational-9280" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9320" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-9322" href="../Denotational/#plfa_plfa-part3-Denotational-9259" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9332" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9333" href="../Denotational/#plfa_plfa-part3-Denotational-9333" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9334" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9336" href="../Denotational/#plfa_plfa-part3-Denotational-9336" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9338" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9340" href="../Substitution/#plfa_plfa-part2-Substitution-2269" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-9355" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-9363" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-9369" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9375" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9377" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9379" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9380" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9382" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9384" href="../Denotational/#plfa_plfa-part3-Denotational-9333" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9386" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9388" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-9390" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9392" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9393" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9395" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9397" href="../Denotational/#plfa_plfa-part3-Denotational-9336" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9399" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9401" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9403" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9404" href="../Denotational/#plfa_plfa-part3-Denotational-9155" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9409" href="../Denotational/#plfa_plfa-part3-Denotational-9336" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9411" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9414" href="../Denotational/#plfa_plfa-part3-Denotational-9210" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9419" href="../Denotational/#plfa_plfa-part3-Denotational-9336" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9420" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9422" href="../Denotational/#plfa_plfa-part3-Denotational-9380" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-9432" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9438" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-9445" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9448" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-9461" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9467" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9468" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9470" href="../Denotational/#plfa_plfa-part3-Denotational-9470" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9471" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-9474" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9477" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><p>我们将 <code>⊑</code> 关系逐点（Point-wise）扩展到具有以下定义的环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-9629" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9634" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9636" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9638" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9639" href="../Denotational/#plfa_plfa-part3-Denotational-9639" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9640" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9642" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9644" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9648" href="../Denotational/#plfa_plfa-part3-Denotational-9639" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9650" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9652" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9656" href="../Denotational/#plfa_plfa-part3-Denotational-9639" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9658" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9660" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-9664" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9669" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9670" href="../Denotational/#plfa_plfa-part3-Denotational-9670" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9671" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9673" href="../Denotational/#plfa_plfa-part3-Denotational-9673" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9675" href="../Denotational/#plfa_plfa-part3-Denotational-9675" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9677" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9679" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9681" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9682" href="../Denotational/#plfa_plfa-part3-Denotational-9682" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9684" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9686" href="../Denotational/#plfa_plfa-part3-Denotational-9670" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9688" href="../Untyped/#plfa_plfa-part2-Untyped-4323" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9690" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9691" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9693" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9695" href="../Denotational/#plfa_plfa-part3-Denotational-9673" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9697" href="../Denotational/#plfa_plfa-part3-Denotational-9682" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9699" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9701" href="../Denotational/#plfa_plfa-part3-Denotational-9675" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9703" href="../Denotational/#plfa_plfa-part3-Denotational-9682" class="Bound">x</a>
</pre><p>我们定义了一个底环境和一个环境上的连接运算符，它接受它们的值的逐点连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-9883" href="../Denotational/#plfa_plfa-part3-Denotational-9883" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9886" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9888" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9890" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9891" href="../Denotational/#plfa_plfa-part3-Denotational-9891" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9892" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9894" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9896" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9900" href="../Denotational/#plfa_plfa-part3-Denotational-9891" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9902" href="../Denotational/#plfa_plfa-part3-Denotational-9883" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9905" href="../Denotational/#plfa_plfa-part3-Denotational-9905" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9907" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9909" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-9912" href="../Denotational/#plfa_plfa-part3-Denotational-9912" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-9917" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9919" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9921" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9922" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9923" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9925" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9927" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9931" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9933" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9935" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9939" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9941" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9943" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9947" href="../Denotational/#plfa_plfa-part3-Denotational-9922" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9949" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9950" href="../Denotational/#plfa_plfa-part3-Denotational-9950" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9952" href="../Denotational/#plfa_plfa-part3-Denotational-9912" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-9955" href="../Denotational/#plfa_plfa-part3-Denotational-9955" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-9956" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9958" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9960" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9962" href="../Denotational/#plfa_plfa-part3-Denotational-9950" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9964" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9966" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-9968" href="../Denotational/#plfa_plfa-part3-Denotational-9955" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9970" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">x</a>
</pre><p><code>⊑-refl</code>、<code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 规则对环境也适用，因此两个环境 <code>γ</code> 和 <code>δ</code> 的连接大于第一个环境 <code>γ</code> 或第二个环境 <code>δ</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-10472" href="../Denotational/#plfa_plfa-part3-Denotational-10472" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10480" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10482" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10484" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10485" href="../Denotational/#plfa_plfa-part3-Denotational-10485" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10486" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10488" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10489" href="../Denotational/#plfa_plfa-part3-Denotational-10489" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10491" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10493" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10497" href="../Denotational/#plfa_plfa-part3-Denotational-10485" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10498" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10500" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10502" href="../Denotational/#plfa_plfa-part3-Denotational-10489" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10504" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10507" href="../Denotational/#plfa_plfa-part3-Denotational-10489" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-10509" href="../Denotational/#plfa_plfa-part3-Denotational-10472" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10517" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10518" href="../Denotational/#plfa_plfa-part3-Denotational-10518" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10519" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10521" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10522" href="../Denotational/#plfa_plfa-part3-Denotational-10522" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10523" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10525" href="../Denotational/#plfa_plfa-part3-Denotational-10525" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10527" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10529" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10536" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10537" href="../Denotational/#plfa_plfa-part3-Denotational-10522" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10539" href="../Denotational/#plfa_plfa-part3-Denotational-10525" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-10540" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-10543" href="../Denotational/#plfa_plfa-part3-Denotational-10543" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10557" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10559" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10561" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10562" href="../Denotational/#plfa_plfa-part3-Denotational-10562" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10563" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10565" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10567" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10568" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10570" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10572" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10576" href="../Denotational/#plfa_plfa-part3-Denotational-10562" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10577" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10579" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10581" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10582" href="../Denotational/#plfa_plfa-part3-Denotational-10582" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10584" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10586" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10590" href="../Denotational/#plfa_plfa-part3-Denotational-10562" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10591" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10593" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10595" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10597" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10600" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10601" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10603" href="../Denotational/#plfa_plfa-part3-Denotational-9912" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10606" href="../Denotational/#plfa_plfa-part3-Denotational-10582" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10607" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10609" href="../Denotational/#plfa_plfa-part3-Denotational-10543" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10623" href="../Denotational/#plfa_plfa-part3-Denotational-10623" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10625" href="../Denotational/#plfa_plfa-part3-Denotational-10625" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10627" href="../Denotational/#plfa_plfa-part3-Denotational-10627" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10629" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10631" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10641" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-10649" href="../Denotational/#plfa_plfa-part3-Denotational-10649" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10663" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10665" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10667" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10668" href="../Denotational/#plfa_plfa-part3-Denotational-10668" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10669" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10671" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10673" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10674" href="../Denotational/#plfa_plfa-part3-Denotational-10674" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10676" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10678" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10682" href="../Denotational/#plfa_plfa-part3-Denotational-10668" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10683" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10685" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10687" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10688" href="../Denotational/#plfa_plfa-part3-Denotational-10688" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10690" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10692" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10696" href="../Denotational/#plfa_plfa-part3-Denotational-10668" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10697" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10699" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10701" href="../Denotational/#plfa_plfa-part3-Denotational-10688" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10703" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10706" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10707" href="../Denotational/#plfa_plfa-part3-Denotational-10674" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10709" href="../Denotational/#plfa_plfa-part3-Denotational-9912" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10712" href="../Denotational/#plfa_plfa-part3-Denotational-10688" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10713" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10715" href="../Denotational/#plfa_plfa-part3-Denotational-10649" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10729" href="../Denotational/#plfa_plfa-part3-Denotational-10729" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10731" href="../Denotational/#plfa_plfa-part3-Denotational-10731" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10733" href="../Denotational/#plfa_plfa-part3-Denotational-10733" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10735" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10737" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10747" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>
</pre><h2 id="指称语义">指称语义</h2><p>我们用形如 <code>ρ ⊢ M ↓ v</code> 的判断来定义语义，其中 <code>ρ</code> 是环境，<code>M</code> 程序，<code>v</code> 是结果值。 对于熟悉大步语义的读者来说，这种表示法会感觉很自然，但不要让这种相似性欺骗了你。 二者之间存在细微但重要的差异！下面是语义的定义，我们将在后面的段落中详细讨论：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-11367" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-11373" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-11375" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-11382" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-11387" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-11393" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11395" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-11397" href="../Denotational/#plfa_plfa-part3-Denotational-11397" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11398" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11400" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11402" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11406" href="../Denotational/#plfa_plfa-part3-Denotational-11397" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11408" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11410" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11411" href="../Denotational/#plfa_plfa-part3-Denotational-11397" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11413" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11415" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-11416" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11418" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11420" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-11426" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11428" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-11432" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-11441" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-11445" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11447" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11449" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11450" href="../Denotational/#plfa_plfa-part3-Denotational-11450" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11451" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11453" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11454" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11456" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11458" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11462" href="../Denotational/#plfa_plfa-part3-Denotational-11450" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11463" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11465" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11466" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11467" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11475" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11495" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11497" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11499" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11501" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11502" href="../Untyped/#plfa_plfa-part2-Untyped-5402" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-11504" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11505" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11507" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11509" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11511" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-11516" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-11523" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11525" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11527" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11528" href="../Denotational/#plfa_plfa-part3-Denotational-11528" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11529" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11531" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11532" href="../Denotational/#plfa_plfa-part3-Denotational-11532" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11534" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11536" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11540" href="../Denotational/#plfa_plfa-part3-Denotational-11528" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11541" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11543" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11544" href="../Denotational/#plfa_plfa-part3-Denotational-11544" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11546" href="../Denotational/#plfa_plfa-part3-Denotational-11546" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11548" href="../Denotational/#plfa_plfa-part3-Denotational-11548" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11550" href="../Denotational/#plfa_plfa-part3-Denotational-11550" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11551" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11557" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11559" href="../Denotational/#plfa_plfa-part3-Denotational-11532" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11561" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11563" href="../Denotational/#plfa_plfa-part3-Denotational-11544" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11565" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11567" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11568" href="../Denotational/#plfa_plfa-part3-Denotational-11548" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11570" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11572" href="../Denotational/#plfa_plfa-part3-Denotational-11550" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11573" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-11579" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11581" href="../Denotational/#plfa_plfa-part3-Denotational-11532" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11583" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11585" href="../Denotational/#plfa_plfa-part3-Denotational-11546" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11587" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11589" href="../Denotational/#plfa_plfa-part3-Denotational-11548" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11597" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11617" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11619" href="../Denotational/#plfa_plfa-part3-Denotational-11532" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11621" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11623" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11624" href="../Denotational/#plfa_plfa-part3-Denotational-11544" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11626" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-11628" href="../Denotational/#plfa_plfa-part3-Denotational-11546" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11629" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11631" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11633" href="../Denotational/#plfa_plfa-part3-Denotational-11550" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-11638" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-11646" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11648" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11650" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11651" href="../Denotational/#plfa_plfa-part3-Denotational-11651" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11652" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11654" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11655" href="../Denotational/#plfa_plfa-part3-Denotational-11655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11657" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11659" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11663" href="../Denotational/#plfa_plfa-part3-Denotational-11651" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11664" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11666" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11667" href="../Denotational/#plfa_plfa-part3-Denotational-11667" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11669" href="../Denotational/#plfa_plfa-part3-Denotational-11669" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11671" href="../Denotational/#plfa_plfa-part3-Denotational-11671" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11672" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11678" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11680" href="../Denotational/#plfa_plfa-part3-Denotational-11655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11682" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-11685" href="../Denotational/#plfa_plfa-part3-Denotational-11669" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11687" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11689" href="../Denotational/#plfa_plfa-part3-Denotational-11667" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11691" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11693" href="../Denotational/#plfa_plfa-part3-Denotational-11671" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11701" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-11725" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11727" href="../Denotational/#plfa_plfa-part3-Denotational-11655" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11729" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11731" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11732" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-11734" href="../Denotational/#plfa_plfa-part3-Denotational-11667" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-11735" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11737" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11739" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11740" href="../Denotational/#plfa_plfa-part3-Denotational-11669" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11742" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11744" href="../Denotational/#plfa_plfa-part3-Denotational-11671" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11745" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-11750" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-11758" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11760" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11762" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11763" href="../Denotational/#plfa_plfa-part3-Denotational-11763" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11764" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11766" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11767" href="../Denotational/#plfa_plfa-part3-Denotational-11767" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11771" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11775" href="../Denotational/#plfa_plfa-part3-Denotational-11763" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11776" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11778" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11779" href="../Denotational/#plfa_plfa-part3-Denotational-11779" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11780" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11788" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-11802" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11804" href="../Denotational/#plfa_plfa-part3-Denotational-11767" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11806" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11808" href="../Denotational/#plfa_plfa-part3-Denotational-11779" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11810" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11812" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-11817" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11825" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11827" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11829" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11830" href="../Denotational/#plfa_plfa-part3-Denotational-11830" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11831" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11833" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11834" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11836" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11838" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11842" href="../Denotational/#plfa_plfa-part3-Denotational-11830" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11843" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11845" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11846" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11848" href="../Denotational/#plfa_plfa-part3-Denotational-11848" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11850" href="../Denotational/#plfa_plfa-part3-Denotational-11850" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11851" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11857" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11859" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11861" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11863" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11865" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11867" href="../Denotational/#plfa_plfa-part3-Denotational-11848" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11873" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11875" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11877" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11879" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11881" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11883" href="../Denotational/#plfa_plfa-part3-Denotational-11850" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11891" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11911" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11913" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11915" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11917" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11919" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11921" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11922" href="../Denotational/#plfa_plfa-part3-Denotational-11848" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11924" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11926" href="../Denotational/#plfa_plfa-part3-Denotational-11850" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11927" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-11932" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-11936" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11938" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11940" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11941" href="../Denotational/#plfa_plfa-part3-Denotational-11941" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11942" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11944" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11945" href="../Denotational/#plfa_plfa-part3-Denotational-11945" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11947" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11949" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11953" href="../Denotational/#plfa_plfa-part3-Denotational-11941" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11954" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11956" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11957" href="../Denotational/#plfa_plfa-part3-Denotational-11957" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11959" href="../Denotational/#plfa_plfa-part3-Denotational-11959" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11961" href="../Denotational/#plfa_plfa-part3-Denotational-11961" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11962" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11968" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11970" href="../Denotational/#plfa_plfa-part3-Denotational-11945" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11972" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11974" href="../Denotational/#plfa_plfa-part3-Denotational-11957" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11976" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11978" href="../Denotational/#plfa_plfa-part3-Denotational-11959" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11984" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11986" href="../Denotational/#plfa_plfa-part3-Denotational-11961" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-11988" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-11990" href="../Denotational/#plfa_plfa-part3-Denotational-11959" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11998" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-12012" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12014" href="../Denotational/#plfa_plfa-part3-Denotational-11945" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12016" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12018" href="../Denotational/#plfa_plfa-part3-Denotational-11957" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12020" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12022" href="../Denotational/#plfa_plfa-part3-Denotational-11961" class="Bound">w</a>
</pre><p>考虑 λ-抽象的规则 <code>↦-intro</code>，它表示 λ-抽象会生成一个单条目的表，该表将输入 <code>v</code> 映射到输出 <code>w</code>，前提是在 <code>v</code> 绑定到形参的环境中求值时会产生输出 <code>w</code>。 作为此规则的简单示例，我们可以看到恒等函数将 <code>⊥</code> 映射到 <code>⊥</code>，同样也会将 <code>⊥</code> ↦ <code>⊥</code> 映射到 <code>⊥ ↦ ⊥</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-12598" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12601" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12603" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-12605" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12607" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-12609" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12612" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12614" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-12616" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-12618" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-12633" href="../Denotational/#plfa_plfa-part3-Denotational-12633" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12643" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12645" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12647" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12648" href="../Denotational/#plfa_plfa-part3-Denotational-12648" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12649" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12651" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12653" href="../Denotational/#plfa_plfa-part3-Denotational-12648" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12655" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12657" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12660" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12662" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12664" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12666" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-12668" href="../Denotational/#plfa_plfa-part3-Denotational-12633" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12678" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12680" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12688" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-12693" href="../Denotational/#plfa_plfa-part3-Denotational-12693" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12703" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12705" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12707" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12708" href="../Denotational/#plfa_plfa-part3-Denotational-12708" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12709" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12711" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12713" href="../Denotational/#plfa_plfa-part3-Denotational-12708" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12715" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12717" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12720" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12722" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12723" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12725" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12727" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12728" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12730" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12732" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12733" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12735" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12737" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12738" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12740" href="../Denotational/#plfa_plfa-part3-Denotational-12693" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12750" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12752" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12760" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a>
</pre><p>当然，我们需要多行表格来刻画 λ-抽象的含义。它们可以用 <code>⊔-intro</code> 规则构建。如果项 <code>M</code>（通常是一个 λ-抽象）可以产生表格 <code>v</code> 和 <code>w</code>， 那么它也可以产生合并的表格 <code>v ⊔ w</code>。我们可以从操作的视角看待规则 <code>↦-intro</code> 和 <code>⊔-intro</code>。想象一下，当解释器首次遇到 λ-抽象时， 它会在许多随机选择的参数上预先对函数求值，使用多个 <code>↦-intro</code> 规则的实例，然后再使用多个 <code>⊔-intro</code> 规则将它们合并成一个大表格。 在接下来的内容中，我们将展示恒等函数产生一个包含上述两个结果的表格 <code>⊥ ↦ ⊥</code>和<code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-13841" href="../Denotational/#plfa_plfa-part3-Denotational-13841" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13851" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13853" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13856" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13858" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-13861" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13863" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13864" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13866" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13868" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13869" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13871" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13873" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13874" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13876" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13878" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13879" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13881" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13883" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13884" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13886" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13888" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13889" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13891" href="../Denotational/#plfa_plfa-part3-Denotational-13841" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13901" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13903" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-13911" href="../Denotational/#plfa_plfa-part3-Denotational-12633" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-13921" href="../Denotational/#plfa_plfa-part3-Denotational-12693" class="Function">denot-id2</a>
</pre><p>我们通常认为判断 <code>γ ⊢ M ↓ v</code> 以环境 <code>γ</code> 和项 <code>M</code> 为输入，产生结果 <code>v</code>。 然而重点在于，语义是一种<strong>关系</strong>。上述恒等函数的结果表明， 相同的环境和项可以映射为不同的结果。然而，对于给定的 <code>γ</code> 和 <code>M</code> ，它们的结果并不会有<strong>太大</strong>区别，毕竟它们都是同一个函数的有限近似。 或许考虑判断 <code>γ ⊢ M ↓ v</code> 更好的方法是将 <code>γ</code>、<code>M</code> 和 <code>v</code> 都视为输入， 其语义则是判定 <code>v</code> 是否为精确的环境 <code>γ</code> 中 <code>M</code> 的求值结果的部分描述。</p><p>接下来我们考虑 <code>↦-elim</code> 规则给出的函数应用的含义。 以此规则为前提，我们有规则 <code>L</code> 将 <code>v</code> 映射到 <code>w</code>。 因此，如果 <code>M</code> 产生 <code>v</code>，那么将 <code>L</code> 应用于 <code>M</code> 会产生 <code>w</code>。</p><p>举一个函数应用和 <code>↦-elim</code> 规则的例子，我们将恒等函数应用于自身。 实际上，我们有 <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> 的同时还有 <code>∅ ⊢ id ↓ (u ↦ u)</code>，因此我们可以应用规则 <code>↦-elim</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-15578" href="../Denotational/#plfa_plfa-part3-Denotational-15578" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15588" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15590" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-15592" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15593" href="../Denotational/#plfa_plfa-part3-Denotational-15593" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15595" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15597" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-15602" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15604" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-15606" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15609" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15611" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15614" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15616" href="../Denotational/#plfa_plfa-part3-Denotational-12598" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15619" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15621" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15622" href="../Denotational/#plfa_plfa-part3-Denotational-15593" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15624" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-15626" href="../Denotational/#plfa_plfa-part3-Denotational-15593" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15627" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-15629" href="../Denotational/#plfa_plfa-part3-Denotational-15578" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15639" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15640" href="../Denotational/#plfa_plfa-part3-Denotational-15640" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15641" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15643" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15645" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15652" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15653" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15661" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15664" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15666" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15667" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15675" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15678" class="Symbol">)</a>
</pre><p>接着我们重新考虑丘奇数 <code>2</code>：<code>λ f. λ u. (f (f u))</code>。该函数有两个参数：<code>f</code> 和一个任意值 <code>u</code>，并将 <code>f</code> 应用两次。于是 <code>f</code> 必定将 <code>u</code> 映射到某个值， 我们将其命名为 <code>v</code>。接着，对于第二次应用，<code>f</code> 必定将 <code>v</code> 映射到某个值， 我们将其命名为 <code>w</code>。因此该函数的表格必定包含两个条目，即 <code>u ↦ v</code> 和 <code>v ↦ w</code>。 对于该表格的每一次应用，我们用 <code>sub</code> 规则提取对应的条目。具体来说， 就是用 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 从表格 <code>u ↦ v ⊔ v ↦ w</code> 中分别选出 <code>u ↦ v</code> 和 <code>v ↦ w</code>。所以 <code>twoᶜ</code> 的含义就是接受该表格和参数 <code>u</code>，然后返回 <code>w</code>。 实际上我们是通过以下过程把它推导出来的：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-16799" href="../Denotational/#plfa_plfa-part3-Denotational-16799" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16810" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16812" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-16814" href="../Denotational/#plfa_plfa-part3-Denotational-16814" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16816" href="../Denotational/#plfa_plfa-part3-Denotational-16816" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16818" href="../Denotational/#plfa_plfa-part3-Denotational-16818" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16820" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16822" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-16827" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16829" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16831" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-16834" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16836" href="../Untyped/#plfa_plfa-part2-Untyped-6734" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16841" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16843" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-16845" href="../Denotational/#plfa_plfa-part3-Denotational-16814" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16847" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16849" href="../Denotational/#plfa_plfa-part3-Denotational-16816" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16851" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16853" href="../Denotational/#plfa_plfa-part3-Denotational-16816" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16855" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16857" href="../Denotational/#plfa_plfa-part3-Denotational-16818" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16858" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16860" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16862" href="../Denotational/#plfa_plfa-part3-Denotational-16814" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16864" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16866" href="../Denotational/#plfa_plfa-part3-Denotational-16818" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16867" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-16869" href="../Denotational/#plfa_plfa-part3-Denotational-16799" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16880" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16881" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-16882" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16884" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-16885" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16887" href="../Denotational/#plfa_plfa-part3-Denotational-16887" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16888" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16890" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-16894" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16902" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16903" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16911" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16912" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16919" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16920" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16924" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16928" href="../Denotational/#plfa_plfa-part3-Denotational-16970" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-16931" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16933" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16934" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16941" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16942" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16946" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16950" href="../Denotational/#plfa_plfa-part3-Denotational-17053" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-16953" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16955" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-16958" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-16964" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-16970" href="../Denotational/#plfa_plfa-part3-Denotational-16970" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-16974" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16976" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16978" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16980" href="../Denotational/#plfa_plfa-part3-Denotational-16887" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16982" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-16984" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16986" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16988" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16990" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16992" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16994" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16996" href="../Denotational/#plfa_plfa-part3-Denotational-16887" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17006" href="../Denotational/#plfa_plfa-part3-Denotational-16970" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17010" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17012" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17022" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17023" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17029" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17036" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17042" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-17053" href="../Denotational/#plfa_plfa-part3-Denotational-17053" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17057" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17059" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17061" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17063" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17065" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17067" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17069" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17071" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17073" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17075" href="../Denotational/#plfa_plfa-part3-Denotational-16884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17077" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17079" href="../Denotational/#plfa_plfa-part3-Denotational-16887" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17089" href="../Denotational/#plfa_plfa-part3-Denotational-17053" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17093" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17095" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17096" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17106" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17107" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17113" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17120" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17126" class="Symbol">))</a>
</pre><p>接下来展示一个自应用的经典例子：<code>Δ = λx. (x x)</code>。 <code>x</code> 的输入值必须是一个表格，其中有一个条目将其自身较小的版本 <code>v</code> 映射到某个值 <code>w</code>，所以输入值类似于 <code>v ↦ w ⊔ v</code>。当然， <code>Δ</code> 的输出就是 <code>w</code>，推导过程如下所示。第一个 <code>x</code> 求值为 <code>v ↦ w</code>， 第二个 <code>x</code> 求值为 <code>v</code>，应用的结果为 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-17809" href="../Denotational/#plfa_plfa-part3-Denotational-17809" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17811" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17813" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-17815" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17817" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-17819" href="../Denotational/#plfa_plfa-part3-Denotational-17809" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17821" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17823" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17824" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-17826" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17827" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17829" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17830" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17832" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-17834" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17835" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17837" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17838" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-17842" href="../Denotational/#plfa_plfa-part3-Denotational-17842" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17850" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17852" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17854" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17855" href="../Denotational/#plfa_plfa-part3-Denotational-17855" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17857" href="../Denotational/#plfa_plfa-part3-Denotational-17857" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17858" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17860" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17862" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-17865" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17867" href="../Denotational/#plfa_plfa-part3-Denotational-17809" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17869" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17871" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-17873" href="../Denotational/#plfa_plfa-part3-Denotational-17855" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17875" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17877" href="../Denotational/#plfa_plfa-part3-Denotational-17857" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17879" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17881" href="../Denotational/#plfa_plfa-part3-Denotational-17855" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17882" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17884" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17886" href="../Denotational/#plfa_plfa-part3-Denotational-17857" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17887" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-17889" href="../Denotational/#plfa_plfa-part3-Denotational-17842" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17897" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17899" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-17907" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17908" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17915" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17916" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17920" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17924" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17925" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17935" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17941" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-17970" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17971" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17975" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17979" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17980" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17990" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17996" class="Symbol">)))</a>
</pre><p>你可能会担心这种语义是否可以处理发散的程序。值 <code>⊥</code> 和规则 <code>⊥-intro</code> 提供了一种处理它们的方法（<code>⊥-intro</code> 规则也是 β-归约能够应用于不停机参数的原因）。 经典的 <code>Ω</code> 程序是一个特别简单的发散程序，它将 <code>Δ</code> 应用于自身，语义赋予 <code>Ω</code> 含义 <code>⊥</code>。有多种方法可以得出它，我们将从使用 <code>⊔-intro</code> 规则的方法开始。 首先，<code>denot-Δ</code> 告诉我们 <code>Δ</code> 的计算结果为 <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code>（选择 <code>v₁ = v2 = ⊥</code> ）。接着，<code>Δ</code> 还通过使用 <code>↦-intro</code> 和 <code>⊥-intro</code> 求值为 <code>⊥ ↦ ⊥</code>，并通过 <code>⊥-intro</code> 求值为 <code>⊥</code>。正如我们之前所看到的， 只要我们能证明程序会求值出两个值，我们就能应用 <code>⊔-intro</code> 将它们连接在一起， 于是 <code>Δ</code> 求值为 <code>(⊥ ↦ ⊥) ⊔ ⊥</code>，这与第一个 <code>Δ</code> 的输入相匹配， 因此可得应用的结果是 <code>⊥</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-19396" href="../Denotational/#plfa_plfa-part3-Denotational-19396" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19398" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19400" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-19402" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19404" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-19406" href="../Denotational/#plfa_plfa-part3-Denotational-19396" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19408" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19410" href="../Denotational/#plfa_plfa-part3-Denotational-17809" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-19412" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-19414" href="../Denotational/#plfa_plfa-part3-Denotational-17809" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-19417" href="../Denotational/#plfa_plfa-part3-Denotational-19417" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19425" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19427" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19430" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19432" href="../Denotational/#plfa_plfa-part3-Denotational-19396" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19434" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19436" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19438" href="../Denotational/#plfa_plfa-part3-Denotational-19417" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19446" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19448" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-19455" href="../Denotational/#plfa_plfa-part3-Denotational-17842" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-19463" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19464" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-19472" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19473" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-19481" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19488" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19490" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19497" class="Symbol">)</a>
</pre><p>同一结果的较短推导就是单纯使用 <code>⊥-intro</code> 规则：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-19635" href="../Denotational/#plfa_plfa-part3-Denotational-19635" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19644" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19646" href="../Denotational/#plfa_plfa-part3-Denotational-8818" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19649" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19651" href="../Denotational/#plfa_plfa-part3-Denotational-19396" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19653" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19655" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19657" href="../Denotational/#plfa_plfa-part3-Denotational-19635" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19666" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19668" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a>
</pre><p>仅凭对某个封闭项 <code>M</code> 可以推导出 <code>∅ ⊢ M ↓ ⊥</code> 并不意味着 <code>M</code> 必然发散。 可能还有其他可以推出 <code>M</code> 的推导过程，能产生包含更多信息的值。然而， 如果一个项求值的唯一结果是 <code>⊥</code>，那么它确实发散。</p><p>细心的读者会发现，我们计划解决自应用问题的方式与实际应用的 <code>↦-elim</code> 规则之间存在脱节。开头说过，我们会放宽查表的概念， 如果参数等于或大于输入条目，则允许参数匹配输入条目。然而，<code>↦-elim</code> 规则似乎需要精确匹配，但由于存在 <code>sub</code> 规则，应用确实可以允许更大的参数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-20739" href="../Denotational/#plfa_plfa-part3-Denotational-20739" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20747" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20749" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-20751" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20752" href="../Denotational/#plfa_plfa-part3-Denotational-20752" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20753" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20755" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20756" href="../Denotational/#plfa_plfa-part3-Denotational-20756" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20758" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20760" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-20764" href="../Denotational/#plfa_plfa-part3-Denotational-20752" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20765" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20767" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20768" href="../Denotational/#plfa_plfa-part3-Denotational-20768" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20771" href="../Denotational/#plfa_plfa-part3-Denotational-20771" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20774" href="../Denotational/#plfa_plfa-part3-Denotational-20774" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20777" href="../Denotational/#plfa_plfa-part3-Denotational-20777" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-20780" href="../Denotational/#plfa_plfa-part3-Denotational-20780" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20782" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-20786" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20788" href="../Denotational/#plfa_plfa-part3-Denotational-20756" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20790" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20792" href="../Denotational/#plfa_plfa-part3-Denotational-20768" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20795" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20797" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20798" href="../Denotational/#plfa_plfa-part3-Denotational-20774" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20801" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-20803" href="../Denotational/#plfa_plfa-part3-Denotational-20780" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20805" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-20809" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20811" href="../Denotational/#plfa_plfa-part3-Denotational-20756" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20813" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20815" href="../Denotational/#plfa_plfa-part3-Denotational-20771" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20818" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20820" href="../Denotational/#plfa_plfa-part3-Denotational-20777" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-20825" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20827" href="../Denotational/#plfa_plfa-part3-Denotational-20774" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20830" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-20832" href="../Denotational/#plfa_plfa-part3-Denotational-20777" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-20839" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-20860" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20862" href="../Denotational/#plfa_plfa-part3-Denotational-20756" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20864" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20866" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20867" href="../Denotational/#plfa_plfa-part3-Denotational-20768" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20870" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-20872" href="../Denotational/#plfa_plfa-part3-Denotational-20771" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-20874" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-20876" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20878" href="../Denotational/#plfa_plfa-part3-Denotational-20780" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-20881" href="../Denotational/#plfa_plfa-part3-Denotational-20739" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20889" href="../Denotational/#plfa_plfa-part3-Denotational-20889" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20892" href="../Denotational/#plfa_plfa-part3-Denotational-20892" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20895" href="../Denotational/#plfa_plfa-part3-Denotational-20895" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-20898" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-20900" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-20907" href="../Denotational/#plfa_plfa-part3-Denotational-20889" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20910" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20911" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-20915" href="../Denotational/#plfa_plfa-part3-Denotational-20892" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20918" href="../Denotational/#plfa_plfa-part3-Denotational-20895" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-20920" class="Symbol">)</a>
</pre><h4 id="练习-denot-plusᶜ实践">练习 <code>denot-plusᶜ</code>（实践）</h4><p><code>plusᶜ</code> 的指称是什么？即，找到一个值 <code>v</code>（排除 <code>⊥</code>），使得 <code>∅ ⊢ plusᶜ ↓ v</code>。 此外，对你选择的 <code>v</code> 给出 <code>∅ ⊢ plusᶜ ↓ v</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-21282" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="指称与指称相等">指称与指称相等</h2><p>接下来我们基于上述语义来定义指称相等的概念，它的语句使用了「当且仅当」， 其定义如下</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-21578" href="../Denotational/#plfa_plfa-part3-Denotational-21578" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-21584" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21586" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21590" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21592" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21596" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21598" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-21602" href="../Denotational/#plfa_plfa-part3-Denotational-21602" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21604" href="../Denotational/#plfa_plfa-part3-Denotational-21578" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-21608" href="../Denotational/#plfa_plfa-part3-Denotational-21608" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21610" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21612" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21613" href="../Denotational/#plfa_plfa-part3-Denotational-21602" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21615" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21617" href="../Denotational/#plfa_plfa-part3-Denotational-21608" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-21618" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-21620" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-21622" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21623" href="../Denotational/#plfa_plfa-part3-Denotational-21608" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21625" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21627" href="../Denotational/#plfa_plfa-part3-Denotational-21602" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-21628" class="Symbol">)</a>
</pre><p>看待指称语义的另一种方式是将它看作一个函数，它将项映射为一个从环境到值的关系， 即，项的<strong>指称（Denotation）</strong>是一个从环境到值的关系。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-21933" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-21944" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21946" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-21954" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21956" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-21961" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-21972" href="../Denotational/#plfa_plfa-part3-Denotational-21972" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-21974" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21976" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21977" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-21981" href="../Denotational/#plfa_plfa-part3-Denotational-21972" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-21983" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21985" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-21991" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21993" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-21996" class="Symbol">)</a>
</pre><p>下面的函数 ℰ 给出了语义的另一种视角，它相当于只改变了参数的顺序：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-22195" href="../Denotational/#plfa_plfa-part3-Denotational-22195" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22197" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22199" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-22201" href="../Denotational/#plfa_plfa-part3-Denotational-22201" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22202" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22204" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22206" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22207" href="../Denotational/#plfa_plfa-part3-Denotational-22207" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22209" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22211" href="../Denotational/#plfa_plfa-part3-Denotational-22201" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22213" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22215" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-22216" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22218" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22220" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22231" href="../Denotational/#plfa_plfa-part3-Denotational-22201" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-22233" href="../Denotational/#plfa_plfa-part3-Denotational-22195" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22235" href="../Denotational/#plfa_plfa-part3-Denotational-22235" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22237" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22239" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-22241" href="../Denotational/#plfa_plfa-part3-Denotational-22241" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22243" href="../Denotational/#plfa_plfa-part3-Denotational-22243" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22245" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22247" href="../Denotational/#plfa_plfa-part3-Denotational-22241" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22249" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22251" href="../Denotational/#plfa_plfa-part3-Denotational-22235" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22253" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-22255" href="../Denotational/#plfa_plfa-part3-Denotational-22243" class="Bound">v</a>
</pre><p>一般来说，当两个指称在相同的环境中能够产生相同的值时，二者就是相等的。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-22414" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-22420" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-22422" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-22427" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22431" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22433" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22435" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22436" href="../Denotational/#plfa_plfa-part3-Denotational-22436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22437" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22439" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22441" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22442" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22453" href="../Denotational/#plfa_plfa-part3-Denotational-22436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22454" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22456" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22458" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22459" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22470" href="../Denotational/#plfa_plfa-part3-Denotational-22436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22471" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22473" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22475" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-22479" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22480" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22484" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22485" href="../Denotational/#plfa_plfa-part3-Denotational-22485" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22486" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22488" href="../Denotational/#plfa_plfa-part3-Denotational-22488" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22491" href="../Denotational/#plfa_plfa-part3-Denotational-22491" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-22493" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22495" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22497" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22498" href="../Denotational/#plfa_plfa-part3-Denotational-22498" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22500" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22502" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22506" href="../Denotational/#plfa_plfa-part3-Denotational-22485" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22507" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22509" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22511" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22512" href="../Denotational/#plfa_plfa-part3-Denotational-22512" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22514" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22516" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-22521" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22523" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22525" href="../Denotational/#plfa_plfa-part3-Denotational-22488" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22528" href="../Denotational/#plfa_plfa-part3-Denotational-22498" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22530" href="../Denotational/#plfa_plfa-part3-Denotational-22512" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22532" href="../Denotational/#plfa_plfa-part3-Denotational-21578" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-22536" href="../Denotational/#plfa_plfa-part3-Denotational-22491" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-22539" href="../Denotational/#plfa_plfa-part3-Denotational-22498" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22541" href="../Denotational/#plfa_plfa-part3-Denotational-22512" class="Bound">v</a>
</pre><p>指称相等是一种等价关系：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-22630" href="../Denotational/#plfa_plfa-part3-Denotational-22630" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22637" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22639" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22641" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22642" href="../Denotational/#plfa_plfa-part3-Denotational-22642" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22644" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22646" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22653" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22655" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22657" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22658" href="../Denotational/#plfa_plfa-part3-Denotational-22658" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22660" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22662" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22673" href="../Denotational/#plfa_plfa-part3-Denotational-22642" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22674" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22678" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22680" href="../Denotational/#plfa_plfa-part3-Denotational-22658" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22682" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22684" href="../Denotational/#plfa_plfa-part3-Denotational-22658" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22686" href="../Denotational/#plfa_plfa-part3-Denotational-22630" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22693" href="../Denotational/#plfa_plfa-part3-Denotational-22693" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22695" href="../Denotational/#plfa_plfa-part3-Denotational-22695" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22697" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22699" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22701" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22704" href="../Denotational/#plfa_plfa-part3-Denotational-22704" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22706" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22708" href="../Denotational/#plfa_plfa-part3-Denotational-22704" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22709" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22711" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22713" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22716" href="../Denotational/#plfa_plfa-part3-Denotational-22716" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22718" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22720" href="../Denotational/#plfa_plfa-part3-Denotational-22716" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22721" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22723" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-22726" href="../Denotational/#plfa_plfa-part3-Denotational-22726" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22732" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22734" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22736" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22737" href="../Denotational/#plfa_plfa-part3-Denotational-22737" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22739" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22741" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22748" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22750" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22752" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22753" href="../Denotational/#plfa_plfa-part3-Denotational-22753" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22755" href="../Denotational/#plfa_plfa-part3-Denotational-22755" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22757" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22759" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22770" href="../Denotational/#plfa_plfa-part3-Denotational-22737" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22771" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22775" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22777" href="../Denotational/#plfa_plfa-part3-Denotational-22753" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22779" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22781" href="../Denotational/#plfa_plfa-part3-Denotational-22755" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-22787" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-22795" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22797" href="../Denotational/#plfa_plfa-part3-Denotational-22755" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22799" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22801" href="../Denotational/#plfa_plfa-part3-Denotational-22753" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22803" href="../Denotational/#plfa_plfa-part3-Denotational-22726" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22809" href="../Denotational/#plfa_plfa-part3-Denotational-22809" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22812" href="../Denotational/#plfa_plfa-part3-Denotational-22812" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22814" href="../Denotational/#plfa_plfa-part3-Denotational-22814" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22816" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22818" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22820" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22821" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-22827" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22828" href="../Denotational/#plfa_plfa-part3-Denotational-22809" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22831" href="../Denotational/#plfa_plfa-part3-Denotational-22812" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22833" href="../Denotational/#plfa_plfa-part3-Denotational-22814" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22834" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22837" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22839" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22840" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22846" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22847" href="../Denotational/#plfa_plfa-part3-Denotational-22809" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22850" href="../Denotational/#plfa_plfa-part3-Denotational-22812" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22852" href="../Denotational/#plfa_plfa-part3-Denotational-22814" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22853" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22856" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-22859" href="../Denotational/#plfa_plfa-part3-Denotational-22859" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22867" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22869" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22871" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22872" href="../Denotational/#plfa_plfa-part3-Denotational-22872" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22874" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22876" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22883" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22885" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22887" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22888" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22891" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22894" href="../Denotational/#plfa_plfa-part3-Denotational-22894" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-22897" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22899" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22910" href="../Denotational/#plfa_plfa-part3-Denotational-22872" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22911" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22915" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22917" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22920" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22922" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-22927" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22929" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22932" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22934" href="../Denotational/#plfa_plfa-part3-Denotational-22894" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-22941" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-22951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22953" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22956" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22958" href="../Denotational/#plfa_plfa-part3-Denotational-22894" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-22961" href="../Denotational/#plfa_plfa-part3-Denotational-22859" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22969" href="../Denotational/#plfa_plfa-part3-Denotational-22969" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-22973" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-22977" href="../Denotational/#plfa_plfa-part3-Denotational-22977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22979" href="../Denotational/#plfa_plfa-part3-Denotational-22979" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22981" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22983" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22985" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22988" href="../Denotational/#plfa_plfa-part3-Denotational-22988" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-22990" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22992" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22998" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22999" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23003" href="../Denotational/#plfa_plfa-part3-Denotational-22977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23005" href="../Denotational/#plfa_plfa-part3-Denotational-22979" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23006" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23008" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23009" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#636" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23015" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23016" href="../Denotational/#plfa_plfa-part3-Denotational-22969" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23020" href="../Denotational/#plfa_plfa-part3-Denotational-22977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23022" href="../Denotational/#plfa_plfa-part3-Denotational-22979" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23023" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23025" href="../Denotational/#plfa_plfa-part3-Denotational-22988" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23026" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23029" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-23055" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23058" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23060" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23062" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23068" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23069" href="../Denotational/#plfa_plfa-part3-Denotational-22969" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23073" href="../Denotational/#plfa_plfa-part3-Denotational-22977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23075" href="../Denotational/#plfa_plfa-part3-Denotational-22979" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23076" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23078" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23079" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#650" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23085" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23086" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23090" href="../Denotational/#plfa_plfa-part3-Denotational-22977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23092" href="../Denotational/#plfa_plfa-part3-Denotational-22979" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23093" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23095" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23096" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23099" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
</pre><p>若两个项 <code>M</code> 和 <code>N</code> 的指称相等，我们就说它们是指称相等的，即 <code>ℰ M ≃ ℰ N</code>。</p><p>以下子模块引入了 <code>≃</code> 关系的等式推理：</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-23387" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-23394" href="../Denotational/#plfa_plfa-part3-Denotational-23394" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-23406" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23407" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23409" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23411" href="../Untyped/#plfa_plfa-part2-Untyped-3798" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-23418" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23420" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-23429" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23436" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-23438" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-23447" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-23454" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-23456" href="../Denotational/#plfa_plfa-part3-Denotational-23717" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23462" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-23471" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23478" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-23480" href="../Denotational/#plfa_plfa-part3-Denotational-23824" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-23486" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-23493" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23495" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23497" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23498" href="../Denotational/#plfa_plfa-part3-Denotational-23498" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23500" href="../Denotational/#plfa_plfa-part3-Denotational-23500" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23502" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23504" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23515" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23516" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23522" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23524" href="../Denotational/#plfa_plfa-part3-Denotational-23498" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23526" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23528" href="../Denotational/#plfa_plfa-part3-Denotational-23500" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23536" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23546" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23548" href="../Denotational/#plfa_plfa-part3-Denotational-23498" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23550" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23552" href="../Denotational/#plfa_plfa-part3-Denotational-23500" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23556" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-23562" href="../Denotational/#plfa_plfa-part3-Denotational-23562" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23567" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23570" href="../Denotational/#plfa_plfa-part3-Denotational-23562" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-23577" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-23584" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23586" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23588" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23589" href="../Denotational/#plfa_plfa-part3-Denotational-23589" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23591" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23593" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23604" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23605" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23607" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23608" href="../Denotational/#plfa_plfa-part3-Denotational-23608" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23610" href="../Denotational/#plfa_plfa-part3-Denotational-23610" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23612" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23614" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23625" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23626" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23632" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23634" href="../Denotational/#plfa_plfa-part3-Denotational-23589" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23636" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23638" href="../Denotational/#plfa_plfa-part3-Denotational-23608" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-23644" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23646" href="../Denotational/#plfa_plfa-part3-Denotational-23608" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23648" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23650" href="../Denotational/#plfa_plfa-part3-Denotational-23610" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-23658" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23668" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23670" href="../Denotational/#plfa_plfa-part3-Denotational-23589" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23672" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23674" href="../Denotational/#plfa_plfa-part3-Denotational-23610" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-23678" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23679" href="../Denotational/#plfa_plfa-part3-Denotational-23679" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23681" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-23684" href="../Denotational/#plfa_plfa-part3-Denotational-23684" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23688" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-23690" href="../Denotational/#plfa_plfa-part3-Denotational-23690" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-23693" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23695" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23698" href="../Denotational/#plfa_plfa-part3-Denotational-22859" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23706" href="../Denotational/#plfa_plfa-part3-Denotational-23684" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23710" href="../Denotational/#plfa_plfa-part3-Denotational-23690" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-23717" href="../Denotational/#plfa_plfa-part3-Denotational-23717" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23723" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23725" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23727" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23728" href="../Denotational/#plfa_plfa-part3-Denotational-23728" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23730" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23732" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23743" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23744" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23746" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23747" href="../Denotational/#plfa_plfa-part3-Denotational-23747" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23749" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23751" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23762" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23763" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23769" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23771" href="../Denotational/#plfa_plfa-part3-Denotational-23728" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23773" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23775" href="../Denotational/#plfa_plfa-part3-Denotational-23747" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23783" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23793" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23795" href="../Denotational/#plfa_plfa-part3-Denotational-23728" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23797" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23799" href="../Denotational/#plfa_plfa-part3-Denotational-23747" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23803" href="../Denotational/#plfa_plfa-part3-Denotational-23803" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23805" href="../Denotational/#plfa_plfa-part3-Denotational-23717" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-23809" href="../Denotational/#plfa_plfa-part3-Denotational-23809" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23814" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23817" href="../Denotational/#plfa_plfa-part3-Denotational-23809" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-23824" href="../Denotational/#plfa_plfa-part3-Denotational-23824" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-23827" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23829" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23831" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23832" href="../Denotational/#plfa_plfa-part3-Denotational-23832" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23834" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23836" href="../Denotational/#plfa_plfa-part3-Denotational-21933" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23847" href="../Denotational/#plfa_plfa-part3-Denotational-23407" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23848" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-23856" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23866" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23868" href="../Denotational/#plfa_plfa-part3-Denotational-23832" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23870" href="../Denotational/#plfa_plfa-part3-Denotational-22427" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23872" href="../Denotational/#plfa_plfa-part3-Denotational-23832" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-23876" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23877" href="../Denotational/#plfa_plfa-part3-Denotational-23877" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23879" href="../Denotational/#plfa_plfa-part3-Denotational-23824" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-23880" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-23883" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23886" href="../Denotational/#plfa_plfa-part3-Denotational-22630" class="Function">≃-refl</a>
</pre><h2 id="后续章节的路线图">后续章节的路线图</h2><p>后续章节证明了指称语义拥有几个期望的性质。首先我们证明了语义是可组合的， 即，一个项的指称是其子项的指称的函数。为此我们需要证明以下形式的等式：</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>组合性的性质并不平凡，因为我们定义的语义包含三个非语法制导的规则： <code>⊥-intro</code>、<code>⊔-intro</code> 和 <code>sub</code>。上面的等式表明指称语义可以被定义为递归函数， 实际上，我们确实给出了这样的定义并证明它等价于 ℰ。</p><p>接下来我们研究指称语义和归约语义是否等价。回想一下，一个语言的语义的作用， 就是描述给定程序 <code>M</code> 的可观测行为。对于 λ-演算，我们可以做出多种选择， 但它们通常可以归结为一点信息：</p><ul><li>发散：程序 <code>M</code> 永远执行。</li><li>停机：程序 <code>M</code> 停止。</li></ul><p>我们可以用归约的项来刻画发散和停机：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (M —↠ ƛ N)</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>M —↠ ƛ N</code> 。</li></ul><p>我们也可以用指称来刻画发散和停机：</p><ul><li>发散：对于任意 <code>v</code> 和 <code>w</code>，有 <code>¬ (∅ ⊢ M ↓ v ↦ w)</code>。</li><li>停机：对于某个 <code>v</code> 和 <code>w</code>，有 <code>∅ ⊢ M ↓ v ↦ w</code>。</li></ul><p>此外，我们还可以用指称函数 <code>ℰ</code>：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (ℰ M ≃ ℰ (ƛ N))</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>ℰ M ≃ ℰ (ƛ N)</code>。</li></ul><p>所以问题在于归约语义和指称语义是否等价：</p><pre><code>(∃ N. M —↠ ƛ N)  当且仅当  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>我们将在第二章和第三章中讨论等价的每个方向。在第二章中，我们证明了 λ-抽象的归约蕴含 λ-抽象的指称相等。此性质在文献中被称为<strong>可靠性（Soundness）</strong>。</p><pre><code>M —↠ ƛ N  蕴含  ℰ M ≃ ℰ (ƛ N)</code></pre><p>在第三章中，我们证明了 λ-抽象的指称相等蕴含 λ-抽象的归约。 此性质在文献中被称为<strong>充分性（Adequacy）</strong>。</p><pre><code>ℰ M ≃ ℰ (ƛ N)  蕴含 M —↠ ƛ N′ 对于某个 N′</code></pre><p>第四章应用前三章的结果（组合性、可靠性和充分性）来证明指称相等蕴含一种称为 <strong>语境等价（Contextual Equivalence）</strong>的性质。这个性质很重要， 因为它保证了在证明程序变换（如性能优化）的正确性时使用指称相等的合理性。</p><p>我们会在本章剩下的部分中建立关于指称语义的一些基本结果， 所有这些性质的证明都依赖于此。我们先从一些关于重命名的引理开始， 它们与我们在前面的章节中见过的重命名引理非常相似。 我们以函数值小于关系的重要反演引理的证明作为结论。</p><h2 id="重命名保持指称不变">重命名保持指称不变</h2><p>我们将证明重命名变量并更改环境中对应的项仍能保持项的含义。 我们推广了重命名引理，以允许新环境中的值等于或大于原始值， 这种推广有助于证明归约蕴含了指称相等。</p><p>和以前一样，我们需要一个扩展引理来处理在 λ-抽象的情况下的证明。假设 <code>ρ</code> 是一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相等或更大值的变量。 这个引理说明了，扩展重命名会产生一个重命名 <code>ext r</code>，它将 <code>γ , v</code> 映射到 <code>δ , v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-29252" href="../Denotational/#plfa_plfa-part3-Denotational-29252" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29258" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29260" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-29262" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29263" href="../Denotational/#plfa_plfa-part3-Denotational-29263" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29265" href="../Denotational/#plfa_plfa-part3-Denotational-29265" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-29267" href="../Denotational/#plfa_plfa-part3-Denotational-29267" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29268" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29270" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29271" href="../Denotational/#plfa_plfa-part3-Denotational-29271" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29273" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29275" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29279" href="../Denotational/#plfa_plfa-part3-Denotational-29263" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-29280" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29282" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29283" href="../Denotational/#plfa_plfa-part3-Denotational-29283" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29285" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29287" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29291" href="../Denotational/#plfa_plfa-part3-Denotational-29265" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29292" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-29296" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29298" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29299" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29301" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29303" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-29310" href="../Denotational/#plfa_plfa-part3-Denotational-29263" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29312" href="../Denotational/#plfa_plfa-part3-Denotational-29265" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29313" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-29317" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29319" href="../Denotational/#plfa_plfa-part3-Denotational-29271" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29321" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29324" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29325" href="../Denotational/#plfa_plfa-part3-Denotational-29283" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29327" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29329" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29330" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-29336" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-29369" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29371" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29372" href="../Denotational/#plfa_plfa-part3-Denotational-29271" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29374" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29377" href="../Denotational/#plfa_plfa-part3-Denotational-29267" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29378" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29380" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29383" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-29385" href="../Denotational/#plfa_plfa-part3-Denotational-29283" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29387" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29390" href="../Denotational/#plfa_plfa-part3-Denotational-29267" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29391" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29393" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29395" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-29399" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29400" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-29402" href="../Denotational/#plfa_plfa-part3-Denotational-29252" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29408" href="../Denotational/#plfa_plfa-part3-Denotational-29408" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29410" href="../Denotational/#plfa_plfa-part3-Denotational-29410" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29413" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-29415" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29417" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-29424" href="../Denotational/#plfa_plfa-part3-Denotational-29252" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29430" href="../Denotational/#plfa_plfa-part3-Denotational-29430" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29432" href="../Denotational/#plfa_plfa-part3-Denotational-29432" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29435" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29436" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-29438" href="../Denotational/#plfa_plfa-part3-Denotational-29438" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-29440" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29442" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29444" href="../Denotational/#plfa_plfa-part3-Denotational-29432" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29447" href="../Denotational/#plfa_plfa-part3-Denotational-29438" class="Bound">n′</a>
</pre><p>我们对 de Bruijn 索引 <code>n</code> 分情况来证明：</p><ul><li><p>若索引为 <code>Z</code>，那么我们只需证明 <code>v ⊑ v</code>，它根据 <code>⊑-refl</code> 成立。</p></li><li><p>若索引为 <code>S n′</code>，则目标简化为 <code>γ n′ ⊑ δ (ρ n′)</code>，它是前提的一个实例。</p></li></ul><p>接着是重命名引理的证明。假设我们有一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相同值的变量。若在环境 <code>γ</code> 中 <code>M</code> 求值为 <code>v</code>，则对 <code>M</code> 应用重命名会生成一个程序，它在环境 <code>δ</code> 中求值会产生相同的值 <code>v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-30264" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30276" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30278" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-30280" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30281" href="../Denotational/#plfa_plfa-part3-Denotational-30281" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30283" href="../Denotational/#plfa_plfa-part3-Denotational-30283" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-30285" href="../Denotational/#plfa_plfa-part3-Denotational-30285" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30286" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30288" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30289" href="../Denotational/#plfa_plfa-part3-Denotational-30289" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30291" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30293" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30297" href="../Denotational/#plfa_plfa-part3-Denotational-30281" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-30298" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30300" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30301" href="../Denotational/#plfa_plfa-part3-Denotational-30301" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30303" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30305" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30309" href="../Denotational/#plfa_plfa-part3-Denotational-30283" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30310" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30312" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30313" href="../Denotational/#plfa_plfa-part3-Denotational-30313" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30315" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30317" href="../Denotational/#plfa_plfa-part3-Denotational-30281" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30319" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30321" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-30322" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-30326" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30328" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30329" href="../Denotational/#plfa_plfa-part3-Denotational-30329" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30331" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30333" href="../Substitution/#plfa_plfa-part2-Substitution-2613" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-30340" href="../Denotational/#plfa_plfa-part3-Denotational-30281" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30342" href="../Denotational/#plfa_plfa-part3-Denotational-30283" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30343" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30347" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30349" href="../Denotational/#plfa_plfa-part3-Denotational-30289" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30351" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-30354" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30355" href="../Denotational/#plfa_plfa-part3-Denotational-30301" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30357" href="https://agda.github.io/agda-stdlib/v2.2-dev/Function.Base.html#1115" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-30359" href="../Denotational/#plfa_plfa-part3-Denotational-30329" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30360" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30364" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30366" href="../Denotational/#plfa_plfa-part3-Denotational-30289" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30368" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30370" href="../Denotational/#plfa_plfa-part3-Denotational-30313" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30372" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30374" href="../Denotational/#plfa_plfa-part3-Denotational-30285" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-30380" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-30404" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30406" href="../Denotational/#plfa_plfa-part3-Denotational-30301" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30408" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30410" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30411" href="../Untyped/#plfa_plfa-part2-Untyped-8023" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-30418" href="../Denotational/#plfa_plfa-part3-Denotational-30329" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30420" href="../Denotational/#plfa_plfa-part3-Denotational-30313" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-30421" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30423" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30425" href="../Denotational/#plfa_plfa-part3-Denotational-30285" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30427" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30439" href="../Denotational/#plfa_plfa-part3-Denotational-30439" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30441" href="../Denotational/#plfa_plfa-part3-Denotational-30441" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30444" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30445" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30449" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30450" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-30452" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30454" href="../Denotational/#plfa_plfa-part3-Denotational-30454" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30455" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-30458" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30460" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30464" href="../Denotational/#plfa_plfa-part3-Denotational-11441" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30468" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30469" href="../Denotational/#plfa_plfa-part3-Denotational-30441" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30472" href="../Denotational/#plfa_plfa-part3-Denotational-30454" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30473" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30475" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30487" href="../Denotational/#plfa_plfa-part3-Denotational-30487" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30489" href="../Denotational/#plfa_plfa-part3-Denotational-30489" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30492" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30493" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30500" href="../Denotational/#plfa_plfa-part3-Denotational-30500" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30502" href="../Denotational/#plfa_plfa-part3-Denotational-30502" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30504" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30506" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30511" href="../Denotational/#plfa_plfa-part3-Denotational-11516" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30518" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30519" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30531" href="../Denotational/#plfa_plfa-part3-Denotational-30487" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30533" href="../Denotational/#plfa_plfa-part3-Denotational-30489" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30536" href="../Denotational/#plfa_plfa-part3-Denotational-30500" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30537" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30539" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30540" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30552" href="../Denotational/#plfa_plfa-part3-Denotational-30487" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30554" href="../Denotational/#plfa_plfa-part3-Denotational-30489" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30557" href="../Denotational/#plfa_plfa-part3-Denotational-30502" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30559" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30561" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30573" href="../Denotational/#plfa_plfa-part3-Denotational-30573" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30575" href="../Denotational/#plfa_plfa-part3-Denotational-30575" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30578" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30579" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30587" href="../Denotational/#plfa_plfa-part3-Denotational-30587" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30588" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30590" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30595" href="../Denotational/#plfa_plfa-part3-Denotational-11638" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30603" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30604" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30616" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30617" href="../Untyped/#plfa_plfa-part2-Untyped-7631" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-30621" href="../Denotational/#plfa_plfa-part3-Denotational-30573" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30622" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30624" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30625" href="../Denotational/#plfa_plfa-part3-Denotational-29252" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-30631" href="../Denotational/#plfa_plfa-part3-Denotational-30573" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30633" href="../Denotational/#plfa_plfa-part3-Denotational-30575" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-30635" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30637" href="../Denotational/#plfa_plfa-part3-Denotational-30587" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30638" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30640" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30652" href="../Denotational/#plfa_plfa-part3-Denotational-30652" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30654" href="../Denotational/#plfa_plfa-part3-Denotational-30654" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30657" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-30665" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30667" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-30675" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30687" href="../Denotational/#plfa_plfa-part3-Denotational-30687" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30689" href="../Denotational/#plfa_plfa-part3-Denotational-30689" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30692" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30693" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30701" href="../Denotational/#plfa_plfa-part3-Denotational-30701" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30703" href="../Denotational/#plfa_plfa-part3-Denotational-30703" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30705" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30707" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30712" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30720" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30721" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30733" href="../Denotational/#plfa_plfa-part3-Denotational-30687" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30735" href="../Denotational/#plfa_plfa-part3-Denotational-30689" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30738" href="../Denotational/#plfa_plfa-part3-Denotational-30701" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30739" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30741" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30742" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30754" href="../Denotational/#plfa_plfa-part3-Denotational-30687" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30756" href="../Denotational/#plfa_plfa-part3-Denotational-30689" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30759" href="../Denotational/#plfa_plfa-part3-Denotational-30703" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30761" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30763" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30775" href="../Denotational/#plfa_plfa-part3-Denotational-30775" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30777" href="../Denotational/#plfa_plfa-part3-Denotational-30777" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30780" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30781" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30785" href="../Denotational/#plfa_plfa-part3-Denotational-30785" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30787" href="../Denotational/#plfa_plfa-part3-Denotational-30787" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-30790" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30792" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30797" href="../Denotational/#plfa_plfa-part3-Denotational-11932" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30801" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30802" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30814" href="../Denotational/#plfa_plfa-part3-Denotational-30775" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30816" href="../Denotational/#plfa_plfa-part3-Denotational-30777" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30819" href="../Denotational/#plfa_plfa-part3-Denotational-30785" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30820" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30822" href="../Denotational/#plfa_plfa-part3-Denotational-30787" class="Bound">lt′</a>
</pre><p>证明通过对 <code>M</code> 的语义进行归纳而得出。如你所见，除了变量和 λ-的情况外，其他情况都很简单。</p><ul><li><p>对于 <code>x</code>，我们根据前提来证明 <code>γ x ⊑ δ (ρ x)</code>。</p></li><li><p>对于 λ-抽象，归纳假设需要我们扩展重命名。我们扩展了它并使用 <code>ext-⊑</code> 引理来证明，扩展重命名会将变量映射到具有等价的值的变量。</p></li></ul><h2 id="环境增强与恒等重命名">环境增强与恒等重命名</h2><p>我们还需要一个重命名引理的推论，即用更大（或更强）的环境替换当前环境， 并不会改变项 <code>M</code> 是否产生特定的值 <code>v</code>。具体来说，即若 <code>γ ⊢ M ↓ v</code> 且 <code>γ ⊑ δ</code>，则 <code>δ ⊢ M ↓ v</code>。那么这和重命名有何关联呢？ 它其实就是用恒等函数来重命名。我们以恒等重命名来应用重命名引理， 会得到 <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>，之后应用 <code>rename-id</code> 引理就会得到 <code>δ ⊢ M ↓ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-32265" href="../Denotational/#plfa_plfa-part3-Denotational-32265" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32271" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32273" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32275" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32276" href="../Denotational/#plfa_plfa-part3-Denotational-32276" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32277" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32279" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32280" href="../Denotational/#plfa_plfa-part3-Denotational-32280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32282" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32284" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32288" href="../Denotational/#plfa_plfa-part3-Denotational-32276" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32289" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32291" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32292" href="../Denotational/#plfa_plfa-part3-Denotational-32292" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32294" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32296" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32300" href="../Denotational/#plfa_plfa-part3-Denotational-32276" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32301" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32303" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32304" href="../Denotational/#plfa_plfa-part3-Denotational-32304" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32306" href="../Denotational/#plfa_plfa-part3-Denotational-32306" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32307" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32311" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32313" href="../Denotational/#plfa_plfa-part3-Denotational-32280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32315" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32317" href="../Denotational/#plfa_plfa-part3-Denotational-32304" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32319" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32321" href="../Denotational/#plfa_plfa-part3-Denotational-32306" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32325" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32327" href="../Denotational/#plfa_plfa-part3-Denotational-32280" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32329" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32332" href="../Denotational/#plfa_plfa-part3-Denotational-32292" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-32338" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-32351" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32353" href="../Denotational/#plfa_plfa-part3-Denotational-32292" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32357" href="../Denotational/#plfa_plfa-part3-Denotational-32304" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32359" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32361" href="../Denotational/#plfa_plfa-part3-Denotational-32306" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32363" href="../Denotational/#plfa_plfa-part3-Denotational-32265" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-32368" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32369" href="../Denotational/#plfa_plfa-part3-Denotational-32369" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32370" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32372" href="../Denotational/#plfa_plfa-part3-Denotational-32372" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32373" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32375" href="../Denotational/#plfa_plfa-part3-Denotational-32375" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32376" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32378" href="../Denotational/#plfa_plfa-part3-Denotational-32378" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32379" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32381" href="../Denotational/#plfa_plfa-part3-Denotational-32381" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32382" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32384" href="../Denotational/#plfa_plfa-part3-Denotational-32384" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32386" href="../Denotational/#plfa_plfa-part3-Denotational-32386" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-32395" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32400" href="../Denotational/#plfa_plfa-part3-Denotational-30264" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-32411" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32412" href="../Denotational/#plfa_plfa-part3-Denotational-32369" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32413" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32415" href="../Denotational/#plfa_plfa-part3-Denotational-32369" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32416" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32418" href="../Denotational/#plfa_plfa-part3-Denotational-32381" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32419" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32421" href="../Denotational/#plfa_plfa-part3-Denotational-32372" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32422" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32424" href="../Denotational/#plfa_plfa-part3-Denotational-32375" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32425" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32427" href="../Denotational/#plfa_plfa-part3-Denotational-32378" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32428" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32430" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32433" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32434" href="../Denotational/#plfa_plfa-part3-Denotational-32434" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-32435" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32437" href="../Denotational/#plfa_plfa-part3-Denotational-32437" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-32439" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32441" href="../Denotational/#plfa_plfa-part3-Denotational-32437" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-32442" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32444" href="../Denotational/#plfa_plfa-part3-Denotational-32386" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32447" href="../Denotational/#plfa_plfa-part3-Denotational-32384" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-32449" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32453" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32455" href="../Denotational/#plfa_plfa-part3-Denotational-32455" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-32465" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-32473" href="../Substitution/#plfa_plfa-part2-Substitution-20731" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-32483" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32484" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32485" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32487" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-32488" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32490" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32491" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32493" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-32501" href="../Denotational/#plfa_plfa-part3-Denotational-32455" class="Bound">δ⊢id[M]↓v</a>
</pre><p>在代换反映了指称的证明中，对于 λ-抽象这一情况，我们使用 <code>⊑-env</code> 的一个小变体，其中只有环境中的最后一个元素变大：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-32787" href="../Denotational/#plfa_plfa-part3-Denotational-32787" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32794" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32796" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32798" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32799" href="../Denotational/#plfa_plfa-part3-Denotational-32799" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32800" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32802" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32803" href="../Denotational/#plfa_plfa-part3-Denotational-32803" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32805" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32807" href="../Denotational/#plfa_plfa-part3-Denotational-8663" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32811" href="../Denotational/#plfa_plfa-part3-Denotational-32799" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32812" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32814" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32815" href="../Denotational/#plfa_plfa-part3-Denotational-32815" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32817" href="../Denotational/#plfa_plfa-part3-Denotational-32817" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32819" href="../Denotational/#plfa_plfa-part3-Denotational-32819" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32822" href="../Denotational/#plfa_plfa-part3-Denotational-32822" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32824" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32828" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32830" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32831" href="../Denotational/#plfa_plfa-part3-Denotational-32803" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32833" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32836" href="../Denotational/#plfa_plfa-part3-Denotational-32819" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32838" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32840" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32842" href="../Denotational/#plfa_plfa-part3-Denotational-32815" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32844" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32846" href="../Denotational/#plfa_plfa-part3-Denotational-32817" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32850" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32852" href="../Denotational/#plfa_plfa-part3-Denotational-32819" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32855" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32857" href="../Denotational/#plfa_plfa-part3-Denotational-32822" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-32864" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-32884" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32886" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32887" href="../Denotational/#plfa_plfa-part3-Denotational-32803" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32889" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32892" href="../Denotational/#plfa_plfa-part3-Denotational-32822" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32894" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32896" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32898" href="../Denotational/#plfa_plfa-part3-Denotational-32815" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32900" href="../Denotational/#plfa_plfa-part3-Denotational-11387" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32902" href="../Denotational/#plfa_plfa-part3-Denotational-32817" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32904" href="../Denotational/#plfa_plfa-part3-Denotational-32787" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32911" href="../Denotational/#plfa_plfa-part3-Denotational-32911" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32913" href="../Denotational/#plfa_plfa-part3-Denotational-32913" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32916" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32918" href="../Denotational/#plfa_plfa-part3-Denotational-32265" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32924" href="../Denotational/#plfa_plfa-part3-Denotational-32911" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32926" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32927" href="../Denotational/#plfa_plfa-part3-Denotational-32948" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32934" href="../Denotational/#plfa_plfa-part3-Denotational-32913" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-32936" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-32940" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-32948" href="../Denotational/#plfa_plfa-part3-Denotational-32948" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32955" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32957" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32959" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32960" href="../Denotational/#plfa_plfa-part3-Denotational-32960" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32962" href="../Denotational/#plfa_plfa-part3-Denotational-32962" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32965" href="../Denotational/#plfa_plfa-part3-Denotational-32965" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32967" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32969" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32971" href="../Denotational/#plfa_plfa-part3-Denotational-32962" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32974" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32976" href="../Denotational/#plfa_plfa-part3-Denotational-32965" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-32979" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32981" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32982" href="../Denotational/#plfa_plfa-part3-Denotational-32960" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32984" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32987" href="../Denotational/#plfa_plfa-part3-Denotational-32962" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32989" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32991" href="../Denotational/#plfa_plfa-part3-Denotational-9629" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32994" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32995" href="../Denotational/#plfa_plfa-part3-Denotational-32960" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32997" href="../Denotational/#plfa_plfa-part3-Denotational-8851" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33000" href="../Denotational/#plfa_plfa-part3-Denotational-32965" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33002" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33006" href="../Denotational/#plfa_plfa-part3-Denotational-32948" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33013" href="../Denotational/#plfa_plfa-part3-Denotational-33013" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33016" href="../Untyped/#plfa_plfa-part2-Untyped-4359" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-33018" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33020" href="../Denotational/#plfa_plfa-part3-Denotational-33013" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-33025" href="../Denotational/#plfa_plfa-part3-Denotational-32948" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33032" href="../Denotational/#plfa_plfa-part3-Denotational-33032" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33035" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33036" href="../Untyped/#plfa_plfa-part2-Untyped-4404" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-33038" href="../Denotational/#plfa_plfa-part3-Denotational-33038" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33039" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33041" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33043" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>
</pre><h4 id="练习-denot-church推荐">练习 <code>denot-church</code>（推荐）</h4><p>在路径的表达上，丘奇数比自然数更通用。一条路径由 <code>n</code> 条边和 <code>n + 1</code> 个顶点构成。 我们将顶点逆序存储在长度为 <code>n + 1</code> 的向量中。路径中的边将第 <code>i</code> 个顶点映射到第 <code>i + 1</code> 个顶点。以下函数 <code>D^suc</code>（表示后继（successor）的指称）构造了一个表， 其中的条目是路径上所有的边：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-33711" href="../Denotational/#plfa_plfa-part3-Denotational-33711" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33717" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33719" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33720" href="../Denotational/#plfa_plfa-part3-Denotational-33720" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-33722" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33724" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-33725" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33727" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33729" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-33733" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-33739" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33740" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33744" href="../Denotational/#plfa_plfa-part3-Denotational-33720" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33745" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33747" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33749" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33755" href="../Denotational/#plfa_plfa-part3-Denotational-33711" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33761" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-33766" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33767" href="../Denotational/#plfa_plfa-part3-Denotational-33767" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-33772" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33774" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-33776" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33778" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33780" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33782" href="../Denotational/#plfa_plfa-part3-Denotational-33711" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33788" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33789" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33793" href="../Denotational/#plfa_plfa-part3-Denotational-33793" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-33794" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33796" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33797" href="../Denotational/#plfa_plfa-part3-Denotational-33797" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-33804" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33806" href="../Denotational/#plfa_plfa-part3-Denotational-33806" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33811" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33813" href="../Denotational/#plfa_plfa-part3-Denotational-33813" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33815" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33817" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-33820" href="../Denotational/#plfa_plfa-part3-Denotational-33806" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33825" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33827" href="../Denotational/#plfa_plfa-part3-Denotational-33797" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-33835" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-33838" href="../Denotational/#plfa_plfa-part3-Denotational-33711" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33844" href="../Denotational/#plfa_plfa-part3-Denotational-33793" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-33846" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33847" href="../Denotational/#plfa_plfa-part3-Denotational-33806" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33852" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33854" href="../Denotational/#plfa_plfa-part3-Denotational-33813" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33856" class="Symbol">)</a>
</pre><p>我们用以下辅助函数来获取非空向量的第一个元素（就我们的目的而言，这种表示方式比 Agda 标准库中的更加方便）。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-34127" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34136" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34138" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34140" href="../Denotational/#plfa_plfa-part3-Denotational-34140" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34142" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34144" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34145" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34147" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34149" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34153" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34159" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34160" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34164" href="../Denotational/#plfa_plfa-part3-Denotational-34140" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34165" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34167" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34169" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34175" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34184" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34185" class="Number">0</a><a id="plfa_plfa-part3-Denotational-34186" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34188" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34189" href="../Denotational/#plfa_plfa-part3-Denotational-34189" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34191" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34193" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-34195" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34197" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34199" href="../Denotational/#plfa_plfa-part3-Denotational-34189" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-34201" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34210" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34211" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34215" href="../Denotational/#plfa_plfa-part3-Denotational-34215" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34216" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34218" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34219" href="../Denotational/#plfa_plfa-part3-Denotational-34219" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34221" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34223" href="../Denotational/#plfa_plfa-part3-Denotational-34223" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34225" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34227" href="../Denotational/#plfa_plfa-part3-Denotational-34227" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34229" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34231" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34233" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34242" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34243" href="../Denotational/#plfa_plfa-part3-Denotational-34223" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34245" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34247" href="../Denotational/#plfa_plfa-part3-Denotational-34227" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34249" class="Symbol">)</a>
</pre><p>函数 <code>Dᶜ</code> 计算给定的路径上第 <code>n</code> 个丘奇数的指称。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-34392" href="../Denotational/#plfa_plfa-part3-Denotational-34392" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34395" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34397" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34398" href="../Denotational/#plfa_plfa-part3-Denotational-34398" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34400" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34402" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34403" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34407" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34411" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34417" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34418" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34422" href="../Denotational/#plfa_plfa-part3-Denotational-34398" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34423" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34425" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34427" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34433" href="../Denotational/#plfa_plfa-part3-Denotational-34392" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34436" href="../Denotational/#plfa_plfa-part3-Denotational-34436" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34438" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34439" href="../Denotational/#plfa_plfa-part3-Denotational-34439" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34444" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34446" href="../Denotational/#plfa_plfa-part3-Denotational-34446" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34448" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34450" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34452" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34453" href="../Denotational/#plfa_plfa-part3-Denotational-33711" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-34459" href="../Denotational/#plfa_plfa-part3-Denotational-34436" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34461" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34462" href="../Denotational/#plfa_plfa-part3-Denotational-34439" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34467" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34469" href="../Denotational/#plfa_plfa-part3-Denotational-34446" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34471" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34474" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34476" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34477" href="../Denotational/#plfa_plfa-part3-Denotational-34127" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34486" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34487" href="../Denotational/#plfa_plfa-part3-Denotational-34439" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34492" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34494" href="../Denotational/#plfa_plfa-part3-Denotational-34446" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34496" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34499" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34501" href="../Denotational/#plfa_plfa-part3-Denotational-34439" class="Bound">a[n]</a>
</pre><ul><li><p><code>0</code> 的丘奇数忽略其第一个参数并返回第二个参数，因此对于只由 <code>a[0]</code> 构成的单例路径，其指称为</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li></ul><ul><li><p><code>suc n</code> 的丘奇数接受两个参数：一个后继函数，其指称由 <code>D^suc</code> 给定， 以及一个路径的起点（向量的最后一个元素）。它返回路径中的第 <code>n + 1</code> 个节点。</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>此练习证明了对于任意路径 <code>ls</code>，邱奇数 <code>n</code> 的含义是 <code>Dᶜ n ls</code>。</p><p>为了便于讨论任意丘奇数，以下 <code>church</code> 函数通过辅助函数 <code>apply-n</code> 来构建第 <code>n</code> 个丘奇数的项：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-35560" href="../Denotational/#plfa_plfa-part3-Denotational-35560" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35568" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35570" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35571" href="../Denotational/#plfa_plfa-part3-Denotational-35571" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35573" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35575" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35576" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35578" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35580" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35582" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35584" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35586" href="../Untyped/#plfa_plfa-part2-Untyped-3836" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35588" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35590" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35592" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35594" href="../Denotational/#plfa_plfa-part3-Denotational-35560" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35602" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-35607" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35609" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35611" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-35613" href="../Denotational/#plfa_plfa-part3-Denotational-35560" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35621" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35622" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-35626" href="../Denotational/#plfa_plfa-part3-Denotational-35626" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-35627" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35629" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35631" href="../Untyped/#plfa_plfa-part2-Untyped-6440" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35633" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-35635" href="../Untyped/#plfa_plfa-part2-Untyped-5514" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-35637" href="../Denotational/#plfa_plfa-part3-Denotational-35560" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35645" href="../Denotational/#plfa_plfa-part3-Denotational-35626" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-35648" href="../Denotational/#plfa_plfa-part3-Denotational-35648" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35655" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35657" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35658" href="../Denotational/#plfa_plfa-part3-Denotational-35658" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35660" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35662" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35663" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35665" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35667" href="../Untyped/#plfa_plfa-part2-Untyped-3820" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35669" href="../Untyped/#plfa_plfa-part2-Untyped-5366" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35671" href="../Untyped/#plfa_plfa-part2-Untyped-3406" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35673" href="../Denotational/#plfa_plfa-part3-Denotational-35648" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35680" href="../Denotational/#plfa_plfa-part3-Denotational-35680" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35682" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35684" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35686" href="../Untyped/#plfa_plfa-part2-Untyped-5454" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35688" href="../Denotational/#plfa_plfa-part3-Denotational-35560" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35696" href="../Denotational/#plfa_plfa-part3-Denotational-35680" class="Bound">n</a>
</pre><p>证明以下定理：</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-35845" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="函数小于关系的反演">函数小于关系的反演</h2><p>已知函数 <code>v ↦ w</code> 小于某个值 <code>u</code>，我们可以推断出什么？关于 <code>u</code> 我们可以推断出什么？问题的答案被称为「函数小于」的<strong>反演性（Inversion）</strong>。 这个问题并不容易回答，因为 <code>⊑-dist</code> 规则将左侧的函数与右侧的一对函数联系了起来。 因此，<code>u</code> 可能包含多个与 <code>v ↦ w</code> 相关的一组函数。此外，由于规则 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code>，<code>u</code> 中可能还有别的值（如 <code>⊥</code>）与 <code>v ↦ w</code> 无关。但总的来说， 我们可以推断出 <code>u</code> 包含了一组函数，其中它们的定义域的连接小于 <code>v</code>，而它们的陪域的连接大于 <code>w</code>。</p><p>为了精确陈述并证明这种反演性，我们需要定义「一个值<strong>包含</strong>一组值的含义。 我们还需要定义如何计算它们的定义域和陪域的连接。</p><h3 id="值的成员关系与包含关系">值的成员关系与包含关系</h3><p>前面我们将值视作一个集合，它由条目以及类似并集的连接运算符 <code>v ⊔ w</code> 组成。 函数值 <code>v ↦ w</code> 和底值 <code>⊥</code> 构成了集合的两种元素（在其他语境下，人们可能将 <code>⊥</code> 视作空集，但在这里我们必须将它视为一个元素）。我们用 <code>u ∈ v</code>表示 <code>u</code> 是 <code>v</code> 的一个元素，定义如下：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-37897" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-37903" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-37905" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-37910" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-37914" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37916" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37922" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37924" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37930" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37932" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-37936" href="../Denotational/#plfa_plfa-part3-Denotational-37936" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37938" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37940" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-37942" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37944" href="../Denotational/#plfa_plfa-part3-Denotational-37936" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37946" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-37948" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-37950" href="../Denotational/#plfa_plfa-part3-Denotational-37950" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37952" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37954" href="../Denotational/#plfa_plfa-part3-Denotational-37954" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37956" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-37958" href="../Denotational/#plfa_plfa-part3-Denotational-37958" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-37960" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37962" href="../Denotational/#plfa_plfa-part3-Denotational-37950" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37964" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-37966" href="../Denotational/#plfa_plfa-part3-Denotational-37954" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37968" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-37970" href="../Denotational/#plfa_plfa-part3-Denotational-37958" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-37972" href="../Denotational/#plfa_plfa-part3-Denotational-37972" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37974" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37976" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-37977" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37979" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-37981" href="../Denotational/#plfa_plfa-part3-Denotational-37981" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-37982" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-37984" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37986" href="../Denotational/#plfa_plfa-part3-Denotational-37972" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37988" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37990" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37992" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-37994" href="../Denotational/#plfa_plfa-part3-Denotational-37972" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37996" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37998" href="../Denotational/#plfa_plfa-part3-Denotational-37981" class="Bound">w</a>
</pre><p>于是我们可以简单地将一组值表示为一个值。我们用 <code>v ⊆ w</code> 表示 <code>v</code> 的所有元素也都属于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-38211" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-38217" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-38219" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-38224" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-38228" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38230" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38236" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38238" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38244" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38246" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38250" href="../Denotational/#plfa_plfa-part3-Denotational-38250" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38252" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38254" href="../Denotational/#plfa_plfa-part3-Denotational-38254" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38256" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38258" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38260" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38261" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38263" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38265" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38267" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38269" href="../Denotational/#plfa_plfa-part3-Denotational-38250" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38271" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38273" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38275" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38277" href="../Denotational/#plfa_plfa-part3-Denotational-38254" class="Bound">w</a>
</pre><p>值的成员与包含关系的概念和小于关系密切相关， 它们是蕴含了小于关系的更狭义的关系，反之则不然。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-38549" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38553" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38555" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38557" href="../Denotational/#plfa_plfa-part3-Denotational-38557" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38559" href="../Denotational/#plfa_plfa-part3-Denotational-38559" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38561" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38563" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38568" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38574" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38576" href="../Denotational/#plfa_plfa-part3-Denotational-38557" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38578" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38580" href="../Denotational/#plfa_plfa-part3-Denotational-38559" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38588" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38598" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38600" href="../Denotational/#plfa_plfa-part3-Denotational-38557" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38602" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38604" href="../Denotational/#plfa_plfa-part3-Denotational-38559" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38606" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38610" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38611" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-38612" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38613" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38615" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38616" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38617" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38619" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38624" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38626" href="../Denotational/#plfa_plfa-part3-Denotational-5392" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38632" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38636" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38637" href="../Denotational/#plfa_plfa-part3-Denotational-38637" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38639" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38641" href="../Denotational/#plfa_plfa-part3-Denotational-38641" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38642" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38644" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38645" href="../Denotational/#plfa_plfa-part3-Denotational-38637" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38647" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38649" href="../Denotational/#plfa_plfa-part3-Denotational-38641" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38650" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38652" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38657" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38659" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-38666" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38670" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38671" href="../Denotational/#plfa_plfa-part3-Denotational-38671" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38672" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38674" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38675" href="../Denotational/#plfa_plfa-part3-Denotational-38675" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38677" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38679" href="../Denotational/#plfa_plfa-part3-Denotational-38679" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38680" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38682" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38683" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38688" href="../Denotational/#plfa_plfa-part3-Denotational-38688" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38689" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38691" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38693" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-38703" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38704" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38708" href="../Denotational/#plfa_plfa-part3-Denotational-38688" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38709" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-38711" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38715" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38716" href="../Denotational/#plfa_plfa-part3-Denotational-38716" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38717" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38719" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38720" href="../Denotational/#plfa_plfa-part3-Denotational-38720" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38722" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38724" href="../Denotational/#plfa_plfa-part3-Denotational-38724" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38725" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38727" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38728" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38733" href="../Denotational/#plfa_plfa-part3-Denotational-38733" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38734" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38736" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38738" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-38748" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38749" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38753" href="../Denotational/#plfa_plfa-part3-Denotational-38733" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38754" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-38757" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38761" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38763" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38765" href="../Denotational/#plfa_plfa-part3-Denotational-38765" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38767" href="../Denotational/#plfa_plfa-part3-Denotational-38767" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38771" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38776" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38782" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38784" href="../Denotational/#plfa_plfa-part3-Denotational-38765" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38786" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38788" href="../Denotational/#plfa_plfa-part3-Denotational-38767" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38796" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38806" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38808" href="../Denotational/#plfa_plfa-part3-Denotational-38765" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38810" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38812" href="../Denotational/#plfa_plfa-part3-Denotational-38767" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38814" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38818" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38819" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38820" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38822" href="../Denotational/#plfa_plfa-part3-Denotational-38822" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38824" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38829" href="../Denotational/#plfa_plfa-part3-Denotational-38822" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38831" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38832" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38833" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38835" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38840" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38844" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38846" href="../Denotational/#plfa_plfa-part3-Denotational-38846" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38848" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38850" href="../Denotational/#plfa_plfa-part3-Denotational-5392" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38856" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38860" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38861" href="../Denotational/#plfa_plfa-part3-Denotational-38861" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38863" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38865" href="../Denotational/#plfa_plfa-part3-Denotational-38865" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38867" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38869" href="../Denotational/#plfa_plfa-part3-Denotational-38869" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38871" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38876" href="../Denotational/#plfa_plfa-part3-Denotational-38869" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38878" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38879" href="../Denotational/#plfa_plfa-part3-Denotational-38861" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38881" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38883" href="../Denotational/#plfa_plfa-part3-Denotational-38865" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38885" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38887" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38892" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38896" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38898" href="../Denotational/#plfa_plfa-part3-Denotational-38898" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38900" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38902" href="../Denotational/#plfa_plfa-part3-Denotational-38549" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38906" href="../Denotational/#plfa_plfa-part3-Denotational-38898" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38908" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38912" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38913" href="../Denotational/#plfa_plfa-part3-Denotational-38913" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38915" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38917" href="../Denotational/#plfa_plfa-part3-Denotational-38917" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38919" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38921" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38923" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38925" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38934" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38935" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38939" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38942" href="../Denotational/#plfa_plfa-part3-Denotational-38942" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38944" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38946" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38948" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38949" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38954" href="../Denotational/#plfa_plfa-part3-Denotational-38942" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38955" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-38959" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38960" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38964" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38967" href="../Denotational/#plfa_plfa-part3-Denotational-38967" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38969" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38971" href="../Denotational/#plfa_plfa-part3-Denotational-38921" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38973" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38974" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38979" href="../Denotational/#plfa_plfa-part3-Denotational-38967" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38980" class="Symbol">)))</a>
</pre><p>我们还需要一些值的包含关系的反演法则。如果 <code>u</code> 和 <code>v</code> 的并含于 <code>w</code>， 那么 <code>u</code> 和 <code>v</code> 自然都含于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-39247" href="../Denotational/#plfa_plfa-part3-Denotational-39247" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39254" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39256" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39258" href="../Denotational/#plfa_plfa-part3-Denotational-39258" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39260" href="../Denotational/#plfa_plfa-part3-Denotational-39260" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39262" href="../Denotational/#plfa_plfa-part3-Denotational-39262" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39264" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39266" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39271" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-39280" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39282" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39283" href="../Denotational/#plfa_plfa-part3-Denotational-39258" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39285" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39287" href="../Denotational/#plfa_plfa-part3-Denotational-39260" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-39288" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39290" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39292" href="../Denotational/#plfa_plfa-part3-Denotational-39262" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-39303" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-39326" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39328" href="../Denotational/#plfa_plfa-part3-Denotational-39258" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39330" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39332" href="../Denotational/#plfa_plfa-part3-Denotational-39262" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-39335" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-39338" href="../Denotational/#plfa_plfa-part3-Denotational-39260" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39340" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39342" href="../Denotational/#plfa_plfa-part3-Denotational-39262" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-39344" href="../Denotational/#plfa_plfa-part3-Denotational-39247" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39351" href="../Denotational/#plfa_plfa-part3-Denotational-39351" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39355" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39357" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39359" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39362" href="../Denotational/#plfa_plfa-part3-Denotational-39362" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39364" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39366" href="../Denotational/#plfa_plfa-part3-Denotational-39351" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39370" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39371" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39376" href="../Denotational/#plfa_plfa-part3-Denotational-39362" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39377" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39380" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39382" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39385" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39389" href="../Denotational/#plfa_plfa-part3-Denotational-39351" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39393" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39394" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39399" href="../Denotational/#plfa_plfa-part3-Denotational-39385" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39400" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39403" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
</pre><p>在我们的值的表示中，<code>v ↦ w</code> 既是一个元素，又是一个单例集。因此如果 <code>v ↦ w</code> 是 <code>u</code> 的一个子集，那么 <code>v ↦ w</code> 必定是 <code>u</code> 的一个成员。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-39686" href="../Denotational/#plfa_plfa-part3-Denotational-39686" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39691" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39693" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39695" href="../Denotational/#plfa_plfa-part3-Denotational-39695" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39697" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39699" href="../Denotational/#plfa_plfa-part3-Denotational-39699" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39701" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39703" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39708" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-39715" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39717" href="../Denotational/#plfa_plfa-part3-Denotational-39695" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39719" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39721" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39723" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39725" href="../Denotational/#plfa_plfa-part3-Denotational-39699" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-39734" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-39749" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39751" href="../Denotational/#plfa_plfa-part3-Denotational-39695" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39753" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39755" href="../Denotational/#plfa_plfa-part3-Denotational-39697" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39757" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-39759" href="../Denotational/#plfa_plfa-part3-Denotational-39699" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-39761" href="../Denotational/#plfa_plfa-part3-Denotational-39686" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39766" href="../Denotational/#plfa_plfa-part3-Denotational-39766" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39771" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39773" href="../Denotational/#plfa_plfa-part3-Denotational-39766" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39778" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre><h3 id="函数值">函数值</h3><p>为了识别函数的集合，我们定义了以下两个谓词。如果 <code>u</code> 是一个函数值， 即对于某些值 <code>v</code> 和 <code>w</code>，有 <code>u ≡ v ↦ w</code>，我们就记作 <code>Fun u</code>。 如果 <code>v</code> 中的所有元素都是函数，我们就记作 <code>all-funs v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-40208" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-40213" href="../Denotational/#plfa_plfa-part3-Denotational-40213" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40217" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40219" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40225" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40227" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-40231" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-40239" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40243" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40245" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40247" href="../Denotational/#plfa_plfa-part3-Denotational-40247" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40249" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40251" href="../Denotational/#plfa_plfa-part3-Denotational-40251" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40254" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40256" href="../Denotational/#plfa_plfa-part3-Denotational-40247" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40258" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-40260" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40261" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40263" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40265" href="../Denotational/#plfa_plfa-part3-Denotational-40251" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40266" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40268" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40270" href="../Denotational/#plfa_plfa-part3-Denotational-40213" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40274" href="../Denotational/#plfa_plfa-part3-Denotational-40247" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-40277" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40286" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40288" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40294" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40296" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-40300" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40309" href="../Denotational/#plfa_plfa-part3-Denotational-40309" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40311" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40313" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40315" href="../Denotational/#plfa_plfa-part3-Denotational-40315" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40316" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40318" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40320" href="../Denotational/#plfa_plfa-part3-Denotational-40315" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40322" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40324" href="../Denotational/#plfa_plfa-part3-Denotational-40309" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40326" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40328" href="../Denotational/#plfa_plfa-part3-Denotational-40213" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40332" href="../Denotational/#plfa_plfa-part3-Denotational-40315" class="Bound">u</a>
</pre><p>值 <code>⊥</code> 不是函数：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-40403" href="../Denotational/#plfa_plfa-part3-Denotational-40403" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40409" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40411" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-40413" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40414" href="../Denotational/#plfa_plfa-part3-Denotational-40213" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40418" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40419" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-40421" href="../Denotational/#plfa_plfa-part3-Denotational-40403" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40427" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40428" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40432" class="Symbol">())</a>
</pre><p>在「值作为集合」的表示中，集合总是包含至少一个元素。即，如果所有的元素都是函数， 那么至少存在一个函数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-40680" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40690" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40692" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40694" href="../Denotational/#plfa_plfa-part3-Denotational-40694" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40695" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-40703" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40705" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40714" href="../Denotational/#plfa_plfa-part3-Denotational-40694" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-40722" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40724" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40727" href="../Denotational/#plfa_plfa-part3-Denotational-40727" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40729" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40731" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40737" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40739" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40742" href="../Denotational/#plfa_plfa-part3-Denotational-40742" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40744" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40746" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40752" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40754" href="../Denotational/#plfa_plfa-part3-Denotational-40727" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40756" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40758" href="../Denotational/#plfa_plfa-part3-Denotational-40742" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40760" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40762" href="../Denotational/#plfa_plfa-part3-Denotational-40694" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-40764" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40774" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40775" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40776" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40778" href="../Denotational/#plfa_plfa-part3-Denotational-40778" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40780" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40785" href="../Denotational/#plfa_plfa-part3-Denotational-40778" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40787" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40788" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40789" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40791" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-40796" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40800" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40802" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40806" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-40809" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40819" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40820" href="../Denotational/#plfa_plfa-part3-Denotational-40820" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40822" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40824" href="../Denotational/#plfa_plfa-part3-Denotational-40824" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40825" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40827" href="../Denotational/#plfa_plfa-part3-Denotational-40827" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40829" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40831" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40833" href="../Denotational/#plfa_plfa-part3-Denotational-40820" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40835" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40837" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40839" href="../Denotational/#plfa_plfa-part3-Denotational-40824" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40841" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40843" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40848" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40850" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40852" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40862" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40863" href="../Denotational/#plfa_plfa-part3-Denotational-40863" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40865" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40867" href="../Denotational/#plfa_plfa-part3-Denotational-40867" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-40869" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40871" href="../Denotational/#plfa_plfa-part3-Denotational-40871" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-40877" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40882" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40892" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40895" href="../Denotational/#plfa_plfa-part3-Denotational-40895" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40897" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40899" href="../Denotational/#plfa_plfa-part3-Denotational-40871" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40901" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40902" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40907" href="../Denotational/#plfa_plfa-part3-Denotational-40895" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40908" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-40911" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40915" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40917" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40919" href="../Denotational/#plfa_plfa-part3-Denotational-40919" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40921" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40923" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40925" href="../Denotational/#plfa_plfa-part3-Denotational-40925" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40927" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40929" href="../Denotational/#plfa_plfa-part3-Denotational-40929" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-40931" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40933" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40935" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40937" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40939" href="../Denotational/#plfa_plfa-part3-Denotational-40919" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40941" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40943" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40945" href="../Denotational/#plfa_plfa-part3-Denotational-40925" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40947" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40949" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40950" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40955" href="../Denotational/#plfa_plfa-part3-Denotational-40929" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-40956" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40958" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40960" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="定义域与陪域">定义域与陪域</h3><p>回到我们一开始的目标上来，即「小于一个函数」的反演法则。我们想要证明 <code>v ↦ w ⊑ u</code> 蕴含「<code>u</code> 包含一个函数值的集合，它们定义域的连接小于 <code>v</code>，陪域的连接大于 <code>w</code>」。</p><p>为此，我们定义了以下 <code>⨆dom</code> 和 <code>⨆cod</code> 函数。给定某个值 <code>u</code>（表示一个条目的集合）， <code>⨆dom u</code> 返回其定义域的连接，<code>⨆cod u</code> 返回其陪域的连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-41709" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41714" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41716" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41717" href="../Denotational/#plfa_plfa-part3-Denotational-41717" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41719" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41721" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41726" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41728" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41730" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41736" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41741" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41744" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41746" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41748" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41753" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41754" href="../Denotational/#plfa_plfa-part3-Denotational-41754" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41756" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41758" href="../Denotational/#plfa_plfa-part3-Denotational-41758" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41759" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41761" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41763" href="../Denotational/#plfa_plfa-part3-Denotational-41754" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-41765" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41770" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41771" href="../Denotational/#plfa_plfa-part3-Denotational-41771" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41773" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41775" href="../Denotational/#plfa_plfa-part3-Denotational-41775" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41777" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41779" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41781" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41786" href="../Denotational/#plfa_plfa-part3-Denotational-41771" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41788" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41790" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41795" href="../Denotational/#plfa_plfa-part3-Denotational-41775" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-41799" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41804" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41807" href="../Denotational/#plfa_plfa-part3-Denotational-41807" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41809" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41811" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41816" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41818" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41820" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41826" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41831" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41834" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41836" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41838" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41843" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41844" href="../Denotational/#plfa_plfa-part3-Denotational-41844" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41846" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41848" href="../Denotational/#plfa_plfa-part3-Denotational-41848" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41849" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41851" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41853" href="../Denotational/#plfa_plfa-part3-Denotational-41848" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-41855" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41860" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41861" href="../Denotational/#plfa_plfa-part3-Denotational-41861" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41863" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41865" href="../Denotational/#plfa_plfa-part3-Denotational-41865" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41867" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41869" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41871" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41876" href="../Denotational/#plfa_plfa-part3-Denotational-41861" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41878" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41880" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41885" href="../Denotational/#plfa_plfa-part3-Denotational-41865" class="Bound">u′</a>
</pre><p>对于 <code>⨆dom</code> 和 <code>⨆cod</code> 我们只需要一个性质。给定一个函数的的集合，表示为值 <code>u</code>，和一个条目 <code>v ↦ w ∈ u</code>，我们能够证明 <code>v</code> 包含在 <code>u</code> 的定义域中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-42195" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42204" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42206" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42208" href="../Denotational/#plfa_plfa-part3-Denotational-42208" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42210" href="../Denotational/#plfa_plfa-part3-Denotational-42210" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42212" href="../Denotational/#plfa_plfa-part3-Denotational-42212" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42214" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42216" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42221" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-42233" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42235" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42244" href="../Denotational/#plfa_plfa-part3-Denotational-42208" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-42247" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-42250" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42251" href="../Denotational/#plfa_plfa-part3-Denotational-42210" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42253" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42255" href="../Denotational/#plfa_plfa-part3-Denotational-42212" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42256" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42258" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42260" href="../Denotational/#plfa_plfa-part3-Denotational-42208" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-42274" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-42307" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42309" href="../Denotational/#plfa_plfa-part3-Denotational-42210" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42311" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42313" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-42318" href="../Denotational/#plfa_plfa-part3-Denotational-42208" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-42320" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42329" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42330" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42331" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42333" href="../Denotational/#plfa_plfa-part3-Denotational-42333" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42336" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-42339" href="../Denotational/#plfa_plfa-part3-Denotational-42339" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42343" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42352" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42353" href="../Denotational/#plfa_plfa-part3-Denotational-42353" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42355" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42357" href="../Denotational/#plfa_plfa-part3-Denotational-42357" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42358" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42360" href="../Denotational/#plfa_plfa-part3-Denotational-42360" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42363" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42368" href="../Denotational/#plfa_plfa-part3-Denotational-42368" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42372" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42374" href="../Denotational/#plfa_plfa-part3-Denotational-42368" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42378" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42387" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42388" href="../Denotational/#plfa_plfa-part3-Denotational-42388" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42390" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42392" href="../Denotational/#plfa_plfa-part3-Denotational-42392" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42394" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42396" href="../Denotational/#plfa_plfa-part3-Denotational-42396" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42399" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42400" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42405" href="../Denotational/#plfa_plfa-part3-Denotational-42405" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-42410" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42412" href="../Denotational/#plfa_plfa-part3-Denotational-42412" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42416" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42421" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42425" href="../Denotational/#plfa_plfa-part3-Denotational-42425" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42428" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42430" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42439" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42442" href="../Denotational/#plfa_plfa-part3-Denotational-42442" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42444" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42446" href="../Denotational/#plfa_plfa-part3-Denotational-42396" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42449" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42450" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42455" href="../Denotational/#plfa_plfa-part3-Denotational-42442" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42456" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42459" href="../Denotational/#plfa_plfa-part3-Denotational-42405" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-42465" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42471" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42476" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42477" href="../Denotational/#plfa_plfa-part3-Denotational-42425" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42480" href="../Denotational/#plfa_plfa-part3-Denotational-42412" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42483" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-42485" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42494" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42495" href="../Denotational/#plfa_plfa-part3-Denotational-42495" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42497" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42499" href="../Denotational/#plfa_plfa-part3-Denotational-42499" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42501" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42503" href="../Denotational/#plfa_plfa-part3-Denotational-42503" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42506" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42507" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42512" href="../Denotational/#plfa_plfa-part3-Denotational-42512" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-42518" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42520" href="../Denotational/#plfa_plfa-part3-Denotational-42520" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42524" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42529" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42533" href="../Denotational/#plfa_plfa-part3-Denotational-42533" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42536" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42538" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42547" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42550" href="../Denotational/#plfa_plfa-part3-Denotational-42550" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42552" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42554" href="../Denotational/#plfa_plfa-part3-Denotational-42503" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42557" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42558" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42563" href="../Denotational/#plfa_plfa-part3-Denotational-42550" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42564" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42567" href="../Denotational/#plfa_plfa-part3-Denotational-42512" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-42574" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42580" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42585" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42586" href="../Denotational/#plfa_plfa-part3-Denotational-42533" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42589" href="../Denotational/#plfa_plfa-part3-Denotational-42520" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42592" class="Symbol">)</a>
</pre><p>对于 <code>⨆cod</code>，假设我们有一个函数集合 <code>u</code>，但它们都只是 <code>v ↦ w</code> 的副本。 那么 <code>⨆cod u</code> 包含在 <code>w</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-42850" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42859" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42861" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42863" href="../Denotational/#plfa_plfa-part3-Denotational-42863" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42865" href="../Denotational/#plfa_plfa-part3-Denotational-42865" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42867" href="../Denotational/#plfa_plfa-part3-Denotational-42867" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42869" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42871" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42876" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-42886" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42888" href="../Denotational/#plfa_plfa-part3-Denotational-42863" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42890" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42892" href="../Denotational/#plfa_plfa-part3-Denotational-42865" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42894" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42896" href="../Denotational/#plfa_plfa-part3-Denotational-42867" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-42908" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-42926" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42928" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-42933" href="../Denotational/#plfa_plfa-part3-Denotational-42863" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42935" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42937" href="../Denotational/#plfa_plfa-part3-Denotational-42867" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-42939" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42948" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42949" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42950" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42952" href="../Denotational/#plfa_plfa-part3-Denotational-42952" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-42954" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42959" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-42964" href="../Denotational/#plfa_plfa-part3-Denotational-42952" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-42966" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42967" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42968" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42970" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-42975" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-42979" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-42981" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-42984" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42993" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42994" href="../Denotational/#plfa_plfa-part3-Denotational-42994" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-42996" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42998" href="../Denotational/#plfa_plfa-part3-Denotational-42998" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43000" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43002" href="../Denotational/#plfa_plfa-part3-Denotational-43002" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43004" href="../Denotational/#plfa_plfa-part3-Denotational-43004" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43006" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43011" href="../Denotational/#plfa_plfa-part3-Denotational-43002" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43013" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43014" href="../Denotational/#plfa_plfa-part3-Denotational-42994" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43016" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43018" href="../Denotational/#plfa_plfa-part3-Denotational-42998" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43020" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43022" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43027" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43031" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43033" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43038" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43040" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-43042" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43051" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43052" href="../Denotational/#plfa_plfa-part3-Denotational-43052" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43054" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43056" href="../Denotational/#plfa_plfa-part3-Denotational-43056" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43058" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43060" href="../Denotational/#plfa_plfa-part3-Denotational-43060" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43062" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43063" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43068" href="../Denotational/#plfa_plfa-part3-Denotational-43068" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-43069" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43071" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43073" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43082" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43085" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43086" href="../Denotational/#plfa_plfa-part3-Denotational-43086" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43087" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43089" href="../Denotational/#plfa_plfa-part3-Denotational-43089" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43091" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43093" href="../Denotational/#plfa_plfa-part3-Denotational-43060" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43095" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43096" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43101" href="../Denotational/#plfa_plfa-part3-Denotational-43089" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43102" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43105" href="../Denotational/#plfa_plfa-part3-Denotational-43068" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-43107" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43116" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43117" href="../Denotational/#plfa_plfa-part3-Denotational-43117" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43119" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43121" href="../Denotational/#plfa_plfa-part3-Denotational-43121" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43123" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43125" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43127" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43128" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43133" href="../Denotational/#plfa_plfa-part3-Denotational-43133" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-43134" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43136" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43138" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43147" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43150" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43151" href="../Denotational/#plfa_plfa-part3-Denotational-43151" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43152" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43154" href="../Denotational/#plfa_plfa-part3-Denotational-43154" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43156" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43158" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43160" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43161" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43166" href="../Denotational/#plfa_plfa-part3-Denotational-43154" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43167" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43170" href="../Denotational/#plfa_plfa-part3-Denotational-43133" class="Bound">y</a>
</pre><p>有了 <code>⨆dom</code> 和 <code>⨆cod</code> 函数，我们就可以精确地得出函数的反演法则， 并将其封装到下面的谓词 <code>factor</code> 中。 如果 <code>u′</code> 包含在 <code>u</code> 中， 我们就说 <code>v ↦ w</code> 将 <code>u</code> <strong>分解（factor）</strong>为 <code>u′</code>，如果 <code>u′</code> 中只包含函数，那么其定义域小于 <code>v</code>，其陪域大于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-43716" href="../Denotational/#plfa_plfa-part3-Denotational-43716" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43723" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43725" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43726" href="../Denotational/#plfa_plfa-part3-Denotational-43726" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43728" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43730" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43735" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43737" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43739" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43740" href="../Denotational/#plfa_plfa-part3-Denotational-43740" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43743" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43745" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43750" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43752" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43754" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43755" href="../Denotational/#plfa_plfa-part3-Denotational-43755" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43757" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43759" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43764" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43766" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43768" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43769" href="../Denotational/#plfa_plfa-part3-Denotational-43769" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43771" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43773" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43778" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43780" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43782" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-43786" href="../Denotational/#plfa_plfa-part3-Denotational-43716" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43793" href="../Denotational/#plfa_plfa-part3-Denotational-43793" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43795" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43798" href="../Denotational/#plfa_plfa-part3-Denotational-43798" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43800" href="../Denotational/#plfa_plfa-part3-Denotational-43800" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43802" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43804" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43813" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-43817" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43820" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43823" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43825" href="../Denotational/#plfa_plfa-part3-Denotational-43793" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-43828" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43831" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-43836" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43839" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43841" href="../Denotational/#plfa_plfa-part3-Denotational-43798" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-43844" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43847" href="../Denotational/#plfa_plfa-part3-Denotational-43800" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43849" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43851" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43856" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Bound">u′</a>
</pre><p>因此函数的反演法则可被陈述为：</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>我们通过在小于关系的推导上归纳证明了函数的反演法则。为了让归纳假设更强， 我们将前提 <code>v ↦ w ⊑ u</code> 推广为 <code>u₁ ⊑ u₂</code> 并加强了结论，即对于<strong>每一个</strong>函数值 <code>v ↦ w ∈ u₁</code>，我们都有 <code>v ↦ w</code> 将 <code>u₂</code> 分解为某个值 <code>u₃</code>。</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="函数小于的反演-trans-的情况">函数小于的反演，<code>⊑-trans</code> 的情况</h3><p>证明的重点在 <code>⊑-trans</code> 的情况：</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们证明了对某个值 <code>u′</code>，有 <code>v ↦ w factors u into u′</code>， 因此我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。 根据归纳假设 <code>u ⊑ u₂</code>，我们证明了对于任意 <code>v′ ↦ w′ ∈ u</code>， <code>v′ ↦ w′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 有了这些事实，我们就能对 <code>u′</code> 进行归纳，证明 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。接下来我们讨论证明的每种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-45568" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45582" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45584" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-45586" href="../Denotational/#plfa_plfa-part3-Denotational-45586" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45589" href="../Denotational/#plfa_plfa-part3-Denotational-45589" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45592" href="../Denotational/#plfa_plfa-part3-Denotational-45592" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45594" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45596" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-45601" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-45607" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45609" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-45618" href="../Denotational/#plfa_plfa-part3-Denotational-45586" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-45622" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-45625" href="../Denotational/#plfa_plfa-part3-Denotational-45586" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45628" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-45630" href="../Denotational/#plfa_plfa-part3-Denotational-45592" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-45636" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45638" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-45641" href="../Denotational/#plfa_plfa-part3-Denotational-45641" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45644" href="../Denotational/#plfa_plfa-part3-Denotational-45644" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45646" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45648" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45650" href="../Denotational/#plfa_plfa-part3-Denotational-45641" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45653" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45655" href="../Denotational/#plfa_plfa-part3-Denotational-45644" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-45658" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-45660" href="../Denotational/#plfa_plfa-part3-Denotational-45592" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45662" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45664" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45667" href="../Denotational/#plfa_plfa-part3-Denotational-45667" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45670" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45672" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45678" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45680" href="../Denotational/#plfa_plfa-part3-Denotational-43716" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45687" href="../Denotational/#plfa_plfa-part3-Denotational-45589" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45690" href="../Denotational/#plfa_plfa-part3-Denotational-45667" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45693" href="../Denotational/#plfa_plfa-part3-Denotational-45641" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45696" href="../Denotational/#plfa_plfa-part3-Denotational-45644" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45698" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-45706" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-45774" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45776" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45779" href="../Denotational/#plfa_plfa-part3-Denotational-45779" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45782" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45784" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45790" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45792" href="../Denotational/#plfa_plfa-part3-Denotational-43716" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45799" href="../Denotational/#plfa_plfa-part3-Denotational-45589" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45802" href="../Denotational/#plfa_plfa-part3-Denotational-45779" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45805" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45806" href="../Denotational/#plfa_plfa-part3-Denotational-41709" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-45811" href="../Denotational/#plfa_plfa-part3-Denotational-45586" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45813" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45815" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45816" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-45821" href="../Denotational/#plfa_plfa-part3-Denotational-45586" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45823" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45825" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45839" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45840" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-45841" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45843" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45844" href="../Denotational/#plfa_plfa-part3-Denotational-45844" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45846" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45848" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45849" href="../Denotational/#plfa_plfa-part3-Denotational-45849" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45850" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45852" href="../Denotational/#plfa_plfa-part3-Denotational-45852" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45856" href="../Denotational/#plfa_plfa-part3-Denotational-45856" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45861" href="../Denotational/#plfa_plfa-part3-Denotational-45861" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45864" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-45870" href="https://agda.github.io/agda-stdlib/v2.2-dev/Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-45884" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45885" href="../Denotational/#plfa_plfa-part3-Denotational-45852" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45889" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-45893" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45895" href="../Denotational/#plfa_plfa-part3-Denotational-40403" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-45901" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45915" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45916" href="../Denotational/#plfa_plfa-part3-Denotational-45916" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45920" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45922" href="../Denotational/#plfa_plfa-part3-Denotational-45922" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-45925" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45927" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45928" href="../Denotational/#plfa_plfa-part3-Denotational-45928" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45930" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45932" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45933" href="../Denotational/#plfa_plfa-part3-Denotational-45933" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45934" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45936" href="../Denotational/#plfa_plfa-part3-Denotational-45936" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-45939" href="../Denotational/#plfa_plfa-part3-Denotational-45939" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45944" href="../Denotational/#plfa_plfa-part3-Denotational-45944" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45947" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-45949" href="../Denotational/#plfa_plfa-part3-Denotational-45944" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45952" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45953" href="../Denotational/#plfa_plfa-part3-Denotational-39686" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-45958" href="../Denotational/#plfa_plfa-part3-Denotational-45939" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-45962" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45964" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45978" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45979" href="../Denotational/#plfa_plfa-part3-Denotational-45979" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45983" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-45985" href="../Denotational/#plfa_plfa-part3-Denotational-45985" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-45988" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45990" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45991" href="../Denotational/#plfa_plfa-part3-Denotational-45991" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45993" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45995" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45996" href="../Denotational/#plfa_plfa-part3-Denotational-45996" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45997" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45999" href="../Denotational/#plfa_plfa-part3-Denotational-45999" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46002" href="../Denotational/#plfa_plfa-part3-Denotational-46002" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46007" href="../Denotational/#plfa_plfa-part3-Denotational-46007" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-46014" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46019" href="../Denotational/#plfa_plfa-part3-Denotational-39247" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-46026" href="../Denotational/#plfa_plfa-part3-Denotational-46002" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-46031" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46035" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46037" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46039" href="../Denotational/#plfa_plfa-part3-Denotational-46039" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46045" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46047" href="../Denotational/#plfa_plfa-part3-Denotational-46047" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46053" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46059" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46064" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46078" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46079" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-46082" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46084" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46085" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46087" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46089" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46090" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46091" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46093" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46096" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46097" href="../Denotational/#plfa_plfa-part3-Denotational-46097" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46099" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46101" href="../Denotational/#plfa_plfa-part3-Denotational-46101" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46103" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46105" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46108" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46109" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46114" href="../Denotational/#plfa_plfa-part3-Denotational-46101" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46115" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46118" href="../Denotational/#plfa_plfa-part3-Denotational-46039" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46124" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-46134" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46136" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46150" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46151" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46154" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46156" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46157" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46159" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46161" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46162" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46163" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46165" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46168" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46169" href="../Denotational/#plfa_plfa-part3-Denotational-46169" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46171" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46173" href="../Denotational/#plfa_plfa-part3-Denotational-46173" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46175" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46177" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46180" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46181" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46186" href="../Denotational/#plfa_plfa-part3-Denotational-46173" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46187" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46190" href="../Denotational/#plfa_plfa-part3-Denotational-46047" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46196" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-46199" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46203" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46205" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46207" href="../Denotational/#plfa_plfa-part3-Denotational-46207" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46211" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46213" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46215" href="../Denotational/#plfa_plfa-part3-Denotational-46215" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46221" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46223" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46225" href="../Denotational/#plfa_plfa-part3-Denotational-46225" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46232" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46234" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46236" href="../Denotational/#plfa_plfa-part3-Denotational-46236" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46246" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46248" href="../Denotational/#plfa_plfa-part3-Denotational-46248" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46258" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46260" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46262" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46264" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46270" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46272" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46274" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46278" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46280" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46282" href="../Denotational/#plfa_plfa-part3-Denotational-46282" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46288" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46290" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46292" href="../Denotational/#plfa_plfa-part3-Denotational-46292" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46299" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46301" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46303" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46313" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46315" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46325" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46327" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46329" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46331" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46333" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-46341" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46343" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46344" href="../Denotational/#plfa_plfa-part3-Denotational-46207" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46348" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46350" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-46353" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46355" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46357" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46359" href="../Denotational/#plfa_plfa-part3-Denotational-46461" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46364" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46366" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46368" href="../Denotational/#plfa_plfa-part3-Denotational-46600" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46375" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-46383" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46385" href="../Denotational/#plfa_plfa-part3-Denotational-7076" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46389" href="../Denotational/#plfa_plfa-part3-Denotational-46236" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46399" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46409" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-46419" href="../Denotational/#plfa_plfa-part3-Denotational-7076" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46423" href="../Denotational/#plfa_plfa-part3-Denotational-46248" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46433" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46443" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46445" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46447" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46449" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46455" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-46461" href="../Denotational/#plfa_plfa-part3-Denotational-46461" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46466" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46468" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46469" href="../Denotational/#plfa_plfa-part3-Denotational-46469" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46472" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46474" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46479" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46481" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46483" href="../Denotational/#plfa_plfa-part3-Denotational-46469" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46486" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46488" href="../Denotational/#plfa_plfa-part3-Denotational-46207" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46492" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46494" href="../Denotational/#plfa_plfa-part3-Denotational-46469" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46497" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46499" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46503" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46505" href="../Denotational/#plfa_plfa-part3-Denotational-40213" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-46509" href="../Denotational/#plfa_plfa-part3-Denotational-46469" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-46522" href="../Denotational/#plfa_plfa-part3-Denotational-46461" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46527" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46528" href="../Denotational/#plfa_plfa-part3-Denotational-46528" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46530" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46532" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46533" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46538" href="../Denotational/#plfa_plfa-part3-Denotational-46538" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46539" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46541" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46543" href="../Denotational/#plfa_plfa-part3-Denotational-46215" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46549" href="../Denotational/#plfa_plfa-part3-Denotational-46538" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46561" href="../Denotational/#plfa_plfa-part3-Denotational-46461" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46566" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46567" href="../Denotational/#plfa_plfa-part3-Denotational-46567" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46569" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46571" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46572" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46577" href="../Denotational/#plfa_plfa-part3-Denotational-46577" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46578" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46580" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46582" href="../Denotational/#plfa_plfa-part3-Denotational-46282" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46588" href="../Denotational/#plfa_plfa-part3-Denotational-46577" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-46600" href="../Denotational/#plfa_plfa-part3-Denotational-46600" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46607" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46609" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46610" href="../Denotational/#plfa_plfa-part3-Denotational-46610" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46612" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46614" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46619" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46621" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46623" href="../Denotational/#plfa_plfa-part3-Denotational-46610" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46625" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46627" href="../Denotational/#plfa_plfa-part3-Denotational-46207" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46631" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46633" href="../Denotational/#plfa_plfa-part3-Denotational-46610" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46635" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46637" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46641" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46643" href="../Denotational/#plfa_plfa-part3-Denotational-46610" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46645" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46647" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-46660" href="../Denotational/#plfa_plfa-part3-Denotational-46600" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46667" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46668" href="../Denotational/#plfa_plfa-part3-Denotational-46668" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46669" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46671" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46672" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46677" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46678" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46680" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46682" href="../Denotational/#plfa_plfa-part3-Denotational-46225" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46689" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46701" href="../Denotational/#plfa_plfa-part3-Denotational-46600" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46708" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46709" href="../Denotational/#plfa_plfa-part3-Denotational-46709" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46710" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46712" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46713" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46718" href="../Denotational/#plfa_plfa-part3-Denotational-46718" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46719" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46721" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46723" href="../Denotational/#plfa_plfa-part3-Denotational-46292" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46730" href="../Denotational/#plfa_plfa-part3-Denotational-46718" class="Bound">y</a>
</pre><ul><li>假设 <code>u′ ≡ ⊥</code>，那么我们可导出矛盾，因为它不满足 <code>Fun ⊥</code> 的情况。</li></ul><ul><li>假设 <code>u′ ≡ u₁′ ↦ u₂′</code>，那么 <code>u₁′ ↦ u₂′ ∈ u</code>，且我们可以应用前提 （归纳假设 <code>u ⊑ u₂</code>）来得到 <code>u₁′ ↦ u₂′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 此情况是完整的，因为 <code>⨆dom u′ ≡ u₁′</code> 且 <code>⨆cod u′ ≡ u₂′</code>。</li></ul><ul><li><p>假设 <code>u′ ≡ u₁′ ⊔ u₂′</code>，那么 <code>u₁′ ⊆ u</code> 且 <code>u₂′ ⊆ u</code>。我们同样有 <code>all-funs u₁′</code> 且 <code>all-funs u₂′</code>，于是我们可以对 <code>u₁′</code> 和 <code>u₂′</code> 应用归纳假设。因此存在值 <code>u₃₁</code> 和 <code>u₃₂</code> 使得 <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> 将 <code>u</code> 分解为 <code>u₃₁</code>，以及 <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> 将 <code>u</code> 分解为 <code>u₃₂</code>。 我们要证明 <code>(⨆dom u) ↦ (⨆cod u)</code> 将 <code>u</code> 分解为 <code>u₃₁ ⊔ u₃₂</code>，因此我们需要证明</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre></li></ul><p>然而二者可直接根据 <code>⊔</code> 对于 <code>⊑</code> 的单调性，从 <code>u</code> 分解为 <code>u₃₁</code> 和 <code>u₃₂</code> 得到。</p><h3 id="函数小于的反演">函数小于的反演</h3><p>我们来证明有关函数小于的反演的主要引理。我们要证明若 <code>u₁ ⊑ u₂</code>， 则对于任何 <code>v ↦ w ∈ u₁</code>，都可以根据 <code>v ↦ w</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们对 <code>u₁ ⊑ u₂</code> 的推导进行归纳，并在 Agda 证明过程后面描述证明中的每一种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-48850" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-48858" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48860" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48862" href="../Denotational/#plfa_plfa-part3-Denotational-48862" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48865" href="../Denotational/#plfa_plfa-part3-Denotational-48865" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-48868" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48870" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-48875" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-48885" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48887" href="../Denotational/#plfa_plfa-part3-Denotational-48862" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48890" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-48892" href="../Denotational/#plfa_plfa-part3-Denotational-48865" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-48903" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48905" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48907" href="../Denotational/#plfa_plfa-part3-Denotational-48907" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48909" href="../Denotational/#plfa_plfa-part3-Denotational-48909" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-48910" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-48912" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48914" href="../Denotational/#plfa_plfa-part3-Denotational-48907" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48916" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-48918" href="../Denotational/#plfa_plfa-part3-Denotational-48909" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-48920" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-48922" href="../Denotational/#plfa_plfa-part3-Denotational-48862" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-48935" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-48981" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48983" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-48986" href="../Denotational/#plfa_plfa-part3-Denotational-48986" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-48989" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-48991" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-48997" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-48999" href="../Denotational/#plfa_plfa-part3-Denotational-43716" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-49006" href="../Denotational/#plfa_plfa-part3-Denotational-48865" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-49009" href="../Denotational/#plfa_plfa-part3-Denotational-48986" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49012" href="../Denotational/#plfa_plfa-part3-Denotational-48907" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-49014" href="../Denotational/#plfa_plfa-part3-Denotational-48909" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-49016" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49024" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49025" href="../Denotational/#plfa_plfa-part3-Denotational-4910" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-49026" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49028" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49029" href="../Denotational/#plfa_plfa-part3-Denotational-49029" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49031" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49033" href="../Denotational/#plfa_plfa-part3-Denotational-5392" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-49039" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49040" href="../Denotational/#plfa_plfa-part3-Denotational-49040" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49041" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49043" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49044" href="../Denotational/#plfa_plfa-part3-Denotational-49044" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49045" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49047" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-49050" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49058" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49059" href="../Denotational/#plfa_plfa-part3-Denotational-49059" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49063" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49065" href="../Denotational/#plfa_plfa-part3-Denotational-49065" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49068" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49070" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49071" href="../Denotational/#plfa_plfa-part3-Denotational-49071" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49073" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49075" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49076" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49085" href="../Denotational/#plfa_plfa-part3-Denotational-49085" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49089" href="../Denotational/#plfa_plfa-part3-Denotational-49089" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49092" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49094" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49095" href="../Denotational/#plfa_plfa-part3-Denotational-49095" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49096" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49098" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49099" href="../Denotational/#plfa_plfa-part3-Denotational-49099" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49100" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49102" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49103" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49108" href="../Denotational/#plfa_plfa-part3-Denotational-49108" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-49109" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49111" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49113" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49121" href="../Denotational/#plfa_plfa-part3-Denotational-49085" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49125" href="../Denotational/#plfa_plfa-part3-Denotational-49108" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-49127" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49135" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49136" href="../Denotational/#plfa_plfa-part3-Denotational-49136" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49140" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49142" href="../Denotational/#plfa_plfa-part3-Denotational-49142" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49145" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49147" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49148" href="../Denotational/#plfa_plfa-part3-Denotational-49148" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49150" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49152" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49153" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49162" href="../Denotational/#plfa_plfa-part3-Denotational-49162" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49166" href="../Denotational/#plfa_plfa-part3-Denotational-49166" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49169" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49171" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49172" href="../Denotational/#plfa_plfa-part3-Denotational-49172" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49173" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49175" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49176" href="../Denotational/#plfa_plfa-part3-Denotational-49176" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49177" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49179" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49180" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49185" href="../Denotational/#plfa_plfa-part3-Denotational-49185" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-49186" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49188" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49190" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49198" href="../Denotational/#plfa_plfa-part3-Denotational-49166" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-49202" href="../Denotational/#plfa_plfa-part3-Denotational-49185" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-49204" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49211" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49212" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49213" href="../Denotational/#plfa_plfa-part3-Denotational-49213" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49215" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49216" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49217" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49218" href="../Denotational/#plfa_plfa-part3-Denotational-49218" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49221" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49222" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49223" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49224" href="../Denotational/#plfa_plfa-part3-Denotational-49224" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49227" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49228" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49229" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49230" href="../Denotational/#plfa_plfa-part3-Denotational-5501" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-49239" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49240" href="../Denotational/#plfa_plfa-part3-Denotational-49240" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49242" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49243" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49244" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49245" href="../Denotational/#plfa_plfa-part3-Denotational-49245" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49246" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49247" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49248" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49249" href="../Denotational/#plfa_plfa-part3-Denotational-49249" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49250" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49251" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49252" href="../Denotational/#plfa_plfa-part3-Denotational-49252" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49258" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49263" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49271" href="../Denotational/#plfa_plfa-part3-Denotational-49240" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49274" href="../Denotational/#plfa_plfa-part3-Denotational-49252" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49276" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49280" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49282" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49284" href="../Denotational/#plfa_plfa-part3-Denotational-49284" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49288" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49290" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49292" href="../Denotational/#plfa_plfa-part3-Denotational-49292" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49297" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49299" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49301" href="../Denotational/#plfa_plfa-part3-Denotational-49301" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49309" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49311" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49313" href="../Denotational/#plfa_plfa-part3-Denotational-49313" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49322" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49324" href="../Denotational/#plfa_plfa-part3-Denotational-49324" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49333" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49335" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49337" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49339" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49341" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49349" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49351" href="../Denotational/#plfa_plfa-part3-Denotational-49284" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49355" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49357" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49359" href="../Denotational/#plfa_plfa-part3-Denotational-49292" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49364" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49366" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49368" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49371" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49372" href="../Denotational/#plfa_plfa-part3-Denotational-49372" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49373" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49375" href="../Denotational/#plfa_plfa-part3-Denotational-49375" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49377" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49379" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49384" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49385" href="../Denotational/#plfa_plfa-part3-Denotational-49301" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49393" href="../Denotational/#plfa_plfa-part3-Denotational-49375" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49394" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49397" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49434" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49436" href="../Denotational/#plfa_plfa-part3-Denotational-49313" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49445" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49447" href="../Denotational/#plfa_plfa-part3-Denotational-49324" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49456" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49458" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49460" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49462" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49464" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49471" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49472" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49473" href="../Denotational/#plfa_plfa-part3-Denotational-49473" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49475" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49476" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49477" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49478" href="../Denotational/#plfa_plfa-part3-Denotational-49478" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49481" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49482" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49483" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49484" href="../Denotational/#plfa_plfa-part3-Denotational-49484" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49487" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49488" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49489" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49490" href="../Denotational/#plfa_plfa-part3-Denotational-5574" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-49499" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49500" href="../Denotational/#plfa_plfa-part3-Denotational-49500" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49502" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49503" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49504" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49505" href="../Denotational/#plfa_plfa-part3-Denotational-49505" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49506" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49507" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49508" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49509" href="../Denotational/#plfa_plfa-part3-Denotational-49509" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49510" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49511" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49512" href="../Denotational/#plfa_plfa-part3-Denotational-49512" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49518" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49523" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49531" href="../Denotational/#plfa_plfa-part3-Denotational-49500" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49534" href="../Denotational/#plfa_plfa-part3-Denotational-49512" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49536" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49540" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49542" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49544" href="../Denotational/#plfa_plfa-part3-Denotational-49544" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49548" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49550" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49552" href="../Denotational/#plfa_plfa-part3-Denotational-49552" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49557" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49559" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49561" href="../Denotational/#plfa_plfa-part3-Denotational-49561" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49569" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49571" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49573" href="../Denotational/#plfa_plfa-part3-Denotational-49573" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49582" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49584" href="../Denotational/#plfa_plfa-part3-Denotational-49584" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49593" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49595" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49597" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49599" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49601" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49609" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49611" href="../Denotational/#plfa_plfa-part3-Denotational-49544" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49615" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49617" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49619" href="../Denotational/#plfa_plfa-part3-Denotational-49552" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49624" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49626" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49628" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49631" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49632" href="../Denotational/#plfa_plfa-part3-Denotational-49632" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-49633" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49635" href="../Denotational/#plfa_plfa-part3-Denotational-49635" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49637" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49639" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49644" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49645" href="../Denotational/#plfa_plfa-part3-Denotational-49561" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49653" href="../Denotational/#plfa_plfa-part3-Denotational-49635" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49654" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49657" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49694" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49696" href="../Denotational/#plfa_plfa-part3-Denotational-49573" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49705" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49707" href="../Denotational/#plfa_plfa-part3-Denotational-49584" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49716" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49718" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49720" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49722" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49724" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49731" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49732" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49733" href="../Denotational/#plfa_plfa-part3-Denotational-49733" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49735" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49736" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49737" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49738" href="../Denotational/#plfa_plfa-part3-Denotational-49738" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49740" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49741" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49742" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49743" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-49750" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49751" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-49752" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49753" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-49754" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49755" href="../Denotational/#plfa_plfa-part3-Denotational-49755" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-49756" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49757" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49758" href="../Denotational/#plfa_plfa-part3-Denotational-49758" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-49762" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49763" href="../Denotational/#plfa_plfa-part3-Denotational-49763" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49767" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49768" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49769" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49770" href="../Denotational/#plfa_plfa-part3-Denotational-49770" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49771" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49772" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49773" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49774" href="../Denotational/#plfa_plfa-part3-Denotational-49774" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49775" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49776" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49777" href="../Denotational/#plfa_plfa-part3-Denotational-49777" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-49788" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49793" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49801" href="../Denotational/#plfa_plfa-part3-Denotational-49758" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-49806" href="../Denotational/#plfa_plfa-part3-Denotational-49777" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-49813" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49817" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49819" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49821" href="../Denotational/#plfa_plfa-part3-Denotational-49821" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-49824" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49826" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49828" href="../Denotational/#plfa_plfa-part3-Denotational-49828" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49832" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49834" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49836" href="../Denotational/#plfa_plfa-part3-Denotational-49836" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49841" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49843" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49845" href="../Denotational/#plfa_plfa-part3-Denotational-49845" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-49853" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49855" href="../Denotational/#plfa_plfa-part3-Denotational-49855" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-49863" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49865" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49867" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49869" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-49875" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49880" href="../Denotational/#plfa_plfa-part3-Denotational-45568" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-49894" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49895" href="../Denotational/#plfa_plfa-part3-Denotational-49821" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-49897" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49899" href="../Denotational/#plfa_plfa-part3-Denotational-49828" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49903" href="../Denotational/#plfa_plfa-part3-Denotational-49836" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49908" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49909" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49917" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49921" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-49923" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49927" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49929" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49931" href="../Denotational/#plfa_plfa-part3-Denotational-49931" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49934" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49936" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49938" href="../Denotational/#plfa_plfa-part3-Denotational-49938" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-49942" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49944" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49946" href="../Denotational/#plfa_plfa-part3-Denotational-49946" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-49952" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49954" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49956" href="../Denotational/#plfa_plfa-part3-Denotational-49956" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-49968" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49970" href="../Denotational/#plfa_plfa-part3-Denotational-49970" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-49982" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49984" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49986" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49988" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49990" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49998" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50000" href="../Denotational/#plfa_plfa-part3-Denotational-49931" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50003" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50005" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50007" href="../Denotational/#plfa_plfa-part3-Denotational-49938" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50011" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50013" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50015" href="../Denotational/#plfa_plfa-part3-Denotational-49946" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50021" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50023" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50025" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50033" href="../Denotational/#plfa_plfa-part3-Denotational-49956" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50045" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-50053" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-50091" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50099" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-50107" href="../Denotational/#plfa_plfa-part3-Denotational-49970" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50119" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50121" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50123" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50125" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50127" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50135" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50136" href="../Denotational/#plfa_plfa-part3-Denotational-50136" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-50140" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50142" href="../Denotational/#plfa_plfa-part3-Denotational-50142" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-50145" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50147" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50148" href="../Denotational/#plfa_plfa-part3-Denotational-50148" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50152" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50154" href="../Denotational/#plfa_plfa-part3-Denotational-50154" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-50157" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50159" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50160" href="../Denotational/#plfa_plfa-part3-Denotational-5718" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-50166" href="../Denotational/#plfa_plfa-part3-Denotational-50166" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50170" href="../Denotational/#plfa_plfa-part3-Denotational-50170" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-50173" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50175" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50180" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50186" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50188" href="../Denotational/#plfa_plfa-part3-Denotational-50148" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50192" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50194" href="../Denotational/#plfa_plfa-part3-Denotational-50154" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50198" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50200" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50202" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50205" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50206" href="../Denotational/#plfa_plfa-part3-Denotational-50206" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-50207" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50209" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50211" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-50214" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50216" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50218" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50220" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50223" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50224" href="../Denotational/#plfa_plfa-part3-Denotational-50224" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-50225" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50227" href="../Denotational/#plfa_plfa-part3-Denotational-50227" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-50229" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50231" href="../Denotational/#plfa_plfa-part3-Denotational-50227" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-50232" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50234" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50236" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50238" href="../Denotational/#plfa_plfa-part3-Denotational-50166" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50242" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50244" href="../Denotational/#plfa_plfa-part3-Denotational-50170" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-50248" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50250" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50252" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50254" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50256" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50264" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50265" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50269" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50271" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50272" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50276" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50278" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50281" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-50284" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50285" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50289" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50291" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50295" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50297" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50301" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50303" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50306" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50308" href="../Denotational/#plfa_plfa-part3-Denotational-5821" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-50319" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50320" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-50321" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-50324" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50326" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50327" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-50329" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50333" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50335" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50338" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-50339" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50341" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50346" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50352" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50354" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50358" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50360" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50364" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50366" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50370" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50372" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-50376" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50378" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50380" href="../Denotational/#plfa_plfa-part3-Denotational-50440" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50382" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50384" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50386" href="../Denotational/#plfa_plfa-part3-Denotational-50539" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50388" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50390" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50392" href="../Denotational/#plfa_plfa-part3-Denotational-5417" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-50401" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50408" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50415" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50417" href="../Denotational/#plfa_plfa-part3-Denotational-6753" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50424" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50426" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50428" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50430" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-50434" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-50440" href="../Denotational/#plfa_plfa-part3-Denotational-50440" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50442" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50444" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-50453" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50454" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50458" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50460" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50464" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50466" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50470" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50472" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50475" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50485" href="../Denotational/#plfa_plfa-part3-Denotational-50440" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50487" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50488" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50493" href="../Denotational/#plfa_plfa-part3-Denotational-50493" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50494" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50496" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50498" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50502" href="../Denotational/#plfa_plfa-part3-Denotational-50493" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50512" href="../Denotational/#plfa_plfa-part3-Denotational-50440" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50514" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50515" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50520" href="../Denotational/#plfa_plfa-part3-Denotational-50520" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50521" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50523" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50525" href="../Denotational/#plfa_plfa-part3-Denotational-40239" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50529" href="../Denotational/#plfa_plfa-part3-Denotational-50520" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-50539" href="../Denotational/#plfa_plfa-part3-Denotational-50539" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50541" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50543" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50544" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50548" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50550" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50554" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50556" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50560" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50562" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50565" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50567" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-50569" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50570" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50574" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50576" href="../Denotational/#plfa_plfa-part3-Denotational-50272" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50580" href="../Denotational/#plfa_plfa-part3-Denotational-4952" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50582" href="../Denotational/#plfa_plfa-part3-Denotational-50265" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50586" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50588" href="../Denotational/#plfa_plfa-part3-Denotational-50278" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50591" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50601" href="../Denotational/#plfa_plfa-part3-Denotational-50539" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50603" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50604" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50609" href="../Denotational/#plfa_plfa-part3-Denotational-50609" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50610" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50612" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50614" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50619" href="../Denotational/#plfa_plfa-part3-Denotational-50609" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50629" href="../Denotational/#plfa_plfa-part3-Denotational-50539" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50631" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50632" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50637" href="../Denotational/#plfa_plfa-part3-Denotational-50637" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50638" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50640" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50642" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50647" href="../Denotational/#plfa_plfa-part3-Denotational-50637" class="Bound">y</a>
</pre><p>令 <code>v</code> 和 <code>w</code> 为任意值。</p><ul><li><p>情况 <code>⊑-bot</code>：若 <code>u₁ ≡ ⊥</code>，我们有 <code>v ↦ w ∈ ⊥</code>，但这是不可能的。</p></li><li><p>情况 <code>⊑-conj-L</code>：</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>，那么有两种子情况需要考虑：</p><ul><li><p>子情况 <code>v ↦ w ∈ u₁₁</code>：我们通过归纳假设 <code>u₁₁ ⊑ u₂</code> 得出结论。</p></li><li><p>子情况 <code>v ↦ w ∈ u₁₂</code>：我们通过归纳假设 <code>u₁₂ ⊑ u₂</code> 得出结论。</p></li></ul><ul><li><p>情况 <code>⊑-conj-R1</code>：</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁</code>，归纳假设 <code>u₁ ⊑ u₂₁</code> 给出了对某个 <code>u₃₁</code>，<code>v ↦ w</code> 将 <code>u₂₁</code> 分解为 <code>u₃₁</code>。为了证明 <code>v ↦ w</code> 也将 <code>u₂₁ ⊔ u₂₂</code> 分解为 <code>u₃₁</code>， 我们只需证明 <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>，而这一点可直接从 <code>u₃₁ ⊆ u₂₁</code> 得出。</p><ul><li><p>情况 <code>⊑-conj-R2</code>：此情况的论证过程与情况 <code>⊑-conj-R1</code> 类似。</p></li><li><p>情况 <code>⊑-trans</code>：</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre></li></ul><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们可以证明对于某个值 <code>u′</code>，<code>v ↦ w</code> 将 <code>u</code> 分解为 <code>u′</code>， 于是我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。跟举归纳假设 <code>u ⊑ u₂</code>，我们可以证明对于任意 <code>v′ ↦ w′ ∈ u</code>，<code>v′ ↦ w′</code> 分解了 <code>u₂</code>。现在应用引理 <code>sub-inv-trans</code>， 它会给出 <code>u₃</code> 使得 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们证明了 <code>v ↦ w</code> 也将 <code>u₂</code> 分解为 <code>u₃</code>。 从 <code>⨆dom u₃ ⊑ ⨆dom u′</code> 和 <code>⨆dom u′ ⊑ v</code>，我们可得出 <code>⨆dom u₃ ⊑ v</code>。 从 <code>w ⊑ ⨆cod u′</code> 和 <code>⨆cod u′ ⊑ ⨆cod u₃</code>，我们有 <code>w ⊑ ⨆cod u₃</code>，于是此情况就覆盖完整了。</p><ul><li><p>情况 <code>⊑-fun</code>：</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>，我们有 <code>v ≡ u₁₁</code> 和 <code>w ≡ u₁₂</code>。 我们证明了 <code>u₁₁ ↦ u₁₂</code> 将 <code>u₂₁ ↦ u₂₂</code> 分解为其自身。 我们还需证明 <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>， 然而这等价于前提 <code>u₂₁ ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ u₂₂</code>。</p><ul><li><p>情况 <code>⊑-dist</code>：</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>，我们有 <code>v ≡ u₂₁</code> 和 <code>w ≡ u₂₂ ⊔ u₂₃</code>。 我们证明了 <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> 将 <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> 分解为其自身。 我们有 <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>，以及 <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>，于是此证明就覆盖完整了。</p><p>我们用 <code>sub-inv</code> 引理的两个推论作为本节的结尾。首先，我们来证明以下性质， 方便在后面的证明中使用。我们将前提特化为 <code>v ↦ w ⊑ u₁</code>，并将结论修改为对于每个 <code>v′ ↦ w′ ∈ u₂</code>，我们有 <code>v′ ⊑ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-54843" href="../Denotational/#plfa_plfa-part3-Denotational-54843" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-54855" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54857" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-54859" href="../Denotational/#plfa_plfa-part3-Denotational-54859" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54861" href="../Denotational/#plfa_plfa-part3-Denotational-54861" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-54863" href="../Denotational/#plfa_plfa-part3-Denotational-54863" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-54866" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54868" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-54873" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-54879" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54881" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-54882" href="../Denotational/#plfa_plfa-part3-Denotational-54859" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54884" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-54886" href="../Denotational/#plfa_plfa-part3-Denotational-54861" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-54887" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-54889" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-54891" href="../Denotational/#plfa_plfa-part3-Denotational-54863" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-54900" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-54958" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54960" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-54963" href="../Denotational/#plfa_plfa-part3-Denotational-54963" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-54966" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-54968" href="../Denotational/#plfa_plfa-part3-Denotational-4890" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-54974" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1244" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-54976" href="../Denotational/#plfa_plfa-part3-Denotational-40277" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-54985" href="../Denotational/#plfa_plfa-part3-Denotational-54963" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-54988" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-54990" href="../Denotational/#plfa_plfa-part3-Denotational-54963" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-54993" href="../Denotational/#plfa_plfa-part3-Denotational-38224" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-54995" href="../Denotational/#plfa_plfa-part3-Denotational-54863" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-55006" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55008" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-55011" href="../Denotational/#plfa_plfa-part3-Denotational-55011" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55014" href="../Denotational/#plfa_plfa-part3-Denotational-55014" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55016" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55018" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55020" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55021" href="../Denotational/#plfa_plfa-part3-Denotational-55011" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55024" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55026" href="../Denotational/#plfa_plfa-part3-Denotational-55014" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55028" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55030" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55032" href="../Denotational/#plfa_plfa-part3-Denotational-54963" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55035" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55037" href="../Denotational/#plfa_plfa-part3-Denotational-55011" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55040" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55042" href="../Denotational/#plfa_plfa-part3-Denotational-54859" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55043" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55045" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55047" href="../Denotational/#plfa_plfa-part3-Denotational-54861" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55049" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55051" href="../Denotational/#plfa_plfa-part3-Denotational-41799" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-55056" href="../Denotational/#plfa_plfa-part3-Denotational-54963" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-55059" href="../Denotational/#plfa_plfa-part3-Denotational-54843" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-55070" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55071" href="../Denotational/#plfa_plfa-part3-Denotational-55071" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55072" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55074" href="../Denotational/#plfa_plfa-part3-Denotational-55074" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55075" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55077" href="../Denotational/#plfa_plfa-part3-Denotational-55077" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-55079" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55081" href="../Denotational/#plfa_plfa-part3-Denotational-55081" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-55089" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55094" href="../Denotational/#plfa_plfa-part3-Denotational-48850" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-55102" href="../Denotational/#plfa_plfa-part3-Denotational-55081" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-55106" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55107" href="../Denotational/#plfa_plfa-part3-Denotational-55071" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55108" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55110" href="../Denotational/#plfa_plfa-part3-Denotational-55074" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55111" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55113" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-55118" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55122" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55124" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55126" href="../Denotational/#plfa_plfa-part3-Denotational-55126" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55129" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55131" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55133" href="../Denotational/#plfa_plfa-part3-Denotational-55133" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55135" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55137" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55139" href="../Denotational/#plfa_plfa-part3-Denotational-55139" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55145" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55147" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55149" href="../Denotational/#plfa_plfa-part3-Denotational-55149" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-55152" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55154" href="../Denotational/#plfa_plfa-part3-Denotational-55154" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55157" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55159" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55161" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55163" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55165" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-55173" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55175" href="../Denotational/#plfa_plfa-part3-Denotational-55126" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55178" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55180" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55182" href="../Denotational/#plfa_plfa-part3-Denotational-55133" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55184" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55186" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55188" href="../Denotational/#plfa_plfa-part3-Denotational-55139" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55194" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55196" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55198" href="../Denotational/#plfa_plfa-part3-Denotational-55222" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55200" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55202" href="../Denotational/#plfa_plfa-part3-Denotational-55154" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55205" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55207" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55209" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55211" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-55216" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-55222" href="../Denotational/#plfa_plfa-part3-Denotational-55222" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55224" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55226" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55228" href="../Denotational/#plfa_plfa-part3-Denotational-55228" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55230" href="../Denotational/#plfa_plfa-part3-Denotational-55230" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55231" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55233" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55235" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55236" href="../Denotational/#plfa_plfa-part3-Denotational-55228" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55238" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55240" href="../Denotational/#plfa_plfa-part3-Denotational-55230" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55241" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55243" href="../Denotational/#plfa_plfa-part3-Denotational-37910" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55245" href="../Denotational/#plfa_plfa-part3-Denotational-55126" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55248" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55250" href="../Denotational/#plfa_plfa-part3-Denotational-55228" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55252" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55254" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-55265" href="../Denotational/#plfa_plfa-part3-Denotational-55222" class="Function">G</a><a id="plfa_plfa-part3-Denotational-55266" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55267" href="../Denotational/#plfa_plfa-part3-Denotational-55267" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-55268" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55270" href="../Denotational/#plfa_plfa-part3-Denotational-55270" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55271" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55273" href="../Denotational/#plfa_plfa-part3-Denotational-55273" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-55275" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55277" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55285" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55286" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55290" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55291" href="../Denotational/#plfa_plfa-part3-Denotational-42195" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-55300" href="../Denotational/#plfa_plfa-part3-Denotational-55133" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55302" href="../Denotational/#plfa_plfa-part3-Denotational-55273" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-55303" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-55306" href="../Denotational/#plfa_plfa-part3-Denotational-55149" class="Bound">db</a>
</pre><p>第二个推论是反演规则，即我们期望左侧函数小于右侧。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-55487" href="../Denotational/#plfa_plfa-part3-Denotational-55487" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-55495" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55497" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55499" href="../Denotational/#plfa_plfa-part3-Denotational-55499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55501" href="../Denotational/#plfa_plfa-part3-Denotational-55501" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55503" href="../Denotational/#plfa_plfa-part3-Denotational-55503" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55506" href="../Denotational/#plfa_plfa-part3-Denotational-55506" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55508" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-55518" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55520" href="../Denotational/#plfa_plfa-part3-Denotational-55499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55522" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55524" href="../Denotational/#plfa_plfa-part3-Denotational-55501" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55526" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55528" href="../Denotational/#plfa_plfa-part3-Denotational-55503" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55531" href="../Denotational/#plfa_plfa-part3-Denotational-4922" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55533" href="../Denotational/#plfa_plfa-part3-Denotational-55506" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-55546" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-55572" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55574" href="../Denotational/#plfa_plfa-part3-Denotational-55503" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55577" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55579" href="../Denotational/#plfa_plfa-part3-Denotational-55499" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55581" href="https://agda.github.io/agda-stdlib/v2.2-dev/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55583" href="../Denotational/#plfa_plfa-part3-Denotational-55501" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55585" href="../Denotational/#plfa_plfa-part3-Denotational-5357" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55587" href="../Denotational/#plfa_plfa-part3-Denotational-55506" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-55590" href="../Denotational/#plfa_plfa-part3-Denotational-55487" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-55597" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55598" href="../Denotational/#plfa_plfa-part3-Denotational-55598" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55599" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55601" href="../Denotational/#plfa_plfa-part3-Denotational-55601" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55602" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55604" href="../Denotational/#plfa_plfa-part3-Denotational-55604" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-55606" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55608" href="../Denotational/#plfa_plfa-part3-Denotational-55608" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55610" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55612" href="../Denotational/#plfa_plfa-part3-Denotational-55612" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-55619" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55624" href="../Denotational/#plfa_plfa-part3-Denotational-54843" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-55636" href="../Denotational/#plfa_plfa-part3-Denotational-55612" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-55639" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55643" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55645" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55647" href="../Denotational/#plfa_plfa-part3-Denotational-55647" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-55649" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55651" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55653" href="../Denotational/#plfa_plfa-part3-Denotational-55653" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55655" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55657" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55659" href="../Denotational/#plfa_plfa-part3-Denotational-55659" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55665" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55667" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55669" href="../Denotational/#plfa_plfa-part3-Denotational-55669" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55673" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55675" href="../Denotational/#plfa_plfa-part3-Denotational-55675" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55679" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55681" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55683" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55685" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55691" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55696" href="../Denotational/#plfa_plfa-part3-Denotational-40680" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-55706" href="../Denotational/#plfa_plfa-part3-Denotational-55653" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-55708" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55712" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55714" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55716" href="../Denotational/#plfa_plfa-part3-Denotational-55716" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-55718" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55720" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55722" href="../Denotational/#plfa_plfa-part3-Denotational-55722" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-55725" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55727" href="../Denotational/#plfa_plfa-part3-Denotational-55727" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55734" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55736" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55742" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55747" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55753" href="../Denotational/#plfa_plfa-part3-Denotational-55727" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-55760" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55764" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55766" href="https://agda.github.io/agda-stdlib/v2.2-dev/Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-55771" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-55775" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-55779" href="../Denotational/#plfa_plfa-part3-Denotational-55779" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-55788" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55790" href="../Denotational/#plfa_plfa-part3-Denotational-42850" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-55799" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55805" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-55810" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55812" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55816" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55823" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55825" href="../Denotational/#plfa_plfa-part3-Denotational-5647" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55833" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55837" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55838" href="../Denotational/#plfa_plfa-part3-Denotational-38757" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55842" href="../Denotational/#plfa_plfa-part3-Denotational-55779" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-55850" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55852" href="../Denotational/#plfa_plfa-part3-Denotational-3410" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>本章中展示的操作语义是<strong>过滤器模型（filter model，</strong>@Barendregt:1983）的一个例子。 过滤器模型使用带有交集类型的类型系统来精确刻画运行时行为（<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>）。 我们在本章中使用的记法并不是类型系统和交集类型的记法，但 <code>Value</code> 数据类型与这些类型同构（<code>↦</code> 对应 <code>→</code>，<code>⊔</code> 对应 <code>∧</code>，<code>⊥</code> 对应 <code>⊤</code>）， <code>⊑</code> 关系是子类型 <code>&lt;:</code> 的逆关系，并且求值关系 <code>ρ ⊢ M ↓ v</code> 与类型系统同构。 将 <code>ρ</code> 写成 <code>Γ</code>，将 <code>v</code> 写成 <code>A</code>，将 <code>↓</code> 替换为 <code>:</code>，就得到了一个类型判断 <code>Γ ⊢ M : A</code>。通过改变子类型的定义和使用类型原子的不同选择， 交集类型系统为许多不同的无类型 λ-演算提供语义，从完整的 beta-归约到惰性演算和按值调用演算（<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>，<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>）。 本章中的指称语义对应于 BCD 系统（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）。 <em>Lambda Calculus with Types</em> 一书中的第三部分描述了一个交集类型系统的框架， 它可以实现与本章中类似的结果，但适用于整个交集类型系统族（<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>）</p><p>使用有限的表格来表示函数，以及放宽表的查找以实现自我应用这两个想法首次出现在 <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> 的技术报告中，后来在《理论计算机科学》（<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>） 的一篇文章中进行了描述。在该项工作中，<code>Value</code> 的归纳定义与我们使用的有点不同：</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>其中 <code>C</code> 是一组常量，<code>℘f</code> 表示有限幂集。<code>℘f(Value) × ℘f(Value)</code> 中的序对表示输入-输出映射，和本章中的一样。有限幂集用于使函数表能够出现在输入和输出中。 这些差异相当于改变了 <code>Value</code> 定义中递归出现的位置。Plotkin 的模型是无类型 λ-演算的<strong>图模型（graph model）</strong>的一个例子（<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>）。 在图模型中，语义被表示为从程序和环境到（可能是无限的）值的集合的函数。 本章中的语义被定义为关系，不过以集合为值的函数与关系同构。 实际上，我们将在下一章中将语义表示为函数，并证明它等价于关系的版本。</p><p><span class="citation" data-cites="Scott:1976">Scott (1976)</span> 的 ℘(ω) 模型和 <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> 的 B(A) 模型是图模型的另外两个例子。 二者都采用了以下 <code>Value</code> 的归纳定义。</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>在输出中使用 <code>Value</code> 而非 <code>℘f(Value)</code> 相对 Plotkin 的模型来说并不会限制表达能力， 因为使用了值的集合的语义和集合 <code>(V, V′)</code> 的序对可以表示为一个序对的集合 <code>{ (V, v′) | v′ ∈ V′ }</code>。在 Scott 的 ℘(ω) 中， 上面的值通过一种哥德尔编码做了它和自然数的双向映射。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="参考来源">参考来源</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：OlingCat<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>