<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header" aria-label="Site"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav" aria-label="Site"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header" aria-label="Chapter"><h1 class="post-title">Denotational: 无类型 λ-演算的指称语义</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-118" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-125" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-149" class="Keyword">where</a>
</pre><p>λ-演算是一种关于<strong>函数</strong>的语言，即从输入到输出的映射。在计算中， 我们通常认为这种映射是通过一系列将输入转换为输出的操作来执行的。 但函数也可以表示为数据。例如，可以将函数表格化，即创建一个表， 其中每行都有两个条目：一个输入和一个该函数对应的输出。 函数应用则是查找给定输入的行并读取输出的过程。</p><p>我们可按照「函数即表格」的思想为无类型 λ-演算创建语义。然而却碰上了两个难点： 首先，函数的定义域通常是无穷的，因此我们似乎需要无限长的表格来表示函数。 其次，在 λ-演算中，函数可应用于函数，它们甚至可以应用于自身！ 因而这些表格可能包含循环引用。你可能会担心需要高级技术来解决这些问题， 幸而情况并非如此！</p><p>第一个问题是带有无穷定义域的函数。注意到每一个 λ-抽象只会应用于数量有限的不同参数， 该问题因而得以解决（我们回头再讨论发散的程序）。这是看待 Dana Scott 见解的另一种方式，即对 λ-演算进行建模只需要用到连续函数。</p><p>第二个问题是自应用，可以通过放宽在函数表格中查找参数的方式来解决。 通常，人们会在表中查找输入条目与参数完全匹配的行。在自应用的情况下， 这样会要求表包含其自身的副本，当然这是不可能的 （至少，想要使用归纳数据类型定义来构建表是不可能的，而这就是我们要做的）。 其实只要找到一个输入，使得每一行输入都对应到一行参数（即，输入是参数的子集）。 在自应用的情况下，表只需要包含其自身的较小副本，这样就好了。</p><p>基于这两点观察，我们就能直接写出 λ-演算的指称语义。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3262" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3267" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3274" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="plfa_plfa-part3-Denotational-3289" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3295" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3296" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#758" class="Primitive">lzero</a><a id="plfa_plfa-part3-Denotational-3301" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3303" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#774" class="Primitive">lsuc</a><a id="plfa_plfa-part3-Denotational-3307" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3309" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3314" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3321" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part3-Denotational-3330" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3336" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3337" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-3338" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3340" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-3344" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3346" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-3349" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3351" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3356" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3363" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-Denotational-3376" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3382" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3383" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-3386" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3388" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-3389" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3391" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-3399" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3401" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-3402" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3404" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-3412" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3414" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-3419" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3421" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-3426" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-3430" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-3439" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3440" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-3444" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-3452" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3454" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3459" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3466" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="plfa_plfa-part3-Denotational-3475" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3480" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3487" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.html" class="Module">Data.Vec</a> <a id="plfa_plfa-part3-Denotational-3496" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3502" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3503" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-3506" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3508" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-3510" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3512" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-3515" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3517" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3522" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3529" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-3569" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3575" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3576" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-3579" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3581" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part3-Denotational-3584" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3586" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-3590" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3592" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part3-Denotational-3595" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3597" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part3-Denotational-3601" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3603" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part3-Denotational-3608" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3610" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part3-Denotational-3618" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3620" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3625" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3632" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part3-Denotational-3649" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3655" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3656" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-3658" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3660" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3665" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3672" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-3698" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3704" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3705" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3718" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3720" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3725" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3732" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part3-Denotational-3741" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3747" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3748" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3751" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3753" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3758" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3765" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3786" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3792" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3793" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3800" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3802" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3803" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3805" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3808" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3810" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3811" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3813" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3816" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3818" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3819" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3821" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3823" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3825" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3828" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3830" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3832" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3834" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3837" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3839" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3841" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3852" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3854" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3856" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3860" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3862" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3865" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3867" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3873" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3875" href="../Untyped/#plfa_plfa-part2-Untyped-8582" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3879" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3881" href="../Untyped/#plfa_plfa-part2-Untyped-8943" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3886" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3888" href="../Untyped/#plfa_plfa-part2-Untyped-9439" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3898" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3900" href="../Untyped/#plfa_plfa-part2-Untyped-9555" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3904" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3906" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3911" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3918" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3942" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3948" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3949" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3955" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3957" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3971" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3973" href="../Substitution/#plfa_plfa-part2-Substitution-20710" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3982" class="Symbol">)</a>
</pre><h2 id="值">值</h2><p>值数据类型 <code>Value</code> 表示函数的有限的一部分。我们将值视为表示「输入-输出」 映射的有限序对集合。<code>Value</code> 数据类型将集合表示为二叉树，其内部节点是并集运算符， 叶子节点表示单个映射或空集。</p><ul><li><p>⊥ 值不提供有关计算的信息。</p></li><li><p>形如 <code>v ↦ w</code> 的值是从输入 <code>v</code> 到输出 <code>w</code> 的单个输入-输出映射。</p></li><li><p>形如 <code>v ⊔ w</code> 的值是根据 <code>v</code> 和 <code>w</code> 将输入映射到输出的函数。 可将其视为两个集合的并集。</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4925" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-4932" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-4934" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-4938" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-4945" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-4947" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-4952" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-4957" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4963" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4965" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4969" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-4977" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4979" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4981" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-4989" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-4993" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4995" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5001" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5003" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5009" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5011" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-5019" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-5023" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5025" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5031" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5033" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5039" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5041" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
</pre><p>关系 <code>⊑</code> 将熟悉的子集概念适配到 <code>Value</code> 数据类型上。 这种关系在实现自我应用方面起到了关键作用。有两个特定于函数的规则 <code>⊑-fun</code> 和 <code>⊑-dist</code>，我们将在后面讨论。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-5406" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-5412" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-5414" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-5419" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-5424" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-5428" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5430" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5436" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5438" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5444" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5446" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-5450" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-5459" href="../Denotational/#plfa_plfa-part3-Denotational-5459" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-5465" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5467" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5469" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5470" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5471" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5473" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5475" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-5477" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5479" href="../Denotational/#plfa_plfa-part3-Denotational-5470" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-5484" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5493" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5495" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5497" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5498" href="../Denotational/#plfa_plfa-part3-Denotational-5498" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5500" href="../Denotational/#plfa_plfa-part3-Denotational-5500" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5502" href="../Denotational/#plfa_plfa-part3-Denotational-5502" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5503" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5509" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5511" href="../Denotational/#plfa_plfa-part3-Denotational-5500" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5513" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5515" href="../Denotational/#plfa_plfa-part3-Denotational-5498" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-5521" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5523" href="../Denotational/#plfa_plfa-part3-Denotational-5502" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5525" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5527" href="../Denotational/#plfa_plfa-part3-Denotational-5498" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-5535" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5551" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5553" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5554" href="../Denotational/#plfa_plfa-part3-Denotational-5500" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5556" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5558" href="../Denotational/#plfa_plfa-part3-Denotational-5502" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5559" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5561" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5563" href="../Denotational/#plfa_plfa-part3-Denotational-5498" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-5568" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5578" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5580" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5582" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5583" href="../Denotational/#plfa_plfa-part3-Denotational-5583" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5585" href="../Denotational/#plfa_plfa-part3-Denotational-5585" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5587" href="../Denotational/#plfa_plfa-part3-Denotational-5587" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5588" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5594" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5596" href="../Denotational/#plfa_plfa-part3-Denotational-5583" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5598" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5600" href="../Denotational/#plfa_plfa-part3-Denotational-5585" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-5608" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5624" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5626" href="../Denotational/#plfa_plfa-part3-Denotational-5583" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5628" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5630" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5631" href="../Denotational/#plfa_plfa-part3-Denotational-5585" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5633" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5635" href="../Denotational/#plfa_plfa-part3-Denotational-5587" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5636" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-5641" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5651" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5653" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5655" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5656" href="../Denotational/#plfa_plfa-part3-Denotational-5656" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5658" href="../Denotational/#plfa_plfa-part3-Denotational-5658" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5660" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5661" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5667" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5669" href="../Denotational/#plfa_plfa-part3-Denotational-5656" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5671" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5673" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5681" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5697" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5699" href="../Denotational/#plfa_plfa-part3-Denotational-5656" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5701" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5703" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5704" href="../Denotational/#plfa_plfa-part3-Denotational-5658" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5706" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5708" href="../Denotational/#plfa_plfa-part3-Denotational-5660" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5709" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-5714" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-5722" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5724" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5726" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5727" href="../Denotational/#plfa_plfa-part3-Denotational-5727" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5729" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5731" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5732" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5738" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5740" href="../Denotational/#plfa_plfa-part3-Denotational-5727" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5742" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5744" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5750" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5752" href="../Denotational/#plfa_plfa-part3-Denotational-5729" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5754" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5756" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5764" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-5774" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5776" href="../Denotational/#plfa_plfa-part3-Denotational-5727" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5778" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5780" href="../Denotational/#plfa_plfa-part3-Denotational-5731" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-5785" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5791" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5793" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5795" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5796" href="../Denotational/#plfa_plfa-part3-Denotational-5796" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5798" href="../Denotational/#plfa_plfa-part3-Denotational-5798" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5800" href="../Denotational/#plfa_plfa-part3-Denotational-5800" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5803" href="../Denotational/#plfa_plfa-part3-Denotational-5803" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5805" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5811" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5813" href="../Denotational/#plfa_plfa-part3-Denotational-5800" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5816" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5818" href="../Denotational/#plfa_plfa-part3-Denotational-5796" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5824" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5826" href="../Denotational/#plfa_plfa-part3-Denotational-5798" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5828" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5830" href="../Denotational/#plfa_plfa-part3-Denotational-5803" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-5839" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-5863" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5865" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5866" href="../Denotational/#plfa_plfa-part3-Denotational-5796" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5868" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5870" href="../Denotational/#plfa_plfa-part3-Denotational-5798" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5871" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5873" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5875" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5876" href="../Denotational/#plfa_plfa-part3-Denotational-5800" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5879" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5881" href="../Denotational/#plfa_plfa-part3-Denotational-5803" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5883" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-5888" href="../Denotational/#plfa_plfa-part3-Denotational-5888" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-5895" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5897" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-5899" href="../Denotational/#plfa_plfa-part3-Denotational-5899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5901" href="../Denotational/#plfa_plfa-part3-Denotational-5901" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5903" href="../Denotational/#plfa_plfa-part3-Denotational-5903" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5905" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-5913" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-5951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5953" href="../Denotational/#plfa_plfa-part3-Denotational-5899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5955" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5957" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5958" href="../Denotational/#plfa_plfa-part3-Denotational-5901" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5960" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5962" href="../Denotational/#plfa_plfa-part3-Denotational-5903" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5964" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5966" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5968" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5969" href="../Denotational/#plfa_plfa-part3-Denotational-5899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5971" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5973" href="../Denotational/#plfa_plfa-part3-Denotational-5901" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5974" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5976" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5978" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5979" href="../Denotational/#plfa_plfa-part3-Denotational-5899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5981" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5983" href="../Denotational/#plfa_plfa-part3-Denotational-5903" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5985" class="Symbol">)</a>
</pre><p>前五条规则很简单。规则 <code>⊑-fun</code> 刻画了何时可以将高阶参数 <code>v′ ↦ w′</code> 与输入为 <code>v ↦ w</code> 的表格条目相匹配。考虑一个高阶参数的调用，可以传入一个比预期更大的参数， 因此 <code>v</code> 可以大于 <code>v′</code>。此外，还可以忽略某些输出，因此 <code>w</code> 可以小于 <code>w′</code>。 （译注：即作为子类型的函数，其参数是逆变的，返回值是协变的。） 规则 <code>⊑-dist</code> 表示，如果对同一个输入有两个条目相匹配， 则可以将它们合并成一个条目并连接两个输出。</p><p><code>⊑</code> 关系满足自反性：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-6820" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6827" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6829" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-6831" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6832" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-6833" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6835" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6837" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6839" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6841" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-6843" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6850" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6851" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-6852" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6854" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6856" href="../Denotational/#plfa_plfa-part3-Denotational-5459" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-6862" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6869" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6870" href="../Denotational/#plfa_plfa-part3-Denotational-6870" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6872" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6874" href="../Denotational/#plfa_plfa-part3-Denotational-6874" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6876" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6878" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6880" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6886" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6893" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-6900" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6907" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6908" href="../Denotational/#plfa_plfa-part3-Denotational-6908" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-6911" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6913" href="../Denotational/#plfa_plfa-part3-Denotational-6913" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-6915" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6917" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6919" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6928" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6929" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6939" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6945" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6947" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6948" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6958" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6964" class="Symbol">)</a>
</pre><p><code>⊔</code> 运算对 <code>⊑</code> 满足单调性，即给定两个较大的值，它会产生一个更大的值：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-7143" href="../Denotational/#plfa_plfa-part3-Denotational-7143" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7147" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7149" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7151" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7152" href="../Denotational/#plfa_plfa-part3-Denotational-7152" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7154" href="../Denotational/#plfa_plfa-part3-Denotational-7154" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7156" href="../Denotational/#plfa_plfa-part3-Denotational-7156" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7159" href="../Denotational/#plfa_plfa-part3-Denotational-7159" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7161" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7165" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7167" href="../Denotational/#plfa_plfa-part3-Denotational-7152" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7169" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7171" href="../Denotational/#plfa_plfa-part3-Denotational-7156" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-7175" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-7178" href="../Denotational/#plfa_plfa-part3-Denotational-7154" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7180" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7182" href="../Denotational/#plfa_plfa-part3-Denotational-7159" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-7189" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-7215" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7217" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7218" href="../Denotational/#plfa_plfa-part3-Denotational-7152" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7220" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7222" href="../Denotational/#plfa_plfa-part3-Denotational-7154" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7223" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7225" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7227" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7228" href="../Denotational/#plfa_plfa-part3-Denotational-7156" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7231" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7233" href="../Denotational/#plfa_plfa-part3-Denotational-7159" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7235" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7237" href="../Denotational/#plfa_plfa-part3-Denotational-7143" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7241" href="../Denotational/#plfa_plfa-part3-Denotational-7241" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-7244" href="../Denotational/#plfa_plfa-part3-Denotational-7244" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-7247" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7249" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-7258" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7259" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7269" href="../Denotational/#plfa_plfa-part3-Denotational-7241" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-7271" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7273" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7274" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7284" href="../Denotational/#plfa_plfa-part3-Denotational-7244" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-7286" class="Symbol">)</a>
</pre><p>即使输入的值不相同，<code>⊑-dist</code> 规则也可用于合并两个条目。首先可以用 <code>⊔</code> 将两个输入合并起来，然后应用 <code>⊑-dist</code> 规则来获得以下属性。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-7600" href="../Denotational/#plfa_plfa-part3-Denotational-7600" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7609" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7611" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-7613" href="../Denotational/#plfa_plfa-part3-Denotational-7613" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7615" href="../Denotational/#plfa_plfa-part3-Denotational-7615" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7618" href="../Denotational/#plfa_plfa-part3-Denotational-7618" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7620" href="../Denotational/#plfa_plfa-part3-Denotational-7620" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-7623" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7625" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-7630" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7634" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7637" href="../Denotational/#plfa_plfa-part3-Denotational-7613" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7639" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7641" href="../Denotational/#plfa_plfa-part3-Denotational-7615" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-7643" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7645" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7647" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7648" href="../Denotational/#plfa_plfa-part3-Denotational-7618" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7650" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7652" href="../Denotational/#plfa_plfa-part3-Denotational-7620" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7654" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7656" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7658" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7659" href="../Denotational/#plfa_plfa-part3-Denotational-7613" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7661" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7663" href="../Denotational/#plfa_plfa-part3-Denotational-7618" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7664" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7666" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7668" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7669" href="../Denotational/#plfa_plfa-part3-Denotational-7615" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7672" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7674" href="../Denotational/#plfa_plfa-part3-Denotational-7620" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7676" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7678" href="../Denotational/#plfa_plfa-part3-Denotational-7600" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7687" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7689" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-7697" href="../Denotational/#plfa_plfa-part3-Denotational-5888" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-7704" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7705" href="../Denotational/#plfa_plfa-part3-Denotational-7143" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7709" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7710" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7716" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7717" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7727" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7733" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7735" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7741" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-7771" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7772" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7778" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7779" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7789" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7795" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7797" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7803" class="Symbol">))</a>
</pre><p>如果连接 <code>u ⊔ v</code> 小于另一个值 <code>w</code>，则 <code>u</code> 和 <code>v</code> 都小于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-8056" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8064" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8066" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8068" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8070" href="../Denotational/#plfa_plfa-part3-Denotational-8070" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8072" href="../Denotational/#plfa_plfa-part3-Denotational-8072" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8074" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8076" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8081" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8085" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8087" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8089" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8091" href="../Denotational/#plfa_plfa-part3-Denotational-8070" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8093" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8095" href="../Denotational/#plfa_plfa-part3-Denotational-8072" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8101" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8113" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8115" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8117" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8119" href="../Denotational/#plfa_plfa-part3-Denotational-8072" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8121" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8129" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8130" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8139" href="../Denotational/#plfa_plfa-part3-Denotational-8139" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8143" href="../Denotational/#plfa_plfa-part3-Denotational-8143" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8146" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8148" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8150" href="../Denotational/#plfa_plfa-part3-Denotational-8139" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-8154" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8162" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8163" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8173" href="../Denotational/#plfa_plfa-part3-Denotational-8173" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8175" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8177" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8179" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8189" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8190" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8198" href="../Denotational/#plfa_plfa-part3-Denotational-8173" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8200" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8202" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8210" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8211" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8221" href="../Denotational/#plfa_plfa-part3-Denotational-8221" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8223" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8225" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8227" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8237" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8238" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8246" href="../Denotational/#plfa_plfa-part3-Denotational-8221" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8248" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8250" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8258" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8259" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8267" href="../Denotational/#plfa_plfa-part3-Denotational-8267" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8271" href="../Denotational/#plfa_plfa-part3-Denotational-8271" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8274" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8276" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8278" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8286" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8287" href="../Denotational/#plfa_plfa-part3-Denotational-8056" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8295" href="../Denotational/#plfa_plfa-part3-Denotational-8267" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8298" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8300" href="../Denotational/#plfa_plfa-part3-Denotational-8271" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-8305" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8313" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8315" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8317" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8319" href="../Denotational/#plfa_plfa-part3-Denotational-8319" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8321" href="../Denotational/#plfa_plfa-part3-Denotational-8321" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8323" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8325" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8330" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8334" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8336" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8338" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8340" href="../Denotational/#plfa_plfa-part3-Denotational-8319" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8342" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8344" href="../Denotational/#plfa_plfa-part3-Denotational-8321" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8350" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8362" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8364" href="../Denotational/#plfa_plfa-part3-Denotational-8319" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8366" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8368" href="../Denotational/#plfa_plfa-part3-Denotational-8321" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8370" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8378" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8379" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8388" href="../Denotational/#plfa_plfa-part3-Denotational-8388" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8392" href="../Denotational/#plfa_plfa-part3-Denotational-8392" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8395" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8397" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8399" href="../Denotational/#plfa_plfa-part3-Denotational-8392" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-8403" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8411" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8412" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8422" href="../Denotational/#plfa_plfa-part3-Denotational-8422" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8424" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8426" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8428" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8438" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8439" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8447" href="../Denotational/#plfa_plfa-part3-Denotational-8422" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8449" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8451" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8459" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8460" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8470" href="../Denotational/#plfa_plfa-part3-Denotational-8470" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8472" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8474" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8476" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8486" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8487" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8495" href="../Denotational/#plfa_plfa-part3-Denotational-8470" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8497" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8499" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8507" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8508" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8516" href="../Denotational/#plfa_plfa-part3-Denotational-8516" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8520" href="../Denotational/#plfa_plfa-part3-Denotational-8520" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8523" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8525" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8527" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8535" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8536" href="../Denotational/#plfa_plfa-part3-Denotational-8305" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8544" href="../Denotational/#plfa_plfa-part3-Denotational-8516" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8547" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8549" href="../Denotational/#plfa_plfa-part3-Denotational-8520" class="Bound">lt2</a>
</pre><h2 id="环境">环境</h2><p>环境通过将变量映射到值来为项中的自由变量赋予含义：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-8730" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8734" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8736" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-8744" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8746" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8750" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8754" href="../Denotational/#plfa_plfa-part3-Denotational-8754" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8756" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8758" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8760" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8761" href="../Denotational/#plfa_plfa-part3-Denotational-8761" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8763" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8765" href="../Denotational/#plfa_plfa-part3-Denotational-8754" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8767" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8769" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8770" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8772" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8774" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
</pre><p>我们有空环境，且可以扩展环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-8885" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8888" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8890" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8894" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-8896" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8899" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-8903" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-8910" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-8912" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-8918" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-8923" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8925" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8927" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8928" href="../Denotational/#plfa_plfa-part3-Denotational-8928" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8929" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8931" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8933" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8937" href="../Denotational/#plfa_plfa-part3-Denotational-8928" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8939" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8941" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-8947" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8949" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8953" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8954" href="../Denotational/#plfa_plfa-part3-Denotational-8928" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8956" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-8958" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8959" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8961" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8962" href="../Denotational/#plfa_plfa-part3-Denotational-8962" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8964" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8967" href="../Denotational/#plfa_plfa-part3-Denotational-8967" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8968" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8970" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-8972" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8974" href="../Denotational/#plfa_plfa-part3-Denotational-8967" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-8976" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8977" href="../Denotational/#plfa_plfa-part3-Denotational-8977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8979" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8982" href="../Denotational/#plfa_plfa-part3-Denotational-8982" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8983" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8985" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8986" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-8988" href="../Denotational/#plfa_plfa-part3-Denotational-8988" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8989" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8991" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8993" href="../Denotational/#plfa_plfa-part3-Denotational-8977" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8995" href="../Denotational/#plfa_plfa-part3-Denotational-8988" class="Bound">x</a>
</pre><p>我们可以从扩展的环境中恢复以前的环境以及最后添加的值。 将它们再次合并在一起能让我们回到开始：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-9222" href="../Denotational/#plfa_plfa-part3-Denotational-9222" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9227" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9229" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9231" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9232" href="../Denotational/#plfa_plfa-part3-Denotational-9232" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9233" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9235" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9237" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9241" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9242" href="../Denotational/#plfa_plfa-part3-Denotational-9232" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9244" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9246" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9247" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9249" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9251" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9255" href="../Denotational/#plfa_plfa-part3-Denotational-9232" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9257" href="../Denotational/#plfa_plfa-part3-Denotational-9222" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9262" href="../Denotational/#plfa_plfa-part3-Denotational-9262" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9264" href="../Denotational/#plfa_plfa-part3-Denotational-9264" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9266" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9268" href="../Denotational/#plfa_plfa-part3-Denotational-9262" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9270" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9271" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9273" href="../Denotational/#plfa_plfa-part3-Denotational-9264" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9274" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-9277" href="../Denotational/#plfa_plfa-part3-Denotational-9277" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9282" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9284" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9286" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9287" href="../Denotational/#plfa_plfa-part3-Denotational-9287" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9288" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9290" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9292" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9296" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9297" href="../Denotational/#plfa_plfa-part3-Denotational-9287" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9299" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9301" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9302" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9304" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9306" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-9312" href="../Denotational/#plfa_plfa-part3-Denotational-9277" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9317" href="../Denotational/#plfa_plfa-part3-Denotational-9317" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9319" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9321" href="../Denotational/#plfa_plfa-part3-Denotational-9317" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9323" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-9326" href="../Denotational/#plfa_plfa-part3-Denotational-9326" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9336" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9338" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9340" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9341" href="../Denotational/#plfa_plfa-part3-Denotational-9341" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9342" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9344" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9346" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9347" href="../Denotational/#plfa_plfa-part3-Denotational-9347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9349" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9351" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9355" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9356" href="../Denotational/#plfa_plfa-part3-Denotational-9341" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9358" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9360" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9361" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-9364" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9366" href="../Denotational/#plfa_plfa-part3-Denotational-9347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9368" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9370" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9371" href="../Denotational/#plfa_plfa-part3-Denotational-9222" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9376" href="../Denotational/#plfa_plfa-part3-Denotational-9347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9378" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9381" href="../Denotational/#plfa_plfa-part3-Denotational-9277" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9386" href="../Denotational/#plfa_plfa-part3-Denotational-9347" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9387" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-9389" href="../Denotational/#plfa_plfa-part3-Denotational-9326" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9399" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9400" href="../Denotational/#plfa_plfa-part3-Denotational-9400" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9401" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9403" href="../Denotational/#plfa_plfa-part3-Denotational-9403" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9405" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9407" href="../Substitution/#plfa_plfa-part2-Substitution-2259" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-9422" href="../Denotational/#plfa_plfa-part3-Denotational-9436" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-9430" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-9436" href="../Denotational/#plfa_plfa-part3-Denotational-9436" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9442" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9444" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9446" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9447" href="../Denotational/#plfa_plfa-part3-Denotational-9447" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9449" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9451" href="../Denotational/#plfa_plfa-part3-Denotational-9400" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9453" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9455" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-9457" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9459" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9460" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9462" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9464" href="../Denotational/#plfa_plfa-part3-Denotational-9403" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9466" href="../Denotational/#plfa_plfa-part3-Denotational-9447" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9468" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9470" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9471" href="../Denotational/#plfa_plfa-part3-Denotational-9222" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9476" href="../Denotational/#plfa_plfa-part3-Denotational-9403" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9478" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9481" href="../Denotational/#plfa_plfa-part3-Denotational-9277" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9486" href="../Denotational/#plfa_plfa-part3-Denotational-9403" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9487" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9489" href="../Denotational/#plfa_plfa-part3-Denotational-9447" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-9499" href="../Denotational/#plfa_plfa-part3-Denotational-9436" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9505" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-9512" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9515" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-9528" href="../Denotational/#plfa_plfa-part3-Denotational-9436" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9534" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9535" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9537" href="../Denotational/#plfa_plfa-part3-Denotational-9537" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9538" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-9541" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9544" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们将 <code>⊑</code> 关系逐点（Point-wise）扩展到具有以下定义的环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-9696" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9701" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9703" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9705" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9706" href="../Denotational/#plfa_plfa-part3-Denotational-9706" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9707" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9709" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9711" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9715" href="../Denotational/#plfa_plfa-part3-Denotational-9706" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9717" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9719" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9723" href="../Denotational/#plfa_plfa-part3-Denotational-9706" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9725" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9727" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-9731" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9736" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9737" href="../Denotational/#plfa_plfa-part3-Denotational-9737" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9738" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9740" href="../Denotational/#plfa_plfa-part3-Denotational-9740" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9742" href="../Denotational/#plfa_plfa-part3-Denotational-9742" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9744" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9746" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9748" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9749" href="../Denotational/#plfa_plfa-part3-Denotational-9749" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9751" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9753" href="../Denotational/#plfa_plfa-part3-Denotational-9737" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9755" href="../Untyped/#plfa_plfa-part2-Untyped-4355" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9757" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9758" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9760" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9762" href="../Denotational/#plfa_plfa-part3-Denotational-9740" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9764" href="../Denotational/#plfa_plfa-part3-Denotational-9749" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9766" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9768" href="../Denotational/#plfa_plfa-part3-Denotational-9742" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9770" href="../Denotational/#plfa_plfa-part3-Denotational-9749" class="Bound">x</a>
</pre><p>我们定义了一个底环境和一个环境上的连接运算符，它接受它们的值的逐点连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-9950" href="../Denotational/#plfa_plfa-part3-Denotational-9950" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9953" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9955" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9957" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9958" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9959" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9961" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9963" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9967" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9969" href="../Denotational/#plfa_plfa-part3-Denotational-9950" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9972" href="../Denotational/#plfa_plfa-part3-Denotational-9972" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9974" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9976" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-9979" href="../Denotational/#plfa_plfa-part3-Denotational-9979" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-9984" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9986" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9988" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9989" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9990" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9992" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9994" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9998" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-10000" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10002" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10006" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-10008" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10010" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10014" href="../Denotational/#plfa_plfa-part3-Denotational-9989" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-10016" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10017" href="../Denotational/#plfa_plfa-part3-Denotational-10017" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10019" href="../Denotational/#plfa_plfa-part3-Denotational-9979" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10022" href="../Denotational/#plfa_plfa-part3-Denotational-10022" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10023" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10025" href="../Denotational/#plfa_plfa-part3-Denotational-10025" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10027" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10029" href="../Denotational/#plfa_plfa-part3-Denotational-10017" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10031" href="../Denotational/#plfa_plfa-part3-Denotational-10025" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10033" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-10035" href="../Denotational/#plfa_plfa-part3-Denotational-10022" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10037" href="../Denotational/#plfa_plfa-part3-Denotational-10025" class="Bound">x</a>
</pre><p><code>⊑-refl</code>、<code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 规则对环境也适用，因此两个环境 <code>γ</code> 和 <code>δ</code> 的连接大于第一个环境 <code>γ</code> 或第二个环境 <code>δ</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-10539" href="../Denotational/#plfa_plfa-part3-Denotational-10539" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10547" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10549" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10551" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10552" href="../Denotational/#plfa_plfa-part3-Denotational-10552" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10553" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10555" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10556" href="../Denotational/#plfa_plfa-part3-Denotational-10556" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10558" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10560" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10564" href="../Denotational/#plfa_plfa-part3-Denotational-10552" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10565" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10567" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10569" href="../Denotational/#plfa_plfa-part3-Denotational-10556" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10571" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10574" href="../Denotational/#plfa_plfa-part3-Denotational-10556" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-10576" href="../Denotational/#plfa_plfa-part3-Denotational-10539" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10584" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10585" href="../Denotational/#plfa_plfa-part3-Denotational-10585" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10586" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10588" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10589" href="../Denotational/#plfa_plfa-part3-Denotational-10589" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10590" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10592" href="../Denotational/#plfa_plfa-part3-Denotational-10592" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10594" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10596" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10603" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10604" href="../Denotational/#plfa_plfa-part3-Denotational-10589" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10606" href="../Denotational/#plfa_plfa-part3-Denotational-10592" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-10607" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-10610" href="../Denotational/#plfa_plfa-part3-Denotational-10610" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10624" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10626" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10628" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10629" href="../Denotational/#plfa_plfa-part3-Denotational-10629" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10630" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10632" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10634" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10635" href="../Denotational/#plfa_plfa-part3-Denotational-10635" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10637" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10639" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10643" href="../Denotational/#plfa_plfa-part3-Denotational-10629" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10644" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10646" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10648" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10649" href="../Denotational/#plfa_plfa-part3-Denotational-10649" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10651" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10653" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10657" href="../Denotational/#plfa_plfa-part3-Denotational-10629" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10658" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10660" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10662" href="../Denotational/#plfa_plfa-part3-Denotational-10635" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10664" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10668" href="../Denotational/#plfa_plfa-part3-Denotational-10635" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10670" href="../Denotational/#plfa_plfa-part3-Denotational-9979" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10673" href="../Denotational/#plfa_plfa-part3-Denotational-10649" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10674" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10676" href="../Denotational/#plfa_plfa-part3-Denotational-10610" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10690" href="../Denotational/#plfa_plfa-part3-Denotational-10690" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10692" href="../Denotational/#plfa_plfa-part3-Denotational-10692" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10694" href="../Denotational/#plfa_plfa-part3-Denotational-10694" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10696" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10698" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10708" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-10716" href="../Denotational/#plfa_plfa-part3-Denotational-10716" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10730" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10732" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10734" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10735" href="../Denotational/#plfa_plfa-part3-Denotational-10735" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10736" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10738" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10740" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10741" href="../Denotational/#plfa_plfa-part3-Denotational-10741" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10743" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10745" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10749" href="../Denotational/#plfa_plfa-part3-Denotational-10735" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10750" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10752" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10754" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10755" href="../Denotational/#plfa_plfa-part3-Denotational-10755" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10757" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10759" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10763" href="../Denotational/#plfa_plfa-part3-Denotational-10735" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10764" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10766" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10768" href="../Denotational/#plfa_plfa-part3-Denotational-10755" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10770" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10773" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10774" href="../Denotational/#plfa_plfa-part3-Denotational-10741" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10776" href="../Denotational/#plfa_plfa-part3-Denotational-9979" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10779" href="../Denotational/#plfa_plfa-part3-Denotational-10755" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10780" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10782" href="../Denotational/#plfa_plfa-part3-Denotational-10716" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10796" href="../Denotational/#plfa_plfa-part3-Denotational-10796" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10798" href="../Denotational/#plfa_plfa-part3-Denotational-10798" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10800" href="../Denotational/#plfa_plfa-part3-Denotational-10800" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10802" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10804" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10814" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>
</pre><h2 id="指称语义">指称语义</h2><p>我们用形如 <code>ρ ⊢ M ↓ v</code> 的判断来定义语义，其中 <code>ρ</code> 是环境，<code>M</code> 程序，<code>v</code> 是结果值。 对于熟悉大步语义的读者来说，这种表示法会感觉很自然，但不要让这种相似性欺骗了你。 二者之间存在细微但重要的差异！下面是语义的定义，我们将在后面的段落中详细讨论：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-11434" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-11440" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-11442" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-11449" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-11454" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-11460" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11462" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-11464" href="../Denotational/#plfa_plfa-part3-Denotational-11464" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11465" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11467" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11469" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11473" href="../Denotational/#plfa_plfa-part3-Denotational-11464" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11475" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11477" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11478" href="../Denotational/#plfa_plfa-part3-Denotational-11464" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11480" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11482" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-11483" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11485" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11487" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-11493" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11495" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-11499" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-11508" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-11512" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11514" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11516" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11517" href="../Denotational/#plfa_plfa-part3-Denotational-11517" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11518" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11520" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11521" href="../Denotational/#plfa_plfa-part3-Denotational-11521" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11523" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11525" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11529" href="../Denotational/#plfa_plfa-part3-Denotational-11517" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11530" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11532" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11533" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11534" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11542" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11562" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11564" href="../Denotational/#plfa_plfa-part3-Denotational-11521" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11566" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11568" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11569" href="../Untyped/#plfa_plfa-part2-Untyped-5434" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-11571" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11572" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11574" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11576" href="../Denotational/#plfa_plfa-part3-Denotational-11521" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11578" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-11583" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-11590" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11592" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11594" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11595" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11596" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11598" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11599" href="../Denotational/#plfa_plfa-part3-Denotational-11599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11601" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11603" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11607" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11608" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11610" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11611" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11613" href="../Denotational/#plfa_plfa-part3-Denotational-11613" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11615" href="../Denotational/#plfa_plfa-part3-Denotational-11615" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11617" href="../Denotational/#plfa_plfa-part3-Denotational-11617" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11618" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11624" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11626" href="../Denotational/#plfa_plfa-part3-Denotational-11599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11628" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11630" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11632" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11634" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11635" href="../Denotational/#plfa_plfa-part3-Denotational-11615" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11637" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11639" href="../Denotational/#plfa_plfa-part3-Denotational-11617" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11640" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-11646" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11648" href="../Denotational/#plfa_plfa-part3-Denotational-11599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11650" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11652" href="../Denotational/#plfa_plfa-part3-Denotational-11613" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11654" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11656" href="../Denotational/#plfa_plfa-part3-Denotational-11615" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11664" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11684" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11686" href="../Denotational/#plfa_plfa-part3-Denotational-11599" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11688" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11690" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11691" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11693" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-11695" href="../Denotational/#plfa_plfa-part3-Denotational-11613" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11696" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11698" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11700" href="../Denotational/#plfa_plfa-part3-Denotational-11617" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-11705" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-11713" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11715" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11717" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11718" href="../Denotational/#plfa_plfa-part3-Denotational-11718" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11719" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11721" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11722" href="../Denotational/#plfa_plfa-part3-Denotational-11722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11724" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11726" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11730" href="../Denotational/#plfa_plfa-part3-Denotational-11718" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11731" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11733" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11734" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11736" href="../Denotational/#plfa_plfa-part3-Denotational-11736" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11738" href="../Denotational/#plfa_plfa-part3-Denotational-11738" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11739" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11745" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11747" href="../Denotational/#plfa_plfa-part3-Denotational-11722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11749" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-11752" href="../Denotational/#plfa_plfa-part3-Denotational-11736" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11754" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11756" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11758" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11760" href="../Denotational/#plfa_plfa-part3-Denotational-11738" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11768" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-11792" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11794" href="../Denotational/#plfa_plfa-part3-Denotational-11722" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11796" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11798" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11799" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-11801" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-11802" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11804" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11807" href="../Denotational/#plfa_plfa-part3-Denotational-11736" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11809" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11811" href="../Denotational/#plfa_plfa-part3-Denotational-11738" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11812" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-11817" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-11825" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11827" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11829" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11830" href="../Denotational/#plfa_plfa-part3-Denotational-11830" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11831" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11833" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11834" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11836" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11838" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11842" href="../Denotational/#plfa_plfa-part3-Denotational-11830" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11843" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11845" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11846" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11847" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11855" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-11869" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11871" href="../Denotational/#plfa_plfa-part3-Denotational-11834" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11873" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11875" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11877" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11879" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-11884" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11892" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11894" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11896" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11897" href="../Denotational/#plfa_plfa-part3-Denotational-11897" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11898" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11900" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11901" href="../Denotational/#plfa_plfa-part3-Denotational-11901" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11903" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11905" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11909" href="../Denotational/#plfa_plfa-part3-Denotational-11897" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11910" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11912" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11913" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11915" href="../Denotational/#plfa_plfa-part3-Denotational-11915" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11917" href="../Denotational/#plfa_plfa-part3-Denotational-11917" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11918" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11924" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11926" href="../Denotational/#plfa_plfa-part3-Denotational-11901" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11928" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11930" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11932" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11934" href="../Denotational/#plfa_plfa-part3-Denotational-11915" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11940" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11942" href="../Denotational/#plfa_plfa-part3-Denotational-11901" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11944" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11946" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11948" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11950" href="../Denotational/#plfa_plfa-part3-Denotational-11917" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11958" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11978" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11980" href="../Denotational/#plfa_plfa-part3-Denotational-11901" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11982" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11984" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11986" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11988" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11989" href="../Denotational/#plfa_plfa-part3-Denotational-11915" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11991" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11993" href="../Denotational/#plfa_plfa-part3-Denotational-11917" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11994" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-11999" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-12003" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12005" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12007" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12008" href="../Denotational/#plfa_plfa-part3-Denotational-12008" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-12009" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12011" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12012" href="../Denotational/#plfa_plfa-part3-Denotational-12012" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12014" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12016" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-12020" href="../Denotational/#plfa_plfa-part3-Denotational-12008" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-12021" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12023" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12024" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12026" href="../Denotational/#plfa_plfa-part3-Denotational-12026" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-12028" href="../Denotational/#plfa_plfa-part3-Denotational-12028" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-12029" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-12035" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12037" href="../Denotational/#plfa_plfa-part3-Denotational-12012" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12039" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12041" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12043" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12045" href="../Denotational/#plfa_plfa-part3-Denotational-12026" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-12051" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12053" href="../Denotational/#plfa_plfa-part3-Denotational-12028" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-12055" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-12057" href="../Denotational/#plfa_plfa-part3-Denotational-12026" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-12065" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-12079" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12081" href="../Denotational/#plfa_plfa-part3-Denotational-12012" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12083" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12085" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12087" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12089" href="../Denotational/#plfa_plfa-part3-Denotational-12028" class="Bound">w</a>
</pre><p>考虑 λ-抽象的规则 <code>↦-intro</code>，它表示 λ-抽象会生成一个单条目的表，该表将输入 <code>v</code> 映射到输出 <code>w</code>，前提是在 <code>v</code> 绑定到形参的环境中求值时会产生输出 <code>w</code>。 作为此规则的简单示例，我们可以看到恒等函数将 <code>⊥</code> 映射到 <code>⊥</code>，同样也会将 <code>⊥</code> ↦ <code>⊥</code> 映射到 <code>⊥ ↦ ⊥</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-12665" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12668" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12670" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-12672" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12674" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-12676" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12679" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12681" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-12683" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-12685" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-12700" href="../Denotational/#plfa_plfa-part3-Denotational-12700" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12710" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12712" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12714" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12715" href="../Denotational/#plfa_plfa-part3-Denotational-12715" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12716" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12718" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12720" href="../Denotational/#plfa_plfa-part3-Denotational-12715" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12722" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12724" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12727" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12729" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12731" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12733" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-12735" href="../Denotational/#plfa_plfa-part3-Denotational-12700" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12745" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12747" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12755" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-12760" href="../Denotational/#plfa_plfa-part3-Denotational-12760" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12770" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12772" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12774" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12775" href="../Denotational/#plfa_plfa-part3-Denotational-12775" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12776" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12778" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12780" href="../Denotational/#plfa_plfa-part3-Denotational-12775" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12782" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12784" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12787" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12790" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12792" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12794" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12795" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12797" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12799" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12800" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12802" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12804" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12805" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12807" href="../Denotational/#plfa_plfa-part3-Denotational-12760" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12817" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12819" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12827" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a>
</pre><p>当然，我们需要多行表格来刻画 λ-抽象的含义。它们可以用 <code>⊔-intro</code> 规则构建。如果项 <code>M</code>（通常是一个 λ-抽象）可以产生表格 <code>v</code> 和 <code>w</code>， 那么它也可以产生合并的表格 <code>v ⊔ w</code>。我们可以从操作的视角看待规则 <code>↦-intro</code> 和 <code>⊔-intro</code>。想象一下，当解释器首次遇到 λ-抽象时， 它会在许多随机选择的参数上预先对函数求值，使用多个 <code>↦-intro</code> 规则的实例，然后再使用多个 <code>⊔-intro</code> 规则将它们合并成一个大表格。 在接下来的内容中，我们将展示恒等函数产生一个包含上述两个结果的表格 <code>⊥ ↦ ⊥</code>和<code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-13908" href="../Denotational/#plfa_plfa-part3-Denotational-13908" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13918" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13920" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13923" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13925" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-13928" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13930" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13931" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13933" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13935" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13936" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13938" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13940" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13941" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13943" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13945" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13946" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13948" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13950" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13951" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13953" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13955" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13956" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13958" href="../Denotational/#plfa_plfa-part3-Denotational-13908" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13968" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13970" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-13978" href="../Denotational/#plfa_plfa-part3-Denotational-12700" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-13988" href="../Denotational/#plfa_plfa-part3-Denotational-12760" class="Function">denot-id2</a>
</pre><p>我们通常认为判断 <code>γ ⊢ M ↓ v</code> 以环境 <code>γ</code> 和项 <code>M</code> 为输入，产生结果 <code>v</code>。 然而重点在于，语义是一种<strong>关系</strong>。上述恒等函数的结果表明， 相同的环境和项可以映射为不同的结果。然而，对于给定的 <code>γ</code> 和 <code>M</code> ，它们的结果并不会有<strong>太大</strong>区别，毕竟它们都是同一个函数的有限近似。 或许考虑判断 <code>γ ⊢ M ↓ v</code> 更好的方法是将 <code>γ</code>、<code>M</code> 和 <code>v</code> 都视为输入， 其语义则是判定 <code>v</code> 是否为精确的环境 <code>γ</code> 中 <code>M</code> 的求值结果的部分描述。</p><p>接下来我们考虑 <code>↦-elim</code> 规则给出的函数应用的含义。 以此规则为前提，我们有规则 <code>L</code> 将 <code>v</code> 映射到 <code>w</code>。 因此，如果 <code>M</code> 产生 <code>v</code>，那么将 <code>L</code> 应用于 <code>M</code> 会产生 <code>w</code>。</p><p>举一个函数应用和 <code>↦-elim</code> 规则的例子，我们将恒等函数应用于自身。 实际上，我们有 <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> 的同时还有 <code>∅ ⊢ id ↓ (u ↦ u)</code>，因此我们可以应用规则 <code>↦-elim</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-15645" href="../Denotational/#plfa_plfa-part3-Denotational-15645" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15655" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15657" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-15659" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15660" href="../Denotational/#plfa_plfa-part3-Denotational-15660" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15662" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15664" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-15669" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15671" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-15673" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15676" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15678" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15681" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15683" href="../Denotational/#plfa_plfa-part3-Denotational-12665" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15686" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15688" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15689" href="../Denotational/#plfa_plfa-part3-Denotational-15660" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15691" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-15693" href="../Denotational/#plfa_plfa-part3-Denotational-15660" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15694" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-15696" href="../Denotational/#plfa_plfa-part3-Denotational-15645" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15706" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15707" href="../Denotational/#plfa_plfa-part3-Denotational-15707" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15708" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15710" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15712" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15719" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15720" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15728" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15731" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15733" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15734" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15742" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15745" class="Symbol">)</a>
</pre><p>接着我们重新考虑丘奇数 <code>2</code>：<code>λ f. λ u. (f (f u))</code>。该函数有两个参数：<code>f</code> 和一个任意值 <code>u</code>，并将 <code>f</code> 应用两次。于是 <code>f</code> 必定将 <code>u</code> 映射到某个值， 我们将其命名为 <code>v</code>。接着，对于第二次应用，<code>f</code> 必定将 <code>v</code> 映射到某个值， 我们将其命名为 <code>w</code>。因此该函数的表格必定包含两个条目，即 <code>u ↦ v</code> 和 <code>v ↦ w</code>。 对于该表格的每一次应用，我们用 <code>sub</code> 规则提取对应的条目。具体来说， 就是用 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 从表格 <code>u ↦ v ⊔ v ↦ w</code> 中分别选出 <code>u ↦ v</code> 和 <code>v ↦ w</code>。所以 <code>twoᶜ</code> 的含义就是接受该表格和参数 <code>u</code>，然后返回 <code>w</code>。 实际上我们是通过以下过程把它推导出来的：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-16866" href="../Denotational/#plfa_plfa-part3-Denotational-16866" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16877" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16879" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-16881" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16883" href="../Denotational/#plfa_plfa-part3-Denotational-16883" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16885" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16887" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16889" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-16894" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16896" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16898" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-16901" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16903" href="../Untyped/#plfa_plfa-part2-Untyped-6766" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16908" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16910" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-16912" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16914" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16916" href="../Denotational/#plfa_plfa-part3-Denotational-16883" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16918" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16920" href="../Denotational/#plfa_plfa-part3-Denotational-16883" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16922" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16924" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16925" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16927" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16929" href="../Denotational/#plfa_plfa-part3-Denotational-16881" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16931" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16933" href="../Denotational/#plfa_plfa-part3-Denotational-16885" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16934" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-16936" href="../Denotational/#plfa_plfa-part3-Denotational-16866" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16947" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16948" href="../Denotational/#plfa_plfa-part3-Denotational-16948" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-16949" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16951" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-16952" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16954" href="../Denotational/#plfa_plfa-part3-Denotational-16954" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16955" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16957" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-16961" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16969" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16970" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16978" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16979" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16986" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16987" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16991" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16995" href="../Denotational/#plfa_plfa-part3-Denotational-17037" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-16998" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17000" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17001" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17008" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17009" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17013" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17017" href="../Denotational/#plfa_plfa-part3-Denotational-17120" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-17020" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17022" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-17025" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-17031" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-17037" href="../Denotational/#plfa_plfa-part3-Denotational-17037" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17041" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17043" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17045" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17047" href="../Denotational/#plfa_plfa-part3-Denotational-16954" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17049" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17051" href="../Denotational/#plfa_plfa-part3-Denotational-16948" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17053" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17055" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17057" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17059" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17061" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17063" href="../Denotational/#plfa_plfa-part3-Denotational-16954" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17073" href="../Denotational/#plfa_plfa-part3-Denotational-17037" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17077" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17079" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17089" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17090" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17096" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17103" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17109" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-17120" href="../Denotational/#plfa_plfa-part3-Denotational-17120" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17124" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17126" href="../Denotational/#plfa_plfa-part3-Denotational-16948" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17128" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17130" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17132" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17134" href="../Denotational/#plfa_plfa-part3-Denotational-16948" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17136" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17138" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17140" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17142" href="../Denotational/#plfa_plfa-part3-Denotational-16951" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17144" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17146" href="../Denotational/#plfa_plfa-part3-Denotational-16954" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17156" href="../Denotational/#plfa_plfa-part3-Denotational-17120" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17160" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17162" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17163" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17173" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17174" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17180" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17187" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17193" class="Symbol">))</a>
</pre><p>接下来展示一个自应用的经典例子：<code>Δ = λx. (x x)</code>。 <code>x</code> 的输入值必须是一个表格，其中有一个条目将其自身较小的版本 <code>v</code> 映射到某个值 <code>w</code>，所以输入值类似于 <code>v ↦ w ⊔ v</code>。当然， <code>Δ</code> 的输出就是 <code>w</code>，推导过程如下所示。第一个 <code>x</code> 求值为 <code>v ↦ w</code>， 第二个 <code>x</code> 求值为 <code>v</code>，应用的结果为 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-17876" href="../Denotational/#plfa_plfa-part3-Denotational-17876" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17878" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17880" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-17882" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17884" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-17886" href="../Denotational/#plfa_plfa-part3-Denotational-17876" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17888" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17890" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17891" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-17893" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17894" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17896" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17897" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17899" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-17901" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17902" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17904" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17905" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-17909" href="../Denotational/#plfa_plfa-part3-Denotational-17909" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17917" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17919" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17921" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17922" href="../Denotational/#plfa_plfa-part3-Denotational-17922" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17924" href="../Denotational/#plfa_plfa-part3-Denotational-17924" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17925" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17927" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17929" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-17932" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17934" href="../Denotational/#plfa_plfa-part3-Denotational-17876" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17936" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17938" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-17940" href="../Denotational/#plfa_plfa-part3-Denotational-17922" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17942" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17944" href="../Denotational/#plfa_plfa-part3-Denotational-17924" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17946" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17948" href="../Denotational/#plfa_plfa-part3-Denotational-17922" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17949" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17951" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17953" href="../Denotational/#plfa_plfa-part3-Denotational-17924" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17954" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-17956" href="../Denotational/#plfa_plfa-part3-Denotational-17909" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17964" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17966" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-17974" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17975" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17982" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17983" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17987" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17991" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17992" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-18002" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18008" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-18037" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18038" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-18042" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-18046" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18047" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-18057" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18063" class="Symbol">)))</a>
</pre><p>你可能会担心这种语义是否可以处理发散的程序。值 <code>⊥</code> 和规则 <code>⊥-intro</code> 提供了一种处理它们的方法（<code>⊥-intro</code> 规则也是 β-归约能够应用于不停机参数的原因）。 经典的 <code>Ω</code> 程序是一个特别简单的发散程序，它将 <code>Δ</code> 应用于自身，语义赋予 <code>Ω</code> 含义 <code>⊥</code>。有多种方法可以得出它，我们将从使用 <code>⊔-intro</code> 规则的方法开始。 首先，<code>denot-Δ</code> 告诉我们 <code>Δ</code> 的计算结果为 <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code>（选择 <code>v₁ = v2 = ⊥</code> ）。接着，<code>Δ</code> 还通过使用 <code>↦-intro</code> 和 <code>⊥-intro</code> 求值为 <code>⊥ ↦ ⊥</code>，并通过 <code>⊥-intro</code> 求值为 <code>⊥</code>。正如我们之前所看到的， 只要我们能证明程序会求值出两个值，我们就能应用 <code>⊔-intro</code> 将它们连接在一起， 于是 <code>Δ</code> 求值为 <code>(⊥ ↦ ⊥) ⊔ ⊥</code>，这与第一个 <code>Δ</code> 的输入相匹配， 因此可得应用的结果是 <code>⊥</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-19463" href="../Denotational/#plfa_plfa-part3-Denotational-19463" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19465" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19467" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-19469" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19471" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-19473" href="../Denotational/#plfa_plfa-part3-Denotational-19463" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19475" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19477" href="../Denotational/#plfa_plfa-part3-Denotational-17876" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-19479" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-19481" href="../Denotational/#plfa_plfa-part3-Denotational-17876" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-19484" href="../Denotational/#plfa_plfa-part3-Denotational-19484" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19492" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19494" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19497" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19499" href="../Denotational/#plfa_plfa-part3-Denotational-19463" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19501" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19503" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19505" href="../Denotational/#plfa_plfa-part3-Denotational-19484" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19513" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19515" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-19522" href="../Denotational/#plfa_plfa-part3-Denotational-17909" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-19530" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19531" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-19539" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19540" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-19548" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19555" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19557" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19564" class="Symbol">)</a>
</pre><p>同一结果的较短推导就是单纯使用 <code>⊥-intro</code> 规则：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-19702" href="../Denotational/#plfa_plfa-part3-Denotational-19702" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19711" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19713" href="../Denotational/#plfa_plfa-part3-Denotational-8885" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19716" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19718" href="../Denotational/#plfa_plfa-part3-Denotational-19463" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19720" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19722" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19724" href="../Denotational/#plfa_plfa-part3-Denotational-19702" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19733" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19735" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a>
</pre><p>仅凭对某个封闭项 <code>M</code> 可以推导出 <code>∅ ⊢ M ↓ ⊥</code> 并不意味着 <code>M</code> 必然发散。 可能还有其他可以推出 <code>M</code> 的推导过程，能产生包含更多信息的值。然而， 如果一个项求值的唯一结果是 <code>⊥</code>，那么它确实发散。</p><p>细心的读者会发现，我们计划解决自应用问题的方式与实际应用的 <code>↦-elim</code> 规则之间存在脱节。开头说过，我们会放宽查表的概念， 如果参数等于或大于输入条目，则允许参数匹配输入条目。然而，<code>↦-elim</code> 规则似乎需要精确匹配，但由于存在 <code>sub</code> 规则，应用确实可以允许更大的参数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-20806" href="../Denotational/#plfa_plfa-part3-Denotational-20806" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20814" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20816" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-20818" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20819" href="../Denotational/#plfa_plfa-part3-Denotational-20819" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20820" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20822" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20823" href="../Denotational/#plfa_plfa-part3-Denotational-20823" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20825" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20827" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-20831" href="../Denotational/#plfa_plfa-part3-Denotational-20819" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20832" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20834" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20835" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20838" href="../Denotational/#plfa_plfa-part3-Denotational-20838" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20841" href="../Denotational/#plfa_plfa-part3-Denotational-20841" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20844" href="../Denotational/#plfa_plfa-part3-Denotational-20844" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-20847" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20849" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-20853" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20855" href="../Denotational/#plfa_plfa-part3-Denotational-20823" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20857" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20859" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20862" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20864" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20865" href="../Denotational/#plfa_plfa-part3-Denotational-20841" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20868" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-20870" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20872" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-20876" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20878" href="../Denotational/#plfa_plfa-part3-Denotational-20823" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20880" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20882" href="../Denotational/#plfa_plfa-part3-Denotational-20838" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20885" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20887" href="../Denotational/#plfa_plfa-part3-Denotational-20844" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-20892" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20894" href="../Denotational/#plfa_plfa-part3-Denotational-20841" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20897" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-20899" href="../Denotational/#plfa_plfa-part3-Denotational-20844" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-20906" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-20927" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20929" href="../Denotational/#plfa_plfa-part3-Denotational-20823" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20931" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20933" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20934" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20937" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-20939" href="../Denotational/#plfa_plfa-part3-Denotational-20838" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-20941" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-20943" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20945" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-20948" href="../Denotational/#plfa_plfa-part3-Denotational-20806" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20956" href="../Denotational/#plfa_plfa-part3-Denotational-20956" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20959" href="../Denotational/#plfa_plfa-part3-Denotational-20959" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20962" href="../Denotational/#plfa_plfa-part3-Denotational-20962" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-20965" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-20967" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-20974" href="../Denotational/#plfa_plfa-part3-Denotational-20956" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20977" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20978" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-20982" href="../Denotational/#plfa_plfa-part3-Denotational-20959" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20985" href="../Denotational/#plfa_plfa-part3-Denotational-20962" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-20987" class="Symbol">)</a>
</pre><h4 id="练习-denot-plusᶜ实践">练习 <code>denot-plusᶜ</code>（实践）</h4><p><code>plusᶜ</code> 的指称是什么？即，找到一个值 <code>v</code>（排除 <code>⊥</code>），使得 <code>∅ ⊢ plusᶜ ↓ v</code>。 此外，对你选择的 <code>v</code> 给出 <code>∅ ⊢ plusᶜ ↓ v</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-21349" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="指称与指称相等">指称与指称相等</h2><p>接下来我们基于上述语义来定义指称相等的概念，它的语句使用了「当且仅当」， 其定义如下</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-21645" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-21651" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21653" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21657" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21659" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21663" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21665" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-21669" href="../Denotational/#plfa_plfa-part3-Denotational-21669" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21671" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-21675" href="../Denotational/#plfa_plfa-part3-Denotational-21675" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21677" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21679" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21680" href="../Denotational/#plfa_plfa-part3-Denotational-21669" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21682" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21684" href="../Denotational/#plfa_plfa-part3-Denotational-21675" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-21685" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-21687" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-21689" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21690" href="../Denotational/#plfa_plfa-part3-Denotational-21675" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21692" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21694" href="../Denotational/#plfa_plfa-part3-Denotational-21669" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-21695" class="Symbol">)</a>
</pre><p>看待指称语义的另一种方式是将它看作一个函数，它将项映射为一个从环境到值的关系， 即，项的<strong>指称（Denotation）</strong>是一个从环境到值的关系。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-22000" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22011" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22013" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-22021" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22023" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-22028" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22039" href="../Denotational/#plfa_plfa-part3-Denotational-22039" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22041" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22043" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22044" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22048" href="../Denotational/#plfa_plfa-part3-Denotational-22039" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22050" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22052" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-22058" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22060" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-22063" class="Symbol">)</a>
</pre><p>下面的函数 ℰ 给出了语义的另一种视角，它相当于只改变了参数的顺序：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-22262" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22264" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22266" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-22268" href="../Denotational/#plfa_plfa-part3-Denotational-22268" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22269" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22271" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22273" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22274" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22276" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22278" href="../Denotational/#plfa_plfa-part3-Denotational-22268" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22280" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22282" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-22283" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22285" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22287" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22298" href="../Denotational/#plfa_plfa-part3-Denotational-22268" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-22300" href="../Denotational/#plfa_plfa-part3-Denotational-22262" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22302" href="../Denotational/#plfa_plfa-part3-Denotational-22302" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22304" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22306" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-22308" href="../Denotational/#plfa_plfa-part3-Denotational-22308" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22310" href="../Denotational/#plfa_plfa-part3-Denotational-22310" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22312" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22314" href="../Denotational/#plfa_plfa-part3-Denotational-22308" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22316" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22318" href="../Denotational/#plfa_plfa-part3-Denotational-22302" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22320" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-22322" href="../Denotational/#plfa_plfa-part3-Denotational-22310" class="Bound">v</a>
</pre><p>一般来说，当两个指称在相同的环境中能够产生相同的值时，二者就是相等的。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-22481" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-22487" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-22489" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-22494" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22498" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22500" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22502" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22503" href="../Denotational/#plfa_plfa-part3-Denotational-22503" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22504" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22506" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22508" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22509" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22520" href="../Denotational/#plfa_plfa-part3-Denotational-22503" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22521" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22523" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22525" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22526" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22537" href="../Denotational/#plfa_plfa-part3-Denotational-22503" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22538" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22540" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22542" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-22546" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22547" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22551" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22552" href="../Denotational/#plfa_plfa-part3-Denotational-22552" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22553" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22555" href="../Denotational/#plfa_plfa-part3-Denotational-22555" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22558" href="../Denotational/#plfa_plfa-part3-Denotational-22558" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-22560" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22562" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22564" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22565" href="../Denotational/#plfa_plfa-part3-Denotational-22565" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22567" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22569" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22573" href="../Denotational/#plfa_plfa-part3-Denotational-22552" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22574" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22576" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22578" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22579" href="../Denotational/#plfa_plfa-part3-Denotational-22579" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22581" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22583" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-22588" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22590" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22592" href="../Denotational/#plfa_plfa-part3-Denotational-22555" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22595" href="../Denotational/#plfa_plfa-part3-Denotational-22565" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22597" href="../Denotational/#plfa_plfa-part3-Denotational-22579" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22599" href="../Denotational/#plfa_plfa-part3-Denotational-21645" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-22603" href="../Denotational/#plfa_plfa-part3-Denotational-22558" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-22606" href="../Denotational/#plfa_plfa-part3-Denotational-22565" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22608" href="../Denotational/#plfa_plfa-part3-Denotational-22579" class="Bound">v</a>
</pre><p>指称相等是一种等价关系：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-22697" href="../Denotational/#plfa_plfa-part3-Denotational-22697" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22704" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22706" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22708" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22709" href="../Denotational/#plfa_plfa-part3-Denotational-22709" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22711" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22713" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22720" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22722" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22724" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22725" href="../Denotational/#plfa_plfa-part3-Denotational-22725" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22727" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22729" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22740" href="../Denotational/#plfa_plfa-part3-Denotational-22709" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22741" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22745" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22747" href="../Denotational/#plfa_plfa-part3-Denotational-22725" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22749" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22751" href="../Denotational/#plfa_plfa-part3-Denotational-22725" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22753" href="../Denotational/#plfa_plfa-part3-Denotational-22697" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22760" href="../Denotational/#plfa_plfa-part3-Denotational-22760" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22762" href="../Denotational/#plfa_plfa-part3-Denotational-22762" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22764" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22766" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22768" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22771" href="../Denotational/#plfa_plfa-part3-Denotational-22771" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22773" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22775" href="../Denotational/#plfa_plfa-part3-Denotational-22771" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22776" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22778" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22780" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22783" href="../Denotational/#plfa_plfa-part3-Denotational-22783" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22785" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22787" href="../Denotational/#plfa_plfa-part3-Denotational-22783" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22788" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22790" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-22793" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22799" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22801" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22803" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22804" href="../Denotational/#plfa_plfa-part3-Denotational-22804" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22806" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22808" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22815" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22817" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22819" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22820" href="../Denotational/#plfa_plfa-part3-Denotational-22820" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22822" href="../Denotational/#plfa_plfa-part3-Denotational-22822" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22824" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22826" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22837" href="../Denotational/#plfa_plfa-part3-Denotational-22804" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22838" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22842" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22844" href="../Denotational/#plfa_plfa-part3-Denotational-22820" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22846" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22848" href="../Denotational/#plfa_plfa-part3-Denotational-22822" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-22854" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-22862" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22864" href="../Denotational/#plfa_plfa-part3-Denotational-22822" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22866" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22868" href="../Denotational/#plfa_plfa-part3-Denotational-22820" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22870" href="../Denotational/#plfa_plfa-part3-Denotational-22793" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22876" href="../Denotational/#plfa_plfa-part3-Denotational-22876" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22879" href="../Denotational/#plfa_plfa-part3-Denotational-22879" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22881" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22883" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22885" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22887" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22888" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-22894" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22895" href="../Denotational/#plfa_plfa-part3-Denotational-22876" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22898" href="../Denotational/#plfa_plfa-part3-Denotational-22879" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22900" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22901" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22904" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22906" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22907" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22913" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22914" href="../Denotational/#plfa_plfa-part3-Denotational-22876" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22917" href="../Denotational/#plfa_plfa-part3-Denotational-22879" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22919" href="../Denotational/#plfa_plfa-part3-Denotational-22881" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22920" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22923" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-22926" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22934" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22936" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22938" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22939" href="../Denotational/#plfa_plfa-part3-Denotational-22939" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22941" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22943" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22950" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22952" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22954" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22955" href="../Denotational/#plfa_plfa-part3-Denotational-22955" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22958" href="../Denotational/#plfa_plfa-part3-Denotational-22958" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22961" href="../Denotational/#plfa_plfa-part3-Denotational-22961" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-22964" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22966" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22977" href="../Denotational/#plfa_plfa-part3-Denotational-22939" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22978" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22982" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22984" href="../Denotational/#plfa_plfa-part3-Denotational-22955" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22987" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22989" href="../Denotational/#plfa_plfa-part3-Denotational-22958" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-22994" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22996" href="../Denotational/#plfa_plfa-part3-Denotational-22958" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22999" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23001" href="../Denotational/#plfa_plfa-part3-Denotational-22961" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-23008" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-23018" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23020" href="../Denotational/#plfa_plfa-part3-Denotational-22955" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-23023" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23025" href="../Denotational/#plfa_plfa-part3-Denotational-22961" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-23028" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23036" href="../Denotational/#plfa_plfa-part3-Denotational-23036" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23040" href="../Denotational/#plfa_plfa-part3-Denotational-23040" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23044" href="../Denotational/#plfa_plfa-part3-Denotational-23044" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23046" href="../Denotational/#plfa_plfa-part3-Denotational-23046" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-23048" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23050" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-23052" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23055" href="../Denotational/#plfa_plfa-part3-Denotational-23055" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23057" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23059" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23065" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23066" href="../Denotational/#plfa_plfa-part3-Denotational-23040" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23070" href="../Denotational/#plfa_plfa-part3-Denotational-23044" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23072" href="../Denotational/#plfa_plfa-part3-Denotational-23046" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23073" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23075" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23076" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23082" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23083" href="../Denotational/#plfa_plfa-part3-Denotational-23036" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23087" href="../Denotational/#plfa_plfa-part3-Denotational-23044" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23089" href="../Denotational/#plfa_plfa-part3-Denotational-23046" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23090" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23092" href="../Denotational/#plfa_plfa-part3-Denotational-23055" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23093" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23096" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-23122" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23125" href="../Denotational/#plfa_plfa-part3-Denotational-23125" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23127" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23129" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23135" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23136" href="../Denotational/#plfa_plfa-part3-Denotational-23036" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23140" href="../Denotational/#plfa_plfa-part3-Denotational-23044" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23142" href="../Denotational/#plfa_plfa-part3-Denotational-23046" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23143" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23145" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23146" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23152" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23153" href="../Denotational/#plfa_plfa-part3-Denotational-23040" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23157" href="../Denotational/#plfa_plfa-part3-Denotational-23044" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23159" href="../Denotational/#plfa_plfa-part3-Denotational-23046" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23160" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23162" href="../Denotational/#plfa_plfa-part3-Denotational-23125" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23163" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23166" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
</pre><p>若两个项 <code>M</code> 和 <code>N</code> 的指称相等，我们就说它们是指称相等的，即 <code>ℰ M ≃ ℰ N</code>。</p><p>以下子模块引入了 <code>≃</code> 关系的等式推理：</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-23454" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-23461" href="../Denotational/#plfa_plfa-part3-Denotational-23461" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-23473" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23474" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23476" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23478" href="../Untyped/#plfa_plfa-part2-Untyped-3830" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-23485" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23487" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-23496" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23503" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-23505" href="../Denotational/#plfa_plfa-part3-Denotational-23553" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-23514" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-23521" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-23523" href="../Denotational/#plfa_plfa-part3-Denotational-23784" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23529" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-23538" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23545" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-23547" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-23553" href="../Denotational/#plfa_plfa-part3-Denotational-23553" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-23560" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23562" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23564" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23565" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23567" href="../Denotational/#plfa_plfa-part3-Denotational-23567" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23569" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23571" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23582" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23583" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23589" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23591" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23593" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23595" href="../Denotational/#plfa_plfa-part3-Denotational-23567" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23603" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23613" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23615" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23617" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23619" href="../Denotational/#plfa_plfa-part3-Denotational-23567" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23623" href="../Denotational/#plfa_plfa-part3-Denotational-23553" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-23629" href="../Denotational/#plfa_plfa-part3-Denotational-23629" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23634" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23637" href="../Denotational/#plfa_plfa-part3-Denotational-23629" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-23644" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-23651" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23653" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23655" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23656" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23658" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23660" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23671" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23672" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23674" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23675" href="../Denotational/#plfa_plfa-part3-Denotational-23675" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23677" href="../Denotational/#plfa_plfa-part3-Denotational-23677" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23679" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23681" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23692" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23693" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23699" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23701" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23703" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23705" href="../Denotational/#plfa_plfa-part3-Denotational-23675" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-23711" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23713" href="../Denotational/#plfa_plfa-part3-Denotational-23675" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23715" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23717" href="../Denotational/#plfa_plfa-part3-Denotational-23677" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-23725" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23735" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23737" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23739" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23741" href="../Denotational/#plfa_plfa-part3-Denotational-23677" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-23745" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23746" href="../Denotational/#plfa_plfa-part3-Denotational-23746" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23748" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-23751" href="../Denotational/#plfa_plfa-part3-Denotational-23751" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23755" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-23757" href="../Denotational/#plfa_plfa-part3-Denotational-23757" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-23760" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23762" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23765" href="../Denotational/#plfa_plfa-part3-Denotational-22926" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23773" href="../Denotational/#plfa_plfa-part3-Denotational-23751" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23777" href="../Denotational/#plfa_plfa-part3-Denotational-23757" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-23784" href="../Denotational/#plfa_plfa-part3-Denotational-23784" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23790" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23792" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23794" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23795" href="../Denotational/#plfa_plfa-part3-Denotational-23795" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23797" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23799" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23810" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23811" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23813" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23814" href="../Denotational/#plfa_plfa-part3-Denotational-23814" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23816" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23818" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23829" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23830" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23836" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23838" href="../Denotational/#plfa_plfa-part3-Denotational-23795" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23840" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23842" href="../Denotational/#plfa_plfa-part3-Denotational-23814" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23850" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23860" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23862" href="../Denotational/#plfa_plfa-part3-Denotational-23795" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23864" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23866" href="../Denotational/#plfa_plfa-part3-Denotational-23814" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23870" href="../Denotational/#plfa_plfa-part3-Denotational-23870" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23872" href="../Denotational/#plfa_plfa-part3-Denotational-23784" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-23876" href="../Denotational/#plfa_plfa-part3-Denotational-23876" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23881" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23884" href="../Denotational/#plfa_plfa-part3-Denotational-23876" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-23891" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-23894" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23896" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23898" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23899" href="../Denotational/#plfa_plfa-part3-Denotational-23899" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23901" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23903" href="../Denotational/#plfa_plfa-part3-Denotational-22000" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23914" href="../Denotational/#plfa_plfa-part3-Denotational-23474" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23915" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-23923" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23933" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23935" href="../Denotational/#plfa_plfa-part3-Denotational-23899" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23937" href="../Denotational/#plfa_plfa-part3-Denotational-22494" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23939" href="../Denotational/#plfa_plfa-part3-Denotational-23899" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-23943" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23944" href="../Denotational/#plfa_plfa-part3-Denotational-23944" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23946" href="../Denotational/#plfa_plfa-part3-Denotational-23891" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-23947" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-23950" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23953" href="../Denotational/#plfa_plfa-part3-Denotational-22697" class="Function">≃-refl</a>
</pre><h2 id="后续章节的路线图">后续章节的路线图</h2><p>后续章节证明了指称语义拥有几个期望的性质。首先我们证明了语义是可组合的， 即，一个项的指称是其子项的指称的函数。为此我们需要证明以下形式的等式：</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>组合性的性质并不平凡，因为我们定义的语义包含三个非语法制导的规则： <code>⊥-intro</code>、<code>⊔-intro</code> 和 <code>sub</code>。上面的等式表明指称语义可以被定义为递归函数， 实际上，我们确实给出了这样的定义并证明它等价于 ℰ。</p><p>接下来我们研究指称语义和归约语义是否等价。回想一下，一个语言的语义的作用， 就是描述给定程序 <code>M</code> 的可观测行为。对于 λ-演算，我们可以做出多种选择， 但它们通常可以归结为一点信息：</p><ul><li>发散：程序 <code>M</code> 永远执行。</li><li>停机：程序 <code>M</code> 停止。</li></ul><p>我们可以用归约的项来刻画发散和停机：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (M —↠ ƛ N)</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>M —↠ ƛ N</code> 。</li></ul><p>我们也可以用指称来刻画发散和停机：</p><ul><li>发散：对于任意 <code>v</code> 和 <code>w</code>，有 <code>¬ (∅ ⊢ M ↓ v ↦ w)</code>。</li><li>停机：对于某个 <code>v</code> 和 <code>w</code>，有 <code>∅ ⊢ M ↓ v ↦ w</code>。</li></ul><p>此外，我们还可以用指称函数 <code>ℰ</code>：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (ℰ M ≃ ℰ (ƛ N))</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>ℰ M ≃ ℰ (ƛ N)</code>。</li></ul><p>所以问题在于归约语义和指称语义是否等价：</p><pre><code>(∃ N. M —↠ ƛ N)  当且仅当  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>我们将在第二章和第三章中讨论等价的每个方向。在第二章中，我们证明了 λ-抽象的归约蕴含 λ-抽象的指称相等。此性质在文献中被称为<strong>可靠性（Soundness）</strong>。</p><pre><code>M —↠ ƛ N  蕴含  ℰ M ≃ ℰ (ƛ N)</code></pre><p>在第三章中，我们证明了 λ-抽象的指称相等蕴含 λ-抽象的归约。 此性质在文献中被称为<strong>充分性（Adequacy）</strong>。</p><pre><code>ℰ M ≃ ℰ (ƛ N)  蕴含 M —↠ ƛ N′ 对于某个 N′</code></pre><p>第四章应用前三章的结果（组合性、可靠性和充分性）来证明指称相等蕴含一种称为 <strong>语境等价（Contextual Equivalence）</strong>的性质。这个性质很重要， 因为它保证了在证明程序变换（如性能优化）的正确性时使用指称相等的合理性。</p><p>我们会在本章剩下的部分中建立关于指称语义的一些基本结果， 所有这些性质的证明都依赖于此。我们先从一些关于重命名的引理开始， 它们与我们在前面的章节中见过的重命名引理非常相似。 我们以函数值小于关系的重要反演引理的证明作为结论。</p><h2 id="重命名保持指称不变">重命名保持指称不变</h2><p>我们将证明重命名变量并更改环境中对应的项仍能保持项的含义。 我们推广了重命名引理，以允许新环境中的值等于或大于原始值， 这种推广有助于证明归约蕴含了指称相等。</p><p>和以前一样，我们需要一个扩展引理来处理在 λ-抽象的情况下的证明。假设 <code>ρ</code> 是一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相等或更大值的变量。 这个引理说明了，扩展重命名会产生一个重命名 <code>ext r</code>，它将 <code>γ , v</code> 映射到 <code>δ , v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-29319" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29325" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29327" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-29329" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29330" href="../Denotational/#plfa_plfa-part3-Denotational-29330" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29332" href="../Denotational/#plfa_plfa-part3-Denotational-29332" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-29334" href="../Denotational/#plfa_plfa-part3-Denotational-29334" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29335" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29337" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29338" href="../Denotational/#plfa_plfa-part3-Denotational-29338" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29340" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29342" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29346" href="../Denotational/#plfa_plfa-part3-Denotational-29330" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-29347" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29349" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29350" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29352" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29354" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29358" href="../Denotational/#plfa_plfa-part3-Denotational-29332" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29359" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-29363" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29365" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29366" href="../Denotational/#plfa_plfa-part3-Denotational-29366" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29368" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29370" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-29377" href="../Denotational/#plfa_plfa-part3-Denotational-29330" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29379" href="../Denotational/#plfa_plfa-part3-Denotational-29332" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29380" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-29384" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29386" href="../Denotational/#plfa_plfa-part3-Denotational-29338" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29388" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29391" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29392" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29394" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29396" href="../Denotational/#plfa_plfa-part3-Denotational-29366" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29397" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-29403" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-29436" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29438" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29439" href="../Denotational/#plfa_plfa-part3-Denotational-29338" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29441" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29444" href="../Denotational/#plfa_plfa-part3-Denotational-29334" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29445" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29447" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29450" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-29452" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29454" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29457" href="../Denotational/#plfa_plfa-part3-Denotational-29334" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29458" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29460" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29462" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-29466" href="../Denotational/#plfa_plfa-part3-Denotational-29366" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29467" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-29469" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29475" href="../Denotational/#plfa_plfa-part3-Denotational-29475" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29477" href="../Denotational/#plfa_plfa-part3-Denotational-29477" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29480" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-29482" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29484" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-29491" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29497" href="../Denotational/#plfa_plfa-part3-Denotational-29497" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29499" href="../Denotational/#plfa_plfa-part3-Denotational-29499" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29502" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29503" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-29505" href="../Denotational/#plfa_plfa-part3-Denotational-29505" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-29507" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29509" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29511" href="../Denotational/#plfa_plfa-part3-Denotational-29499" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29514" href="../Denotational/#plfa_plfa-part3-Denotational-29505" class="Bound">n′</a>
</pre><p>我们对 de Bruijn 索引 <code>n</code> 分情况来证明：</p><ul><li><p>若索引为 <code>Z</code>，那么我们只需证明 <code>v ⊑ v</code>，它根据 <code>⊑-refl</code> 成立。</p></li><li><p>若索引为 <code>S n′</code>，则目标简化为 <code>γ n′ ⊑ δ (ρ n′)</code>，它是前提的一个实例。</p></li></ul><p>接着是重命名引理的证明。假设我们有一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相同值的变量。若在环境 <code>γ</code> 中 <code>M</code> 求值为 <code>v</code>，则对 <code>M</code> 应用重命名会生成一个程序，它在环境 <code>δ</code> 中求值会产生相同的值 <code>v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-30331" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30343" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30345" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-30347" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30348" href="../Denotational/#plfa_plfa-part3-Denotational-30348" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30350" href="../Denotational/#plfa_plfa-part3-Denotational-30350" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-30352" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30353" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30355" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30356" href="../Denotational/#plfa_plfa-part3-Denotational-30356" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30358" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30360" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30364" href="../Denotational/#plfa_plfa-part3-Denotational-30348" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-30365" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30367" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30368" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30370" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30372" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30376" href="../Denotational/#plfa_plfa-part3-Denotational-30350" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30377" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30379" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30380" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30382" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30384" href="../Denotational/#plfa_plfa-part3-Denotational-30348" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30386" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30388" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-30389" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-30393" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30395" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30396" href="../Denotational/#plfa_plfa-part3-Denotational-30396" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30398" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30400" href="../Substitution/#plfa_plfa-part2-Substitution-2603" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-30407" href="../Denotational/#plfa_plfa-part3-Denotational-30348" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30409" href="../Denotational/#plfa_plfa-part3-Denotational-30350" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30410" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30414" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30416" href="../Denotational/#plfa_plfa-part3-Denotational-30356" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30418" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-30421" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30422" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30424" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-30426" href="../Denotational/#plfa_plfa-part3-Denotational-30396" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30427" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30431" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30433" href="../Denotational/#plfa_plfa-part3-Denotational-30356" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30435" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30437" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30439" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30441" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-30447" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-30471" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30473" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30475" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30477" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30478" href="../Untyped/#plfa_plfa-part2-Untyped-8055" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-30485" href="../Denotational/#plfa_plfa-part3-Denotational-30396" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30487" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-30488" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30490" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30492" href="../Denotational/#plfa_plfa-part3-Denotational-30352" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30494" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30506" href="../Denotational/#plfa_plfa-part3-Denotational-30506" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30508" href="../Denotational/#plfa_plfa-part3-Denotational-30508" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30511" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30512" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30516" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30517" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-30519" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30521" href="../Denotational/#plfa_plfa-part3-Denotational-30521" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30522" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-30525" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30527" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30531" href="../Denotational/#plfa_plfa-part3-Denotational-11508" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30535" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30536" href="../Denotational/#plfa_plfa-part3-Denotational-30508" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30539" href="../Denotational/#plfa_plfa-part3-Denotational-30521" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30540" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30542" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30554" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30556" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30559" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30560" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30567" href="../Denotational/#plfa_plfa-part3-Denotational-30567" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30569" href="../Denotational/#plfa_plfa-part3-Denotational-30569" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30571" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30573" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30578" href="../Denotational/#plfa_plfa-part3-Denotational-11583" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30585" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30586" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30598" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30600" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30603" href="../Denotational/#plfa_plfa-part3-Denotational-30567" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30604" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30606" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30607" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30619" href="../Denotational/#plfa_plfa-part3-Denotational-30554" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30621" href="../Denotational/#plfa_plfa-part3-Denotational-30556" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30624" href="../Denotational/#plfa_plfa-part3-Denotational-30569" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30626" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30628" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30640" href="../Denotational/#plfa_plfa-part3-Denotational-30640" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30642" href="../Denotational/#plfa_plfa-part3-Denotational-30642" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30645" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30646" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30654" href="../Denotational/#plfa_plfa-part3-Denotational-30654" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30655" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30657" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30662" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30670" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30671" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30683" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30684" href="../Untyped/#plfa_plfa-part2-Untyped-7663" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-30688" href="../Denotational/#plfa_plfa-part3-Denotational-30640" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30689" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30691" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30692" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-30698" href="../Denotational/#plfa_plfa-part3-Denotational-30640" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30700" href="../Denotational/#plfa_plfa-part3-Denotational-30642" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-30702" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30704" href="../Denotational/#plfa_plfa-part3-Denotational-30654" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30705" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30707" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30719" href="../Denotational/#plfa_plfa-part3-Denotational-30719" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30721" href="../Denotational/#plfa_plfa-part3-Denotational-30721" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30724" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-30732" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30734" href="../Denotational/#plfa_plfa-part3-Denotational-11817" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-30742" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30754" href="../Denotational/#plfa_plfa-part3-Denotational-30754" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30756" href="../Denotational/#plfa_plfa-part3-Denotational-30756" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30759" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30760" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30768" href="../Denotational/#plfa_plfa-part3-Denotational-30768" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30770" href="../Denotational/#plfa_plfa-part3-Denotational-30770" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30772" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30774" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30779" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30787" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30788" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30800" href="../Denotational/#plfa_plfa-part3-Denotational-30754" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30802" href="../Denotational/#plfa_plfa-part3-Denotational-30756" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30805" href="../Denotational/#plfa_plfa-part3-Denotational-30768" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30806" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30808" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30809" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30821" href="../Denotational/#plfa_plfa-part3-Denotational-30754" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30823" href="../Denotational/#plfa_plfa-part3-Denotational-30756" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30826" href="../Denotational/#plfa_plfa-part3-Denotational-30770" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30828" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30830" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30842" href="../Denotational/#plfa_plfa-part3-Denotational-30842" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30844" href="../Denotational/#plfa_plfa-part3-Denotational-30844" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30847" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30848" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30852" href="../Denotational/#plfa_plfa-part3-Denotational-30852" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30854" href="../Denotational/#plfa_plfa-part3-Denotational-30854" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-30857" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30859" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30864" href="../Denotational/#plfa_plfa-part3-Denotational-11999" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30868" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30869" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30881" href="../Denotational/#plfa_plfa-part3-Denotational-30842" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30883" href="../Denotational/#plfa_plfa-part3-Denotational-30844" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30886" href="../Denotational/#plfa_plfa-part3-Denotational-30852" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30887" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30889" href="../Denotational/#plfa_plfa-part3-Denotational-30854" class="Bound">lt′</a>
</pre><p>证明通过对 <code>M</code> 的语义进行归纳而得出。如你所见，除了变量和 λ-的情况外，其他情况都很简单。</p><ul><li><p>对于 <code>x</code>，我们根据前提来证明 <code>γ x ⊑ δ (ρ x)</code>。</p></li><li><p>对于 λ-抽象，归纳假设需要我们扩展重命名。我们扩展了它并使用 <code>ext-⊑</code> 引理来证明，扩展重命名会将变量映射到具有等价的值的变量。</p></li></ul><h2 id="环境增强与恒等重命名">环境增强与恒等重命名</h2><p>我们还需要一个重命名引理的推论，即用更大（或更强）的环境替换当前环境， 并不会改变项 <code>M</code> 是否产生特定的值 <code>v</code>。具体来说，即若 <code>γ ⊢ M ↓ v</code> 且 <code>γ ⊑ δ</code>，则 <code>δ ⊢ M ↓ v</code>。那么这和重命名有何关联呢？ 它其实就是用恒等函数来重命名。我们以恒等重命名来应用重命名引理， 会得到 <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>，之后应用 <code>rename-id</code> 引理就会得到 <code>δ ⊢ M ↓ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-32332" href="../Denotational/#plfa_plfa-part3-Denotational-32332" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32338" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32340" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32342" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32343" href="../Denotational/#plfa_plfa-part3-Denotational-32343" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32344" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32346" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32347" href="../Denotational/#plfa_plfa-part3-Denotational-32347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32349" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32351" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-32343" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32356" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32358" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32359" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32361" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32363" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32367" href="../Denotational/#plfa_plfa-part3-Denotational-32343" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32368" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32370" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32371" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32373" href="../Denotational/#plfa_plfa-part3-Denotational-32373" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32374" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32378" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32380" href="../Denotational/#plfa_plfa-part3-Denotational-32347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32382" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32384" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32386" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32388" href="../Denotational/#plfa_plfa-part3-Denotational-32373" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32392" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32394" href="../Denotational/#plfa_plfa-part3-Denotational-32347" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32396" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32399" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-32405" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-32418" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32420" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32422" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32424" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32426" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32428" href="../Denotational/#plfa_plfa-part3-Denotational-32373" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32430" href="../Denotational/#plfa_plfa-part3-Denotational-32332" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-32435" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32436" href="../Denotational/#plfa_plfa-part3-Denotational-32436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32437" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32439" href="../Denotational/#plfa_plfa-part3-Denotational-32439" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32440" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32442" href="../Denotational/#plfa_plfa-part3-Denotational-32442" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32443" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32445" href="../Denotational/#plfa_plfa-part3-Denotational-32445" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32446" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32448" href="../Denotational/#plfa_plfa-part3-Denotational-32448" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32449" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32451" href="../Denotational/#plfa_plfa-part3-Denotational-32451" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32453" href="../Denotational/#plfa_plfa-part3-Denotational-32453" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-32462" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32467" href="../Denotational/#plfa_plfa-part3-Denotational-30331" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-32478" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32479" href="../Denotational/#plfa_plfa-part3-Denotational-32436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32480" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32482" href="../Denotational/#plfa_plfa-part3-Denotational-32436" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32483" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32485" href="../Denotational/#plfa_plfa-part3-Denotational-32448" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32486" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32488" href="../Denotational/#plfa_plfa-part3-Denotational-32439" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32489" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32491" href="../Denotational/#plfa_plfa-part3-Denotational-32442" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32492" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32494" href="../Denotational/#plfa_plfa-part3-Denotational-32445" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32495" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32497" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32500" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32501" href="../Denotational/#plfa_plfa-part3-Denotational-32501" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-32502" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32504" href="../Denotational/#plfa_plfa-part3-Denotational-32504" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-32506" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32508" href="../Denotational/#plfa_plfa-part3-Denotational-32504" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-32509" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32511" href="../Denotational/#plfa_plfa-part3-Denotational-32453" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32514" href="../Denotational/#plfa_plfa-part3-Denotational-32451" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-32516" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32520" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32522" href="../Denotational/#plfa_plfa-part3-Denotational-32522" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-32532" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-32540" href="../Substitution/#plfa_plfa-part2-Substitution-20710" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-32550" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32551" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32552" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32554" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-32555" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32557" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32558" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32560" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-32568" href="../Denotational/#plfa_plfa-part3-Denotational-32522" class="Bound">δ⊢id[M]↓v</a>
</pre><p>在代换反映了指称的证明中，对于 λ-抽象这一情况，我们使用 <code>⊑-env</code> 的一个小变体，其中只有环境中的最后一个元素变大：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-32854" href="../Denotational/#plfa_plfa-part3-Denotational-32854" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32861" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32863" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32865" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32866" href="../Denotational/#plfa_plfa-part3-Denotational-32866" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32867" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32869" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32870" href="../Denotational/#plfa_plfa-part3-Denotational-32870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32872" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32874" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32878" href="../Denotational/#plfa_plfa-part3-Denotational-32866" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32879" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32881" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32882" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32884" href="../Denotational/#plfa_plfa-part3-Denotational-32884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32886" href="../Denotational/#plfa_plfa-part3-Denotational-32886" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32889" href="../Denotational/#plfa_plfa-part3-Denotational-32889" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32891" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32895" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32897" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32898" href="../Denotational/#plfa_plfa-part3-Denotational-32870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32900" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32903" href="../Denotational/#plfa_plfa-part3-Denotational-32886" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32905" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32907" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32909" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32911" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32913" href="../Denotational/#plfa_plfa-part3-Denotational-32884" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32917" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32919" href="../Denotational/#plfa_plfa-part3-Denotational-32886" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32922" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32924" href="../Denotational/#plfa_plfa-part3-Denotational-32889" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-32931" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-32951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32953" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32954" href="../Denotational/#plfa_plfa-part3-Denotational-32870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32956" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32959" href="../Denotational/#plfa_plfa-part3-Denotational-32889" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32961" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32963" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32965" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32967" href="../Denotational/#plfa_plfa-part3-Denotational-11454" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32969" href="../Denotational/#plfa_plfa-part3-Denotational-32884" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32971" href="../Denotational/#plfa_plfa-part3-Denotational-32854" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32978" href="../Denotational/#plfa_plfa-part3-Denotational-32978" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32980" href="../Denotational/#plfa_plfa-part3-Denotational-32980" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32983" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32985" href="../Denotational/#plfa_plfa-part3-Denotational-32332" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32991" href="../Denotational/#plfa_plfa-part3-Denotational-32978" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32993" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32994" href="../Denotational/#plfa_plfa-part3-Denotational-33015" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33001" href="../Denotational/#plfa_plfa-part3-Denotational-32980" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-33003" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33007" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-33015" href="../Denotational/#plfa_plfa-part3-Denotational-33015" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33022" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33024" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-33026" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33027" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33029" href="../Denotational/#plfa_plfa-part3-Denotational-33029" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33032" href="../Denotational/#plfa_plfa-part3-Denotational-33032" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33034" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33036" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33038" href="../Denotational/#plfa_plfa-part3-Denotational-33029" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33041" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-33043" href="../Denotational/#plfa_plfa-part3-Denotational-33032" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-33046" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33048" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33049" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33051" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33054" href="../Denotational/#plfa_plfa-part3-Denotational-33029" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-33056" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33058" href="../Denotational/#plfa_plfa-part3-Denotational-9696" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-33061" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33062" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33064" href="../Denotational/#plfa_plfa-part3-Denotational-8918" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33067" href="../Denotational/#plfa_plfa-part3-Denotational-33032" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33069" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33073" href="../Denotational/#plfa_plfa-part3-Denotational-33015" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33080" href="../Denotational/#plfa_plfa-part3-Denotational-33080" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33083" href="../Untyped/#plfa_plfa-part2-Untyped-4391" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-33085" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33087" href="../Denotational/#plfa_plfa-part3-Denotational-33080" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-33092" href="../Denotational/#plfa_plfa-part3-Denotational-33015" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33099" href="../Denotational/#plfa_plfa-part3-Denotational-33099" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33102" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33103" href="../Untyped/#plfa_plfa-part2-Untyped-4436" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-33105" href="../Denotational/#plfa_plfa-part3-Denotational-33105" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33106" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33108" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33110" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>
</pre><h4 id="练习-denot-church推荐">练习 <code>denot-church</code>（推荐）</h4><p>在路径的表达上，丘奇数比自然数更通用。一条路径由 <code>n</code> 条边和 <code>n + 1</code> 个顶点构成。 我们将顶点逆序存储在长度为 <code>n + 1</code> 的向量中。路径中的边将第 <code>i</code> 个顶点映射到第 <code>i + 1</code> 个顶点。以下函数 <code>D^suc</code>（表示后继（successor）的指称）构造了一个表， 其中的条目是路径上所有的边：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-33778" href="../Denotational/#plfa_plfa-part3-Denotational-33778" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33784" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33786" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33787" href="../Denotational/#plfa_plfa-part3-Denotational-33787" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-33789" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33791" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-33792" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33794" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33796" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-33800" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-33806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33807" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33811" href="../Denotational/#plfa_plfa-part3-Denotational-33787" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33812" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33814" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33816" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33822" href="../Denotational/#plfa_plfa-part3-Denotational-33778" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33828" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-33833" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33834" href="../Denotational/#plfa_plfa-part3-Denotational-33834" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-33839" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33841" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-33843" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33845" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33847" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33849" href="../Denotational/#plfa_plfa-part3-Denotational-33778" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33855" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33856" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33860" href="../Denotational/#plfa_plfa-part3-Denotational-33860" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-33861" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33863" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33864" href="../Denotational/#plfa_plfa-part3-Denotational-33864" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-33871" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33873" href="../Denotational/#plfa_plfa-part3-Denotational-33873" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33878" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33880" href="../Denotational/#plfa_plfa-part3-Denotational-33880" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33882" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33884" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-33887" href="../Denotational/#plfa_plfa-part3-Denotational-33873" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33892" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33894" href="../Denotational/#plfa_plfa-part3-Denotational-33864" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-33902" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-33905" href="../Denotational/#plfa_plfa-part3-Denotational-33778" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33911" href="../Denotational/#plfa_plfa-part3-Denotational-33860" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-33913" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33914" href="../Denotational/#plfa_plfa-part3-Denotational-33873" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33919" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33921" href="../Denotational/#plfa_plfa-part3-Denotational-33880" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33923" class="Symbol">)</a>
</pre><p>我们用以下辅助函数来获取非空向量的第一个元素（就我们的目的而言，这种表示方式比 Agda 标准库中的更加方便）。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-34194" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34203" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34205" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34207" href="../Denotational/#plfa_plfa-part3-Denotational-34207" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34209" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34211" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34212" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34214" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34216" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34220" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34226" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34227" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34231" href="../Denotational/#plfa_plfa-part3-Denotational-34207" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34232" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34234" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34236" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34242" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34251" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34252" class="Number">0</a><a id="plfa_plfa-part3-Denotational-34253" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34255" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34256" href="../Denotational/#plfa_plfa-part3-Denotational-34256" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34258" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34260" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-34262" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34264" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34266" href="../Denotational/#plfa_plfa-part3-Denotational-34256" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-34268" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34277" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34278" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34282" href="../Denotational/#plfa_plfa-part3-Denotational-34282" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34283" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34285" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34286" href="../Denotational/#plfa_plfa-part3-Denotational-34286" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34288" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34290" href="../Denotational/#plfa_plfa-part3-Denotational-34290" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34292" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34294" href="../Denotational/#plfa_plfa-part3-Denotational-34294" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34296" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34298" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34300" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34309" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34310" href="../Denotational/#plfa_plfa-part3-Denotational-34290" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34312" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34314" href="../Denotational/#plfa_plfa-part3-Denotational-34294" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34316" class="Symbol">)</a>
</pre><p>函数 <code>Dᶜ</code> 计算给定的路径上第 <code>n</code> 个丘奇数的指称。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-34459" href="../Denotational/#plfa_plfa-part3-Denotational-34459" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34462" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34464" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34465" href="../Denotational/#plfa_plfa-part3-Denotational-34465" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34467" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34469" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34470" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34472" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34474" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34478" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34484" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34485" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34489" href="../Denotational/#plfa_plfa-part3-Denotational-34465" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34490" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34492" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34494" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34500" href="../Denotational/#plfa_plfa-part3-Denotational-34459" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34503" href="../Denotational/#plfa_plfa-part3-Denotational-34503" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34505" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34506" href="../Denotational/#plfa_plfa-part3-Denotational-34506" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34511" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34513" href="../Denotational/#plfa_plfa-part3-Denotational-34513" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34515" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34517" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34519" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34520" href="../Denotational/#plfa_plfa-part3-Denotational-33778" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-34526" href="../Denotational/#plfa_plfa-part3-Denotational-34503" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34528" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34529" href="../Denotational/#plfa_plfa-part3-Denotational-34506" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34534" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34536" href="../Denotational/#plfa_plfa-part3-Denotational-34513" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34538" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34541" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34543" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34544" href="../Denotational/#plfa_plfa-part3-Denotational-34194" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34553" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34554" href="../Denotational/#plfa_plfa-part3-Denotational-34506" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34559" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34561" href="../Denotational/#plfa_plfa-part3-Denotational-34513" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34563" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34566" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34568" href="../Denotational/#plfa_plfa-part3-Denotational-34506" class="Bound">a[n]</a>
</pre><ul><li><p><code>0</code> 的丘奇数忽略其第一个参数并返回第二个参数，因此对于只由 <code>a[0]</code> 构成的单例路径，其指称为</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li></ul><ul><li><p><code>suc n</code> 的丘奇数接受两个参数：一个后继函数，其指称由 <code>D^suc</code> 给定， 以及一个路径的起点（向量的最后一个元素）。它返回路径中的第 <code>n + 1</code> 个节点。</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>此练习证明了对于任意路径 <code>ls</code>，邱奇数 <code>n</code> 的含义是 <code>Dᶜ n ls</code>。</p><p>为了便于讨论任意丘奇数，以下 <code>church</code> 函数通过辅助函数 <code>apply-n</code> 来构建第 <code>n</code> 个丘奇数的项：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-35627" href="../Denotational/#plfa_plfa-part3-Denotational-35627" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35635" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35637" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35638" href="../Denotational/#plfa_plfa-part3-Denotational-35638" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35640" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35642" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35643" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35645" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35647" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35649" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35651" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35653" href="../Untyped/#plfa_plfa-part2-Untyped-3868" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35655" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35657" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35659" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35661" href="../Denotational/#plfa_plfa-part3-Denotational-35627" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35669" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-35674" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35676" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35678" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-35680" href="../Denotational/#plfa_plfa-part3-Denotational-35627" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35688" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35689" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-35693" href="../Denotational/#plfa_plfa-part3-Denotational-35693" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-35694" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35696" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35698" href="../Untyped/#plfa_plfa-part2-Untyped-6472" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35700" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-35702" href="../Untyped/#plfa_plfa-part2-Untyped-5546" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-35704" href="../Denotational/#plfa_plfa-part3-Denotational-35627" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35712" href="../Denotational/#plfa_plfa-part3-Denotational-35693" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-35715" href="../Denotational/#plfa_plfa-part3-Denotational-35715" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35722" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35724" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35725" href="../Denotational/#plfa_plfa-part3-Denotational-35725" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35727" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35729" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35730" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35732" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35734" href="../Untyped/#plfa_plfa-part2-Untyped-3852" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35736" href="../Untyped/#plfa_plfa-part2-Untyped-5398" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35738" href="../Untyped/#plfa_plfa-part2-Untyped-3438" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35740" href="../Denotational/#plfa_plfa-part3-Denotational-35715" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35747" href="../Denotational/#plfa_plfa-part3-Denotational-35747" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35749" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35751" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35753" href="../Untyped/#plfa_plfa-part2-Untyped-5486" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35755" href="../Denotational/#plfa_plfa-part3-Denotational-35627" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35763" href="../Denotational/#plfa_plfa-part3-Denotational-35747" class="Bound">n</a>
</pre><p>证明以下定理：</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-35912" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="函数小于关系的反演">函数小于关系的反演</h2><p>已知函数 <code>v ↦ w</code> 小于某个值 <code>u</code>，我们可以推断出什么？关于 <code>u</code> 我们可以推断出什么？问题的答案被称为「函数小于」的<strong>反演性（Inversion）</strong>。 这个问题并不容易回答，因为 <code>⊑-dist</code> 规则将左侧的函数与右侧的一对函数联系了起来。 因此，<code>u</code> 可能包含多个与 <code>v ↦ w</code> 相关的一组函数。此外，由于规则 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code>，<code>u</code> 中可能还有别的值（如 <code>⊥</code>）与 <code>v ↦ w</code> 无关。但总的来说， 我们可以推断出 <code>u</code> 包含了一组函数，其中它们的定义域的连接小于 <code>v</code>，而它们的陪域的连接大于 <code>w</code>。</p><p>为了精确陈述并证明这种反演性，我们需要定义「一个值<strong>包含</strong>一组值的含义。 我们还需要定义如何计算它们的定义域和陪域的连接。</p><h3 id="值的成员关系与包含关系">值的成员关系与包含关系</h3><p>前面我们将值视作一个集合，它由条目以及类似并集的连接运算符 <code>v ⊔ w</code> 组成。 函数值 <code>v ↦ w</code> 和底值 <code>⊥</code> 构成了集合的两种元素（在其他语境下，人们可能将 <code>⊥</code> 视作空集，但在这里我们必须将它视为一个元素）。我们用 <code>u ∈ v</code>表示 <code>u</code> 是 <code>v</code> 的一个元素，定义如下：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-37964" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-37970" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-37972" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-37977" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-37981" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37983" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37989" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37991" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37997" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37999" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38003" href="../Denotational/#plfa_plfa-part3-Denotational-38003" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38005" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38007" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-38009" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38011" href="../Denotational/#plfa_plfa-part3-Denotational-38003" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38013" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-38015" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-38017" href="../Denotational/#plfa_plfa-part3-Denotational-38017" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38019" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38021" href="../Denotational/#plfa_plfa-part3-Denotational-38021" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38023" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38025" href="../Denotational/#plfa_plfa-part3-Denotational-38025" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38027" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38029" href="../Denotational/#plfa_plfa-part3-Denotational-38017" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38031" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-38033" href="../Denotational/#plfa_plfa-part3-Denotational-38021" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38035" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38037" href="../Denotational/#plfa_plfa-part3-Denotational-38025" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-38039" href="../Denotational/#plfa_plfa-part3-Denotational-38039" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38041" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38043" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38044" href="../Denotational/#plfa_plfa-part3-Denotational-38044" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38046" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38048" href="../Denotational/#plfa_plfa-part3-Denotational-38048" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38049" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38051" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38053" href="../Denotational/#plfa_plfa-part3-Denotational-38039" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38055" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38057" href="../Denotational/#plfa_plfa-part3-Denotational-38044" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38059" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-38061" href="../Denotational/#plfa_plfa-part3-Denotational-38039" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38063" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38065" href="../Denotational/#plfa_plfa-part3-Denotational-38048" class="Bound">w</a>
</pre><p>于是我们可以简单地将一组值表示为一个值。我们用 <code>v ⊆ w</code> 表示 <code>v</code> 的所有元素也都属于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-38278" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-38284" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-38286" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-38291" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-38295" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38297" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38303" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38305" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38311" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38313" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38317" href="../Denotational/#plfa_plfa-part3-Denotational-38317" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38319" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38321" href="../Denotational/#plfa_plfa-part3-Denotational-38321" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38323" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38325" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38327" href="../Denotational/#plfa_plfa-part3-Denotational-38327" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38328" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38330" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38332" href="../Denotational/#plfa_plfa-part3-Denotational-38327" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38334" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38336" href="../Denotational/#plfa_plfa-part3-Denotational-38317" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38338" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38340" href="../Denotational/#plfa_plfa-part3-Denotational-38327" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38342" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38344" href="../Denotational/#plfa_plfa-part3-Denotational-38321" class="Bound">w</a>
</pre><p>值的成员与包含关系的概念和小于关系密切相关， 它们是蕴含了小于关系的更狭义的关系，反之则不然。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-38616" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38622" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38624" href="../Denotational/#plfa_plfa-part3-Denotational-38624" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38626" href="../Denotational/#plfa_plfa-part3-Denotational-38626" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38628" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38630" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38635" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38641" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38643" href="../Denotational/#plfa_plfa-part3-Denotational-38624" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38645" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38647" href="../Denotational/#plfa_plfa-part3-Denotational-38626" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38655" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38665" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38667" href="../Denotational/#plfa_plfa-part3-Denotational-38624" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38669" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38671" href="../Denotational/#plfa_plfa-part3-Denotational-38626" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38673" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38677" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38678" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-38679" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38680" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38682" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38683" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38684" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38686" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38691" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38693" href="../Denotational/#plfa_plfa-part3-Denotational-5459" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38699" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38703" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38704" href="../Denotational/#plfa_plfa-part3-Denotational-38704" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38706" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38708" href="../Denotational/#plfa_plfa-part3-Denotational-38708" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38709" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38711" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38712" href="../Denotational/#plfa_plfa-part3-Denotational-38704" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38714" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38716" href="../Denotational/#plfa_plfa-part3-Denotational-38708" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38717" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38719" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38724" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38726" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-38733" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38737" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38738" href="../Denotational/#plfa_plfa-part3-Denotational-38738" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38739" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38741" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38742" href="../Denotational/#plfa_plfa-part3-Denotational-38742" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38744" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38746" href="../Denotational/#plfa_plfa-part3-Denotational-38746" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38747" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38749" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38750" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38755" href="../Denotational/#plfa_plfa-part3-Denotational-38755" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38756" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38758" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38760" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-38770" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38771" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38775" href="../Denotational/#plfa_plfa-part3-Denotational-38755" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38776" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-38778" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38782" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38783" href="../Denotational/#plfa_plfa-part3-Denotational-38783" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38784" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38786" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38787" href="../Denotational/#plfa_plfa-part3-Denotational-38787" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38789" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38791" href="../Denotational/#plfa_plfa-part3-Denotational-38791" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38792" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38794" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38795" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38800" href="../Denotational/#plfa_plfa-part3-Denotational-38800" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38801" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38803" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38805" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-38815" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38816" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38820" href="../Denotational/#plfa_plfa-part3-Denotational-38800" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38821" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-38824" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38828" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38830" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38832" href="../Denotational/#plfa_plfa-part3-Denotational-38832" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38834" href="../Denotational/#plfa_plfa-part3-Denotational-38834" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38836" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38838" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38843" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38849" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38851" href="../Denotational/#plfa_plfa-part3-Denotational-38832" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38853" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38855" href="../Denotational/#plfa_plfa-part3-Denotational-38834" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38863" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38873" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38875" href="../Denotational/#plfa_plfa-part3-Denotational-38832" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38877" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38879" href="../Denotational/#plfa_plfa-part3-Denotational-38834" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38881" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38885" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38886" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38887" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38889" href="../Denotational/#plfa_plfa-part3-Denotational-38889" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38891" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38896" href="../Denotational/#plfa_plfa-part3-Denotational-38889" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38898" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38899" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38900" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38902" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38907" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38911" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38913" href="../Denotational/#plfa_plfa-part3-Denotational-38913" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38915" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38917" href="../Denotational/#plfa_plfa-part3-Denotational-5459" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38923" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38927" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38928" href="../Denotational/#plfa_plfa-part3-Denotational-38928" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38930" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38932" href="../Denotational/#plfa_plfa-part3-Denotational-38932" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38934" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38936" href="../Denotational/#plfa_plfa-part3-Denotational-38936" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38938" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38943" href="../Denotational/#plfa_plfa-part3-Denotational-38936" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38945" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38946" href="../Denotational/#plfa_plfa-part3-Denotational-38928" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38948" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38950" href="../Denotational/#plfa_plfa-part3-Denotational-38932" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38952" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38954" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38959" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38963" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38965" href="../Denotational/#plfa_plfa-part3-Denotational-38965" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38967" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38969" href="../Denotational/#plfa_plfa-part3-Denotational-38616" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38973" href="../Denotational/#plfa_plfa-part3-Denotational-38965" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38975" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38979" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38980" href="../Denotational/#plfa_plfa-part3-Denotational-38980" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38982" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38984" href="../Denotational/#plfa_plfa-part3-Denotational-38984" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38986" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38988" href="../Denotational/#plfa_plfa-part3-Denotational-38988" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38990" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38992" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-39001" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39002" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-39006" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39009" href="../Denotational/#plfa_plfa-part3-Denotational-39009" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39011" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39013" href="../Denotational/#plfa_plfa-part3-Denotational-38988" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39015" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39016" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39021" href="../Denotational/#plfa_plfa-part3-Denotational-39009" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39022" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-39026" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39027" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-39031" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39034" href="../Denotational/#plfa_plfa-part3-Denotational-39034" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39036" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39038" href="../Denotational/#plfa_plfa-part3-Denotational-38988" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39040" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39041" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39046" href="../Denotational/#plfa_plfa-part3-Denotational-39034" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39047" class="Symbol">)))</a>
</pre><p>我们还需要一些值的包含关系的反演法则。如果 <code>u</code> 和 <code>v</code> 的并含于 <code>w</code>， 那么 <code>u</code> 和 <code>v</code> 自然都含于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-39314" href="../Denotational/#plfa_plfa-part3-Denotational-39314" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39321" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39323" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39325" href="../Denotational/#plfa_plfa-part3-Denotational-39325" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39327" href="../Denotational/#plfa_plfa-part3-Denotational-39327" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39329" href="../Denotational/#plfa_plfa-part3-Denotational-39329" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39331" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39333" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39338" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-39347" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39349" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39350" href="../Denotational/#plfa_plfa-part3-Denotational-39325" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39352" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39354" href="../Denotational/#plfa_plfa-part3-Denotational-39327" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-39355" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39357" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39359" href="../Denotational/#plfa_plfa-part3-Denotational-39329" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-39370" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-39393" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39395" href="../Denotational/#plfa_plfa-part3-Denotational-39325" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39397" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39399" href="../Denotational/#plfa_plfa-part3-Denotational-39329" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-39402" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-39405" href="../Denotational/#plfa_plfa-part3-Denotational-39327" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39407" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39409" href="../Denotational/#plfa_plfa-part3-Denotational-39329" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-39411" href="../Denotational/#plfa_plfa-part3-Denotational-39314" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39418" href="../Denotational/#plfa_plfa-part3-Denotational-39418" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39422" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39424" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39426" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39429" href="../Denotational/#plfa_plfa-part3-Denotational-39429" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39431" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39433" href="../Denotational/#plfa_plfa-part3-Denotational-39418" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39437" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39438" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39443" href="../Denotational/#plfa_plfa-part3-Denotational-39429" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39444" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39447" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39449" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39452" href="../Denotational/#plfa_plfa-part3-Denotational-39452" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39454" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39456" href="../Denotational/#plfa_plfa-part3-Denotational-39418" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39460" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39461" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39466" href="../Denotational/#plfa_plfa-part3-Denotational-39452" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39467" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39470" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
</pre><p>在我们的值的表示中，<code>v ↦ w</code> 既是一个元素，又是一个单例集。因此如果 <code>v ↦ w</code> 是 <code>u</code> 的一个子集，那么 <code>v ↦ w</code> 必定是 <code>u</code> 的一个成员。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-39753" href="../Denotational/#plfa_plfa-part3-Denotational-39753" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39758" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39760" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39762" href="../Denotational/#plfa_plfa-part3-Denotational-39762" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39764" href="../Denotational/#plfa_plfa-part3-Denotational-39764" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39766" href="../Denotational/#plfa_plfa-part3-Denotational-39766" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39768" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39770" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39775" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-39782" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39784" href="../Denotational/#plfa_plfa-part3-Denotational-39762" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39786" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39788" href="../Denotational/#plfa_plfa-part3-Denotational-39764" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39790" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39792" href="../Denotational/#plfa_plfa-part3-Denotational-39766" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-39801" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-39816" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39818" href="../Denotational/#plfa_plfa-part3-Denotational-39762" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39820" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39822" href="../Denotational/#plfa_plfa-part3-Denotational-39764" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39824" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-39826" href="../Denotational/#plfa_plfa-part3-Denotational-39766" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-39828" href="../Denotational/#plfa_plfa-part3-Denotational-39753" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39833" href="../Denotational/#plfa_plfa-part3-Denotational-39833" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39838" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39840" href="../Denotational/#plfa_plfa-part3-Denotational-39833" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39845" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h3 id="函数值">函数值</h3><p>为了识别函数的集合，我们定义了以下两个谓词。如果 <code>u</code> 是一个函数值， 即对于某些值 <code>v</code> 和 <code>w</code>，有 <code>u ≡ v ↦ w</code>，我们就记作 <code>Fun u</code>。 如果 <code>v</code> 中的所有元素都是函数，我们就记作 <code>all-funs v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-40275" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-40280" href="../Denotational/#plfa_plfa-part3-Denotational-40280" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40284" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40286" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40292" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40294" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-40298" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-40306" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40310" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40312" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40314" href="../Denotational/#plfa_plfa-part3-Denotational-40314" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40316" href="../Denotational/#plfa_plfa-part3-Denotational-40316" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40318" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40319" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40321" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40323" href="../Denotational/#plfa_plfa-part3-Denotational-40314" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40325" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-40327" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40328" href="../Denotational/#plfa_plfa-part3-Denotational-40316" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40330" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40332" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40333" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40335" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40337" href="../Denotational/#plfa_plfa-part3-Denotational-40280" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40341" href="../Denotational/#plfa_plfa-part3-Denotational-40314" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-40344" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40353" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40355" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40361" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40363" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-40367" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40376" href="../Denotational/#plfa_plfa-part3-Denotational-40376" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40378" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40380" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40382" href="../Denotational/#plfa_plfa-part3-Denotational-40382" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40383" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40385" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40387" href="../Denotational/#plfa_plfa-part3-Denotational-40382" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40389" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40391" href="../Denotational/#plfa_plfa-part3-Denotational-40376" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40393" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40395" href="../Denotational/#plfa_plfa-part3-Denotational-40280" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40399" href="../Denotational/#plfa_plfa-part3-Denotational-40382" class="Bound">u</a>
</pre><p>值 <code>⊥</code> 不是函数：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-40470" href="../Denotational/#plfa_plfa-part3-Denotational-40470" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40476" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40478" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-40480" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40481" href="../Denotational/#plfa_plfa-part3-Denotational-40280" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40485" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40486" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-40488" href="../Denotational/#plfa_plfa-part3-Denotational-40470" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40494" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40495" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40499" class="Symbol">())</a>
</pre><p>在「值作为集合」的表示中，集合总是包含至少一个元素。即，如果所有的元素都是函数， 那么至少存在一个函数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-40747" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40757" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40759" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40761" href="../Denotational/#plfa_plfa-part3-Denotational-40761" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40762" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-40770" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40772" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40781" href="../Denotational/#plfa_plfa-part3-Denotational-40761" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-40789" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40791" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40794" href="../Denotational/#plfa_plfa-part3-Denotational-40794" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40796" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40798" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40804" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40806" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40809" href="../Denotational/#plfa_plfa-part3-Denotational-40809" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40811" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40813" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40819" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40821" href="../Denotational/#plfa_plfa-part3-Denotational-40794" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40823" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40825" href="../Denotational/#plfa_plfa-part3-Denotational-40809" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40827" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40829" href="../Denotational/#plfa_plfa-part3-Denotational-40761" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-40831" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40841" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40842" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40843" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40845" href="../Denotational/#plfa_plfa-part3-Denotational-40845" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40847" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40852" href="../Denotational/#plfa_plfa-part3-Denotational-40845" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40854" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40855" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40856" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40858" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-40863" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40867" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40869" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40873" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-40876" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40886" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40887" href="../Denotational/#plfa_plfa-part3-Denotational-40887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40889" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40891" href="../Denotational/#plfa_plfa-part3-Denotational-40891" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40892" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40894" href="../Denotational/#plfa_plfa-part3-Denotational-40894" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40896" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40898" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40900" href="../Denotational/#plfa_plfa-part3-Denotational-40887" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40902" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40904" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40906" href="../Denotational/#plfa_plfa-part3-Denotational-40891" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40908" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40910" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40915" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40917" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40919" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40929" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40930" href="../Denotational/#plfa_plfa-part3-Denotational-40930" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40932" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40934" href="../Denotational/#plfa_plfa-part3-Denotational-40934" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-40936" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40938" href="../Denotational/#plfa_plfa-part3-Denotational-40938" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-40944" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40949" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40959" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40962" href="../Denotational/#plfa_plfa-part3-Denotational-40962" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40966" href="../Denotational/#plfa_plfa-part3-Denotational-40938" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40968" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40969" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40974" href="../Denotational/#plfa_plfa-part3-Denotational-40962" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40975" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-40978" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40982" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40984" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40986" href="../Denotational/#plfa_plfa-part3-Denotational-40986" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40988" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40990" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40992" href="../Denotational/#plfa_plfa-part3-Denotational-40992" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40994" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40996" href="../Denotational/#plfa_plfa-part3-Denotational-40996" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-40998" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41000" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41002" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41004" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-41006" href="../Denotational/#plfa_plfa-part3-Denotational-40986" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41008" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41010" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-41012" href="../Denotational/#plfa_plfa-part3-Denotational-40992" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-41014" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41016" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41017" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-41022" href="../Denotational/#plfa_plfa-part3-Denotational-40996" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-41023" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41025" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41027" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="定义域与陪域">定义域与陪域</h3><p>回到我们一开始的目标上来，即「小于一个函数」的反演法则。我们想要证明 <code>v ↦ w ⊑ u</code> 蕴含「<code>u</code> 包含一个函数值的集合，它们定义域的连接小于 <code>v</code>，陪域的连接大于 <code>w</code>」。</p><p>为此，我们定义了以下 <code>⨆dom</code> 和 <code>⨆cod</code> 函数。给定某个值 <code>u</code>（表示一个条目的集合）， <code>⨆dom u</code> 返回其定义域的连接，<code>⨆cod u</code> 返回其陪域的连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-41776" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41781" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41783" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41784" href="../Denotational/#plfa_plfa-part3-Denotational-41784" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41786" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41788" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41793" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41795" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41797" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41803" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41808" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41811" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41813" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41815" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41820" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41821" href="../Denotational/#plfa_plfa-part3-Denotational-41821" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41823" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41825" href="../Denotational/#plfa_plfa-part3-Denotational-41825" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41826" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41828" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41830" href="../Denotational/#plfa_plfa-part3-Denotational-41821" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-41832" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41837" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41838" href="../Denotational/#plfa_plfa-part3-Denotational-41838" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41840" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41842" href="../Denotational/#plfa_plfa-part3-Denotational-41842" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41844" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41846" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41848" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41853" href="../Denotational/#plfa_plfa-part3-Denotational-41838" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41855" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41857" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41862" href="../Denotational/#plfa_plfa-part3-Denotational-41842" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-41866" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41871" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41873" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41874" href="../Denotational/#plfa_plfa-part3-Denotational-41874" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41876" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41878" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41883" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41885" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41887" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41893" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41898" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41901" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41903" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41905" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41910" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41911" href="../Denotational/#plfa_plfa-part3-Denotational-41911" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41913" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41915" href="../Denotational/#plfa_plfa-part3-Denotational-41915" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41916" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41918" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41920" href="../Denotational/#plfa_plfa-part3-Denotational-41915" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-41922" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41927" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41928" href="../Denotational/#plfa_plfa-part3-Denotational-41928" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41930" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41932" href="../Denotational/#plfa_plfa-part3-Denotational-41932" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41934" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41936" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41938" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41943" href="../Denotational/#plfa_plfa-part3-Denotational-41928" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41945" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41947" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41952" href="../Denotational/#plfa_plfa-part3-Denotational-41932" class="Bound">u′</a>
</pre><p>对于 <code>⨆dom</code> 和 <code>⨆cod</code> 我们只需要一个性质。给定一个函数的的集合，表示为值 <code>u</code>，和一个条目 <code>v ↦ w ∈ u</code>，我们能够证明 <code>v</code> 包含在 <code>u</code> 的定义域中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-42262" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42271" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42273" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42275" href="../Denotational/#plfa_plfa-part3-Denotational-42275" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42277" href="../Denotational/#plfa_plfa-part3-Denotational-42277" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42279" href="../Denotational/#plfa_plfa-part3-Denotational-42279" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42281" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42283" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42288" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-42300" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42302" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42311" href="../Denotational/#plfa_plfa-part3-Denotational-42275" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-42314" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-42317" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42318" href="../Denotational/#plfa_plfa-part3-Denotational-42277" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42320" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42322" href="../Denotational/#plfa_plfa-part3-Denotational-42279" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42323" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42325" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42327" href="../Denotational/#plfa_plfa-part3-Denotational-42275" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-42341" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-42374" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42376" href="../Denotational/#plfa_plfa-part3-Denotational-42277" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42378" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42380" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-42385" href="../Denotational/#plfa_plfa-part3-Denotational-42275" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-42387" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42396" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42397" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42398" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42400" href="../Denotational/#plfa_plfa-part3-Denotational-42400" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42403" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-42406" href="../Denotational/#plfa_plfa-part3-Denotational-42406" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42410" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42419" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42420" href="../Denotational/#plfa_plfa-part3-Denotational-42420" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42422" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42424" href="../Denotational/#plfa_plfa-part3-Denotational-42424" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42425" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42427" href="../Denotational/#plfa_plfa-part3-Denotational-42427" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42430" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42435" href="../Denotational/#plfa_plfa-part3-Denotational-42435" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42439" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42441" href="../Denotational/#plfa_plfa-part3-Denotational-42435" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42445" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42454" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42455" href="../Denotational/#plfa_plfa-part3-Denotational-42455" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42457" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42459" href="../Denotational/#plfa_plfa-part3-Denotational-42459" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42461" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42463" href="../Denotational/#plfa_plfa-part3-Denotational-42463" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42466" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42467" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42472" href="../Denotational/#plfa_plfa-part3-Denotational-42472" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-42477" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42479" href="../Denotational/#plfa_plfa-part3-Denotational-42479" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42483" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42488" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42492" href="../Denotational/#plfa_plfa-part3-Denotational-42492" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42495" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42497" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42506" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42509" href="../Denotational/#plfa_plfa-part3-Denotational-42509" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42511" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42513" href="../Denotational/#plfa_plfa-part3-Denotational-42463" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42516" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42517" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42522" href="../Denotational/#plfa_plfa-part3-Denotational-42509" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42523" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42526" href="../Denotational/#plfa_plfa-part3-Denotational-42472" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-42532" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42538" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42543" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42544" href="../Denotational/#plfa_plfa-part3-Denotational-42492" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42547" href="../Denotational/#plfa_plfa-part3-Denotational-42479" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42550" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-42552" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42561" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42562" href="../Denotational/#plfa_plfa-part3-Denotational-42562" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42564" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42566" href="../Denotational/#plfa_plfa-part3-Denotational-42566" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42568" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42570" href="../Denotational/#plfa_plfa-part3-Denotational-42570" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42573" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42574" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42579" href="../Denotational/#plfa_plfa-part3-Denotational-42579" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-42585" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42587" href="../Denotational/#plfa_plfa-part3-Denotational-42587" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42591" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42596" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42600" href="../Denotational/#plfa_plfa-part3-Denotational-42600" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42603" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42605" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42614" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42617" href="../Denotational/#plfa_plfa-part3-Denotational-42617" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42619" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42621" href="../Denotational/#plfa_plfa-part3-Denotational-42570" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42624" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42625" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42630" href="../Denotational/#plfa_plfa-part3-Denotational-42617" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42631" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42634" href="../Denotational/#plfa_plfa-part3-Denotational-42579" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-42641" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42647" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42652" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42653" href="../Denotational/#plfa_plfa-part3-Denotational-42600" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42656" href="../Denotational/#plfa_plfa-part3-Denotational-42587" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42659" class="Symbol">)</a>
</pre><p>对于 <code>⨆cod</code>，假设我们有一个函数集合 <code>u</code>，但它们都只是 <code>v ↦ w</code> 的副本。 那么 <code>⨆cod u</code> 包含在 <code>w</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-42917" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42926" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42928" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42930" href="../Denotational/#plfa_plfa-part3-Denotational-42930" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42932" href="../Denotational/#plfa_plfa-part3-Denotational-42932" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42934" href="../Denotational/#plfa_plfa-part3-Denotational-42934" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42936" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42938" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42943" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-42953" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42955" href="../Denotational/#plfa_plfa-part3-Denotational-42930" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42957" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42959" href="../Denotational/#plfa_plfa-part3-Denotational-42932" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42961" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42963" href="../Denotational/#plfa_plfa-part3-Denotational-42934" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-42975" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-42993" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42995" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43000" href="../Denotational/#plfa_plfa-part3-Denotational-42930" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43002" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43004" href="../Denotational/#plfa_plfa-part3-Denotational-42934" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-43006" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43015" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43016" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-43017" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43019" href="../Denotational/#plfa_plfa-part3-Denotational-43019" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43021" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43026" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43031" href="../Denotational/#plfa_plfa-part3-Denotational-43019" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43033" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43034" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-43035" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43037" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43042" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43046" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43048" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-43051" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43060" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43061" href="../Denotational/#plfa_plfa-part3-Denotational-43061" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43063" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43065" href="../Denotational/#plfa_plfa-part3-Denotational-43065" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43067" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43069" href="../Denotational/#plfa_plfa-part3-Denotational-43069" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43071" href="../Denotational/#plfa_plfa-part3-Denotational-43071" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43073" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43078" href="../Denotational/#plfa_plfa-part3-Denotational-43069" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43080" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43081" href="../Denotational/#plfa_plfa-part3-Denotational-43061" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43083" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43085" href="../Denotational/#plfa_plfa-part3-Denotational-43065" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43087" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43089" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43094" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43098" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43100" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43105" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43107" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-43109" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43118" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43119" href="../Denotational/#plfa_plfa-part3-Denotational-43119" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43121" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43123" href="../Denotational/#plfa_plfa-part3-Denotational-43123" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43125" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43127" href="../Denotational/#plfa_plfa-part3-Denotational-43127" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43129" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43130" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43135" href="../Denotational/#plfa_plfa-part3-Denotational-43135" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-43136" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43138" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43140" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43149" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43152" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43153" href="../Denotational/#plfa_plfa-part3-Denotational-43153" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43154" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43156" href="../Denotational/#plfa_plfa-part3-Denotational-43156" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43158" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43160" href="../Denotational/#plfa_plfa-part3-Denotational-43127" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43162" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43163" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43168" href="../Denotational/#plfa_plfa-part3-Denotational-43156" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43169" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43172" href="../Denotational/#plfa_plfa-part3-Denotational-43135" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-43174" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43183" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43184" href="../Denotational/#plfa_plfa-part3-Denotational-43184" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43186" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43188" href="../Denotational/#plfa_plfa-part3-Denotational-43188" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43190" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43192" href="../Denotational/#plfa_plfa-part3-Denotational-43192" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43194" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43195" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43200" href="../Denotational/#plfa_plfa-part3-Denotational-43200" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-43201" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43203" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43205" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43214" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43217" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43218" href="../Denotational/#plfa_plfa-part3-Denotational-43218" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43219" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43221" href="../Denotational/#plfa_plfa-part3-Denotational-43221" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43223" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43225" href="../Denotational/#plfa_plfa-part3-Denotational-43192" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43227" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43228" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43233" href="../Denotational/#plfa_plfa-part3-Denotational-43221" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43234" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43237" href="../Denotational/#plfa_plfa-part3-Denotational-43200" class="Bound">y</a>
</pre><p>有了 <code>⨆dom</code> 和 <code>⨆cod</code> 函数，我们就可以精确地得出函数的反演法则， 并将其封装到下面的谓词 <code>factor</code> 中。 如果 <code>u′</code> 包含在 <code>u</code> 中， 我们就说 <code>v ↦ w</code> 将 <code>u</code> <strong>分解（factor）</strong>为 <code>u′</code>，如果 <code>u′</code> 中只包含函数，那么其定义域小于 <code>v</code>，其陪域大于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-43783" href="../Denotational/#plfa_plfa-part3-Denotational-43783" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43790" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43792" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43793" href="../Denotational/#plfa_plfa-part3-Denotational-43793" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43795" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43797" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43802" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43804" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43807" href="../Denotational/#plfa_plfa-part3-Denotational-43807" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43810" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43812" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43817" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43819" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43821" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43822" href="../Denotational/#plfa_plfa-part3-Denotational-43822" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43824" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43826" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43831" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43833" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43835" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43836" href="../Denotational/#plfa_plfa-part3-Denotational-43836" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43838" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43840" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43845" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43847" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43849" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-43853" href="../Denotational/#plfa_plfa-part3-Denotational-43783" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43860" href="../Denotational/#plfa_plfa-part3-Denotational-43860" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43862" href="../Denotational/#plfa_plfa-part3-Denotational-43862" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43865" href="../Denotational/#plfa_plfa-part3-Denotational-43865" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43867" href="../Denotational/#plfa_plfa-part3-Denotational-43867" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43869" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43871" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43880" href="../Denotational/#plfa_plfa-part3-Denotational-43862" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-43884" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43887" href="../Denotational/#plfa_plfa-part3-Denotational-43862" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43890" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43892" href="../Denotational/#plfa_plfa-part3-Denotational-43860" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-43895" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43898" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-43903" href="../Denotational/#plfa_plfa-part3-Denotational-43862" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43906" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43908" href="../Denotational/#plfa_plfa-part3-Denotational-43865" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-43911" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43914" href="../Denotational/#plfa_plfa-part3-Denotational-43867" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43916" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43918" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43923" href="../Denotational/#plfa_plfa-part3-Denotational-43862" class="Bound">u′</a>
</pre><p>因此函数的反演法则可被陈述为：</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>我们通过在小于关系的推导上归纳证明了函数的反演法则。为了让归纳假设更强， 我们将前提 <code>v ↦ w ⊑ u</code> 推广为 <code>u₁ ⊑ u₂</code> 并加强了结论，即对于<strong>每一个</strong>函数值 <code>v ↦ w ∈ u₁</code>，我们都有 <code>v ↦ w</code> 将 <code>u₂</code> 分解为某个值 <code>u₃</code>。</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="函数小于的反演-trans-的情况">函数小于的反演，<code>⊑-trans</code> 的情况</h3><p>证明的重点在 <code>⊑-trans</code> 的情况：</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们证明了对某个值 <code>u′</code>，有 <code>v ↦ w factors u into u′</code>， 因此我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。 根据归纳假设 <code>u ⊑ u₂</code>，我们证明了对于任意 <code>v′ ↦ w′ ∈ u</code>， <code>v′ ↦ w′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 有了这些事实，我们就能对 <code>u′</code> 进行归纳，证明 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。接下来我们讨论证明的每种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-45635" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45649" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45651" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-45653" href="../Denotational/#plfa_plfa-part3-Denotational-45653" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45656" href="../Denotational/#plfa_plfa-part3-Denotational-45656" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45659" href="../Denotational/#plfa_plfa-part3-Denotational-45659" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45661" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45663" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-45668" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-45674" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45676" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-45685" href="../Denotational/#plfa_plfa-part3-Denotational-45653" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-45689" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-45692" href="../Denotational/#plfa_plfa-part3-Denotational-45653" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45695" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-45697" href="../Denotational/#plfa_plfa-part3-Denotational-45659" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-45703" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45705" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-45708" href="../Denotational/#plfa_plfa-part3-Denotational-45708" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45711" href="../Denotational/#plfa_plfa-part3-Denotational-45711" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45713" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45715" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45717" href="../Denotational/#plfa_plfa-part3-Denotational-45708" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45720" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45722" href="../Denotational/#plfa_plfa-part3-Denotational-45711" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-45725" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-45727" href="../Denotational/#plfa_plfa-part3-Denotational-45659" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45729" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45731" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45734" href="../Denotational/#plfa_plfa-part3-Denotational-45734" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45737" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45739" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45745" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45747" href="../Denotational/#plfa_plfa-part3-Denotational-43783" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45754" href="../Denotational/#plfa_plfa-part3-Denotational-45656" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45757" href="../Denotational/#plfa_plfa-part3-Denotational-45734" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45760" href="../Denotational/#plfa_plfa-part3-Denotational-45708" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45763" href="../Denotational/#plfa_plfa-part3-Denotational-45711" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45765" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-45773" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-45841" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45843" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45846" href="../Denotational/#plfa_plfa-part3-Denotational-45846" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45849" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45851" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45857" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45859" href="../Denotational/#plfa_plfa-part3-Denotational-43783" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45866" href="../Denotational/#plfa_plfa-part3-Denotational-45656" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45869" href="../Denotational/#plfa_plfa-part3-Denotational-45846" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45872" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45873" href="../Denotational/#plfa_plfa-part3-Denotational-41776" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-45878" href="../Denotational/#plfa_plfa-part3-Denotational-45653" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45880" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45882" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45883" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-45888" href="../Denotational/#plfa_plfa-part3-Denotational-45653" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45890" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45892" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45906" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45907" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-45908" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45910" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45911" href="../Denotational/#plfa_plfa-part3-Denotational-45911" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45913" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45915" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45916" href="../Denotational/#plfa_plfa-part3-Denotational-45916" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45917" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45919" href="../Denotational/#plfa_plfa-part3-Denotational-45919" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45923" href="../Denotational/#plfa_plfa-part3-Denotational-45923" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45928" href="../Denotational/#plfa_plfa-part3-Denotational-45928" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45931" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-45937" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-45951" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45952" href="../Denotational/#plfa_plfa-part3-Denotational-45919" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45956" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-45960" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45962" href="../Denotational/#plfa_plfa-part3-Denotational-40470" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-45968" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45982" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45983" href="../Denotational/#plfa_plfa-part3-Denotational-45983" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45987" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45989" href="../Denotational/#plfa_plfa-part3-Denotational-45989" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-45992" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45994" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45995" href="../Denotational/#plfa_plfa-part3-Denotational-45995" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45997" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45999" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46000" href="../Denotational/#plfa_plfa-part3-Denotational-46000" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46001" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46003" href="../Denotational/#plfa_plfa-part3-Denotational-46003" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46006" href="../Denotational/#plfa_plfa-part3-Denotational-46006" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46011" href="../Denotational/#plfa_plfa-part3-Denotational-46011" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-46014" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46016" href="../Denotational/#plfa_plfa-part3-Denotational-46011" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-46019" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46020" href="../Denotational/#plfa_plfa-part3-Denotational-39753" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-46025" href="../Denotational/#plfa_plfa-part3-Denotational-46006" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-46029" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-46031" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46045" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46046" href="../Denotational/#plfa_plfa-part3-Denotational-46046" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-46050" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46052" href="../Denotational/#plfa_plfa-part3-Denotational-46052" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46055" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46057" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46058" href="../Denotational/#plfa_plfa-part3-Denotational-46058" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46060" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46062" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46063" href="../Denotational/#plfa_plfa-part3-Denotational-46063" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46064" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46066" href="../Denotational/#plfa_plfa-part3-Denotational-46066" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46069" href="../Denotational/#plfa_plfa-part3-Denotational-46069" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46074" href="../Denotational/#plfa_plfa-part3-Denotational-46074" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-46081" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46086" href="../Denotational/#plfa_plfa-part3-Denotational-39314" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-46093" href="../Denotational/#plfa_plfa-part3-Denotational-46069" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-46098" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46102" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46104" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46106" href="../Denotational/#plfa_plfa-part3-Denotational-46106" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46112" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46114" href="../Denotational/#plfa_plfa-part3-Denotational-46114" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46120" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46126" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46131" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46145" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46146" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-46149" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46151" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46152" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46154" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46156" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46157" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46158" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46160" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46163" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46164" href="../Denotational/#plfa_plfa-part3-Denotational-46164" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46168" href="../Denotational/#plfa_plfa-part3-Denotational-46168" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46170" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46172" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46175" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46176" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46181" href="../Denotational/#plfa_plfa-part3-Denotational-46168" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46182" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46185" href="../Denotational/#plfa_plfa-part3-Denotational-46106" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46191" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-46201" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46203" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46217" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46218" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46221" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46223" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46224" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46226" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46228" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46229" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46230" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46232" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46235" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46236" href="../Denotational/#plfa_plfa-part3-Denotational-46236" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46238" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46240" href="../Denotational/#plfa_plfa-part3-Denotational-46240" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46242" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46244" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46247" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46248" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46253" href="../Denotational/#plfa_plfa-part3-Denotational-46240" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46254" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46257" href="../Denotational/#plfa_plfa-part3-Denotational-46114" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46263" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-46266" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46270" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46272" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46274" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46278" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46280" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46282" href="../Denotational/#plfa_plfa-part3-Denotational-46282" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46288" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46290" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46292" href="../Denotational/#plfa_plfa-part3-Denotational-46292" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46299" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46301" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46303" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46313" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46315" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46325" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46327" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46329" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46331" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46337" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46339" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46341" href="../Denotational/#plfa_plfa-part3-Denotational-46341" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46345" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46347" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46349" href="../Denotational/#plfa_plfa-part3-Denotational-46349" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46355" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46357" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46359" href="../Denotational/#plfa_plfa-part3-Denotational-46359" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46366" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46368" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46370" href="../Denotational/#plfa_plfa-part3-Denotational-46370" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46380" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46382" href="../Denotational/#plfa_plfa-part3-Denotational-46382" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46392" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46394" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46396" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46398" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46400" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-46408" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46410" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46411" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46415" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46417" href="../Denotational/#plfa_plfa-part3-Denotational-46341" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-46420" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46422" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46424" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46426" href="../Denotational/#plfa_plfa-part3-Denotational-46528" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46431" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46433" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46435" href="../Denotational/#plfa_plfa-part3-Denotational-46667" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46442" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-46450" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46452" href="../Denotational/#plfa_plfa-part3-Denotational-7143" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46456" href="../Denotational/#plfa_plfa-part3-Denotational-46303" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46466" href="../Denotational/#plfa_plfa-part3-Denotational-46370" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46476" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-46486" href="../Denotational/#plfa_plfa-part3-Denotational-7143" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46490" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46500" href="../Denotational/#plfa_plfa-part3-Denotational-46382" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46510" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46512" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46514" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46516" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46522" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-46528" href="../Denotational/#plfa_plfa-part3-Denotational-46528" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46533" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46535" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46536" href="../Denotational/#plfa_plfa-part3-Denotational-46536" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46539" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46541" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46546" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46548" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46550" href="../Denotational/#plfa_plfa-part3-Denotational-46536" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46553" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46555" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46559" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46561" href="../Denotational/#plfa_plfa-part3-Denotational-46536" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46564" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46566" href="../Denotational/#plfa_plfa-part3-Denotational-46341" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46570" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46572" href="../Denotational/#plfa_plfa-part3-Denotational-40280" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-46576" href="../Denotational/#plfa_plfa-part3-Denotational-46536" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-46589" href="../Denotational/#plfa_plfa-part3-Denotational-46528" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46594" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46595" href="../Denotational/#plfa_plfa-part3-Denotational-46595" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46597" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46599" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46600" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46605" href="../Denotational/#plfa_plfa-part3-Denotational-46605" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46606" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46608" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46610" href="../Denotational/#plfa_plfa-part3-Denotational-46282" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46616" href="../Denotational/#plfa_plfa-part3-Denotational-46605" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46628" href="../Denotational/#plfa_plfa-part3-Denotational-46528" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46633" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46634" href="../Denotational/#plfa_plfa-part3-Denotational-46634" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46636" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46638" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46639" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46644" href="../Denotational/#plfa_plfa-part3-Denotational-46644" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46645" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46647" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46649" href="../Denotational/#plfa_plfa-part3-Denotational-46349" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46655" href="../Denotational/#plfa_plfa-part3-Denotational-46644" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-46667" href="../Denotational/#plfa_plfa-part3-Denotational-46667" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46674" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46676" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46677" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46679" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46681" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46686" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46688" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46690" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46692" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46694" href="../Denotational/#plfa_plfa-part3-Denotational-46274" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46698" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46700" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46702" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46704" href="../Denotational/#plfa_plfa-part3-Denotational-46341" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46708" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46710" href="../Denotational/#plfa_plfa-part3-Denotational-46677" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46712" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46714" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-46727" href="../Denotational/#plfa_plfa-part3-Denotational-46667" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46734" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46735" href="../Denotational/#plfa_plfa-part3-Denotational-46735" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46736" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46738" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46739" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46744" href="../Denotational/#plfa_plfa-part3-Denotational-46744" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46745" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46747" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46749" href="../Denotational/#plfa_plfa-part3-Denotational-46292" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46756" href="../Denotational/#plfa_plfa-part3-Denotational-46744" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46768" href="../Denotational/#plfa_plfa-part3-Denotational-46667" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46775" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46776" href="../Denotational/#plfa_plfa-part3-Denotational-46776" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46777" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46779" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46780" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46785" href="../Denotational/#plfa_plfa-part3-Denotational-46785" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46786" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46788" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46790" href="../Denotational/#plfa_plfa-part3-Denotational-46359" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46797" href="../Denotational/#plfa_plfa-part3-Denotational-46785" class="Bound">y</a>
</pre><ul><li>假设 <code>u′ ≡ ⊥</code>，那么我们可导出矛盾，因为它不满足 <code>Fun ⊥</code> 的情况。</li></ul><ul><li>假设 <code>u′ ≡ u₁′ ↦ u₂′</code>，那么 <code>u₁′ ↦ u₂′ ∈ u</code>，且我们可以应用前提 （归纳假设 <code>u ⊑ u₂</code>）来得到 <code>u₁′ ↦ u₂′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 此情况是完整的，因为 <code>⨆dom u′ ≡ u₁′</code> 且 <code>⨆cod u′ ≡ u₂′</code>。</li></ul><ul><li><p>假设 <code>u′ ≡ u₁′ ⊔ u₂′</code>，那么 <code>u₁′ ⊆ u</code> 且 <code>u₂′ ⊆ u</code>。我们同样有 <code>all-funs u₁′</code> 且 <code>all-funs u₂′</code>，于是我们可以对 <code>u₁′</code> 和 <code>u₂′</code> 应用归纳假设。因此存在值 <code>u₃₁</code> 和 <code>u₃₂</code> 使得 <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> 将 <code>u</code> 分解为 <code>u₃₁</code>，以及 <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> 将 <code>u</code> 分解为 <code>u₃₂</code>。 我们要证明 <code>(⨆dom u) ↦ (⨆cod u)</code> 将 <code>u</code> 分解为 <code>u₃₁ ⊔ u₃₂</code>，因此我们需要证明</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre></li></ul><p>然而二者可直接根据 <code>⊔</code> 对于 <code>⊑</code> 的单调性，从 <code>u</code> 分解为 <code>u₃₁</code> 和 <code>u₃₂</code> 得到。</p><h3 id="函数小于的反演">函数小于的反演</h3><p>我们来证明有关函数小于的反演的主要引理。我们要证明若 <code>u₁ ⊑ u₂</code>， 则对于任何 <code>v ↦ w ∈ u₁</code>，都可以根据 <code>v ↦ w</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们对 <code>u₁ ⊑ u₂</code> 的推导进行归纳，并在 Agda 证明过程后面描述证明中的每一种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-48917" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-48925" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48927" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48929" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48932" href="../Denotational/#plfa_plfa-part3-Denotational-48932" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-48935" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48937" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-48942" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-48952" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48954" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48957" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-48959" href="../Denotational/#plfa_plfa-part3-Denotational-48932" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-48970" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48972" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48974" href="../Denotational/#plfa_plfa-part3-Denotational-48974" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48976" href="../Denotational/#plfa_plfa-part3-Denotational-48976" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-48977" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-48979" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48981" href="../Denotational/#plfa_plfa-part3-Denotational-48974" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48983" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-48985" href="../Denotational/#plfa_plfa-part3-Denotational-48976" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-48987" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-48989" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-49002" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-49048" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49050" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-49053" href="../Denotational/#plfa_plfa-part3-Denotational-49053" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49056" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-49058" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-49064" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-49066" href="../Denotational/#plfa_plfa-part3-Denotational-43783" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-49073" href="../Denotational/#plfa_plfa-part3-Denotational-48932" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-49076" href="../Denotational/#plfa_plfa-part3-Denotational-49053" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49079" href="../Denotational/#plfa_plfa-part3-Denotational-48974" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-49081" href="../Denotational/#plfa_plfa-part3-Denotational-48976" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-49083" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49091" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49092" href="../Denotational/#plfa_plfa-part3-Denotational-4977" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-49093" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49095" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49096" href="../Denotational/#plfa_plfa-part3-Denotational-49096" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49098" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49100" href="../Denotational/#plfa_plfa-part3-Denotational-5459" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-49106" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49107" href="../Denotational/#plfa_plfa-part3-Denotational-49107" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49108" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49110" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49111" href="../Denotational/#plfa_plfa-part3-Denotational-49111" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49112" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49114" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-49117" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49125" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49126" href="../Denotational/#plfa_plfa-part3-Denotational-49126" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49130" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49132" href="../Denotational/#plfa_plfa-part3-Denotational-49132" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49135" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49137" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49138" href="../Denotational/#plfa_plfa-part3-Denotational-49138" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49140" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49142" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49143" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49152" href="../Denotational/#plfa_plfa-part3-Denotational-49152" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49156" href="../Denotational/#plfa_plfa-part3-Denotational-49156" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49159" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49161" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49162" href="../Denotational/#plfa_plfa-part3-Denotational-49162" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49163" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49165" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49166" href="../Denotational/#plfa_plfa-part3-Denotational-49166" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49167" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49169" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49170" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49175" href="../Denotational/#plfa_plfa-part3-Denotational-49175" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-49176" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49178" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49180" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49188" href="../Denotational/#plfa_plfa-part3-Denotational-49152" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49192" href="../Denotational/#plfa_plfa-part3-Denotational-49175" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-49194" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49202" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49203" href="../Denotational/#plfa_plfa-part3-Denotational-49203" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49207" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49209" href="../Denotational/#plfa_plfa-part3-Denotational-49209" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49212" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49214" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49215" href="../Denotational/#plfa_plfa-part3-Denotational-49215" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49217" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49219" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49220" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49229" href="../Denotational/#plfa_plfa-part3-Denotational-49229" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49233" href="../Denotational/#plfa_plfa-part3-Denotational-49233" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49236" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49238" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49239" href="../Denotational/#plfa_plfa-part3-Denotational-49239" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49240" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49242" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49243" href="../Denotational/#plfa_plfa-part3-Denotational-49243" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49244" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49246" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49247" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49252" href="../Denotational/#plfa_plfa-part3-Denotational-49252" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-49253" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49255" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49257" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49265" href="../Denotational/#plfa_plfa-part3-Denotational-49233" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-49269" href="../Denotational/#plfa_plfa-part3-Denotational-49252" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-49271" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49278" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49279" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49280" href="../Denotational/#plfa_plfa-part3-Denotational-49280" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49282" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49283" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49284" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49285" href="../Denotational/#plfa_plfa-part3-Denotational-49285" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49288" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49289" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49290" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49291" href="../Denotational/#plfa_plfa-part3-Denotational-49291" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49294" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49295" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49296" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49297" href="../Denotational/#plfa_plfa-part3-Denotational-5568" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-49306" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49307" href="../Denotational/#plfa_plfa-part3-Denotational-49307" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49309" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49310" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49311" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49312" href="../Denotational/#plfa_plfa-part3-Denotational-49312" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49313" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49314" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49315" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49316" href="../Denotational/#plfa_plfa-part3-Denotational-49316" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49317" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49318" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49319" href="../Denotational/#plfa_plfa-part3-Denotational-49319" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49325" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49330" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49338" href="../Denotational/#plfa_plfa-part3-Denotational-49307" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49341" href="../Denotational/#plfa_plfa-part3-Denotational-49319" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49343" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49347" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49349" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49351" href="../Denotational/#plfa_plfa-part3-Denotational-49351" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49355" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49357" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49359" href="../Denotational/#plfa_plfa-part3-Denotational-49359" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49364" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49366" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49368" href="../Denotational/#plfa_plfa-part3-Denotational-49368" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49376" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49378" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49380" href="../Denotational/#plfa_plfa-part3-Denotational-49380" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49389" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49391" href="../Denotational/#plfa_plfa-part3-Denotational-49391" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49400" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49402" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49404" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49406" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49408" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49416" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49418" href="../Denotational/#plfa_plfa-part3-Denotational-49351" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49422" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49424" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49426" href="../Denotational/#plfa_plfa-part3-Denotational-49359" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49431" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49433" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49435" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49438" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49439" href="../Denotational/#plfa_plfa-part3-Denotational-49439" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49440" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49442" href="../Denotational/#plfa_plfa-part3-Denotational-49442" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49444" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49446" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49451" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49452" href="../Denotational/#plfa_plfa-part3-Denotational-49368" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49460" href="../Denotational/#plfa_plfa-part3-Denotational-49442" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49461" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49464" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49501" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49503" href="../Denotational/#plfa_plfa-part3-Denotational-49380" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49512" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49514" href="../Denotational/#plfa_plfa-part3-Denotational-49391" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49523" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49525" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49527" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49529" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49531" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49538" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49539" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49540" href="../Denotational/#plfa_plfa-part3-Denotational-49540" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49542" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49543" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49544" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49545" href="../Denotational/#plfa_plfa-part3-Denotational-49545" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49548" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49549" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49550" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49551" href="../Denotational/#plfa_plfa-part3-Denotational-49551" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49554" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49555" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49556" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49557" href="../Denotational/#plfa_plfa-part3-Denotational-5641" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-49566" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49567" href="../Denotational/#plfa_plfa-part3-Denotational-49567" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49569" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49570" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49571" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49572" href="../Denotational/#plfa_plfa-part3-Denotational-49572" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49573" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49574" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49575" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49576" href="../Denotational/#plfa_plfa-part3-Denotational-49576" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49577" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49578" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49579" href="../Denotational/#plfa_plfa-part3-Denotational-49579" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49585" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49590" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49598" href="../Denotational/#plfa_plfa-part3-Denotational-49567" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49601" href="../Denotational/#plfa_plfa-part3-Denotational-49579" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49603" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49607" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49609" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49611" href="../Denotational/#plfa_plfa-part3-Denotational-49611" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49615" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49617" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49619" href="../Denotational/#plfa_plfa-part3-Denotational-49619" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49624" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49626" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49628" href="../Denotational/#plfa_plfa-part3-Denotational-49628" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49636" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49638" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49640" href="../Denotational/#plfa_plfa-part3-Denotational-49640" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49649" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49651" href="../Denotational/#plfa_plfa-part3-Denotational-49651" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49660" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49662" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49664" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49666" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49668" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49676" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49678" href="../Denotational/#plfa_plfa-part3-Denotational-49611" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49682" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49684" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49686" href="../Denotational/#plfa_plfa-part3-Denotational-49619" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49691" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49693" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49695" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49698" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49699" href="../Denotational/#plfa_plfa-part3-Denotational-49699" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-49700" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49702" href="../Denotational/#plfa_plfa-part3-Denotational-49702" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49704" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49706" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49711" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49712" href="../Denotational/#plfa_plfa-part3-Denotational-49628" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49720" href="../Denotational/#plfa_plfa-part3-Denotational-49702" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49721" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49724" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49761" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49763" href="../Denotational/#plfa_plfa-part3-Denotational-49640" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49772" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49774" href="../Denotational/#plfa_plfa-part3-Denotational-49651" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49783" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49785" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49787" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49789" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49791" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49798" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49799" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49800" href="../Denotational/#plfa_plfa-part3-Denotational-49800" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49802" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49803" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49804" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49805" href="../Denotational/#plfa_plfa-part3-Denotational-49805" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49807" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49808" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49809" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49810" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-49817" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49818" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-49819" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49820" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-49821" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49822" href="../Denotational/#plfa_plfa-part3-Denotational-49822" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-49823" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49824" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49825" href="../Denotational/#plfa_plfa-part3-Denotational-49825" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-49829" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49830" href="../Denotational/#plfa_plfa-part3-Denotational-49830" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49834" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49835" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49836" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49837" href="../Denotational/#plfa_plfa-part3-Denotational-49837" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49838" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49839" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49840" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49841" href="../Denotational/#plfa_plfa-part3-Denotational-49841" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49842" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49843" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49844" href="../Denotational/#plfa_plfa-part3-Denotational-49844" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-49855" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49860" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49868" href="../Denotational/#plfa_plfa-part3-Denotational-49825" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-49873" href="../Denotational/#plfa_plfa-part3-Denotational-49844" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-49880" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49884" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49886" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49888" href="../Denotational/#plfa_plfa-part3-Denotational-49888" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-49891" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49893" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49895" href="../Denotational/#plfa_plfa-part3-Denotational-49895" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49899" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49901" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49903" href="../Denotational/#plfa_plfa-part3-Denotational-49903" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49908" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49910" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49912" href="../Denotational/#plfa_plfa-part3-Denotational-49912" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-49920" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49922" href="../Denotational/#plfa_plfa-part3-Denotational-49922" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-49930" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49932" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49934" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49936" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-49942" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49947" href="../Denotational/#plfa_plfa-part3-Denotational-45635" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-49961" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49962" href="../Denotational/#plfa_plfa-part3-Denotational-49888" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-49964" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49966" href="../Denotational/#plfa_plfa-part3-Denotational-49895" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49970" href="../Denotational/#plfa_plfa-part3-Denotational-49903" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49975" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49976" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49984" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49988" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-49990" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49994" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49996" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49998" href="../Denotational/#plfa_plfa-part3-Denotational-49998" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50001" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50003" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50005" href="../Denotational/#plfa_plfa-part3-Denotational-50005" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50009" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50011" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50013" href="../Denotational/#plfa_plfa-part3-Denotational-50013" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50019" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50021" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50023" href="../Denotational/#plfa_plfa-part3-Denotational-50023" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50035" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50037" href="../Denotational/#plfa_plfa-part3-Denotational-50037" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50049" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50051" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50053" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50055" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50057" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-50065" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50067" href="../Denotational/#plfa_plfa-part3-Denotational-49998" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50070" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50072" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50074" href="../Denotational/#plfa_plfa-part3-Denotational-50005" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50078" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50080" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50082" href="../Denotational/#plfa_plfa-part3-Denotational-50013" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50088" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50090" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50092" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50100" href="../Denotational/#plfa_plfa-part3-Denotational-50023" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50112" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-50120" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-50158" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50166" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-50174" href="../Denotational/#plfa_plfa-part3-Denotational-50037" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50186" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50188" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50190" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50192" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50194" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50202" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50203" href="../Denotational/#plfa_plfa-part3-Denotational-50203" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-50207" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50209" href="../Denotational/#plfa_plfa-part3-Denotational-50209" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-50212" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50214" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50215" href="../Denotational/#plfa_plfa-part3-Denotational-50215" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50219" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50221" href="../Denotational/#plfa_plfa-part3-Denotational-50221" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-50224" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50226" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50227" href="../Denotational/#plfa_plfa-part3-Denotational-5785" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-50233" href="../Denotational/#plfa_plfa-part3-Denotational-50233" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50237" href="../Denotational/#plfa_plfa-part3-Denotational-50237" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-50240" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50242" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50247" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50253" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50255" href="../Denotational/#plfa_plfa-part3-Denotational-50215" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50259" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50261" href="../Denotational/#plfa_plfa-part3-Denotational-50221" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50265" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50267" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50269" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50272" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50273" href="../Denotational/#plfa_plfa-part3-Denotational-50273" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-50274" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50276" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50278" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-50281" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50283" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50285" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50287" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50290" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50291" href="../Denotational/#plfa_plfa-part3-Denotational-50291" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-50292" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50294" href="../Denotational/#plfa_plfa-part3-Denotational-50294" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-50296" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50298" href="../Denotational/#plfa_plfa-part3-Denotational-50294" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-50299" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50301" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50303" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50305" href="../Denotational/#plfa_plfa-part3-Denotational-50233" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50309" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50311" href="../Denotational/#plfa_plfa-part3-Denotational-50237" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-50315" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50317" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50319" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50321" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50323" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50331" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50332" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50336" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50338" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50339" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50343" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50345" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50348" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-50351" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50352" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50356" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50358" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50362" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50364" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50368" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50370" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50373" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50375" href="../Denotational/#plfa_plfa-part3-Denotational-5888" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-50386" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50387" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-50388" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-50391" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50393" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50394" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-50396" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50400" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50402" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50405" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-50406" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50408" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50413" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50419" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50421" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50425" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50427" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50431" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50433" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50437" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50439" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-50443" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50445" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50447" href="../Denotational/#plfa_plfa-part3-Denotational-50507" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50449" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50451" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50453" href="../Denotational/#plfa_plfa-part3-Denotational-50606" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50455" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50457" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50459" href="../Denotational/#plfa_plfa-part3-Denotational-5484" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-50468" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50475" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50482" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50484" href="../Denotational/#plfa_plfa-part3-Denotational-6820" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50491" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50493" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50495" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50497" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-50501" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-50507" href="../Denotational/#plfa_plfa-part3-Denotational-50507" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50509" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50511" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-50520" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50521" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50525" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50527" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50531" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50533" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50537" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50539" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50542" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50552" href="../Denotational/#plfa_plfa-part3-Denotational-50507" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50554" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50555" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50560" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50561" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50563" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50565" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50569" href="../Denotational/#plfa_plfa-part3-Denotational-50560" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50579" href="../Denotational/#plfa_plfa-part3-Denotational-50507" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50581" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50582" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50587" href="../Denotational/#plfa_plfa-part3-Denotational-50587" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50588" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50590" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50592" href="../Denotational/#plfa_plfa-part3-Denotational-40306" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50596" href="../Denotational/#plfa_plfa-part3-Denotational-50587" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-50606" href="../Denotational/#plfa_plfa-part3-Denotational-50606" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50608" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50610" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50611" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50615" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50617" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50621" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50623" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50627" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50629" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50632" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50634" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-50636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50637" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50641" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50643" href="../Denotational/#plfa_plfa-part3-Denotational-50339" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50647" href="../Denotational/#plfa_plfa-part3-Denotational-5019" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50649" href="../Denotational/#plfa_plfa-part3-Denotational-50332" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50653" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50655" href="../Denotational/#plfa_plfa-part3-Denotational-50345" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50658" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50668" href="../Denotational/#plfa_plfa-part3-Denotational-50606" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50670" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50671" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50676" href="../Denotational/#plfa_plfa-part3-Denotational-50676" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50677" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50679" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50681" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50686" href="../Denotational/#plfa_plfa-part3-Denotational-50676" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50696" href="../Denotational/#plfa_plfa-part3-Denotational-50606" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50698" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50699" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50704" href="../Denotational/#plfa_plfa-part3-Denotational-50704" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50705" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50707" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50709" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50714" href="../Denotational/#plfa_plfa-part3-Denotational-50704" class="Bound">y</a>
</pre><p>令 <code>v</code> 和 <code>w</code> 为任意值。</p><ul><li><p>情况 <code>⊑-bot</code>：若 <code>u₁ ≡ ⊥</code>，我们有 <code>v ↦ w ∈ ⊥</code>，但这是不可能的。</p></li><li><p>情况 <code>⊑-conj-L</code>：</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>，那么有两种子情况需要考虑：</p><ul><li><p>子情况 <code>v ↦ w ∈ u₁₁</code>：我们通过归纳假设 <code>u₁₁ ⊑ u₂</code> 得出结论。</p></li><li><p>子情况 <code>v ↦ w ∈ u₁₂</code>：我们通过归纳假设 <code>u₁₂ ⊑ u₂</code> 得出结论。</p></li></ul><ul><li><p>情况 <code>⊑-conj-R1</code>：</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁</code>，归纳假设 <code>u₁ ⊑ u₂₁</code> 给出了对某个 <code>u₃₁</code>，<code>v ↦ w</code> 将 <code>u₂₁</code> 分解为 <code>u₃₁</code>。为了证明 <code>v ↦ w</code> 也将 <code>u₂₁ ⊔ u₂₂</code> 分解为 <code>u₃₁</code>， 我们只需证明 <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>，而这一点可直接从 <code>u₃₁ ⊆ u₂₁</code> 得出。</p><ul><li><p>情况 <code>⊑-conj-R2</code>：此情况的论证过程与情况 <code>⊑-conj-R1</code> 类似。</p></li><li><p>情况 <code>⊑-trans</code>：</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre></li></ul><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们可以证明对于某个值 <code>u′</code>，<code>v ↦ w</code> 将 <code>u</code> 分解为 <code>u′</code>， 于是我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。跟举归纳假设 <code>u ⊑ u₂</code>，我们可以证明对于任意 <code>v′ ↦ w′ ∈ u</code>，<code>v′ ↦ w′</code> 分解了 <code>u₂</code>。现在应用引理 <code>sub-inv-trans</code>， 它会给出 <code>u₃</code> 使得 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们证明了 <code>v ↦ w</code> 也将 <code>u₂</code> 分解为 <code>u₃</code>。 从 <code>⨆dom u₃ ⊑ ⨆dom u′</code> 和 <code>⨆dom u′ ⊑ v</code>，我们可得出 <code>⨆dom u₃ ⊑ v</code>。 从 <code>w ⊑ ⨆cod u′</code> 和 <code>⨆cod u′ ⊑ ⨆cod u₃</code>，我们有 <code>w ⊑ ⨆cod u₃</code>，于是此情况就覆盖完整了。</p><ul><li><p>情况 <code>⊑-fun</code>：</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>，我们有 <code>v ≡ u₁₁</code> 和 <code>w ≡ u₁₂</code>。 我们证明了 <code>u₁₁ ↦ u₁₂</code> 将 <code>u₂₁ ↦ u₂₂</code> 分解为其自身。 我们还需证明 <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>， 然而这等价于前提 <code>u₂₁ ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ u₂₂</code>。</p><ul><li><p>情况 <code>⊑-dist</code>：</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>，我们有 <code>v ≡ u₂₁</code> 和 <code>w ≡ u₂₂ ⊔ u₂₃</code>。 我们证明了 <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> 将 <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> 分解为其自身。 我们有 <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>，以及 <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>，于是此证明就覆盖完整了。</p><p>我们用 <code>sub-inv</code> 引理的两个推论作为本节的结尾。首先，我们来证明以下性质， 方便在后面的证明中使用。我们将前提特化为 <code>v ↦ w ⊑ u₁</code>，并将结论修改为对于每个 <code>v′ ↦ w′ ∈ u₂</code>，我们有 <code>v′ ⊑ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-54910" href="../Denotational/#plfa_plfa-part3-Denotational-54910" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-54922" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54924" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-54926" href="../Denotational/#plfa_plfa-part3-Denotational-54926" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54928" href="../Denotational/#plfa_plfa-part3-Denotational-54928" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-54930" href="../Denotational/#plfa_plfa-part3-Denotational-54930" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-54933" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54935" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-54940" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-54946" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54948" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-54949" href="../Denotational/#plfa_plfa-part3-Denotational-54926" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54951" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-54953" href="../Denotational/#plfa_plfa-part3-Denotational-54928" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-54954" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-54956" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-54958" href="../Denotational/#plfa_plfa-part3-Denotational-54930" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-54967" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-55025" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55027" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-55030" href="../Denotational/#plfa_plfa-part3-Denotational-55030" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55033" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-55035" href="../Denotational/#plfa_plfa-part3-Denotational-4957" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-55041" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-55043" href="../Denotational/#plfa_plfa-part3-Denotational-40344" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-55052" href="../Denotational/#plfa_plfa-part3-Denotational-55030" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55055" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55057" href="../Denotational/#plfa_plfa-part3-Denotational-55030" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55060" href="../Denotational/#plfa_plfa-part3-Denotational-38291" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-55062" href="../Denotational/#plfa_plfa-part3-Denotational-54930" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-55073" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55075" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-55078" href="../Denotational/#plfa_plfa-part3-Denotational-55078" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55081" href="../Denotational/#plfa_plfa-part3-Denotational-55081" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55083" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55085" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55087" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55088" href="../Denotational/#plfa_plfa-part3-Denotational-55078" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55091" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55093" href="../Denotational/#plfa_plfa-part3-Denotational-55081" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55095" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55097" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55099" href="../Denotational/#plfa_plfa-part3-Denotational-55030" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55102" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55104" href="../Denotational/#plfa_plfa-part3-Denotational-55078" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55107" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55109" href="../Denotational/#plfa_plfa-part3-Denotational-54926" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55110" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55112" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55114" href="../Denotational/#plfa_plfa-part3-Denotational-54928" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55116" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55118" href="../Denotational/#plfa_plfa-part3-Denotational-41866" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-55123" href="../Denotational/#plfa_plfa-part3-Denotational-55030" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-55126" href="../Denotational/#plfa_plfa-part3-Denotational-54910" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-55137" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55138" href="../Denotational/#plfa_plfa-part3-Denotational-55138" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55139" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55141" href="../Denotational/#plfa_plfa-part3-Denotational-55141" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55142" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55144" href="../Denotational/#plfa_plfa-part3-Denotational-55144" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-55146" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55148" href="../Denotational/#plfa_plfa-part3-Denotational-55148" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-55156" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55161" href="../Denotational/#plfa_plfa-part3-Denotational-48917" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-55169" href="../Denotational/#plfa_plfa-part3-Denotational-55148" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-55173" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55174" href="../Denotational/#plfa_plfa-part3-Denotational-55138" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55175" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55177" href="../Denotational/#plfa_plfa-part3-Denotational-55141" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55178" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55180" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-55185" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55189" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55191" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55193" href="../Denotational/#plfa_plfa-part3-Denotational-55193" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55196" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55198" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55200" href="../Denotational/#plfa_plfa-part3-Denotational-55200" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55202" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55204" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55206" href="../Denotational/#plfa_plfa-part3-Denotational-55206" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55212" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55214" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55216" href="../Denotational/#plfa_plfa-part3-Denotational-55216" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-55219" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55221" href="../Denotational/#plfa_plfa-part3-Denotational-55221" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55224" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55226" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55228" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55230" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55232" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-55240" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55242" href="../Denotational/#plfa_plfa-part3-Denotational-55193" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55245" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55247" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55249" href="../Denotational/#plfa_plfa-part3-Denotational-55200" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55251" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55253" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55255" href="../Denotational/#plfa_plfa-part3-Denotational-55206" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55261" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55263" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55265" href="../Denotational/#plfa_plfa-part3-Denotational-55289" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55267" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55269" href="../Denotational/#plfa_plfa-part3-Denotational-55221" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55272" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55274" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55276" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55278" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-55283" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-55289" href="../Denotational/#plfa_plfa-part3-Denotational-55289" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55291" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55293" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55295" href="../Denotational/#plfa_plfa-part3-Denotational-55295" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55297" href="../Denotational/#plfa_plfa-part3-Denotational-55297" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55298" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55300" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55302" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55303" href="../Denotational/#plfa_plfa-part3-Denotational-55295" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55305" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55307" href="../Denotational/#plfa_plfa-part3-Denotational-55297" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55308" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55310" href="../Denotational/#plfa_plfa-part3-Denotational-37977" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55312" href="../Denotational/#plfa_plfa-part3-Denotational-55193" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55315" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55317" href="../Denotational/#plfa_plfa-part3-Denotational-55295" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55319" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55321" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-55332" href="../Denotational/#plfa_plfa-part3-Denotational-55289" class="Function">G</a><a id="plfa_plfa-part3-Denotational-55333" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55334" href="../Denotational/#plfa_plfa-part3-Denotational-55334" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-55335" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55337" href="../Denotational/#plfa_plfa-part3-Denotational-55337" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55338" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55340" href="../Denotational/#plfa_plfa-part3-Denotational-55340" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-55342" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55344" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55352" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55353" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55357" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55358" href="../Denotational/#plfa_plfa-part3-Denotational-42262" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-55367" href="../Denotational/#plfa_plfa-part3-Denotational-55200" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55369" href="../Denotational/#plfa_plfa-part3-Denotational-55340" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-55370" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-55373" href="../Denotational/#plfa_plfa-part3-Denotational-55216" class="Bound">db</a>
</pre><p>第二个推论是反演规则，即我们期望左侧函数小于右侧。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-55554" href="../Denotational/#plfa_plfa-part3-Denotational-55554" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-55562" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55564" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55566" href="../Denotational/#plfa_plfa-part3-Denotational-55566" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55568" href="../Denotational/#plfa_plfa-part3-Denotational-55568" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55570" href="../Denotational/#plfa_plfa-part3-Denotational-55570" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55573" href="../Denotational/#plfa_plfa-part3-Denotational-55573" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55575" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-55585" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55587" href="../Denotational/#plfa_plfa-part3-Denotational-55566" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55589" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55591" href="../Denotational/#plfa_plfa-part3-Denotational-55568" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55593" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55595" href="../Denotational/#plfa_plfa-part3-Denotational-55570" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55598" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55600" href="../Denotational/#plfa_plfa-part3-Denotational-55573" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-55613" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-55639" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55641" href="../Denotational/#plfa_plfa-part3-Denotational-55570" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55644" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55646" href="../Denotational/#plfa_plfa-part3-Denotational-55566" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55648" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55650" href="../Denotational/#plfa_plfa-part3-Denotational-55568" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55652" href="../Denotational/#plfa_plfa-part3-Denotational-5424" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55654" href="../Denotational/#plfa_plfa-part3-Denotational-55573" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-55657" href="../Denotational/#plfa_plfa-part3-Denotational-55554" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-55664" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55665" href="../Denotational/#plfa_plfa-part3-Denotational-55665" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55666" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55668" href="../Denotational/#plfa_plfa-part3-Denotational-55668" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55669" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55671" href="../Denotational/#plfa_plfa-part3-Denotational-55671" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-55673" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55675" href="../Denotational/#plfa_plfa-part3-Denotational-55675" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55677" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55679" href="../Denotational/#plfa_plfa-part3-Denotational-55679" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-55686" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55691" href="../Denotational/#plfa_plfa-part3-Denotational-54910" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-55703" href="../Denotational/#plfa_plfa-part3-Denotational-55679" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-55706" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55710" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55712" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55714" href="../Denotational/#plfa_plfa-part3-Denotational-55714" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-55716" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55718" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55720" href="../Denotational/#plfa_plfa-part3-Denotational-55720" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55722" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55724" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55726" href="../Denotational/#plfa_plfa-part3-Denotational-55726" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55732" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55734" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55736" href="../Denotational/#plfa_plfa-part3-Denotational-55736" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55740" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55742" href="../Denotational/#plfa_plfa-part3-Denotational-55742" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55746" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55748" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55750" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55752" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55758" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55763" href="../Denotational/#plfa_plfa-part3-Denotational-40747" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-55773" href="../Denotational/#plfa_plfa-part3-Denotational-55720" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-55775" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55779" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55781" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55783" href="../Denotational/#plfa_plfa-part3-Denotational-55783" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-55785" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55787" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55789" href="../Denotational/#plfa_plfa-part3-Denotational-55789" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-55792" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55794" href="../Denotational/#plfa_plfa-part3-Denotational-55794" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55801" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55803" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55809" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55814" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55820" href="../Denotational/#plfa_plfa-part3-Denotational-55794" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-55827" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55831" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55833" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-55838" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-55842" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-55846" href="../Denotational/#plfa_plfa-part3-Denotational-55846" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-55855" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55857" href="../Denotational/#plfa_plfa-part3-Denotational-42917" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-55866" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55872" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-55877" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55879" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55883" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55890" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55892" href="../Denotational/#plfa_plfa-part3-Denotational-5714" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55900" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55904" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55905" href="../Denotational/#plfa_plfa-part3-Denotational-38824" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55909" href="../Denotational/#plfa_plfa-part3-Denotational-55846" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-55917" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55919" href="../Denotational/#plfa_plfa-part3-Denotational-3447" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>本章中展示的操作语义是<strong>过滤器模型（filter model，</strong>@Barendregt:1983）的一个例子。 过滤器模型使用带有交集类型的类型系统来精确刻画运行时行为（<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>）。 我们在本章中使用的记法并不是类型系统和交集类型的记法，但 <code>Value</code> 数据类型与这些类型同构（<code>↦</code> 对应 <code>→</code>，<code>⊔</code> 对应 <code>∧</code>，<code>⊥</code> 对应 <code>⊤</code>）， <code>⊑</code> 关系是子类型 <code>&lt;:</code> 的逆关系，并且求值关系 <code>ρ ⊢ M ↓ v</code> 与类型系统同构。 将 <code>ρ</code> 写成 <code>Γ</code>，将 <code>v</code> 写成 <code>A</code>，将 <code>↓</code> 替换为 <code>:</code>，就得到了一个类型判断 <code>Γ ⊢ M : A</code>。通过改变子类型的定义和使用类型原子的不同选择， 交集类型系统为许多不同的无类型 λ-演算提供语义，从完整的 beta-归约到惰性演算和按值调用演算（<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>，<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>）。 本章中的指称语义对应于 BCD 系统（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）。 <em>Lambda Calculus with Types</em> 一书中的第三部分描述了一个交集类型系统的框架， 它可以实现与本章中类似的结果，但适用于整个交集类型系统族（<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>）</p><p>使用有限的表格来表示函数，以及放宽表的查找以实现自我应用这两个想法首次出现在 <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> 的技术报告中，后来在《理论计算机科学》（<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>） 的一篇文章中进行了描述。在该项工作中，<code>Value</code> 的归纳定义与我们使用的有点不同：</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>其中 <code>C</code> 是一组常量，<code>℘f</code> 表示有限幂集。<code>℘f(Value) × ℘f(Value)</code> 中的序对表示输入-输出映射，和本章中的一样。有限幂集用于使函数表能够出现在输入和输出中。 这些差异相当于改变了 <code>Value</code> 定义中递归出现的位置。Plotkin 的模型是无类型 λ-演算的<strong>图模型（graph model）</strong>的一个例子（<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>）。 在图模型中，语义被表示为从程序和环境到（可能是无限的）值的集合的函数。 本章中的语义被定义为关系，不过以集合为值的函数与关系同构。 实际上，我们将在下一章中将语义表示为函数，并证明它等价于关系的版本。</p><p><span class="citation" data-cites="Scott:1976">Scott (1976)</span> 的 ℘(ω) 模型和 <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> 的 B(A) 模型是图模型的另外两个例子。 二者都采用了以下 <code>Value</code> 的归纳定义。</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>在输出中使用 <code>Value</code> 而非 <code>℘f(Value)</code> 相对 Plotkin 的模型来说并不会限制表达能力， 因为使用了值的集合的语义和集合 <code>(V, V′)</code> 的序对可以表示为一个序对的集合 <code>{ (V, v′) | v′ ∈ V′ }</code>。在 Scott 的 ℘(ω) 中， 上面的值通过一种哥德尔编码做了它和自然数的双向映射。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="参考来源">参考来源</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager" aria-label="Chapter"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card" aria-label="Site"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2>本章译者：OlingCat<div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>本书按照<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">创作公用 署名 4.0 国际</a>许可协议授权</div></footer></body></html>