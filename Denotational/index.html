<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Denotational: 无类型 λ-演算的指称语义</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-130" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-137" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-161" class="Keyword">where</a>
</pre><p>λ-演算是一种关于<strong>函数</strong>的语言，即从输入到输出的映射。在计算中， 我们通常认为这种映射是通过一系列将输入转换为输出的操作来执行的。 但函数也可以表示为数据。例如，可以将函数表格化，即创建一个表， 其中每行都有两个条目：一个输入和一个该函数对应的输出。 函数应用则是查找给定输入的行并读取输出的过程。</p><p>我们可按照「函数即表格」的思想为无类型 λ-演算创建语义。然而却碰上了两个难点： 首先，函数的定义域通常是无穷的，因此我们似乎需要无限长的表格来表示函数。 其次，在 λ-演算中，函数可应用于函数，它们甚至可以应用于自身！ 因而这些表格可能包含循环引用。你可能会担心需要高级技术来解决这些问题， 幸而情况并非如此！</p><p>第一个问题是带有无穷定义域的函数。注意到每一个 λ-抽象只会应用于数量有限的不同参数， 该问题因而得以解决（我们回头再讨论发散的程序）。这是看待 Dana Scott 见解的另一种方式，即对 λ-演算进行建模只需要用到连续函数。</p><p>第二个问题是自应用，可以通过放宽在函数表格中查找参数的方式来解决。 通常，人们会在表中查找输入条目与参数完全匹配的行。在自应用的情况下， 这样会要求表包含其自身的副本，当然这是不可能的 （至少，想要使用归纳数据类型定义来构建表是不可能的，而这就是我们要做的）。 其实只要找到一个输入，使得每一行输入都对应到一行参数（即，输入是参数的子集）。 在自应用的情况下，表只需要包含其自身的较小副本，这样就好了。</p><p>基于这两点观察，我们就能直接写出 λ-演算的指称语义。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3274" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3279" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3286" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="plfa_plfa-part3-Denotational-3301" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3307" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3308" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#758" class="Primitive">lzero</a><a id="plfa_plfa-part3-Denotational-3313" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3315" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#774" class="Primitive">lsuc</a><a id="plfa_plfa-part3-Denotational-3319" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3321" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3326" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3333" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part3-Denotational-3342" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3348" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3349" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-3350" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3352" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-3356" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3358" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-3361" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3363" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3368" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3375" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-Denotational-3388" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3394" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3395" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-3398" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3400" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-3401" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3403" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-3411" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3413" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-3414" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3416" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-3424" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3426" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-3431" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3433" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-3438" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-3442" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-3451" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3452" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-3456" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-3464" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3466" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3471" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3478" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="plfa_plfa-part3-Denotational-3487" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3492" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3499" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.html" class="Module">Data.Vec</a> <a id="plfa_plfa-part3-Denotational-3508" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3514" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3515" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-3518" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3520" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-3522" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3524" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-3527" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3529" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3534" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3541" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-3581" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3587" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3588" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-3591" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3593" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part3-Denotational-3596" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3598" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-3602" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3604" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part3-Denotational-3607" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3609" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part3-Denotational-3613" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3615" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part3-Denotational-3620" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3622" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part3-Denotational-3630" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3632" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3637" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3644" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part3-Denotational-3661" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3668" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-3670" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3672" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3677" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3684" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-3710" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3716" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3717" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3730" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3732" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3737" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3744" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part3-Denotational-3753" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3759" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3760" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3763" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3765" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3770" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3777" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3798" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3804" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3805" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3812" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3814" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3815" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3817" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3820" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3822" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3823" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3825" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3828" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3830" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3831" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3833" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3835" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3837" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3840" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3842" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3844" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3846" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3849" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3851" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3853" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3864" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3866" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3868" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3872" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3874" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3877" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3879" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3885" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3887" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3891" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3893" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3898" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3900" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3910" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3912" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3916" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3918" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3923" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3930" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3954" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3960" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3961" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3967" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3969" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3983" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3985" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3994" class="Symbol">)</a>
</pre><h2 id="值">值</h2><p>值数据类型 <code>Value</code> 表示函数的有限的一部分。我们将值视为表示「输入-输出」 映射的有限序对集合。<code>Value</code> 数据类型将集合表示为二叉树，其内部节点是并集运算符， 叶子节点表示单个映射或空集。</p><ul><li><p>⊥ 值不提供有关计算的信息。</p></li><li><p>形如 <code>v ↦ w</code> 的值是从输入 <code>v</code> 到输出 <code>w</code> 的单个输入-输出映射。</p></li><li><p>形如 <code>v ⊔ w</code> 的值是根据 <code>v</code> 和 <code>w</code> 将输入映射到输出的函数。 可将其视为两个集合的并集。</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4937" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-4944" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-4946" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-4950" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-4957" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-4959" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-4964" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-4969" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4975" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4977" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4981" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-4989" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4991" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4993" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-5001" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-5005" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5007" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5013" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5015" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5021" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5023" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-5031" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-5035" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5037" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5043" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5045" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5051" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5053" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
</pre><p>关系 <code>⊑</code> 将熟悉的子集概念适配到 <code>Value</code> 数据类型上。 这种关系在实现自我应用方面起到了关键作用。有两个特定于函数的规则 <code>⊑-fun</code> 和 <code>⊑-dist</code>，我们将在后面讨论。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-5418" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-5424" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-5426" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-5431" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-5436" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-5440" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5442" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5448" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5450" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5456" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5458" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-5462" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-5471" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-5477" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5479" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5481" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5482" href="../Denotational/#plfa_plfa-part3-Denotational-5482" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5483" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5485" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5487" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-5489" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5491" href="../Denotational/#plfa_plfa-part3-Denotational-5482" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-5496" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5505" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5507" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5509" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5510" href="../Denotational/#plfa_plfa-part3-Denotational-5510" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5512" href="../Denotational/#plfa_plfa-part3-Denotational-5512" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5514" href="../Denotational/#plfa_plfa-part3-Denotational-5514" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5515" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5521" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5523" href="../Denotational/#plfa_plfa-part3-Denotational-5512" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5525" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5527" href="../Denotational/#plfa_plfa-part3-Denotational-5510" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-5533" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5535" href="../Denotational/#plfa_plfa-part3-Denotational-5514" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5537" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5539" href="../Denotational/#plfa_plfa-part3-Denotational-5510" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-5547" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5563" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5565" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5566" href="../Denotational/#plfa_plfa-part3-Denotational-5512" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5568" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5570" href="../Denotational/#plfa_plfa-part3-Denotational-5514" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5571" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5573" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5575" href="../Denotational/#plfa_plfa-part3-Denotational-5510" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-5580" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5590" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5592" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5594" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5595" href="../Denotational/#plfa_plfa-part3-Denotational-5595" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5597" href="../Denotational/#plfa_plfa-part3-Denotational-5597" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5599" href="../Denotational/#plfa_plfa-part3-Denotational-5599" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5600" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5606" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5608" href="../Denotational/#plfa_plfa-part3-Denotational-5595" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5610" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5612" href="../Denotational/#plfa_plfa-part3-Denotational-5597" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-5620" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5636" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5638" href="../Denotational/#plfa_plfa-part3-Denotational-5595" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5640" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5642" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5643" href="../Denotational/#plfa_plfa-part3-Denotational-5597" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5645" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5647" href="../Denotational/#plfa_plfa-part3-Denotational-5599" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5648" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-5653" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5663" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5665" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5667" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5668" href="../Denotational/#plfa_plfa-part3-Denotational-5668" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5670" href="../Denotational/#plfa_plfa-part3-Denotational-5670" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5672" href="../Denotational/#plfa_plfa-part3-Denotational-5672" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5673" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5679" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5681" href="../Denotational/#plfa_plfa-part3-Denotational-5668" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5683" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5685" href="../Denotational/#plfa_plfa-part3-Denotational-5672" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5693" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5709" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5711" href="../Denotational/#plfa_plfa-part3-Denotational-5668" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5713" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5715" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5716" href="../Denotational/#plfa_plfa-part3-Denotational-5670" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5718" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5720" href="../Denotational/#plfa_plfa-part3-Denotational-5672" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5721" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-5726" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-5734" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5736" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5738" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5739" href="../Denotational/#plfa_plfa-part3-Denotational-5739" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5741" href="../Denotational/#plfa_plfa-part3-Denotational-5741" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5743" href="../Denotational/#plfa_plfa-part3-Denotational-5743" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5744" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5750" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5752" href="../Denotational/#plfa_plfa-part3-Denotational-5739" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5754" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5756" href="../Denotational/#plfa_plfa-part3-Denotational-5741" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5762" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5764" href="../Denotational/#plfa_plfa-part3-Denotational-5741" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5766" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5768" href="../Denotational/#plfa_plfa-part3-Denotational-5743" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5776" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-5786" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5788" href="../Denotational/#plfa_plfa-part3-Denotational-5739" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5790" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5792" href="../Denotational/#plfa_plfa-part3-Denotational-5743" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-5797" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5803" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5805" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5807" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5808" href="../Denotational/#plfa_plfa-part3-Denotational-5808" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5810" href="../Denotational/#plfa_plfa-part3-Denotational-5810" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5812" href="../Denotational/#plfa_plfa-part3-Denotational-5812" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5815" href="../Denotational/#plfa_plfa-part3-Denotational-5815" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5817" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5823" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5825" href="../Denotational/#plfa_plfa-part3-Denotational-5812" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5828" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5830" href="../Denotational/#plfa_plfa-part3-Denotational-5808" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5836" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5838" href="../Denotational/#plfa_plfa-part3-Denotational-5810" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5840" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5842" href="../Denotational/#plfa_plfa-part3-Denotational-5815" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-5851" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-5875" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5877" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5878" href="../Denotational/#plfa_plfa-part3-Denotational-5808" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5880" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5882" href="../Denotational/#plfa_plfa-part3-Denotational-5810" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5883" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5885" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5887" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5888" href="../Denotational/#plfa_plfa-part3-Denotational-5812" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5891" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5893" href="../Denotational/#plfa_plfa-part3-Denotational-5815" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5895" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-5900" href="../Denotational/#plfa_plfa-part3-Denotational-5900" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-5907" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5909" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-5911" href="../Denotational/#plfa_plfa-part3-Denotational-5911" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5913" href="../Denotational/#plfa_plfa-part3-Denotational-5913" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5915" href="../Denotational/#plfa_plfa-part3-Denotational-5915" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5917" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-5925" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-5963" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5965" href="../Denotational/#plfa_plfa-part3-Denotational-5911" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5967" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5969" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5970" href="../Denotational/#plfa_plfa-part3-Denotational-5913" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5972" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5974" href="../Denotational/#plfa_plfa-part3-Denotational-5915" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5976" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5978" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5980" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5981" href="../Denotational/#plfa_plfa-part3-Denotational-5911" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5983" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5985" href="../Denotational/#plfa_plfa-part3-Denotational-5913" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5986" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5988" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5990" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5991" href="../Denotational/#plfa_plfa-part3-Denotational-5911" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5993" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5995" href="../Denotational/#plfa_plfa-part3-Denotational-5915" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5997" class="Symbol">)</a>
</pre><p>前五条规则很简单。规则 <code>⊑-fun</code> 刻画了何时可以将高阶参数 <code>v′ ↦ w′</code> 与输入为 <code>v ↦ w</code> 的表格条目相匹配。考虑一个高阶参数的调用，可以传入一个比预期更大的参数， 因此 <code>v</code> 可以大于 <code>v′</code>。此外，还可以忽略某些输出，因此 <code>w</code> 可以小于 <code>w′</code>。 （译注：即作为子类型的函数，其参数是逆变的，返回值是协变的。） 规则 <code>⊑-dist</code> 表示，如果对同一个输入有两个条目相匹配， 则可以将它们合并成一个条目并连接两个输出。</p><p><code>⊑</code> 关系满足自反性：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-6832" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6839" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6841" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-6843" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6844" href="../Denotational/#plfa_plfa-part3-Denotational-6844" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-6845" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6847" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6849" href="../Denotational/#plfa_plfa-part3-Denotational-6844" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6851" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6853" href="../Denotational/#plfa_plfa-part3-Denotational-6844" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-6855" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6862" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6863" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-6864" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6866" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6868" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-6874" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6881" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6882" href="../Denotational/#plfa_plfa-part3-Denotational-6882" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6884" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6886" href="../Denotational/#plfa_plfa-part3-Denotational-6886" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6888" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6890" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6892" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6898" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6905" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-6912" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6919" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6920" href="../Denotational/#plfa_plfa-part3-Denotational-6920" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-6923" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6925" href="../Denotational/#plfa_plfa-part3-Denotational-6925" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-6927" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6929" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6931" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6940" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6941" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6951" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6957" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6959" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6960" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6970" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6976" class="Symbol">)</a>
</pre><p><code>⊔</code> 运算对 <code>⊑</code> 满足单调性，即给定两个较大的值，它会产生一个更大的值：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-7155" href="../Denotational/#plfa_plfa-part3-Denotational-7155" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7159" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7161" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7163" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7164" href="../Denotational/#plfa_plfa-part3-Denotational-7164" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7166" href="../Denotational/#plfa_plfa-part3-Denotational-7166" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7168" href="../Denotational/#plfa_plfa-part3-Denotational-7168" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7171" href="../Denotational/#plfa_plfa-part3-Denotational-7171" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7173" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7177" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7179" href="../Denotational/#plfa_plfa-part3-Denotational-7164" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7181" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7183" href="../Denotational/#plfa_plfa-part3-Denotational-7168" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-7187" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-7190" href="../Denotational/#plfa_plfa-part3-Denotational-7166" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7192" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7194" href="../Denotational/#plfa_plfa-part3-Denotational-7171" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-7201" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-7227" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7229" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7230" href="../Denotational/#plfa_plfa-part3-Denotational-7164" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7232" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7234" href="../Denotational/#plfa_plfa-part3-Denotational-7166" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7235" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7237" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7239" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7240" href="../Denotational/#plfa_plfa-part3-Denotational-7168" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7243" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7245" href="../Denotational/#plfa_plfa-part3-Denotational-7171" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7247" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7249" href="../Denotational/#plfa_plfa-part3-Denotational-7155" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7253" href="../Denotational/#plfa_plfa-part3-Denotational-7253" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-7256" href="../Denotational/#plfa_plfa-part3-Denotational-7256" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-7259" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7261" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-7270" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7271" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7281" href="../Denotational/#plfa_plfa-part3-Denotational-7253" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-7283" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7285" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7286" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7296" href="../Denotational/#plfa_plfa-part3-Denotational-7256" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-7298" class="Symbol">)</a>
</pre><p>即使输入的值不相同，<code>⊑-dist</code> 规则也可用于合并两个条目。首先可以用 <code>⊔</code> 将两个输入合并起来，然后应用 <code>⊑-dist</code> 规则来获得以下属性。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-7612" href="../Denotational/#plfa_plfa-part3-Denotational-7612" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7621" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7623" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-7625" href="../Denotational/#plfa_plfa-part3-Denotational-7625" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7627" href="../Denotational/#plfa_plfa-part3-Denotational-7627" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7630" href="../Denotational/#plfa_plfa-part3-Denotational-7630" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7632" href="../Denotational/#plfa_plfa-part3-Denotational-7632" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-7635" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7637" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-7642" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7646" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7648" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7649" href="../Denotational/#plfa_plfa-part3-Denotational-7625" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7651" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7653" href="../Denotational/#plfa_plfa-part3-Denotational-7627" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-7655" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7657" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7659" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7660" href="../Denotational/#plfa_plfa-part3-Denotational-7630" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7662" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7664" href="../Denotational/#plfa_plfa-part3-Denotational-7632" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7666" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7668" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7670" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7671" href="../Denotational/#plfa_plfa-part3-Denotational-7625" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7673" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7675" href="../Denotational/#plfa_plfa-part3-Denotational-7630" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7676" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7678" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7680" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7681" href="../Denotational/#plfa_plfa-part3-Denotational-7627" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7684" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7686" href="../Denotational/#plfa_plfa-part3-Denotational-7632" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7688" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7690" href="../Denotational/#plfa_plfa-part3-Denotational-7612" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7699" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7701" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-7709" href="../Denotational/#plfa_plfa-part3-Denotational-5900" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-7716" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7717" href="../Denotational/#plfa_plfa-part3-Denotational-7155" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7721" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7722" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7728" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7729" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7739" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7745" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7747" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7753" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-7783" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7784" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7790" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7791" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7801" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7807" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7809" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7815" class="Symbol">))</a>
</pre><p>如果连接 <code>u ⊔ v</code> 小于另一个值 <code>w</code>，则 <code>u</code> 和 <code>v</code> 都小于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-8068" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8076" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8078" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8080" href="../Denotational/#plfa_plfa-part3-Denotational-8080" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8082" href="../Denotational/#plfa_plfa-part3-Denotational-8082" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8084" href="../Denotational/#plfa_plfa-part3-Denotational-8084" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8086" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8088" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8093" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8097" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8099" href="../Denotational/#plfa_plfa-part3-Denotational-8080" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8101" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8103" href="../Denotational/#plfa_plfa-part3-Denotational-8082" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8105" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8107" href="../Denotational/#plfa_plfa-part3-Denotational-8084" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8113" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8125" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8127" href="../Denotational/#plfa_plfa-part3-Denotational-8080" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8129" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8131" href="../Denotational/#plfa_plfa-part3-Denotational-8084" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8133" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8141" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8142" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8151" href="../Denotational/#plfa_plfa-part3-Denotational-8151" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8155" href="../Denotational/#plfa_plfa-part3-Denotational-8155" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8158" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8160" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8162" href="../Denotational/#plfa_plfa-part3-Denotational-8151" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-8166" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8174" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8175" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8185" href="../Denotational/#plfa_plfa-part3-Denotational-8185" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8187" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8189" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8191" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8201" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8202" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8210" href="../Denotational/#plfa_plfa-part3-Denotational-8185" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8212" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8214" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8222" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8223" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8233" href="../Denotational/#plfa_plfa-part3-Denotational-8233" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8235" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8237" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8239" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8249" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8250" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8258" href="../Denotational/#plfa_plfa-part3-Denotational-8233" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8260" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8262" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8270" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8271" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8279" href="../Denotational/#plfa_plfa-part3-Denotational-8279" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8283" href="../Denotational/#plfa_plfa-part3-Denotational-8283" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8286" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8288" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8290" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8298" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8299" href="../Denotational/#plfa_plfa-part3-Denotational-8068" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8307" href="../Denotational/#plfa_plfa-part3-Denotational-8279" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8310" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8312" href="../Denotational/#plfa_plfa-part3-Denotational-8283" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-8317" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8325" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8327" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8329" href="../Denotational/#plfa_plfa-part3-Denotational-8329" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8331" href="../Denotational/#plfa_plfa-part3-Denotational-8331" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8333" href="../Denotational/#plfa_plfa-part3-Denotational-8333" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8335" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8337" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8342" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8346" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8348" href="../Denotational/#plfa_plfa-part3-Denotational-8329" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8350" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8352" href="../Denotational/#plfa_plfa-part3-Denotational-8331" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8354" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8356" href="../Denotational/#plfa_plfa-part3-Denotational-8333" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8362" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8374" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8376" href="../Denotational/#plfa_plfa-part3-Denotational-8331" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8378" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8380" href="../Denotational/#plfa_plfa-part3-Denotational-8333" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8382" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8390" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8391" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8400" href="../Denotational/#plfa_plfa-part3-Denotational-8400" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8404" href="../Denotational/#plfa_plfa-part3-Denotational-8404" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8407" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8409" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8411" href="../Denotational/#plfa_plfa-part3-Denotational-8404" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-8415" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8423" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8424" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8434" href="../Denotational/#plfa_plfa-part3-Denotational-8434" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8436" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8438" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8440" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8450" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8451" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8459" href="../Denotational/#plfa_plfa-part3-Denotational-8434" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8461" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8463" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8471" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8472" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8482" href="../Denotational/#plfa_plfa-part3-Denotational-8482" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8484" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8486" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8488" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8498" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8499" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8507" href="../Denotational/#plfa_plfa-part3-Denotational-8482" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8509" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8511" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8519" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8520" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8528" href="../Denotational/#plfa_plfa-part3-Denotational-8528" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8532" href="../Denotational/#plfa_plfa-part3-Denotational-8532" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8535" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8537" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8539" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8548" href="../Denotational/#plfa_plfa-part3-Denotational-8317" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8556" href="../Denotational/#plfa_plfa-part3-Denotational-8528" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8559" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8561" href="../Denotational/#plfa_plfa-part3-Denotational-8532" class="Bound">lt2</a>
</pre><h2 id="环境">环境</h2><p>环境通过将变量映射到值来为项中的自由变量赋予含义：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-8742" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8746" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8748" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-8756" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8758" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8762" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8766" href="../Denotational/#plfa_plfa-part3-Denotational-8766" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8768" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8770" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8772" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8773" href="../Denotational/#plfa_plfa-part3-Denotational-8773" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8775" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8777" href="../Denotational/#plfa_plfa-part3-Denotational-8766" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8779" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8781" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8782" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8784" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8786" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
</pre><p>我们有空环境，且可以扩展环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-8897" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8900" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8902" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8906" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-8908" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8911" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-8915" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-8922" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-8924" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-8930" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-8935" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8937" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8939" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8940" href="../Denotational/#plfa_plfa-part3-Denotational-8940" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8941" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8943" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8945" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8949" href="../Denotational/#plfa_plfa-part3-Denotational-8940" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8953" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-8959" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8961" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8965" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8966" href="../Denotational/#plfa_plfa-part3-Denotational-8940" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8968" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-8970" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8971" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8973" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8974" href="../Denotational/#plfa_plfa-part3-Denotational-8974" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8976" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8979" href="../Denotational/#plfa_plfa-part3-Denotational-8979" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8980" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8982" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-8984" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8986" href="../Denotational/#plfa_plfa-part3-Denotational-8979" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-8988" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8989" href="../Denotational/#plfa_plfa-part3-Denotational-8989" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8991" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8994" href="../Denotational/#plfa_plfa-part3-Denotational-8994" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8995" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8997" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8998" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9000" href="../Denotational/#plfa_plfa-part3-Denotational-9000" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9001" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9003" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9005" href="../Denotational/#plfa_plfa-part3-Denotational-8989" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9007" href="../Denotational/#plfa_plfa-part3-Denotational-9000" class="Bound">x</a>
</pre><p>我们可以从扩展的环境中恢复以前的环境以及最后添加的值。 将它们再次合并在一起能让我们回到开始：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-9234" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9239" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9241" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9243" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9244" href="../Denotational/#plfa_plfa-part3-Denotational-9244" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9245" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9247" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9249" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9253" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9254" href="../Denotational/#plfa_plfa-part3-Denotational-9244" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9256" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9258" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9259" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9261" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9263" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9267" href="../Denotational/#plfa_plfa-part3-Denotational-9244" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9269" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9274" href="../Denotational/#plfa_plfa-part3-Denotational-9274" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9276" href="../Denotational/#plfa_plfa-part3-Denotational-9276" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9278" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9280" href="../Denotational/#plfa_plfa-part3-Denotational-9274" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9282" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9283" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9285" href="../Denotational/#plfa_plfa-part3-Denotational-9276" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9286" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-9289" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9294" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9296" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9298" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9299" href="../Denotational/#plfa_plfa-part3-Denotational-9299" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9300" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9302" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9304" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9308" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9309" href="../Denotational/#plfa_plfa-part3-Denotational-9299" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9311" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9313" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9314" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9316" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9318" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-9324" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9329" href="../Denotational/#plfa_plfa-part3-Denotational-9329" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9331" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9333" href="../Denotational/#plfa_plfa-part3-Denotational-9329" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9335" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-9338" href="../Denotational/#plfa_plfa-part3-Denotational-9338" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9348" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9350" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9352" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9353" href="../Denotational/#plfa_plfa-part3-Denotational-9353" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9354" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9356" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9358" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9359" href="../Denotational/#plfa_plfa-part3-Denotational-9359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9361" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9363" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9367" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9368" href="../Denotational/#plfa_plfa-part3-Denotational-9353" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9370" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9372" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9373" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-9376" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9378" href="../Denotational/#plfa_plfa-part3-Denotational-9359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9380" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9382" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9383" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9388" href="../Denotational/#plfa_plfa-part3-Denotational-9359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9390" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9393" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9398" href="../Denotational/#plfa_plfa-part3-Denotational-9359" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9399" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-9401" href="../Denotational/#plfa_plfa-part3-Denotational-9338" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9411" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9412" href="../Denotational/#plfa_plfa-part3-Denotational-9412" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9413" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9415" href="../Denotational/#plfa_plfa-part3-Denotational-9415" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9417" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9419" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-9434" href="../Denotational/#plfa_plfa-part3-Denotational-9448" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-9442" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-9448" href="../Denotational/#plfa_plfa-part3-Denotational-9448" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9454" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9456" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9458" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9459" href="../Denotational/#plfa_plfa-part3-Denotational-9459" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9461" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9463" href="../Denotational/#plfa_plfa-part3-Denotational-9412" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9465" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9467" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-9469" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9471" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9472" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9474" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9476" href="../Denotational/#plfa_plfa-part3-Denotational-9415" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9478" href="../Denotational/#plfa_plfa-part3-Denotational-9459" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9480" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9482" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9483" href="../Denotational/#plfa_plfa-part3-Denotational-9234" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9488" href="../Denotational/#plfa_plfa-part3-Denotational-9415" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9490" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9493" href="../Denotational/#plfa_plfa-part3-Denotational-9289" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9498" href="../Denotational/#plfa_plfa-part3-Denotational-9415" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9499" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9501" href="../Denotational/#plfa_plfa-part3-Denotational-9459" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-9511" href="../Denotational/#plfa_plfa-part3-Denotational-9448" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9517" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-9524" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9527" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-9540" href="../Denotational/#plfa_plfa-part3-Denotational-9448" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9546" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9547" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9549" href="../Denotational/#plfa_plfa-part3-Denotational-9549" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9550" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-9553" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9556" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们将 <code>⊑</code> 关系逐点（Point-wise）扩展到具有以下定义的环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-9708" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9713" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9715" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9717" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9718" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9719" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9721" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9723" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9727" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9729" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9731" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9735" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9737" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9739" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-9743" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9748" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9749" href="../Denotational/#plfa_plfa-part3-Denotational-9749" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9750" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9752" href="../Denotational/#plfa_plfa-part3-Denotational-9752" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9754" href="../Denotational/#plfa_plfa-part3-Denotational-9754" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9756" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9758" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9760" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9761" href="../Denotational/#plfa_plfa-part3-Denotational-9761" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9763" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9765" href="../Denotational/#plfa_plfa-part3-Denotational-9749" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9767" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9769" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9770" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9772" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9774" href="../Denotational/#plfa_plfa-part3-Denotational-9752" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9776" href="../Denotational/#plfa_plfa-part3-Denotational-9761" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9778" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9780" href="../Denotational/#plfa_plfa-part3-Denotational-9754" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9782" href="../Denotational/#plfa_plfa-part3-Denotational-9761" class="Bound">x</a>
</pre><p>我们定义了一个底环境和一个环境上的连接运算符，它接受它们的值的逐点连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-9962" href="../Denotational/#plfa_plfa-part3-Denotational-9962" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9965" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9967" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9969" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9970" href="../Denotational/#plfa_plfa-part3-Denotational-9970" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9971" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9973" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9975" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9979" href="../Denotational/#plfa_plfa-part3-Denotational-9970" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9981" href="../Denotational/#plfa_plfa-part3-Denotational-9962" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9984" href="../Denotational/#plfa_plfa-part3-Denotational-9984" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9986" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9988" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-9991" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-9996" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9998" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10000" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10001" href="../Denotational/#plfa_plfa-part3-Denotational-10001" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10002" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10004" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10006" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10010" href="../Denotational/#plfa_plfa-part3-Denotational-10001" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-10012" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10014" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10018" href="../Denotational/#plfa_plfa-part3-Denotational-10001" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-10020" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10022" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10026" href="../Denotational/#plfa_plfa-part3-Denotational-10001" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-10028" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10029" href="../Denotational/#plfa_plfa-part3-Denotational-10029" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10031" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10034" href="../Denotational/#plfa_plfa-part3-Denotational-10034" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10035" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10037" href="../Denotational/#plfa_plfa-part3-Denotational-10037" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10039" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10041" href="../Denotational/#plfa_plfa-part3-Denotational-10029" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10043" href="../Denotational/#plfa_plfa-part3-Denotational-10037" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10045" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-10047" href="../Denotational/#plfa_plfa-part3-Denotational-10034" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10049" href="../Denotational/#plfa_plfa-part3-Denotational-10037" class="Bound">x</a>
</pre><p><code>⊑-refl</code>、<code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 规则对环境也适用，因此两个环境 <code>γ</code> 和 <code>δ</code> 的连接大于第一个环境 <code>γ</code> 或第二个环境 <code>δ</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-10551" href="../Denotational/#plfa_plfa-part3-Denotational-10551" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10559" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10561" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10563" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10564" href="../Denotational/#plfa_plfa-part3-Denotational-10564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10565" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10567" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10568" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10570" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10572" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10576" href="../Denotational/#plfa_plfa-part3-Denotational-10564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10577" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10579" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10581" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10583" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10586" href="../Denotational/#plfa_plfa-part3-Denotational-10568" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-10588" href="../Denotational/#plfa_plfa-part3-Denotational-10551" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10596" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10597" href="../Denotational/#plfa_plfa-part3-Denotational-10597" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10598" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10600" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10601" href="../Denotational/#plfa_plfa-part3-Denotational-10601" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10602" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10604" href="../Denotational/#plfa_plfa-part3-Denotational-10604" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10606" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10608" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10615" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10616" href="../Denotational/#plfa_plfa-part3-Denotational-10601" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10618" href="../Denotational/#plfa_plfa-part3-Denotational-10604" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-10619" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-10622" href="../Denotational/#plfa_plfa-part3-Denotational-10622" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10636" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10638" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10640" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10641" href="../Denotational/#plfa_plfa-part3-Denotational-10641" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10642" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10644" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10646" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10647" href="../Denotational/#plfa_plfa-part3-Denotational-10647" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10649" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10651" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10655" href="../Denotational/#plfa_plfa-part3-Denotational-10641" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10656" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10658" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10660" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10661" href="../Denotational/#plfa_plfa-part3-Denotational-10661" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10663" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10665" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10669" href="../Denotational/#plfa_plfa-part3-Denotational-10641" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10670" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10672" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10674" href="../Denotational/#plfa_plfa-part3-Denotational-10647" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10676" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10679" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10680" href="../Denotational/#plfa_plfa-part3-Denotational-10647" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10682" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10685" href="../Denotational/#plfa_plfa-part3-Denotational-10661" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10686" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10688" href="../Denotational/#plfa_plfa-part3-Denotational-10622" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10702" href="../Denotational/#plfa_plfa-part3-Denotational-10702" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10704" href="../Denotational/#plfa_plfa-part3-Denotational-10704" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10706" href="../Denotational/#plfa_plfa-part3-Denotational-10706" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10708" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10710" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10720" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-10728" href="../Denotational/#plfa_plfa-part3-Denotational-10728" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10742" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10744" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10746" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10747" href="../Denotational/#plfa_plfa-part3-Denotational-10747" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10748" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10750" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10752" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10753" href="../Denotational/#plfa_plfa-part3-Denotational-10753" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10755" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10757" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10761" href="../Denotational/#plfa_plfa-part3-Denotational-10747" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10762" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10764" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10766" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10767" href="../Denotational/#plfa_plfa-part3-Denotational-10767" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10771" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10775" href="../Denotational/#plfa_plfa-part3-Denotational-10747" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10776" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10778" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10780" href="../Denotational/#plfa_plfa-part3-Denotational-10767" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10782" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10785" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10786" href="../Denotational/#plfa_plfa-part3-Denotational-10753" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10788" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10791" href="../Denotational/#plfa_plfa-part3-Denotational-10767" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10792" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10794" href="../Denotational/#plfa_plfa-part3-Denotational-10728" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10808" href="../Denotational/#plfa_plfa-part3-Denotational-10808" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10810" href="../Denotational/#plfa_plfa-part3-Denotational-10810" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10812" href="../Denotational/#plfa_plfa-part3-Denotational-10812" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10814" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10816" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10826" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>
</pre><h2 id="指称语义">指称语义</h2><p>我们用形如 <code>ρ ⊢ M ↓ v</code> 的判断来定义语义，其中 <code>ρ</code> 是环境，<code>M</code> 程序，<code>v</code> 是结果值。 对于熟悉大步语义的读者来说，这种表示法会感觉很自然，但不要让这种相似性欺骗了你。 二者之间存在细微但重要的差异！下面是语义的定义，我们将在后面的段落中详细讨论：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-11446" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-11452" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-11454" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-11461" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-11466" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-11472" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11474" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-11476" href="../Denotational/#plfa_plfa-part3-Denotational-11476" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11477" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11479" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11481" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11485" href="../Denotational/#plfa_plfa-part3-Denotational-11476" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11487" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11489" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11490" href="../Denotational/#plfa_plfa-part3-Denotational-11476" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11492" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11494" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-11495" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11497" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11499" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-11505" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11507" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-11511" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-11520" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-11524" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11526" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11528" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11529" href="../Denotational/#plfa_plfa-part3-Denotational-11529" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11530" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11532" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11533" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11535" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11537" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11541" href="../Denotational/#plfa_plfa-part3-Denotational-11529" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11542" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11544" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11545" href="../Denotational/#plfa_plfa-part3-Denotational-11545" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11546" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11554" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11574" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11576" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11578" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11580" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11581" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-11583" href="../Denotational/#plfa_plfa-part3-Denotational-11545" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11584" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11586" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11588" href="../Denotational/#plfa_plfa-part3-Denotational-11533" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11590" href="../Denotational/#plfa_plfa-part3-Denotational-11545" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-11595" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-11602" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11604" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11606" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11607" href="../Denotational/#plfa_plfa-part3-Denotational-11607" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11608" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11610" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11611" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11613" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11615" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11619" href="../Denotational/#plfa_plfa-part3-Denotational-11607" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11620" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11622" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11623" href="../Denotational/#plfa_plfa-part3-Denotational-11623" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11625" href="../Denotational/#plfa_plfa-part3-Denotational-11625" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11627" href="../Denotational/#plfa_plfa-part3-Denotational-11627" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11629" href="../Denotational/#plfa_plfa-part3-Denotational-11629" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11630" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11636" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11638" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11640" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11642" href="../Denotational/#plfa_plfa-part3-Denotational-11623" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11644" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11646" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11647" href="../Denotational/#plfa_plfa-part3-Denotational-11627" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11649" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11651" href="../Denotational/#plfa_plfa-part3-Denotational-11629" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11652" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-11658" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11660" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11662" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11664" href="../Denotational/#plfa_plfa-part3-Denotational-11625" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11666" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11668" href="../Denotational/#plfa_plfa-part3-Denotational-11627" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11676" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11696" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11698" href="../Denotational/#plfa_plfa-part3-Denotational-11611" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11700" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11702" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11703" href="../Denotational/#plfa_plfa-part3-Denotational-11623" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11705" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-11707" href="../Denotational/#plfa_plfa-part3-Denotational-11625" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11708" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11710" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11712" href="../Denotational/#plfa_plfa-part3-Denotational-11629" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-11717" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-11725" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11727" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11729" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11730" href="../Denotational/#plfa_plfa-part3-Denotational-11730" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11731" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11733" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11734" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11736" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11738" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11742" href="../Denotational/#plfa_plfa-part3-Denotational-11730" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11743" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11745" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11746" href="../Denotational/#plfa_plfa-part3-Denotational-11746" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11748" href="../Denotational/#plfa_plfa-part3-Denotational-11748" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11750" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11751" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11757" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11759" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11761" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-11764" href="../Denotational/#plfa_plfa-part3-Denotational-11748" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11766" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11768" href="../Denotational/#plfa_plfa-part3-Denotational-11746" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11770" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11772" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11780" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-11804" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11806" href="../Denotational/#plfa_plfa-part3-Denotational-11734" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11808" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11810" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11811" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-11813" href="../Denotational/#plfa_plfa-part3-Denotational-11746" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-11814" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11816" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11818" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11819" href="../Denotational/#plfa_plfa-part3-Denotational-11748" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11821" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11823" href="../Denotational/#plfa_plfa-part3-Denotational-11750" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11824" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-11829" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-11837" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11839" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11841" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11842" href="../Denotational/#plfa_plfa-part3-Denotational-11842" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11843" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11845" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11846" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11848" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11850" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11854" href="../Denotational/#plfa_plfa-part3-Denotational-11842" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11855" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11857" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11858" href="../Denotational/#plfa_plfa-part3-Denotational-11858" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11859" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11867" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-11881" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11883" href="../Denotational/#plfa_plfa-part3-Denotational-11846" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11885" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11887" href="../Denotational/#plfa_plfa-part3-Denotational-11858" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11889" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11891" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-11896" href="../Denotational/#plfa_plfa-part3-Denotational-11896" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11904" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11906" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11908" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11909" href="../Denotational/#plfa_plfa-part3-Denotational-11909" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11910" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11912" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11913" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11915" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11917" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11921" href="../Denotational/#plfa_plfa-part3-Denotational-11909" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11922" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11924" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11925" href="../Denotational/#plfa_plfa-part3-Denotational-11925" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11927" href="../Denotational/#plfa_plfa-part3-Denotational-11927" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11929" href="../Denotational/#plfa_plfa-part3-Denotational-11929" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11930" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11936" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11938" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11940" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11942" href="../Denotational/#plfa_plfa-part3-Denotational-11925" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11944" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11946" href="../Denotational/#plfa_plfa-part3-Denotational-11927" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11952" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11954" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11956" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11958" href="../Denotational/#plfa_plfa-part3-Denotational-11925" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11960" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11962" href="../Denotational/#plfa_plfa-part3-Denotational-11929" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11970" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11990" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11992" href="../Denotational/#plfa_plfa-part3-Denotational-11913" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11994" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11996" href="../Denotational/#plfa_plfa-part3-Denotational-11925" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11998" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12000" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12001" href="../Denotational/#plfa_plfa-part3-Denotational-11927" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-12003" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-12005" href="../Denotational/#plfa_plfa-part3-Denotational-11929" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-12006" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-12011" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-12015" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12017" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12019" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12020" href="../Denotational/#plfa_plfa-part3-Denotational-12020" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-12021" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12023" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12024" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12026" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12028" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-12032" href="../Denotational/#plfa_plfa-part3-Denotational-12020" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-12033" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12035" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12036" href="../Denotational/#plfa_plfa-part3-Denotational-12036" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12038" href="../Denotational/#plfa_plfa-part3-Denotational-12038" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-12040" href="../Denotational/#plfa_plfa-part3-Denotational-12040" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-12041" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-12047" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12049" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12051" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12053" href="../Denotational/#plfa_plfa-part3-Denotational-12036" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12055" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12057" href="../Denotational/#plfa_plfa-part3-Denotational-12038" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-12063" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12065" href="../Denotational/#plfa_plfa-part3-Denotational-12040" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-12067" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-12069" href="../Denotational/#plfa_plfa-part3-Denotational-12038" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-12077" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-12091" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12093" href="../Denotational/#plfa_plfa-part3-Denotational-12024" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12095" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12097" href="../Denotational/#plfa_plfa-part3-Denotational-12036" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12099" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12101" href="../Denotational/#plfa_plfa-part3-Denotational-12040" class="Bound">w</a>
</pre><p>考虑 λ-抽象的规则 <code>↦-intro</code>，它表示 λ-抽象会生成一个单条目的表，该表将输入 <code>v</code> 映射到输出 <code>w</code>，前提是在 <code>v</code> 绑定到形参的环境中求值时会产生输出 <code>w</code>。 作为此规则的简单示例，我们可以看到恒等函数将 <code>⊥</code> 映射到 <code>⊥</code>，同样也会将 <code>⊥</code> ↦ <code>⊥</code> 映射到 <code>⊥ ↦ ⊥</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-12677" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12680" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12682" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-12684" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12686" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-12688" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12691" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12693" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-12695" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-12697" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-12712" href="../Denotational/#plfa_plfa-part3-Denotational-12712" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12722" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12724" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12726" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12727" href="../Denotational/#plfa_plfa-part3-Denotational-12727" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12728" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12730" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12732" href="../Denotational/#plfa_plfa-part3-Denotational-12727" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12734" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12736" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12739" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12741" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12743" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12745" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-12747" href="../Denotational/#plfa_plfa-part3-Denotational-12712" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12757" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12759" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12767" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-12772" href="../Denotational/#plfa_plfa-part3-Denotational-12772" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12782" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12784" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12786" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12787" href="../Denotational/#plfa_plfa-part3-Denotational-12787" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12788" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12790" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12792" href="../Denotational/#plfa_plfa-part3-Denotational-12787" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12794" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12796" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12799" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12801" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12802" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12804" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12806" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12807" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12809" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12811" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12812" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12814" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12816" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12817" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12819" href="../Denotational/#plfa_plfa-part3-Denotational-12772" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12829" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12831" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12839" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a>
</pre><p>当然，我们需要多行表格来刻画 λ-抽象的含义。它们可以用 <code>⊔-intro</code> 规则构建。如果项 <code>M</code>（通常是一个 λ-抽象）可以产生表格 <code>v</code> 和 <code>w</code>， 那么它也可以产生合并的表格 <code>v ⊔ w</code>。我们可以从操作的视角看待规则 <code>↦-intro</code> 和 <code>⊔-intro</code>。想象一下，当解释器首次遇到 λ-抽象时， 它会在许多随机选择的参数上预先对函数求值，使用多个 <code>↦-intro</code> 规则的实例，然后再使用多个 <code>⊔-intro</code> 规则将它们合并成一个大表格。 在接下来的内容中，我们将展示恒等函数产生一个包含上述两个结果的表格 <code>⊥ ↦ ⊥</code>和<code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-13920" href="../Denotational/#plfa_plfa-part3-Denotational-13920" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13930" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13932" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13935" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13937" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-13940" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13942" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13943" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13945" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13947" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13948" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13950" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13952" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13953" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13955" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13957" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13958" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13960" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13962" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13963" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13965" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13967" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13968" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13970" href="../Denotational/#plfa_plfa-part3-Denotational-13920" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13980" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13982" href="../Denotational/#plfa_plfa-part3-Denotational-11896" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-13990" href="../Denotational/#plfa_plfa-part3-Denotational-12712" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-14000" href="../Denotational/#plfa_plfa-part3-Denotational-12772" class="Function">denot-id2</a>
</pre><p>我们通常认为判断 <code>γ ⊢ M ↓ v</code> 以环境 <code>γ</code> 和项 <code>M</code> 为输入，产生结果 <code>v</code>。 然而重点在于，语义是一种<strong>关系</strong>。上述恒等函数的结果表明， 相同的环境和项可以映射为不同的结果。然而，对于给定的 <code>γ</code> 和 <code>M</code> ，它们的结果并不会有<strong>太大</strong>区别，毕竟它们都是同一个函数的有限近似。 或许考虑判断 <code>γ ⊢ M ↓ v</code> 更好的方法是将 <code>γ</code>、<code>M</code> 和 <code>v</code> 都视为输入， 其语义则是判定 <code>v</code> 是否为精确的环境 <code>γ</code> 中 <code>M</code> 的求值结果的部分描述。</p><p>接下来我们考虑 <code>↦-elim</code> 规则给出的函数应用的含义。 以此规则为前提，我们有规则 <code>L</code> 将 <code>v</code> 映射到 <code>w</code>。 因此，如果 <code>M</code> 产生 <code>v</code>，那么将 <code>L</code> 应用于 <code>M</code> 会产生 <code>w</code>。</p><p>举一个函数应用和 <code>↦-elim</code> 规则的例子，我们将恒等函数应用于自身。 实际上，我们有 <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> 的同时还有 <code>∅ ⊢ id ↓ (u ↦ u)</code>，因此我们可以应用规则 <code>↦-elim</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-15657" href="../Denotational/#plfa_plfa-part3-Denotational-15657" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15667" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15669" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-15671" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15672" href="../Denotational/#plfa_plfa-part3-Denotational-15672" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15674" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15676" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-15681" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15683" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-15685" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15688" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15690" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15693" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15695" href="../Denotational/#plfa_plfa-part3-Denotational-12677" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15698" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15700" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15701" href="../Denotational/#plfa_plfa-part3-Denotational-15672" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15703" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-15705" href="../Denotational/#plfa_plfa-part3-Denotational-15672" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15706" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-15708" href="../Denotational/#plfa_plfa-part3-Denotational-15657" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15718" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15719" href="../Denotational/#plfa_plfa-part3-Denotational-15719" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15720" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15722" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15724" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15731" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15732" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15740" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15743" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15745" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15746" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15754" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15757" class="Symbol">)</a>
</pre><p>接着我们重新考虑丘奇数 <code>2</code>：<code>λ f. λ u. (f (f u))</code>。该函数有两个参数：<code>f</code> 和一个任意值 <code>u</code>，并将 <code>f</code> 应用两次。于是 <code>f</code> 必定将 <code>u</code> 映射到某个值， 我们将其命名为 <code>v</code>。接着，对于第二次应用，<code>f</code> 必定将 <code>v</code> 映射到某个值， 我们将其命名为 <code>w</code>。因此该函数的表格必定包含两个条目，即 <code>u ↦ v</code> 和 <code>v ↦ w</code>。 对于该表格的每一次应用，我们用 <code>sub</code> 规则提取对应的条目。具体来说， 就是用 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 从表格 <code>u ↦ v ⊔ v ↦ w</code> 中分别选出 <code>u ↦ v</code> 和 <code>v ↦ w</code>。所以 <code>twoᶜ</code> 的含义就是接受该表格和参数 <code>u</code>，然后返回 <code>w</code>。 实际上我们是通过以下过程把它推导出来的：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-16878" href="../Denotational/#plfa_plfa-part3-Denotational-16878" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16889" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16891" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-16893" href="../Denotational/#plfa_plfa-part3-Denotational-16893" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16895" href="../Denotational/#plfa_plfa-part3-Denotational-16895" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16897" href="../Denotational/#plfa_plfa-part3-Denotational-16897" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16899" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16901" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-16906" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16908" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16910" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-16913" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16915" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16920" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16922" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-16924" href="../Denotational/#plfa_plfa-part3-Denotational-16893" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16926" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16928" href="../Denotational/#plfa_plfa-part3-Denotational-16895" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16930" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16932" href="../Denotational/#plfa_plfa-part3-Denotational-16895" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16934" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16936" href="../Denotational/#plfa_plfa-part3-Denotational-16897" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16937" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16939" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16941" href="../Denotational/#plfa_plfa-part3-Denotational-16893" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16943" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16945" href="../Denotational/#plfa_plfa-part3-Denotational-16897" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16946" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-16948" href="../Denotational/#plfa_plfa-part3-Denotational-16878" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16959" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16960" href="../Denotational/#plfa_plfa-part3-Denotational-16960" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-16961" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16963" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-16964" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16966" href="../Denotational/#plfa_plfa-part3-Denotational-16966" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16967" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16969" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-16973" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16981" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16982" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16990" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16991" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16998" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16999" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17003" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17007" href="../Denotational/#plfa_plfa-part3-Denotational-17049" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-17010" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17012" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17013" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17020" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17021" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17025" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17029" href="../Denotational/#plfa_plfa-part3-Denotational-17132" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-17032" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17034" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-17037" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-17043" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-17049" href="../Denotational/#plfa_plfa-part3-Denotational-17049" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17053" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17055" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17057" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17059" href="../Denotational/#plfa_plfa-part3-Denotational-16966" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17061" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17063" href="../Denotational/#plfa_plfa-part3-Denotational-16960" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17065" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17067" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17069" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17071" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17073" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17075" href="../Denotational/#plfa_plfa-part3-Denotational-16966" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17085" href="../Denotational/#plfa_plfa-part3-Denotational-17049" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17089" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17091" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17101" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17102" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17108" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17115" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17121" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-17132" href="../Denotational/#plfa_plfa-part3-Denotational-17132" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17136" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17138" href="../Denotational/#plfa_plfa-part3-Denotational-16960" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17140" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17142" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17144" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17146" href="../Denotational/#plfa_plfa-part3-Denotational-16960" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17148" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17150" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17152" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17154" href="../Denotational/#plfa_plfa-part3-Denotational-16963" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17156" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17158" href="../Denotational/#plfa_plfa-part3-Denotational-16966" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17168" href="../Denotational/#plfa_plfa-part3-Denotational-17132" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17172" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17174" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17175" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17185" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17186" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17192" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17199" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17205" class="Symbol">))</a>
</pre><p>接下来展示一个自应用的经典例子：<code>Δ = λx. (x x)</code>。 <code>x</code> 的输入值必须是一个表格，其中有一个条目将其自身较小的版本 <code>v</code> 映射到某个值 <code>w</code>，所以输入值类似于 <code>v ↦ w ⊔ v</code>。当然， <code>Δ</code> 的输出就是 <code>w</code>，推导过程如下所示。第一个 <code>x</code> 求值为 <code>v ↦ w</code>， 第二个 <code>x</code> 求值为 <code>v</code>，应用的结果为 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-17888" href="../Denotational/#plfa_plfa-part3-Denotational-17888" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17890" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17892" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-17894" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17896" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-17898" href="../Denotational/#plfa_plfa-part3-Denotational-17888" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17900" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17902" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17903" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-17905" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17906" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17908" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17909" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17911" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-17913" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17914" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17916" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17917" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-17921" href="../Denotational/#plfa_plfa-part3-Denotational-17921" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17929" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17931" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17933" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17934" href="../Denotational/#plfa_plfa-part3-Denotational-17934" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17936" href="../Denotational/#plfa_plfa-part3-Denotational-17936" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17937" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17939" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17941" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-17944" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17946" href="../Denotational/#plfa_plfa-part3-Denotational-17888" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17948" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17950" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-17952" href="../Denotational/#plfa_plfa-part3-Denotational-17934" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17954" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17956" href="../Denotational/#plfa_plfa-part3-Denotational-17936" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17958" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17960" href="../Denotational/#plfa_plfa-part3-Denotational-17934" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17961" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17963" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17965" href="../Denotational/#plfa_plfa-part3-Denotational-17936" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17966" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-17968" href="../Denotational/#plfa_plfa-part3-Denotational-17921" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17976" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17978" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-17986" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17987" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17994" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17995" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17999" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-18003" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18004" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-18014" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18020" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-18049" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18050" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-18054" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-18058" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18059" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-18069" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18075" class="Symbol">)))</a>
</pre><p>你可能会担心这种语义是否可以处理发散的程序。值 <code>⊥</code> 和规则 <code>⊥-intro</code> 提供了一种处理它们的方法（<code>⊥-intro</code> 规则也是 β-规约能够应用于不停机参数的原因）。 经典的 <code>Ω</code> 程序是一个特别简单的发散程序，它将 <code>Δ</code> 应用于自身，语义赋予 <code>Ω</code> 含义 <code>⊥</code>。有多种方法可以得出它，我们将从使用 <code>⊔-intro</code> 规则的方法开始。 首先，<code>denot-Δ</code> 告诉我们 <code>Δ</code> 的计算结果为 <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code>（选择 <code>v₁ = v2 = ⊥</code> ）。接着，<code>Δ</code> 还通过使用 <code>↦-intro</code> 和 <code>⊥-intro</code> 求值为 <code>⊥ ↦ ⊥</code>，并通过 <code>⊥-intro</code> 求值为 <code>⊥</code>。正如我们之前所看到的， 只要我们能证明程序会求值出两个值，我们就能应用 <code>⊔-intro</code> 将它们连接在一起， 于是 <code>Δ</code> 求值为 <code>(⊥ ↦ ⊥) ⊔ ⊥</code>，这与第一个 <code>Δ</code> 的输入相匹配， 因此可得应用的结果是 <code>⊥</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-19475" href="../Denotational/#plfa_plfa-part3-Denotational-19475" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19477" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19479" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-19481" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19483" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-19485" href="../Denotational/#plfa_plfa-part3-Denotational-19475" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19487" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19489" href="../Denotational/#plfa_plfa-part3-Denotational-17888" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-19491" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-19493" href="../Denotational/#plfa_plfa-part3-Denotational-17888" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-19496" href="../Denotational/#plfa_plfa-part3-Denotational-19496" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19504" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19506" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19509" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19511" href="../Denotational/#plfa_plfa-part3-Denotational-19475" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19513" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19515" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19517" href="../Denotational/#plfa_plfa-part3-Denotational-19496" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19525" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19527" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-19534" href="../Denotational/#plfa_plfa-part3-Denotational-17921" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-19542" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19543" href="../Denotational/#plfa_plfa-part3-Denotational-11896" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-19551" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19552" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-19560" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19567" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19569" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19576" class="Symbol">)</a>
</pre><p>同一结果的较短推导就是单纯使用 <code>⊥-intro</code> 规则：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-19714" href="../Denotational/#plfa_plfa-part3-Denotational-19714" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19723" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19725" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19728" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19730" href="../Denotational/#plfa_plfa-part3-Denotational-19475" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19732" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19734" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19736" href="../Denotational/#plfa_plfa-part3-Denotational-19714" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19745" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19747" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a>
</pre><p>仅凭对某个封闭项 <code>M</code> 可以推导出 <code>∅ ⊢ M ↓ ⊥</code> 并不意味着 <code>M</code> 必然发散。 可能还有其他可以推出 <code>M</code> 的推导过程，能产生包含更多信息的值。然而， 如果一个项求值的唯一结果是 <code>⊥</code>，那么它确实发散。</p><p>细心的读者会发现，我们计划解决自应用问题的方式与实际应用的 <code>↦-elim</code> 规则之间存在脱节。开头说过，我们会放宽查表的概念， 如果参数等于或大于输入条目，则允许参数匹配输入条目。然而，<code>↦-elim</code> 规则似乎需要精确匹配，但由于存在 <code>sub</code> 规则，应用确实可以允许更大的参数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-20818" href="../Denotational/#plfa_plfa-part3-Denotational-20818" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20826" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20828" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-20830" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20831" href="../Denotational/#plfa_plfa-part3-Denotational-20831" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20832" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20834" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20835" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20837" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20839" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-20843" href="../Denotational/#plfa_plfa-part3-Denotational-20831" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20844" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20846" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20847" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20850" href="../Denotational/#plfa_plfa-part3-Denotational-20850" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20853" href="../Denotational/#plfa_plfa-part3-Denotational-20853" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20856" href="../Denotational/#plfa_plfa-part3-Denotational-20856" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-20859" href="../Denotational/#plfa_plfa-part3-Denotational-20859" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20861" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-20865" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20867" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20869" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20871" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20874" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20876" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20877" href="../Denotational/#plfa_plfa-part3-Denotational-20853" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20880" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-20882" href="../Denotational/#plfa_plfa-part3-Denotational-20859" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20884" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-20888" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20890" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20892" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20894" href="../Denotational/#plfa_plfa-part3-Denotational-20850" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20897" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20899" href="../Denotational/#plfa_plfa-part3-Denotational-20856" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-20904" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20906" href="../Denotational/#plfa_plfa-part3-Denotational-20853" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20909" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-20911" href="../Denotational/#plfa_plfa-part3-Denotational-20856" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-20918" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-20939" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20941" href="../Denotational/#plfa_plfa-part3-Denotational-20835" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20943" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20945" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20946" href="../Denotational/#plfa_plfa-part3-Denotational-20847" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20949" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-20951" href="../Denotational/#plfa_plfa-part3-Denotational-20850" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-20953" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-20955" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20957" href="../Denotational/#plfa_plfa-part3-Denotational-20859" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-20960" href="../Denotational/#plfa_plfa-part3-Denotational-20818" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20968" href="../Denotational/#plfa_plfa-part3-Denotational-20968" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20971" href="../Denotational/#plfa_plfa-part3-Denotational-20971" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20974" href="../Denotational/#plfa_plfa-part3-Denotational-20974" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-20977" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-20979" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-20986" href="../Denotational/#plfa_plfa-part3-Denotational-20968" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20989" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20990" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-20994" href="../Denotational/#plfa_plfa-part3-Denotational-20971" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20997" href="../Denotational/#plfa_plfa-part3-Denotational-20974" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-20999" class="Symbol">)</a>
</pre><h4 id="练习-denot-plusᶜ实践">练习 <code>denot-plusᶜ</code>（实践）</h4><p><code>plusᶜ</code> 的指称是什么？即，找到一个值 <code>v</code>（排除 <code>⊥</code>），使得 <code>∅ ⊢ plusᶜ ↓ v</code>。 此外，对你选择的 <code>v</code> 给出 <code>∅ ⊢ plusᶜ ↓ v</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-21361" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="指称与指称相等">指称与指称相等</h2><p>接下来我们基于上述语义来定义指称相等的概念，它的语句使用了「当且仅当」， 其定义如下</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-21657" href="../Denotational/#plfa_plfa-part3-Denotational-21657" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-21663" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21665" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21669" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21671" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21675" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21677" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-21681" href="../Denotational/#plfa_plfa-part3-Denotational-21681" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21683" href="../Denotational/#plfa_plfa-part3-Denotational-21657" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-21687" href="../Denotational/#plfa_plfa-part3-Denotational-21687" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21689" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21691" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21692" href="../Denotational/#plfa_plfa-part3-Denotational-21681" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21694" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21696" href="../Denotational/#plfa_plfa-part3-Denotational-21687" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-21697" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-21699" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-21701" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21702" href="../Denotational/#plfa_plfa-part3-Denotational-21687" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21704" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21706" href="../Denotational/#plfa_plfa-part3-Denotational-21681" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-21707" class="Symbol">)</a>
</pre><p>看待指称语义的另一种方式是将它看作一个函数，它将项映射为一个从环境到值的关系， 即，项的<strong>指称（Denotation）</strong>是一个从环境到值的关系。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-22012" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22023" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22025" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-22033" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22035" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-22040" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22051" href="../Denotational/#plfa_plfa-part3-Denotational-22051" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22053" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22055" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22056" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22060" href="../Denotational/#plfa_plfa-part3-Denotational-22051" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22062" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22064" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-22070" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22072" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-22075" class="Symbol">)</a>
</pre><p>下面的函数 ℰ 给出了语义的另一种视角，它相当于只改变了参数的顺序：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-22274" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22276" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22278" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-22280" href="../Denotational/#plfa_plfa-part3-Denotational-22280" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22281" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22283" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22285" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22286" href="../Denotational/#plfa_plfa-part3-Denotational-22286" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22288" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22290" href="../Denotational/#plfa_plfa-part3-Denotational-22280" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22292" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22294" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-22295" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22297" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22299" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22310" href="../Denotational/#plfa_plfa-part3-Denotational-22280" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-22312" href="../Denotational/#plfa_plfa-part3-Denotational-22274" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22314" href="../Denotational/#plfa_plfa-part3-Denotational-22314" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22316" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22318" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-22320" href="../Denotational/#plfa_plfa-part3-Denotational-22320" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22322" href="../Denotational/#plfa_plfa-part3-Denotational-22322" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22324" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22326" href="../Denotational/#plfa_plfa-part3-Denotational-22320" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22328" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22330" href="../Denotational/#plfa_plfa-part3-Denotational-22314" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22332" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-22334" href="../Denotational/#plfa_plfa-part3-Denotational-22322" class="Bound">v</a>
</pre><p>一般来说，当两个指称在相同的环境中能够产生相同的值时，二者就是相等的。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-22493" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-22499" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-22501" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-22506" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22510" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22512" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22514" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22515" href="../Denotational/#plfa_plfa-part3-Denotational-22515" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22516" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22518" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22520" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22521" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22532" href="../Denotational/#plfa_plfa-part3-Denotational-22515" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22533" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22535" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22537" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22538" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22549" href="../Denotational/#plfa_plfa-part3-Denotational-22515" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22550" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22552" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22554" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-22558" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22559" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22563" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22564" href="../Denotational/#plfa_plfa-part3-Denotational-22564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22565" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22567" href="../Denotational/#plfa_plfa-part3-Denotational-22567" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22570" href="../Denotational/#plfa_plfa-part3-Denotational-22570" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-22572" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22574" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22576" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22577" href="../Denotational/#plfa_plfa-part3-Denotational-22577" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22579" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22581" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22585" href="../Denotational/#plfa_plfa-part3-Denotational-22564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22586" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22588" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22590" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22591" href="../Denotational/#plfa_plfa-part3-Denotational-22591" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22593" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22595" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-22600" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22602" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22604" href="../Denotational/#plfa_plfa-part3-Denotational-22567" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22607" href="../Denotational/#plfa_plfa-part3-Denotational-22577" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22609" href="../Denotational/#plfa_plfa-part3-Denotational-22591" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22611" href="../Denotational/#plfa_plfa-part3-Denotational-21657" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-22615" href="../Denotational/#plfa_plfa-part3-Denotational-22570" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-22618" href="../Denotational/#plfa_plfa-part3-Denotational-22577" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22620" href="../Denotational/#plfa_plfa-part3-Denotational-22591" class="Bound">v</a>
</pre><p>指称相等是一种等价关系：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-22709" href="../Denotational/#plfa_plfa-part3-Denotational-22709" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22716" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22718" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22720" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22721" href="../Denotational/#plfa_plfa-part3-Denotational-22721" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22723" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22725" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22732" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22734" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22736" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22737" href="../Denotational/#plfa_plfa-part3-Denotational-22737" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22739" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22741" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22752" href="../Denotational/#plfa_plfa-part3-Denotational-22721" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22753" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22757" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22759" href="../Denotational/#plfa_plfa-part3-Denotational-22737" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22761" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22763" href="../Denotational/#plfa_plfa-part3-Denotational-22737" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22765" href="../Denotational/#plfa_plfa-part3-Denotational-22709" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22772" href="../Denotational/#plfa_plfa-part3-Denotational-22772" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22774" href="../Denotational/#plfa_plfa-part3-Denotational-22774" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22776" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22778" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22780" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22783" href="../Denotational/#plfa_plfa-part3-Denotational-22783" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22785" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22787" href="../Denotational/#plfa_plfa-part3-Denotational-22783" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22788" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22790" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22792" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22795" href="../Denotational/#plfa_plfa-part3-Denotational-22795" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22797" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22799" href="../Denotational/#plfa_plfa-part3-Denotational-22795" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22800" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22802" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-22805" href="../Denotational/#plfa_plfa-part3-Denotational-22805" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22811" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22813" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22815" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22816" href="../Denotational/#plfa_plfa-part3-Denotational-22816" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22818" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22820" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22827" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22829" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22831" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22832" href="../Denotational/#plfa_plfa-part3-Denotational-22832" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22834" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22836" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22838" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22849" href="../Denotational/#plfa_plfa-part3-Denotational-22816" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22850" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22854" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22856" href="../Denotational/#plfa_plfa-part3-Denotational-22832" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22858" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22860" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-22866" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-22874" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22876" href="../Denotational/#plfa_plfa-part3-Denotational-22834" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22878" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22880" href="../Denotational/#plfa_plfa-part3-Denotational-22832" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22882" href="../Denotational/#plfa_plfa-part3-Denotational-22805" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22888" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22891" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22893" href="../Denotational/#plfa_plfa-part3-Denotational-22893" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22895" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22897" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22899" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22900" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-22906" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22907" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22910" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22912" href="../Denotational/#plfa_plfa-part3-Denotational-22893" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22913" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22916" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22918" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22919" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22925" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22926" href="../Denotational/#plfa_plfa-part3-Denotational-22888" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22929" href="../Denotational/#plfa_plfa-part3-Denotational-22891" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22931" href="../Denotational/#plfa_plfa-part3-Denotational-22893" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22932" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22935" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-22938" href="../Denotational/#plfa_plfa-part3-Denotational-22938" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22946" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22948" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22950" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22951" href="../Denotational/#plfa_plfa-part3-Denotational-22951" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22953" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22955" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22962" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22966" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22967" href="../Denotational/#plfa_plfa-part3-Denotational-22967" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22970" href="../Denotational/#plfa_plfa-part3-Denotational-22970" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22973" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-22976" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22978" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22989" href="../Denotational/#plfa_plfa-part3-Denotational-22951" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22990" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22994" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22996" href="../Denotational/#plfa_plfa-part3-Denotational-22967" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22999" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23001" href="../Denotational/#plfa_plfa-part3-Denotational-22970" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-23006" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23008" href="../Denotational/#plfa_plfa-part3-Denotational-22970" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-23011" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23013" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-23020" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-23030" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23032" href="../Denotational/#plfa_plfa-part3-Denotational-22967" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-23035" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23037" href="../Denotational/#plfa_plfa-part3-Denotational-22973" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-23040" href="../Denotational/#plfa_plfa-part3-Denotational-22938" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23048" href="../Denotational/#plfa_plfa-part3-Denotational-23048" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23052" href="../Denotational/#plfa_plfa-part3-Denotational-23052" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23056" href="../Denotational/#plfa_plfa-part3-Denotational-23056" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23058" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-23060" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23062" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-23064" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23067" href="../Denotational/#plfa_plfa-part3-Denotational-23067" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23069" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23071" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23077" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23078" href="../Denotational/#plfa_plfa-part3-Denotational-23052" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23082" href="../Denotational/#plfa_plfa-part3-Denotational-23056" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23084" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23085" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23087" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23088" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23094" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23095" href="../Denotational/#plfa_plfa-part3-Denotational-23048" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23099" href="../Denotational/#plfa_plfa-part3-Denotational-23056" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23101" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23102" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23104" href="../Denotational/#plfa_plfa-part3-Denotational-23067" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23105" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23108" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-23134" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23137" href="../Denotational/#plfa_plfa-part3-Denotational-23137" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23139" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23141" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23147" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23148" href="../Denotational/#plfa_plfa-part3-Denotational-23048" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23152" href="../Denotational/#plfa_plfa-part3-Denotational-23056" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23154" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23155" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23157" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23158" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23164" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23165" href="../Denotational/#plfa_plfa-part3-Denotational-23052" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23169" href="../Denotational/#plfa_plfa-part3-Denotational-23056" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23171" href="../Denotational/#plfa_plfa-part3-Denotational-23058" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23172" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23174" href="../Denotational/#plfa_plfa-part3-Denotational-23137" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23175" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23178" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
</pre><p>若两个项 <code>M</code> 和 <code>N</code> 的指称相等，我们就说它们是指称相等的，即 <code>ℰ M ≃ ℰ N</code>。</p><p>以下子模块引入了 <code>≃</code> 关系的等式推理：</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-23466" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-23473" href="../Denotational/#plfa_plfa-part3-Denotational-23473" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-23485" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23486" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23488" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23490" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-23497" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23499" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-23508" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23515" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-23517" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-23526" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-23533" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-23535" href="../Denotational/#plfa_plfa-part3-Denotational-23796" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23541" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-23550" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23557" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-23559" href="../Denotational/#plfa_plfa-part3-Denotational-23903" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-23565" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-23572" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23574" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23576" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23577" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23579" href="../Denotational/#plfa_plfa-part3-Denotational-23579" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23581" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23583" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23594" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23595" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23601" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23603" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23605" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23607" href="../Denotational/#plfa_plfa-part3-Denotational-23579" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23615" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23625" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23627" href="../Denotational/#plfa_plfa-part3-Denotational-23577" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23629" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23631" href="../Denotational/#plfa_plfa-part3-Denotational-23579" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23635" href="../Denotational/#plfa_plfa-part3-Denotational-23565" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-23641" href="../Denotational/#plfa_plfa-part3-Denotational-23641" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23646" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23649" href="../Denotational/#plfa_plfa-part3-Denotational-23641" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-23656" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-23663" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23665" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23668" href="../Denotational/#plfa_plfa-part3-Denotational-23668" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23670" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23672" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23683" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23684" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23686" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23687" href="../Denotational/#plfa_plfa-part3-Denotational-23687" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23689" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23691" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23693" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23704" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23705" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23711" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23713" href="../Denotational/#plfa_plfa-part3-Denotational-23668" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23715" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23717" href="../Denotational/#plfa_plfa-part3-Denotational-23687" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-23723" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23725" href="../Denotational/#plfa_plfa-part3-Denotational-23687" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23727" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23729" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-23737" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23747" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23749" href="../Denotational/#plfa_plfa-part3-Denotational-23668" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23751" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23753" href="../Denotational/#plfa_plfa-part3-Denotational-23689" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-23757" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23758" href="../Denotational/#plfa_plfa-part3-Denotational-23758" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23760" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-23763" href="../Denotational/#plfa_plfa-part3-Denotational-23763" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23767" href="../Denotational/#plfa_plfa-part3-Denotational-23656" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-23769" href="../Denotational/#plfa_plfa-part3-Denotational-23769" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-23772" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23774" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23777" href="../Denotational/#plfa_plfa-part3-Denotational-22938" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23785" href="../Denotational/#plfa_plfa-part3-Denotational-23763" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23789" href="../Denotational/#plfa_plfa-part3-Denotational-23769" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-23796" href="../Denotational/#plfa_plfa-part3-Denotational-23796" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23802" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23804" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23807" href="../Denotational/#plfa_plfa-part3-Denotational-23807" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23809" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23811" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23822" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23823" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23825" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23826" href="../Denotational/#plfa_plfa-part3-Denotational-23826" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23828" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23830" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23841" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23842" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23848" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23850" href="../Denotational/#plfa_plfa-part3-Denotational-23807" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23852" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23854" href="../Denotational/#plfa_plfa-part3-Denotational-23826" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23862" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23872" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23874" href="../Denotational/#plfa_plfa-part3-Denotational-23807" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23876" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23878" href="../Denotational/#plfa_plfa-part3-Denotational-23826" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23882" href="../Denotational/#plfa_plfa-part3-Denotational-23882" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23884" href="../Denotational/#plfa_plfa-part3-Denotational-23796" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-23888" href="../Denotational/#plfa_plfa-part3-Denotational-23888" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23893" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23896" href="../Denotational/#plfa_plfa-part3-Denotational-23888" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-23903" href="../Denotational/#plfa_plfa-part3-Denotational-23903" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-23906" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23908" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23910" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23911" href="../Denotational/#plfa_plfa-part3-Denotational-23911" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23913" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23915" href="../Denotational/#plfa_plfa-part3-Denotational-22012" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23926" href="../Denotational/#plfa_plfa-part3-Denotational-23486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23927" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-23935" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23945" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23947" href="../Denotational/#plfa_plfa-part3-Denotational-23911" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23949" href="../Denotational/#plfa_plfa-part3-Denotational-22506" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23951" href="../Denotational/#plfa_plfa-part3-Denotational-23911" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-23955" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23956" href="../Denotational/#plfa_plfa-part3-Denotational-23956" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23958" href="../Denotational/#plfa_plfa-part3-Denotational-23903" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-23959" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-23962" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23965" href="../Denotational/#plfa_plfa-part3-Denotational-22709" class="Function">≃-refl</a>
</pre><h2 id="后续章节的路线图">后续章节的路线图</h2><p>后续章节证明了指称语义拥有几个期望的性质。首先我们证明了语义是可组合的， 即，一个项的指称是其子项的指称的函数。为此我们需要证明以下形式的等式：</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>组合性的性质并不平凡，因为我们定义的语义包含三个非语法制导的规则： <code>⊥-intro</code>、<code>⊔-intro</code> 和 <code>sub</code>。上面的等式表明指称语义可以被定义为递归函数， 实际上，我们确实给出了这样的定义并证明它等价于 ℰ。</p><p>接下来我们研究指称语义和规约语义是否等价。回想一下，一个语言的语义的作用， 就是描述给定程序 <code>M</code> 的可观测行为。对于 λ-演算，我们可以做出多种选择， 但它们通常可以归结为一点信息：</p><ul><li>发散：程序 <code>M</code> 永远执行。</li><li>停机：程序 <code>M</code> 停止。</li></ul><p>我们可以用规约的项来刻画发散和停机：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (M —↠ ƛ N)</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>M —↠ ƛ N</code> 。</li></ul><p>我们也可以用指称来刻画发散和停机：</p><ul><li>发散：对于任意 <code>v</code> 和 <code>w</code>，有 <code>¬ (∅ ⊢ M ↓ v ↦ w)</code>。</li><li>停机：对于某个 <code>v</code> 和 <code>w</code>，有 <code>∅ ⊢ M ↓ v ↦ w</code>。</li></ul><p>此外，我们还可以用指称函数 <code>ℰ</code>：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (ℰ M ≃ ℰ (ƛ N))</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>ℰ M ≃ ℰ (ƛ N)</code>。</li></ul><p>所以问题在于规约语义和指称语义是否等价：</p><pre><code>(∃ N. M —↠ ƛ N)  当且仅当  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>我们将在第二章和第三章中讨论等价的每个方向。在第二章中，我们证明了 λ-抽象的规约蕴含 λ-抽象的指称相等。此性质在文献中被称为<strong>可靠性（Soundness）</strong>。</p><pre><code>M —↠ ƛ N  蕴含  ℰ M ≃ ℰ (ƛ N)</code></pre><p>在第三章中，我们证明了 λ-抽象的指称相等蕴含 λ-抽象的规约。 此性质在文献中被称为<strong>充分性（Adequacy）</strong>。</p><pre><code>ℰ M ≃ ℰ (ƛ N)  蕴含 M —↠ ƛ N′ 对于某个 N′</code></pre><p>第四章应用前三章的结果（组合性、可靠性和充分性）来证明指称相等蕴含一种称为 <strong>语境等价（Contextual Equivalence）</strong>的性质。这个性质很重要， 因为它保证了在证明程序变换（如性能优化）的正确性时使用指称相等的合理性。</p><p>我们会在本章剩下的部分中建立关于指称语义的一些基本结果， 所有这些性质的证明都依赖于此。我们先从一些关于重命名的引理开始， 它们与我们在前面的章节中见过的重命名引理非常相似。 我们以函数值小于关系的重要反演引理的证明作为结论。</p><h2 id="重命名保持指称不变">重命名保持指称不变</h2><p>我们将证明重命名变量并更改环境中对应的项仍能保持项的含义。 我们推广了重命名引理，以允许新环境中的值等于或大于原始值， 这种推广有助于证明规约蕴含了指称相等。</p><p>和以前一样，我们需要一个扩展引理来处理在 λ-抽象的情况下的证明。假设 <code>ρ</code> 是一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相等或更大值的变量。 这个引理说明了，扩展重命名会产生一个重命名 <code>ext r</code>，它将 <code>γ , v</code> 映射到 <code>δ , v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-29331" href="../Denotational/#plfa_plfa-part3-Denotational-29331" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29337" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29339" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-29341" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29342" href="../Denotational/#plfa_plfa-part3-Denotational-29342" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29344" href="../Denotational/#plfa_plfa-part3-Denotational-29344" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-29346" href="../Denotational/#plfa_plfa-part3-Denotational-29346" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29347" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29349" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29350" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29352" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29354" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29358" href="../Denotational/#plfa_plfa-part3-Denotational-29342" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-29359" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29361" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29362" href="../Denotational/#plfa_plfa-part3-Denotational-29362" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29364" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29366" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29370" href="../Denotational/#plfa_plfa-part3-Denotational-29344" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29371" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-29375" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29377" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29378" href="../Denotational/#plfa_plfa-part3-Denotational-29378" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29380" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29382" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-29389" href="../Denotational/#plfa_plfa-part3-Denotational-29342" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29391" href="../Denotational/#plfa_plfa-part3-Denotational-29344" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29392" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-29396" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29398" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29400" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29403" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29404" href="../Denotational/#plfa_plfa-part3-Denotational-29362" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29406" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29408" href="../Denotational/#plfa_plfa-part3-Denotational-29378" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29409" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-29415" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-29448" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29450" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29451" href="../Denotational/#plfa_plfa-part3-Denotational-29350" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29453" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29456" href="../Denotational/#plfa_plfa-part3-Denotational-29346" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29457" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29459" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29462" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-29464" href="../Denotational/#plfa_plfa-part3-Denotational-29362" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29466" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29469" href="../Denotational/#plfa_plfa-part3-Denotational-29346" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29470" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29472" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29474" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-29478" href="../Denotational/#plfa_plfa-part3-Denotational-29378" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29479" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-29481" href="../Denotational/#plfa_plfa-part3-Denotational-29331" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29487" href="../Denotational/#plfa_plfa-part3-Denotational-29487" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29489" href="../Denotational/#plfa_plfa-part3-Denotational-29489" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29492" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-29494" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29496" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-29503" href="../Denotational/#plfa_plfa-part3-Denotational-29331" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29509" href="../Denotational/#plfa_plfa-part3-Denotational-29509" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29511" href="../Denotational/#plfa_plfa-part3-Denotational-29511" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29514" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29515" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-29517" href="../Denotational/#plfa_plfa-part3-Denotational-29517" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-29519" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29521" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29523" href="../Denotational/#plfa_plfa-part3-Denotational-29511" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29526" href="../Denotational/#plfa_plfa-part3-Denotational-29517" class="Bound">n′</a>
</pre><p>我们对 de Bruijn 索引 <code>n</code> 分情况来证明：</p><ul><li><p>若索引为 <code>Z</code>，那么我们只需证明 <code>v ⊑ v</code>，它根据 <code>⊑-refl</code> 成立。</p></li><li><p>若索引为 <code>S n′</code>，则目标简化为 <code>γ n′ ⊑ δ (ρ n′)</code>，它是前提的一个实例。</p></li></ul><p>接着是重命名引理的证明。假设我们有一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相同值的变量。若在环境 <code>γ</code> 中 <code>M</code> 求值为 <code>v</code>，则对 <code>M</code> 应用重命名会生成一个程序，它在环境 <code>δ</code> 中求值会产生相同的值 <code>v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-30343" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30355" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30357" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-30359" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30360" href="../Denotational/#plfa_plfa-part3-Denotational-30360" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30362" href="../Denotational/#plfa_plfa-part3-Denotational-30362" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-30364" href="../Denotational/#plfa_plfa-part3-Denotational-30364" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30365" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30367" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30368" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30370" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30372" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30376" href="../Denotational/#plfa_plfa-part3-Denotational-30360" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-30377" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30379" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30380" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30382" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30384" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30388" href="../Denotational/#plfa_plfa-part3-Denotational-30362" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30389" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30391" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30392" href="../Denotational/#plfa_plfa-part3-Denotational-30392" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30394" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30396" href="../Denotational/#plfa_plfa-part3-Denotational-30360" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30398" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30400" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-30401" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-30405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30407" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30408" href="../Denotational/#plfa_plfa-part3-Denotational-30408" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30410" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30412" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-30419" href="../Denotational/#plfa_plfa-part3-Denotational-30360" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30421" href="../Denotational/#plfa_plfa-part3-Denotational-30362" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30422" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30426" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30428" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30430" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-30433" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30434" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30436" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-30438" href="../Denotational/#plfa_plfa-part3-Denotational-30408" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30439" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30443" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30445" href="../Denotational/#plfa_plfa-part3-Denotational-30368" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30447" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30449" href="../Denotational/#plfa_plfa-part3-Denotational-30392" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30451" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30453" href="../Denotational/#plfa_plfa-part3-Denotational-30364" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-30459" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-30483" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30485" href="../Denotational/#plfa_plfa-part3-Denotational-30380" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30487" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30489" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30490" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-30497" href="../Denotational/#plfa_plfa-part3-Denotational-30408" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30499" href="../Denotational/#plfa_plfa-part3-Denotational-30392" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-30500" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30502" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30504" href="../Denotational/#plfa_plfa-part3-Denotational-30364" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30506" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30518" href="../Denotational/#plfa_plfa-part3-Denotational-30518" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30520" href="../Denotational/#plfa_plfa-part3-Denotational-30520" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30523" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30524" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30528" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30529" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-30531" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30533" href="../Denotational/#plfa_plfa-part3-Denotational-30533" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30534" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-30537" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30539" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30543" href="../Denotational/#plfa_plfa-part3-Denotational-11520" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30548" href="../Denotational/#plfa_plfa-part3-Denotational-30520" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30551" href="../Denotational/#plfa_plfa-part3-Denotational-30533" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30552" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30554" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30566" href="../Denotational/#plfa_plfa-part3-Denotational-30566" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30568" href="../Denotational/#plfa_plfa-part3-Denotational-30568" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30571" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30572" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30579" href="../Denotational/#plfa_plfa-part3-Denotational-30579" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30581" href="../Denotational/#plfa_plfa-part3-Denotational-30581" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30583" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30585" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30590" href="../Denotational/#plfa_plfa-part3-Denotational-11595" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30597" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30598" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30610" href="../Denotational/#plfa_plfa-part3-Denotational-30566" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30612" href="../Denotational/#plfa_plfa-part3-Denotational-30568" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30615" href="../Denotational/#plfa_plfa-part3-Denotational-30579" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30616" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30618" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30619" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30631" href="../Denotational/#plfa_plfa-part3-Denotational-30566" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30633" href="../Denotational/#plfa_plfa-part3-Denotational-30568" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30636" href="../Denotational/#plfa_plfa-part3-Denotational-30581" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30638" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30640" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30652" href="../Denotational/#plfa_plfa-part3-Denotational-30652" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30654" href="../Denotational/#plfa_plfa-part3-Denotational-30654" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30657" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30658" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30666" href="../Denotational/#plfa_plfa-part3-Denotational-30666" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30667" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30669" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30674" href="../Denotational/#plfa_plfa-part3-Denotational-11717" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30682" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30683" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30695" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30696" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-30700" href="../Denotational/#plfa_plfa-part3-Denotational-30652" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30701" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30703" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30704" href="../Denotational/#plfa_plfa-part3-Denotational-29331" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-30710" href="../Denotational/#plfa_plfa-part3-Denotational-30652" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30712" href="../Denotational/#plfa_plfa-part3-Denotational-30654" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-30714" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30716" href="../Denotational/#plfa_plfa-part3-Denotational-30666" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30717" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30719" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30731" href="../Denotational/#plfa_plfa-part3-Denotational-30731" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30733" href="../Denotational/#plfa_plfa-part3-Denotational-30733" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30736" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-30744" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30746" href="../Denotational/#plfa_plfa-part3-Denotational-11829" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-30754" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30766" href="../Denotational/#plfa_plfa-part3-Denotational-30766" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30768" href="../Denotational/#plfa_plfa-part3-Denotational-30768" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30771" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30772" href="../Denotational/#plfa_plfa-part3-Denotational-11896" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30780" href="../Denotational/#plfa_plfa-part3-Denotational-30780" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30782" href="../Denotational/#plfa_plfa-part3-Denotational-30782" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30784" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30786" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30791" href="../Denotational/#plfa_plfa-part3-Denotational-11896" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30799" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30800" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30812" href="../Denotational/#plfa_plfa-part3-Denotational-30766" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30814" href="../Denotational/#plfa_plfa-part3-Denotational-30768" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30817" href="../Denotational/#plfa_plfa-part3-Denotational-30780" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30818" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30820" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30821" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30833" href="../Denotational/#plfa_plfa-part3-Denotational-30766" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30835" href="../Denotational/#plfa_plfa-part3-Denotational-30768" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30838" href="../Denotational/#plfa_plfa-part3-Denotational-30782" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30840" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30842" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30854" href="../Denotational/#plfa_plfa-part3-Denotational-30854" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30856" href="../Denotational/#plfa_plfa-part3-Denotational-30856" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30859" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30860" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30864" href="../Denotational/#plfa_plfa-part3-Denotational-30864" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30866" href="../Denotational/#plfa_plfa-part3-Denotational-30866" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-30869" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30871" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30876" href="../Denotational/#plfa_plfa-part3-Denotational-12011" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30880" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30881" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30893" href="../Denotational/#plfa_plfa-part3-Denotational-30854" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30895" href="../Denotational/#plfa_plfa-part3-Denotational-30856" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30898" href="../Denotational/#plfa_plfa-part3-Denotational-30864" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30899" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30901" href="../Denotational/#plfa_plfa-part3-Denotational-30866" class="Bound">lt′</a>
</pre><p>证明通过对 <code>M</code> 的语义进行归纳而得出。如你所见，除了变量和 λ-的情况外，其他情况都很简单。</p><ul><li><p>对于 <code>x</code>，我们根据前提来证明 <code>γ x ⊑ δ (ρ x)</code>。</p></li><li><p>对于 λ-抽象，归纳假设需要我们扩展重命名。我们扩展了它并使用 <code>ext-⊑</code> 引理来证明，扩展重命名会将变量映射到具有等价的值的变量。</p></li></ul><h2 id="环境增强与恒等重命名">环境增强与恒等重命名</h2><p>我们还需要一个重命名引理的推论，即用更大（或更强）的环境替换当前环境， 并不会改变项 <code>M</code> 是否产生特定的值 <code>v</code>。具体来说，即若 <code>γ ⊢ M ↓ v</code> 且 <code>γ ⊑ δ</code>，则 <code>δ ⊢ M ↓ v</code>。那么这和重命名有何关联呢？ 它其实就是用恒等函数来重命名。我们以恒等重命名来应用重命名引理， 会得到 <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>，之后应用 <code>rename-id</code> 引理就会得到 <code>δ ⊢ M ↓ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-32344" href="../Denotational/#plfa_plfa-part3-Denotational-32344" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32350" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32352" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32354" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-32355" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32356" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32358" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32359" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32361" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32363" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32367" href="../Denotational/#plfa_plfa-part3-Denotational-32355" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32368" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32370" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32371" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32373" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32375" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32379" href="../Denotational/#plfa_plfa-part3-Denotational-32355" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32380" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32382" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32383" href="../Denotational/#plfa_plfa-part3-Denotational-32383" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32385" href="../Denotational/#plfa_plfa-part3-Denotational-32385" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32386" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32390" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32392" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32394" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32396" href="../Denotational/#plfa_plfa-part3-Denotational-32383" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32398" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32400" href="../Denotational/#plfa_plfa-part3-Denotational-32385" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32404" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32406" href="../Denotational/#plfa_plfa-part3-Denotational-32359" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32408" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32411" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-32417" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-32430" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32432" href="../Denotational/#plfa_plfa-part3-Denotational-32371" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32434" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32436" href="../Denotational/#plfa_plfa-part3-Denotational-32383" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32438" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32440" href="../Denotational/#plfa_plfa-part3-Denotational-32385" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32442" href="../Denotational/#plfa_plfa-part3-Denotational-32344" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-32447" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32448" href="../Denotational/#plfa_plfa-part3-Denotational-32448" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32449" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32451" href="../Denotational/#plfa_plfa-part3-Denotational-32451" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32452" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32454" href="../Denotational/#plfa_plfa-part3-Denotational-32454" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32455" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32457" href="../Denotational/#plfa_plfa-part3-Denotational-32457" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32458" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32460" href="../Denotational/#plfa_plfa-part3-Denotational-32460" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32461" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32463" href="../Denotational/#plfa_plfa-part3-Denotational-32463" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32465" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-32474" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32479" href="../Denotational/#plfa_plfa-part3-Denotational-30343" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-32490" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32491" href="../Denotational/#plfa_plfa-part3-Denotational-32448" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32492" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32494" href="../Denotational/#plfa_plfa-part3-Denotational-32448" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32495" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32497" href="../Denotational/#plfa_plfa-part3-Denotational-32460" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32498" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32500" href="../Denotational/#plfa_plfa-part3-Denotational-32451" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32501" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32503" href="../Denotational/#plfa_plfa-part3-Denotational-32454" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32504" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32506" href="../Denotational/#plfa_plfa-part3-Denotational-32457" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32507" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32509" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32512" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32513" href="../Denotational/#plfa_plfa-part3-Denotational-32513" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-32514" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32516" href="../Denotational/#plfa_plfa-part3-Denotational-32516" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-32518" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32520" href="../Denotational/#plfa_plfa-part3-Denotational-32516" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-32521" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32523" href="../Denotational/#plfa_plfa-part3-Denotational-32465" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32526" href="../Denotational/#plfa_plfa-part3-Denotational-32463" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-32528" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32532" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32534" href="../Denotational/#plfa_plfa-part3-Denotational-32534" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-32544" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-32552" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-32562" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32563" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32564" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32566" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-32567" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32569" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32570" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32572" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-32580" href="../Denotational/#plfa_plfa-part3-Denotational-32534" class="Bound">δ⊢id[M]↓v</a>
</pre><p>在代换反映了指称的证明中，对于 λ-抽象这一情况，我们使用 <code>⊑-env</code> 的一个小变体，其中只有环境中的最后一个元素变大：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-32866" href="../Denotational/#plfa_plfa-part3-Denotational-32866" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32873" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32875" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32877" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32878" href="../Denotational/#plfa_plfa-part3-Denotational-32878" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32879" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32881" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32882" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32884" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32886" href="../Denotational/#plfa_plfa-part3-Denotational-8742" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32890" href="../Denotational/#plfa_plfa-part3-Denotational-32878" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32891" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32893" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32894" href="../Denotational/#plfa_plfa-part3-Denotational-32894" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32896" href="../Denotational/#plfa_plfa-part3-Denotational-32896" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32898" href="../Denotational/#plfa_plfa-part3-Denotational-32898" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32901" href="../Denotational/#plfa_plfa-part3-Denotational-32901" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32903" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32907" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32909" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32910" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32912" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32915" href="../Denotational/#plfa_plfa-part3-Denotational-32898" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32917" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32919" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32921" href="../Denotational/#plfa_plfa-part3-Denotational-32894" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32923" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32925" href="../Denotational/#plfa_plfa-part3-Denotational-32896" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32929" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32931" href="../Denotational/#plfa_plfa-part3-Denotational-32898" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32934" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32936" href="../Denotational/#plfa_plfa-part3-Denotational-32901" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-32943" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-32963" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32965" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32966" href="../Denotational/#plfa_plfa-part3-Denotational-32882" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32968" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32971" href="../Denotational/#plfa_plfa-part3-Denotational-32901" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32973" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32975" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32977" href="../Denotational/#plfa_plfa-part3-Denotational-32894" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32979" href="../Denotational/#plfa_plfa-part3-Denotational-11466" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32981" href="../Denotational/#plfa_plfa-part3-Denotational-32896" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32983" href="../Denotational/#plfa_plfa-part3-Denotational-32866" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32990" href="../Denotational/#plfa_plfa-part3-Denotational-32990" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32992" href="../Denotational/#plfa_plfa-part3-Denotational-32992" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32995" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32997" href="../Denotational/#plfa_plfa-part3-Denotational-32344" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-33003" href="../Denotational/#plfa_plfa-part3-Denotational-32990" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-33005" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33006" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33013" href="../Denotational/#plfa_plfa-part3-Denotational-32992" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-33015" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33019" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-33027" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33034" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33036" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-33038" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-33039" href="../Denotational/#plfa_plfa-part3-Denotational-33039" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33041" href="../Denotational/#plfa_plfa-part3-Denotational-33041" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33044" href="../Denotational/#plfa_plfa-part3-Denotational-33044" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33046" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33048" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33050" href="../Denotational/#plfa_plfa-part3-Denotational-33041" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33053" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-33055" href="../Denotational/#plfa_plfa-part3-Denotational-33044" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-33058" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33060" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33061" href="../Denotational/#plfa_plfa-part3-Denotational-33039" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33063" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33066" href="../Denotational/#plfa_plfa-part3-Denotational-33041" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-33068" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33070" href="../Denotational/#plfa_plfa-part3-Denotational-9708" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-33073" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33074" href="../Denotational/#plfa_plfa-part3-Denotational-33039" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33076" href="../Denotational/#plfa_plfa-part3-Denotational-8930" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33079" href="../Denotational/#plfa_plfa-part3-Denotational-33044" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33081" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33085" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33092" href="../Denotational/#plfa_plfa-part3-Denotational-33092" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33095" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-33097" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33099" href="../Denotational/#plfa_plfa-part3-Denotational-33092" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-33104" href="../Denotational/#plfa_plfa-part3-Denotational-33027" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33111" href="../Denotational/#plfa_plfa-part3-Denotational-33111" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33114" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33115" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-33117" href="../Denotational/#plfa_plfa-part3-Denotational-33117" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33118" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33120" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33122" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>
</pre><h4 id="练习-denot-church推荐">练习 <code>denot-church</code>（推荐）</h4><p>在路径的表达上，丘奇数比自然数更通用。一条路径由 <code>n</code> 条边和 <code>n + 1</code> 个顶点构成。 我们将顶点逆序存储在长度为 <code>n + 1</code> 的向量中。路径中的边将第 <code>i</code> 个顶点映射到第 <code>i + 1</code> 个顶点。以下函数 <code>D^suc</code>（表示后继（successor）的指称）构造了一个表， 其中的条目是路径上所有的边：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-33790" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33796" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33798" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33799" href="../Denotational/#plfa_plfa-part3-Denotational-33799" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-33801" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33803" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-33804" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33806" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33808" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-33812" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-33818" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33819" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33823" href="../Denotational/#plfa_plfa-part3-Denotational-33799" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33824" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33826" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33828" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33834" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33840" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-33845" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33846" href="../Denotational/#plfa_plfa-part3-Denotational-33846" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-33851" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33853" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-33855" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33857" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33859" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33861" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33867" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33868" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33872" href="../Denotational/#plfa_plfa-part3-Denotational-33872" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-33873" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33875" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33876" href="../Denotational/#plfa_plfa-part3-Denotational-33876" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-33883" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33885" href="../Denotational/#plfa_plfa-part3-Denotational-33885" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33890" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33892" href="../Denotational/#plfa_plfa-part3-Denotational-33892" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33894" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33896" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-33899" href="../Denotational/#plfa_plfa-part3-Denotational-33885" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33904" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33906" href="../Denotational/#plfa_plfa-part3-Denotational-33876" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-33914" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-33917" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33923" href="../Denotational/#plfa_plfa-part3-Denotational-33872" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-33925" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33926" href="../Denotational/#plfa_plfa-part3-Denotational-33885" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33931" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33933" href="../Denotational/#plfa_plfa-part3-Denotational-33892" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33935" class="Symbol">)</a>
</pre><p>我们用以下辅助函数来获取非空向量的第一个元素（就我们的目的而言，这种表示方式比 Agda 标准库中的更加方便）。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-34206" href="../Denotational/#plfa_plfa-part3-Denotational-34206" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34215" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34217" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34219" href="../Denotational/#plfa_plfa-part3-Denotational-34219" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34221" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34223" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34224" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34226" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34228" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34232" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34238" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34239" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34243" href="../Denotational/#plfa_plfa-part3-Denotational-34219" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34244" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34246" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34248" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34254" href="../Denotational/#plfa_plfa-part3-Denotational-34206" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34263" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34264" class="Number">0</a><a id="plfa_plfa-part3-Denotational-34265" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34267" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34268" href="../Denotational/#plfa_plfa-part3-Denotational-34268" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34270" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34272" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-34274" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34276" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34278" href="../Denotational/#plfa_plfa-part3-Denotational-34268" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-34280" href="../Denotational/#plfa_plfa-part3-Denotational-34206" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34289" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34290" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34294" href="../Denotational/#plfa_plfa-part3-Denotational-34294" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34295" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34297" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34298" href="../Denotational/#plfa_plfa-part3-Denotational-34298" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34300" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34302" href="../Denotational/#plfa_plfa-part3-Denotational-34302" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34304" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34306" href="../Denotational/#plfa_plfa-part3-Denotational-34306" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34308" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34310" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34312" href="../Denotational/#plfa_plfa-part3-Denotational-34206" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34321" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34322" href="../Denotational/#plfa_plfa-part3-Denotational-34302" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34324" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34326" href="../Denotational/#plfa_plfa-part3-Denotational-34306" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34328" class="Symbol">)</a>
</pre><p>函数 <code>Dᶜ</code> 计算给定的路径上第 <code>n</code> 个丘奇数的指称。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-34471" href="../Denotational/#plfa_plfa-part3-Denotational-34471" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34474" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34476" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34477" href="../Denotational/#plfa_plfa-part3-Denotational-34477" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34479" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34481" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34482" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34484" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34486" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34490" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34496" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34497" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34501" href="../Denotational/#plfa_plfa-part3-Denotational-34477" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34502" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34504" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34506" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34512" href="../Denotational/#plfa_plfa-part3-Denotational-34471" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34515" href="../Denotational/#plfa_plfa-part3-Denotational-34515" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34517" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34518" href="../Denotational/#plfa_plfa-part3-Denotational-34518" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34523" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34525" href="../Denotational/#plfa_plfa-part3-Denotational-34525" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34527" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34529" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34531" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34532" href="../Denotational/#plfa_plfa-part3-Denotational-33790" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-34538" href="../Denotational/#plfa_plfa-part3-Denotational-34515" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34540" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34541" href="../Denotational/#plfa_plfa-part3-Denotational-34518" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34546" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34548" href="../Denotational/#plfa_plfa-part3-Denotational-34525" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34550" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34553" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34555" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34556" href="../Denotational/#plfa_plfa-part3-Denotational-34206" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34565" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34566" href="../Denotational/#plfa_plfa-part3-Denotational-34518" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34571" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34573" href="../Denotational/#plfa_plfa-part3-Denotational-34525" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34575" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34578" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34580" href="../Denotational/#plfa_plfa-part3-Denotational-34518" class="Bound">a[n]</a>
</pre><ul><li><p><code>0</code> 的丘奇数忽略其第一个参数并返回第二个参数，因此对于只由 <code>a[0]</code> 构成的单例路径，其指称为</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li></ul><ul><li><p><code>suc n</code> 的丘奇数接受两个参数：一个后继函数，其指称由 <code>D^suc</code> 给定， 以及一个路径的起点（向量的最后一个元素）。它返回路径中的第 <code>n + 1</code> 个节点。</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>此练习证明了对于任意路径 <code>ls</code>，邱奇数 <code>n</code> 的含义是 <code>Dᶜ n ls</code>。</p><p>为了便于讨论任意丘奇数，以下 <code>church</code> 函数通过辅助函数 <code>apply-n</code> 来构建第 <code>n</code> 个丘奇数的项：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-35639" href="../Denotational/#plfa_plfa-part3-Denotational-35639" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35647" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35649" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35650" href="../Denotational/#plfa_plfa-part3-Denotational-35650" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35652" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35654" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35655" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35657" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35659" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35661" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35663" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35665" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35667" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35669" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35671" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35673" href="../Denotational/#plfa_plfa-part3-Denotational-35639" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35681" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-35686" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35688" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35690" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-35692" href="../Denotational/#plfa_plfa-part3-Denotational-35639" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35700" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35701" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-35705" href="../Denotational/#plfa_plfa-part3-Denotational-35705" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-35706" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35708" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35710" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35712" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-35714" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-35716" href="../Denotational/#plfa_plfa-part3-Denotational-35639" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35724" href="../Denotational/#plfa_plfa-part3-Denotational-35705" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-35727" href="../Denotational/#plfa_plfa-part3-Denotational-35727" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35734" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35736" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35737" href="../Denotational/#plfa_plfa-part3-Denotational-35737" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35739" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35741" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35742" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35744" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35746" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35748" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35750" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35752" href="../Denotational/#plfa_plfa-part3-Denotational-35727" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35759" href="../Denotational/#plfa_plfa-part3-Denotational-35759" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35761" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35763" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35765" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35767" href="../Denotational/#plfa_plfa-part3-Denotational-35639" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35775" href="../Denotational/#plfa_plfa-part3-Denotational-35759" class="Bound">n</a>
</pre><p>证明以下定理：</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-35924" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="函数小于关系的反演">函数小于关系的反演</h2><p>已知函数 <code>v ↦ w</code> 小于某个值 <code>u</code>，我们可以推断出什么？关于 <code>u</code> 我们可以推断出什么？问题的答案被称为「函数小于」的<strong>反演性（Inversion）</strong>。 这个问题并不容易回答，因为 <code>⊑-dist</code> 规则将左侧的函数与右侧的一对函数联系了起来。 因此，<code>u</code> 可能包含多个与 <code>v ↦ w</code> 相关的一组函数。此外，由于规则 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code>，<code>u</code> 中可能还有别的值（如 <code>⊥</code>）与 <code>v ↦ w</code> 无关。但总的来说， 我们可以推断出 <code>u</code> 包含了一组函数，其中它们的定义域的连接小于 <code>v</code>，而它们的陪域的连接大于 <code>w</code>。</p><p>为了精确陈述并证明这种反演性，我们需要定义「一个值<strong>包含</strong>一组值的含义。 我们还需要定义如何计算它们的定义域和陪域的连接。</p><h3 id="值的成员关系与包含关系">值的成员关系与包含关系</h3><p>前面我们将值视作一个集合，它由条目以及类似并集的连接运算符 <code>v ⊔ w</code> 组成。 函数值 <code>v ↦ w</code> 和底值 <code>⊥</code> 构成了集合的两种元素（在其他语境下，人们可能将 <code>⊥</code> 视作空集，但在这里我们必须将它视为一个元素）。我们用 <code>u ∈ v</code>表示 <code>u</code> 是 <code>v</code> 的一个元素，定义如下：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-37976" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-37982" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-37984" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-37989" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-37993" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37995" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38001" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38003" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38009" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38011" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38015" href="../Denotational/#plfa_plfa-part3-Denotational-38015" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38017" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38019" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-38021" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38023" href="../Denotational/#plfa_plfa-part3-Denotational-38015" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38025" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-38027" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-38029" href="../Denotational/#plfa_plfa-part3-Denotational-38029" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38031" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38033" href="../Denotational/#plfa_plfa-part3-Denotational-38033" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38035" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38037" href="../Denotational/#plfa_plfa-part3-Denotational-38037" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38039" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38041" href="../Denotational/#plfa_plfa-part3-Denotational-38029" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38043" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-38045" href="../Denotational/#plfa_plfa-part3-Denotational-38033" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38047" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38049" href="../Denotational/#plfa_plfa-part3-Denotational-38037" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-38051" href="../Denotational/#plfa_plfa-part3-Denotational-38051" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38053" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38055" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38056" href="../Denotational/#plfa_plfa-part3-Denotational-38056" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38058" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38060" href="../Denotational/#plfa_plfa-part3-Denotational-38060" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38061" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38063" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38065" href="../Denotational/#plfa_plfa-part3-Denotational-38051" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38067" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38069" href="../Denotational/#plfa_plfa-part3-Denotational-38056" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38071" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-38073" href="../Denotational/#plfa_plfa-part3-Denotational-38051" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38075" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38077" href="../Denotational/#plfa_plfa-part3-Denotational-38060" class="Bound">w</a>
</pre><p>于是我们可以简单地将一组值表示为一个值。我们用 <code>v ⊆ w</code> 表示 <code>v</code> 的所有元素也都属于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-38290" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-38296" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-38298" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-38303" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-38307" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38309" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38315" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38317" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38323" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38325" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38329" href="../Denotational/#plfa_plfa-part3-Denotational-38329" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38331" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38333" href="../Denotational/#plfa_plfa-part3-Denotational-38333" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38335" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38337" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38339" href="../Denotational/#plfa_plfa-part3-Denotational-38339" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38340" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38342" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38344" href="../Denotational/#plfa_plfa-part3-Denotational-38339" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38346" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38348" href="../Denotational/#plfa_plfa-part3-Denotational-38329" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38350" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38352" href="../Denotational/#plfa_plfa-part3-Denotational-38339" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38354" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38356" href="../Denotational/#plfa_plfa-part3-Denotational-38333" class="Bound">w</a>
</pre><p>值的成员与包含关系的概念和小于关系密切相关， 它们是蕴含了小于关系的更狭义的关系，反之则不然。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-38628" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38632" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38634" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38636" href="../Denotational/#plfa_plfa-part3-Denotational-38636" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38638" href="../Denotational/#plfa_plfa-part3-Denotational-38638" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38640" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38642" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38647" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38653" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38655" href="../Denotational/#plfa_plfa-part3-Denotational-38636" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38657" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38659" href="../Denotational/#plfa_plfa-part3-Denotational-38638" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38667" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38679" href="../Denotational/#plfa_plfa-part3-Denotational-38636" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38681" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38683" href="../Denotational/#plfa_plfa-part3-Denotational-38638" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38685" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38689" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38690" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-38691" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38692" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38694" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38695" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38696" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38698" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38703" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38705" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38711" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38715" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38716" href="../Denotational/#plfa_plfa-part3-Denotational-38716" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38718" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38720" href="../Denotational/#plfa_plfa-part3-Denotational-38720" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38721" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38723" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38724" href="../Denotational/#plfa_plfa-part3-Denotational-38716" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38726" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38728" href="../Denotational/#plfa_plfa-part3-Denotational-38720" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38729" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38731" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38736" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38738" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-38745" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38749" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38750" href="../Denotational/#plfa_plfa-part3-Denotational-38750" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38751" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38753" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38754" href="../Denotational/#plfa_plfa-part3-Denotational-38754" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38756" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38758" href="../Denotational/#plfa_plfa-part3-Denotational-38758" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38759" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38761" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38762" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38767" href="../Denotational/#plfa_plfa-part3-Denotational-38767" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38768" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38770" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38772" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-38782" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38783" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38787" href="../Denotational/#plfa_plfa-part3-Denotational-38767" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38788" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-38790" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38794" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38795" href="../Denotational/#plfa_plfa-part3-Denotational-38795" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38796" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38798" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38799" href="../Denotational/#plfa_plfa-part3-Denotational-38799" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38801" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38803" href="../Denotational/#plfa_plfa-part3-Denotational-38803" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38804" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38807" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38812" href="../Denotational/#plfa_plfa-part3-Denotational-38812" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38813" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38815" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38817" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-38827" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38828" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38832" href="../Denotational/#plfa_plfa-part3-Denotational-38812" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38833" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-38836" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38840" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38842" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38844" href="../Denotational/#plfa_plfa-part3-Denotational-38844" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38846" href="../Denotational/#plfa_plfa-part3-Denotational-38846" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38848" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38850" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38855" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38861" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38863" href="../Denotational/#plfa_plfa-part3-Denotational-38844" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38865" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38867" href="../Denotational/#plfa_plfa-part3-Denotational-38846" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38875" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38885" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38887" href="../Denotational/#plfa_plfa-part3-Denotational-38844" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38889" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38891" href="../Denotational/#plfa_plfa-part3-Denotational-38846" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38893" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38897" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38898" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38899" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38901" href="../Denotational/#plfa_plfa-part3-Denotational-38901" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38903" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38908" href="../Denotational/#plfa_plfa-part3-Denotational-38901" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38910" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38911" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38912" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38914" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38919" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38923" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38925" href="../Denotational/#plfa_plfa-part3-Denotational-38925" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38927" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38929" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38935" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38939" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38940" href="../Denotational/#plfa_plfa-part3-Denotational-38940" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38942" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38944" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38946" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38948" href="../Denotational/#plfa_plfa-part3-Denotational-38948" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38950" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38955" href="../Denotational/#plfa_plfa-part3-Denotational-38948" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38957" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38958" href="../Denotational/#plfa_plfa-part3-Denotational-38940" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38960" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38962" href="../Denotational/#plfa_plfa-part3-Denotational-38944" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38964" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38966" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38971" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38975" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38977" href="../Denotational/#plfa_plfa-part3-Denotational-38977" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38979" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38981" href="../Denotational/#plfa_plfa-part3-Denotational-38628" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38985" href="../Denotational/#plfa_plfa-part3-Denotational-38977" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38987" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38991" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38992" href="../Denotational/#plfa_plfa-part3-Denotational-38992" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38994" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38996" href="../Denotational/#plfa_plfa-part3-Denotational-38996" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38998" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-39000" href="../Denotational/#plfa_plfa-part3-Denotational-39000" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39002" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39004" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-39013" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39014" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-39018" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39021" href="../Denotational/#plfa_plfa-part3-Denotational-39021" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39023" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39025" href="../Denotational/#plfa_plfa-part3-Denotational-39000" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39027" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39028" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39033" href="../Denotational/#plfa_plfa-part3-Denotational-39021" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39034" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-39038" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39039" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-39043" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39046" href="../Denotational/#plfa_plfa-part3-Denotational-39046" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39048" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39050" href="../Denotational/#plfa_plfa-part3-Denotational-39000" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39052" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39053" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39058" href="../Denotational/#plfa_plfa-part3-Denotational-39046" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39059" class="Symbol">)))</a>
</pre><p>我们还需要一些值的包含关系的反演法则。如果 <code>u</code> 和 <code>v</code> 的并含于 <code>w</code>， 那么 <code>u</code> 和 <code>v</code> 自然都含于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-39326" href="../Denotational/#plfa_plfa-part3-Denotational-39326" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39333" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39335" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39337" href="../Denotational/#plfa_plfa-part3-Denotational-39337" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39339" href="../Denotational/#plfa_plfa-part3-Denotational-39339" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39341" href="../Denotational/#plfa_plfa-part3-Denotational-39341" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39343" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39345" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39350" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-39359" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39361" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39362" href="../Denotational/#plfa_plfa-part3-Denotational-39337" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39364" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39366" href="../Denotational/#plfa_plfa-part3-Denotational-39339" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-39367" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39369" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39371" href="../Denotational/#plfa_plfa-part3-Denotational-39341" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-39382" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-39405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39407" href="../Denotational/#plfa_plfa-part3-Denotational-39337" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39409" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39411" href="../Denotational/#plfa_plfa-part3-Denotational-39341" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-39414" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-39417" href="../Denotational/#plfa_plfa-part3-Denotational-39339" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39419" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39421" href="../Denotational/#plfa_plfa-part3-Denotational-39341" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-39423" href="../Denotational/#plfa_plfa-part3-Denotational-39326" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39430" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39434" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39436" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39438" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39441" href="../Denotational/#plfa_plfa-part3-Denotational-39441" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39443" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39445" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39449" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39450" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39455" href="../Denotational/#plfa_plfa-part3-Denotational-39441" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39456" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39459" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39461" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39464" href="../Denotational/#plfa_plfa-part3-Denotational-39464" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39466" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39468" href="../Denotational/#plfa_plfa-part3-Denotational-39430" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39472" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39473" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39478" href="../Denotational/#plfa_plfa-part3-Denotational-39464" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39479" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39482" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
</pre><p>在我们的值的表示中，<code>v ↦ w</code> 既是一个元素，又是一个单例集。因此如果 <code>v ↦ w</code> 是 <code>u</code> 的一个子集，那么 <code>v ↦ w</code> 必定是 <code>u</code> 的一个成员。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-39765" href="../Denotational/#plfa_plfa-part3-Denotational-39765" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39770" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39772" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39774" href="../Denotational/#plfa_plfa-part3-Denotational-39774" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39776" href="../Denotational/#plfa_plfa-part3-Denotational-39776" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39778" href="../Denotational/#plfa_plfa-part3-Denotational-39778" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39780" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39782" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39787" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-39794" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39796" href="../Denotational/#plfa_plfa-part3-Denotational-39774" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39798" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39800" href="../Denotational/#plfa_plfa-part3-Denotational-39776" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39802" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39804" href="../Denotational/#plfa_plfa-part3-Denotational-39778" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-39813" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-39828" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39830" href="../Denotational/#plfa_plfa-part3-Denotational-39774" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39832" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39834" href="../Denotational/#plfa_plfa-part3-Denotational-39776" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39836" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-39838" href="../Denotational/#plfa_plfa-part3-Denotational-39778" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-39840" href="../Denotational/#plfa_plfa-part3-Denotational-39765" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39845" href="../Denotational/#plfa_plfa-part3-Denotational-39845" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39850" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39852" href="../Denotational/#plfa_plfa-part3-Denotational-39845" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39857" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h3 id="函数值">函数值</h3><p>为了识别函数的集合，我们定义了以下两个谓词。如果 <code>u</code> 是一个函数值， 即对于某些值 <code>v</code> 和 <code>w</code>，有 <code>u ≡ v ↦ w</code>，我们就记作 <code>Fun u</code>。 如果 <code>v</code> 中的所有元素都是函数，我们就记作 <code>all-funs v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-40287" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-40292" href="../Denotational/#plfa_plfa-part3-Denotational-40292" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40296" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40298" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40304" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40306" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-40310" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-40318" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40322" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40324" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40326" href="../Denotational/#plfa_plfa-part3-Denotational-40326" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40328" href="../Denotational/#plfa_plfa-part3-Denotational-40328" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40330" href="../Denotational/#plfa_plfa-part3-Denotational-40330" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40331" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40333" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40335" href="../Denotational/#plfa_plfa-part3-Denotational-40326" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40337" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-40339" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40340" href="../Denotational/#plfa_plfa-part3-Denotational-40328" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40342" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40344" href="../Denotational/#plfa_plfa-part3-Denotational-40330" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40345" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40347" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40349" href="../Denotational/#plfa_plfa-part3-Denotational-40292" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40353" href="../Denotational/#plfa_plfa-part3-Denotational-40326" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-40356" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40365" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40367" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40373" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40375" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-40379" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40388" href="../Denotational/#plfa_plfa-part3-Denotational-40388" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40390" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40392" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40394" href="../Denotational/#plfa_plfa-part3-Denotational-40394" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40395" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40397" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40399" href="../Denotational/#plfa_plfa-part3-Denotational-40394" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40401" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40403" href="../Denotational/#plfa_plfa-part3-Denotational-40388" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40407" href="../Denotational/#plfa_plfa-part3-Denotational-40292" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40411" href="../Denotational/#plfa_plfa-part3-Denotational-40394" class="Bound">u</a>
</pre><p>值 <code>⊥</code> 不是函数：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-40482" href="../Denotational/#plfa_plfa-part3-Denotational-40482" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40488" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40490" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-40492" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40493" href="../Denotational/#plfa_plfa-part3-Denotational-40292" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40497" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40498" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-40500" href="../Denotational/#plfa_plfa-part3-Denotational-40482" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40506" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40507" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40511" class="Symbol">())</a>
</pre><p>在「值作为集合」的表示中，集合总是包含至少一个元素。即，如果所有的元素都是函数， 那么至少存在一个函数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-40759" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40769" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40771" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40773" href="../Denotational/#plfa_plfa-part3-Denotational-40773" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40774" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-40782" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40784" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40793" href="../Denotational/#plfa_plfa-part3-Denotational-40773" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-40801" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40803" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40806" href="../Denotational/#plfa_plfa-part3-Denotational-40806" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40808" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40810" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40816" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40818" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40821" href="../Denotational/#plfa_plfa-part3-Denotational-40821" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40823" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40825" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40831" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40833" href="../Denotational/#plfa_plfa-part3-Denotational-40806" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40835" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40837" href="../Denotational/#plfa_plfa-part3-Denotational-40821" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40839" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40841" href="../Denotational/#plfa_plfa-part3-Denotational-40773" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-40843" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40853" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40854" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40855" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40857" href="../Denotational/#plfa_plfa-part3-Denotational-40857" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40859" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40864" href="../Denotational/#plfa_plfa-part3-Denotational-40857" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40866" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40867" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40868" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40870" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-40875" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40879" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40881" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40885" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-40888" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40898" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40899" href="../Denotational/#plfa_plfa-part3-Denotational-40899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40901" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40903" href="../Denotational/#plfa_plfa-part3-Denotational-40903" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40904" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40906" href="../Denotational/#plfa_plfa-part3-Denotational-40906" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40908" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40910" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40912" href="../Denotational/#plfa_plfa-part3-Denotational-40899" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40914" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40916" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40918" href="../Denotational/#plfa_plfa-part3-Denotational-40903" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40920" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40922" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40927" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40929" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40931" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40941" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40942" href="../Denotational/#plfa_plfa-part3-Denotational-40942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40944" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40946" href="../Denotational/#plfa_plfa-part3-Denotational-40946" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-40948" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40950" href="../Denotational/#plfa_plfa-part3-Denotational-40950" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-40956" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40961" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40971" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40974" href="../Denotational/#plfa_plfa-part3-Denotational-40974" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40976" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40978" href="../Denotational/#plfa_plfa-part3-Denotational-40950" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40980" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40981" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40986" href="../Denotational/#plfa_plfa-part3-Denotational-40974" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40987" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-40990" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40994" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40996" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40998" href="../Denotational/#plfa_plfa-part3-Denotational-40998" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41000" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41002" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-41004" href="../Denotational/#plfa_plfa-part3-Denotational-41004" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-41006" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41008" href="../Denotational/#plfa_plfa-part3-Denotational-41008" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-41010" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41012" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41014" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41016" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-41018" href="../Denotational/#plfa_plfa-part3-Denotational-40998" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41020" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41022" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-41024" href="../Denotational/#plfa_plfa-part3-Denotational-41004" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-41026" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-41028" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41029" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-41034" href="../Denotational/#plfa_plfa-part3-Denotational-41008" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-41035" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41037" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-41039" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="定义域与陪域">定义域与陪域</h3><p>回到我们一开始的目标上来，即「小于一个函数」的反演法则。我们想要证明 <code>v ↦ w ⊑ u</code> 蕴含「<code>u</code> 包含一个函数值的集合，它们定义域的连接小于 <code>v</code>，陪域的连接大于 <code>w</code>」。</p><p>为此，我们定义了以下 <code>⨆dom</code> 和 <code>⨆cod</code> 函数。给定某个值 <code>u</code>（表示一个条目的集合）， <code>⨆dom u</code> 返回其定义域的连接，<code>⨆cod u</code> 返回其陪域的连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-41788" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41793" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41795" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41796" href="../Denotational/#plfa_plfa-part3-Denotational-41796" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41798" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41800" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41805" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41807" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41809" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41815" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41820" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41823" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41825" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41827" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41832" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41833" href="../Denotational/#plfa_plfa-part3-Denotational-41833" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41835" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41837" href="../Denotational/#plfa_plfa-part3-Denotational-41837" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41838" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41840" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41842" href="../Denotational/#plfa_plfa-part3-Denotational-41833" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-41844" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41849" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41850" href="../Denotational/#plfa_plfa-part3-Denotational-41850" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41852" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41854" href="../Denotational/#plfa_plfa-part3-Denotational-41854" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41856" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41858" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41860" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41865" href="../Denotational/#plfa_plfa-part3-Denotational-41850" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41867" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41869" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41874" href="../Denotational/#plfa_plfa-part3-Denotational-41854" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-41878" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41883" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41885" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41886" href="../Denotational/#plfa_plfa-part3-Denotational-41886" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41888" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41890" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41895" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41897" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41899" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41905" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41910" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41913" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41915" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41917" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41922" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41923" href="../Denotational/#plfa_plfa-part3-Denotational-41923" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41925" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41927" href="../Denotational/#plfa_plfa-part3-Denotational-41927" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41928" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41930" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41932" href="../Denotational/#plfa_plfa-part3-Denotational-41927" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-41934" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41939" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41940" href="../Denotational/#plfa_plfa-part3-Denotational-41940" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41942" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41944" href="../Denotational/#plfa_plfa-part3-Denotational-41944" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41946" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41948" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41950" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41955" href="../Denotational/#plfa_plfa-part3-Denotational-41940" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41957" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41959" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41964" href="../Denotational/#plfa_plfa-part3-Denotational-41944" class="Bound">u′</a>
</pre><p>对于 <code>⨆dom</code> 和 <code>⨆cod</code> 我们只需要一个性质。给定一个函数的的集合，表示为值 <code>u</code>，和一个条目 <code>v ↦ w ∈ u</code>，我们能够证明 <code>v</code> 包含在 <code>u</code> 的定义域中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-42274" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42283" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42285" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42287" href="../Denotational/#plfa_plfa-part3-Denotational-42287" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42289" href="../Denotational/#plfa_plfa-part3-Denotational-42289" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42291" href="../Denotational/#plfa_plfa-part3-Denotational-42291" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42293" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42295" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42300" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-42312" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42314" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42323" href="../Denotational/#plfa_plfa-part3-Denotational-42287" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-42326" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-42329" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42330" href="../Denotational/#plfa_plfa-part3-Denotational-42289" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42332" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42334" href="../Denotational/#plfa_plfa-part3-Denotational-42291" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42335" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42337" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42339" href="../Denotational/#plfa_plfa-part3-Denotational-42287" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-42353" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-42386" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42388" href="../Denotational/#plfa_plfa-part3-Denotational-42289" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42390" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42392" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-42397" href="../Denotational/#plfa_plfa-part3-Denotational-42287" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-42399" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42408" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42409" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42410" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42412" href="../Denotational/#plfa_plfa-part3-Denotational-42412" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42415" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-42418" href="../Denotational/#plfa_plfa-part3-Denotational-42418" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42422" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42431" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42432" href="../Denotational/#plfa_plfa-part3-Denotational-42432" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42434" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42436" href="../Denotational/#plfa_plfa-part3-Denotational-42436" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42437" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42439" href="../Denotational/#plfa_plfa-part3-Denotational-42439" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42442" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42447" href="../Denotational/#plfa_plfa-part3-Denotational-42447" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42451" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42453" href="../Denotational/#plfa_plfa-part3-Denotational-42447" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42457" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42466" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42467" href="../Denotational/#plfa_plfa-part3-Denotational-42467" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42469" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42471" href="../Denotational/#plfa_plfa-part3-Denotational-42471" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42473" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42475" href="../Denotational/#plfa_plfa-part3-Denotational-42475" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42478" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42479" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42484" href="../Denotational/#plfa_plfa-part3-Denotational-42484" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-42489" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42491" href="../Denotational/#plfa_plfa-part3-Denotational-42491" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42495" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42500" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42504" href="../Denotational/#plfa_plfa-part3-Denotational-42504" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42507" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42509" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42518" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42521" href="../Denotational/#plfa_plfa-part3-Denotational-42521" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42523" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42525" href="../Denotational/#plfa_plfa-part3-Denotational-42475" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42528" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42529" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42534" href="../Denotational/#plfa_plfa-part3-Denotational-42521" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42535" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42538" href="../Denotational/#plfa_plfa-part3-Denotational-42484" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-42544" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42550" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42555" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42556" href="../Denotational/#plfa_plfa-part3-Denotational-42504" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42559" href="../Denotational/#plfa_plfa-part3-Denotational-42491" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42562" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-42564" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42573" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42574" href="../Denotational/#plfa_plfa-part3-Denotational-42574" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42576" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42578" href="../Denotational/#plfa_plfa-part3-Denotational-42578" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42580" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42582" href="../Denotational/#plfa_plfa-part3-Denotational-42582" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42585" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42586" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42591" href="../Denotational/#plfa_plfa-part3-Denotational-42591" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-42597" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42599" href="../Denotational/#plfa_plfa-part3-Denotational-42599" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42603" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42608" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42612" href="../Denotational/#plfa_plfa-part3-Denotational-42612" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42615" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42617" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42626" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42629" href="../Denotational/#plfa_plfa-part3-Denotational-42629" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42631" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42633" href="../Denotational/#plfa_plfa-part3-Denotational-42582" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42637" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42642" href="../Denotational/#plfa_plfa-part3-Denotational-42629" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42643" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42646" href="../Denotational/#plfa_plfa-part3-Denotational-42591" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-42653" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42659" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42664" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42665" href="../Denotational/#plfa_plfa-part3-Denotational-42612" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42668" href="../Denotational/#plfa_plfa-part3-Denotational-42599" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42671" class="Symbol">)</a>
</pre><p>对于 <code>⨆cod</code>，假设我们有一个函数集合 <code>u</code>，但它们都只是 <code>v ↦ w</code> 的副本。 那么 <code>⨆cod u</code> 包含在 <code>w</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-42929" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42938" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42940" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42942" href="../Denotational/#plfa_plfa-part3-Denotational-42942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42944" href="../Denotational/#plfa_plfa-part3-Denotational-42944" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42946" href="../Denotational/#plfa_plfa-part3-Denotational-42946" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42948" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42950" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42955" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-42965" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42967" href="../Denotational/#plfa_plfa-part3-Denotational-42942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42969" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42971" href="../Denotational/#plfa_plfa-part3-Denotational-42944" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42973" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42975" href="../Denotational/#plfa_plfa-part3-Denotational-42946" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-42987" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-43005" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43007" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43012" href="../Denotational/#plfa_plfa-part3-Denotational-42942" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43014" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43016" href="../Denotational/#plfa_plfa-part3-Denotational-42946" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-43018" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43027" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43028" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-43029" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43031" href="../Denotational/#plfa_plfa-part3-Denotational-43031" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43033" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43038" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43043" href="../Denotational/#plfa_plfa-part3-Denotational-43031" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43045" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43046" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-43047" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43049" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43054" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43058" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43060" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-43063" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43072" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43073" href="../Denotational/#plfa_plfa-part3-Denotational-43073" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43075" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43077" href="../Denotational/#plfa_plfa-part3-Denotational-43077" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43079" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43081" href="../Denotational/#plfa_plfa-part3-Denotational-43081" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43083" href="../Denotational/#plfa_plfa-part3-Denotational-43083" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43085" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43090" href="../Denotational/#plfa_plfa-part3-Denotational-43081" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43092" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43093" href="../Denotational/#plfa_plfa-part3-Denotational-43073" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43095" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43097" href="../Denotational/#plfa_plfa-part3-Denotational-43077" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43099" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43101" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43106" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43110" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43112" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43117" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43119" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-43121" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43130" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43131" href="../Denotational/#plfa_plfa-part3-Denotational-43131" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43133" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43135" href="../Denotational/#plfa_plfa-part3-Denotational-43135" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43137" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43139" href="../Denotational/#plfa_plfa-part3-Denotational-43139" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43141" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43142" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43147" href="../Denotational/#plfa_plfa-part3-Denotational-43147" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-43148" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43150" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43152" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43161" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43164" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43165" href="../Denotational/#plfa_plfa-part3-Denotational-43165" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43168" href="../Denotational/#plfa_plfa-part3-Denotational-43168" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43170" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43172" href="../Denotational/#plfa_plfa-part3-Denotational-43139" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43174" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43175" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43180" href="../Denotational/#plfa_plfa-part3-Denotational-43168" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43181" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43184" href="../Denotational/#plfa_plfa-part3-Denotational-43147" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-43186" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43195" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43196" href="../Denotational/#plfa_plfa-part3-Denotational-43196" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43198" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43200" href="../Denotational/#plfa_plfa-part3-Denotational-43200" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43202" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43204" href="../Denotational/#plfa_plfa-part3-Denotational-43204" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43206" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43207" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43212" href="../Denotational/#plfa_plfa-part3-Denotational-43212" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-43213" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43215" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43217" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43226" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43229" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43230" href="../Denotational/#plfa_plfa-part3-Denotational-43230" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43231" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43233" href="../Denotational/#plfa_plfa-part3-Denotational-43233" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43235" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43237" href="../Denotational/#plfa_plfa-part3-Denotational-43204" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43239" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43240" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43245" href="../Denotational/#plfa_plfa-part3-Denotational-43233" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43246" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43249" href="../Denotational/#plfa_plfa-part3-Denotational-43212" class="Bound">y</a>
</pre><p>有了 <code>⨆dom</code> 和 <code>⨆cod</code> 函数，我们就可以精确地得出函数的反演法则， 并将其封装到下面的谓词 <code>factor</code> 中。 如果 <code>u′</code> 包含在 <code>u</code> 中， 我们就说 <code>v ↦ w</code> 将 <code>u</code> <strong>分解（factor）</strong>为 <code>u′</code>，如果 <code>u′</code> 中只包含函数，那么其定义域小于 <code>v</code>，其陪域大于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-43795" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43802" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43804" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43805" href="../Denotational/#plfa_plfa-part3-Denotational-43805" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43807" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43809" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43814" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43816" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43818" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43819" href="../Denotational/#plfa_plfa-part3-Denotational-43819" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43822" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43824" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43829" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43831" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43833" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43834" href="../Denotational/#plfa_plfa-part3-Denotational-43834" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43836" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43838" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43843" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43845" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43847" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43848" href="../Denotational/#plfa_plfa-part3-Denotational-43848" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43850" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43852" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43857" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43859" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43861" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-43865" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43872" href="../Denotational/#plfa_plfa-part3-Denotational-43872" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43874" href="../Denotational/#plfa_plfa-part3-Denotational-43874" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43877" href="../Denotational/#plfa_plfa-part3-Denotational-43877" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43879" href="../Denotational/#plfa_plfa-part3-Denotational-43879" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43881" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43883" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43892" href="../Denotational/#plfa_plfa-part3-Denotational-43874" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-43896" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43899" href="../Denotational/#plfa_plfa-part3-Denotational-43874" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43902" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43904" href="../Denotational/#plfa_plfa-part3-Denotational-43872" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-43907" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43910" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-43915" href="../Denotational/#plfa_plfa-part3-Denotational-43874" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43918" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43920" href="../Denotational/#plfa_plfa-part3-Denotational-43877" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-43923" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43926" href="../Denotational/#plfa_plfa-part3-Denotational-43879" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43928" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43930" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43935" href="../Denotational/#plfa_plfa-part3-Denotational-43874" class="Bound">u′</a>
</pre><p>因此函数的反演法则可被陈述为：</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>我们通过在小于关系的推导上归纳证明了函数的反演法则。为了让归纳假设更强， 我们将前提 <code>v ↦ w ⊑ u</code> 推广为 <code>u₁ ⊑ u₂</code> 并加强了结论，即对于<strong>每一个</strong>函数值 <code>v ↦ w ∈ u₁</code>，我们都有 <code>v ↦ w</code> 将 <code>u₂</code> 分解为某个值 <code>u₃</code>。</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="函数小于的反演-trans-的情况">函数小于的反演，<code>⊑-trans</code> 的情况</h3><p>证明的重点在 <code>⊑-trans</code> 的情况：</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们证明了对某个值 <code>u′</code>，有 <code>v ↦ w factors u into u′</code>， 因此我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。 根据归纳假设 <code>u ⊑ u₂</code>，我们证明了对于任意 <code>v′ ↦ w′ ∈ u</code>， <code>v′ ↦ w′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 有了这些事实，我们就能对 <code>u′</code> 进行归纳，证明 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。接下来我们讨论证明的每种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-45647" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45661" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45663" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-45665" href="../Denotational/#plfa_plfa-part3-Denotational-45665" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45668" href="../Denotational/#plfa_plfa-part3-Denotational-45668" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45671" href="../Denotational/#plfa_plfa-part3-Denotational-45671" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45673" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45675" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-45680" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-45686" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45688" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-45697" href="../Denotational/#plfa_plfa-part3-Denotational-45665" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-45701" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-45704" href="../Denotational/#plfa_plfa-part3-Denotational-45665" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45707" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-45709" href="../Denotational/#plfa_plfa-part3-Denotational-45671" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-45715" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45717" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-45720" href="../Denotational/#plfa_plfa-part3-Denotational-45720" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45723" href="../Denotational/#plfa_plfa-part3-Denotational-45723" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45725" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45727" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45729" href="../Denotational/#plfa_plfa-part3-Denotational-45720" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45732" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45734" href="../Denotational/#plfa_plfa-part3-Denotational-45723" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-45737" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-45739" href="../Denotational/#plfa_plfa-part3-Denotational-45671" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45741" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45743" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45746" href="../Denotational/#plfa_plfa-part3-Denotational-45746" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45749" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45751" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45757" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45759" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45766" href="../Denotational/#plfa_plfa-part3-Denotational-45668" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45769" href="../Denotational/#plfa_plfa-part3-Denotational-45746" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45772" href="../Denotational/#plfa_plfa-part3-Denotational-45720" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45775" href="../Denotational/#plfa_plfa-part3-Denotational-45723" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45777" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-45785" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-45853" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45855" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45858" href="../Denotational/#plfa_plfa-part3-Denotational-45858" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45861" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45863" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45869" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45871" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45878" href="../Denotational/#plfa_plfa-part3-Denotational-45668" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45881" href="../Denotational/#plfa_plfa-part3-Denotational-45858" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45884" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45885" href="../Denotational/#plfa_plfa-part3-Denotational-41788" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-45890" href="../Denotational/#plfa_plfa-part3-Denotational-45665" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45892" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45894" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45895" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-45900" href="../Denotational/#plfa_plfa-part3-Denotational-45665" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45902" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45904" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45918" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45919" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-45920" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45922" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45923" href="../Denotational/#plfa_plfa-part3-Denotational-45923" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45925" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45927" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45928" href="../Denotational/#plfa_plfa-part3-Denotational-45928" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45929" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45931" href="../Denotational/#plfa_plfa-part3-Denotational-45931" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45935" href="../Denotational/#plfa_plfa-part3-Denotational-45935" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45940" href="../Denotational/#plfa_plfa-part3-Denotational-45940" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45943" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-45949" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-45963" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45964" href="../Denotational/#plfa_plfa-part3-Denotational-45931" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45968" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-45972" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45974" href="../Denotational/#plfa_plfa-part3-Denotational-40482" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-45980" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45994" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45995" href="../Denotational/#plfa_plfa-part3-Denotational-45995" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45999" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-46001" href="../Denotational/#plfa_plfa-part3-Denotational-46001" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46004" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46006" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46007" href="../Denotational/#plfa_plfa-part3-Denotational-46007" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46009" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46011" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46012" href="../Denotational/#plfa_plfa-part3-Denotational-46012" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46013" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46015" href="../Denotational/#plfa_plfa-part3-Denotational-46015" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46018" href="../Denotational/#plfa_plfa-part3-Denotational-46018" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46023" href="../Denotational/#plfa_plfa-part3-Denotational-46023" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-46026" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46028" href="../Denotational/#plfa_plfa-part3-Denotational-46023" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-46031" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46032" href="../Denotational/#plfa_plfa-part3-Denotational-39765" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-46037" href="../Denotational/#plfa_plfa-part3-Denotational-46018" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-46041" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-46043" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46057" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46058" href="../Denotational/#plfa_plfa-part3-Denotational-46058" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-46062" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46064" href="../Denotational/#plfa_plfa-part3-Denotational-46064" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46067" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46069" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46070" href="../Denotational/#plfa_plfa-part3-Denotational-46070" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46072" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46074" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46075" href="../Denotational/#plfa_plfa-part3-Denotational-46075" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46076" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46078" href="../Denotational/#plfa_plfa-part3-Denotational-46078" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46081" href="../Denotational/#plfa_plfa-part3-Denotational-46081" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46086" href="../Denotational/#plfa_plfa-part3-Denotational-46086" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-46093" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46098" href="../Denotational/#plfa_plfa-part3-Denotational-39326" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-46105" href="../Denotational/#plfa_plfa-part3-Denotational-46081" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-46110" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46114" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46116" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46118" href="../Denotational/#plfa_plfa-part3-Denotational-46118" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46124" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46126" href="../Denotational/#plfa_plfa-part3-Denotational-46126" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46132" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46138" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46143" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46157" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46158" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-46161" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46163" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46164" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46166" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46168" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46169" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46170" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46172" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46175" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46176" href="../Denotational/#plfa_plfa-part3-Denotational-46176" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46178" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46180" href="../Denotational/#plfa_plfa-part3-Denotational-46180" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46182" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46184" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46187" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46188" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46193" href="../Denotational/#plfa_plfa-part3-Denotational-46180" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46194" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46197" href="../Denotational/#plfa_plfa-part3-Denotational-46118" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46203" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-46213" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46215" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46229" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46230" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46233" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46235" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46236" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46238" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46240" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46241" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46242" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46244" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46247" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46248" href="../Denotational/#plfa_plfa-part3-Denotational-46248" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46250" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46252" href="../Denotational/#plfa_plfa-part3-Denotational-46252" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46254" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46256" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46259" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46260" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46265" href="../Denotational/#plfa_plfa-part3-Denotational-46252" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46266" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46269" href="../Denotational/#plfa_plfa-part3-Denotational-46126" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46275" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-46278" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46282" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46284" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46286" href="../Denotational/#plfa_plfa-part3-Denotational-46286" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46290" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46292" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46294" href="../Denotational/#plfa_plfa-part3-Denotational-46294" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46300" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46302" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46304" href="../Denotational/#plfa_plfa-part3-Denotational-46304" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46311" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46313" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46315" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46325" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46327" href="../Denotational/#plfa_plfa-part3-Denotational-46327" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46337" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46339" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46341" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46343" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46349" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46351" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46353" href="../Denotational/#plfa_plfa-part3-Denotational-46353" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46357" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46359" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46361" href="../Denotational/#plfa_plfa-part3-Denotational-46361" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46367" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46369" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46371" href="../Denotational/#plfa_plfa-part3-Denotational-46371" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46378" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46380" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46382" href="../Denotational/#plfa_plfa-part3-Denotational-46382" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46392" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46394" href="../Denotational/#plfa_plfa-part3-Denotational-46394" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46404" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46406" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46408" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46410" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46412" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-46420" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46422" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46423" href="../Denotational/#plfa_plfa-part3-Denotational-46286" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46427" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46429" href="../Denotational/#plfa_plfa-part3-Denotational-46353" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-46432" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46434" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46436" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46438" href="../Denotational/#plfa_plfa-part3-Denotational-46540" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46443" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46445" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46447" href="../Denotational/#plfa_plfa-part3-Denotational-46679" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46454" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-46462" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46464" href="../Denotational/#plfa_plfa-part3-Denotational-7155" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46468" href="../Denotational/#plfa_plfa-part3-Denotational-46315" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46478" href="../Denotational/#plfa_plfa-part3-Denotational-46382" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46488" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-46498" href="../Denotational/#plfa_plfa-part3-Denotational-7155" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46502" href="../Denotational/#plfa_plfa-part3-Denotational-46327" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46512" href="../Denotational/#plfa_plfa-part3-Denotational-46394" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46522" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46524" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46526" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46528" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46534" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-46540" href="../Denotational/#plfa_plfa-part3-Denotational-46540" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46545" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46547" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46548" href="../Denotational/#plfa_plfa-part3-Denotational-46548" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46551" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46553" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46558" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46560" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46562" href="../Denotational/#plfa_plfa-part3-Denotational-46548" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46565" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46567" href="../Denotational/#plfa_plfa-part3-Denotational-46286" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46571" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46573" href="../Denotational/#plfa_plfa-part3-Denotational-46548" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46576" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46578" href="../Denotational/#plfa_plfa-part3-Denotational-46353" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46582" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46584" href="../Denotational/#plfa_plfa-part3-Denotational-40292" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-46588" href="../Denotational/#plfa_plfa-part3-Denotational-46548" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-46601" href="../Denotational/#plfa_plfa-part3-Denotational-46540" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46606" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46607" href="../Denotational/#plfa_plfa-part3-Denotational-46607" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46609" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46611" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46612" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46617" href="../Denotational/#plfa_plfa-part3-Denotational-46617" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46618" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46620" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46622" href="../Denotational/#plfa_plfa-part3-Denotational-46294" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46628" href="../Denotational/#plfa_plfa-part3-Denotational-46617" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46640" href="../Denotational/#plfa_plfa-part3-Denotational-46540" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46645" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46646" href="../Denotational/#plfa_plfa-part3-Denotational-46646" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46648" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46650" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46651" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46656" href="../Denotational/#plfa_plfa-part3-Denotational-46656" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46657" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46659" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46661" href="../Denotational/#plfa_plfa-part3-Denotational-46361" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46667" href="../Denotational/#plfa_plfa-part3-Denotational-46656" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-46679" href="../Denotational/#plfa_plfa-part3-Denotational-46679" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46686" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46688" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46689" href="../Denotational/#plfa_plfa-part3-Denotational-46689" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46691" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46693" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46698" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46700" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46702" href="../Denotational/#plfa_plfa-part3-Denotational-46689" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46704" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46706" href="../Denotational/#plfa_plfa-part3-Denotational-46286" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46710" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46712" href="../Denotational/#plfa_plfa-part3-Denotational-46689" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46714" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46716" href="../Denotational/#plfa_plfa-part3-Denotational-46353" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46720" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46722" href="../Denotational/#plfa_plfa-part3-Denotational-46689" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46724" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46726" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-46739" href="../Denotational/#plfa_plfa-part3-Denotational-46679" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46746" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46747" href="../Denotational/#plfa_plfa-part3-Denotational-46747" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46748" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46750" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46751" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46756" href="../Denotational/#plfa_plfa-part3-Denotational-46756" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46757" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46759" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46761" href="../Denotational/#plfa_plfa-part3-Denotational-46304" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46768" href="../Denotational/#plfa_plfa-part3-Denotational-46756" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46780" href="../Denotational/#plfa_plfa-part3-Denotational-46679" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46787" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46788" href="../Denotational/#plfa_plfa-part3-Denotational-46788" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46789" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46791" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46792" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46797" href="../Denotational/#plfa_plfa-part3-Denotational-46797" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46798" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46800" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46802" href="../Denotational/#plfa_plfa-part3-Denotational-46371" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46809" href="../Denotational/#plfa_plfa-part3-Denotational-46797" class="Bound">y</a>
</pre><ul><li>假设 <code>u′ ≡ ⊥</code>，那么我们可导出矛盾，因为它不满足 <code>Fun ⊥</code> 的情况。</li></ul><ul><li>假设 <code>u′ ≡ u₁′ ↦ u₂′</code>，那么 <code>u₁′ ↦ u₂′ ∈ u</code>，且我们可以应用前提 （归纳假设 <code>u ⊑ u₂</code>）来得到 <code>u₁′ ↦ u₂′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 此情况是完整的，因为 <code>⨆dom u′ ≡ u₁′</code> 且 <code>⨆cod u′ ≡ u₂′</code>。</li></ul><ul><li><p>假设 <code>u′ ≡ u₁′ ⊔ u₂′</code>，那么 <code>u₁′ ⊆ u</code> 且 <code>u₂′ ⊆ u</code>。我们同样有 <code>all-funs u₁′</code> 且 <code>all-funs u₂′</code>，于是我们可以对 <code>u₁′</code> 和 <code>u₂′</code> 应用归纳假设。因此存在值 <code>u₃₁</code> 和 <code>u₃₂</code> 使得 <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> 将 <code>u</code> 分解为 <code>u₃₁</code>，以及 <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> 将 <code>u</code> 分解为 <code>u₃₂</code>。 我们要证明 <code>(⨆dom u) ↦ (⨆cod u)</code> 将 <code>u</code> 分解为 <code>u₃₁ ⊔ u₃₂</code>，因此我们需要证明</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre></li></ul><p>然而二者可直接根据 <code>⊔</code> 对于 <code>⊑</code> 的单调性，从 <code>u</code> 分解为 <code>u₃₁</code> 和 <code>u₃₂</code> 得到。</p><h3 id="函数小于的反演">函数小于的反演</h3><p>我们来证明有关函数小于的反演的主要引理。我们要证明若 <code>u₁ ⊑ u₂</code>， 则对于任何 <code>v ↦ w ∈ u₁</code>，都可以根据 <code>v ↦ w</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们对 <code>u₁ ⊑ u₂</code> 的推导进行归纳，并在 Agda 证明过程后面描述证明中的每一种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-48929" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-48937" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48939" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48941" href="../Denotational/#plfa_plfa-part3-Denotational-48941" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48944" href="../Denotational/#plfa_plfa-part3-Denotational-48944" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-48947" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48949" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-48954" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-48964" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48966" href="../Denotational/#plfa_plfa-part3-Denotational-48941" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48969" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-48971" href="../Denotational/#plfa_plfa-part3-Denotational-48944" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-48982" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48984" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48986" href="../Denotational/#plfa_plfa-part3-Denotational-48986" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48988" href="../Denotational/#plfa_plfa-part3-Denotational-48988" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-48989" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-48991" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48993" href="../Denotational/#plfa_plfa-part3-Denotational-48986" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48995" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-48997" href="../Denotational/#plfa_plfa-part3-Denotational-48988" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-48999" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-49001" href="../Denotational/#plfa_plfa-part3-Denotational-48941" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-49014" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-49060" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49062" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-49065" href="../Denotational/#plfa_plfa-part3-Denotational-49065" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49068" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-49070" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-49076" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-49078" href="../Denotational/#plfa_plfa-part3-Denotational-43795" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-49085" href="../Denotational/#plfa_plfa-part3-Denotational-48944" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-49088" href="../Denotational/#plfa_plfa-part3-Denotational-49065" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49091" href="../Denotational/#plfa_plfa-part3-Denotational-48986" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-49093" href="../Denotational/#plfa_plfa-part3-Denotational-48988" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-49095" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49103" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49104" href="../Denotational/#plfa_plfa-part3-Denotational-4989" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-49105" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49107" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49108" href="../Denotational/#plfa_plfa-part3-Denotational-49108" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49110" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49112" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-49118" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49119" href="../Denotational/#plfa_plfa-part3-Denotational-49119" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49120" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49122" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49123" href="../Denotational/#plfa_plfa-part3-Denotational-49123" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49124" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49126" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-49129" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49137" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49138" href="../Denotational/#plfa_plfa-part3-Denotational-49138" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49142" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49144" href="../Denotational/#plfa_plfa-part3-Denotational-49144" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49147" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49149" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49150" href="../Denotational/#plfa_plfa-part3-Denotational-49150" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49152" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49154" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49155" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49164" href="../Denotational/#plfa_plfa-part3-Denotational-49164" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49168" href="../Denotational/#plfa_plfa-part3-Denotational-49168" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49171" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49173" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49174" href="../Denotational/#plfa_plfa-part3-Denotational-49174" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49175" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49177" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49178" href="../Denotational/#plfa_plfa-part3-Denotational-49178" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49179" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49181" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49182" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49187" href="../Denotational/#plfa_plfa-part3-Denotational-49187" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-49188" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49190" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49192" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49200" href="../Denotational/#plfa_plfa-part3-Denotational-49164" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49204" href="../Denotational/#plfa_plfa-part3-Denotational-49187" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-49206" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49214" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49215" href="../Denotational/#plfa_plfa-part3-Denotational-49215" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49219" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49221" href="../Denotational/#plfa_plfa-part3-Denotational-49221" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49224" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49226" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49227" href="../Denotational/#plfa_plfa-part3-Denotational-49227" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49229" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49231" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49232" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49241" href="../Denotational/#plfa_plfa-part3-Denotational-49241" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49245" href="../Denotational/#plfa_plfa-part3-Denotational-49245" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49248" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49250" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49251" href="../Denotational/#plfa_plfa-part3-Denotational-49251" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49254" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49255" href="../Denotational/#plfa_plfa-part3-Denotational-49255" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49256" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49258" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49259" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49264" href="../Denotational/#plfa_plfa-part3-Denotational-49264" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-49265" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49267" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49269" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49277" href="../Denotational/#plfa_plfa-part3-Denotational-49245" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-49281" href="../Denotational/#plfa_plfa-part3-Denotational-49264" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-49283" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49290" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49291" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49292" href="../Denotational/#plfa_plfa-part3-Denotational-49292" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49294" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49295" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49296" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49297" href="../Denotational/#plfa_plfa-part3-Denotational-49297" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49300" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49301" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49302" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49303" href="../Denotational/#plfa_plfa-part3-Denotational-49303" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49306" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49307" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49308" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49309" href="../Denotational/#plfa_plfa-part3-Denotational-5580" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-49318" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49319" href="../Denotational/#plfa_plfa-part3-Denotational-49319" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49321" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49322" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49323" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49324" href="../Denotational/#plfa_plfa-part3-Denotational-49324" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49325" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49326" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49327" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49328" href="../Denotational/#plfa_plfa-part3-Denotational-49328" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49329" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49330" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49331" href="../Denotational/#plfa_plfa-part3-Denotational-49331" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49337" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49342" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49350" href="../Denotational/#plfa_plfa-part3-Denotational-49319" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49353" href="../Denotational/#plfa_plfa-part3-Denotational-49331" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49355" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49359" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49361" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49363" href="../Denotational/#plfa_plfa-part3-Denotational-49363" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49367" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49369" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49371" href="../Denotational/#plfa_plfa-part3-Denotational-49371" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49376" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49378" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49380" href="../Denotational/#plfa_plfa-part3-Denotational-49380" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49388" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49390" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49392" href="../Denotational/#plfa_plfa-part3-Denotational-49392" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49401" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49403" href="../Denotational/#plfa_plfa-part3-Denotational-49403" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49412" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49414" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49416" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49418" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49420" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49428" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49430" href="../Denotational/#plfa_plfa-part3-Denotational-49363" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49434" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49436" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49438" href="../Denotational/#plfa_plfa-part3-Denotational-49371" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49443" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49445" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49447" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49450" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49451" href="../Denotational/#plfa_plfa-part3-Denotational-49451" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49452" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49454" href="../Denotational/#plfa_plfa-part3-Denotational-49454" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49456" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49458" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49463" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49464" href="../Denotational/#plfa_plfa-part3-Denotational-49380" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49472" href="../Denotational/#plfa_plfa-part3-Denotational-49454" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49473" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49476" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49513" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49515" href="../Denotational/#plfa_plfa-part3-Denotational-49392" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49524" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49526" href="../Denotational/#plfa_plfa-part3-Denotational-49403" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49535" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49537" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49539" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49541" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49543" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49550" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49551" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49552" href="../Denotational/#plfa_plfa-part3-Denotational-49552" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49554" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49555" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49556" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49557" href="../Denotational/#plfa_plfa-part3-Denotational-49557" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49560" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49561" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49562" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49563" href="../Denotational/#plfa_plfa-part3-Denotational-49563" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49566" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49567" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49568" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49569" href="../Denotational/#plfa_plfa-part3-Denotational-5653" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-49578" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49579" href="../Denotational/#plfa_plfa-part3-Denotational-49579" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49581" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49582" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49583" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49584" href="../Denotational/#plfa_plfa-part3-Denotational-49584" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49585" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49586" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49587" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49588" href="../Denotational/#plfa_plfa-part3-Denotational-49588" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49589" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49590" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49591" href="../Denotational/#plfa_plfa-part3-Denotational-49591" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49597" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49602" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49610" href="../Denotational/#plfa_plfa-part3-Denotational-49579" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49613" href="../Denotational/#plfa_plfa-part3-Denotational-49591" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49615" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49619" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49621" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49623" href="../Denotational/#plfa_plfa-part3-Denotational-49623" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49627" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49629" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49631" href="../Denotational/#plfa_plfa-part3-Denotational-49631" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49636" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49638" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49640" href="../Denotational/#plfa_plfa-part3-Denotational-49640" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49648" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49650" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49652" href="../Denotational/#plfa_plfa-part3-Denotational-49652" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49661" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49663" href="../Denotational/#plfa_plfa-part3-Denotational-49663" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49672" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49674" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49676" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49678" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49680" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49688" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49690" href="../Denotational/#plfa_plfa-part3-Denotational-49623" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49694" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49696" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49698" href="../Denotational/#plfa_plfa-part3-Denotational-49631" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49703" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49705" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49707" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49710" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49711" href="../Denotational/#plfa_plfa-part3-Denotational-49711" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-49712" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49714" href="../Denotational/#plfa_plfa-part3-Denotational-49714" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49716" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49718" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49723" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49724" href="../Denotational/#plfa_plfa-part3-Denotational-49640" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49732" href="../Denotational/#plfa_plfa-part3-Denotational-49714" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49733" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49736" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49773" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49775" href="../Denotational/#plfa_plfa-part3-Denotational-49652" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49784" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49786" href="../Denotational/#plfa_plfa-part3-Denotational-49663" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49795" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49797" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49799" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49801" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49803" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49810" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49811" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49812" href="../Denotational/#plfa_plfa-part3-Denotational-49812" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49814" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49815" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49816" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49817" href="../Denotational/#plfa_plfa-part3-Denotational-49817" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49819" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49820" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49821" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49822" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-49829" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49830" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-49831" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49832" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-49833" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49834" href="../Denotational/#plfa_plfa-part3-Denotational-49834" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-49835" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49836" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49837" href="../Denotational/#plfa_plfa-part3-Denotational-49837" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-49841" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49842" href="../Denotational/#plfa_plfa-part3-Denotational-49842" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49846" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49847" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49848" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49849" href="../Denotational/#plfa_plfa-part3-Denotational-49849" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49850" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49851" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49852" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49853" href="../Denotational/#plfa_plfa-part3-Denotational-49853" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49854" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49855" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49856" href="../Denotational/#plfa_plfa-part3-Denotational-49856" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-49867" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49872" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49880" href="../Denotational/#plfa_plfa-part3-Denotational-49837" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-49885" href="../Denotational/#plfa_plfa-part3-Denotational-49856" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-49892" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49896" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49898" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49900" href="../Denotational/#plfa_plfa-part3-Denotational-49900" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-49903" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49905" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49907" href="../Denotational/#plfa_plfa-part3-Denotational-49907" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49911" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49913" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49915" href="../Denotational/#plfa_plfa-part3-Denotational-49915" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49920" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49922" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49924" href="../Denotational/#plfa_plfa-part3-Denotational-49924" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-49932" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49934" href="../Denotational/#plfa_plfa-part3-Denotational-49934" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-49942" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49944" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49946" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49948" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-49954" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49959" href="../Denotational/#plfa_plfa-part3-Denotational-45647" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-49973" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49974" href="../Denotational/#plfa_plfa-part3-Denotational-49900" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-49976" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49978" href="../Denotational/#plfa_plfa-part3-Denotational-49907" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49982" href="../Denotational/#plfa_plfa-part3-Denotational-49915" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49987" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49988" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49996" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-50000" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-50002" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-50006" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-50008" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50010" href="../Denotational/#plfa_plfa-part3-Denotational-50010" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50013" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50015" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50017" href="../Denotational/#plfa_plfa-part3-Denotational-50017" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50021" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50023" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50025" href="../Denotational/#plfa_plfa-part3-Denotational-50025" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50031" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50033" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50035" href="../Denotational/#plfa_plfa-part3-Denotational-50035" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50047" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50049" href="../Denotational/#plfa_plfa-part3-Denotational-50049" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50061" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50063" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50065" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50067" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50069" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-50077" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50079" href="../Denotational/#plfa_plfa-part3-Denotational-50010" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50082" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50084" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50086" href="../Denotational/#plfa_plfa-part3-Denotational-50017" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50090" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50092" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50094" href="../Denotational/#plfa_plfa-part3-Denotational-50025" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50100" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50102" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50104" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50112" href="../Denotational/#plfa_plfa-part3-Denotational-50035" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50124" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-50132" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-50170" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50178" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-50186" href="../Denotational/#plfa_plfa-part3-Denotational-50049" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50198" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50200" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50202" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50204" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50206" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50214" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50215" href="../Denotational/#plfa_plfa-part3-Denotational-50215" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-50219" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50221" href="../Denotational/#plfa_plfa-part3-Denotational-50221" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-50224" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50226" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50227" href="../Denotational/#plfa_plfa-part3-Denotational-50227" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50231" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50233" href="../Denotational/#plfa_plfa-part3-Denotational-50233" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-50236" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50238" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50239" href="../Denotational/#plfa_plfa-part3-Denotational-5797" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-50245" href="../Denotational/#plfa_plfa-part3-Denotational-50245" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50249" href="../Denotational/#plfa_plfa-part3-Denotational-50249" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-50252" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50254" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50259" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50265" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50267" href="../Denotational/#plfa_plfa-part3-Denotational-50227" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50271" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50273" href="../Denotational/#plfa_plfa-part3-Denotational-50233" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50277" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50279" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50281" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50284" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50285" href="../Denotational/#plfa_plfa-part3-Denotational-50285" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-50286" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50288" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50290" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-50293" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50295" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50297" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50299" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50302" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50303" href="../Denotational/#plfa_plfa-part3-Denotational-50303" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-50304" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50306" href="../Denotational/#plfa_plfa-part3-Denotational-50306" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-50308" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50310" href="../Denotational/#plfa_plfa-part3-Denotational-50306" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-50311" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50313" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50315" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50317" href="../Denotational/#plfa_plfa-part3-Denotational-50245" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50321" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50323" href="../Denotational/#plfa_plfa-part3-Denotational-50249" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-50327" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50329" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50331" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50333" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50335" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50343" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50344" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50348" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50350" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50351" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50355" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50357" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50360" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-50363" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50364" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50368" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50370" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50374" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50376" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50380" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50382" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50385" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50387" href="../Denotational/#plfa_plfa-part3-Denotational-5900" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-50398" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50399" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-50400" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-50403" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50405" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50406" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-50408" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50412" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50414" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50417" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-50418" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50420" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50425" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50431" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50433" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50437" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50439" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50443" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50445" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50449" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50451" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-50455" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50457" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50459" href="../Denotational/#plfa_plfa-part3-Denotational-50519" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50461" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50463" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50465" href="../Denotational/#plfa_plfa-part3-Denotational-50618" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50467" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50469" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50471" href="../Denotational/#plfa_plfa-part3-Denotational-5496" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-50480" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50487" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50494" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50496" href="../Denotational/#plfa_plfa-part3-Denotational-6832" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50503" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50505" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50507" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50509" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-50513" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-50519" href="../Denotational/#plfa_plfa-part3-Denotational-50519" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50521" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50523" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-50532" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50533" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50537" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50539" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50543" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50545" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50549" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50551" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50554" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50564" href="../Denotational/#plfa_plfa-part3-Denotational-50519" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50566" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50567" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50572" href="../Denotational/#plfa_plfa-part3-Denotational-50572" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50573" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50575" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50577" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50581" href="../Denotational/#plfa_plfa-part3-Denotational-50572" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50591" href="../Denotational/#plfa_plfa-part3-Denotational-50519" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50593" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50594" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50599" href="../Denotational/#plfa_plfa-part3-Denotational-50599" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50600" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50602" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50604" href="../Denotational/#plfa_plfa-part3-Denotational-40318" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50608" href="../Denotational/#plfa_plfa-part3-Denotational-50599" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-50618" href="../Denotational/#plfa_plfa-part3-Denotational-50618" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50622" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50623" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50627" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50629" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50633" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50635" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50639" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50641" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50644" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50646" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-50648" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50649" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50653" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50655" href="../Denotational/#plfa_plfa-part3-Denotational-50351" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50659" href="../Denotational/#plfa_plfa-part3-Denotational-5031" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50661" href="../Denotational/#plfa_plfa-part3-Denotational-50344" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50665" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50667" href="../Denotational/#plfa_plfa-part3-Denotational-50357" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50670" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50680" href="../Denotational/#plfa_plfa-part3-Denotational-50618" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50682" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50683" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50688" href="../Denotational/#plfa_plfa-part3-Denotational-50688" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50689" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50691" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50693" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50698" href="../Denotational/#plfa_plfa-part3-Denotational-50688" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50708" href="../Denotational/#plfa_plfa-part3-Denotational-50618" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50710" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50711" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50716" href="../Denotational/#plfa_plfa-part3-Denotational-50716" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50717" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50719" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50721" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50726" href="../Denotational/#plfa_plfa-part3-Denotational-50716" class="Bound">y</a>
</pre><p>令 <code>v</code> 和 <code>w</code> 为任意值。</p><ul><li><p>情况 <code>⊑-bot</code>：若 <code>u₁ ≡ ⊥</code>，我们有 <code>v ↦ w ∈ ⊥</code>，但这是不可能的。</p></li><li><p>情况 <code>⊑-conj-L</code>：</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>，那么有两种子情况需要考虑：</p><ul><li><p>子情况 <code>v ↦ w ∈ u₁₁</code>：我们通过归纳假设 <code>u₁₁ ⊑ u₂</code> 得出结论。</p></li><li><p>子情况 <code>v ↦ w ∈ u₁₂</code>：我们通过归纳假设 <code>u₁₂ ⊑ u₂</code> 得出结论。</p></li></ul><ul><li><p>情况 <code>⊑-conj-R1</code>：</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁</code>，归纳假设 <code>u₁ ⊑ u₂₁</code> 给出了对某个 <code>u₃₁</code>，<code>v ↦ w</code> 将 <code>u₂₁</code> 分解为 <code>u₃₁</code>。为了证明 <code>v ↦ w</code> 也将 <code>u₂₁ ⊔ u₂₂</code> 分解为 <code>u₃₁</code>， 我们只需证明 <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>，而这一点可直接从 <code>u₃₁ ⊆ u₂₁</code> 得出。</p><ul><li><p>情况 <code>⊑-conj-R2</code>：此情况的论证过程与情况 <code>⊑-conj-R1</code> 类似。</p></li><li><p>情况 <code>⊑-trans</code>：</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre></li></ul><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们可以证明对于某个值 <code>u′</code>，<code>v ↦ w</code> 将 <code>u</code> 分解为 <code>u′</code>， 于是我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。跟举归纳假设 <code>u ⊑ u₂</code>，我们可以证明对于任意 <code>v′ ↦ w′ ∈ u</code>，<code>v′ ↦ w′</code> 分解了 <code>u₂</code>。现在应用引理 <code>sub-inv-trans</code>， 它会给出 <code>u₃</code> 使得 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们证明了 <code>v ↦ w</code> 也将 <code>u₂</code> 分解为 <code>u₃</code>。 从 <code>⨆dom u₃ ⊑ ⨆dom u′</code> 和 <code>⨆dom u′ ⊑ v</code>，我们可得出 <code>⨆dom u₃ ⊑ v</code>。 从 <code>w ⊑ ⨆cod u′</code> 和 <code>⨆cod u′ ⊑ ⨆cod u₃</code>，我们有 <code>w ⊑ ⨆cod u₃</code>，于是此情况就覆盖完整了。</p><ul><li><p>情况 <code>⊑-fun</code>：</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>，我们有 <code>v ≡ u₁₁</code> 和 <code>w ≡ u₁₂</code>。 我们证明了 <code>u₁₁ ↦ u₁₂</code> 将 <code>u₂₁ ↦ u₂₂</code> 分解为其自身。 我们还需证明 <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>， 然而这等价于前提 <code>u₂₁ ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ u₂₂</code>。</p><ul><li><p>情况 <code>⊑-dist</code>：</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>，我们有 <code>v ≡ u₂₁</code> 和 <code>w ≡ u₂₂ ⊔ u₂₃</code>。 我们证明了 <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> 将 <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> 分解为其自身。 我们有 <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>，以及 <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>，于是此证明就覆盖完整了。</p><p>我们用 <code>sub-inv</code> 引理的两个推论作为本节的结尾。首先，我们来证明以下性质， 方便在后面的证明中使用。我们将前提特化为 <code>v ↦ w ⊑ u₁</code>，并将结论修改为对于每个 <code>v′ ↦ w′ ∈ u₂</code>，我们有 <code>v′ ⊑ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-54922" href="../Denotational/#plfa_plfa-part3-Denotational-54922" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-54934" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54936" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-54938" href="../Denotational/#plfa_plfa-part3-Denotational-54938" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54940" href="../Denotational/#plfa_plfa-part3-Denotational-54940" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-54942" href="../Denotational/#plfa_plfa-part3-Denotational-54942" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-54945" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54947" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-54952" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-54958" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54960" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-54961" href="../Denotational/#plfa_plfa-part3-Denotational-54938" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54963" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-54965" href="../Denotational/#plfa_plfa-part3-Denotational-54940" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-54966" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-54968" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-54970" href="../Denotational/#plfa_plfa-part3-Denotational-54942" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-54979" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-55037" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55039" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-55042" href="../Denotational/#plfa_plfa-part3-Denotational-55042" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55045" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-55047" href="../Denotational/#plfa_plfa-part3-Denotational-4969" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-55053" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-55055" href="../Denotational/#plfa_plfa-part3-Denotational-40356" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-55064" href="../Denotational/#plfa_plfa-part3-Denotational-55042" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55067" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55069" href="../Denotational/#plfa_plfa-part3-Denotational-55042" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55072" href="../Denotational/#plfa_plfa-part3-Denotational-38303" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-55074" href="../Denotational/#plfa_plfa-part3-Denotational-54942" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-55085" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55087" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-55090" href="../Denotational/#plfa_plfa-part3-Denotational-55090" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55093" href="../Denotational/#plfa_plfa-part3-Denotational-55093" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55095" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55097" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55099" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55100" href="../Denotational/#plfa_plfa-part3-Denotational-55090" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55103" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55105" href="../Denotational/#plfa_plfa-part3-Denotational-55093" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55107" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55109" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55111" href="../Denotational/#plfa_plfa-part3-Denotational-55042" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55114" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55116" href="../Denotational/#plfa_plfa-part3-Denotational-55090" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55119" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55121" href="../Denotational/#plfa_plfa-part3-Denotational-54938" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55122" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55124" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55126" href="../Denotational/#plfa_plfa-part3-Denotational-54940" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55128" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55130" href="../Denotational/#plfa_plfa-part3-Denotational-41878" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-55135" href="../Denotational/#plfa_plfa-part3-Denotational-55042" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-55138" href="../Denotational/#plfa_plfa-part3-Denotational-54922" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-55149" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55150" href="../Denotational/#plfa_plfa-part3-Denotational-55150" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55151" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55153" href="../Denotational/#plfa_plfa-part3-Denotational-55153" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55154" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55156" href="../Denotational/#plfa_plfa-part3-Denotational-55156" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-55158" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55160" href="../Denotational/#plfa_plfa-part3-Denotational-55160" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-55168" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55173" href="../Denotational/#plfa_plfa-part3-Denotational-48929" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-55181" href="../Denotational/#plfa_plfa-part3-Denotational-55160" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-55185" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55186" href="../Denotational/#plfa_plfa-part3-Denotational-55150" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55187" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55189" href="../Denotational/#plfa_plfa-part3-Denotational-55153" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55190" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55192" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-55197" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55201" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55203" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55205" href="../Denotational/#plfa_plfa-part3-Denotational-55205" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55208" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55210" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55212" href="../Denotational/#plfa_plfa-part3-Denotational-55212" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55214" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55216" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55218" href="../Denotational/#plfa_plfa-part3-Denotational-55218" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55224" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55226" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55228" href="../Denotational/#plfa_plfa-part3-Denotational-55228" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-55231" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55233" href="../Denotational/#plfa_plfa-part3-Denotational-55233" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55236" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55238" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55240" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55242" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55244" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-55252" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55254" href="../Denotational/#plfa_plfa-part3-Denotational-55205" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55257" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55259" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55261" href="../Denotational/#plfa_plfa-part3-Denotational-55212" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55263" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55265" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55267" href="../Denotational/#plfa_plfa-part3-Denotational-55218" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55273" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55275" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55277" href="../Denotational/#plfa_plfa-part3-Denotational-55301" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55279" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55281" href="../Denotational/#plfa_plfa-part3-Denotational-55233" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55284" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55286" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55288" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55290" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-55295" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-55301" href="../Denotational/#plfa_plfa-part3-Denotational-55301" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55303" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55305" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55307" href="../Denotational/#plfa_plfa-part3-Denotational-55307" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55309" href="../Denotational/#plfa_plfa-part3-Denotational-55309" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55310" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55312" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55314" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55315" href="../Denotational/#plfa_plfa-part3-Denotational-55307" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55317" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55319" href="../Denotational/#plfa_plfa-part3-Denotational-55309" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55320" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55322" href="../Denotational/#plfa_plfa-part3-Denotational-37989" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55324" href="../Denotational/#plfa_plfa-part3-Denotational-55205" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55327" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55329" href="../Denotational/#plfa_plfa-part3-Denotational-55307" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55331" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55333" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-55344" href="../Denotational/#plfa_plfa-part3-Denotational-55301" class="Function">G</a><a id="plfa_plfa-part3-Denotational-55345" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55346" href="../Denotational/#plfa_plfa-part3-Denotational-55346" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-55347" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55349" href="../Denotational/#plfa_plfa-part3-Denotational-55349" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55350" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55352" href="../Denotational/#plfa_plfa-part3-Denotational-55352" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-55354" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55356" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55364" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55365" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55369" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55370" href="../Denotational/#plfa_plfa-part3-Denotational-42274" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-55379" href="../Denotational/#plfa_plfa-part3-Denotational-55212" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55381" href="../Denotational/#plfa_plfa-part3-Denotational-55352" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-55382" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-55385" href="../Denotational/#plfa_plfa-part3-Denotational-55228" class="Bound">db</a>
</pre><p>第二个推论是反演规则，即我们期望左侧函数小于右侧。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-55566" href="../Denotational/#plfa_plfa-part3-Denotational-55566" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-55574" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55576" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55578" href="../Denotational/#plfa_plfa-part3-Denotational-55578" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55580" href="../Denotational/#plfa_plfa-part3-Denotational-55580" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55582" href="../Denotational/#plfa_plfa-part3-Denotational-55582" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55585" href="../Denotational/#plfa_plfa-part3-Denotational-55585" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55587" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-55597" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55599" href="../Denotational/#plfa_plfa-part3-Denotational-55578" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55601" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55603" href="../Denotational/#plfa_plfa-part3-Denotational-55580" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55605" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55607" href="../Denotational/#plfa_plfa-part3-Denotational-55582" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55610" href="../Denotational/#plfa_plfa-part3-Denotational-5001" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55612" href="../Denotational/#plfa_plfa-part3-Denotational-55585" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-55625" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-55651" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55653" href="../Denotational/#plfa_plfa-part3-Denotational-55582" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55656" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55658" href="../Denotational/#plfa_plfa-part3-Denotational-55578" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55660" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55662" href="../Denotational/#plfa_plfa-part3-Denotational-55580" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55664" href="../Denotational/#plfa_plfa-part3-Denotational-5436" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55666" href="../Denotational/#plfa_plfa-part3-Denotational-55585" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-55669" href="../Denotational/#plfa_plfa-part3-Denotational-55566" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-55676" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55677" href="../Denotational/#plfa_plfa-part3-Denotational-55677" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55678" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55680" href="../Denotational/#plfa_plfa-part3-Denotational-55680" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55681" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55683" href="../Denotational/#plfa_plfa-part3-Denotational-55683" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-55685" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55687" href="../Denotational/#plfa_plfa-part3-Denotational-55687" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55689" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55691" href="../Denotational/#plfa_plfa-part3-Denotational-55691" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-55698" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55703" href="../Denotational/#plfa_plfa-part3-Denotational-54922" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-55715" href="../Denotational/#plfa_plfa-part3-Denotational-55691" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-55718" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55722" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55724" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55726" href="../Denotational/#plfa_plfa-part3-Denotational-55726" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-55728" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55730" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55732" href="../Denotational/#plfa_plfa-part3-Denotational-55732" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55734" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55736" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55738" href="../Denotational/#plfa_plfa-part3-Denotational-55738" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55744" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55746" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55748" href="../Denotational/#plfa_plfa-part3-Denotational-55748" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55752" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55754" href="../Denotational/#plfa_plfa-part3-Denotational-55754" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55758" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55760" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55762" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55764" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55770" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55775" href="../Denotational/#plfa_plfa-part3-Denotational-40759" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-55785" href="../Denotational/#plfa_plfa-part3-Denotational-55732" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-55787" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55791" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55793" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55795" href="../Denotational/#plfa_plfa-part3-Denotational-55795" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-55797" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55799" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55801" href="../Denotational/#plfa_plfa-part3-Denotational-55801" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-55804" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55806" href="../Denotational/#plfa_plfa-part3-Denotational-55806" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55813" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55815" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55821" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55826" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55832" href="../Denotational/#plfa_plfa-part3-Denotational-55806" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-55839" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55843" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55845" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-55850" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-55854" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-55858" href="../Denotational/#plfa_plfa-part3-Denotational-55858" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-55867" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55869" href="../Denotational/#plfa_plfa-part3-Denotational-42929" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-55878" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55884" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-55889" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55891" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55895" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55902" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55904" href="../Denotational/#plfa_plfa-part3-Denotational-5726" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55912" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55916" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55917" href="../Denotational/#plfa_plfa-part3-Denotational-38836" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55921" href="../Denotational/#plfa_plfa-part3-Denotational-55858" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-55929" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55931" href="../Denotational/#plfa_plfa-part3-Denotational-3459" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>本章中展示的操作语义是<strong>过滤器模型（filter model，</strong>@Barendregt:1983）的一个例子。 过滤器模型使用带有交集类型的类型系统来精确刻画运行时行为（<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>）。 我们在本章中使用的记法并不是类型系统和交集类型的记法，但 <code>Value</code> 数据类型与这些类型同构（<code>↦</code> 对应 <code>→</code>，<code>⊔</code> 对应 <code>∧</code>，<code>⊥</code> 对应 <code>⊤</code>）， <code>⊑</code> 关系是子类型 <code>&lt;:</code> 的逆关系，并且求值关系 <code>ρ ⊢ M ↓ v</code> 与类型系统同构。 将 <code>ρ</code> 写成 <code>Γ</code>，将 <code>v</code> 写成 <code>A</code>，将 <code>↓</code> 替换为 <code>:</code>，就得到了一个类型判断 <code>Γ ⊢ M : A</code>。通过改变子类型的定义和使用类型原子的不同选择， 交集类型系统为许多不同的无类型 λ-演算提供语义，从完整的 beta-规约到惰性演算和按值调用演算（<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>，<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>）。 本章中的指称语义对应于 BCD 系统（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）。 <em>Lambda Calculus with Types</em> 一书中的第三部分描述了一个交集类型系统的框架， 它可以实现与本章中类似的结果，但适用于整个交集类型系统族（<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>）</p><p>使用有限的表格来表示函数，以及放宽表的查找以实现自我应用这两个想法首次出现在 <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> 的技术报告中，后来在《理论计算机科学》（<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>） 的一篇文章中进行了描述。在该项工作中，<code>Value</code> 的归纳定义与我们使用的有点不同：</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>其中 <code>C</code> 是一组常量，<code>℘f</code> 表示有限幂集。<code>℘f(Value) × ℘f(Value)</code> 中的序对表示输入-输出映射，和本章中的一样。有限幂集用于使函数表能够出现在输入和输出中。 这些差异相当于改变了 <code>Value</code> 定义中递归出现的位置。Plotkin 的模型是无类型 λ-演算的<strong>图模型（graph model）</strong>的一个例子（<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>）。 在图模型中，语义被表示为从程序和环境到（可能是无限的）值的集合的函数。 本章中的语义被定义为关系，不过以集合为值的函数与关系同构。 实际上，我们将在下一章中将语义表示为函数，并证明它等价于关系的版本。</p><p><span class="citation" data-cites="Scott:1976">Scott (1976)</span> 的 ℘(ω) 模型和 <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> 的 B(A) 模型是图模型的另外两个例子。 二者都采用了以下 <code>Value</code> 的归纳定义。</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>在输出中使用 <code>Value</code> 而非 <code>℘f(Value)</code> 相对 Plotkin 的模型来说并不会限制表达能力， 因为使用了值的集合的语义和集合 <code>(V, V′)</code> 的序对可以表示为一个序对的集合 <code>{ (V, v′) | v′ ∈ V′ }</code>。在 Scott 的 ℘(ω) 中， 上面的值通过一种哥德尔编码做了它和自然数的双向映射。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="参考来源">参考来源</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div><h3 class="footer-heading">本章翻译进度：100% ，译者：OlingCat</h3>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>