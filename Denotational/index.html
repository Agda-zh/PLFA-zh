<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../assets/css/light.css" integrity="sha512-J8Ko83OT11zQ2/+vowqJ0Ovx2JEWUBNPTbNptixluYAHAO009R7GVxRQNKA+Wq4skbsdZr1AEOjF2AeQmKt3/A==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../assets/css/dark.css" integrity="sha512-kK/Wf2991I8CFsf5/Qu/2GIm2Enzw8H70RQ/yHNIb6iGTPF/SKE0B+kxTG2HjcFOgcjfKxZ9Jr4bvSfuKraNWw==" title="Dark" id="stylesheet-dark" disabled><title>编程语言基础：Agda 描述 – Denotational</title><script src="../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../">编程语言基础：Agda 描述</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../">主页</a> <a class="page-link" href="../Announcements/">公告</a> <a class="page-link" href="../GettingStarted/">使用说明</a> <a class="page-link" href="../Citing/">引用</a> <a class="page-link" href="https://plfa.github.io/">English</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Denotational: 无类型 λ-演算的指称语义</h1></header><div class="post-content"><pre class="Agda"><a id="plfa_plfa-part3-Denotational-87" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-94" href="../Denotational/#" class="Module">plfa.part3.Denotational</a> <a id="plfa_plfa-part3-Denotational-118" class="Keyword">where</a>
</pre><p>λ-演算是一种关于<strong>函数</strong>的语言，即从输入到输出的映射。在计算中， 我们通常认为这种映射是通过一系列将输入转换为输出的操作来执行的。 但函数也可以表示为数据。例如，可以将函数表格化，即创建一个表， 其中每行都有两个条目：一个输入和一个该函数对应的输出。 函数应用则是查找给定输入的行并读取输出的过程。</p><p>我们可按照「函数即表格」的思想为无类型 λ-演算创建语义。然而却碰上了两个难点： 首先，函数的定义域通常是无穷的，因此我们似乎需要无限长的表格来表示函数。 其次，在 λ-演算中，函数可应用于函数，它们甚至可以应用于自身！ 因而这些表格可能包含循环引用。你可能会担心需要高级技术来解决这些问题， 幸而情况并非如此！</p><p>第一个问题是带有无穷定义域的函数。注意到每一个 λ-抽象只会应用于数量有限的不同参数， 该问题因而得以解决（我们回头再讨论发散的程序）。这是看待 Dana Scott 见解的另一种方式，即对 λ-演算进行建模只需要用到连续函数。</p><p>第二个问题是自应用，可以通过放宽在函数表格中查找参数的方式来解决。 通常，人们会在表中查找输入条目与参数完全匹配的行。在自应用的情况下， 这样会要求表包含其自身的副本，当然这是不可能的 （至少，想要使用归纳数据类型定义来构建表是不可能的，而这就是我们要做的）。 其实只要找到一个输入，使得每一行输入都对应到一行参数（即，输入是参数的子集）。 在自应用的情况下，表只需要包含其自身的较小副本，这样就好了。</p><p>基于这两点观察，我们就能直接写出 λ-演算的指称语义。</p><h2 id="导入">导入</h2><pre class="Agda"><a id="plfa_plfa-part3-Denotational-3231" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3236" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3243" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="plfa_plfa-part3-Denotational-3258" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3264" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3265" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#758" class="Primitive">lzero</a><a id="plfa_plfa-part3-Denotational-3270" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3272" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#774" class="Primitive">lsuc</a><a id="plfa_plfa-part3-Denotational-3276" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3278" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3283" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3290" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="plfa_plfa-part3-Denotational-3299" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3305" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3306" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-3307" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3309" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="plfa_plfa-part3-Denotational-3313" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3315" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="plfa_plfa-part3-Denotational-3318" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3320" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3325" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3332" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="plfa_plfa-part3-Denotational-3345" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3351" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3352" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="plfa_plfa-part3-Denotational-3355" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3357" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#148" class="Record">Σ</a><a id="plfa_plfa-part3-Denotational-3358" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3360" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ-syntax</a><a id="plfa_plfa-part3-Denotational-3368" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3370" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="plfa_plfa-part3-Denotational-3371" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3373" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="plfa_plfa-part3-Denotational-3381" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3383" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="plfa_plfa-part3-Denotational-3388" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3390" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="plfa_plfa-part3-Denotational-3395" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-3399" class="Keyword">renaming</a> <a id="plfa_plfa-part3-Denotational-3408" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3409" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="plfa_plfa-part3-Denotational-3413" class="Symbol">to</a> <a id="plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="plfa_plfa-part3-Denotational-3421" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3423" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3428" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3435" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a>
<a id="plfa_plfa-part3-Denotational-3444" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3449" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3456" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.html" class="Module">Data.Vec</a> <a id="plfa_plfa-part3-Denotational-3465" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3471" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3472" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a><a id="plfa_plfa-part3-Denotational-3475" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3477" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-3479" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3481" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">_∷_</a><a id="plfa_plfa-part3-Denotational-3484" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3486" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3491" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3498" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="plfa_plfa-part3-Denotational-3538" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3544" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3545" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="plfa_plfa-part3-Denotational-3548" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3550" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="plfa_plfa-part3-Denotational-3553" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3555" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-3559" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3561" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="plfa_plfa-part3-Denotational-3564" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3566" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="plfa_plfa-part3-Denotational-3570" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3572" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="plfa_plfa-part3-Denotational-3577" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3579" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="plfa_plfa-part3-Denotational-3587" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3589" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3594" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3601" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="plfa_plfa-part3-Denotational-3618" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3624" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3625" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="plfa_plfa-part3-Denotational-3627" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3629" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3634" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3641" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="plfa_plfa-part3-Denotational-3667" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3673" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3674" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a><a id="plfa_plfa-part3-Denotational-3687" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3689" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3694" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3701" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="plfa_plfa-part3-Denotational-3710" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3716" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3717" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="plfa_plfa-part3-Denotational-3720" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3722" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3727" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3734" href="../Untyped/#" class="Module">plfa.part2.Untyped</a>
  <a id="plfa_plfa-part3-Denotational-3755" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3761" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3762" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-3769" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3771" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-3772" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3774" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">_∋_</a><a id="plfa_plfa-part3-Denotational-3777" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3779" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a><a id="plfa_plfa-part3-Denotational-3780" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3782" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">_,_</a><a id="plfa_plfa-part3-Denotational-3785" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3787" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a><a id="plfa_plfa-part3-Denotational-3788" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3790" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S_</a><a id="plfa_plfa-part3-Denotational-3792" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3794" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">_⊢_</a><a id="plfa_plfa-part3-Denotational-3797" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3799" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`_</a><a id="plfa_plfa-part3-Denotational-3801" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3803" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">_·_</a><a id="plfa_plfa-part3-Denotational-3806" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3808" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ_</a><a id="plfa_plfa-part3-Denotational-3810" class="Symbol">;</a>
         <a id="plfa_plfa-part3-Denotational-3821" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#_</a><a id="plfa_plfa-part3-Denotational-3823" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3825" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a><a id="plfa_plfa-part3-Denotational-3829" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3831" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a><a id="plfa_plfa-part3-Denotational-3834" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3836" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a><a id="plfa_plfa-part3-Denotational-3842" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3844" href="../Untyped/#plfa_plfa-part2-Untyped-8601" class="Function">exts</a><a id="plfa_plfa-part3-Denotational-3848" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3850" href="../Untyped/#plfa_plfa-part2-Untyped-8962" class="Function">subst</a><a id="plfa_plfa-part3-Denotational-3855" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3857" href="../Untyped/#plfa_plfa-part2-Untyped-9458" class="Function">subst-zero</a><a id="plfa_plfa-part3-Denotational-3867" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3869" href="../Untyped/#plfa_plfa-part2-Untyped-9574" class="Function Operator">_[_]</a><a id="plfa_plfa-part3-Denotational-3873" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-3875" class="Keyword">open</a> <a id="plfa_plfa-part3-Denotational-3880" class="Keyword">import</a> <a id="plfa_plfa-part3-Denotational-3887" href="../Substitution/#" class="Module">plfa.part2.Substitution</a> <a id="plfa_plfa-part3-Denotational-3911" class="Keyword">using</a> <a id="plfa_plfa-part3-Denotational-3917" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-3918" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a><a id="plfa_plfa-part3-Denotational-3924" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3926" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a><a id="plfa_plfa-part3-Denotational-3940" class="Symbol">;</a> <a id="plfa_plfa-part3-Denotational-3942" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a><a id="plfa_plfa-part3-Denotational-3951" class="Symbol">)</a>
</pre><h2 id="值">值</h2><p>值数据类型 <code>Value</code> 表示函数的有限的一部分。我们将值视为表示「输入-输出」 映射的有限序对集合。<code>Value</code> 数据类型将集合表示为二叉树，其内部节点是并集运算符， 叶子节点表示单个映射或空集。</p><ul><li><p>⊥ 值不提供有关计算的信息。</p></li><li><p>形如 <code>v ↦ w</code> 的值是从输入 <code>v</code> 到输出 <code>w</code> 的单个输入-输出映射。</p></li><li><p>形如 <code>v ⊔ w</code> 的值是根据 <code>v</code> 和 <code>w</code> 将输入映射到输出的函数。 可将其视为两个集合的并集。</p></li></ul><pre class="Agda"><a id="plfa_plfa-part3-Denotational-4894" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-4901" class="Number">7</a> <a id="plfa_plfa-part3-Denotational-4903" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">_↦_</a>
<a id="plfa_plfa-part3-Denotational-4907" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-4914" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-4916" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">_⊔_</a>

<a id="plfa_plfa-part3-Denotational-4921" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Value"></a><a id="plfa_plfa-part3-Denotational-4926" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4932" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4934" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-4938" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Value.⊥"></a><a id="plfa_plfa-part3-Denotational-4946" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-4948" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4950" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._↦_"></a><a id="plfa_plfa-part3-Denotational-4958" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">_↦_</a> <a id="plfa_plfa-part3-Denotational-4962" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4964" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4970" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4972" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-4978" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-4980" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
  <a id="plfa_plfa-part3-Denotational-Value._⊔_"></a><a id="plfa_plfa-part3-Denotational-4988" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">_⊔_</a> <a id="plfa_plfa-part3-Denotational-4992" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-4994" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5000" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5002" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5008" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5010" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
</pre><p>关系 <code>⊑</code> 将熟悉的子集概念适配到 <code>Value</code> 数据类型上。 这种关系在实现自我应用方面起到了关键作用。有两个特定于函数的规则 <code>⊑-fun</code> 和 <code>⊑-dist</code>，我们将在后面讨论。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-5375" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-5381" class="Number">4</a> <a id="plfa_plfa-part3-Denotational-5383" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">_⊑_</a>

<a id="plfa_plfa-part3-Denotational-5388" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊑_"></a><a id="plfa_plfa-part3-Denotational-5393" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">_⊑_</a> <a id="plfa_plfa-part3-Denotational-5397" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5399" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5407" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-5413" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5415" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-5419" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-bot"></a><a id="plfa_plfa-part3-Denotational-5428" href="../Denotational/#plfa_plfa-part3-Denotational-5428" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-5434" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5436" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5438" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5439" href="../Denotational/#plfa_plfa-part3-Denotational-5439" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-5440" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-5442" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5444" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-5446" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5448" href="../Denotational/#plfa_plfa-part3-Denotational-5439" class="Bound">v</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-L"></a><a id="plfa_plfa-part3-Denotational-5453" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-5462" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5464" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5466" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5467" href="../Denotational/#plfa_plfa-part3-Denotational-5467" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5469" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5471" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5472" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5478" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5480" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5482" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5484" href="../Denotational/#plfa_plfa-part3-Denotational-5467" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-5490" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5492" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5494" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5496" href="../Denotational/#plfa_plfa-part3-Denotational-5467" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-5504" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5520" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5522" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5523" href="../Denotational/#plfa_plfa-part3-Denotational-5469" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5525" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5527" href="../Denotational/#plfa_plfa-part3-Denotational-5471" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5528" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5530" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5532" href="../Denotational/#plfa_plfa-part3-Denotational-5467" class="Bound">u</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R1"></a><a id="plfa_plfa-part3-Denotational-5537" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-5547" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5549" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5551" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5552" href="../Denotational/#plfa_plfa-part3-Denotational-5552" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5554" href="../Denotational/#plfa_plfa-part3-Denotational-5554" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5556" href="../Denotational/#plfa_plfa-part3-Denotational-5556" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5557" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5563" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5565" href="../Denotational/#plfa_plfa-part3-Denotational-5552" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5567" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5569" href="../Denotational/#plfa_plfa-part3-Denotational-5554" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-5577" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5593" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5595" href="../Denotational/#plfa_plfa-part3-Denotational-5552" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5597" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5599" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5600" href="../Denotational/#plfa_plfa-part3-Denotational-5554" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5602" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5604" href="../Denotational/#plfa_plfa-part3-Denotational-5556" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5605" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-conj-R2"></a><a id="plfa_plfa-part3-Denotational-5610" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-5620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5622" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5624" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5625" href="../Denotational/#plfa_plfa-part3-Denotational-5625" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5627" href="../Denotational/#plfa_plfa-part3-Denotational-5627" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5629" href="../Denotational/#plfa_plfa-part3-Denotational-5629" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5630" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5636" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5638" href="../Denotational/#plfa_plfa-part3-Denotational-5625" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5640" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5642" href="../Denotational/#plfa_plfa-part3-Denotational-5629" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5650" class="Comment">-----------</a>
    <a id="plfa_plfa-part3-Denotational-5666" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5668" href="../Denotational/#plfa_plfa-part3-Denotational-5625" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5670" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5672" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5673" href="../Denotational/#plfa_plfa-part3-Denotational-5627" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5675" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5677" href="../Denotational/#plfa_plfa-part3-Denotational-5629" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5678" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-trans"></a><a id="plfa_plfa-part3-Denotational-5683" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-5691" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5693" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5695" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5696" href="../Denotational/#plfa_plfa-part3-Denotational-5696" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5698" href="../Denotational/#plfa_plfa-part3-Denotational-5698" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5700" href="../Denotational/#plfa_plfa-part3-Denotational-5700" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5701" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5707" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5709" href="../Denotational/#plfa_plfa-part3-Denotational-5696" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5711" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5713" href="../Denotational/#plfa_plfa-part3-Denotational-5698" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5719" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5721" href="../Denotational/#plfa_plfa-part3-Denotational-5698" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5723" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5725" href="../Denotational/#plfa_plfa-part3-Denotational-5700" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-5733" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-5743" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5745" href="../Denotational/#plfa_plfa-part3-Denotational-5696" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-5747" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5749" href="../Denotational/#plfa_plfa-part3-Denotational-5700" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-fun"></a><a id="plfa_plfa-part3-Denotational-5754" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-5760" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5762" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-5764" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-5765" href="../Denotational/#plfa_plfa-part3-Denotational-5765" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5767" href="../Denotational/#plfa_plfa-part3-Denotational-5767" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5769" href="../Denotational/#plfa_plfa-part3-Denotational-5769" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5772" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5774" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-5780" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5782" href="../Denotational/#plfa_plfa-part3-Denotational-5769" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5785" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5787" href="../Denotational/#plfa_plfa-part3-Denotational-5765" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-5793" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5795" href="../Denotational/#plfa_plfa-part3-Denotational-5767" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5797" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5799" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">w′</a>
      <a id="plfa_plfa-part3-Denotational-5808" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-5832" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5834" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5835" href="../Denotational/#plfa_plfa-part3-Denotational-5765" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5837" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5839" href="../Denotational/#plfa_plfa-part3-Denotational-5767" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5840" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5842" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5844" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5845" href="../Denotational/#plfa_plfa-part3-Denotational-5769" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-5848" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5850" href="../Denotational/#plfa_plfa-part3-Denotational-5772" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5852" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊑_.⊑-dist"></a><a id="plfa_plfa-part3-Denotational-5857" href="../Denotational/#plfa_plfa-part3-Denotational-5857" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-5864" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-5866" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-5868" href="../Denotational/#plfa_plfa-part3-Denotational-5868" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5870" href="../Denotational/#plfa_plfa-part3-Denotational-5870" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5872" href="../Denotational/#plfa_plfa-part3-Denotational-5872" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5874" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-5882" class="Comment">---------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-5920" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-5922" href="../Denotational/#plfa_plfa-part3-Denotational-5868" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5924" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5926" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5927" href="../Denotational/#plfa_plfa-part3-Denotational-5870" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-5929" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5931" href="../Denotational/#plfa_plfa-part3-Denotational-5872" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5933" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5935" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-5937" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5938" href="../Denotational/#plfa_plfa-part3-Denotational-5868" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5940" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5942" href="../Denotational/#plfa_plfa-part3-Denotational-5870" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-5943" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-5945" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-5947" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-5948" href="../Denotational/#plfa_plfa-part3-Denotational-5868" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-5950" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-5952" href="../Denotational/#plfa_plfa-part3-Denotational-5872" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-5954" class="Symbol">)</a>
</pre><p>前五条规则很简单。规则 <code>⊑-fun</code> 刻画了何时可以将高阶参数 <code>v′ ↦ w′</code> 与输入为 <code>v ↦ w</code> 的表格条目相匹配。考虑一个高阶参数的调用，可以传入一个比预期更大的参数， 因此 <code>v</code> 可以大于 <code>v′</code>。此外，还可以忽略某些输出，因此 <code>w</code> 可以小于 <code>w′</code>。 （译注：即作为子类型的函数，其参数是逆变的，返回值是协变的。） 规则 <code>⊑-dist</code> 表示，如果对同一个输入有两个条目相匹配， 则可以将它们合并成一个条目并连接两个输出。</p><p><code>⊑</code> 关系满足自反性：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-refl"></a><a id="plfa_plfa-part3-Denotational-6789" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6796" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-6798" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-6800" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6801" href="../Denotational/#plfa_plfa-part3-Denotational-6801" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-6802" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6804" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-6806" href="../Denotational/#plfa_plfa-part3-Denotational-6801" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6808" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-6810" href="../Denotational/#plfa_plfa-part3-Denotational-6801" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-6812" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6819" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6820" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-6821" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6823" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6825" href="../Denotational/#plfa_plfa-part3-Denotational-5428" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-6831" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6838" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6839" href="../Denotational/#plfa_plfa-part3-Denotational-6839" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-6841" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-6843" href="../Denotational/#plfa_plfa-part3-Denotational-6843" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-6845" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6847" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6849" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-6855" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6862" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-6869" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-6876" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-6877" href="../Denotational/#plfa_plfa-part3-Denotational-6877" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-6880" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-6882" href="../Denotational/#plfa_plfa-part3-Denotational-6882" class="Bound">v₂</a><a id="plfa_plfa-part3-Denotational-6884" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-6886" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-6888" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-6897" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6898" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-6908" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6914" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-6916" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-6917" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-6927" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-6933" class="Symbol">)</a>
</pre><p><code>⊔</code> 运算对 <code>⊑</code> 满足单调性，即给定两个较大的值，它会产生一个更大的值：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑⊔"></a><a id="plfa_plfa-part3-Denotational-7112" href="../Denotational/#plfa_plfa-part3-Denotational-7112" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7116" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7118" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-7120" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-7121" href="../Denotational/#plfa_plfa-part3-Denotational-7121" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7123" href="../Denotational/#plfa_plfa-part3-Denotational-7123" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7125" href="../Denotational/#plfa_plfa-part3-Denotational-7125" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7128" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7130" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7134" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7136" href="../Denotational/#plfa_plfa-part3-Denotational-7121" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7138" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7140" href="../Denotational/#plfa_plfa-part3-Denotational-7125" class="Bound">v′</a>  <a id="plfa_plfa-part3-Denotational-7144" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-7147" href="../Denotational/#plfa_plfa-part3-Denotational-7123" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7149" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7151" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">w′</a>
    <a id="plfa_plfa-part3-Denotational-7158" class="Comment">-----------------------</a>
  <a id="plfa_plfa-part3-Denotational-7184" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7186" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7187" href="../Denotational/#plfa_plfa-part3-Denotational-7121" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7189" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7191" href="../Denotational/#plfa_plfa-part3-Denotational-7123" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7192" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7194" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7196" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7197" href="../Denotational/#plfa_plfa-part3-Denotational-7125" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7200" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7202" href="../Denotational/#plfa_plfa-part3-Denotational-7128" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7204" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7206" href="../Denotational/#plfa_plfa-part3-Denotational-7112" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7210" href="../Denotational/#plfa_plfa-part3-Denotational-7210" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-7213" href="../Denotational/#plfa_plfa-part3-Denotational-7213" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-7216" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7218" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-7227" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7228" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7238" href="../Denotational/#plfa_plfa-part3-Denotational-7210" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-7240" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7242" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7243" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7253" href="../Denotational/#plfa_plfa-part3-Denotational-7213" class="Bound">d₂</a><a id="plfa_plfa-part3-Denotational-7255" class="Symbol">)</a>
</pre><p>即使输入的值不相同，<code>⊑-dist</code> 规则也可用于合并两个条目。首先可以用 <code>⊔</code> 将两个输入合并起来，然后应用 <code>⊑-dist</code> 规则来获得以下属性。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔↦⊔-dist"></a><a id="plfa_plfa-part3-Denotational-7569" href="../Denotational/#plfa_plfa-part3-Denotational-7569" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7578" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7580" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-7582" href="../Denotational/#plfa_plfa-part3-Denotational-7582" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7584" href="../Denotational/#plfa_plfa-part3-Denotational-7584" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7587" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7589" href="../Denotational/#plfa_plfa-part3-Denotational-7589" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-7592" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-7594" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-7599" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-7603" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-7605" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7606" href="../Denotational/#plfa_plfa-part3-Denotational-7582" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7608" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7610" href="../Denotational/#plfa_plfa-part3-Denotational-7584" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-7612" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7614" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7616" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7617" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-7619" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7621" href="../Denotational/#plfa_plfa-part3-Denotational-7589" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7623" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7625" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-7627" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7628" href="../Denotational/#plfa_plfa-part3-Denotational-7582" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-7630" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7632" href="../Denotational/#plfa_plfa-part3-Denotational-7587" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-7633" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7635" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-7637" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7638" href="../Denotational/#plfa_plfa-part3-Denotational-7584" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-7641" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-7643" href="../Denotational/#plfa_plfa-part3-Denotational-7589" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-7645" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-7647" href="../Denotational/#plfa_plfa-part3-Denotational-7569" class="Function">⊔↦⊔-dist</a> <a id="plfa_plfa-part3-Denotational-7656" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-7658" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-7666" href="../Denotational/#plfa_plfa-part3-Denotational-5857" class="InductiveConstructor">⊑-dist</a> <a id="plfa_plfa-part3-Denotational-7673" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7674" href="../Denotational/#plfa_plfa-part3-Denotational-7112" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-7678" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7679" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7685" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7686" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-7696" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7702" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7704" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7710" class="Symbol">)</a>
                            <a id="plfa_plfa-part3-Denotational-7740" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7741" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-7747" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-7748" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-7758" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7764" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-7766" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-7772" class="Symbol">))</a>
</pre><p>如果连接 <code>u ⊔ v</code> 小于另一个值 <code>w</code>，则 <code>u</code> 和 <code>v</code> 都小于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊑-invL"></a><a id="plfa_plfa-part3-Denotational-8025" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8033" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8035" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8037" href="../Denotational/#plfa_plfa-part3-Denotational-8037" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8039" href="../Denotational/#plfa_plfa-part3-Denotational-8039" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8041" href="../Denotational/#plfa_plfa-part3-Denotational-8041" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8043" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8045" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8050" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8054" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8056" href="../Denotational/#plfa_plfa-part3-Denotational-8037" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8058" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8060" href="../Denotational/#plfa_plfa-part3-Denotational-8039" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8062" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8064" href="../Denotational/#plfa_plfa-part3-Denotational-8041" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8070" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8082" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8084" href="../Denotational/#plfa_plfa-part3-Denotational-8037" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8086" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8088" href="../Denotational/#plfa_plfa-part3-Denotational-8041" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8090" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8098" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8099" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8108" href="../Denotational/#plfa_plfa-part3-Denotational-8108" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8112" href="../Denotational/#plfa_plfa-part3-Denotational-8112" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8115" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8117" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8119" href="../Denotational/#plfa_plfa-part3-Denotational-8108" class="Bound">lt1</a>
<a id="plfa_plfa-part3-Denotational-8123" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8131" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8132" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8142" href="../Denotational/#plfa_plfa-part3-Denotational-8142" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8144" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8146" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8148" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8158" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8159" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8167" href="../Denotational/#plfa_plfa-part3-Denotational-8142" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8169" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8171" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8179" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8180" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8190" href="../Denotational/#plfa_plfa-part3-Denotational-8190" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8192" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8194" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8196" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8206" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8207" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8215" href="../Denotational/#plfa_plfa-part3-Denotational-8190" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8217" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8219" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8227" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8228" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8236" href="../Denotational/#plfa_plfa-part3-Denotational-8236" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8240" href="../Denotational/#plfa_plfa-part3-Denotational-8240" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8243" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8245" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8247" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8255" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8256" href="../Denotational/#plfa_plfa-part3-Denotational-8025" class="Function">⊔⊑-invL</a> <a id="plfa_plfa-part3-Denotational-8264" href="../Denotational/#plfa_plfa-part3-Denotational-8236" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8267" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8269" href="../Denotational/#plfa_plfa-part3-Denotational-8240" class="Bound">lt2</a>

<a id="plfa_plfa-part3-Denotational-⊔⊑-invR"></a><a id="plfa_plfa-part3-Denotational-8274" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8282" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8284" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-8286" href="../Denotational/#plfa_plfa-part3-Denotational-8286" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8288" href="../Denotational/#plfa_plfa-part3-Denotational-8288" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8290" href="../Denotational/#plfa_plfa-part3-Denotational-8290" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-8292" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8294" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-8299" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-8303" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8305" href="../Denotational/#plfa_plfa-part3-Denotational-8286" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-8307" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-8309" href="../Denotational/#plfa_plfa-part3-Denotational-8288" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8311" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8313" href="../Denotational/#plfa_plfa-part3-Denotational-8290" class="Bound">w</a>
    <a id="plfa_plfa-part3-Denotational-8319" class="Comment">---------</a>
  <a id="plfa_plfa-part3-Denotational-8331" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8333" href="../Denotational/#plfa_plfa-part3-Denotational-8288" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-8335" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-8337" href="../Denotational/#plfa_plfa-part3-Denotational-8290" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-8339" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8347" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8348" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-8357" href="../Denotational/#plfa_plfa-part3-Denotational-8357" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8361" href="../Denotational/#plfa_plfa-part3-Denotational-8361" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8364" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8366" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8368" href="../Denotational/#plfa_plfa-part3-Denotational-8361" class="Bound">lt2</a>
<a id="plfa_plfa-part3-Denotational-8372" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8380" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8381" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8391" href="../Denotational/#plfa_plfa-part3-Denotational-8391" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8393" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8395" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8397" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-8407" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8408" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8416" href="../Denotational/#plfa_plfa-part3-Denotational-8391" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8418" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8420" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8428" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8429" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8439" href="../Denotational/#plfa_plfa-part3-Denotational-8439" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8441" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8443" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8445" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-8455" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8456" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8464" href="../Denotational/#plfa_plfa-part3-Denotational-8439" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-8466" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8468" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8476" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8477" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8485" href="../Denotational/#plfa_plfa-part3-Denotational-8485" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-8489" href="../Denotational/#plfa_plfa-part3-Denotational-8489" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-8492" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8494" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8496" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-8504" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8505" href="../Denotational/#plfa_plfa-part3-Denotational-8274" class="Function">⊔⊑-invR</a> <a id="plfa_plfa-part3-Denotational-8513" href="../Denotational/#plfa_plfa-part3-Denotational-8485" class="Bound">lt1</a><a id="plfa_plfa-part3-Denotational-8516" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8518" href="../Denotational/#plfa_plfa-part3-Denotational-8489" class="Bound">lt2</a>
</pre><h2 id="环境">环境</h2><p>环境通过将变量映射到值来为项中的自由变量赋予含义：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Env"></a><a id="plfa_plfa-part3-Denotational-8699" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8703" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8705" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-8713" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8715" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-8719" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8723" href="../Denotational/#plfa_plfa-part3-Denotational-8723" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8725" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8727" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8729" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8730" href="../Denotational/#plfa_plfa-part3-Denotational-8730" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-8732" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8734" href="../Denotational/#plfa_plfa-part3-Denotational-8723" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8736" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-8738" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8739" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8741" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8743" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
</pre><p>我们有空环境，且可以扩展环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`∅"></a><a id="plfa_plfa-part3-Denotational-8854" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8857" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8859" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8863" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a>
<a id="plfa_plfa-part3-Denotational-8865" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-8868" class="Symbol">()</a>

<a id="plfa_plfa-part3-Denotational-8872" class="Keyword">infixl</a> <a id="plfa_plfa-part3-Denotational-8879" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-8881" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">_`,_</a>

<a id="plfa_plfa-part3-Denotational-_`,_"></a><a id="plfa_plfa-part3-Denotational-8887" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">_`,_</a> <a id="plfa_plfa-part3-Denotational-8892" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-8894" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-8896" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-8897" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-8898" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-8900" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8902" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8906" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8908" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8910" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-8916" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-8918" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-8922" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8923" href="../Denotational/#plfa_plfa-part3-Denotational-8897" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-8925" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-8927" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-8928" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-8930" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8931" href="../Denotational/#plfa_plfa-part3-Denotational-8931" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8933" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8936" href="../Denotational/#plfa_plfa-part3-Denotational-8936" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8937" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8939" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-8941" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8943" href="../Denotational/#plfa_plfa-part3-Denotational-8936" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-8945" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8946" href="../Denotational/#plfa_plfa-part3-Denotational-8946" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8948" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-8951" href="../Denotational/#plfa_plfa-part3-Denotational-8951" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-8952" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8954" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-8955" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-8957" href="../Denotational/#plfa_plfa-part3-Denotational-8957" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-8958" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-8960" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-8962" href="../Denotational/#plfa_plfa-part3-Denotational-8946" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-8964" href="../Denotational/#plfa_plfa-part3-Denotational-8957" class="Bound">x</a>
</pre><p>我们可以从扩展的环境中恢复以前的环境以及最后添加的值。 将它们再次合并在一起能让我们回到开始：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-init"></a><a id="plfa_plfa-part3-Denotational-9191" href="../Denotational/#plfa_plfa-part3-Denotational-9191" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9196" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9198" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9200" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9201" href="../Denotational/#plfa_plfa-part3-Denotational-9201" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9202" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9204" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9206" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9210" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9211" href="../Denotational/#plfa_plfa-part3-Denotational-9201" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9213" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9215" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9216" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9218" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9220" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9224" href="../Denotational/#plfa_plfa-part3-Denotational-9201" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9226" href="../Denotational/#plfa_plfa-part3-Denotational-9191" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9231" href="../Denotational/#plfa_plfa-part3-Denotational-9231" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9233" href="../Denotational/#plfa_plfa-part3-Denotational-9233" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9235" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9237" href="../Denotational/#plfa_plfa-part3-Denotational-9231" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9239" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9240" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9242" href="../Denotational/#plfa_plfa-part3-Denotational-9233" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9243" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-last"></a><a id="plfa_plfa-part3-Denotational-9246" href="../Denotational/#plfa_plfa-part3-Denotational-9246" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9251" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9253" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9255" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9256" href="../Denotational/#plfa_plfa-part3-Denotational-9256" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9257" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9259" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9261" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9265" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9266" href="../Denotational/#plfa_plfa-part3-Denotational-9256" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9268" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9270" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9271" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9273" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9275" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-9281" href="../Denotational/#plfa_plfa-part3-Denotational-9246" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9286" href="../Denotational/#plfa_plfa-part3-Denotational-9286" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9288" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9290" href="../Denotational/#plfa_plfa-part3-Denotational-9286" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9292" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>

<a id="plfa_plfa-part3-Denotational-init-last"></a><a id="plfa_plfa-part3-Denotational-9295" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9305" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9307" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9309" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9310" href="../Denotational/#plfa_plfa-part3-Denotational-9310" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9311" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9313" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9315" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9316" href="../Denotational/#plfa_plfa-part3-Denotational-9316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9318" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9320" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9324" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9325" href="../Denotational/#plfa_plfa-part3-Denotational-9310" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9327" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9329" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9330" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-9333" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9335" href="../Denotational/#plfa_plfa-part3-Denotational-9316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9337" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9339" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9340" href="../Denotational/#plfa_plfa-part3-Denotational-9191" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9345" href="../Denotational/#plfa_plfa-part3-Denotational-9316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9347" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9350" href="../Denotational/#plfa_plfa-part3-Denotational-9246" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9355" href="../Denotational/#plfa_plfa-part3-Denotational-9316" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9356" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-9358" href="../Denotational/#plfa_plfa-part3-Denotational-9295" class="Function">init-last</a> <a id="plfa_plfa-part3-Denotational-9368" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9369" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9370" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9372" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9374" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9376" href="../Substitution/#plfa_plfa-part2-Substitution-1854" class="Postulate">extensionality</a> <a id="plfa_plfa-part3-Denotational-9391" href="../Denotational/#plfa_plfa-part3-Denotational-9405" class="Function">lemma</a>
  <a id="plfa_plfa-part3-Denotational-9399" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-9405" href="../Denotational/#plfa_plfa-part3-Denotational-9405" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9411" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9413" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9415" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9416" href="../Denotational/#plfa_plfa-part3-Denotational-9416" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9418" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9420" href="../Denotational/#plfa_plfa-part3-Denotational-9369" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9422" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-9424" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-9426" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9428" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9429" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9431" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9433" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9435" href="../Denotational/#plfa_plfa-part3-Denotational-9416" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9437" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-9439" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9440" href="../Denotational/#plfa_plfa-part3-Denotational-9191" class="Function">init</a> <a id="plfa_plfa-part3-Denotational-9445" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9447" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-9450" href="../Denotational/#plfa_plfa-part3-Denotational-9246" class="Function">last</a> <a id="plfa_plfa-part3-Denotational-9455" href="../Denotational/#plfa_plfa-part3-Denotational-9372" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-9456" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9458" href="../Denotational/#plfa_plfa-part3-Denotational-9416" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-9468" href="../Denotational/#plfa_plfa-part3-Denotational-9405" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9474" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a>      <a id="plfa_plfa-part3-Denotational-9481" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9484" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="plfa_plfa-part3-Denotational-9497" href="../Denotational/#plfa_plfa-part3-Denotational-9405" class="Function">lemma</a> <a id="plfa_plfa-part3-Denotational-9503" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9504" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-9506" href="../Denotational/#plfa_plfa-part3-Denotational-9506" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-9507" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-9510" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-9513" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><p>我们将 <code>⊑</code> 关系逐点（Point-wise）扩展到具有以下定义的环境：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_`⊑_"></a><a id="plfa_plfa-part3-Denotational-9665" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9670" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9672" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9674" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9675" href="../Denotational/#plfa_plfa-part3-Denotational-9675" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9676" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9678" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9680" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9684" href="../Denotational/#plfa_plfa-part3-Denotational-9675" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9686" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9688" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9692" href="../Denotational/#plfa_plfa-part3-Denotational-9675" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9694" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9696" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-9700" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">_`⊑_</a> <a id="plfa_plfa-part3-Denotational-9705" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9706" href="../Denotational/#plfa_plfa-part3-Denotational-9706" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9707" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9709" href="../Denotational/#plfa_plfa-part3-Denotational-9709" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9711" href="../Denotational/#plfa_plfa-part3-Denotational-9711" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9713" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9715" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9717" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9718" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9720" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9722" href="../Denotational/#plfa_plfa-part3-Denotational-9706" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9724" href="../Untyped/#plfa_plfa-part2-Untyped-4374" class="Datatype Operator">∋</a> <a id="plfa_plfa-part3-Denotational-9726" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-9727" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9729" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9731" href="../Denotational/#plfa_plfa-part3-Denotational-9709" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9733" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9735" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-9737" href="../Denotational/#plfa_plfa-part3-Denotational-9711" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-9739" href="../Denotational/#plfa_plfa-part3-Denotational-9718" class="Bound">x</a>
</pre><p>我们定义了一个底环境和一个环境上的连接运算符，它接受它们的值的逐点连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊥"></a><a id="plfa_plfa-part3-Denotational-9919" href="../Denotational/#plfa_plfa-part3-Denotational-9919" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9922" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9924" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9926" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9927" href="../Denotational/#plfa_plfa-part3-Denotational-9927" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9928" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9930" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9932" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9936" href="../Denotational/#plfa_plfa-part3-Denotational-9927" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9938" href="../Denotational/#plfa_plfa-part3-Denotational-9919" class="Function">`⊥</a> <a id="plfa_plfa-part3-Denotational-9941" href="../Denotational/#plfa_plfa-part3-Denotational-9941" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9943" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9945" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>

<a id="plfa_plfa-part3-Denotational-_`⊔_"></a><a id="plfa_plfa-part3-Denotational-9948" href="../Denotational/#plfa_plfa-part3-Denotational-9948" class="Function Operator">_`⊔_</a> <a id="plfa_plfa-part3-Denotational-9953" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-9955" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-9957" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-9958" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-9959" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-9961" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9963" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9967" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9969" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9971" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9975" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-9977" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-9979" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-9983" href="../Denotational/#plfa_plfa-part3-Denotational-9958" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-9985" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-9986" href="../Denotational/#plfa_plfa-part3-Denotational-9986" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-9988" href="../Denotational/#plfa_plfa-part3-Denotational-9948" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-9991" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-9992" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-9994" href="../Denotational/#plfa_plfa-part3-Denotational-9994" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-9996" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-9998" href="../Denotational/#plfa_plfa-part3-Denotational-9986" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10000" href="../Denotational/#plfa_plfa-part3-Denotational-9994" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10002" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-10004" href="../Denotational/#plfa_plfa-part3-Denotational-9991" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10006" href="../Denotational/#plfa_plfa-part3-Denotational-9994" class="Bound">x</a>
</pre><p><code>⊑-refl</code>、<code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 规则对环境也适用，因此两个环境 <code>γ</code> 和 <code>δ</code> 的连接大于第一个环境 <code>γ</code> 或第二个环境 <code>δ</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-`⊑-refl"></a><a id="plfa_plfa-part3-Denotational-10508" href="../Denotational/#plfa_plfa-part3-Denotational-10508" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10516" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10518" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10520" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10521" href="../Denotational/#plfa_plfa-part3-Denotational-10521" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10522" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10524" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10525" href="../Denotational/#plfa_plfa-part3-Denotational-10525" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10527" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10529" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10533" href="../Denotational/#plfa_plfa-part3-Denotational-10521" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10534" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10536" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10538" href="../Denotational/#plfa_plfa-part3-Denotational-10525" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10540" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10543" href="../Denotational/#plfa_plfa-part3-Denotational-10525" class="Bound">γ</a>
<a id="plfa_plfa-part3-Denotational-10545" href="../Denotational/#plfa_plfa-part3-Denotational-10508" class="Function">`⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10553" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10554" href="../Denotational/#plfa_plfa-part3-Denotational-10554" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10555" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10557" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10558" href="../Denotational/#plfa_plfa-part3-Denotational-10558" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-10559" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10561" href="../Denotational/#plfa_plfa-part3-Denotational-10561" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10563" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10565" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-10572" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10573" href="../Denotational/#plfa_plfa-part3-Denotational-10558" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10575" href="../Denotational/#plfa_plfa-part3-Denotational-10561" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-10576" class="Symbol">}</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R1"></a><a id="plfa_plfa-part3-Denotational-10579" href="../Denotational/#plfa_plfa-part3-Denotational-10579" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10593" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10595" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10597" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10598" href="../Denotational/#plfa_plfa-part3-Denotational-10598" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10599" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10601" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10603" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10604" href="../Denotational/#plfa_plfa-part3-Denotational-10604" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10606" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10608" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10612" href="../Denotational/#plfa_plfa-part3-Denotational-10598" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10613" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10615" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10617" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10618" href="../Denotational/#plfa_plfa-part3-Denotational-10618" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10622" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10626" href="../Denotational/#plfa_plfa-part3-Denotational-10598" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10627" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10629" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10631" href="../Denotational/#plfa_plfa-part3-Denotational-10604" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10633" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10636" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10637" href="../Denotational/#plfa_plfa-part3-Denotational-10604" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10639" href="../Denotational/#plfa_plfa-part3-Denotational-9948" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10642" href="../Denotational/#plfa_plfa-part3-Denotational-10618" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10643" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10645" href="../Denotational/#plfa_plfa-part3-Denotational-10579" class="Function">⊑-env-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10659" href="../Denotational/#plfa_plfa-part3-Denotational-10659" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10661" href="../Denotational/#plfa_plfa-part3-Denotational-10661" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10663" href="../Denotational/#plfa_plfa-part3-Denotational-10663" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10665" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10667" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-10677" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>

<a id="plfa_plfa-part3-Denotational-⊑-env-conj-R2"></a><a id="plfa_plfa-part3-Denotational-10685" href="../Denotational/#plfa_plfa-part3-Denotational-10685" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10699" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10701" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-10703" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-10704" href="../Denotational/#plfa_plfa-part3-Denotational-10704" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10705" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-10707" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10709" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10710" href="../Denotational/#plfa_plfa-part3-Denotational-10710" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10712" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10714" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10718" href="../Denotational/#plfa_plfa-part3-Denotational-10704" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10719" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10721" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10723" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10724" href="../Denotational/#plfa_plfa-part3-Denotational-10724" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10726" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-10728" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-10732" href="../Denotational/#plfa_plfa-part3-Denotational-10704" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-10733" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-10735" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-10737" href="../Denotational/#plfa_plfa-part3-Denotational-10724" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10739" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-10742" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-10743" href="../Denotational/#plfa_plfa-part3-Denotational-10710" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10745" href="../Denotational/#plfa_plfa-part3-Denotational-9948" class="Function Operator">`⊔</a> <a id="plfa_plfa-part3-Denotational-10748" href="../Denotational/#plfa_plfa-part3-Denotational-10724" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-10749" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-10751" href="../Denotational/#plfa_plfa-part3-Denotational-10685" class="Function">⊑-env-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10765" href="../Denotational/#plfa_plfa-part3-Denotational-10765" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-10767" href="../Denotational/#plfa_plfa-part3-Denotational-10767" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-10769" href="../Denotational/#plfa_plfa-part3-Denotational-10769" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-10771" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-10773" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-10783" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>
</pre><h2 id="指称语义">指称语义</h2><p>我们用形如 <code>ρ ⊢ M ↓ v</code> 的判断来定义语义，其中 <code>ρ</code> 是环境，<code>M</code> 程序，<code>v</code> 是结果值。 对于熟悉大步语义的读者来说，这种表示法会感觉很自然，但不要让这种相似性欺骗了你。 二者之间存在细微但重要的差异！下面是语义的定义，我们将在后面的段落中详细讨论：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-11403" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-11409" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-11411" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">_⊢_↓_</a>

<a id="plfa_plfa-part3-Denotational-11418" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-_⊢_↓_"></a><a id="plfa_plfa-part3-Denotational-11423" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">_⊢_↓_</a> <a id="plfa_plfa-part3-Denotational-11429" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11431" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-11433" href="../Denotational/#plfa_plfa-part3-Denotational-11433" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11434" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11436" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11438" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11442" href="../Denotational/#plfa_plfa-part3-Denotational-11433" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11444" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11446" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11447" href="../Denotational/#plfa_plfa-part3-Denotational-11433" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-11449" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11451" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-11452" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11454" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11456" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-11462" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11464" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-11468" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.var"></a><a id="plfa_plfa-part3-Denotational-11477" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-11481" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11483" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11485" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11486" href="../Denotational/#plfa_plfa-part3-Denotational-11486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11487" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11489" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11490" href="../Denotational/#plfa_plfa-part3-Denotational-11490" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11492" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11494" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11498" href="../Denotational/#plfa_plfa-part3-Denotational-11486" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11499" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11501" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11502" href="../Denotational/#plfa_plfa-part3-Denotational-11502" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11503" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11511" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11531" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11533" href="../Denotational/#plfa_plfa-part3-Denotational-11490" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11535" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11537" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11538" href="../Untyped/#plfa_plfa-part2-Untyped-5453" class="InductiveConstructor Operator">`</a> <a id="plfa_plfa-part3-Denotational-11540" href="../Denotational/#plfa_plfa-part3-Denotational-11502" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-11541" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11543" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11545" href="../Denotational/#plfa_plfa-part3-Denotational-11490" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11547" href="../Denotational/#plfa_plfa-part3-Denotational-11502" class="Bound">x</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-elim"></a><a id="plfa_plfa-part3-Denotational-11552" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-11559" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11561" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11563" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11564" href="../Denotational/#plfa_plfa-part3-Denotational-11564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11565" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11567" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11568" href="../Denotational/#plfa_plfa-part3-Denotational-11568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11570" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11572" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11576" href="../Denotational/#plfa_plfa-part3-Denotational-11564" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11577" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11579" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11580" href="../Denotational/#plfa_plfa-part3-Denotational-11580" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11582" href="../Denotational/#plfa_plfa-part3-Denotational-11582" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11584" href="../Denotational/#plfa_plfa-part3-Denotational-11584" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11586" href="../Denotational/#plfa_plfa-part3-Denotational-11586" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11587" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11593" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11595" href="../Denotational/#plfa_plfa-part3-Denotational-11568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11597" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11599" href="../Denotational/#plfa_plfa-part3-Denotational-11580" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11601" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11603" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11604" href="../Denotational/#plfa_plfa-part3-Denotational-11584" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11606" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11608" href="../Denotational/#plfa_plfa-part3-Denotational-11586" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11609" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-11615" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11617" href="../Denotational/#plfa_plfa-part3-Denotational-11568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11619" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11621" href="../Denotational/#plfa_plfa-part3-Denotational-11582" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11623" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11625" href="../Denotational/#plfa_plfa-part3-Denotational-11584" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-11633" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11653" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11655" href="../Denotational/#plfa_plfa-part3-Denotational-11568" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11657" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11659" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11660" href="../Denotational/#plfa_plfa-part3-Denotational-11580" class="Bound">L</a> <a id="plfa_plfa-part3-Denotational-11662" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-11664" href="../Denotational/#plfa_plfa-part3-Denotational-11582" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11665" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11667" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11669" href="../Denotational/#plfa_plfa-part3-Denotational-11586" class="Bound">w</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.↦-intro"></a><a id="plfa_plfa-part3-Denotational-11674" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-11682" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11684" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11686" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11687" href="../Denotational/#plfa_plfa-part3-Denotational-11687" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11688" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11690" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11691" href="../Denotational/#plfa_plfa-part3-Denotational-11691" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11693" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11695" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11699" href="../Denotational/#plfa_plfa-part3-Denotational-11687" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11700" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11702" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11703" href="../Denotational/#plfa_plfa-part3-Denotational-11703" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11705" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11707" href="../Denotational/#plfa_plfa-part3-Denotational-11707" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11708" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11714" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11716" href="../Denotational/#plfa_plfa-part3-Denotational-11691" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11718" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-11721" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11723" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11725" href="../Denotational/#plfa_plfa-part3-Denotational-11703" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-11727" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11729" href="../Denotational/#plfa_plfa-part3-Denotational-11707" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11737" class="Comment">-------------------</a>
    <a id="plfa_plfa-part3-Denotational-11761" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11763" href="../Denotational/#plfa_plfa-part3-Denotational-11691" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11765" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11767" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11768" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-11770" href="../Denotational/#plfa_plfa-part3-Denotational-11703" class="Bound">N</a><a id="plfa_plfa-part3-Denotational-11771" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-11773" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11775" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11776" href="../Denotational/#plfa_plfa-part3-Denotational-11705" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11778" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-11780" href="../Denotational/#plfa_plfa-part3-Denotational-11707" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11781" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊥-intro"></a><a id="plfa_plfa-part3-Denotational-11786" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-11794" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11796" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11798" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11799" href="../Denotational/#plfa_plfa-part3-Denotational-11799" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11800" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11802" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11803" href="../Denotational/#plfa_plfa-part3-Denotational-11803" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11805" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11807" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11811" href="../Denotational/#plfa_plfa-part3-Denotational-11799" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11812" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11814" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11815" href="../Denotational/#plfa_plfa-part3-Denotational-11815" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-11816" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-11824" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-11838" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11840" href="../Denotational/#plfa_plfa-part3-Denotational-11803" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11842" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11844" href="../Denotational/#plfa_plfa-part3-Denotational-11815" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11846" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11848" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.⊔-intro"></a><a id="plfa_plfa-part3-Denotational-11853" href="../Denotational/#plfa_plfa-part3-Denotational-11853" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-11861" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11863" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11865" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11866" href="../Denotational/#plfa_plfa-part3-Denotational-11866" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11867" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11869" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11870" href="../Denotational/#plfa_plfa-part3-Denotational-11870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11872" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11874" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11878" href="../Denotational/#plfa_plfa-part3-Denotational-11866" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11879" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11881" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11882" href="../Denotational/#plfa_plfa-part3-Denotational-11882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11884" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11886" href="../Denotational/#plfa_plfa-part3-Denotational-11886" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11887" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-11893" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11895" href="../Denotational/#plfa_plfa-part3-Denotational-11870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11897" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11899" href="../Denotational/#plfa_plfa-part3-Denotational-11882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11901" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11903" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-11909" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11911" href="../Denotational/#plfa_plfa-part3-Denotational-11870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11913" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11915" href="../Denotational/#plfa_plfa-part3-Denotational-11882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11917" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11919" href="../Denotational/#plfa_plfa-part3-Denotational-11886" class="Bound">w</a>
      <a id="plfa_plfa-part3-Denotational-11927" class="Comment">---------------</a>
    <a id="plfa_plfa-part3-Denotational-11947" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-11949" href="../Denotational/#plfa_plfa-part3-Denotational-11870" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11951" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-11953" href="../Denotational/#plfa_plfa-part3-Denotational-11882" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11955" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-11957" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-11958" href="../Denotational/#plfa_plfa-part3-Denotational-11884" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11960" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-11962" href="../Denotational/#plfa_plfa-part3-Denotational-11886" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11963" class="Symbol">)</a>

  <a id="plfa_plfa-part3-Denotational-_⊢_↓_.sub"></a><a id="plfa_plfa-part3-Denotational-11968" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-11972" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11974" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-11976" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11977" href="../Denotational/#plfa_plfa-part3-Denotational-11977" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11978" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11980" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11981" href="../Denotational/#plfa_plfa-part3-Denotational-11981" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-11983" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-11985" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-11989" href="../Denotational/#plfa_plfa-part3-Denotational-11977" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-11990" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-11992" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-11993" href="../Denotational/#plfa_plfa-part3-Denotational-11993" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-11995" href="../Denotational/#plfa_plfa-part3-Denotational-11995" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-11997" href="../Denotational/#plfa_plfa-part3-Denotational-11997" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-11998" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-12004" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12006" href="../Denotational/#plfa_plfa-part3-Denotational-11981" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12008" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12010" href="../Denotational/#plfa_plfa-part3-Denotational-11993" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12012" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12014" href="../Denotational/#plfa_plfa-part3-Denotational-11995" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-12020" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12022" href="../Denotational/#plfa_plfa-part3-Denotational-11997" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-12024" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-12026" href="../Denotational/#plfa_plfa-part3-Denotational-11995" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-12034" class="Comment">---------</a>
    <a id="plfa_plfa-part3-Denotational-12048" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12050" href="../Denotational/#plfa_plfa-part3-Denotational-11981" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12052" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12054" href="../Denotational/#plfa_plfa-part3-Denotational-11993" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-12056" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12058" href="../Denotational/#plfa_plfa-part3-Denotational-11997" class="Bound">w</a>
</pre><p>考虑 λ-抽象的规则 <code>↦-intro</code>，它表示 λ-抽象会生成一个单条目的表，该表将输入 <code>v</code> 映射到输出 <code>w</code>，前提是在 <code>v</code> 绑定到形参的环境中求值时会产生输出 <code>w</code>。 作为此规则的简单示例，我们可以看到恒等函数将 <code>⊥</code> 映射到 <code>⊥</code>，同样也会将 <code>⊥</code> ↦ <code>⊥</code> 映射到 <code>⊥ ↦ ⊥</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id"></a><a id="plfa_plfa-part3-Denotational-12634" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12637" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12639" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-12641" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12643" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-12645" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12648" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12650" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-12652" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-12654" class="Number">0</a>
</pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id1"></a><a id="plfa_plfa-part3-Denotational-12669" href="../Denotational/#plfa_plfa-part3-Denotational-12669" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12679" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12681" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12683" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12684" href="../Denotational/#plfa_plfa-part3-Denotational-12684" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12685" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12687" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12689" href="../Denotational/#plfa_plfa-part3-Denotational-12684" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12691" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12693" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12696" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12698" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12700" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12702" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-12704" href="../Denotational/#plfa_plfa-part3-Denotational-12669" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-12714" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12716" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12724" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a>

<a id="plfa_plfa-part3-Denotational-denot-id2"></a><a id="plfa_plfa-part3-Denotational-12729" href="../Denotational/#plfa_plfa-part3-Denotational-12729" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12739" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-12741" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-12743" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-12744" href="../Denotational/#plfa_plfa-part3-Denotational-12744" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-12745" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-12747" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-12749" href="../Denotational/#plfa_plfa-part3-Denotational-12744" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-12751" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-12753" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-12756" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-12758" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12759" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12761" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12763" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12764" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-12766" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12768" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-12769" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-12771" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-12773" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-12774" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-12776" href="../Denotational/#plfa_plfa-part3-Denotational-12729" class="Function">denot-id2</a> <a id="plfa_plfa-part3-Denotational-12786" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-12788" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-12796" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a>
</pre><p>当然，我们需要多行表格来刻画 λ-抽象的含义。它们可以用 <code>⊔-intro</code> 规则构建。如果项 <code>M</code>（通常是一个 λ-抽象）可以产生表格 <code>v</code> 和 <code>w</code>， 那么它也可以产生合并的表格 <code>v ⊔ w</code>。我们可以从操作的视角看待规则 <code>↦-intro</code> 和 <code>⊔-intro</code>。想象一下，当解释器首次遇到 λ-抽象时， 它会在许多随机选择的参数上预先对函数求值，使用多个 <code>↦-intro</code> 规则的实例，然后再使用多个 <code>⊔-intro</code> 规则将它们合并成一个大表格。 在接下来的内容中，我们将展示恒等函数产生一个包含上述两个结果的表格 <code>⊥ ↦ ⊥</code>和<code>(⊥ ↦ ⊥) ↦ (⊥ ↦ ⊥)</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-id3"></a><a id="plfa_plfa-part3-Denotational-13877" href="../Denotational/#plfa_plfa-part3-Denotational-13877" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13887" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-13889" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-13892" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-13894" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-13897" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-13899" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13900" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13902" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13904" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13905" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13907" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-13909" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13910" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13912" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13914" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13915" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-13917" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13919" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-13920" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-13922" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-13924" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-13925" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-13927" href="../Denotational/#plfa_plfa-part3-Denotational-13877" class="Function">denot-id3</a> <a id="plfa_plfa-part3-Denotational-13937" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-13939" href="../Denotational/#plfa_plfa-part3-Denotational-11853" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-13947" href="../Denotational/#plfa_plfa-part3-Denotational-12669" class="Function">denot-id1</a> <a id="plfa_plfa-part3-Denotational-13957" href="../Denotational/#plfa_plfa-part3-Denotational-12729" class="Function">denot-id2</a>
</pre><p>我们通常认为判断 <code>γ ⊢ M ↓ v</code> 以环境 <code>γ</code> 和项 <code>M</code> 为输入，产生结果 <code>v</code>。 然而重点在于，语义是一种<strong>关系</strong>。上述恒等函数的结果表明， 相同的环境和项可以映射为不同的结果。然而，对于给定的 <code>γ</code> 和 <code>M</code> ，它们的结果并不会有<strong>太大</strong>区别，毕竟它们都是同一个函数的有限近似。 或许考虑判断 <code>γ ⊢ M ↓ v</code> 更好的方法是将 <code>γ</code>、<code>M</code> 和 <code>v</code> 都视为输入， 其语义则是判定 <code>v</code> 是否为精确的环境 <code>γ</code> 中 <code>M</code> 的求值结果的部分描述。</p><p>接下来我们考虑 <code>↦-elim</code> 规则给出的函数应用的含义。 以此规则为前提，我们有规则 <code>L</code> 将 <code>v</code> 映射到 <code>w</code>。 因此，如果 <code>M</code> 产生 <code>v</code>，那么将 <code>L</code> 应用于 <code>M</code> 会产生 <code>w</code>。</p><p>举一个函数应用和 <code>↦-elim</code> 规则的例子，我们将恒等函数应用于自身。 实际上，我们有 <code>∅ ⊢ id ↓ (u ↦ u) ↦ (u ↦ u)</code> 的同时还有 <code>∅ ⊢ id ↓ (u ↦ u)</code>，因此我们可以应用规则 <code>↦-elim</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-id-app-id"></a><a id="plfa_plfa-part3-Denotational-15614" href="../Denotational/#plfa_plfa-part3-Denotational-15614" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15624" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15626" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-15628" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15629" href="../Denotational/#plfa_plfa-part3-Denotational-15629" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15631" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-15633" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-15638" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15640" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-15642" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-15645" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-15647" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15650" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-15652" href="../Denotational/#plfa_plfa-part3-Denotational-12634" class="Function">id</a> <a id="plfa_plfa-part3-Denotational-15655" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-15657" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15658" href="../Denotational/#plfa_plfa-part3-Denotational-15629" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-15660" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-15662" href="../Denotational/#plfa_plfa-part3-Denotational-15629" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15663" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-15665" href="../Denotational/#plfa_plfa-part3-Denotational-15614" class="Function">id-app-id</a> <a id="plfa_plfa-part3-Denotational-15675" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-15676" href="../Denotational/#plfa_plfa-part3-Denotational-15676" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-15677" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-15679" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-15681" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-15688" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15689" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15697" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15700" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-15702" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-15703" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-15711" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-15714" class="Symbol">)</a>
</pre><p>接着我们重新考虑丘奇数 <code>2</code>：<code>λ f. λ u. (f (f u))</code>。该函数有两个参数：<code>f</code> 和一个任意值 <code>u</code>，并将 <code>f</code> 应用两次。于是 <code>f</code> 必定将 <code>u</code> 映射到某个值， 我们将其命名为 <code>v</code>。接着，对于第二次应用，<code>f</code> 必定将 <code>v</code> 映射到某个值， 我们将其命名为 <code>w</code>。因此该函数的表格必定包含两个条目，即 <code>u ↦ v</code> 和 <code>v ↦ w</code>。 对于该表格的每一次应用，我们用 <code>sub</code> 规则提取对应的条目。具体来说， 就是用 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code> 从表格 <code>u ↦ v ⊔ v ↦ w</code> 中分别选出 <code>u ↦ v</code> 和 <code>v ↦ w</code>。所以 <code>twoᶜ</code> 的含义就是接受该表格和参数 <code>u</code>，然后返回 <code>w</code>。 实际上我们是通过以下过程把它推导出来的：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-twoᶜ"></a><a id="plfa_plfa-part3-Denotational-16835" href="../Denotational/#plfa_plfa-part3-Denotational-16835" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16846" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16848" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-16850" href="../Denotational/#plfa_plfa-part3-Denotational-16850" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16852" href="../Denotational/#plfa_plfa-part3-Denotational-16852" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16854" href="../Denotational/#plfa_plfa-part3-Denotational-16854" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-16856" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-16858" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-16863" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16865" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-16867" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-16870" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-16872" href="../Untyped/#plfa_plfa-part2-Untyped-6785" class="Function">twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16877" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-16879" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-16881" href="../Denotational/#plfa_plfa-part3-Denotational-16850" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16883" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16885" href="../Denotational/#plfa_plfa-part3-Denotational-16852" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16887" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-16889" href="../Denotational/#plfa_plfa-part3-Denotational-16852" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-16891" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16893" href="../Denotational/#plfa_plfa-part3-Denotational-16854" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16894" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16896" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16898" href="../Denotational/#plfa_plfa-part3-Denotational-16850" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-16900" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-16902" href="../Denotational/#plfa_plfa-part3-Denotational-16854" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16903" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-16905" href="../Denotational/#plfa_plfa-part3-Denotational-16835" class="Function">denot-twoᶜ</a> <a id="plfa_plfa-part3-Denotational-16916" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-16917" href="../Denotational/#plfa_plfa-part3-Denotational-16917" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-16918" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16920" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-16921" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-16923" href="../Denotational/#plfa_plfa-part3-Denotational-16923" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-16924" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-16926" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-16930" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16938" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16939" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-16947" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16948" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16955" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16956" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16960" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16964" href="../Denotational/#plfa_plfa-part3-Denotational-17006" class="Function">lt1</a><a id="plfa_plfa-part3-Denotational-16967" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16969" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16970" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-16977" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-16978" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-16982" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-16986" href="../Denotational/#plfa_plfa-part3-Denotational-17089" class="Function">lt2</a><a id="plfa_plfa-part3-Denotational-16989" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-16991" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a><a id="plfa_plfa-part3-Denotational-16994" class="Symbol">)))</a>
  <a id="plfa_plfa-part3-Denotational-17000" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-17006" href="../Denotational/#plfa_plfa-part3-Denotational-17006" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17010" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17012" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17014" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17016" href="../Denotational/#plfa_plfa-part3-Denotational-16923" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17018" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17020" href="../Denotational/#plfa_plfa-part3-Denotational-16917" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17022" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17024" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17026" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17028" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17030" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17032" href="../Denotational/#plfa_plfa-part3-Denotational-16923" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17042" href="../Denotational/#plfa_plfa-part3-Denotational-17006" class="Function">lt1</a> <a id="plfa_plfa-part3-Denotational-17046" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17048" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-17058" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17059" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17065" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17072" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17078" class="Symbol">)</a>

        <a id="plfa_plfa-part3-Denotational-17089" href="../Denotational/#plfa_plfa-part3-Denotational-17089" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17093" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17095" href="../Denotational/#plfa_plfa-part3-Denotational-16917" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17097" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17099" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17101" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-17103" href="../Denotational/#plfa_plfa-part3-Denotational-16917" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-17105" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17107" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17109" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17111" href="../Denotational/#plfa_plfa-part3-Denotational-16920" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17113" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17115" href="../Denotational/#plfa_plfa-part3-Denotational-16923" class="Bound">w</a>
        <a id="plfa_plfa-part3-Denotational-17125" href="../Denotational/#plfa_plfa-part3-Denotational-17089" class="Function">lt2</a> <a id="plfa_plfa-part3-Denotational-17129" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17131" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17132" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17142" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17143" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-17149" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-17156" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17162" class="Symbol">))</a>
</pre><p>接下来展示一个自应用的经典例子：<code>Δ = λx. (x x)</code>。 <code>x</code> 的输入值必须是一个表格，其中有一个条目将其自身较小的版本 <code>v</code> 映射到某个值 <code>w</code>，所以输入值类似于 <code>v ↦ w ⊔ v</code>。当然， <code>Δ</code> 的输出就是 <code>w</code>，推导过程如下所示。第一个 <code>x</code> 求值为 <code>v ↦ w</code>， 第二个 <code>x</code> 求值为 <code>v</code>，应用的结果为 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Δ"></a><a id="plfa_plfa-part3-Denotational-17845" href="../Denotational/#plfa_plfa-part3-Denotational-17845" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17847" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17849" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-17851" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17853" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-17855" href="../Denotational/#plfa_plfa-part3-Denotational-17845" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17857" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17859" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17860" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-17862" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17863" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17865" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17866" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17868" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-17870" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17871" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-17873" class="Number">0</a><a id="plfa_plfa-part3-Denotational-17874" class="Symbol">))</a>

<a id="plfa_plfa-part3-Denotational-denot-Δ"></a><a id="plfa_plfa-part3-Denotational-17878" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17886" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-17888" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-17890" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-17891" href="../Denotational/#plfa_plfa-part3-Denotational-17891" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17893" href="../Denotational/#plfa_plfa-part3-Denotational-17893" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17894" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-17896" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-17898" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-17901" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-17903" href="../Denotational/#plfa_plfa-part3-Denotational-17845" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-17905" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-17907" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-17909" href="../Denotational/#plfa_plfa-part3-Denotational-17891" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-17911" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17913" href="../Denotational/#plfa_plfa-part3-Denotational-17893" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-17915" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-17917" href="../Denotational/#plfa_plfa-part3-Denotational-17891" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-17918" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-17920" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-17922" href="../Denotational/#plfa_plfa-part3-Denotational-17893" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-17923" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-17925" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-17933" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-17935" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-17943" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17944" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-17951" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17952" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-17956" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-17960" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-17961" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-17971" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-17977" class="Symbol">))</a>
                          <a id="plfa_plfa-part3-Denotational-18006" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18007" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-18011" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-18015" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-18016" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-18026" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a><a id="plfa_plfa-part3-Denotational-18032" class="Symbol">)))</a>
</pre><p>你可能会担心这种语义是否可以处理发散的程序。值 <code>⊥</code> 和规则 <code>⊥-intro</code> 提供了一种处理它们的方法（<code>⊥-intro</code> 规则也是 β-规约能够应用于不停机参数的原因）。 经典的 <code>Ω</code> 程序是一个特别简单的发散程序，它将 <code>Δ</code> 应用于自身，语义赋予 <code>Ω</code> 含义 <code>⊥</code>。有多种方法可以得出它，我们将从使用 <code>⊔-intro</code> 规则的方法开始。 首先，<code>denot-Δ</code> 告诉我们 <code>Δ</code> 的计算结果为 <code>((⊥ ↦ ⊥) ⊔ ⊥) ↦ ⊥</code>（选择 <code>v₁ = v2 = ⊥</code> ）。接着，<code>Δ</code> 还通过使用 <code>↦-intro</code> 和 <code>⊥-intro</code> 求值为 <code>⊥ ↦ ⊥</code>，并通过 <code>⊥-intro</code> 求值为 <code>⊥</code>。正如我们之前所看到的， 只要我们能证明程序会求值出两个值，我们就能应用 <code>⊔-intro</code> 将它们连接在一起， 于是 <code>Δ</code> 求值为 <code>(⊥ ↦ ⊥) ⊔ ⊥</code>，这与第一个 <code>Δ</code> 的输入相匹配， 因此可得应用的结果是 <code>⊥</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Ω"></a><a id="plfa_plfa-part3-Denotational-19432" href="../Denotational/#plfa_plfa-part3-Denotational-19432" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19434" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19436" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-19438" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19440" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-19442" href="../Denotational/#plfa_plfa-part3-Denotational-19432" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19444" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19446" href="../Denotational/#plfa_plfa-part3-Denotational-17845" class="Function">Δ</a> <a id="plfa_plfa-part3-Denotational-19448" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-19450" href="../Denotational/#plfa_plfa-part3-Denotational-17845" class="Function">Δ</a>

<a id="plfa_plfa-part3-Denotational-denot-Ω"></a><a id="plfa_plfa-part3-Denotational-19453" href="../Denotational/#plfa_plfa-part3-Denotational-19453" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19461" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19463" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19466" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19468" href="../Denotational/#plfa_plfa-part3-Denotational-19432" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19470" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19472" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19474" href="../Denotational/#plfa_plfa-part3-Denotational-19453" class="Function">denot-Ω</a> <a id="plfa_plfa-part3-Denotational-19482" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19484" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-19491" href="../Denotational/#plfa_plfa-part3-Denotational-17878" class="Function">denot-Δ</a> <a id="plfa_plfa-part3-Denotational-19499" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19500" href="../Denotational/#plfa_plfa-part3-Denotational-11853" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-19508" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-19509" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-19517" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19524" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-19526" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a><a id="plfa_plfa-part3-Denotational-19533" class="Symbol">)</a>
</pre><p>同一结果的较短推导就是单纯使用 <code>⊥-intro</code> 规则：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-denot-Ω&#39;"></a><a id="plfa_plfa-part3-Denotational-19671" href="../Denotational/#plfa_plfa-part3-Denotational-19671" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19680" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-19682" href="../Denotational/#plfa_plfa-part3-Denotational-8854" class="Function">`∅</a> <a id="plfa_plfa-part3-Denotational-19685" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-19687" href="../Denotational/#plfa_plfa-part3-Denotational-19432" class="Function">Ω</a> <a id="plfa_plfa-part3-Denotational-19689" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-19691" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-19693" href="../Denotational/#plfa_plfa-part3-Denotational-19671" class="Function">denot-Ω&#39;</a> <a id="plfa_plfa-part3-Denotational-19702" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-19704" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a>
</pre><p>仅凭对某个封闭项 <code>M</code> 可以推导出 <code>∅ ⊢ M ↓ ⊥</code> 并不意味着 <code>M</code> 必然发散。 可能还有其他可以推出 <code>M</code> 的推导过程，能产生包含更多信息的值。然而， 如果一个项求值的唯一结果是 <code>⊥</code>，那么它确实发散。</p><p>细心的读者会发现，我们计划解决自应用问题的方式与实际应用的 <code>↦-elim</code> 规则之间存在脱节。开头说过，我们会放宽查表的概念， 如果参数等于或大于输入条目，则允许参数匹配输入条目。然而，<code>↦-elim</code> 规则似乎需要精确匹配，但由于存在 <code>sub</code> 规则，应用确实可以允许更大的参数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦-elim2"></a><a id="plfa_plfa-part3-Denotational-20775" href="../Denotational/#plfa_plfa-part3-Denotational-20775" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20783" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20785" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-20787" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20788" href="../Denotational/#plfa_plfa-part3-Denotational-20788" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20789" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20791" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20792" href="../Denotational/#plfa_plfa-part3-Denotational-20792" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20794" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-20796" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-20800" href="../Denotational/#plfa_plfa-part3-Denotational-20788" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-20801" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-20803" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-20804" href="../Denotational/#plfa_plfa-part3-Denotational-20804" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20807" href="../Denotational/#plfa_plfa-part3-Denotational-20807" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20810" href="../Denotational/#plfa_plfa-part3-Denotational-20810" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20813" href="../Denotational/#plfa_plfa-part3-Denotational-20813" class="Bound">v₂</a> <a id="plfa_plfa-part3-Denotational-20816" href="../Denotational/#plfa_plfa-part3-Denotational-20816" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20818" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-20822" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20824" href="../Denotational/#plfa_plfa-part3-Denotational-20792" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20826" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20828" href="../Denotational/#plfa_plfa-part3-Denotational-20804" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20831" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20833" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20834" href="../Denotational/#plfa_plfa-part3-Denotational-20810" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20837" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-20839" href="../Denotational/#plfa_plfa-part3-Denotational-20816" class="Bound">v₃</a><a id="plfa_plfa-part3-Denotational-20841" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-20845" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20847" href="../Denotational/#plfa_plfa-part3-Denotational-20792" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20849" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20851" href="../Denotational/#plfa_plfa-part3-Denotational-20807" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-20854" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20856" href="../Denotational/#plfa_plfa-part3-Denotational-20813" class="Bound">v₂</a>
  <a id="plfa_plfa-part3-Denotational-20861" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20863" href="../Denotational/#plfa_plfa-part3-Denotational-20810" class="Bound">v₁</a> <a id="plfa_plfa-part3-Denotational-20866" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-20868" href="../Denotational/#plfa_plfa-part3-Denotational-20813" class="Bound">v₂</a>
    <a id="plfa_plfa-part3-Denotational-20875" class="Comment">------------------</a>
  <a id="plfa_plfa-part3-Denotational-20896" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-20898" href="../Denotational/#plfa_plfa-part3-Denotational-20792" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-20900" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-20902" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20903" href="../Denotational/#plfa_plfa-part3-Denotational-20804" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-20906" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-20908" href="../Denotational/#plfa_plfa-part3-Denotational-20807" class="Bound">M₂</a><a id="plfa_plfa-part3-Denotational-20910" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-20912" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-20914" href="../Denotational/#plfa_plfa-part3-Denotational-20816" class="Bound">v₃</a>
<a id="plfa_plfa-part3-Denotational-20917" href="../Denotational/#plfa_plfa-part3-Denotational-20775" class="Function">↦-elim2</a> <a id="plfa_plfa-part3-Denotational-20925" href="../Denotational/#plfa_plfa-part3-Denotational-20925" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20928" href="../Denotational/#plfa_plfa-part3-Denotational-20928" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20931" href="../Denotational/#plfa_plfa-part3-Denotational-20931" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-20934" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-20936" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-20943" href="../Denotational/#plfa_plfa-part3-Denotational-20925" class="Bound">d₁</a> <a id="plfa_plfa-part3-Denotational-20946" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-20947" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-20951" href="../Denotational/#plfa_plfa-part3-Denotational-20928" class="Bound">d₂</a> <a id="plfa_plfa-part3-Denotational-20954" href="../Denotational/#plfa_plfa-part3-Denotational-20931" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-20956" class="Symbol">)</a>
</pre><h4 id="练习-denot-plusᶜ实践">练习 <code>denot-plusᶜ</code>（实践）</h4><p><code>plusᶜ</code> 的指称是什么？即，找到一个值 <code>v</code>（排除 <code>⊥</code>），使得 <code>∅ ⊢ plusᶜ ↓ v</code>。 此外，对你选择的 <code>v</code> 给出 <code>∅ ⊢ plusᶜ ↓ v</code> 的证明。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-21318" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="指称与指称相等">指称与指称相等</h2><p>接下来我们基于上述语义来定义指称相等的概念，它的语句使用了「当且仅当」， 其定义如下</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-_iff_"></a><a id="plfa_plfa-part3-Denotational-21614" href="../Denotational/#plfa_plfa-part3-Denotational-21614" class="Function Operator">_iff_</a> <a id="plfa_plfa-part3-Denotational-21620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21622" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21626" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21628" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-21632" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21634" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-21638" href="../Denotational/#plfa_plfa-part3-Denotational-21638" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21640" href="../Denotational/#plfa_plfa-part3-Denotational-21614" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-21644" href="../Denotational/#plfa_plfa-part3-Denotational-21644" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21646" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-21648" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21649" href="../Denotational/#plfa_plfa-part3-Denotational-21638" class="Bound">P</a> <a id="plfa_plfa-part3-Denotational-21651" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21653" href="../Denotational/#plfa_plfa-part3-Denotational-21644" class="Bound">Q</a><a id="plfa_plfa-part3-Denotational-21654" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-21656" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-21658" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-21659" href="../Denotational/#plfa_plfa-part3-Denotational-21644" class="Bound">Q</a> <a id="plfa_plfa-part3-Denotational-21661" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21663" href="../Denotational/#plfa_plfa-part3-Denotational-21638" class="Bound">P</a><a id="plfa_plfa-part3-Denotational-21664" class="Symbol">)</a>
</pre><p>看待指称语义的另一种方式是将它看作一个函数，它将项映射为一个从环境到值的关系， 即，项的<strong>指称（Denotation）</strong>是一个从环境到值的关系。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Denotation"></a><a id="plfa_plfa-part3-Denotational-21969" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-21980" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-21982" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a> <a id="plfa_plfa-part3-Denotational-21990" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-21992" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="plfa_plfa-part3-Denotational-21997" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22008" href="../Denotational/#plfa_plfa-part3-Denotational-22008" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22010" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22012" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22013" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22017" href="../Denotational/#plfa_plfa-part3-Denotational-22008" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22019" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22021" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-22027" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22029" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a><a id="plfa_plfa-part3-Denotational-22032" class="Symbol">)</a>
</pre><p>下面的函数 ℰ 给出了语义的另一种视角，它相当于只改变了参数的顺序：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ℰ"></a><a id="plfa_plfa-part3-Denotational-22231" href="../Denotational/#plfa_plfa-part3-Denotational-22231" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22233" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22235" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-22237" href="../Denotational/#plfa_plfa-part3-Denotational-22237" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22238" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22240" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22242" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22243" href="../Denotational/#plfa_plfa-part3-Denotational-22243" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22245" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22247" href="../Denotational/#plfa_plfa-part3-Denotational-22237" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22249" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22251" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-22252" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22254" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22256" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22267" href="../Denotational/#plfa_plfa-part3-Denotational-22237" class="Bound">Γ</a>
<a id="plfa_plfa-part3-Denotational-22269" href="../Denotational/#plfa_plfa-part3-Denotational-22231" class="Function">ℰ</a> <a id="plfa_plfa-part3-Denotational-22271" href="../Denotational/#plfa_plfa-part3-Denotational-22271" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22273" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22275" class="Symbol">λ</a> <a id="plfa_plfa-part3-Denotational-22277" href="../Denotational/#plfa_plfa-part3-Denotational-22277" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22279" href="../Denotational/#plfa_plfa-part3-Denotational-22279" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22281" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22283" href="../Denotational/#plfa_plfa-part3-Denotational-22277" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22285" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-22287" href="../Denotational/#plfa_plfa-part3-Denotational-22271" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22289" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-22291" href="../Denotational/#plfa_plfa-part3-Denotational-22279" class="Bound">v</a>
</pre><p>一般来说，当两个指称在相同的环境中能够产生相同的值时，二者就是相等的。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-22450" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-22456" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-22458" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">_≃_</a>

<a id="plfa_plfa-part3-Denotational-_≃_"></a><a id="plfa_plfa-part3-Denotational-22463" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22467" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22469" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22471" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22472" href="../Denotational/#plfa_plfa-part3-Denotational-22472" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22473" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22475" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22477" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22478" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22489" href="../Denotational/#plfa_plfa-part3-Denotational-22472" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22490" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22492" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22494" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22495" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22506" href="../Denotational/#plfa_plfa-part3-Denotational-22472" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22507" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22509" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22511" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-22515" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22516" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">_≃_</a> <a id="plfa_plfa-part3-Denotational-22520" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22521" href="../Denotational/#plfa_plfa-part3-Denotational-22521" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22522" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22524" href="../Denotational/#plfa_plfa-part3-Denotational-22524" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22527" href="../Denotational/#plfa_plfa-part3-Denotational-22527" class="Bound">D₂</a><a id="plfa_plfa-part3-Denotational-22529" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22531" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22533" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22534" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22536" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22538" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-22542" href="../Denotational/#plfa_plfa-part3-Denotational-22521" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22543" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22545" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22547" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22548" href="../Denotational/#plfa_plfa-part3-Denotational-22548" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22550" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22552" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-22557" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22559" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22561" href="../Denotational/#plfa_plfa-part3-Denotational-22524" class="Bound">D₁</a> <a id="plfa_plfa-part3-Denotational-22564" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22566" href="../Denotational/#plfa_plfa-part3-Denotational-22548" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22568" href="../Denotational/#plfa_plfa-part3-Denotational-21614" class="Function Operator">iff</a> <a id="plfa_plfa-part3-Denotational-22572" href="../Denotational/#plfa_plfa-part3-Denotational-22527" class="Bound">D₂</a> <a id="plfa_plfa-part3-Denotational-22575" href="../Denotational/#plfa_plfa-part3-Denotational-22534" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22577" href="../Denotational/#plfa_plfa-part3-Denotational-22548" class="Bound">v</a>
</pre><p>指称相等是一种等价关系：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-≃-refl"></a><a id="plfa_plfa-part3-Denotational-22666" href="../Denotational/#plfa_plfa-part3-Denotational-22666" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22673" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22675" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22677" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22678" href="../Denotational/#plfa_plfa-part3-Denotational-22678" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22680" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22682" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22689" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22691" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22693" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22694" href="../Denotational/#plfa_plfa-part3-Denotational-22694" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22696" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22698" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22709" href="../Denotational/#plfa_plfa-part3-Denotational-22678" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22710" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22714" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22716" href="../Denotational/#plfa_plfa-part3-Denotational-22694" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22718" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22720" href="../Denotational/#plfa_plfa-part3-Denotational-22694" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22722" href="../Denotational/#plfa_plfa-part3-Denotational-22666" class="Function">≃-refl</a> <a id="plfa_plfa-part3-Denotational-22729" href="../Denotational/#plfa_plfa-part3-Denotational-22729" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22731" href="../Denotational/#plfa_plfa-part3-Denotational-22731" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22733" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22735" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22737" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22740" href="../Denotational/#plfa_plfa-part3-Denotational-22740" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22742" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22744" href="../Denotational/#plfa_plfa-part3-Denotational-22740" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22745" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22747" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22749" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-22752" href="../Denotational/#plfa_plfa-part3-Denotational-22752" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-22754" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22756" href="../Denotational/#plfa_plfa-part3-Denotational-22752" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-22757" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-22759" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-sym"></a><a id="plfa_plfa-part3-Denotational-22762" href="../Denotational/#plfa_plfa-part3-Denotational-22762" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22768" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22770" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22772" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22773" href="../Denotational/#plfa_plfa-part3-Denotational-22773" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22775" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22777" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22784" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22786" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22788" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22789" href="../Denotational/#plfa_plfa-part3-Denotational-22789" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22791" href="../Denotational/#plfa_plfa-part3-Denotational-22791" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22793" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22795" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22806" href="../Denotational/#plfa_plfa-part3-Denotational-22773" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22807" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22811" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22813" href="../Denotational/#plfa_plfa-part3-Denotational-22789" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-22815" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22817" href="../Denotational/#plfa_plfa-part3-Denotational-22791" class="Bound">N</a>
    <a id="plfa_plfa-part3-Denotational-22823" class="Comment">-----</a>
  <a id="plfa_plfa-part3-Denotational-22831" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22833" href="../Denotational/#plfa_plfa-part3-Denotational-22791" class="Bound">N</a> <a id="plfa_plfa-part3-Denotational-22835" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22837" href="../Denotational/#plfa_plfa-part3-Denotational-22789" class="Bound">M</a>
<a id="plfa_plfa-part3-Denotational-22839" href="../Denotational/#plfa_plfa-part3-Denotational-22762" class="Function">≃-sym</a> <a id="plfa_plfa-part3-Denotational-22845" href="../Denotational/#plfa_plfa-part3-Denotational-22845" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22848" href="../Denotational/#plfa_plfa-part3-Denotational-22848" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22850" href="../Denotational/#plfa_plfa-part3-Denotational-22850" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-22852" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-22854" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-22856" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22857" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-22863" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22864" href="../Denotational/#plfa_plfa-part3-Denotational-22845" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22867" href="../Denotational/#plfa_plfa-part3-Denotational-22848" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22869" href="../Denotational/#plfa_plfa-part3-Denotational-22850" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22870" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22873" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-22875" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22876" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-22882" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-22883" href="../Denotational/#plfa_plfa-part3-Denotational-22845" class="Bound">eq</a> <a id="plfa_plfa-part3-Denotational-22886" href="../Denotational/#plfa_plfa-part3-Denotational-22848" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-22888" href="../Denotational/#plfa_plfa-part3-Denotational-22850" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-22889" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-22892" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>

<a id="plfa_plfa-part3-Denotational-≃-trans"></a><a id="plfa_plfa-part3-Denotational-22895" href="../Denotational/#plfa_plfa-part3-Denotational-22895" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-22903" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22905" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-22907" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22908" href="../Denotational/#plfa_plfa-part3-Denotational-22908" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-22910" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22912" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-22919" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-22921" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22923" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-22924" href="../Denotational/#plfa_plfa-part3-Denotational-22924" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22927" href="../Denotational/#plfa_plfa-part3-Denotational-22927" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22930" href="../Denotational/#plfa_plfa-part3-Denotational-22930" class="Bound">M₃</a> <a id="plfa_plfa-part3-Denotational-22933" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-22935" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-22946" href="../Denotational/#plfa_plfa-part3-Denotational-22908" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-22947" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-22951" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22953" href="../Denotational/#plfa_plfa-part3-Denotational-22924" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22956" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22958" href="../Denotational/#plfa_plfa-part3-Denotational-22927" class="Bound">M₂</a>
  <a id="plfa_plfa-part3-Denotational-22963" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22965" href="../Denotational/#plfa_plfa-part3-Denotational-22927" class="Bound">M₂</a> <a id="plfa_plfa-part3-Denotational-22968" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22970" href="../Denotational/#plfa_plfa-part3-Denotational-22930" class="Bound">M₃</a>
    <a id="plfa_plfa-part3-Denotational-22977" class="Comment">-------</a>
  <a id="plfa_plfa-part3-Denotational-22987" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-22989" href="../Denotational/#plfa_plfa-part3-Denotational-22924" class="Bound">M₁</a> <a id="plfa_plfa-part3-Denotational-22992" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-22994" href="../Denotational/#plfa_plfa-part3-Denotational-22930" class="Bound">M₃</a>
<a id="plfa_plfa-part3-Denotational-22997" href="../Denotational/#plfa_plfa-part3-Denotational-22895" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23005" href="../Denotational/#plfa_plfa-part3-Denotational-23005" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23009" href="../Denotational/#plfa_plfa-part3-Denotational-23009" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23013" href="../Denotational/#plfa_plfa-part3-Denotational-23013" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23015" href="../Denotational/#plfa_plfa-part3-Denotational-23015" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-23017" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-23019" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-23021" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23024" href="../Denotational/#plfa_plfa-part3-Denotational-23024" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23026" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23028" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23034" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23035" href="../Denotational/#plfa_plfa-part3-Denotational-23009" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23039" href="../Denotational/#plfa_plfa-part3-Denotational-23013" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23041" href="../Denotational/#plfa_plfa-part3-Denotational-23015" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23042" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23044" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23045" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="plfa_plfa-part3-Denotational-23051" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23052" href="../Denotational/#plfa_plfa-part3-Denotational-23005" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23056" href="../Denotational/#plfa_plfa-part3-Denotational-23013" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23058" href="../Denotational/#plfa_plfa-part3-Denotational-23015" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23059" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23061" href="../Denotational/#plfa_plfa-part3-Denotational-23024" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23062" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23065" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
                        <a id="plfa_plfa-part3-Denotational-23091" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-23094" href="../Denotational/#plfa_plfa-part3-Denotational-23094" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23096" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23098" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23104" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23105" href="../Denotational/#plfa_plfa-part3-Denotational-23005" class="Bound">eq1</a> <a id="plfa_plfa-part3-Denotational-23109" href="../Denotational/#plfa_plfa-part3-Denotational-23013" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23111" href="../Denotational/#plfa_plfa-part3-Denotational-23015" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23112" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23114" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23115" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="plfa_plfa-part3-Denotational-23121" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23122" href="../Denotational/#plfa_plfa-part3-Denotational-23009" class="Bound">eq2</a> <a id="plfa_plfa-part3-Denotational-23126" href="../Denotational/#plfa_plfa-part3-Denotational-23013" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-23128" href="../Denotational/#plfa_plfa-part3-Denotational-23015" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-23129" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23131" href="../Denotational/#plfa_plfa-part3-Denotational-23094" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-23132" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-23135" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
</pre><p>若两个项 <code>M</code> 和 <code>N</code> 的指称相等，我们就说它们是指称相等的，即 <code>ℰ M ≃ ℰ N</code>。</p><p>以下子模块引入了 <code>≃</code> 关系的等式推理：</p><pre class="Agda">
<a id="plfa_plfa-part3-Denotational-23423" class="Keyword">module</a> <a id="plfa_plfa-part3-Denotational-≃-Reasoning"></a><a id="plfa_plfa-part3-Denotational-23430" href="../Denotational/#plfa_plfa-part3-Denotational-23430" class="Module">≃-Reasoning</a> <a id="plfa_plfa-part3-Denotational-23442" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23443" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-23445" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23447" href="../Untyped/#plfa_plfa-part2-Untyped-3848" class="Datatype">Context</a><a id="plfa_plfa-part3-Denotational-23454" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-23456" class="Keyword">where</a>

  <a id="plfa_plfa-part3-Denotational-23465" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23472" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-23474" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Function Operator">start_</a>
  <a id="plfa_plfa-part3-Denotational-23483" class="Keyword">infixr</a> <a id="plfa_plfa-part3-Denotational-23490" class="Number">2</a> <a id="plfa_plfa-part3-Denotational-23492" href="../Denotational/#plfa_plfa-part3-Denotational-23753" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23498" href="../Denotational/#plfa_plfa-part3-Denotational-23613" class="Function Operator">_≃⟨_⟩_</a>
  <a id="plfa_plfa-part3-Denotational-23507" class="Keyword">infix</a>  <a id="plfa_plfa-part3-Denotational-23514" class="Number">3</a> <a id="plfa_plfa-part3-Denotational-23516" href="../Denotational/#plfa_plfa-part3-Denotational-23860" class="Function Operator">_☐</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning.start_"></a><a id="plfa_plfa-part3-Denotational-23522" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Function Operator">start_</a> <a id="plfa_plfa-part3-Denotational-23529" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23531" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23533" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23534" href="../Denotational/#plfa_plfa-part3-Denotational-23534" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23536" href="../Denotational/#plfa_plfa-part3-Denotational-23536" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23538" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23540" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23551" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23552" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23558" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23560" href="../Denotational/#plfa_plfa-part3-Denotational-23534" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23562" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23564" href="../Denotational/#plfa_plfa-part3-Denotational-23536" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23572" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23582" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23584" href="../Denotational/#plfa_plfa-part3-Denotational-23534" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23586" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23588" href="../Denotational/#plfa_plfa-part3-Denotational-23536" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23592" href="../Denotational/#plfa_plfa-part3-Denotational-23522" class="Function Operator">start</a> <a id="plfa_plfa-part3-Denotational-23598" href="../Denotational/#plfa_plfa-part3-Denotational-23598" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23603" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23606" href="../Denotational/#plfa_plfa-part3-Denotational-23598" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨_⟩_"></a><a id="plfa_plfa-part3-Denotational-23613" href="../Denotational/#plfa_plfa-part3-Denotational-23613" class="Function Operator">_≃⟨_⟩_</a> <a id="plfa_plfa-part3-Denotational-23620" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23622" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23624" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23625" href="../Denotational/#plfa_plfa-part3-Denotational-23625" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23627" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23629" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23640" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23641" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23643" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23644" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23646" href="../Denotational/#plfa_plfa-part3-Denotational-23646" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-23648" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23650" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23661" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23662" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23668" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23670" href="../Denotational/#plfa_plfa-part3-Denotational-23625" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23672" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23674" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Bound">y</a>
    <a id="plfa_plfa-part3-Denotational-23680" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23682" href="../Denotational/#plfa_plfa-part3-Denotational-23644" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23684" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23686" href="../Denotational/#plfa_plfa-part3-Denotational-23646" class="Bound">z</a>
      <a id="plfa_plfa-part3-Denotational-23694" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23704" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23706" href="../Denotational/#plfa_plfa-part3-Denotational-23625" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23708" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23710" href="../Denotational/#plfa_plfa-part3-Denotational-23646" class="Bound">z</a>
  <a id="plfa_plfa-part3-Denotational-23714" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23715" href="../Denotational/#plfa_plfa-part3-Denotational-23715" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23717" href="../Denotational/#plfa_plfa-part3-Denotational-23613" class="Function Operator">≃⟨</a> <a id="plfa_plfa-part3-Denotational-23720" href="../Denotational/#plfa_plfa-part3-Denotational-23720" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23724" href="../Denotational/#plfa_plfa-part3-Denotational-23613" class="Function Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-23726" href="../Denotational/#plfa_plfa-part3-Denotational-23726" class="Bound">y≃z</a><a id="plfa_plfa-part3-Denotational-23729" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23731" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23734" href="../Denotational/#plfa_plfa-part3-Denotational-22895" class="Function">≃-trans</a> <a id="plfa_plfa-part3-Denotational-23742" href="../Denotational/#plfa_plfa-part3-Denotational-23720" class="Bound">x≃y</a> <a id="plfa_plfa-part3-Denotational-23746" href="../Denotational/#plfa_plfa-part3-Denotational-23726" class="Bound">y≃z</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._≃⟨⟩_"></a><a id="plfa_plfa-part3-Denotational-23753" href="../Denotational/#plfa_plfa-part3-Denotational-23753" class="Function Operator">_≃⟨⟩_</a> <a id="plfa_plfa-part3-Denotational-23759" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23761" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23763" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23764" href="../Denotational/#plfa_plfa-part3-Denotational-23764" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23766" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23768" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23779" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23780" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-23782" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-23783" href="../Denotational/#plfa_plfa-part3-Denotational-23783" class="Bound">y</a> <a id="plfa_plfa-part3-Denotational-23785" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23787" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23798" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23799" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-23805" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23807" href="../Denotational/#plfa_plfa-part3-Denotational-23764" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23809" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23811" href="../Denotational/#plfa_plfa-part3-Denotational-23783" class="Bound">y</a>
      <a id="plfa_plfa-part3-Denotational-23819" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23829" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23831" href="../Denotational/#plfa_plfa-part3-Denotational-23764" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23833" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23835" href="../Denotational/#plfa_plfa-part3-Denotational-23783" class="Bound">y</a>
  <a id="plfa_plfa-part3-Denotational-23839" href="../Denotational/#plfa_plfa-part3-Denotational-23839" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23841" href="../Denotational/#plfa_plfa-part3-Denotational-23753" class="Function Operator">≃⟨⟩</a> <a id="plfa_plfa-part3-Denotational-23845" href="../Denotational/#plfa_plfa-part3-Denotational-23845" class="Bound">x≃y</a>  <a id="plfa_plfa-part3-Denotational-23850" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23853" href="../Denotational/#plfa_plfa-part3-Denotational-23845" class="Bound">x≃y</a>

  <a id="plfa_plfa-part3-Denotational-≃-Reasoning._☐"></a><a id="plfa_plfa-part3-Denotational-23860" href="../Denotational/#plfa_plfa-part3-Denotational-23860" class="Function Operator">_☐</a> <a id="plfa_plfa-part3-Denotational-23863" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23865" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-23867" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23868" href="../Denotational/#plfa_plfa-part3-Denotational-23868" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23870" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-23872" href="../Denotational/#plfa_plfa-part3-Denotational-21969" class="Function">Denotation</a> <a id="plfa_plfa-part3-Denotational-23883" href="../Denotational/#plfa_plfa-part3-Denotational-23443" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-23884" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-23892" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-23902" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-23904" href="../Denotational/#plfa_plfa-part3-Denotational-23868" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23906" href="../Denotational/#plfa_plfa-part3-Denotational-22463" class="Function Operator">≃</a> <a id="plfa_plfa-part3-Denotational-23908" href="../Denotational/#plfa_plfa-part3-Denotational-23868" class="Bound">x</a>
  <a id="plfa_plfa-part3-Denotational-23912" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-23913" href="../Denotational/#plfa_plfa-part3-Denotational-23913" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-23915" href="../Denotational/#plfa_plfa-part3-Denotational-23860" class="Function Operator">☐</a><a id="plfa_plfa-part3-Denotational-23916" class="Symbol">)</a>  <a id="plfa_plfa-part3-Denotational-23919" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-23922" href="../Denotational/#plfa_plfa-part3-Denotational-22666" class="Function">≃-refl</a>
</pre><h2 id="后续章节的路线图">后续章节的路线图</h2><p>后续章节证明了指称语义拥有几个期望的性质。首先我们证明了语义是可组合的， 即，一个项的指称是其子项的指称的函数。为此我们需要证明以下形式的等式：</p><pre><code>ℰ (` x) ≃ ...
ℰ (ƛ M) ≃ ... ℰ M ...
ℰ (M · N) ≃ ... ℰ M ... ℰ N ...</code></pre><p>组合性的性质并不平凡，因为我们定义的语义包含三个非语法制导的规则： <code>⊥-intro</code>、<code>⊔-intro</code> 和 <code>sub</code>。上面的等式表明指称语义可以被定义为递归函数， 实际上，我们确实给出了这样的定义并证明它等价于 ℰ。</p><p>接下来我们研究指称语义和规约语义是否等价。回想一下，一个语言的语义的作用， 就是描述给定程序 <code>M</code> 的可观测行为。对于 λ-演算，我们可以做出多种选择， 但它们通常可以归结为一点信息：</p><ul><li>发散：程序 <code>M</code> 永远执行。</li><li>停机：程序 <code>M</code> 停止。</li></ul><p>我们可以用规约的项来刻画发散和停机：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (M —↠ ƛ N)</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>M —↠ ƛ N</code> 。</li></ul><p>我们也可以用指称来刻画发散和停机：</p><ul><li>发散：对于任意 <code>v</code> 和 <code>w</code>，有 <code>¬ (∅ ⊢ M ↓ v ↦ w)</code>。</li><li>停机：对于某个 <code>v</code> 和 <code>w</code>，有 <code>∅ ⊢ M ↓ v ↦ w</code>。</li></ul><p>此外，我们还可以用指称函数 <code>ℰ</code>：</p><ul><li>发散：对于任意项 <code>N</code>，有 <code>¬ (ℰ M ≃ ℰ (ƛ N))</code>。</li><li>停机：对于某个项 <code>N</code>，有 <code>ℰ M ≃ ℰ (ƛ N)</code>。</li></ul><p>所以问题在于规约语义和指称语义是否等价：</p><pre><code>(∃ N. M —↠ ƛ N)  当且仅当  (∃ N. ℰ M ≃ ℰ (ƛ N))</code></pre><p>我们将在第二章和第三章中讨论等价的每个方向。在第二章中，我们证明了 λ-抽象的规约蕴含 λ-抽象的指称相等。此性质在文献中被称为<strong>可靠性（Soundness）</strong>。</p><pre><code>M —↠ ƛ N  蕴含  ℰ M ≃ ℰ (ƛ N)</code></pre><p>在第三章中，我们证明了 λ-抽象的指称相等蕴含 λ-抽象的规约。 此性质在文献中被称为<strong>充分性（Adequacy）</strong>。</p><pre><code>ℰ M ≃ ℰ (ƛ N)  蕴含 M —↠ ƛ N′ 对于某个 N′</code></pre><p>第四章应用前三章的结果（组合性、可靠性和充分性）来证明指称相等蕴含一种称为 <strong>语境等价（Contextual Equivalence）</strong>的性质。这个性质很重要， 因为它保证了在证明程序变换（如性能优化）的正确性时使用指称相等的合理性。</p><p>我们会在本章剩下的部分中建立关于指称语义的一些基本结果， 所有这些性质的证明都依赖于此。我们先从一些关于重命名的引理开始， 它们与我们在前面的章节中见过的重命名引理非常相似。 我们以函数值小于关系的重要反演引理的证明作为结论。</p><h2 id="重命名保持指称不变">重命名保持指称不变</h2><p>我们将证明重命名变量并更改环境中对应的项仍能保持项的含义。 我们推广了重命名引理，以允许新环境中的值等于或大于原始值， 这种推广有助于证明规约蕴含了指称相等。</p><p>和以前一样，我们需要一个扩展引理来处理在 λ-抽象的情况下的证明。假设 <code>ρ</code> 是一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相等或更大值的变量。 这个引理说明了，扩展重命名会产生一个重命名 <code>ext r</code>，它将 <code>γ , v</code> 映射到 <code>δ , v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-ext-⊑"></a><a id="plfa_plfa-part3-Denotational-29288" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29294" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29296" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-29298" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29299" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29301" href="../Denotational/#plfa_plfa-part3-Denotational-29301" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-29303" href="../Denotational/#plfa_plfa-part3-Denotational-29303" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29304" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29306" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29307" href="../Denotational/#plfa_plfa-part3-Denotational-29307" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29309" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29311" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29315" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-29316" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-29318" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-29319" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29321" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29323" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-29327" href="../Denotational/#plfa_plfa-part3-Denotational-29301" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29328" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-29332" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29334" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29335" href="../Denotational/#plfa_plfa-part3-Denotational-29335" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29337" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-29339" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-29346" href="../Denotational/#plfa_plfa-part3-Denotational-29299" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-29348" href="../Denotational/#plfa_plfa-part3-Denotational-29301" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-29349" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-29353" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29355" href="../Denotational/#plfa_plfa-part3-Denotational-29307" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29357" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29360" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29361" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29363" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29365" href="../Denotational/#plfa_plfa-part3-Denotational-29335" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29366" class="Symbol">)</a>
    <a id="plfa_plfa-part3-Denotational-29372" class="Comment">------------------------------</a>
  <a id="plfa_plfa-part3-Denotational-29405" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-29407" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29408" href="../Denotational/#plfa_plfa-part3-Denotational-29307" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-29410" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29413" href="../Denotational/#plfa_plfa-part3-Denotational-29303" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29414" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29416" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-29419" class="Symbol">((</a><a id="plfa_plfa-part3-Denotational-29421" href="../Denotational/#plfa_plfa-part3-Denotational-29319" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-29423" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-29426" href="../Denotational/#plfa_plfa-part3-Denotational-29303" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-29427" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29429" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-29431" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-29435" href="../Denotational/#plfa_plfa-part3-Denotational-29335" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-29436" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-29438" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29444" href="../Denotational/#plfa_plfa-part3-Denotational-29444" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29446" href="../Denotational/#plfa_plfa-part3-Denotational-29446" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29449" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-29451" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29453" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-29460" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-29466" href="../Denotational/#plfa_plfa-part3-Denotational-29466" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-29468" href="../Denotational/#plfa_plfa-part3-Denotational-29468" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29471" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-29472" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-29474" href="../Denotational/#plfa_plfa-part3-Denotational-29474" class="Bound">n′</a><a id="plfa_plfa-part3-Denotational-29476" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-29478" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-29480" href="../Denotational/#plfa_plfa-part3-Denotational-29468" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-29483" href="../Denotational/#plfa_plfa-part3-Denotational-29474" class="Bound">n′</a>
</pre><p>我们对 de Bruijn 索引 <code>n</code> 分情况来证明：</p><ul><li><p>若索引为 <code>Z</code>，那么我们只需证明 <code>v ⊑ v</code>，它根据 <code>⊑-refl</code> 成立。</p></li><li><p>若索引为 <code>S n′</code>，则目标简化为 <code>γ n′ ⊑ δ (ρ n′)</code>，它是前提的一个实例。</p></li></ul><p>接着是重命名引理的证明。假设我们有一个重命名，它将 <code>γ</code> 中的变量映射为 <code>δ</code> 中具有相同值的变量。若在环境 <code>γ</code> 中 <code>M</code> 求值为 <code>v</code>，则对 <code>M</code> 应用重命名会生成一个程序，它在环境 <code>δ</code> 中求值会产生相同的值 <code>v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-rename-pres"></a><a id="plfa_plfa-part3-Denotational-30300" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30312" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30314" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-30316" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30317" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30319" href="../Denotational/#plfa_plfa-part3-Denotational-30319" class="Bound">Δ</a> <a id="plfa_plfa-part3-Denotational-30321" href="../Denotational/#plfa_plfa-part3-Denotational-30321" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-30322" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30324" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30325" href="../Denotational/#plfa_plfa-part3-Denotational-30325" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30327" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30329" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30333" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-30334" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30336" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30337" href="../Denotational/#plfa_plfa-part3-Denotational-30337" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30339" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30341" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-30345" href="../Denotational/#plfa_plfa-part3-Denotational-30319" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30346" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-30348" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30349" href="../Denotational/#plfa_plfa-part3-Denotational-30349" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30351" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30353" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30355" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30357" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-30358" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-30362" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30364" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30365" href="../Denotational/#plfa_plfa-part3-Denotational-30365" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30367" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-30369" href="../Substitution/#plfa_plfa-part2-Substitution-2123" class="Function">Rename</a> <a id="plfa_plfa-part3-Denotational-30376" href="../Denotational/#plfa_plfa-part3-Denotational-30317" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-30378" href="../Denotational/#plfa_plfa-part3-Denotational-30319" class="Bound">Δ</a><a id="plfa_plfa-part3-Denotational-30379" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30383" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30385" href="../Denotational/#plfa_plfa-part3-Denotational-30325" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30387" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-30390" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30391" href="../Denotational/#plfa_plfa-part3-Denotational-30337" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30393" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">∘</a> <a id="plfa_plfa-part3-Denotational-30395" href="../Denotational/#plfa_plfa-part3-Denotational-30365" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30396" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-30400" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30402" href="../Denotational/#plfa_plfa-part3-Denotational-30325" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-30404" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30406" href="../Denotational/#plfa_plfa-part3-Denotational-30349" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-30408" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30410" href="../Denotational/#plfa_plfa-part3-Denotational-30321" class="Bound">v</a>
    <a id="plfa_plfa-part3-Denotational-30416" class="Comment">---------------------</a>
  <a id="plfa_plfa-part3-Denotational-30440" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-30442" href="../Denotational/#plfa_plfa-part3-Denotational-30337" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-30444" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-30446" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30447" href="../Untyped/#plfa_plfa-part2-Untyped-8074" class="Function">rename</a> <a id="plfa_plfa-part3-Denotational-30454" href="../Denotational/#plfa_plfa-part3-Denotational-30365" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30456" href="../Denotational/#plfa_plfa-part3-Denotational-30349" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-30457" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30459" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-30461" href="../Denotational/#plfa_plfa-part3-Denotational-30321" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-30463" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30475" href="../Denotational/#plfa_plfa-part3-Denotational-30475" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30477" href="../Denotational/#plfa_plfa-part3-Denotational-30477" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30480" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30481" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30485" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-30486" class="Argument">x</a> <a id="plfa_plfa-part3-Denotational-30488" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30490" href="../Denotational/#plfa_plfa-part3-Denotational-30490" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30491" class="Symbol">})</a> <a id="plfa_plfa-part3-Denotational-30494" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30496" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30500" href="../Denotational/#plfa_plfa-part3-Denotational-11477" class="InductiveConstructor">var</a> <a id="plfa_plfa-part3-Denotational-30504" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30505" href="../Denotational/#plfa_plfa-part3-Denotational-30477" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30508" href="../Denotational/#plfa_plfa-part3-Denotational-30490" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-30509" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30511" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30523" href="../Denotational/#plfa_plfa-part3-Denotational-30523" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30525" href="../Denotational/#plfa_plfa-part3-Denotational-30525" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30528" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30529" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30536" href="../Denotational/#plfa_plfa-part3-Denotational-30536" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30538" href="../Denotational/#plfa_plfa-part3-Denotational-30538" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30540" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30542" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30547" href="../Denotational/#plfa_plfa-part3-Denotational-11552" class="InductiveConstructor">↦-elim</a> <a id="plfa_plfa-part3-Denotational-30554" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30555" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30567" href="../Denotational/#plfa_plfa-part3-Denotational-30523" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30569" href="../Denotational/#plfa_plfa-part3-Denotational-30525" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30572" href="../Denotational/#plfa_plfa-part3-Denotational-30536" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30573" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30575" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30576" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30588" href="../Denotational/#plfa_plfa-part3-Denotational-30523" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30590" href="../Denotational/#plfa_plfa-part3-Denotational-30525" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30593" href="../Denotational/#plfa_plfa-part3-Denotational-30538" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30595" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30597" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30609" href="../Denotational/#plfa_plfa-part3-Denotational-30609" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30611" href="../Denotational/#plfa_plfa-part3-Denotational-30611" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30614" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30615" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30623" href="../Denotational/#plfa_plfa-part3-Denotational-30623" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30624" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30626" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30631" href="../Denotational/#plfa_plfa-part3-Denotational-11674" class="InductiveConstructor">↦-intro</a> <a id="plfa_plfa-part3-Denotational-30639" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30640" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30652" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30653" href="../Untyped/#plfa_plfa-part2-Untyped-7682" class="Function">ext</a> <a id="plfa_plfa-part3-Denotational-30657" href="../Denotational/#plfa_plfa-part3-Denotational-30609" class="Bound">ρ</a><a id="plfa_plfa-part3-Denotational-30658" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30660" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30661" href="../Denotational/#plfa_plfa-part3-Denotational-29288" class="Function">ext-⊑</a> <a id="plfa_plfa-part3-Denotational-30667" href="../Denotational/#plfa_plfa-part3-Denotational-30609" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30669" href="../Denotational/#plfa_plfa-part3-Denotational-30611" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-30671" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30673" href="../Denotational/#plfa_plfa-part3-Denotational-30623" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30674" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30676" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30688" href="../Denotational/#plfa_plfa-part3-Denotational-30688" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30690" href="../Denotational/#plfa_plfa-part3-Denotational-30690" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30693" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a> <a id="plfa_plfa-part3-Denotational-30701" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-30703" href="../Denotational/#plfa_plfa-part3-Denotational-11786" class="InductiveConstructor">⊥-intro</a>
<a id="plfa_plfa-part3-Denotational-30711" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30723" href="../Denotational/#plfa_plfa-part3-Denotational-30723" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30725" href="../Denotational/#plfa_plfa-part3-Denotational-30725" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30728" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30729" href="../Denotational/#plfa_plfa-part3-Denotational-11853" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30737" href="../Denotational/#plfa_plfa-part3-Denotational-30737" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30739" href="../Denotational/#plfa_plfa-part3-Denotational-30739" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30741" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30743" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30748" href="../Denotational/#plfa_plfa-part3-Denotational-11853" class="InductiveConstructor">⊔-intro</a> <a id="plfa_plfa-part3-Denotational-30756" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30757" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30769" href="../Denotational/#plfa_plfa-part3-Denotational-30723" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30771" href="../Denotational/#plfa_plfa-part3-Denotational-30725" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30774" href="../Denotational/#plfa_plfa-part3-Denotational-30737" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30775" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30777" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30778" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30790" href="../Denotational/#plfa_plfa-part3-Denotational-30723" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30792" href="../Denotational/#plfa_plfa-part3-Denotational-30725" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30795" href="../Denotational/#plfa_plfa-part3-Denotational-30739" class="Bound">d₁</a><a id="plfa_plfa-part3-Denotational-30797" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-30799" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30811" href="../Denotational/#plfa_plfa-part3-Denotational-30811" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30813" href="../Denotational/#plfa_plfa-part3-Denotational-30813" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30816" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30817" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30821" href="../Denotational/#plfa_plfa-part3-Denotational-30821" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-30823" href="../Denotational/#plfa_plfa-part3-Denotational-30823" class="Bound">lt′</a><a id="plfa_plfa-part3-Denotational-30826" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30828" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-30833" href="../Denotational/#plfa_plfa-part3-Denotational-11968" class="InductiveConstructor">sub</a> <a id="plfa_plfa-part3-Denotational-30837" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-30838" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a> <a id="plfa_plfa-part3-Denotational-30850" href="../Denotational/#plfa_plfa-part3-Denotational-30811" class="Bound">ρ</a> <a id="plfa_plfa-part3-Denotational-30852" href="../Denotational/#plfa_plfa-part3-Denotational-30813" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-30855" href="../Denotational/#plfa_plfa-part3-Denotational-30821" class="Bound">d</a><a id="plfa_plfa-part3-Denotational-30856" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-30858" href="../Denotational/#plfa_plfa-part3-Denotational-30823" class="Bound">lt′</a>
</pre><p>证明通过对 <code>M</code> 的语义进行归纳而得出。如你所见，除了变量和 λ-的情况外，其他情况都很简单。</p><ul><li><p>对于 <code>x</code>，我们根据前提来证明 <code>γ x ⊑ δ (ρ x)</code>。</p></li><li><p>对于 λ-抽象，归纳假设需要我们扩展重命名。我们扩展了它并使用 <code>ext-⊑</code> 引理来证明，扩展重命名会将变量映射到具有等价的值的变量。</p></li></ul><h2 id="环境增强与恒等重命名">环境增强与恒等重命名</h2><p>我们还需要一个重命名引理的推论，即用更大（或更强）的环境替换当前环境， 并不会改变项 <code>M</code> 是否产生特定的值 <code>v</code>。具体来说，即若 <code>γ ⊢ M ↓ v</code> 且 <code>γ ⊑ δ</code>，则 <code>δ ⊢ M ↓ v</code>。那么这和重命名有何关联呢？ 它其实就是用恒等函数来重命名。我们以恒等重命名来应用重命名引理， 会得到 <code>δ ⊢ rename (λ {A} x → x) M ↓ v</code>，之后应用 <code>rename-id</code> 引理就会得到 <code>δ ⊢ M ↓ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊑-env"></a><a id="plfa_plfa-part3-Denotational-32301" href="../Denotational/#plfa_plfa-part3-Denotational-32301" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32307" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32309" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32311" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32312" href="../Denotational/#plfa_plfa-part3-Denotational-32312" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32313" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32315" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32316" href="../Denotational/#plfa_plfa-part3-Denotational-32316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32318" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32320" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32324" href="../Denotational/#plfa_plfa-part3-Denotational-32312" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32325" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32327" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32328" href="../Denotational/#plfa_plfa-part3-Denotational-32328" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32330" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32332" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32336" href="../Denotational/#plfa_plfa-part3-Denotational-32312" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32337" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32339" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32340" href="../Denotational/#plfa_plfa-part3-Denotational-32340" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32342" href="../Denotational/#plfa_plfa-part3-Denotational-32342" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32343" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32347" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32349" href="../Denotational/#plfa_plfa-part3-Denotational-32316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32351" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32353" href="../Denotational/#plfa_plfa-part3-Denotational-32340" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32355" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32357" href="../Denotational/#plfa_plfa-part3-Denotational-32342" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32361" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32363" href="../Denotational/#plfa_plfa-part3-Denotational-32316" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32365" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-32368" href="../Denotational/#plfa_plfa-part3-Denotational-32328" class="Bound">δ</a>
    <a id="plfa_plfa-part3-Denotational-32374" class="Comment">----------</a>
  <a id="plfa_plfa-part3-Denotational-32387" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32389" href="../Denotational/#plfa_plfa-part3-Denotational-32328" class="Bound">δ</a> <a id="plfa_plfa-part3-Denotational-32391" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32393" href="../Denotational/#plfa_plfa-part3-Denotational-32340" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32395" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32397" href="../Denotational/#plfa_plfa-part3-Denotational-32342" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32399" href="../Denotational/#plfa_plfa-part3-Denotational-32301" class="Function">⊑-env</a><a id="plfa_plfa-part3-Denotational-32404" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32405" href="../Denotational/#plfa_plfa-part3-Denotational-32405" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32406" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32408" href="../Denotational/#plfa_plfa-part3-Denotational-32408" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32409" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32411" href="../Denotational/#plfa_plfa-part3-Denotational-32411" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32412" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32414" href="../Denotational/#plfa_plfa-part3-Denotational-32414" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32415" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32417" href="../Denotational/#plfa_plfa-part3-Denotational-32417" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32418" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32420" href="../Denotational/#plfa_plfa-part3-Denotational-32420" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32422" href="../Denotational/#plfa_plfa-part3-Denotational-32422" class="Bound">lt</a>
      <a id="plfa_plfa-part3-Denotational-32431" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-32436" href="../Denotational/#plfa_plfa-part3-Denotational-30300" class="Function">rename-pres</a><a id="plfa_plfa-part3-Denotational-32447" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32448" href="../Denotational/#plfa_plfa-part3-Denotational-32405" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32449" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32451" href="../Denotational/#plfa_plfa-part3-Denotational-32405" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32452" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32454" href="../Denotational/#plfa_plfa-part3-Denotational-32417" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-32455" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32457" href="../Denotational/#plfa_plfa-part3-Denotational-32408" class="Bound">γ</a><a id="plfa_plfa-part3-Denotational-32458" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32460" href="../Denotational/#plfa_plfa-part3-Denotational-32411" class="Bound">δ</a><a id="plfa_plfa-part3-Denotational-32461" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32463" href="../Denotational/#plfa_plfa-part3-Denotational-32414" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32464" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32466" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-32469" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32470" href="../Denotational/#plfa_plfa-part3-Denotational-32470" class="Bound">A</a><a id="plfa_plfa-part3-Denotational-32471" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32473" href="../Denotational/#plfa_plfa-part3-Denotational-32473" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-32475" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32477" href="../Denotational/#plfa_plfa-part3-Denotational-32473" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-32478" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32480" href="../Denotational/#plfa_plfa-part3-Denotational-32422" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32483" href="../Denotational/#plfa_plfa-part3-Denotational-32420" class="Bound">d</a>
<a id="plfa_plfa-part3-Denotational-32485" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-32489" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-32491" href="../Denotational/#plfa_plfa-part3-Denotational-32491" class="Bound">δ⊢id[M]↓v</a> <a id="plfa_plfa-part3-Denotational-32501" class="Keyword">rewrite</a> <a id="plfa_plfa-part3-Denotational-32509" href="../Substitution/#plfa_plfa-part2-Substitution-17206" class="Function">rename-id</a> <a id="plfa_plfa-part3-Denotational-32519" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32520" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32521" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32523" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a><a id="plfa_plfa-part3-Denotational-32524" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-32526" class="Bound">M</a><a id="plfa_plfa-part3-Denotational-32527" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32529" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-32537" href="../Denotational/#plfa_plfa-part3-Denotational-32491" class="Bound">δ⊢id[M]↓v</a>
</pre><p>在代换反映了指称的证明中，对于 λ-抽象这一情况，我们使用 <code>⊑-env</code> 的一个小变体，其中只有环境中的最后一个元素变大：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-up-env"></a><a id="plfa_plfa-part3-Denotational-32823" href="../Denotational/#plfa_plfa-part3-Denotational-32823" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32830" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32832" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32834" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32835" href="../Denotational/#plfa_plfa-part3-Denotational-32835" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32836" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32838" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32839" href="../Denotational/#plfa_plfa-part3-Denotational-32839" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32841" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32843" href="../Denotational/#plfa_plfa-part3-Denotational-8699" class="Function">Env</a> <a id="plfa_plfa-part3-Denotational-32847" href="../Denotational/#plfa_plfa-part3-Denotational-32835" class="Bound">Γ</a><a id="plfa_plfa-part3-Denotational-32848" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-32850" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32851" href="../Denotational/#plfa_plfa-part3-Denotational-32851" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32853" href="../Denotational/#plfa_plfa-part3-Denotational-32853" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-32855" href="../Denotational/#plfa_plfa-part3-Denotational-32855" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32858" href="../Denotational/#plfa_plfa-part3-Denotational-32858" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32860" class="Symbol">}</a>
  <a id="plfa_plfa-part3-Denotational-32864" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32866" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32867" href="../Denotational/#plfa_plfa-part3-Denotational-32839" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32869" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32872" href="../Denotational/#plfa_plfa-part3-Denotational-32855" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-32874" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32876" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32878" href="../Denotational/#plfa_plfa-part3-Denotational-32851" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32880" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32882" href="../Denotational/#plfa_plfa-part3-Denotational-32853" class="Bound">v</a>
  <a id="plfa_plfa-part3-Denotational-32886" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32888" href="../Denotational/#plfa_plfa-part3-Denotational-32855" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-32891" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-32893" href="../Denotational/#plfa_plfa-part3-Denotational-32858" class="Bound">u₂</a>
    <a id="plfa_plfa-part3-Denotational-32900" class="Comment">-----------------</a>
  <a id="plfa_plfa-part3-Denotational-32920" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-32922" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32923" href="../Denotational/#plfa_plfa-part3-Denotational-32839" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32925" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-32928" href="../Denotational/#plfa_plfa-part3-Denotational-32858" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-32930" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-32932" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-32934" href="../Denotational/#plfa_plfa-part3-Denotational-32851" class="Bound">M</a> <a id="plfa_plfa-part3-Denotational-32936" href="../Denotational/#plfa_plfa-part3-Denotational-11423" class="Datatype Operator">↓</a> <a id="plfa_plfa-part3-Denotational-32938" href="../Denotational/#plfa_plfa-part3-Denotational-32853" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-32940" href="../Denotational/#plfa_plfa-part3-Denotational-32823" class="Function">up-env</a> <a id="plfa_plfa-part3-Denotational-32947" href="../Denotational/#plfa_plfa-part3-Denotational-32947" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32949" href="../Denotational/#plfa_plfa-part3-Denotational-32949" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-32952" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-32954" href="../Denotational/#plfa_plfa-part3-Denotational-32301" class="Function">⊑-env</a> <a id="plfa_plfa-part3-Denotational-32960" href="../Denotational/#plfa_plfa-part3-Denotational-32947" class="Bound">d</a> <a id="plfa_plfa-part3-Denotational-32962" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-32963" href="../Denotational/#plfa_plfa-part3-Denotational-32984" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32970" href="../Denotational/#plfa_plfa-part3-Denotational-32949" class="Bound">lt</a><a id="plfa_plfa-part3-Denotational-32972" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-32976" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-32984" href="../Denotational/#plfa_plfa-part3-Denotational-32984" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-32991" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-32993" class="Symbol">∀</a> <a id="plfa_plfa-part3-Denotational-32995" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-32996" href="../Denotational/#plfa_plfa-part3-Denotational-32996" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-32998" href="../Denotational/#plfa_plfa-part3-Denotational-32998" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33001" href="../Denotational/#plfa_plfa-part3-Denotational-33001" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33003" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-33005" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33007" href="../Denotational/#plfa_plfa-part3-Denotational-32998" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-33010" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-33012" href="../Denotational/#plfa_plfa-part3-Denotational-33001" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-33015" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33017" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33018" href="../Denotational/#plfa_plfa-part3-Denotational-32996" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33020" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33023" href="../Denotational/#plfa_plfa-part3-Denotational-32998" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-33025" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33027" href="../Denotational/#plfa_plfa-part3-Denotational-9665" class="Function Operator">`⊑</a> <a id="plfa_plfa-part3-Denotational-33030" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33031" href="../Denotational/#plfa_plfa-part3-Denotational-32996" class="Bound">γ</a> <a id="plfa_plfa-part3-Denotational-33033" href="../Denotational/#plfa_plfa-part3-Denotational-8887" class="Function Operator">`,</a> <a id="plfa_plfa-part3-Denotational-33036" href="../Denotational/#plfa_plfa-part3-Denotational-33001" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-33038" class="Symbol">)</a>
  <a id="plfa_plfa-part3-Denotational-33042" href="../Denotational/#plfa_plfa-part3-Denotational-32984" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33049" href="../Denotational/#plfa_plfa-part3-Denotational-33049" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33052" href="../Untyped/#plfa_plfa-part2-Untyped-4410" class="InductiveConstructor">Z</a> <a id="plfa_plfa-part3-Denotational-33054" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33056" href="../Denotational/#plfa_plfa-part3-Denotational-33049" class="Bound">lt</a>
  <a id="plfa_plfa-part3-Denotational-33061" href="../Denotational/#plfa_plfa-part3-Denotational-32984" class="Function">ext-le</a> <a id="plfa_plfa-part3-Denotational-33068" href="../Denotational/#plfa_plfa-part3-Denotational-33068" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-33071" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33072" href="../Untyped/#plfa_plfa-part2-Untyped-4455" class="InductiveConstructor Operator">S</a> <a id="plfa_plfa-part3-Denotational-33074" href="../Denotational/#plfa_plfa-part3-Denotational-33074" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33075" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33077" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33079" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>
</pre><h4 id="练习-denot-church推荐">练习 <code>denot-church</code>（推荐）</h4><p>在路径的表达上，丘奇数比自然数更通用。一条路径由 <code>n</code> 条边和 <code>n + 1</code> 个顶点构成。 我们将顶点逆序存储在长度为 <code>n + 1</code> 的向量中。路径中的边将第 <code>i</code> 个顶点映射到第 <code>i + 1</code> 个顶点。以下函数 <code>D^suc</code>（表示后继（successor）的指称）构造了一个表， 其中的条目是路径上所有的边：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-D^suc"></a><a id="plfa_plfa-part3-Denotational-33747" href="../Denotational/#plfa_plfa-part3-Denotational-33747" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33753" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33755" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33756" href="../Denotational/#plfa_plfa-part3-Denotational-33756" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-33758" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-33760" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-33761" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33763" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33765" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-33769" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-33775" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33776" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33780" href="../Denotational/#plfa_plfa-part3-Denotational-33756" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-33781" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33783" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-33785" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-33791" href="../Denotational/#plfa_plfa-part3-Denotational-33747" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33797" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-33802" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33803" href="../Denotational/#plfa_plfa-part3-Denotational-33803" class="Bound">a[0]</a> <a id="plfa_plfa-part3-Denotational-33808" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33810" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-33812" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33814" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-33816" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-33818" href="../Denotational/#plfa_plfa-part3-Denotational-33747" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33824" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33825" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-33829" href="../Denotational/#plfa_plfa-part3-Denotational-33829" class="Bound">i</a><a id="plfa_plfa-part3-Denotational-33830" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33832" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33833" href="../Denotational/#plfa_plfa-part3-Denotational-33833" class="Bound">a[i+1]</a> <a id="plfa_plfa-part3-Denotational-33840" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33842" href="../Denotational/#plfa_plfa-part3-Denotational-33842" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33847" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33849" href="../Denotational/#plfa_plfa-part3-Denotational-33849" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33851" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-33853" class="Symbol">=</a>  <a id="plfa_plfa-part3-Denotational-33856" href="../Denotational/#plfa_plfa-part3-Denotational-33842" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33861" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-33863" href="../Denotational/#plfa_plfa-part3-Denotational-33833" class="Bound">a[i+1]</a>  <a id="plfa_plfa-part3-Denotational-33871" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a>  <a id="plfa_plfa-part3-Denotational-33874" href="../Denotational/#plfa_plfa-part3-Denotational-33747" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-33880" href="../Denotational/#plfa_plfa-part3-Denotational-33829" class="Bound">i</a> <a id="plfa_plfa-part3-Denotational-33882" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-33883" href="../Denotational/#plfa_plfa-part3-Denotational-33842" class="Bound">a[i]</a> <a id="plfa_plfa-part3-Denotational-33888" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-33890" href="../Denotational/#plfa_plfa-part3-Denotational-33849" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-33892" class="Symbol">)</a>
</pre><p>我们用以下辅助函数来获取非空向量的第一个元素（就我们的目的而言，这种表示方式比 Agda 标准库中的更加方便）。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-vec-last"></a><a id="plfa_plfa-part3-Denotational-34163" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34172" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34174" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-34176" href="../Denotational/#plfa_plfa-part3-Denotational-34176" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34178" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34180" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34181" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34183" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34185" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34189" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34195" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34196" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34200" href="../Denotational/#plfa_plfa-part3-Denotational-34176" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34201" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34203" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34205" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34211" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34220" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34221" class="Number">0</a><a id="plfa_plfa-part3-Denotational-34222" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34224" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34225" href="../Denotational/#plfa_plfa-part3-Denotational-34225" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34227" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34229" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a><a id="plfa_plfa-part3-Denotational-34231" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34233" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34235" href="../Denotational/#plfa_plfa-part3-Denotational-34225" class="Bound">a</a>
<a id="plfa_plfa-part3-Denotational-34237" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34246" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-34247" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34251" href="../Denotational/#plfa_plfa-part3-Denotational-34251" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34252" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-34254" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34255" href="../Denotational/#plfa_plfa-part3-Denotational-34255" class="Bound">a</a> <a id="plfa_plfa-part3-Denotational-34257" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34259" href="../Denotational/#plfa_plfa-part3-Denotational-34259" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34261" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34263" href="../Denotational/#plfa_plfa-part3-Denotational-34263" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34265" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34267" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34269" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34278" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34279" href="../Denotational/#plfa_plfa-part3-Denotational-34259" class="Bound">b</a> <a id="plfa_plfa-part3-Denotational-34281" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34283" href="../Denotational/#plfa_plfa-part3-Denotational-34263" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34285" class="Symbol">)</a>
</pre><p>函数 <code>Dᶜ</code> 计算给定的路径上第 <code>n</code> 个丘奇数的指称。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-Dᶜ"></a><a id="plfa_plfa-part3-Denotational-34428" href="../Denotational/#plfa_plfa-part3-Denotational-34428" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34431" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34433" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34434" href="../Denotational/#plfa_plfa-part3-Denotational-34434" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34436" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-34438" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-34439" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34441" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34443" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="plfa_plfa-part3-Denotational-34447" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-34453" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34454" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-34458" href="../Denotational/#plfa_plfa-part3-Denotational-34434" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-34459" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34461" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-34463" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-34469" href="../Denotational/#plfa_plfa-part3-Denotational-34428" class="Function">Dᶜ</a> <a id="plfa_plfa-part3-Denotational-34472" href="../Denotational/#plfa_plfa-part3-Denotational-34472" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34474" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34475" href="../Denotational/#plfa_plfa-part3-Denotational-34475" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34480" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34482" href="../Denotational/#plfa_plfa-part3-Denotational-34482" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34484" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-34486" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-34488" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34489" href="../Denotational/#plfa_plfa-part3-Denotational-33747" class="Function">D^suc</a> <a id="plfa_plfa-part3-Denotational-34495" href="../Denotational/#plfa_plfa-part3-Denotational-34472" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-34497" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34498" href="../Denotational/#plfa_plfa-part3-Denotational-34475" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34503" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34505" href="../Denotational/#plfa_plfa-part3-Denotational-34482" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34507" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34510" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34512" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34513" href="../Denotational/#plfa_plfa-part3-Denotational-34163" class="Function">vec-last</a> <a id="plfa_plfa-part3-Denotational-34522" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-34523" href="../Denotational/#plfa_plfa-part3-Denotational-34475" class="Bound">a[n]</a> <a id="plfa_plfa-part3-Denotational-34528" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="plfa_plfa-part3-Denotational-34530" href="../Denotational/#plfa_plfa-part3-Denotational-34482" class="Bound">ls</a><a id="plfa_plfa-part3-Denotational-34532" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-34535" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-34537" href="../Denotational/#plfa_plfa-part3-Denotational-34475" class="Bound">a[n]</a>
</pre><ul><li><p><code>0</code> 的丘奇数忽略其第一个参数并返回第二个参数，因此对于只由 <code>a[0]</code> 构成的单例路径，其指称为</p><pre><code>  ⊥ ↦ a[0] ↦ a[0]</code></pre></li></ul><ul><li><p><code>suc n</code> 的丘奇数接受两个参数：一个后继函数，其指称由 <code>D^suc</code> 给定， 以及一个路径的起点（向量的最后一个元素）。它返回路径中的第 <code>n + 1</code> 个节点。</p><pre><code>  (D^suc (suc n) (a[n+1] ∷ a[n] ∷ ls)) ↦ (vec-last (a[n] ∷ ls)) ↦ a[n+1]</code></pre></li></ul><p>此练习证明了对于任意路径 <code>ls</code>，邱奇数 <code>n</code> 的含义是 <code>Dᶜ n ls</code>。</p><p>为了便于讨论任意丘奇数，以下 <code>church</code> 函数通过辅助函数 <code>apply-n</code> 来构建第 <code>n</code> 个丘奇数的项：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-apply-n"></a><a id="plfa_plfa-part3-Denotational-35596" href="../Denotational/#plfa_plfa-part3-Denotational-35596" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35604" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35606" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35607" href="../Denotational/#plfa_plfa-part3-Denotational-35607" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35609" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35611" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35612" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35614" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35616" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35618" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35620" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35622" href="../Untyped/#plfa_plfa-part2-Untyped-3886" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-35624" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a> <a id="plfa_plfa-part3-Denotational-35626" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35628" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35630" href="../Denotational/#plfa_plfa-part3-Denotational-35596" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35638" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="plfa_plfa-part3-Denotational-35643" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35645" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35647" class="Number">0</a>
<a id="plfa_plfa-part3-Denotational-35649" href="../Denotational/#plfa_plfa-part3-Denotational-35596" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35657" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35658" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="plfa_plfa-part3-Denotational-35662" href="../Denotational/#plfa_plfa-part3-Denotational-35662" class="Bound">n</a><a id="plfa_plfa-part3-Denotational-35663" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35665" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35667" href="../Untyped/#plfa_plfa-part2-Untyped-6491" class="Function Operator">#</a> <a id="plfa_plfa-part3-Denotational-35669" class="Number">1</a> <a id="plfa_plfa-part3-Denotational-35671" href="../Untyped/#plfa_plfa-part2-Untyped-5565" class="InductiveConstructor Operator">·</a> <a id="plfa_plfa-part3-Denotational-35673" href="../Denotational/#plfa_plfa-part3-Denotational-35596" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35681" href="../Denotational/#plfa_plfa-part3-Denotational-35662" class="Bound">n</a>

<a id="plfa_plfa-part3-Denotational-church"></a><a id="plfa_plfa-part3-Denotational-35684" href="../Denotational/#plfa_plfa-part3-Denotational-35684" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35691" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35693" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-35694" href="../Denotational/#plfa_plfa-part3-Denotational-35694" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35696" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-35698" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="plfa_plfa-part3-Denotational-35699" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-35701" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-35703" href="../Untyped/#plfa_plfa-part2-Untyped-3870" class="InductiveConstructor">∅</a> <a id="plfa_plfa-part3-Denotational-35705" href="../Untyped/#plfa_plfa-part2-Untyped-5417" class="Datatype Operator">⊢</a> <a id="plfa_plfa-part3-Denotational-35707" href="../Untyped/#plfa_plfa-part2-Untyped-3455" class="InductiveConstructor">★</a>
<a id="plfa_plfa-part3-Denotational-35709" href="../Denotational/#plfa_plfa-part3-Denotational-35684" class="Function">church</a> <a id="plfa_plfa-part3-Denotational-35716" href="../Denotational/#plfa_plfa-part3-Denotational-35716" class="Bound">n</a> <a id="plfa_plfa-part3-Denotational-35718" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-35720" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35722" href="../Untyped/#plfa_plfa-part2-Untyped-5505" class="InductiveConstructor Operator">ƛ</a> <a id="plfa_plfa-part3-Denotational-35724" href="../Denotational/#plfa_plfa-part3-Denotational-35596" class="Function">apply-n</a> <a id="plfa_plfa-part3-Denotational-35732" href="../Denotational/#plfa_plfa-part3-Denotational-35716" class="Bound">n</a>
</pre><p>证明以下定理：</p><pre><code>denot-church : ∀{n : ℕ}{ls : Vec Value (suc n)}
   → `∅ ⊢ church n ↓ Dᶜ n ls</code></pre><pre class="Agda"><a id="plfa_plfa-part3-Denotational-35881" class="Comment">-- 请将代码写在此处</a>
</pre><h2 id="函数小于关系的反演">函数小于关系的反演</h2><p>已知函数 <code>v ↦ w</code> 小于某个值 <code>u</code>，我们可以推断出什么？关于 <code>u</code> 我们可以推断出什么？问题的答案被称为「函数小于」的<strong>反演性（Inversion）</strong>。 这个问题并不容易回答，因为 <code>⊑-dist</code> 规则将左侧的函数与右侧的一对函数联系了起来。 因此，<code>u</code> 可能包含多个与 <code>v ↦ w</code> 相关的一组函数。此外，由于规则 <code>⊑-conj-R1</code> 和 <code>⊑-conj-R2</code>，<code>u</code> 中可能还有别的值（如 <code>⊥</code>）与 <code>v ↦ w</code> 无关。但总的来说， 我们可以推断出 <code>u</code> 包含了一组函数，其中它们的定义域的连接小于 <code>v</code>，而它们的陪域的连接大于 <code>w</code>。</p><p>为了精确陈述并证明这种反演性，我们需要定义「一个值<strong>包含</strong>一组值的含义。 我们还需要定义如何计算它们的定义域和陪域的连接。</p><h3 id="值的成员关系与包含关系">值的成员关系与包含关系</h3><p>前面我们将值视作一个集合，它由条目以及类似并集的连接运算符 <code>v ⊔ w</code> 组成。 函数值 <code>v ↦ w</code> 和底值 <code>⊥</code> 构成了集合的两种元素（在其他语境下，人们可能将 <code>⊥</code> 视作空集，但在这里我们必须将它视为一个元素）。我们用 <code>u ∈ v</code>表示 <code>u</code> 是 <code>v</code> 的一个元素，定义如下：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-37933" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-37939" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-37941" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">_∈_</a>

<a id="plfa_plfa-part3-Denotational-_∈_"></a><a id="plfa_plfa-part3-Denotational-37946" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">_∈_</a> <a id="plfa_plfa-part3-Denotational-37950" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-37952" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37958" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37960" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-37966" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-37968" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-37972" href="../Denotational/#plfa_plfa-part3-Denotational-37972" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37974" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37976" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a> <a id="plfa_plfa-part3-Denotational-37978" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37980" href="../Denotational/#plfa_plfa-part3-Denotational-37972" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37982" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-37984" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-37986" href="../Denotational/#plfa_plfa-part3-Denotational-37986" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-37988" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-37990" href="../Denotational/#plfa_plfa-part3-Denotational-37990" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-37992" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-37994" href="../Denotational/#plfa_plfa-part3-Denotational-37994" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-37996" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-37998" href="../Denotational/#plfa_plfa-part3-Denotational-37986" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38000" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-38002" href="../Denotational/#plfa_plfa-part3-Denotational-37990" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38004" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38006" href="../Denotational/#plfa_plfa-part3-Denotational-37994" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-38008" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38010" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38012" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38013" href="../Denotational/#plfa_plfa-part3-Denotational-38013" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38015" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38017" href="../Denotational/#plfa_plfa-part3-Denotational-38017" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38018" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38020" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38022" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38024" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38026" href="../Denotational/#plfa_plfa-part3-Denotational-38013" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38028" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-38030" href="../Denotational/#plfa_plfa-part3-Denotational-38008" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38032" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38034" href="../Denotational/#plfa_plfa-part3-Denotational-38017" class="Bound">w</a>
</pre><p>于是我们可以简单地将一组值表示为一个值。我们用 <code>v ⊆ w</code> 表示 <code>v</code> 的所有元素也都属于 <code>w</code>：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-38247" class="Keyword">infix</a> <a id="plfa_plfa-part3-Denotational-38253" class="Number">5</a> <a id="plfa_plfa-part3-Denotational-38255" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">_⊆_</a>

<a id="plfa_plfa-part3-Denotational-_⊆_"></a><a id="plfa_plfa-part3-Denotational-38260" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">_⊆_</a> <a id="plfa_plfa-part3-Denotational-38264" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38266" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38272" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38274" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-38280" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38282" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-38286" href="../Denotational/#plfa_plfa-part3-Denotational-38286" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38288" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38290" href="../Denotational/#plfa_plfa-part3-Denotational-38290" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-38292" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38294" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38296" href="../Denotational/#plfa_plfa-part3-Denotational-38296" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38297" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38299" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38301" href="../Denotational/#plfa_plfa-part3-Denotational-38296" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38303" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38305" href="../Denotational/#plfa_plfa-part3-Denotational-38286" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38307" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38309" href="../Denotational/#plfa_plfa-part3-Denotational-38296" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38311" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38313" href="../Denotational/#plfa_plfa-part3-Denotational-38290" class="Bound">w</a>
</pre><p>值的成员与包含关系的概念和小于关系密切相关， 它们是蕴含了小于关系的更狭义的关系，反之则不然。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-∈→⊑"></a><a id="plfa_plfa-part3-Denotational-38585" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38589" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38591" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38593" href="../Denotational/#plfa_plfa-part3-Denotational-38593" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38595" href="../Denotational/#plfa_plfa-part3-Denotational-38595" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38597" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38599" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38604" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38610" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38612" href="../Denotational/#plfa_plfa-part3-Denotational-38593" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38614" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-38616" href="../Denotational/#plfa_plfa-part3-Denotational-38595" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38624" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38634" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38636" href="../Denotational/#plfa_plfa-part3-Denotational-38593" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38638" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38640" href="../Denotational/#plfa_plfa-part3-Denotational-38595" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38642" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38646" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38647" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-38648" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="DottedPattern InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38649" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38651" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38652" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38653" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38655" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38660" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38662" href="../Denotational/#plfa_plfa-part3-Denotational-5428" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38668" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38672" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38673" href="../Denotational/#plfa_plfa-part3-Denotational-38673" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38675" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38677" href="../Denotational/#plfa_plfa-part3-Denotational-38677" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38678" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38680" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38681" href="../Denotational/#plfa_plfa-part3-Denotational-38673" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38683" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38685" href="../Denotational/#plfa_plfa-part3-Denotational-38677" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38686" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38688" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-38693" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38695" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a>
<a id="plfa_plfa-part3-Denotational-38702" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38706" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38707" href="../Denotational/#plfa_plfa-part3-Denotational-38707" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38708" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38710" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38711" href="../Denotational/#plfa_plfa-part3-Denotational-38711" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38713" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38715" href="../Denotational/#plfa_plfa-part3-Denotational-38715" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38716" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38718" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38719" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38724" href="../Denotational/#plfa_plfa-part3-Denotational-38724" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38725" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38727" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38729" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="InductiveConstructor">⊑-conj-R1</a> <a id="plfa_plfa-part3-Denotational-38739" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38740" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38744" href="../Denotational/#plfa_plfa-part3-Denotational-38724" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-38745" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-38747" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38751" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38752" href="../Denotational/#plfa_plfa-part3-Denotational-38752" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-38753" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38755" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38756" href="../Denotational/#plfa_plfa-part3-Denotational-38756" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38758" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38760" href="../Denotational/#plfa_plfa-part3-Denotational-38760" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-38761" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38763" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38764" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-38769" href="../Denotational/#plfa_plfa-part3-Denotational-38769" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38770" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-38772" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38774" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="InductiveConstructor">⊑-conj-R2</a> <a id="plfa_plfa-part3-Denotational-38784" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38785" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38789" href="../Denotational/#plfa_plfa-part3-Denotational-38769" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-38790" class="Symbol">)</a>

<a id="plfa_plfa-part3-Denotational-⊆→⊑"></a><a id="plfa_plfa-part3-Denotational-38793" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38797" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38799" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-38801" href="../Denotational/#plfa_plfa-part3-Denotational-38801" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38803" href="../Denotational/#plfa_plfa-part3-Denotational-38803" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-38805" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-38807" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-38812" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-38818" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38820" href="../Denotational/#plfa_plfa-part3-Denotational-38801" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38822" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-38824" href="../Denotational/#plfa_plfa-part3-Denotational-38803" class="Bound">v</a>
      <a id="plfa_plfa-part3-Denotational-38832" class="Comment">-----</a>
    <a id="plfa_plfa-part3-Denotational-38842" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38844" href="../Denotational/#plfa_plfa-part3-Denotational-38801" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38846" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-38848" href="../Denotational/#plfa_plfa-part3-Denotational-38803" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-38850" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38854" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38855" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38856" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38858" href="../Denotational/#plfa_plfa-part3-Denotational-38858" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38860" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38865" href="../Denotational/#plfa_plfa-part3-Denotational-38858" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38867" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38868" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-38869" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38871" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38876" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38880" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38882" href="../Denotational/#plfa_plfa-part3-Denotational-38882" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38884" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38886" href="../Denotational/#plfa_plfa-part3-Denotational-5428" class="InductiveConstructor">⊑-bot</a>
<a id="plfa_plfa-part3-Denotational-38892" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38896" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38897" href="../Denotational/#plfa_plfa-part3-Denotational-38897" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38899" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38901" href="../Denotational/#plfa_plfa-part3-Denotational-38901" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38903" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38905" href="../Denotational/#plfa_plfa-part3-Denotational-38905" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38907" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-38912" href="../Denotational/#plfa_plfa-part3-Denotational-38905" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38914" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38915" href="../Denotational/#plfa_plfa-part3-Denotational-38897" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38917" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-38919" href="../Denotational/#plfa_plfa-part3-Denotational-38901" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38921" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38923" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-38928" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-38932" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-38934" href="../Denotational/#plfa_plfa-part3-Denotational-38934" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-38936" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38938" href="../Denotational/#plfa_plfa-part3-Denotational-38585" class="Function">∈→⊑</a> <a id="plfa_plfa-part3-Denotational-38942" href="../Denotational/#plfa_plfa-part3-Denotational-38934" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-38944" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38948" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-38949" href="../Denotational/#plfa_plfa-part3-Denotational-38949" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-38951" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-38953" href="../Denotational/#plfa_plfa-part3-Denotational-38953" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-38955" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-38957" href="../Denotational/#plfa_plfa-part3-Denotational-38957" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38959" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-38961" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-38970" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38971" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-38975" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-38978" href="../Denotational/#plfa_plfa-part3-Denotational-38978" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-38980" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-38982" href="../Denotational/#plfa_plfa-part3-Denotational-38957" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-38984" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38985" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-38990" href="../Denotational/#plfa_plfa-part3-Denotational-38978" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-38991" class="Symbol">)))</a> <a id="plfa_plfa-part3-Denotational-38995" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-38996" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-39000" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39003" href="../Denotational/#plfa_plfa-part3-Denotational-39003" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-39005" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39007" href="../Denotational/#plfa_plfa-part3-Denotational-38957" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-39009" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39010" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39015" href="../Denotational/#plfa_plfa-part3-Denotational-39003" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-39016" class="Symbol">)))</a>
</pre><p>我们还需要一些值的包含关系的反演法则。如果 <code>u</code> 和 <code>v</code> 的并含于 <code>w</code>， 那么 <code>u</code> 和 <code>v</code> 自然都含于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊔⊆-inv"></a><a id="plfa_plfa-part3-Denotational-39283" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39290" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39292" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39294" href="../Denotational/#plfa_plfa-part3-Denotational-39294" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39296" href="../Denotational/#plfa_plfa-part3-Denotational-39296" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39298" href="../Denotational/#plfa_plfa-part3-Denotational-39298" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39300" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39302" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39307" class="Symbol">}</a>
       <a id="plfa_plfa-part3-Denotational-39316" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39318" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39319" href="../Denotational/#plfa_plfa-part3-Denotational-39294" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39321" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-39323" href="../Denotational/#plfa_plfa-part3-Denotational-39296" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-39324" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-39326" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39328" href="../Denotational/#plfa_plfa-part3-Denotational-39298" class="Bound">w</a>
         <a id="plfa_plfa-part3-Denotational-39339" class="Comment">---------------</a>
       <a id="plfa_plfa-part3-Denotational-39362" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39364" href="../Denotational/#plfa_plfa-part3-Denotational-39294" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39366" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39368" href="../Denotational/#plfa_plfa-part3-Denotational-39298" class="Bound">w</a>  <a id="plfa_plfa-part3-Denotational-39371" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-39374" href="../Denotational/#plfa_plfa-part3-Denotational-39296" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39376" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39378" href="../Denotational/#plfa_plfa-part3-Denotational-39298" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-39380" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-39387" href="../Denotational/#plfa_plfa-part3-Denotational-39387" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39391" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39393" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-39395" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39398" href="../Denotational/#plfa_plfa-part3-Denotational-39398" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39400" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39402" href="../Denotational/#plfa_plfa-part3-Denotational-39387" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39406" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39407" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-39412" href="../Denotational/#plfa_plfa-part3-Denotational-39398" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39413" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39416" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-39418" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-39421" href="../Denotational/#plfa_plfa-part3-Denotational-39421" class="Bound">x</a> <a id="plfa_plfa-part3-Denotational-39423" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39425" href="../Denotational/#plfa_plfa-part3-Denotational-39387" class="Bound">uvw</a> <a id="plfa_plfa-part3-Denotational-39429" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-39430" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-39435" href="../Denotational/#plfa_plfa-part3-Denotational-39421" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-39436" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-39439" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
</pre><p>在我们的值的表示中，<code>v ↦ w</code> 既是一个元素，又是一个单例集。因此如果 <code>v ↦ w</code> 是 <code>u</code> 的一个子集，那么 <code>v ↦ w</code> 必定是 <code>u</code> 的一个成员。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊆→∈"></a><a id="plfa_plfa-part3-Denotational-39722" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39727" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39729" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-39731" href="../Denotational/#plfa_plfa-part3-Denotational-39731" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39733" href="../Denotational/#plfa_plfa-part3-Denotational-39733" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39735" href="../Denotational/#plfa_plfa-part3-Denotational-39735" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-39737" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-39739" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-39744" class="Symbol">}</a>
     <a id="plfa_plfa-part3-Denotational-39751" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39753" href="../Denotational/#plfa_plfa-part3-Denotational-39731" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39755" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39757" href="../Denotational/#plfa_plfa-part3-Denotational-39733" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39759" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-39761" href="../Denotational/#plfa_plfa-part3-Denotational-39735" class="Bound">u</a>
       <a id="plfa_plfa-part3-Denotational-39770" class="Comment">---------</a>
     <a id="plfa_plfa-part3-Denotational-39785" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-39787" href="../Denotational/#plfa_plfa-part3-Denotational-39731" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-39789" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-39791" href="../Denotational/#plfa_plfa-part3-Denotational-39733" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-39793" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-39795" href="../Denotational/#plfa_plfa-part3-Denotational-39735" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-39797" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-39802" href="../Denotational/#plfa_plfa-part3-Denotational-39802" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39807" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-39809" href="../Denotational/#plfa_plfa-part3-Denotational-39802" class="Bound">incl</a> <a id="plfa_plfa-part3-Denotational-39814" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre><h3 id="函数值">函数值</h3><p>为了识别函数的集合，我们定义了以下两个谓词。如果 <code>u</code> 是一个函数值， 即对于某些值 <code>v</code> 和 <code>w</code>，有 <code>u ≡ v ↦ w</code>，我们就记作 <code>Fun u</code>。 如果 <code>v</code> 中的所有元素都是函数，我们就记作 <code>all-funs v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-40244" class="Keyword">data</a> <a id="plfa_plfa-part3-Denotational-Fun"></a><a id="plfa_plfa-part3-Denotational-40249" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40253" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40255" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40261" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40263" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a> <a id="plfa_plfa-part3-Denotational-40267" class="Keyword">where</a>
  <a id="plfa_plfa-part3-Denotational-Fun.fun"></a><a id="plfa_plfa-part3-Denotational-40275" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40279" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40281" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40283" href="../Denotational/#plfa_plfa-part3-Denotational-40283" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40285" href="../Denotational/#plfa_plfa-part3-Denotational-40285" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40287" href="../Denotational/#plfa_plfa-part3-Denotational-40287" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40288" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40290" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40292" href="../Denotational/#plfa_plfa-part3-Denotational-40283" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40294" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="plfa_plfa-part3-Denotational-40296" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40297" href="../Denotational/#plfa_plfa-part3-Denotational-40285" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40299" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40301" href="../Denotational/#plfa_plfa-part3-Denotational-40287" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40302" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40304" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40306" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40310" href="../Denotational/#plfa_plfa-part3-Denotational-40283" class="Bound">u</a>

<a id="plfa_plfa-part3-Denotational-all-funs"></a><a id="plfa_plfa-part3-Denotational-40313" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40322" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40324" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40330" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40332" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-40336" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40345" href="../Denotational/#plfa_plfa-part3-Denotational-40345" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40347" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40349" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40351" href="../Denotational/#plfa_plfa-part3-Denotational-40351" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40352" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40354" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40356" href="../Denotational/#plfa_plfa-part3-Denotational-40351" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40358" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40360" href="../Denotational/#plfa_plfa-part3-Denotational-40345" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40362" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40364" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40368" href="../Denotational/#plfa_plfa-part3-Denotational-40351" class="Bound">u</a>
</pre><p>值 <code>⊥</code> 不是函数：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-¬Fun⊥"></a><a id="plfa_plfa-part3-Denotational-40439" href="../Denotational/#plfa_plfa-part3-Denotational-40439" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40445" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40447" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="plfa_plfa-part3-Denotational-40449" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40450" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-40454" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40455" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-40457" href="../Denotational/#plfa_plfa-part3-Denotational-40439" class="Function">¬Fun⊥</a> <a id="plfa_plfa-part3-Denotational-40463" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40464" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40468" class="Symbol">())</a>
</pre><p>在「值作为集合」的表示中，集合总是包含至少一个元素。即，如果所有的元素都是函数， 那么至少存在一个函数。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-all-funs∈"></a><a id="plfa_plfa-part3-Denotational-40716" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40726" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-40728" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-40730" href="../Denotational/#plfa_plfa-part3-Denotational-40730" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-40731" class="Symbol">}</a>
      <a id="plfa_plfa-part3-Denotational-40739" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40741" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-40750" href="../Denotational/#plfa_plfa-part3-Denotational-40730" class="Bound">u</a>
      <a id="plfa_plfa-part3-Denotational-40758" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40760" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40763" href="../Denotational/#plfa_plfa-part3-Denotational-40763" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40765" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40767" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40773" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40775" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-40778" href="../Denotational/#plfa_plfa-part3-Denotational-40778" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40780" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-40782" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-40788" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-40790" href="../Denotational/#plfa_plfa-part3-Denotational-40763" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40792" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40794" href="../Denotational/#plfa_plfa-part3-Denotational-40778" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40796" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-40798" href="../Denotational/#plfa_plfa-part3-Denotational-40730" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-40800" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40810" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40811" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40812" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40814" href="../Denotational/#plfa_plfa-part3-Denotational-40814" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40816" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40821" href="../Denotational/#plfa_plfa-part3-Denotational-40814" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40823" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40824" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-40825" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40827" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-40832" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40836" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40838" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-40842" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-40845" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40855" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40856" href="../Denotational/#plfa_plfa-part3-Denotational-40856" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40858" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-40860" href="../Denotational/#plfa_plfa-part3-Denotational-40860" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-40861" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40863" href="../Denotational/#plfa_plfa-part3-Denotational-40863" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40865" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40867" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40869" href="../Denotational/#plfa_plfa-part3-Denotational-40856" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40871" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40873" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40875" href="../Denotational/#plfa_plfa-part3-Denotational-40860" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40877" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40879" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-40884" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40886" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-40888" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40898" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-40899" href="../Denotational/#plfa_plfa-part3-Denotational-40899" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-40901" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-40903" href="../Denotational/#plfa_plfa-part3-Denotational-40903" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-40905" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-40907" href="../Denotational/#plfa_plfa-part3-Denotational-40907" class="Bound">f</a>
    <a id="plfa_plfa-part3-Denotational-40913" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-40918" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-40928" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-40931" href="../Denotational/#plfa_plfa-part3-Denotational-40931" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-40933" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-40935" href="../Denotational/#plfa_plfa-part3-Denotational-40907" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-40937" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40938" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40943" href="../Denotational/#plfa_plfa-part3-Denotational-40931" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-40944" class="Symbol">))</a>
<a id="plfa_plfa-part3-Denotational-40947" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-40951" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-40953" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40955" href="../Denotational/#plfa_plfa-part3-Denotational-40955" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40957" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40959" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40961" href="../Denotational/#plfa_plfa-part3-Denotational-40961" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40963" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40965" href="../Denotational/#plfa_plfa-part3-Denotational-40965" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-40967" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40969" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40971" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-40973" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40975" href="../Denotational/#plfa_plfa-part3-Denotational-40955" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-40977" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40979" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-40981" href="../Denotational/#plfa_plfa-part3-Denotational-40961" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-40983" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-40985" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-40986" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-40991" href="../Denotational/#plfa_plfa-part3-Denotational-40965" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-40992" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-40994" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-40996" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
</pre><h3 id="定义域与陪域">定义域与陪域</h3><p>回到我们一开始的目标上来，即「小于一个函数」的反演法则。我们想要证明 <code>v ↦ w ⊑ u</code> 蕴含「<code>u</code> 包含一个函数值的集合，它们定义域的连接小于 <code>v</code>，陪域的连接大于 <code>w</code>」。</p><p>为此，我们定义了以下 <code>⨆dom</code> 和 <code>⨆cod</code> 函数。给定某个值 <code>u</code>（表示一个条目的集合）， <code>⨆dom u</code> 返回其定义域的连接，<code>⨆cod u</code> 返回其陪域的连接：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⨆dom"></a><a id="plfa_plfa-part3-Denotational-41745" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41750" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41752" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41753" href="../Denotational/#plfa_plfa-part3-Denotational-41753" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41755" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41757" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41762" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41764" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41766" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41772" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41777" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41780" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41782" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41784" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41789" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41790" href="../Denotational/#plfa_plfa-part3-Denotational-41790" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41792" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41794" href="../Denotational/#plfa_plfa-part3-Denotational-41794" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41795" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41797" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41799" href="../Denotational/#plfa_plfa-part3-Denotational-41790" class="Bound">v</a>
<a id="plfa_plfa-part3-Denotational-41801" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41806" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41807" href="../Denotational/#plfa_plfa-part3-Denotational-41807" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41809" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41811" href="../Denotational/#plfa_plfa-part3-Denotational-41811" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41813" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41815" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41817" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41822" href="../Denotational/#plfa_plfa-part3-Denotational-41807" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41824" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41826" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-41831" href="../Denotational/#plfa_plfa-part3-Denotational-41811" class="Bound">u′</a>

<a id="plfa_plfa-part3-Denotational-⨆cod"></a><a id="plfa_plfa-part3-Denotational-41835" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41840" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41842" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41843" href="../Denotational/#plfa_plfa-part3-Denotational-41843" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41845" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-41847" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-41852" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41854" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-41856" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a>
<a id="plfa_plfa-part3-Denotational-41862" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41867" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>  <a id="plfa_plfa-part3-Denotational-41870" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41872" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a>
<a id="plfa_plfa-part3-Denotational-41874" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41879" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41880" href="../Denotational/#plfa_plfa-part3-Denotational-41880" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-41882" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-41884" href="../Denotational/#plfa_plfa-part3-Denotational-41884" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-41885" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41887" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41889" href="../Denotational/#plfa_plfa-part3-Denotational-41884" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-41891" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41896" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-41897" href="../Denotational/#plfa_plfa-part3-Denotational-41897" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41899" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41901" href="../Denotational/#plfa_plfa-part3-Denotational-41901" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-41903" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-41905" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-41907" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41912" href="../Denotational/#plfa_plfa-part3-Denotational-41897" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-41914" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-41916" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-41921" href="../Denotational/#plfa_plfa-part3-Denotational-41901" class="Bound">u′</a>
</pre><p>对于 <code>⨆dom</code> 和 <code>⨆cod</code> 我们只需要一个性质。给定一个函数的的集合，表示为值 <code>u</code>，和一个条目 <code>v ↦ w ∈ u</code>，我们能够证明 <code>v</code> 包含在 <code>u</code> 的定义域中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦∈→⊆⨆dom"></a><a id="plfa_plfa-part3-Denotational-42231" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42240" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42242" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42244" href="../Denotational/#plfa_plfa-part3-Denotational-42244" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42246" href="../Denotational/#plfa_plfa-part3-Denotational-42246" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42248" href="../Denotational/#plfa_plfa-part3-Denotational-42248" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42250" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42252" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42257" class="Symbol">}</a>
          <a id="plfa_plfa-part3-Denotational-42269" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42271" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-42280" href="../Denotational/#plfa_plfa-part3-Denotational-42244" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-42283" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-42286" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42287" href="../Denotational/#plfa_plfa-part3-Denotational-42246" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42289" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42291" href="../Denotational/#plfa_plfa-part3-Denotational-42248" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42292" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42294" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-42296" href="../Denotational/#plfa_plfa-part3-Denotational-42244" class="Bound">u</a>
            <a id="plfa_plfa-part3-Denotational-42310" class="Comment">----------------------</a>
          <a id="plfa_plfa-part3-Denotational-42343" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42345" href="../Denotational/#plfa_plfa-part3-Denotational-42246" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42347" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42349" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-42354" href="../Denotational/#plfa_plfa-part3-Denotational-42244" class="Bound">u</a>
<a id="plfa_plfa-part3-Denotational-42356" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42365" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42366" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42367" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42369" href="../Denotational/#plfa_plfa-part3-Denotational-42369" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42372" class="Symbol">()</a> <a id="plfa_plfa-part3-Denotational-42375" href="../Denotational/#plfa_plfa-part3-Denotational-42375" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42379" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42388" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42389" href="../Denotational/#plfa_plfa-part3-Denotational-42389" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42391" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42393" href="../Denotational/#plfa_plfa-part3-Denotational-42393" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-42394" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42396" href="../Denotational/#plfa_plfa-part3-Denotational-42396" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42399" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42404" href="../Denotational/#plfa_plfa-part3-Denotational-42404" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42408" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42410" href="../Denotational/#plfa_plfa-part3-Denotational-42404" class="Bound">u∈v</a>
<a id="plfa_plfa-part3-Denotational-42414" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42423" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42424" href="../Denotational/#plfa_plfa-part3-Denotational-42424" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42426" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42428" href="../Denotational/#plfa_plfa-part3-Denotational-42428" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42430" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42432" href="../Denotational/#plfa_plfa-part3-Denotational-42432" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42435" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42436" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42441" href="../Denotational/#plfa_plfa-part3-Denotational-42441" class="Bound">v↦w∈u</a><a id="plfa_plfa-part3-Denotational-42446" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42448" href="../Denotational/#plfa_plfa-part3-Denotational-42448" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42452" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42457" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42461" href="../Denotational/#plfa_plfa-part3-Denotational-42461" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42464" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42466" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42475" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42478" href="../Denotational/#plfa_plfa-part3-Denotational-42478" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42480" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42482" href="../Denotational/#plfa_plfa-part3-Denotational-42432" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42485" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42486" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42491" href="../Denotational/#plfa_plfa-part3-Denotational-42478" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42492" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42495" href="../Denotational/#plfa_plfa-part3-Denotational-42441" class="Bound">v↦w∈u</a> <a id="plfa_plfa-part3-Denotational-42501" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42507" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-42512" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42513" href="../Denotational/#plfa_plfa-part3-Denotational-42461" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42516" href="../Denotational/#plfa_plfa-part3-Denotational-42448" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42519" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-42521" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42530" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42531" href="../Denotational/#plfa_plfa-part3-Denotational-42531" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42533" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-42535" href="../Denotational/#plfa_plfa-part3-Denotational-42535" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-42537" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42539" href="../Denotational/#plfa_plfa-part3-Denotational-42539" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42542" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42543" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42548" href="../Denotational/#plfa_plfa-part3-Denotational-42548" class="Bound">v↦w∈u′</a><a id="plfa_plfa-part3-Denotational-42554" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-42556" href="../Denotational/#plfa_plfa-part3-Denotational-42556" class="Bound">u∈v</a> <a id="plfa_plfa-part3-Denotational-42560" class="Symbol">=</a>
   <a id="plfa_plfa-part3-Denotational-42565" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-42569" href="../Denotational/#plfa_plfa-part3-Denotational-42569" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42572" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-42574" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-42583" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-42586" href="../Denotational/#plfa_plfa-part3-Denotational-42586" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-42588" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42590" href="../Denotational/#plfa_plfa-part3-Denotational-42539" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-42593" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42594" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42599" href="../Denotational/#plfa_plfa-part3-Denotational-42586" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-42600" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-42603" href="../Denotational/#plfa_plfa-part3-Denotational-42548" class="Bound">v↦w∈u′</a> <a id="plfa_plfa-part3-Denotational-42610" class="Keyword">in</a>
   <a id="plfa_plfa-part3-Denotational-42616" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-42621" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-42622" href="../Denotational/#plfa_plfa-part3-Denotational-42569" class="Bound">ih</a> <a id="plfa_plfa-part3-Denotational-42625" href="../Denotational/#plfa_plfa-part3-Denotational-42556" class="Bound">u∈v</a><a id="plfa_plfa-part3-Denotational-42628" class="Symbol">)</a>
</pre><p>对于 <code>⨆cod</code>，假设我们有一个函数集合 <code>u</code>，但它们都只是 <code>v ↦ w</code> 的副本。 那么 <code>⨆cod u</code> 包含在 <code>w</code> 中：</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-⊆↦→⨆cod⊆"></a><a id="plfa_plfa-part3-Denotational-42886" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42895" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42897" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-42899" href="../Denotational/#plfa_plfa-part3-Denotational-42899" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42901" href="../Denotational/#plfa_plfa-part3-Denotational-42901" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42903" href="../Denotational/#plfa_plfa-part3-Denotational-42903" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-42905" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-42907" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-42912" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-42922" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42924" href="../Denotational/#plfa_plfa-part3-Denotational-42899" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42926" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42928" href="../Denotational/#plfa_plfa-part3-Denotational-42901" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-42930" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-42932" href="../Denotational/#plfa_plfa-part3-Denotational-42903" class="Bound">w</a>
          <a id="plfa_plfa-part3-Denotational-42944" class="Comment">---------</a>
        <a id="plfa_plfa-part3-Denotational-42962" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-42964" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-42969" href="../Denotational/#plfa_plfa-part3-Denotational-42899" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-42971" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-42973" href="../Denotational/#plfa_plfa-part3-Denotational-42903" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-42975" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-42984" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-42985" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-42986" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-42988" href="../Denotational/#plfa_plfa-part3-Denotational-42988" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-42990" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-42995" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43000" href="../Denotational/#plfa_plfa-part3-Denotational-42988" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43002" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43003" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-43004" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43006" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43011" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43015" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43017" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-43020" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43029" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43030" href="../Denotational/#plfa_plfa-part3-Denotational-43030" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43032" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43034" href="../Denotational/#plfa_plfa-part3-Denotational-43034" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43036" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43038" href="../Denotational/#plfa_plfa-part3-Denotational-43038" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43040" href="../Denotational/#plfa_plfa-part3-Denotational-43040" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-43042" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-43047" href="../Denotational/#plfa_plfa-part3-Denotational-43038" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43049" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43050" href="../Denotational/#plfa_plfa-part3-Denotational-43030" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-43052" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-43054" href="../Denotational/#plfa_plfa-part3-Denotational-43034" class="Bound">C′</a><a id="plfa_plfa-part3-Denotational-43056" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43058" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-43063" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-43067" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-43069" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-43074" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43076" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-43078" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43087" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43088" href="../Denotational/#plfa_plfa-part3-Denotational-43088" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43090" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43092" href="../Denotational/#plfa_plfa-part3-Denotational-43092" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43094" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43096" href="../Denotational/#plfa_plfa-part3-Denotational-43096" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43098" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43099" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43104" href="../Denotational/#plfa_plfa-part3-Denotational-43104" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-43105" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43107" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43109" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43118" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43121" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43122" href="../Denotational/#plfa_plfa-part3-Denotational-43122" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43123" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43125" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43127" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43129" href="../Denotational/#plfa_plfa-part3-Denotational-43096" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43131" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43132" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-43137" href="../Denotational/#plfa_plfa-part3-Denotational-43125" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43138" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43141" href="../Denotational/#plfa_plfa-part3-Denotational-43104" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-43143" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43152" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43153" href="../Denotational/#plfa_plfa-part3-Denotational-43153" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43155" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-43157" href="../Denotational/#plfa_plfa-part3-Denotational-43157" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-43159" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43161" href="../Denotational/#plfa_plfa-part3-Denotational-43161" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43163" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43164" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43169" href="../Denotational/#plfa_plfa-part3-Denotational-43169" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-43170" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43172" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43174" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-43183" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-43186" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-43187" href="../Denotational/#plfa_plfa-part3-Denotational-43187" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-43188" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-43190" href="../Denotational/#plfa_plfa-part3-Denotational-43190" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-43192" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43194" href="../Denotational/#plfa_plfa-part3-Denotational-43161" class="Bound">s</a> <a id="plfa_plfa-part3-Denotational-43196" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43197" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-43202" href="../Denotational/#plfa_plfa-part3-Denotational-43190" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-43203" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-43206" href="../Denotational/#plfa_plfa-part3-Denotational-43169" class="Bound">y</a>
</pre><p>有了 <code>⨆dom</code> 和 <code>⨆cod</code> 函数，我们就可以精确地得出函数的反演法则， 并将其封装到下面的谓词 <code>factor</code> 中。 如果 <code>u′</code> 包含在 <code>u</code> 中， 我们就说 <code>v ↦ w</code> 将 <code>u</code> <strong>分解（factor）</strong>为 <code>u′</code>，如果 <code>u′</code> 中只包含函数，那么其定义域小于 <code>v</code>，其陪域大于 <code>w</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-factor"></a><a id="plfa_plfa-part3-Denotational-43752" href="../Denotational/#plfa_plfa-part3-Denotational-43752" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43759" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43761" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43762" href="../Denotational/#plfa_plfa-part3-Denotational-43762" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43764" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43766" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43771" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43773" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43775" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43776" href="../Denotational/#plfa_plfa-part3-Denotational-43776" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43779" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43781" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43786" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43788" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43790" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43791" href="../Denotational/#plfa_plfa-part3-Denotational-43791" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43793" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43795" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43800" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43802" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43804" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-43805" href="../Denotational/#plfa_plfa-part3-Denotational-43805" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43807" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-43809" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-43814" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-43816" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-43818" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="plfa_plfa-part3-Denotational-43822" href="../Denotational/#plfa_plfa-part3-Denotational-43752" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-43829" href="../Denotational/#plfa_plfa-part3-Denotational-43829" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-43831" href="../Denotational/#plfa_plfa-part3-Denotational-43831" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43834" href="../Denotational/#plfa_plfa-part3-Denotational-43834" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-43836" href="../Denotational/#plfa_plfa-part3-Denotational-43836" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43838" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-43840" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-43849" href="../Denotational/#plfa_plfa-part3-Denotational-43831" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-43853" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43856" href="../Denotational/#plfa_plfa-part3-Denotational-43831" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43859" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-43861" href="../Denotational/#plfa_plfa-part3-Denotational-43829" class="Bound">u</a>  <a id="plfa_plfa-part3-Denotational-43864" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43867" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-43872" href="../Denotational/#plfa_plfa-part3-Denotational-43831" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-43875" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43877" href="../Denotational/#plfa_plfa-part3-Denotational-43834" class="Bound">v</a>  <a id="plfa_plfa-part3-Denotational-43880" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a>  <a id="plfa_plfa-part3-Denotational-43883" href="../Denotational/#plfa_plfa-part3-Denotational-43836" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-43885" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-43887" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-43892" href="../Denotational/#plfa_plfa-part3-Denotational-43831" class="Bound">u′</a>
</pre><p>因此函数的反演法则可被陈述为：</p><pre><code>  v ↦ w ⊑ u
  ---------------
→ factor u u′ v w</code></pre><p>我们通过在小于关系的推导上归纳证明了函数的反演法则。为了让归纳假设更强， 我们将前提 <code>v ↦ w ⊑ u</code> 推广为 <code>u₁ ⊑ u₂</code> 并加强了结论，即对于<strong>每一个</strong>函数值 <code>v ↦ w ∈ u₁</code>，我们都有 <code>v ↦ w</code> 将 <code>u₂</code> 分解为某个值 <code>u₃</code>。</p><pre><code>→ u₁ ⊑ u₂
  ------------------------------------------------------
→ ∀{v w} → v ↦ w ∈ u₁ → Σ[ u₃ ∈ Value ] factor u₂ u₃ v w</code></pre><h3 id="函数小于的反演-trans-的情况">函数小于的反演，<code>⊑-trans</code> 的情况</h3><p>证明的重点在 <code>⊑-trans</code> 的情况：</p><pre><code>u₁ ⊑ u   u ⊑ u₂
--------------- (⊑-trans)
    u₁ ⊑ u₂</code></pre><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们证明了对某个值 <code>u′</code>，有 <code>v ↦ w factors u into u′</code>， 因此我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。 根据归纳假设 <code>u ⊑ u₂</code>，我们证明了对于任意 <code>v′ ↦ w′ ∈ u</code>， <code>v′ ↦ w′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 有了这些事实，我们就能对 <code>u′</code> 进行归纳，证明 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。接下来我们讨论证明的每种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-trans"></a><a id="plfa_plfa-part3-Denotational-45604" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45618" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45620" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-45622" href="../Denotational/#plfa_plfa-part3-Denotational-45622" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45625" href="../Denotational/#plfa_plfa-part3-Denotational-45625" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45628" href="../Denotational/#plfa_plfa-part3-Denotational-45628" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45630" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-45632" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-45637" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-45643" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45645" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-45654" href="../Denotational/#plfa_plfa-part3-Denotational-45622" class="Bound">u′</a>  <a id="plfa_plfa-part3-Denotational-45658" class="Symbol">→</a>  <a id="plfa_plfa-part3-Denotational-45661" href="../Denotational/#plfa_plfa-part3-Denotational-45622" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-45664" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-45666" href="../Denotational/#plfa_plfa-part3-Denotational-45628" class="Bound">u</a>
    <a id="plfa_plfa-part3-Denotational-45672" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45674" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-45677" href="../Denotational/#plfa_plfa-part3-Denotational-45677" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45680" href="../Denotational/#plfa_plfa-part3-Denotational-45680" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45682" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45684" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45686" href="../Denotational/#plfa_plfa-part3-Denotational-45677" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45689" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45691" href="../Denotational/#plfa_plfa-part3-Denotational-45680" class="Bound">w′</a> <a id="plfa_plfa-part3-Denotational-45694" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-45696" href="../Denotational/#plfa_plfa-part3-Denotational-45628" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-45698" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45700" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45703" href="../Denotational/#plfa_plfa-part3-Denotational-45703" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45706" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45708" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45714" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45716" href="../Denotational/#plfa_plfa-part3-Denotational-43752" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45723" href="../Denotational/#plfa_plfa-part3-Denotational-45625" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45726" href="../Denotational/#plfa_plfa-part3-Denotational-45703" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45729" href="../Denotational/#plfa_plfa-part3-Denotational-45677" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-45732" href="../Denotational/#plfa_plfa-part3-Denotational-45680" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-45734" class="Symbol">)</a>
      <a id="plfa_plfa-part3-Denotational-45742" class="Comment">---------------------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-45810" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-45812" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-45815" href="../Denotational/#plfa_plfa-part3-Denotational-45815" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45818" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-45820" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-45826" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-45828" href="../Denotational/#plfa_plfa-part3-Denotational-43752" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-45835" href="../Denotational/#plfa_plfa-part3-Denotational-45625" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-45838" href="../Denotational/#plfa_plfa-part3-Denotational-45815" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-45841" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45842" href="../Denotational/#plfa_plfa-part3-Denotational-41745" class="Function">⨆dom</a> <a id="plfa_plfa-part3-Denotational-45847" href="../Denotational/#plfa_plfa-part3-Denotational-45622" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45849" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45851" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45852" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-45857" href="../Denotational/#plfa_plfa-part3-Denotational-45622" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-45859" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-45861" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45875" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45876" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-45877" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45879" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45880" href="../Denotational/#plfa_plfa-part3-Denotational-45880" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45882" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45884" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45885" href="../Denotational/#plfa_plfa-part3-Denotational-45885" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45886" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45888" href="../Denotational/#plfa_plfa-part3-Denotational-45888" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45892" href="../Denotational/#plfa_plfa-part3-Denotational-45892" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45897" href="../Denotational/#plfa_plfa-part3-Denotational-45897" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45900" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-45906" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a> <a id="plfa_plfa-part3-Denotational-45920" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45921" href="../Denotational/#plfa_plfa-part3-Denotational-45888" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-45925" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="plfa_plfa-part3-Denotational-45929" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-45931" href="../Denotational/#plfa_plfa-part3-Denotational-40439" class="Function">¬Fun⊥</a>
<a id="plfa_plfa-part3-Denotational-45937" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-45951" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45952" href="../Denotational/#plfa_plfa-part3-Denotational-45952" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-45956" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-45958" href="../Denotational/#plfa_plfa-part3-Denotational-45958" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-45961" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45963" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45964" href="../Denotational/#plfa_plfa-part3-Denotational-45964" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-45966" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45968" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-45969" href="../Denotational/#plfa_plfa-part3-Denotational-45969" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-45970" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-45972" href="../Denotational/#plfa_plfa-part3-Denotational-45972" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-45975" href="../Denotational/#plfa_plfa-part3-Denotational-45975" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-45980" href="../Denotational/#plfa_plfa-part3-Denotational-45980" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45983" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-45985" href="../Denotational/#plfa_plfa-part3-Denotational-45980" class="Bound">IH</a> <a id="plfa_plfa-part3-Denotational-45988" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-45989" href="../Denotational/#plfa_plfa-part3-Denotational-39722" class="Function">↦⊆→∈</a> <a id="plfa_plfa-part3-Denotational-45994" href="../Denotational/#plfa_plfa-part3-Denotational-45975" class="Bound">u′⊆u</a><a id="plfa_plfa-part3-Denotational-45998" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-46000" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46014" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46015" href="../Denotational/#plfa_plfa-part3-Denotational-46015" class="Bound">u₁′</a> <a id="plfa_plfa-part3-Denotational-46019" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46021" href="../Denotational/#plfa_plfa-part3-Denotational-46021" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46024" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46026" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46027" href="../Denotational/#plfa_plfa-part3-Denotational-46027" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46029" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46031" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46032" href="../Denotational/#plfa_plfa-part3-Denotational-46032" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46033" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46035" href="../Denotational/#plfa_plfa-part3-Denotational-46035" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46038" href="../Denotational/#plfa_plfa-part3-Denotational-46038" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-46043" href="../Denotational/#plfa_plfa-part3-Denotational-46043" class="Bound">IH</a>
    <a id="plfa_plfa-part3-Denotational-46050" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46055" href="../Denotational/#plfa_plfa-part3-Denotational-39283" class="Function">⊔⊆-inv</a> <a id="plfa_plfa-part3-Denotational-46062" href="../Denotational/#plfa_plfa-part3-Denotational-46038" class="Bound">u′⊆u</a>
<a id="plfa_plfa-part3-Denotational-46067" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46071" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46073" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46075" href="../Denotational/#plfa_plfa-part3-Denotational-46075" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46081" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46083" href="../Denotational/#plfa_plfa-part3-Denotational-46083" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46089" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46095" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-46100" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46114" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46115" class="Bound">u₁′</a><a id="plfa_plfa-part3-Denotational-46118" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46120" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46121" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46123" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46125" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46126" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46127" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46129" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46132" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46133" href="../Denotational/#plfa_plfa-part3-Denotational-46133" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46135" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46137" href="../Denotational/#plfa_plfa-part3-Denotational-46137" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46139" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46141" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46144" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46145" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46150" href="../Denotational/#plfa_plfa-part3-Denotational-46137" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46151" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46154" href="../Denotational/#plfa_plfa-part3-Denotational-46075" class="Bound">u₁′⊆u</a> <a id="plfa_plfa-part3-Denotational-46160" class="Bound">IH</a>
       <a id="plfa_plfa-part3-Denotational-46170" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46172" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-46186" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46187" class="Bound">u₂′</a><a id="plfa_plfa-part3-Denotational-46190" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46192" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46193" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-46195" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46197" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46198" class="Bound">u</a><a id="plfa_plfa-part3-Denotational-46199" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46201" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-46204" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46205" href="../Denotational/#plfa_plfa-part3-Denotational-46205" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46207" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46209" href="../Denotational/#plfa_plfa-part3-Denotational-46209" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-46211" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46213" class="Bound">fg</a> <a id="plfa_plfa-part3-Denotational-46216" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46217" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46222" href="../Denotational/#plfa_plfa-part3-Denotational-46209" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-46223" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-46226" href="../Denotational/#plfa_plfa-part3-Denotational-46083" class="Bound">u₂′⊆u</a> <a id="plfa_plfa-part3-Denotational-46232" class="Bound">IH</a>
<a id="plfa_plfa-part3-Denotational-46235" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-46239" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46241" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46243" href="../Denotational/#plfa_plfa-part3-Denotational-46243" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46247" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46249" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46251" href="../Denotational/#plfa_plfa-part3-Denotational-46251" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46257" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46259" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46261" href="../Denotational/#plfa_plfa-part3-Denotational-46261" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46268" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46270" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46272" href="../Denotational/#plfa_plfa-part3-Denotational-46272" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46282" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46284" href="../Denotational/#plfa_plfa-part3-Denotational-46284" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46294" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46296" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46298" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46300" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46306" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-46308" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46310" href="../Denotational/#plfa_plfa-part3-Denotational-46310" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46314" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46316" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46318" href="../Denotational/#plfa_plfa-part3-Denotational-46318" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46324" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46326" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46328" href="../Denotational/#plfa_plfa-part3-Denotational-46328" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46335" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46337" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46339" href="../Denotational/#plfa_plfa-part3-Denotational-46339" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46349" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46351" href="../Denotational/#plfa_plfa-part3-Denotational-46351" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46361" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46363" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46365" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46367" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46369" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-46377" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46379" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46380" href="../Denotational/#plfa_plfa-part3-Denotational-46243" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46384" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-46386" href="../Denotational/#plfa_plfa-part3-Denotational-46310" class="Bound">u₃₂</a><a id="plfa_plfa-part3-Denotational-46389" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46391" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46393" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46395" href="../Denotational/#plfa_plfa-part3-Denotational-46497" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46400" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-46402" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46404" href="../Denotational/#plfa_plfa-part3-Denotational-46636" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46411" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
      <a id="plfa_plfa-part3-Denotational-46419" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-46421" href="../Denotational/#plfa_plfa-part3-Denotational-7112" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46425" href="../Denotational/#plfa_plfa-part3-Denotational-46272" class="Bound">du₃₁⊑du₁′</a> <a id="plfa_plfa-part3-Denotational-46435" href="../Denotational/#plfa_plfa-part3-Denotational-46339" class="Bound">du₃₂⊑du₂′</a> <a id="plfa_plfa-part3-Denotational-46445" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
        <a id="plfa_plfa-part3-Denotational-46455" href="../Denotational/#plfa_plfa-part3-Denotational-7112" class="Function">⊔⊑⊔</a> <a id="plfa_plfa-part3-Denotational-46459" href="../Denotational/#plfa_plfa-part3-Denotational-46284" class="Bound">cu₁′⊑cu₃₁</a> <a id="plfa_plfa-part3-Denotational-46469" href="../Denotational/#plfa_plfa-part3-Denotational-46351" class="Bound">cu₁′⊑cu₃₂</a> <a id="plfa_plfa-part3-Denotational-46479" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46481" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46483" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-46485" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-46491" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-46497" href="../Denotational/#plfa_plfa-part3-Denotational-46497" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46502" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46504" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46505" href="../Denotational/#plfa_plfa-part3-Denotational-46505" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46508" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46510" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46515" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46517" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46519" href="../Denotational/#plfa_plfa-part3-Denotational-46505" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46522" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46524" href="../Denotational/#plfa_plfa-part3-Denotational-46243" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46528" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46530" href="../Denotational/#plfa_plfa-part3-Denotational-46505" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-46533" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46535" href="../Denotational/#plfa_plfa-part3-Denotational-46310" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46539" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46541" href="../Denotational/#plfa_plfa-part3-Denotational-40249" class="Datatype">Fun</a> <a id="plfa_plfa-part3-Denotational-46545" href="../Denotational/#plfa_plfa-part3-Denotational-46505" class="Bound">v′</a>
          <a id="plfa_plfa-part3-Denotational-46558" href="../Denotational/#plfa_plfa-part3-Denotational-46497" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46563" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46564" href="../Denotational/#plfa_plfa-part3-Denotational-46564" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46566" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46568" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46569" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46574" href="../Denotational/#plfa_plfa-part3-Denotational-46574" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46575" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46577" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46579" href="../Denotational/#plfa_plfa-part3-Denotational-46251" class="Bound">fu21&#39;</a> <a id="plfa_plfa-part3-Denotational-46585" href="../Denotational/#plfa_plfa-part3-Denotational-46574" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46597" href="../Denotational/#plfa_plfa-part3-Denotational-46497" class="Function">fu₂′</a> <a id="plfa_plfa-part3-Denotational-46602" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46603" href="../Denotational/#plfa_plfa-part3-Denotational-46603" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-46605" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46607" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46608" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46613" href="../Denotational/#plfa_plfa-part3-Denotational-46613" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46614" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46616" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46618" href="../Denotational/#plfa_plfa-part3-Denotational-46318" class="Bound">fu22&#39;</a> <a id="plfa_plfa-part3-Denotational-46624" href="../Denotational/#plfa_plfa-part3-Denotational-46613" class="Bound">y</a>
          <a id="plfa_plfa-part3-Denotational-46636" href="../Denotational/#plfa_plfa-part3-Denotational-46636" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46643" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46645" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46646" href="../Denotational/#plfa_plfa-part3-Denotational-46646" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46648" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-46650" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-46655" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46657" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46659" href="../Denotational/#plfa_plfa-part3-Denotational-46646" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46661" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46663" href="../Denotational/#plfa_plfa-part3-Denotational-46243" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-46667" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="plfa_plfa-part3-Denotational-46669" href="../Denotational/#plfa_plfa-part3-Denotational-46646" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46671" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46673" href="../Denotational/#plfa_plfa-part3-Denotational-46310" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-46677" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-46679" href="../Denotational/#plfa_plfa-part3-Denotational-46646" class="Bound">C</a> <a id="plfa_plfa-part3-Denotational-46681" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-46683" class="Bound">u₂</a>
          <a id="plfa_plfa-part3-Denotational-46696" href="../Denotational/#plfa_plfa-part3-Denotational-46636" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46703" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46704" href="../Denotational/#plfa_plfa-part3-Denotational-46704" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46705" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46707" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46708" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-46713" href="../Denotational/#plfa_plfa-part3-Denotational-46713" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-46714" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46716" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46718" href="../Denotational/#plfa_plfa-part3-Denotational-46261" class="Bound">u₃₁⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46725" href="../Denotational/#plfa_plfa-part3-Denotational-46713" class="Bound">x</a>
          <a id="plfa_plfa-part3-Denotational-46737" href="../Denotational/#plfa_plfa-part3-Denotational-46636" class="Function">u₂′⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46744" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-46745" href="../Denotational/#plfa_plfa-part3-Denotational-46745" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-46746" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-46748" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-46749" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-46754" href="../Denotational/#plfa_plfa-part3-Denotational-46754" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-46755" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-46757" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-46759" href="../Denotational/#plfa_plfa-part3-Denotational-46328" class="Bound">u₃₂⊆u₂</a> <a id="plfa_plfa-part3-Denotational-46766" href="../Denotational/#plfa_plfa-part3-Denotational-46754" class="Bound">y</a>
</pre><ul><li>假设 <code>u′ ≡ ⊥</code>，那么我们可导出矛盾，因为它不满足 <code>Fun ⊥</code> 的情况。</li></ul><ul><li>假设 <code>u′ ≡ u₁′ ↦ u₂′</code>，那么 <code>u₁′ ↦ u₂′ ∈ u</code>，且我们可以应用前提 （归纳假设 <code>u ⊑ u₂</code>）来得到 <code>u₁′ ↦ u₂′</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 此情况是完整的，因为 <code>⨆dom u′ ≡ u₁′</code> 且 <code>⨆cod u′ ≡ u₂′</code>。</li></ul><ul><li><p>假设 <code>u′ ≡ u₁′ ⊔ u₂′</code>，那么 <code>u₁′ ⊆ u</code> 且 <code>u₂′ ⊆ u</code>。我们同样有 <code>all-funs u₁′</code> 且 <code>all-funs u₂′</code>，于是我们可以对 <code>u₁′</code> 和 <code>u₂′</code> 应用归纳假设。因此存在值 <code>u₃₁</code> 和 <code>u₃₂</code> 使得 <code>(⨆dom u₁′) ↦ (⨆cod u₁′)</code> 将 <code>u</code> 分解为 <code>u₃₁</code>，以及 <code>(⨆dom u₂′) ↦ (⨆cod u₂′)</code> 将 <code>u</code> 分解为 <code>u₃₂</code>。 我们要证明 <code>(⨆dom u) ↦ (⨆cod u)</code> 将 <code>u</code> 分解为 <code>u₃₁ ⊔ u₃₂</code>，因此我们需要证明</p><pre><code>  ⨆dom (u₃₁ ⊔ u₃₂) ⊑ ⨆dom (u₁′ ⊔ u₂′)
  ⨆cod (u₁′ ⊔ u₂′) ⊑ ⨆cod (u₃₁ ⊔ u₃₂)</code></pre></li></ul><p>然而二者可直接根据 <code>⊔</code> 对于 <code>⊑</code> 的单调性，从 <code>u</code> 分解为 <code>u₃₁</code> 和 <code>u₃₂</code> 得到。</p><h3 id="函数小于的反演">函数小于的反演</h3><p>我们来证明有关函数小于的反演的主要引理。我们要证明若 <code>u₁ ⊑ u₂</code>， 则对于任何 <code>v ↦ w ∈ u₁</code>，都可以根据 <code>v ↦ w</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们对 <code>u₁ ⊑ u₂</code> 的推导进行归纳，并在 Agda 证明过程后面描述证明中的每一种情况。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv"></a><a id="plfa_plfa-part3-Denotational-48886" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-48894" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48896" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48898" href="../Denotational/#plfa_plfa-part3-Denotational-48898" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48901" href="../Denotational/#plfa_plfa-part3-Denotational-48901" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-48904" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-48906" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-48911" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-48921" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48923" href="../Denotational/#plfa_plfa-part3-Denotational-48898" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-48926" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-48928" href="../Denotational/#plfa_plfa-part3-Denotational-48901" class="Bound">u₂</a>
        <a id="plfa_plfa-part3-Denotational-48939" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48941" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-48943" href="../Denotational/#plfa_plfa-part3-Denotational-48943" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48945" href="../Denotational/#plfa_plfa-part3-Denotational-48945" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-48946" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-48948" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-48950" href="../Denotational/#plfa_plfa-part3-Denotational-48943" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-48952" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-48954" href="../Denotational/#plfa_plfa-part3-Denotational-48945" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-48956" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-48958" href="../Denotational/#plfa_plfa-part3-Denotational-48898" class="Bound">u₁</a>
          <a id="plfa_plfa-part3-Denotational-48971" class="Comment">-------------------------------------</a>
        <a id="plfa_plfa-part3-Denotational-49017" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49019" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-49022" href="../Denotational/#plfa_plfa-part3-Denotational-49022" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49025" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-49027" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-49033" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-49035" href="../Denotational/#plfa_plfa-part3-Denotational-43752" class="Function">factor</a> <a id="plfa_plfa-part3-Denotational-49042" href="../Denotational/#plfa_plfa-part3-Denotational-48901" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-49045" href="../Denotational/#plfa_plfa-part3-Denotational-49022" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49048" href="../Denotational/#plfa_plfa-part3-Denotational-48943" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-49050" href="../Denotational/#plfa_plfa-part3-Denotational-48945" class="Bound">w</a>
<a id="plfa_plfa-part3-Denotational-49052" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49060" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49061" href="../Denotational/#plfa_plfa-part3-Denotational-4946" class="InductiveConstructor">⊥</a><a id="plfa_plfa-part3-Denotational-49062" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49064" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49065" href="../Denotational/#plfa_plfa-part3-Denotational-49065" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49067" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49069" href="../Denotational/#plfa_plfa-part3-Denotational-5428" class="InductiveConstructor">⊑-bot</a> <a id="plfa_plfa-part3-Denotational-49075" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49076" href="../Denotational/#plfa_plfa-part3-Denotational-49076" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49077" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49079" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49080" href="../Denotational/#plfa_plfa-part3-Denotational-49080" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49081" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49083" class="Symbol">()</a>
<a id="plfa_plfa-part3-Denotational-49086" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49094" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49095" href="../Denotational/#plfa_plfa-part3-Denotational-49095" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49099" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49101" href="../Denotational/#plfa_plfa-part3-Denotational-49101" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49104" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49106" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49107" href="../Denotational/#plfa_plfa-part3-Denotational-49107" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49109" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49111" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49112" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49121" href="../Denotational/#plfa_plfa-part3-Denotational-49121" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49125" href="../Denotational/#plfa_plfa-part3-Denotational-49125" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49128" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49130" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49131" href="../Denotational/#plfa_plfa-part3-Denotational-49131" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49132" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49134" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49135" href="../Denotational/#plfa_plfa-part3-Denotational-49135" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49136" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49138" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49139" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49144" href="../Denotational/#plfa_plfa-part3-Denotational-49144" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-49145" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49147" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49149" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49157" href="../Denotational/#plfa_plfa-part3-Denotational-49121" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49161" href="../Denotational/#plfa_plfa-part3-Denotational-49144" class="Bound">x</a>
<a id="plfa_plfa-part3-Denotational-49163" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49171" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49172" href="../Denotational/#plfa_plfa-part3-Denotational-49172" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-49176" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-49178" href="../Denotational/#plfa_plfa-part3-Denotational-49178" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-49181" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49183" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49184" href="../Denotational/#plfa_plfa-part3-Denotational-49184" class="Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49186" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49188" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49189" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-49198" href="../Denotational/#plfa_plfa-part3-Denotational-49198" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-49202" href="../Denotational/#plfa_plfa-part3-Denotational-49202" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-49205" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49207" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49208" href="../Denotational/#plfa_plfa-part3-Denotational-49208" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-49209" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49211" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49212" href="../Denotational/#plfa_plfa-part3-Denotational-49212" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49213" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49215" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49216" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49221" href="../Denotational/#plfa_plfa-part3-Denotational-49221" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-49222" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-49224" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-49226" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49234" href="../Denotational/#plfa_plfa-part3-Denotational-49202" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-49238" href="../Denotational/#plfa_plfa-part3-Denotational-49221" class="Bound">y</a>
<a id="plfa_plfa-part3-Denotational-49240" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49247" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49248" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49249" href="../Denotational/#plfa_plfa-part3-Denotational-49249" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49251" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49252" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49253" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49254" href="../Denotational/#plfa_plfa-part3-Denotational-49254" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49257" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49258" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49259" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49260" href="../Denotational/#plfa_plfa-part3-Denotational-49260" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49263" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49264" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49265" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49266" href="../Denotational/#plfa_plfa-part3-Denotational-5537" class="CatchallClause InductiveConstructor">⊑-conj-R1</a><a id="plfa_plfa-part3-Denotational-49275" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49276" href="../Denotational/#plfa_plfa-part3-Denotational-49276" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49278" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49279" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49280" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49281" href="../Denotational/#plfa_plfa-part3-Denotational-49281" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49282" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49283" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49284" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49285" href="../Denotational/#plfa_plfa-part3-Denotational-49285" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49286" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49287" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49288" href="../Denotational/#plfa_plfa-part3-Denotational-49288" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49294" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49299" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49307" href="../Denotational/#plfa_plfa-part3-Denotational-49276" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49310" href="../Denotational/#plfa_plfa-part3-Denotational-49288" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49312" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49316" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49318" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49320" href="../Denotational/#plfa_plfa-part3-Denotational-49320" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49324" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49326" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49328" href="../Denotational/#plfa_plfa-part3-Denotational-49328" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49333" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49335" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49337" href="../Denotational/#plfa_plfa-part3-Denotational-49337" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49345" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49347" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49349" href="../Denotational/#plfa_plfa-part3-Denotational-49349" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49358" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49360" href="../Denotational/#plfa_plfa-part3-Denotational-49360" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49369" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49371" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49373" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49375" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49377" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49385" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49387" href="../Denotational/#plfa_plfa-part3-Denotational-49320" class="Bound">u₃₁</a> <a id="plfa_plfa-part3-Denotational-49391" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49393" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49395" href="../Denotational/#plfa_plfa-part3-Denotational-49328" class="Bound">fu₃₁</a> <a id="plfa_plfa-part3-Denotational-49400" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49402" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49404" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49407" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49408" href="../Denotational/#plfa_plfa-part3-Denotational-49408" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-49409" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49411" href="../Denotational/#plfa_plfa-part3-Denotational-49411" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49413" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49415" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-49420" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49421" href="../Denotational/#plfa_plfa-part3-Denotational-49337" class="Bound">u₃₁⊆u₂₁</a> <a id="plfa_plfa-part3-Denotational-49429" href="../Denotational/#plfa_plfa-part3-Denotational-49411" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49430" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49433" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49470" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49472" href="../Denotational/#plfa_plfa-part3-Denotational-49349" class="Bound">domu₃₁⊑v</a> <a id="plfa_plfa-part3-Denotational-49481" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49483" href="../Denotational/#plfa_plfa-part3-Denotational-49360" class="Bound">w⊑codu₃₁</a> <a id="plfa_plfa-part3-Denotational-49492" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49494" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49496" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49498" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49500" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49507" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49508" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49509" href="../Denotational/#plfa_plfa-part3-Denotational-49509" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49511" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49512" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49513" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49514" href="../Denotational/#plfa_plfa-part3-Denotational-49514" class="CatchallClause Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-49517" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49518" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="plfa_plfa-part3-Denotational-49519" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49520" href="../Denotational/#plfa_plfa-part3-Denotational-49520" class="CatchallClause Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-49523" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49524" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49525" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49526" href="../Denotational/#plfa_plfa-part3-Denotational-5610" class="CatchallClause InductiveConstructor">⊑-conj-R2</a><a id="plfa_plfa-part3-Denotational-49535" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49536" href="../Denotational/#plfa_plfa-part3-Denotational-49536" class="CatchallClause Bound">lt</a><a id="plfa_plfa-part3-Denotational-49538" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49539" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49540" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49541" href="../Denotational/#plfa_plfa-part3-Denotational-49541" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49542" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49543" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49544" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49545" href="../Denotational/#plfa_plfa-part3-Denotational-49545" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49546" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49547" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49548" href="../Denotational/#plfa_plfa-part3-Denotational-49548" class="CatchallClause Bound">m</a>
    <a id="plfa_plfa-part3-Denotational-49554" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49559" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49567" href="../Denotational/#plfa_plfa-part3-Denotational-49536" class="Bound">lt</a> <a id="plfa_plfa-part3-Denotational-49570" href="../Denotational/#plfa_plfa-part3-Denotational-49548" class="Bound">m</a>
<a id="plfa_plfa-part3-Denotational-49572" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49576" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49578" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49580" href="../Denotational/#plfa_plfa-part3-Denotational-49580" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49584" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49586" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49588" href="../Denotational/#plfa_plfa-part3-Denotational-49588" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49593" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49595" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49597" href="../Denotational/#plfa_plfa-part3-Denotational-49597" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49605" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49607" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49609" href="../Denotational/#plfa_plfa-part3-Denotational-49609" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49618" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49620" href="../Denotational/#plfa_plfa-part3-Denotational-49620" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49629" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49631" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49633" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49635" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49637" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-49645" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49647" href="../Denotational/#plfa_plfa-part3-Denotational-49580" class="Bound">u₃₂</a> <a id="plfa_plfa-part3-Denotational-49651" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49653" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49655" href="../Denotational/#plfa_plfa-part3-Denotational-49588" class="Bound">fu₃₂</a> <a id="plfa_plfa-part3-Denotational-49660" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49662" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49664" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-49667" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49668" href="../Denotational/#plfa_plfa-part3-Denotational-49668" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-49669" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49671" href="../Denotational/#plfa_plfa-part3-Denotational-49671" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-49673" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-49675" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-49680" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49681" href="../Denotational/#plfa_plfa-part3-Denotational-49597" class="Bound">u₃₂⊆u₂₂</a> <a id="plfa_plfa-part3-Denotational-49689" href="../Denotational/#plfa_plfa-part3-Denotational-49671" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-49690" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-49693" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
                                   <a id="plfa_plfa-part3-Denotational-49730" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49732" href="../Denotational/#plfa_plfa-part3-Denotational-49609" class="Bound">domu₃₂⊑v</a> <a id="plfa_plfa-part3-Denotational-49741" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49743" href="../Denotational/#plfa_plfa-part3-Denotational-49620" class="Bound">w⊑codu₃₂</a> <a id="plfa_plfa-part3-Denotational-49752" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49754" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49756" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49758" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-49760" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="CatchallClause Function">sub-inv</a><a id="plfa_plfa-part3-Denotational-49767" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49768" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49769" href="../Denotational/#plfa_plfa-part3-Denotational-49769" class="CatchallClause Bound">u₁</a><a id="plfa_plfa-part3-Denotational-49771" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49772" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49773" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49774" href="../Denotational/#plfa_plfa-part3-Denotational-49774" class="CatchallClause Bound">u₂</a><a id="plfa_plfa-part3-Denotational-49776" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49777" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49778" class="CatchallClause Symbol">(</a><a id="plfa_plfa-part3-Denotational-49779" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="CatchallClause InductiveConstructor">⊑-trans</a><a id="plfa_plfa-part3-Denotational-49786" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49787" class="CatchallClause Argument">v</a><a id="plfa_plfa-part3-Denotational-49788" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49789" class="CatchallClause Symbol">=</a><a id="plfa_plfa-part3-Denotational-49790" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49791" href="../Denotational/#plfa_plfa-part3-Denotational-49791" class="CatchallClause Bound">u</a><a id="plfa_plfa-part3-Denotational-49792" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49793" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49794" href="../Denotational/#plfa_plfa-part3-Denotational-49794" class="CatchallClause Bound">u₁⊑u</a><a id="plfa_plfa-part3-Denotational-49798" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49799" href="../Denotational/#plfa_plfa-part3-Denotational-49799" class="CatchallClause Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49803" class="CatchallClause Symbol">)</a><a id="plfa_plfa-part3-Denotational-49804" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49805" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49806" href="../Denotational/#plfa_plfa-part3-Denotational-49806" class="CatchallClause Bound">v</a><a id="plfa_plfa-part3-Denotational-49807" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49808" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49809" class="CatchallClause Symbol">{</a><a id="plfa_plfa-part3-Denotational-49810" href="../Denotational/#plfa_plfa-part3-Denotational-49810" class="CatchallClause Bound">w</a><a id="plfa_plfa-part3-Denotational-49811" class="CatchallClause Symbol">}</a><a id="plfa_plfa-part3-Denotational-49812" class="CatchallClause"> </a><a id="plfa_plfa-part3-Denotational-49813" href="../Denotational/#plfa_plfa-part3-Denotational-49813" class="CatchallClause Bound">v↦w∈u₁</a>
    <a id="plfa_plfa-part3-Denotational-49824" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49829" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49837" href="../Denotational/#plfa_plfa-part3-Denotational-49794" class="Bound">u₁⊑u</a> <a id="plfa_plfa-part3-Denotational-49842" href="../Denotational/#plfa_plfa-part3-Denotational-49813" class="Bound">v↦w∈u₁</a>
<a id="plfa_plfa-part3-Denotational-49849" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49853" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49855" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49857" href="../Denotational/#plfa_plfa-part3-Denotational-49857" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-49860" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49862" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49864" href="../Denotational/#plfa_plfa-part3-Denotational-49864" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49868" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49870" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49872" href="../Denotational/#plfa_plfa-part3-Denotational-49872" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49877" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49879" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49881" href="../Denotational/#plfa_plfa-part3-Denotational-49881" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-49889" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49891" href="../Denotational/#plfa_plfa-part3-Denotational-49891" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-49899" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49901" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49903" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-49905" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-49911" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-49916" href="../Denotational/#plfa_plfa-part3-Denotational-45604" class="Function">sub-inv-trans</a> <a id="plfa_plfa-part3-Denotational-49930" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-49931" href="../Denotational/#plfa_plfa-part3-Denotational-49857" class="Bound">u′</a><a id="plfa_plfa-part3-Denotational-49933" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-49935" href="../Denotational/#plfa_plfa-part3-Denotational-49864" class="Bound">fu′</a> <a id="plfa_plfa-part3-Denotational-49939" href="../Denotational/#plfa_plfa-part3-Denotational-49872" class="Bound">u′⊆u</a> <a id="plfa_plfa-part3-Denotational-49944" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-49945" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-49953" class="Bound">u⊑u₂</a><a id="plfa_plfa-part3-Denotational-49957" class="Symbol">)</a>
<a id="plfa_plfa-part3-Denotational-49959" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-49963" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-49965" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49967" href="../Denotational/#plfa_plfa-part3-Denotational-49967" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-49970" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49972" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49974" href="../Denotational/#plfa_plfa-part3-Denotational-49974" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-49978" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49980" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49982" href="../Denotational/#plfa_plfa-part3-Denotational-49982" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-49988" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-49990" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-49992" href="../Denotational/#plfa_plfa-part3-Denotational-49992" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50004" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50006" href="../Denotational/#plfa_plfa-part3-Denotational-50006" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50018" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50020" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50022" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50024" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50026" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-50034" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50036" href="../Denotational/#plfa_plfa-part3-Denotational-49967" class="Bound">u₃</a> <a id="plfa_plfa-part3-Denotational-50039" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50041" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50043" href="../Denotational/#plfa_plfa-part3-Denotational-49974" class="Bound">fu₃</a> <a id="plfa_plfa-part3-Denotational-50047" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50049" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50051" href="../Denotational/#plfa_plfa-part3-Denotational-49982" class="Bound">u₃⊆u₂</a> <a id="plfa_plfa-part3-Denotational-50057" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50059" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50061" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50069" href="../Denotational/#plfa_plfa-part3-Denotational-49992" class="Bound">domu₃⊑domu′</a> <a id="plfa_plfa-part3-Denotational-50081" class="Bound">domu′⊑v</a> <a id="plfa_plfa-part3-Denotational-50089" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a>
                                    <a id="plfa_plfa-part3-Denotational-50127" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-50135" class="Bound">w⊑codu′</a> <a id="plfa_plfa-part3-Denotational-50143" href="../Denotational/#plfa_plfa-part3-Denotational-50006" class="Bound">codu′⊑codu₃</a> <a id="plfa_plfa-part3-Denotational-50155" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50157" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50159" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50161" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50163" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50171" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50172" href="../Denotational/#plfa_plfa-part3-Denotational-50172" class="Bound">u₁₁</a> <a id="plfa_plfa-part3-Denotational-50176" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50178" href="../Denotational/#plfa_plfa-part3-Denotational-50178" class="Bound">u₁₂</a><a id="plfa_plfa-part3-Denotational-50181" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50183" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50184" href="../Denotational/#plfa_plfa-part3-Denotational-50184" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50188" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50190" href="../Denotational/#plfa_plfa-part3-Denotational-50190" class="Bound">u₂₂</a><a id="plfa_plfa-part3-Denotational-50193" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50195" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50196" href="../Denotational/#plfa_plfa-part3-Denotational-5754" class="InductiveConstructor">⊑-fun</a> <a id="plfa_plfa-part3-Denotational-50202" href="../Denotational/#plfa_plfa-part3-Denotational-50202" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50206" href="../Denotational/#plfa_plfa-part3-Denotational-50206" class="Bound">lt2</a><a id="plfa_plfa-part3-Denotational-50209" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50211" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50216" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50222" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50224" href="../Denotational/#plfa_plfa-part3-Denotational-50184" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50228" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50230" href="../Denotational/#plfa_plfa-part3-Denotational-50190" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50234" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50236" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50238" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50241" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50242" href="../Denotational/#plfa_plfa-part3-Denotational-50242" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-50243" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50245" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50247" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a><a id="plfa_plfa-part3-Denotational-50250" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50252" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50254" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50256" class="Symbol">(λ</a> <a id="plfa_plfa-part3-Denotational-50259" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50260" href="../Denotational/#plfa_plfa-part3-Denotational-50260" class="Bound">C</a><a id="plfa_plfa-part3-Denotational-50261" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50263" href="../Denotational/#plfa_plfa-part3-Denotational-50263" class="Bound">z</a> <a id="plfa_plfa-part3-Denotational-50265" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-50267" href="../Denotational/#plfa_plfa-part3-Denotational-50263" class="Bound">z</a><a id="plfa_plfa-part3-Denotational-50268" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50270" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50272" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50274" href="../Denotational/#plfa_plfa-part3-Denotational-50202" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-50278" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50280" href="../Denotational/#plfa_plfa-part3-Denotational-50206" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-50284" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50286" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50288" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50290" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
<a id="plfa_plfa-part3-Denotational-50292" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-50300" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50301" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50305" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50307" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50308" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50312" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50314" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50317" class="Symbol">)}</a> <a id="plfa_plfa-part3-Denotational-50320" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50321" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50325" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50327" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50331" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50333" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50337" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50339" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50342" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50344" href="../Denotational/#plfa_plfa-part3-Denotational-5857" class="InductiveConstructor">⊑-dist</a>
    <a id="plfa_plfa-part3-Denotational-50355" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50356" class="DottedPattern Symbol">.</a><a id="plfa_plfa-part3-Denotational-50357" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="DottedPattern Bound">u₂₁</a><a id="plfa_plfa-part3-Denotational-50360" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50362" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-50363" class="DottedPattern Symbol">.(</a><a id="plfa_plfa-part3-Denotational-50365" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="DottedPattern Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50369" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="DottedPattern InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50371" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="DottedPattern Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50374" class="DottedPattern Symbol">)</a><a id="plfa_plfa-part3-Denotational-50375" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-50377" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-50382" class="Symbol">=</a>
    <a id="plfa_plfa-part3-Denotational-50388" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50390" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50394" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50396" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50400" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50402" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50406" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50408" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a> <a id="plfa_plfa-part3-Denotational-50412" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50414" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50416" href="../Denotational/#plfa_plfa-part3-Denotational-50476" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50418" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50420" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50422" href="../Denotational/#plfa_plfa-part3-Denotational-50575" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50424" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50426" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-50428" href="../Denotational/#plfa_plfa-part3-Denotational-5453" class="InductiveConstructor">⊑-conj-L</a> <a id="plfa_plfa-part3-Denotational-50437" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50444" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50451" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-50453" href="../Denotational/#plfa_plfa-part3-Denotational-6789" class="Function">⊑-refl</a> <a id="plfa_plfa-part3-Denotational-50460" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50462" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50464" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-50466" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
  <a id="plfa_plfa-part3-Denotational-50470" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-50476" href="../Denotational/#plfa_plfa-part3-Denotational-50476" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50478" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50480" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-50489" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50490" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50494" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50496" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50500" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50502" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50506" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50508" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50511" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50521" href="../Denotational/#plfa_plfa-part3-Denotational-50476" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50523" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50524" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50529" href="../Denotational/#plfa_plfa-part3-Denotational-50529" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50530" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50532" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50534" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50538" href="../Denotational/#plfa_plfa-part3-Denotational-50529" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50548" href="../Denotational/#plfa_plfa-part3-Denotational-50476" class="Function">f</a> <a id="plfa_plfa-part3-Denotational-50550" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50551" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50556" href="../Denotational/#plfa_plfa-part3-Denotational-50556" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50557" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50559" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50561" href="../Denotational/#plfa_plfa-part3-Denotational-40275" class="InductiveConstructor">fun</a> <a id="plfa_plfa-part3-Denotational-50565" href="../Denotational/#plfa_plfa-part3-Denotational-50556" class="Bound">y</a>
        <a id="plfa_plfa-part3-Denotational-50575" href="../Denotational/#plfa_plfa-part3-Denotational-50575" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50577" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-50579" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50580" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50584" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50586" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50590" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50592" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50596" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50598" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50601" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50603" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-50605" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50606" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50610" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50612" href="../Denotational/#plfa_plfa-part3-Denotational-50308" class="Bound">u₂₂</a> <a id="plfa_plfa-part3-Denotational-50616" href="../Denotational/#plfa_plfa-part3-Denotational-4988" class="InductiveConstructor Operator">⊔</a> <a id="plfa_plfa-part3-Denotational-50618" href="../Denotational/#plfa_plfa-part3-Denotational-50301" class="Bound">u₂₁</a> <a id="plfa_plfa-part3-Denotational-50622" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-50624" href="../Denotational/#plfa_plfa-part3-Denotational-50314" class="Bound">u₂₃</a><a id="plfa_plfa-part3-Denotational-50627" class="Symbol">)</a>
        <a id="plfa_plfa-part3-Denotational-50637" href="../Denotational/#plfa_plfa-part3-Denotational-50575" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50639" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50640" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50645" href="../Denotational/#plfa_plfa-part3-Denotational-50645" class="Bound">x</a><a id="plfa_plfa-part3-Denotational-50646" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50648" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50650" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="plfa_plfa-part3-Denotational-50655" href="../Denotational/#plfa_plfa-part3-Denotational-50645" class="Bound">x</a>
        <a id="plfa_plfa-part3-Denotational-50665" href="../Denotational/#plfa_plfa-part3-Denotational-50575" class="Function">g</a> <a id="plfa_plfa-part3-Denotational-50667" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-50668" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50673" href="../Denotational/#plfa_plfa-part3-Denotational-50673" class="Bound">y</a><a id="plfa_plfa-part3-Denotational-50674" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-50676" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-50678" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="plfa_plfa-part3-Denotational-50683" href="../Denotational/#plfa_plfa-part3-Denotational-50673" class="Bound">y</a>
</pre><p>令 <code>v</code> 和 <code>w</code> 为任意值。</p><ul><li><p>情况 <code>⊑-bot</code>：若 <code>u₁ ≡ ⊥</code>，我们有 <code>v ↦ w ∈ ⊥</code>，但这是不可能的。</p></li><li><p>情况 <code>⊑-conj-L</code>：</p><pre><code>  u₁₁ ⊑ u₂   u₁₂ ⊑ u₂
  -------------------
  u₁₁ ⊔ u₁₂ ⊑ u₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ⊔ u₁₂</code>，那么有两种子情况需要考虑：</p><ul><li><p>子情况 <code>v ↦ w ∈ u₁₁</code>：我们通过归纳假设 <code>u₁₁ ⊑ u₂</code> 得出结论。</p></li><li><p>子情况 <code>v ↦ w ∈ u₁₂</code>：我们通过归纳假设 <code>u₁₂ ⊑ u₂</code> 得出结论。</p></li></ul><ul><li><p>情况 <code>⊑-conj-R1</code>：</p><pre><code>  u₁ ⊑ u₂₁
  --------------
  u₁ ⊑ u₂₁ ⊔ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁</code>，归纳假设 <code>u₁ ⊑ u₂₁</code> 给出了对某个 <code>u₃₁</code>，<code>v ↦ w</code> 将 <code>u₂₁</code> 分解为 <code>u₃₁</code>。为了证明 <code>v ↦ w</code> 也将 <code>u₂₁ ⊔ u₂₂</code> 分解为 <code>u₃₁</code>， 我们只需证明 <code>u₃₁ ⊆ u₂₁ ⊔ u₂₂</code>，而这一点可直接从 <code>u₃₁ ⊆ u₂₁</code> 得出。</p><ul><li><p>情况 <code>⊑-conj-R2</code>：此情况的论证过程与情况 <code>⊑-conj-R1</code> 类似。</p></li><li><p>情况 <code>⊑-trans</code>：</p><pre><code>  u₁ ⊑ u   u ⊑ u₂
  ---------------
      u₁ ⊑ u₂</code></pre></li></ul><p>根据归纳假设 <code>u₁ ⊑ u</code>，我们可以证明对于某个值 <code>u′</code>，<code>v ↦ w</code> 将 <code>u</code> 分解为 <code>u′</code>， 于是我们有 <code>all-funs u′</code> 和 <code>u′ ⊆ u</code>。跟举归纳假设 <code>u ⊑ u₂</code>，我们可以证明对于任意 <code>v′ ↦ w′ ∈ u</code>，<code>v′ ↦ w′</code> 分解了 <code>u₂</code>。现在应用引理 <code>sub-inv-trans</code>， 它会给出 <code>u₃</code> 使得 <code>(⨆dom u′) ↦ (⨆cod u′)</code> 将 <code>u₂</code> 分解为 <code>u₃</code>。 我们证明了 <code>v ↦ w</code> 也将 <code>u₂</code> 分解为 <code>u₃</code>。 从 <code>⨆dom u₃ ⊑ ⨆dom u′</code> 和 <code>⨆dom u′ ⊑ v</code>，我们可得出 <code>⨆dom u₃ ⊑ v</code>。 从 <code>w ⊑ ⨆cod u′</code> 和 <code>⨆cod u′ ⊑ ⨆cod u₃</code>，我们有 <code>w ⊑ ⨆cod u₃</code>，于是此情况就覆盖完整了。</p><ul><li><p>情况 <code>⊑-fun</code>：</p><pre><code>  u₂₁ ⊑ u₁₁  u₁₂ ⊑ u₂₂
  ---------------------
  u₁₁ ↦ u₁₂ ⊑ u₂₁ ↦ u₂₂</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₁₁ ↦ u₁₂</code>，我们有 <code>v ≡ u₁₁</code> 和 <code>w ≡ u₁₂</code>。 我们证明了 <code>u₁₁ ↦ u₁₂</code> 将 <code>u₂₁ ↦ u₂₂</code> 分解为其自身。 我们还需证明 <code>⨆dom (u₂₁ ↦ u₂₂) ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ ⨆cod (u₂₁ ↦ u₂₂)</code>， 然而这等价于前提 <code>u₂₁ ⊑ u₁₁</code> 和 <code>u₁₂ ⊑ u₂₂</code>。</p><ul><li><p>情况 <code>⊑-dist</code>：</p><pre><code>  ---------------------------------------------
  u₂₁ ↦ (u₂₂ ⊔ u₂₃) ⊑ (u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code></pre></li></ul><p>给定 <code>v ↦ w ∈ u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code>，我们有 <code>v ≡ u₂₁</code> 和 <code>w ≡ u₂₂ ⊔ u₂₃</code>。 我们证明了 <code>u₂₁ ↦ (u₂₂ ⊔ u₂₃)</code> 将 <code>(u₂₁ ↦ u₂₂) ⊔ (u₂₁ ↦ u₂₃)</code> 分解为其自身。 我们有 <code>u₂₁ ⊔ u₂₁ ⊑ u₂₁</code>，以及 <code>u₂₂ ⊔ u₂₃ ⊑ u₂₂ ⊔ u₂₃</code>，于是此证明就覆盖完整了。</p><p>我们用 <code>sub-inv</code> 引理的两个推论作为本节的结尾。首先，我们来证明以下性质， 方便在后面的证明中使用。我们将前提特化为 <code>v ↦ w ⊑ u₁</code>，并将结论修改为对于每个 <code>v′ ↦ w′ ∈ u₂</code>，我们有 <code>v′ ⊑ v</code>。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-sub-inv-fun"></a><a id="plfa_plfa-part3-Denotational-54879" href="../Denotational/#plfa_plfa-part3-Denotational-54879" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-54891" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54893" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-54895" href="../Denotational/#plfa_plfa-part3-Denotational-54895" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54897" href="../Denotational/#plfa_plfa-part3-Denotational-54897" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-54899" href="../Denotational/#plfa_plfa-part3-Denotational-54899" class="Bound">u₁</a> <a id="plfa_plfa-part3-Denotational-54902" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-54904" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a><a id="plfa_plfa-part3-Denotational-54909" class="Symbol">}</a>
    <a id="plfa_plfa-part3-Denotational-54915" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54917" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-54918" href="../Denotational/#plfa_plfa-part3-Denotational-54895" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-54920" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-54922" href="../Denotational/#plfa_plfa-part3-Denotational-54897" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-54923" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-54925" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-54927" href="../Denotational/#plfa_plfa-part3-Denotational-54899" class="Bound">u₁</a>
      <a id="plfa_plfa-part3-Denotational-54936" class="Comment">-----------------------------------------------------</a>
    <a id="plfa_plfa-part3-Denotational-54994" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-54996" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">Σ[</a> <a id="plfa_plfa-part3-Denotational-54999" href="../Denotational/#plfa_plfa-part3-Denotational-54999" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55002" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">∈</a> <a id="plfa_plfa-part3-Denotational-55004" href="../Denotational/#plfa_plfa-part3-Denotational-4926" class="Datatype">Value</a> <a id="plfa_plfa-part3-Denotational-55010" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#916" class="Function">]</a> <a id="plfa_plfa-part3-Denotational-55012" href="../Denotational/#plfa_plfa-part3-Denotational-40313" class="Function">all-funs</a> <a id="plfa_plfa-part3-Denotational-55021" href="../Denotational/#plfa_plfa-part3-Denotational-54999" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55024" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55026" href="../Denotational/#plfa_plfa-part3-Denotational-54999" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55029" href="../Denotational/#plfa_plfa-part3-Denotational-38260" class="Function Operator">⊆</a> <a id="plfa_plfa-part3-Denotational-55031" href="../Denotational/#plfa_plfa-part3-Denotational-54899" class="Bound">u₁</a>
        <a id="plfa_plfa-part3-Denotational-55042" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55044" class="Symbol">(∀{</a><a id="plfa_plfa-part3-Denotational-55047" href="../Denotational/#plfa_plfa-part3-Denotational-55047" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55050" href="../Denotational/#plfa_plfa-part3-Denotational-55050" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55052" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55054" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55056" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55057" href="../Denotational/#plfa_plfa-part3-Denotational-55047" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55060" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55062" href="../Denotational/#plfa_plfa-part3-Denotational-55050" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55064" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55066" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55068" href="../Denotational/#plfa_plfa-part3-Denotational-54999" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55071" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55073" href="../Denotational/#plfa_plfa-part3-Denotational-55047" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55076" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55078" href="../Denotational/#plfa_plfa-part3-Denotational-54895" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55079" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55081" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55083" href="../Denotational/#plfa_plfa-part3-Denotational-54897" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55085" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55087" href="../Denotational/#plfa_plfa-part3-Denotational-41835" class="Function">⨆cod</a> <a id="plfa_plfa-part3-Denotational-55092" href="../Denotational/#plfa_plfa-part3-Denotational-54999" class="Bound">u₂</a>
<a id="plfa_plfa-part3-Denotational-55095" href="../Denotational/#plfa_plfa-part3-Denotational-54879" class="Function">sub-inv-fun</a><a id="plfa_plfa-part3-Denotational-55106" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55107" href="../Denotational/#plfa_plfa-part3-Denotational-55107" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55108" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55110" href="../Denotational/#plfa_plfa-part3-Denotational-55110" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55111" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55113" href="../Denotational/#plfa_plfa-part3-Denotational-55113" class="Bound">u₁</a><a id="plfa_plfa-part3-Denotational-55115" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55117" href="../Denotational/#plfa_plfa-part3-Denotational-55117" class="Bound">abc</a>
    <a id="plfa_plfa-part3-Denotational-55125" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55130" href="../Denotational/#plfa_plfa-part3-Denotational-48886" class="Function">sub-inv</a> <a id="plfa_plfa-part3-Denotational-55138" href="../Denotational/#plfa_plfa-part3-Denotational-55117" class="Bound">abc</a> <a id="plfa_plfa-part3-Denotational-55142" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55143" href="../Denotational/#plfa_plfa-part3-Denotational-55107" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55144" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55146" href="../Denotational/#plfa_plfa-part3-Denotational-55110" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55147" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55149" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="plfa_plfa-part3-Denotational-55154" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55158" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55160" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55162" href="../Denotational/#plfa_plfa-part3-Denotational-55162" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55165" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55167" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55169" href="../Denotational/#plfa_plfa-part3-Denotational-55169" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55171" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55173" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55175" href="../Denotational/#plfa_plfa-part3-Denotational-55175" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55181" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55183" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55185" href="../Denotational/#plfa_plfa-part3-Denotational-55185" class="Bound">db</a> <a id="plfa_plfa-part3-Denotational-55188" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55190" href="../Denotational/#plfa_plfa-part3-Denotational-55190" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55193" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55195" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55197" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55199" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55201" class="Symbol">=</a>
      <a id="plfa_plfa-part3-Denotational-55209" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55211" href="../Denotational/#plfa_plfa-part3-Denotational-55162" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55214" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55216" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55218" href="../Denotational/#plfa_plfa-part3-Denotational-55169" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55220" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55222" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55224" href="../Denotational/#plfa_plfa-part3-Denotational-55175" class="Bound">u₂⊆u₁</a> <a id="plfa_plfa-part3-Denotational-55230" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55232" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55234" href="../Denotational/#plfa_plfa-part3-Denotational-55258" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55236" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55238" href="../Denotational/#plfa_plfa-part3-Denotational-55190" class="Bound">cc</a> <a id="plfa_plfa-part3-Denotational-55241" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55243" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55245" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55247" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
   <a id="plfa_plfa-part3-Denotational-55252" class="Keyword">where</a> <a id="plfa_plfa-part3-Denotational-55258" href="../Denotational/#plfa_plfa-part3-Denotational-55258" class="Function">G</a> <a id="plfa_plfa-part3-Denotational-55260" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55262" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55264" href="../Denotational/#plfa_plfa-part3-Denotational-55264" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55266" href="../Denotational/#plfa_plfa-part3-Denotational-55266" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55267" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55269" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55271" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55272" href="../Denotational/#plfa_plfa-part3-Denotational-55264" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55274" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55276" href="../Denotational/#plfa_plfa-part3-Denotational-55266" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55277" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55279" href="../Denotational/#plfa_plfa-part3-Denotational-37946" class="Function Operator">∈</a> <a id="plfa_plfa-part3-Denotational-55281" href="../Denotational/#plfa_plfa-part3-Denotational-55162" class="Bound">u₂</a> <a id="plfa_plfa-part3-Denotational-55284" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55286" href="../Denotational/#plfa_plfa-part3-Denotational-55264" class="Bound">D</a> <a id="plfa_plfa-part3-Denotational-55288" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55290" class="Bound">v</a>
         <a id="plfa_plfa-part3-Denotational-55301" href="../Denotational/#plfa_plfa-part3-Denotational-55258" class="Function">G</a><a id="plfa_plfa-part3-Denotational-55302" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55303" href="../Denotational/#plfa_plfa-part3-Denotational-55303" class="Bound">D</a><a id="plfa_plfa-part3-Denotational-55304" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55306" href="../Denotational/#plfa_plfa-part3-Denotational-55306" class="Bound">E</a><a id="plfa_plfa-part3-Denotational-55307" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55309" href="../Denotational/#plfa_plfa-part3-Denotational-55309" class="Bound">m</a> <a id="plfa_plfa-part3-Denotational-55311" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55313" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55321" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55322" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55326" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55327" href="../Denotational/#plfa_plfa-part3-Denotational-42231" class="Function">↦∈→⊆⨆dom</a> <a id="plfa_plfa-part3-Denotational-55336" href="../Denotational/#plfa_plfa-part3-Denotational-55169" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55338" href="../Denotational/#plfa_plfa-part3-Denotational-55309" class="Bound">m</a><a id="plfa_plfa-part3-Denotational-55339" class="Symbol">))</a> <a id="plfa_plfa-part3-Denotational-55342" href="../Denotational/#plfa_plfa-part3-Denotational-55185" class="Bound">db</a>
</pre><p>第二个推论是反演规则，即我们期望左侧函数小于右侧。</p><pre class="Agda"><a id="plfa_plfa-part3-Denotational-↦⊑↦-inv"></a><a id="plfa_plfa-part3-Denotational-55523" href="../Denotational/#plfa_plfa-part3-Denotational-55523" class="Function">↦⊑↦-inv</a> <a id="plfa_plfa-part3-Denotational-55531" class="Symbol">:</a> <a id="plfa_plfa-part3-Denotational-55533" class="Symbol">∀{</a><a id="plfa_plfa-part3-Denotational-55535" href="../Denotational/#plfa_plfa-part3-Denotational-55535" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55537" href="../Denotational/#plfa_plfa-part3-Denotational-55537" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55539" href="../Denotational/#plfa_plfa-part3-Denotational-55539" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55542" href="../Denotational/#plfa_plfa-part3-Denotational-55542" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55544" class="Symbol">}</a>
        <a id="plfa_plfa-part3-Denotational-55554" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55556" href="../Denotational/#plfa_plfa-part3-Denotational-55535" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55558" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55560" href="../Denotational/#plfa_plfa-part3-Denotational-55537" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55562" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55564" href="../Denotational/#plfa_plfa-part3-Denotational-55539" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55567" href="../Denotational/#plfa_plfa-part3-Denotational-4958" class="InductiveConstructor Operator">↦</a> <a id="plfa_plfa-part3-Denotational-55569" href="../Denotational/#plfa_plfa-part3-Denotational-55542" class="Bound">w′</a>
          <a id="plfa_plfa-part3-Denotational-55582" class="Comment">-----------------</a>
        <a id="plfa_plfa-part3-Denotational-55608" class="Symbol">→</a> <a id="plfa_plfa-part3-Denotational-55610" href="../Denotational/#plfa_plfa-part3-Denotational-55539" class="Bound">v′</a> <a id="plfa_plfa-part3-Denotational-55613" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55615" href="../Denotational/#plfa_plfa-part3-Denotational-55535" class="Bound">v</a> <a id="plfa_plfa-part3-Denotational-55617" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">×</a> <a id="plfa_plfa-part3-Denotational-55619" href="../Denotational/#plfa_plfa-part3-Denotational-55537" class="Bound">w</a> <a id="plfa_plfa-part3-Denotational-55621" href="../Denotational/#plfa_plfa-part3-Denotational-5393" class="Datatype Operator">⊑</a> <a id="plfa_plfa-part3-Denotational-55623" href="../Denotational/#plfa_plfa-part3-Denotational-55542" class="Bound">w′</a>
<a id="plfa_plfa-part3-Denotational-55626" href="../Denotational/#plfa_plfa-part3-Denotational-55523" class="Function">↦⊑↦-inv</a><a id="plfa_plfa-part3-Denotational-55633" class="Symbol">{</a><a id="plfa_plfa-part3-Denotational-55634" href="../Denotational/#plfa_plfa-part3-Denotational-55634" class="Bound">v</a><a id="plfa_plfa-part3-Denotational-55635" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55637" href="../Denotational/#plfa_plfa-part3-Denotational-55637" class="Bound">w</a><a id="plfa_plfa-part3-Denotational-55638" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55640" href="../Denotational/#plfa_plfa-part3-Denotational-55640" class="Bound">v′</a><a id="plfa_plfa-part3-Denotational-55642" class="Symbol">}{</a><a id="plfa_plfa-part3-Denotational-55644" href="../Denotational/#plfa_plfa-part3-Denotational-55644" class="Bound">w′</a><a id="plfa_plfa-part3-Denotational-55646" class="Symbol">}</a> <a id="plfa_plfa-part3-Denotational-55648" href="../Denotational/#plfa_plfa-part3-Denotational-55648" class="Bound">lt</a>
    <a id="plfa_plfa-part3-Denotational-55655" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55660" href="../Denotational/#plfa_plfa-part3-Denotational-54879" class="Function">sub-inv-fun</a> <a id="plfa_plfa-part3-Denotational-55672" href="../Denotational/#plfa_plfa-part3-Denotational-55648" class="Bound">lt</a>
<a id="plfa_plfa-part3-Denotational-55675" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55679" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55681" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55683" href="../Denotational/#plfa_plfa-part3-Denotational-55683" class="Bound">Γ</a> <a id="plfa_plfa-part3-Denotational-55685" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55687" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55689" href="../Denotational/#plfa_plfa-part3-Denotational-55689" class="Bound">f</a> <a id="plfa_plfa-part3-Denotational-55691" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55693" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55695" href="../Denotational/#plfa_plfa-part3-Denotational-55695" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55701" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55703" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55705" href="../Denotational/#plfa_plfa-part3-Denotational-55705" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55709" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55711" href="../Denotational/#plfa_plfa-part3-Denotational-55711" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55715" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55717" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55719" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55721" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55727" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55732" href="../Denotational/#plfa_plfa-part3-Denotational-40716" class="Function">all-funs∈</a> <a id="plfa_plfa-part3-Denotational-55742" href="../Denotational/#plfa_plfa-part3-Denotational-55689" class="Bound">f</a>
<a id="plfa_plfa-part3-Denotational-55744" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55748" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55750" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55752" href="../Denotational/#plfa_plfa-part3-Denotational-55752" class="Bound">u</a> <a id="plfa_plfa-part3-Denotational-55754" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55756" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55758" href="../Denotational/#plfa_plfa-part3-Denotational-55758" class="Bound">u′</a> <a id="plfa_plfa-part3-Denotational-55761" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55763" href="../Denotational/#plfa_plfa-part3-Denotational-55763" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55770" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a> <a id="plfa_plfa-part3-Denotational-55772" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
    <a id="plfa_plfa-part3-Denotational-55778" class="Keyword">with</a> <a id="plfa_plfa-part3-Denotational-55783" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55789" href="../Denotational/#plfa_plfa-part3-Denotational-55763" class="Bound">u↦u′∈Γ</a>
<a id="plfa_plfa-part3-Denotational-55796" class="Symbol">...</a> <a id="plfa_plfa-part3-Denotational-55800" class="Symbol">|</a> <a id="plfa_plfa-part3-Denotational-55802" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="plfa_plfa-part3-Denotational-55807" class="Symbol">=</a>
  <a id="plfa_plfa-part3-Denotational-55811" class="Keyword">let</a> <a id="plfa_plfa-part3-Denotational-55815" href="../Denotational/#plfa_plfa-part3-Denotational-55815" class="Bound">⨆codΓ⊆w′</a> <a id="plfa_plfa-part3-Denotational-55824" class="Symbol">=</a> <a id="plfa_plfa-part3-Denotational-55826" href="../Denotational/#plfa_plfa-part3-Denotational-42886" class="Function">⊆↦→⨆cod⊆</a> <a id="plfa_plfa-part3-Denotational-55835" class="Bound">Γ⊆v34</a> <a id="plfa_plfa-part3-Denotational-55841" class="Keyword">in</a>
  <a id="plfa_plfa-part3-Denotational-55846" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟨</a> <a id="plfa_plfa-part3-Denotational-55848" class="Bound">lt1</a> <a id="plfa_plfa-part3-Denotational-55852" class="Bound">u↦u′∈Γ</a> <a id="plfa_plfa-part3-Denotational-55859" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">,</a> <a id="plfa_plfa-part3-Denotational-55861" href="../Denotational/#plfa_plfa-part3-Denotational-5683" class="InductiveConstructor">⊑-trans</a> <a id="plfa_plfa-part3-Denotational-55869" class="Bound">lt2</a> <a id="plfa_plfa-part3-Denotational-55873" class="Symbol">(</a><a id="plfa_plfa-part3-Denotational-55874" href="../Denotational/#plfa_plfa-part3-Denotational-38793" class="Function">⊆→⊑</a> <a id="plfa_plfa-part3-Denotational-55878" href="../Denotational/#plfa_plfa-part3-Denotational-55815" class="Bound">⨆codΓ⊆w′</a><a id="plfa_plfa-part3-Denotational-55886" class="Symbol">)</a> <a id="plfa_plfa-part3-Denotational-55888" href="../Denotational/#plfa_plfa-part3-Denotational-3416" class="InductiveConstructor Operator">⟩</a>
</pre><h2 id="注记">注记</h2><p>本章中展示的操作语义是<strong>过滤器模型（filter model，</strong>@Barendregt:1983）的一个例子。 过滤器模型使用带有交集类型的类型系统来精确刻画运行时行为（<span class="citation" data-cites="Coppo:1979">Coppo, Dezani-Ciancaglini, and Salle’ (1979)</span>）。 我们在本章中使用的记法并不是类型系统和交集类型的记法，但 <code>Value</code> 数据类型与这些类型同构（<code>↦</code> 对应 <code>→</code>，<code>⊔</code> 对应 <code>∧</code>，<code>⊥</code> 对应 <code>⊤</code>）， <code>⊑</code> 关系是子类型 <code>&lt;:</code> 的逆关系，并且求值关系 <code>ρ ⊢ M ↓ v</code> 与类型系统同构。 将 <code>ρ</code> 写成 <code>Γ</code>，将 <code>v</code> 写成 <code>A</code>，将 <code>↓</code> 替换为 <code>:</code>，就得到了一个类型判断 <code>Γ ⊢ M : A</code>。通过改变子类型的定义和使用类型原子的不同选择， 交集类型系统为许多不同的无类型 λ-演算提供语义，从完整的 beta-规约到惰性演算和按值调用演算（<span class="citation" data-cites="Alessi:2006">Alessi, Barbanera, and Dezani-Ciancaglini (2006)</span>，<span class="citation" data-cites="Rocca:2004">Ronchi Della Rocca and Paolini (2004)</span>）。 本章中的指称语义对应于 BCD 系统（<span class="citation" data-cites="Barendregt:1983">H. Barendregt, Coppo, and Dezani-Ciancaglini (1983)</span>）。 <em>Lambda Calculus with Types</em> 一书中的第三部分描述了一个交集类型系统的框架， 它可以实现与本章中类似的结果，但适用于整个交集类型系统族（<span class="citation" data-cites="Barendregt:2013">H. Barendregt, Dekkers, and Statman (2013)</span>）</p><p>使用有限的表格来表示函数，以及放宽表的查找以实现自我应用这两个想法首次出现在 <span class="citation" data-cites="Plotkin:1972">Plotkin (1972)</span> 的技术报告中，后来在《理论计算机科学》（<span class="citation" data-cites="Plotkin:1993">Plotkin (1993)</span>） 的一篇文章中进行了描述。在该项工作中，<code>Value</code> 的归纳定义与我们使用的有点不同：</p><pre><code>Value = C + ℘f(Value) × ℘f(Value)</code></pre><p>其中 <code>C</code> 是一组常量，<code>℘f</code> 表示有限幂集。<code>℘f(Value) × ℘f(Value)</code> 中的序对表示输入-输出映射，和本章中的一样。有限幂集用于使函数表能够出现在输入和输出中。 这些差异相当于改变了 <code>Value</code> 定义中递归出现的位置。Plotkin 的模型是无类型 λ-演算的<strong>图模型（graph model）</strong>的一个例子（<span class="citation" data-cites="barendregt84:_lambda_calculus">H. P. Barendregt (1984)</span>）。 在图模型中，语义被表示为从程序和环境到（可能是无限的）值的集合的函数。 本章中的语义被定义为关系，不过以集合为值的函数与关系同构。 实际上，我们将在下一章中将语义表示为函数，并证明它等价于关系的版本。</p><p><span class="citation" data-cites="Scott:1976">Scott (1976)</span> 的 ℘(ω) 模型和 <span class="citation" data-cites="Engeler:1981">Engeler (1981)</span> 的 B(A) 模型是图模型的另外两个例子。 二者都采用了以下 <code>Value</code> 的归纳定义。</p><pre><code>Value = C + ℘f(Value) × Value</code></pre><p>在输出中使用 <code>Value</code> 而非 <code>℘f(Value)</code> 相对 Plotkin 的模型来说并不会限制表达能力， 因为使用了值的集合的语义和集合 <code>(V, V′)</code> 的序对可以表示为一个序对的集合 <code>{ (V, v′) | v′ ∈ V′ }</code>。在 Scott 的 ℘(ω) 中， 上面的值通过一种哥德尔编码做了它和自然数的双向映射。</p><h2 id="unicode">Unicode</h2><p>本章使用了以下 Unicode：</p><pre><code>⊥  U+22A5  UP TACK (\bot)
↦  U+21A6  RIGHTWARDS ARROW FROM BAR (\mapsto)
⊔  U+2294  SQUARE CUP (\lub)
⊑  U+2291  SQUARE IMAGE OF OR EQUAL TO (\sqsubseteq)
⨆ U+2A06  N-ARY SQUARE UNION OPERATOR (\Lub)
⊢  U+22A2  RIGHT TACK (\|- or \vdash)
↓  U+2193  DOWNWARDS ARROW (\d)
ᶜ  U+1D9C  MODIFIER LETTER SMALL C (\^c)
ℰ  U+2130  SCRIPT CAPITAL E (\McE)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~- or \simeq)
∈  U+2208  ELEMENT OF (\in)
⊆  U+2286  SUBSET OF OR EQUAL TO (\sub= or \subseteq)</code></pre><h2 class="unnumbered" id="参考来源">参考来源</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list"><div id="ref-Alessi:2006" class="csl-entry" role="listitem">Alessi, Fabio, Franco Barbanera, and Mariangiola Dezani-Ciancaglini. 2006. <span>“Intersection Types and Lambda Models.”</span> <em>Theoretical Computer Science</em> 355 (2): 108–26.</div><div id="ref-barendregt84:_lambda_calculus" class="csl-entry" role="listitem">Barendregt, H. P. 1984. <em>The Lambda Calculus</em>. Vol. 103. Studies in Logic. Elsevier.</div><div id="ref-Barendregt:1983" class="csl-entry" role="listitem">Barendregt, Henk, Mario Coppo, and Mariangiola Dezani-Ciancaglini. 1983. <span>“A Filter Lambda Model and the Completeness of Type Assignment.”</span> <em>Journal of Symbolic Logic</em> 48 (4): 931–40. <a href="https://doi.org/10.2307/2273659">https://doi.org/10.2307/2273659</a>.</div><div id="ref-Barendregt:2013" class="csl-entry" role="listitem">Barendregt, Henk, Wil Dekkers, and Richard Statman. 2013. <em>Lambda Calculus with Types</em>. Perspectives in Logic. Cambridge University Press.</div><div id="ref-Coppo:1979" class="csl-entry" role="listitem">Coppo, M., M. Dezani-Ciancaglini, and P. Salle’. 1979. <span>“Functional Characterization of Some Semantic Equalities Inside Lambda-Calculus.”</span> In <em>Automata, Languages and Programming: Sixth Colloquium</em>, edited by Hermann A. Maurer, 133–46. Berlin, Heidelberg: Springer Berlin Heidelberg.</div><div id="ref-Engeler:1981" class="csl-entry" role="listitem">Engeler, Erwin. 1981. <span>“Algebras and Combinators.”</span> <em>Algebra Universalis</em> 13 (1): 389–92.</div><div id="ref-Plotkin:1972" class="csl-entry" role="listitem">Plotkin, Gordon D. 1972. <span>“A Set-Theoretical Definition of Application.”</span> MIP-R-95. University of Edinburgh.</div><div id="ref-Plotkin:1993" class="csl-entry" role="listitem">———. 1993. <span>“Set-Theoretical and Other Elementary Models of the λ-Calculus.”</span> <em>Theoretical Computer Science</em> 121 (1): 351–409.</div><div id="ref-Rocca:2004" class="csl-entry" role="listitem">Ronchi Della Rocca, Simona, and Luca Paolini. 2004. <em>The Parametric Lambda Calculus</em>. Springer.</div><div id="ref-Scott:1976" class="csl-entry" role="listitem">Scott, Dana. 1976. <span>“Data Types as Lattices.”</span> <em>SIAM Journal on Computing</em> 5 (3): 522–87.</div></div></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="../BigStep/">上一章</a></li><li class="separator">•</li><li><a class="pagelink" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/src/plfa/part3/Denotational.lagda.md">源文件</a></li><li class="separator">•</li><li><a class="pagelink" href="../Compositional/">下一章</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../"></data><div class="wrapper"><h2 class="footer-heading">编程语言基础：Agda 描述</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>