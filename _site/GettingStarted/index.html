<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>使用说明 | 编程语言基础：Agda 语言描述
</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="使用说明" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="编程语言基础：Agda 语言描述" />
<meta property="og:description" content="编程语言基础：Agda 语言描述" />
<link rel="canonical" href="https://agda-zh.github.io/PLFA-zh/GettingStarted/" />
<meta property="og:url" content="https://agda-zh.github.io/PLFA-zh/GettingStarted/" />
<meta property="og:site_name" content="编程语言基础：Agda 语言描述" />
<script type="application/ld+json">
{"description":"编程语言基础：Agda 语言描述","@type":"WebPage","url":"https://agda-zh.github.io/PLFA-zh/GettingStarted/","headline":"使用说明","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/PLFA-zh/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/PLFA-zh/">编程语言基础：Agda 语言描述
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/PLFA-zh/">主页</a>
                <a class="page-link" href="/PLFA-zh/Announcements/">公告</a>
                <a class="page-link" href="/PLFA-zh/GettingStarted/">使用说明</a>
                <a class="page-link" href="/PLFA-zh/Citing/">引用</a>
                <a class="page-link" href="https://plfa.github.io/">English</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">使用说明</h1>
  </header>

  <p style="text-align:center;">
    
    
    
    
    
</p>


  <div class="post-content">
    <p><a href="https://travis-ci.org/Agda-zh/PLFA-zh"><img src="https://travis-ci.org/Agda-zh/PLFA-zh.svg?branch=dev" alt="Build Status" /></a>
<a href="https://github.com/agda/agda/releases/tag/v2.6.0.1"><img src="https://img.shields.io/badge/agda-2.6.0.1-blue.svg" alt="Agda" /></a>
<a href="https://github.com/agda/agda-stdlib/releases/tag/v1.1"><img src="https://img.shields.io/badge/agda--stdlib-1.1-blue.svg" alt="agda-stdlib" /></a></p>

<p>《编程语言基础：Agda 语言描述》的使用方法和《Programming Language Foundations in Agda》一致。</p>

<p><strong>本书可访问 <a href="https://agda-zh.github.io/PLFA-zh/">PLFA-zh</a> 在线阅读。</strong></p>

<p><strong>要参与翻译，请先阅读<a href="https://github.com/Agda-zh/PLFA-zh/issues/1">翻译规范</a></strong></p>

<!---
Getting Started with PLFA
--->

<h1 id="开始使用-plfa">开始使用 PLFA</h1>

<!---
There are several tools you need to work with PLFA:

  - [Agda](https://agda.readthedocs.io/en/v2.6.0.1/getting-started/installation.html)
  - [Agda standard library](https://github.com/agda/agda-stdlib/releases/tag/v1.1)
--->

<p>为使用 PLFA，你需要以下工具：</p>

<ul>
  <li><a href="https://agda-zh.rtfd.io/zh_CN/latest/getting-started/installation.html">Agda</a></li>
  <li><a href="https://github.com/agda/agda-stdlib/releases/tag/v1.1">Agda 标准库</a></li>
</ul>

<!---
For most of the tools, you can simply follow their respective build instructions.
We list the versions of our dependencies on the badges above.  We have
tested with the versions listed; either earlier or later versions may
cause problems.
--->

<p>大部分工具的安装方式遵循其对应网页提供的说明即可。
<strong><a href="https://ice1000.org/2018/06/13/AgdaEnvConfig/">这里</a>有篇安装配置的教程可供参考。</strong>
本页顶部的徽章列出了 PLFA 使用的依赖版本。我们已经用上面列出的版本测试过了，
其它更旧或更新的版本可能会出问题。</p>

<!---
You can get the appropriate version of Programming Language Foundations in Agda from Github,
either by cloning the repository,
or by downloading [the zip archive](https://github.com/plfa/plfa.github.io/archive/dev.zip):
--->

<p>你可以执行下方的命令克隆仓库或者下载 zip 包（<a href="https://github.com/plfa/plfa.github.io/archive/dev.zip">原书</a> / <a href="https://github.com/Agda-zh/PLFA-zh/archive/dev.zip">中文版</a>）以从 GitHub 获取最新版的 PLFA。</p>

<p>原书：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/plfa/plfa.github.io
</code></pre></div></div>

<p>中文版：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/Agda-zh/PLFA-zh
</code></pre></div></div>

<!---
Finally, we need to let Agda know where to find the standard library.
For this, you can follow the instructions
[here](https://agda.readthedocs.io/en/v2.6.0.1/tools/package-system.html#example-using-the-standard-library).
-->

<p>最后，我们需要让 Agda 知道标准库位于何处。
<a href="https://agda-zh.rtfd.io/zh_CN/latest/tools/package-system.html#example-using-the-standard-library">此处</a>的说明可供参考。</p>

<!--
It is possible to set up PLFA as an Agda library as well.  If you want
to complete the exercises found in the `courses` folder, or to import
modules from the book, you need to do this.  To do so, add the path to
`plfa.agda-lib` to `~/.agda/libraries` and add `plfa` to
`~/.agda/defaults`, both on lines of their own.
-->

<p>如果你想完成 <code class="highlighter-rouge">courses</code> 目录中的习题，或者想导入书中的模块，
那么需要将 PLFA 设置为 Agda 库。完成此设置需要将 <code class="highlighter-rouge">plfa.agda-lib</code>
所在的路径作为单独的一行添加到 <code class="highlighter-rouge">~/.agda/libraries</code>，并将 <code class="highlighter-rouge">plfa</code>
作为单独的一行添加到 <code class="highlighter-rouge">~/.agda/defaults</code>。</p>

<!---
Unicode characters
--->

<h2 id="unicode-字符">Unicode 字符</h2>

<!---
If you're having trouble typing the Unicode characters into Emacs, the end of
each chapter should provide a list of the unicode characters introduced in that
chapter. For a full list of supported characters, see
[agda-input.el](https://github.com/agda/agda/blob/master/src/data/emacs-mode/agda-input.el#L194).
--->

<p>如果你在 Emacs 中输入 Unicode 字符时遇到困难，每一章的结尾都列出了该章引入的 Unicode 字符。所支持字符的完整列表请参阅 <a href="https://github.com/agda/agda/blob/master/src/data/emacs-mode/agda-input.el#L194">agda-input.el</a>。</p>

<!---
Using `agda-mode`
--->

<h2 id="使用-agda-mode">使用 <code class="highlighter-rouge">agda-mode</code></h2>

<!---
    ?            hole
    {!...!}      hole with contents
    C-c C-l      load buffer
--->

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?            洞
{!...!}      有内容的洞
C-c C-l      加载缓冲区
</code></pre></div></div>

<!---
Command to give when in a hole:

    C-c C-c x    split on variable x
    C-c C-space  fill in hole
    C-c C-r      refine with constructor
    C-c C-a      automatically fill in hole
    C-c C-,      Goal type and context
    C-c C-.      Goal type, context, and inferred type
--->

<p>在洞上可用的命令：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C-c C-c x    在变量 x 上分项（自动模式匹配）
C-c C-空格   填洞
C-c C-r      用构造子精化
C-c C-a      自动填洞
C-c C-,      目标类型和上下文
C-c C-.      目标类型，上下文，以及推断的类型
</code></pre></div></div>

<!---
See
[the emacs-mode docs](https://agda.readthedocs.io/en/latest/tools/emacs-mode.html)
for more details.
--->

<p>更多细节请见 <a href="https://agda.readthedocs.io/en/latest/tools/emacs-mode.html">emacs-mode 文档</a></p>

<!---
If you want to see messages beside rather than below your Agda code,
you can do the following:

Load your Agda file and do `C-c C-l`;
type `C-x 1` to get only your Agda file showing;
type `C-x 3` to split the window horizontally;
move your cursor to the right-hand half of your frame;
type `C-x b` and switch to the buffer called "Agda information"
--->

<p>如果你希望在 Agda 代码侧边而非底部查看消息，可以参考如下操作：</p>

<ul>
  <li>载入 Agda 文件并按 <code class="highlighter-rouge">C-c C-l</code>；</li>
  <li>按 <code class="highlighter-rouge">C-x 1</code> 以仅显示当前 Agda 文件；</li>
  <li>按 <code class="highlighter-rouge">C-x 3</code> 以垂直分割窗口；</li>
  <li>将光标移动到右侧窗口；</li>
  <li>按 <code class="highlighter-rouge">C-x b</code> 并输入 “Agda information” 以切换到该缓冲区。</li>
</ul>

<!---
Now, error messages from Agda will appear next to your file, rather than
squished beneath it.
--->

<p>现在，来自 Agda 的错误消息将会在代码右侧显示，而非被压缩在底部的狭小空间里。</p>

<!---
Fonts in Emacs
--->

<h2 id="emacs-中的字体">Emacs 中的字体</h2>

<!---
It is recommended that you add the following to the end of your emacs
configuration file at `~/.emacs`, if you have the mentioned fonts available:
--->

<p>如果你有以下代码中提及的字体，推荐将这些代码添加到 Emacs 配置文件 <code class="highlighter-rouge">~/.emacs</code> 的末尾。</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; Setting up Fonts for use with Agda/PLFA</span>
<span class="c1">;;</span>
<span class="c1">;; default to DejaVu Sans Mono,</span>
<span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'default</span> <span class="no">nil</span>
		    <span class="ss">:family</span> <span class="s">"DejaVu Sans Mono"</span>
		    <span class="ss">:height</span> <span class="mi">120</span>
		    <span class="ss">:weight</span> <span class="ss">'normal</span>
		    <span class="ss">:width</span>  <span class="ss">'normal</span><span class="p">)</span>

<span class="c1">;; fix \:</span>
<span class="p">(</span><span class="nv">set-fontset-font</span> <span class="s">"fontset-default"</span>
		  <span class="p">(</span><span class="nb">cons</span> <span class="p">(</span><span class="nv">decode-char</span> <span class="ss">'ucs</span> <span class="m">#x2982</span><span class="p">)</span>
			<span class="p">(</span><span class="nv">decode-char</span> <span class="ss">'ucs</span> <span class="m">#x2982</span><span class="p">))</span>
		  <span class="s">"STIX"</span><span class="p">)</span>
</code></pre></div></div>

<!---
Building the book
--->

<h1 id="构建本书">构建本书</h1>

<!---
To build and host a local copy of the book, there are several tools you need *in addition to those listed above*:
--->

<p>要在本地构建并部署本书，<strong>在前文所列工具的基础之上</strong>，你还需要：</p>

<ul>
  <li><a href="https://www.ruby-lang.org/en/documentation/installation/">Ruby</a></li>
  <li><a href="https://bundler.io/#getting-started">Bundler</a></li>
</ul>

<!---
For most of the tools, you can simply follow their respective build instructions.
Most recent versions of Ruby should work.
--->

<p>大部分工具的安装遵循其对应的网页提供的说明即可。Ruby 的较新版本应该都可以使用。</p>

<!---
You install the Ruby dependencies---[Jekyll](https://jekyllrb.com/), [html-proofer](https://github.com/gjtorikian/html-proofer), *etc.*---using Bundler:
--->

<p>你需要用 Bundler 安装 Ruby 依赖：<a href="https://jekyllrb.com/">Jekyll</a>、 <a href="https://github.com/gjtorikian/html-proofer">html-proofer</a> 等。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install
</code></pre></div></div>

<!---
Once you have installed all of the dependencies, you can build a copy of the book by running:
--->

<p>安装完所有的工具后，我们就可以从源码构建本书了：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make build
</code></pre></div></div>

<!---
You can host your copy of the book locally by running:
--->

<p>运行如下命令可以在本地部署本书：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make serve
</code></pre></div></div>

<!---
The Makefile offers more than just these options:

    make                      (see make test)
    make build                (builds lagda->markdown and the website)
    make build-incremental    (builds lagda->markdown and the website incrementally)
    make test                 (checks all links are valid)
    make test-offline         (checks all links are valid offline)
    make serve                (starts the server)
    make server-start         (starts the server in detached mode)
    make server-stop          (stops the server, uses pkill)
    make clean                (removes all ~unnecessary~ generated files)
    make clobber              (removes all generated files)
--->

<p>Makefile 提供了更多可选的命令：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make                      （见 make test）
make build                （将 lagda 构建至 markdown 并构建网站）
make build-incremental    （将 lagda 构建至 markdown 并增量式构建网站）
make test                 （检查所有链接的有效性）
make test-offline         （离线检查所有链接的有效性）
make serve                （启动服务）
make server-start         （以分离模式启动服务）
make server-stop          （使用 pkill 停止服务）
make clean                （移除所有~不必要的~生成的文件）
make clobber              （移除所有生成的文件）
</code></pre></div></div>

<!---
If you simply wish to have a local copy of the book, e.g. for offline reading,
but don't care about editing and rebuilding the book, you can grab a copy of the
[master branch](https://github.com/plfa/plfa.github.io/archive/master.zip),
which is automatically built using Travis. You will still need Ruby and Bundler
to host the book (see above). To host the book this way, download a copy of the
[master branch](https://github.com/plfa/plfa.github.io/archive/master.zip),
unzip, and from within the directory run
--->

<p>如果你只想获取本书的副本以供离线阅读，而并不关心如何编辑并构建本书，
那么你可以下载由 Travis 自动构建的 master 分支（<a href="https://github.com/plfa/plfa.github.io/archive/master.zip">原书</a> / <a href="https://github.com/Agda-zh/PLFA-zh/archive/master.zip">中文版</a>）。若要在本地部署本书，你需要 Ruby 和 Bundler（见上文）。请下载 master 分支的压缩包，并在解压后的目录中运行：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install
bundle exec jekyll serve
</code></pre></div></div>

<h2 id="markdown">Markdown</h2>

<!---
The book is written in
[Kramdown Markdown](https://kramdown.gettalong.org/syntax.html).
--->

<p>本书使用 <a href="https://kramdown.gettalong.org/syntax.html">Kramdown Markdown</a> 编写。</p>

<!---
Travis Continuous Integration
--->

<h2 id="travis-持续集成">Travis 持续集成</h2>

<!---
You can view the build history of PLFA at [travis-ci.org](https://travis-ci.org/plfa/plfa.github.io).
--->

<p>你可以在 <a href="https://travis-ci.org/">https://travis-ci.org/</a> 查看 PLFA 的构建历史（<a href="https://travis-ci.org/plfa/plfa.github.io">原书</a> / <a href="https://travis-ci.org/Agda-zh/PLFA-zh">中文版</a>）。</p>

  </div>

  <p style="text-align:center;">
    
    
    
    
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/PLFA-zh/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">编程语言基础：Agda 语言描述
</h2>

    <h3 class="footer-heading">原作者：</h3><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><h3 class="footer-heading">译者：</h3>
      <p>Fangyi Zhou, Oling Cat, Rongxiao Fu</p>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">创作共用-署名 4.0 国际（CC BY 4.0）许可协议</a>授权。<br />
  </div>
</footer>
<!-- Import jQuery -->
<script type="text/javascript" src="/PLFA-zh/assets/jquery.js"></script>

<!-- Script which draws background for progress tags -->
<script type="text/javascript">
$('span.progress').each(function(){
    const progress = parseInt($(this).text());
    $(this).css({
        'border-style': 'solid',
        'border-radius': '5px',
        'border-width': 'thin',
        'border-color': progress === 100 ? 'limegreen' : 'dimgray',
        'font-size': '70%',
        'padding': '0% 0.5% 0% 0.5%',
        'margin': '0em 0em 0em 0.5em',
        'box-sizing': 'border-box',
        'vertical-align': '10%'
    });
    $(this).text(progress.toString() + " %");
})
</script>

<!-- Script which allows for foldable code blocks -->
<script type="text/javascript">

 // Makes sandwhich menu works
 $('.menu-icon').click(function(){
   $('.trigger').toggle();
 });

 // Script which allows for foldable code blocks
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/PLFA-zh/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
