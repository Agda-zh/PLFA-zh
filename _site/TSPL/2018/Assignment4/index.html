<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Assignment4: TSPL Assignment 4 | 编程语言基础：Agda 语言描述
</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Assignment4: TSPL Assignment 4" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="编程语言基础：Agda 语言描述" />
<meta property="og:description" content="编程语言基础：Agda 语言描述" />
<link rel="canonical" href="https://agda-zh.github.io/PLFA-zh/TSPL/2018/Assignment4/" />
<meta property="og:url" content="https://agda-zh.github.io/PLFA-zh/TSPL/2018/Assignment4/" />
<meta property="og:site_name" content="编程语言基础：Agda 语言描述" />
<script type="application/ld+json">
{"description":"编程语言基础：Agda 语言描述","@type":"WebPage","url":"https://agda-zh.github.io/PLFA-zh/TSPL/2018/Assignment4/","headline":"Assignment4: TSPL Assignment 4","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/PLFA-zh/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/PLFA-zh/">编程语言基础：Agda 语言描述
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/PLFA-zh/">主页</a>
                <a class="page-link" href="/PLFA-zh/Announcements/">公告</a>
                <a class="page-link" href="/PLFA-zh/GettingStarted/">使用说明</a>
                <a class="page-link" href="/PLFA-zh/Citing/">引用</a>
                <a class="page-link" href="https://plfa.github.io/">English</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">Assignment4: TSPL Assignment 4</h1>
  </header>

  <p style="text-align:center;">
    
    
    
    <a alt="Source code" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/courses/tspl/2018/Assignment4.lagda.md">源代码</a>
    
    
    
</p>


  <div class="post-content">
    <pre class="Agda"><a id="112" class="Keyword">module</a> <a id="119" href="/PLFA-zh/TSPL/2018/Assignment4/" class="Module">Assignment4</a> <a id="131" class="Keyword">where</a>
</pre>
<h2 id="your-name-and-email-goes-here">YOUR NAME AND EMAIL GOES HERE</h2>

<h2 id="introduction">Introduction</h2>

<!-- This assignment is due **4pm Thursday 15 November** (Week 9). -->

<p>You must do <em>all</em> the exercises labelled “(recommended)”.</p>

<p>Exercises labelled “(stretch)” are there to provide an extra challenge.
You don’t need to do all of these, but should attempt at least a few.</p>

<p>Exercises without a label are optional, and may be done if you want
some extra practice.</p>

<!-- Submit your homework using the "submit" command. -->
<p>Please ensure your files execute correctly under Agda!</p>

<p><strong>IMPORTANT</strong> For ease of marking, when modifying the given code please write</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-- begin
-- end
</code></pre></div></div>

<p>before and after code you add, to indicate your changes.</p>

<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="851" class="Keyword">import</a> <a id="858" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="896" class="Symbol">as</a> <a id="899" class="Module">Eq</a>
<a id="902" class="Keyword">open</a> <a id="907" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="910" class="Keyword">using</a> <a id="916" class="Symbol">(</a><a id="917" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="920" class="Symbol">;</a> <a id="922" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="926" class="Symbol">;</a> <a id="928" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a><a id="931" class="Symbol">;</a> <a id="933" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a><a id="938" class="Symbol">;</a> <a id="940" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#1090" class="Function">cong</a><a id="944" class="Symbol">;</a> <a id="946" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html#1436" class="Function">cong₂</a><a id="951" class="Symbol">;</a> <a id="953" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">_≢_</a><a id="956" class="Symbol">)</a>
<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="981" class="Keyword">using</a> <a id="987" class="Symbol">(</a><a id="988" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a><a id="989" class="Symbol">;</a> <a id="991" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a><a id="997" class="Symbol">)</a>
<a id="999" class="Keyword">open</a> <a id="1004" class="Keyword">import</a> <a id="1011" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="1020" class="Keyword">using</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="1028" class="Symbol">;</a> <a id="1030" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="1034" class="Symbol">;</a> <a id="1036" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="1039" class="Symbol">;</a> <a id="1041" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="1044" class="Symbol">;</a> <a id="1046" href="Agda.Builtin.Nat.html#501" class="Primitive Operator">_*_</a><a id="1049" class="Symbol">)</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html" class="Module">Data.Product</a> <a id="1076" class="Keyword">using</a> <a id="1082" class="Symbol">(</a><a id="1083" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">_×_</a><a id="1086" class="Symbol">;</a> <a id="1088" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1364" class="Function">∃</a><a id="1089" class="Symbol">;</a> <a id="1091" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃-syntax</a><a id="1099" class="Symbol">)</a> <a id="1101" class="Keyword">renaming</a> <a id="1110" class="Symbol">(</a><a id="1111" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="1115" class="Symbol">to</a> <a id="1118" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="1123" class="Symbol">)</a>
<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.html" class="Module">Data.String</a> <a id="1149" class="Keyword">using</a> <a id="1155" class="Symbol">(</a><a id="1156" href="Agda.Builtin.String.html#206" class="Postulate">String</a><a id="1162" class="Symbol">;</a> <a id="1164" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.Properties.html#2569" class="Function Operator">_≟_</a><a id="1167" class="Symbol">)</a>
<a id="1169" class="Keyword">open</a> <a id="1174" class="Keyword">import</a> <a id="1181" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1198" class="Keyword">using</a> <a id="1204" class="Symbol">(</a><a id="1205" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬_</a><a id="1207" class="Symbol">;</a> <a id="1209" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a><a id="1212" class="Symbol">;</a> <a id="1214" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a><a id="1217" class="Symbol">;</a> <a id="1219" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a><a id="1221" class="Symbol">)</a>
</pre>

<h2 id="debruijn">DeBruijn</h2>

<pre class="Agda"><a id="1247" class="Keyword">module</a> <a id="DeBruijn"></a><a id="1254" href="/PLFA-zh/TSPL/2018/Assignment4/#1254" class="Module">DeBruijn</a> <a id="1263" class="Keyword">where</a>
</pre>
<p>Remember to indent all code by two spaces.</p>

<pre class="Agda">  <a id="1324" class="Keyword">open</a> <a id="1329" class="Keyword">import</a> <a id="1336" href="/PLFA-zh/DeBruijn/" class="Module">plfa.DeBruijn</a>
</pre>

<h4 id="exercise-mul-recommended">Exercise (<code class="highlighter-rouge">mul</code>) (recommended)</h4>

<p>Write out the definition of a lambda term that multiplies
two natural numbers, now adapted to the inherently typed
DeBruijn representation.</p>

<h4 id="exercise-v">Exercise <code class="highlighter-rouge">V¬—→</code></h4>

<p>Following the previous development, show values do
not reduce, and its corollary, terms that reduce are not
values.</p>

<h4 id="exercise-mul-eval-recommended">Exercise <code class="highlighter-rouge">mul-eval</code> (recommended)</h4>

<p>Using the evaluator, confirm that two times two is four.</p>

<h2 id="more">More</h2>

<pre class="Agda"><a id="1787" class="Keyword">module</a> <a id="More"></a><a id="1794" href="/PLFA-zh/TSPL/2018/Assignment4/#1794" class="Module">More</a> <a id="1799" class="Keyword">where</a>
</pre>
<p>Remember to indent all code by two spaces.</p>

<h3 id="syntax">Syntax</h3>

<pre class="Agda">  <a id="1873" class="Keyword">infix</a>  <a id="1880" class="Number">4</a> <a id="1882" href="/PLFA-zh/TSPL/2018/Assignment4/#2677" class="Datatype Operator">_⊢_</a>
  <a id="1888" class="Keyword">infix</a>  <a id="1895" class="Number">4</a> <a id="1897" href="/PLFA-zh/TSPL/2018/Assignment4/#2470" class="Datatype Operator">_∋_</a>
  <a id="1903" class="Keyword">infixl</a> <a id="1910" class="Number">5</a> <a id="1912" href="/PLFA-zh/TSPL/2018/Assignment4/#2384" class="InductiveConstructor Operator">_,_</a>

  <a id="1919" class="Keyword">infixr</a> <a id="1926" class="Number">7</a> <a id="1928" href="/PLFA-zh/TSPL/2018/Assignment4/#2148" class="InductiveConstructor Operator">_⇒_</a>
  <a id="1934" class="Keyword">infixr</a> <a id="1941" class="Number">8</a> <a id="1943" href="/PLFA-zh/TSPL/2018/Assignment4/#2227" class="InductiveConstructor Operator">_`⊎_</a>
  <a id="1950" class="Keyword">infixr</a> <a id="1957" class="Number">9</a> <a id="1959" href="/PLFA-zh/TSPL/2018/Assignment4/#2196" class="InductiveConstructor Operator">_`×_</a>

  <a id="1967" class="Keyword">infix</a>  <a id="1974" class="Number">5</a> <a id="1976" href="/PLFA-zh/TSPL/2018/Assignment4/#2811" class="InductiveConstructor Operator">ƛ_</a>
  <a id="1981" class="Keyword">infix</a>  <a id="1988" class="Number">5</a> <a id="1990" href="/PLFA-zh/TSPL/2018/Assignment4/#3215" class="InductiveConstructor Operator">μ_</a>
  <a id="1995" class="Keyword">infixl</a> <a id="2002" class="Number">7</a> <a id="2004" href="/PLFA-zh/TSPL/2018/Assignment4/#2887" class="InductiveConstructor Operator">_·_</a>
  <a id="2010" class="Keyword">infixl</a> <a id="2017" class="Number">8</a> <a id="2019" href="/PLFA-zh/TSPL/2018/Assignment4/#3369" class="InductiveConstructor Operator">_`*_</a>
  <a id="2026" class="Keyword">infix</a>  <a id="2033" class="Number">8</a> <a id="2035" href="/PLFA-zh/TSPL/2018/Assignment4/#3038" class="InductiveConstructor Operator">`suc_</a>
  <a id="2043" class="Keyword">infix</a>  <a id="2050" class="Number">9</a> <a id="2052" href="/PLFA-zh/TSPL/2018/Assignment4/#2733" class="InductiveConstructor Operator">`_</a>
  <a id="2057" class="Keyword">infix</a>  <a id="2064" class="Number">9</a> <a id="2066" href="/PLFA-zh/TSPL/2018/Assignment4/#2561" class="InductiveConstructor Operator">S_</a>
  <a id="2071" class="Keyword">infix</a>  <a id="2078" class="Number">9</a> <a id="2080" href="/PLFA-zh/TSPL/2018/Assignment4/#4381" class="Function Operator">#_</a>
</pre>
<h3 id="types">Types</h3>

<pre class="Agda">  <a id="2105" class="Keyword">data</a> <a id="More.Type"></a><a id="2110" href="/PLFA-zh/TSPL/2018/Assignment4/#2110" class="Datatype">Type</a> <a id="2115" class="Symbol">:</a> <a id="2117" class="PrimitiveType">Set</a> <a id="2121" class="Keyword">where</a>
    <a id="More.Type.`ℕ"></a><a id="2131" href="/PLFA-zh/TSPL/2018/Assignment4/#2131" class="InductiveConstructor">`ℕ</a>    <a id="2137" class="Symbol">:</a> <a id="2139" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type._⇒_"></a><a id="2148" href="/PLFA-zh/TSPL/2018/Assignment4/#2148" class="InductiveConstructor Operator">_⇒_</a>   <a id="2154" class="Symbol">:</a> <a id="2156" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2161" class="Symbol">→</a> <a id="2163" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2168" class="Symbol">→</a> <a id="2170" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type.Nat"></a><a id="2179" href="/PLFA-zh/TSPL/2018/Assignment4/#2179" class="InductiveConstructor">Nat</a>   <a id="2185" class="Symbol">:</a> <a id="2187" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type._`×_"></a><a id="2196" href="/PLFA-zh/TSPL/2018/Assignment4/#2196" class="InductiveConstructor Operator">_`×_</a>  <a id="2202" class="Symbol">:</a> <a id="2204" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2209" class="Symbol">→</a> <a id="2211" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2216" class="Symbol">→</a> <a id="2218" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type._`⊎_"></a><a id="2227" href="/PLFA-zh/TSPL/2018/Assignment4/#2227" class="InductiveConstructor Operator">_`⊎_</a>  <a id="2233" class="Symbol">:</a> <a id="2235" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2240" class="Symbol">→</a> <a id="2242" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2247" class="Symbol">→</a> <a id="2249" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type.`⊤"></a><a id="2258" href="/PLFA-zh/TSPL/2018/Assignment4/#2258" class="InductiveConstructor">`⊤</a>    <a id="2264" class="Symbol">:</a> <a id="2266" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type.`⊥"></a><a id="2275" href="/PLFA-zh/TSPL/2018/Assignment4/#2275" class="InductiveConstructor">`⊥</a>    <a id="2281" class="Symbol">:</a> <a id="2283" href="Assignment4.html#2110" class="Datatype">Type</a>
    <a id="More.Type.`List"></a><a id="2292" href="/PLFA-zh/TSPL/2018/Assignment4/#2292" class="InductiveConstructor">`List</a> <a id="2298" class="Symbol">:</a> <a id="2300" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2305" class="Symbol">→</a> <a id="2307" href="Assignment4.html#2110" class="Datatype">Type</a>
</pre>
<h3 id="contexts">Contexts</h3>

<pre class="Agda">  <a id="2337" class="Keyword">data</a> <a id="More.Context"></a><a id="2342" href="/PLFA-zh/TSPL/2018/Assignment4/#2342" class="Datatype">Context</a> <a id="2350" class="Symbol">:</a> <a id="2352" class="PrimitiveType">Set</a> <a id="2356" class="Keyword">where</a>
    <a id="More.Context.∅"></a><a id="2366" href="/PLFA-zh/TSPL/2018/Assignment4/#2366" class="InductiveConstructor">∅</a>   <a id="2370" class="Symbol">:</a> <a id="2372" href="Assignment4.html#2342" class="Datatype">Context</a>
    <a id="More.Context._,_"></a><a id="2384" href="/PLFA-zh/TSPL/2018/Assignment4/#2384" class="InductiveConstructor Operator">_,_</a> <a id="2388" class="Symbol">:</a> <a id="2390" href="Assignment4.html#2342" class="Datatype">Context</a> <a id="2398" class="Symbol">→</a> <a id="2400" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2405" class="Symbol">→</a> <a id="2407" href="Assignment4.html#2342" class="Datatype">Context</a>
</pre>
<h3 id="variables-and-the-lookup-judgment">Variables and the lookup judgment</h3>

<pre class="Agda">  <a id="2465" class="Keyword">data</a> <a id="More._∋_"></a><a id="2470" href="/PLFA-zh/TSPL/2018/Assignment4/#2470" class="Datatype Operator">_∋_</a> <a id="2474" class="Symbol">:</a> <a id="2476" href="Assignment4.html#2342" class="Datatype">Context</a> <a id="2484" class="Symbol">→</a> <a id="2486" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2491" class="Symbol">→</a> <a id="2493" class="PrimitiveType">Set</a> <a id="2497" class="Keyword">where</a>

    <a id="More._∋_.Z"></a><a id="2508" href="/PLFA-zh/TSPL/2018/Assignment4/#2508" class="InductiveConstructor">Z</a> <a id="2510" class="Symbol">:</a> <a id="2512" class="Symbol">∀</a> <a id="2514" class="Symbol">{</a><a id="2515" href="Assignment4.html#2515" class="Bound">Γ</a> <a id="2517" href="Assignment4.html#2517" class="Bound">A</a><a id="2518" class="Symbol">}</a>
        <a id="2528" class="Comment">---------</a>
      <a id="2544" class="Symbol">→</a> <a id="2546" href="/PLFA-zh/TSPL/2018/Assignment4/#2515" class="Bound">Γ</a> <a id="2548" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="2550" href="Assignment4.html#2517" class="Bound">A</a> <a id="2552" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="2554" href="Assignment4.html#2517" class="Bound">A</a>

    <a id="More._∋_.S_"></a><a id="2561" href="/PLFA-zh/TSPL/2018/Assignment4/#2561" class="InductiveConstructor Operator">S_</a> <a id="2564" class="Symbol">:</a> <a id="2566" class="Symbol">∀</a> <a id="2568" class="Symbol">{</a><a id="2569" href="Assignment4.html#2569" class="Bound">Γ</a> <a id="2571" href="Assignment4.html#2571" class="Bound">A</a> <a id="2573" href="Assignment4.html#2573" class="Bound">B</a><a id="2574" class="Symbol">}</a>
      <a id="2582" class="Symbol">→</a> <a id="2584" href="/PLFA-zh/TSPL/2018/Assignment4/#2569" class="Bound">Γ</a> <a id="2586" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="2588" href="Assignment4.html#2573" class="Bound">B</a>
        <a id="2598" class="Comment">---------</a>
      <a id="2614" class="Symbol">→</a> <a id="2616" href="/PLFA-zh/TSPL/2018/Assignment4/#2569" class="Bound">Γ</a> <a id="2618" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="2620" href="Assignment4.html#2571" class="Bound">A</a> <a id="2622" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="2624" href="Assignment4.html#2573" class="Bound">B</a>
</pre>
<h3 id="terms-and-the-typing-judgment">Terms and the typing judgment</h3>

<pre class="Agda">  <a id="2672" class="Keyword">data</a> <a id="More._⊢_"></a><a id="2677" href="/PLFA-zh/TSPL/2018/Assignment4/#2677" class="Datatype Operator">_⊢_</a> <a id="2681" class="Symbol">:</a> <a id="2683" href="Assignment4.html#2342" class="Datatype">Context</a> <a id="2691" class="Symbol">→</a> <a id="2693" href="Assignment4.html#2110" class="Datatype">Type</a> <a id="2698" class="Symbol">→</a> <a id="2700" class="PrimitiveType">Set</a> <a id="2704" class="Keyword">where</a>

    <a id="2715" class="Comment">-- variables</a>

    <a id="More._⊢_.`_"></a><a id="2733" href="/PLFA-zh/TSPL/2018/Assignment4/#2733" class="InductiveConstructor Operator">`_</a> <a id="2736" class="Symbol">:</a> <a id="2738" class="Symbol">∀</a> <a id="2740" class="Symbol">{</a><a id="2741" href="Assignment4.html#2741" class="Bound">Γ</a> <a id="2743" href="Assignment4.html#2743" class="Bound">A</a><a id="2744" class="Symbol">}</a>
      <a id="2752" class="Symbol">→</a> <a id="2754" href="/PLFA-zh/TSPL/2018/Assignment4/#2741" class="Bound">Γ</a> <a id="2756" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="2758" href="Assignment4.html#2743" class="Bound">A</a>
        <a id="2768" class="Comment">-----</a>
      <a id="2780" class="Symbol">→</a> <a id="2782" href="/PLFA-zh/TSPL/2018/Assignment4/#2741" class="Bound">Γ</a> <a id="2784" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2786" href="Assignment4.html#2743" class="Bound">A</a>

    <a id="2793" class="Comment">-- functions</a>

    <a id="More._⊢_.ƛ_"></a><a id="2811" href="/PLFA-zh/TSPL/2018/Assignment4/#2811" class="InductiveConstructor Operator">ƛ_</a>  <a id="2815" class="Symbol">:</a>  <a id="2818" class="Symbol">∀</a> <a id="2820" class="Symbol">{</a><a id="2821" href="Assignment4.html#2821" class="Bound">Γ</a> <a id="2823" href="Assignment4.html#2823" class="Bound">A</a> <a id="2825" href="Assignment4.html#2825" class="Bound">B</a><a id="2826" class="Symbol">}</a>
      <a id="2834" class="Symbol">→</a> <a id="2836" href="/PLFA-zh/TSPL/2018/Assignment4/#2821" class="Bound">Γ</a> <a id="2838" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="2840" href="Assignment4.html#2823" class="Bound">A</a> <a id="2842" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2844" href="Assignment4.html#2825" class="Bound">B</a>
        <a id="2854" class="Comment">---------</a>
      <a id="2870" class="Symbol">→</a> <a id="2872" href="/PLFA-zh/TSPL/2018/Assignment4/#2821" class="Bound">Γ</a> <a id="2874" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2876" href="Assignment4.html#2823" class="Bound">A</a> <a id="2878" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="2880" href="Assignment4.html#2825" class="Bound">B</a>

    <a id="More._⊢_._·_"></a><a id="2887" href="/PLFA-zh/TSPL/2018/Assignment4/#2887" class="InductiveConstructor Operator">_·_</a> <a id="2891" class="Symbol">:</a> <a id="2893" class="Symbol">∀</a> <a id="2895" class="Symbol">{</a><a id="2896" href="Assignment4.html#2896" class="Bound">Γ</a> <a id="2898" href="Assignment4.html#2898" class="Bound">A</a> <a id="2900" href="Assignment4.html#2900" class="Bound">B</a><a id="2901" class="Symbol">}</a>
      <a id="2909" class="Symbol">→</a> <a id="2911" href="/PLFA-zh/TSPL/2018/Assignment4/#2896" class="Bound">Γ</a> <a id="2913" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2915" href="Assignment4.html#2898" class="Bound">A</a> <a id="2917" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="2919" href="Assignment4.html#2900" class="Bound">B</a>
      <a id="2927" class="Symbol">→</a> <a id="2929" href="/PLFA-zh/TSPL/2018/Assignment4/#2896" class="Bound">Γ</a> <a id="2931" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2933" href="Assignment4.html#2898" class="Bound">A</a>
        <a id="2943" class="Comment">---------</a>
      <a id="2959" class="Symbol">→</a> <a id="2961" href="/PLFA-zh/TSPL/2018/Assignment4/#2896" class="Bound">Γ</a> <a id="2963" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="2965" href="Assignment4.html#2900" class="Bound">B</a>

    <a id="2972" class="Comment">-- naturals</a>

    <a id="More._⊢_.`zero"></a><a id="2989" href="/PLFA-zh/TSPL/2018/Assignment4/#2989" class="InductiveConstructor">`zero</a> <a id="2995" class="Symbol">:</a> <a id="2997" class="Symbol">∀</a> <a id="2999" class="Symbol">{</a><a id="3000" href="Assignment4.html#3000" class="Bound">Γ</a><a id="3001" class="Symbol">}</a>
        <a id="3011" class="Comment">------</a>
      <a id="3024" class="Symbol">→</a> <a id="3026" href="/PLFA-zh/TSPL/2018/Assignment4/#3000" class="Bound">Γ</a> <a id="3028" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3030" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a>

    <a id="More._⊢_.`suc_"></a><a id="3038" href="/PLFA-zh/TSPL/2018/Assignment4/#3038" class="InductiveConstructor Operator">`suc_</a> <a id="3044" class="Symbol">:</a> <a id="3046" class="Symbol">∀</a> <a id="3048" class="Symbol">{</a><a id="3049" href="Assignment4.html#3049" class="Bound">Γ</a><a id="3050" class="Symbol">}</a>
      <a id="3058" class="Symbol">→</a> <a id="3060" href="/PLFA-zh/TSPL/2018/Assignment4/#3049" class="Bound">Γ</a> <a id="3062" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3064" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a>
        <a id="3075" class="Comment">------</a>
      <a id="3088" class="Symbol">→</a> <a id="3090" href="/PLFA-zh/TSPL/2018/Assignment4/#3049" class="Bound">Γ</a> <a id="3092" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3094" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a>

    <a id="More._⊢_.case"></a><a id="3102" href="/PLFA-zh/TSPL/2018/Assignment4/#3102" class="InductiveConstructor">case</a> <a id="3107" class="Symbol">:</a> <a id="3109" class="Symbol">∀</a> <a id="3111" class="Symbol">{</a><a id="3112" href="Assignment4.html#3112" class="Bound">Γ</a> <a id="3114" href="Assignment4.html#3114" class="Bound">A</a><a id="3115" class="Symbol">}</a>
      <a id="3123" class="Symbol">→</a> <a id="3125" href="/PLFA-zh/TSPL/2018/Assignment4/#3112" class="Bound">Γ</a> <a id="3127" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3129" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a>
      <a id="3138" class="Symbol">→</a> <a id="3140" href="/PLFA-zh/TSPL/2018/Assignment4/#3112" class="Bound">Γ</a> <a id="3142" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3144" href="Assignment4.html#3114" class="Bound">A</a>
      <a id="3152" class="Symbol">→</a> <a id="3154" href="/PLFA-zh/TSPL/2018/Assignment4/#3112" class="Bound">Γ</a> <a id="3156" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="3158" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a> <a id="3161" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3163" href="Assignment4.html#3114" class="Bound">A</a>
        <a id="3173" class="Comment">-----</a>
      <a id="3185" class="Symbol">→</a> <a id="3187" href="/PLFA-zh/TSPL/2018/Assignment4/#3112" class="Bound">Γ</a> <a id="3189" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3191" href="Assignment4.html#3114" class="Bound">A</a>

    <a id="3198" class="Comment">-- fixpoint</a>

    <a id="More._⊢_.μ_"></a><a id="3215" href="/PLFA-zh/TSPL/2018/Assignment4/#3215" class="InductiveConstructor Operator">μ_</a> <a id="3218" class="Symbol">:</a> <a id="3220" class="Symbol">∀</a> <a id="3222" class="Symbol">{</a><a id="3223" href="Assignment4.html#3223" class="Bound">Γ</a> <a id="3225" href="Assignment4.html#3225" class="Bound">A</a><a id="3226" class="Symbol">}</a>
      <a id="3234" class="Symbol">→</a> <a id="3236" href="/PLFA-zh/TSPL/2018/Assignment4/#3223" class="Bound">Γ</a> <a id="3238" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="3240" href="Assignment4.html#3225" class="Bound">A</a> <a id="3242" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3244" href="Assignment4.html#3225" class="Bound">A</a>
        <a id="3254" class="Comment">----------</a>
      <a id="3271" class="Symbol">→</a> <a id="3273" href="/PLFA-zh/TSPL/2018/Assignment4/#3223" class="Bound">Γ</a> <a id="3275" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3277" href="Assignment4.html#3225" class="Bound">A</a>

    <a id="3284" class="Comment">-- primitive numbers</a>

    <a id="More._⊢_.con"></a><a id="3310" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="3314" class="Symbol">:</a> <a id="3316" class="Symbol">∀</a> <a id="3318" class="Symbol">{</a><a id="3319" href="Assignment4.html#3319" class="Bound">Γ</a><a id="3320" class="Symbol">}</a>
      <a id="3328" class="Symbol">→</a> <a id="3330" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
        <a id="3340" class="Comment">-------</a>
      <a id="3354" class="Symbol">→</a> <a id="3356" href="/PLFA-zh/TSPL/2018/Assignment4/#3319" class="Bound">Γ</a> <a id="3358" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3360" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>

    <a id="More._⊢_._`*_"></a><a id="3369" href="/PLFA-zh/TSPL/2018/Assignment4/#3369" class="InductiveConstructor Operator">_`*_</a> <a id="3374" class="Symbol">:</a> <a id="3376" class="Symbol">∀</a> <a id="3378" class="Symbol">{</a><a id="3379" href="Assignment4.html#3379" class="Bound">Γ</a><a id="3380" class="Symbol">}</a>
      <a id="3388" class="Symbol">→</a> <a id="3390" href="/PLFA-zh/TSPL/2018/Assignment4/#3379" class="Bound">Γ</a> <a id="3392" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3394" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>
      <a id="3404" class="Symbol">→</a> <a id="3406" href="/PLFA-zh/TSPL/2018/Assignment4/#3379" class="Bound">Γ</a> <a id="3408" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3410" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>
        <a id="3422" class="Comment">-------</a>
      <a id="3436" class="Symbol">→</a> <a id="3438" href="/PLFA-zh/TSPL/2018/Assignment4/#3379" class="Bound">Γ</a> <a id="3440" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3442" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>

    <a id="3451" class="Comment">-- let</a>

    <a id="More._⊢_.`let"></a><a id="3463" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="3468" class="Symbol">:</a> <a id="3470" class="Symbol">∀</a> <a id="3472" class="Symbol">{</a><a id="3473" href="Assignment4.html#3473" class="Bound">Γ</a> <a id="3475" href="Assignment4.html#3475" class="Bound">A</a> <a id="3477" href="Assignment4.html#3477" class="Bound">B</a><a id="3478" class="Symbol">}</a>
      <a id="3486" class="Symbol">→</a> <a id="3488" href="/PLFA-zh/TSPL/2018/Assignment4/#3473" class="Bound">Γ</a> <a id="3490" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3492" href="Assignment4.html#3475" class="Bound">A</a>
      <a id="3500" class="Symbol">→</a> <a id="3502" href="/PLFA-zh/TSPL/2018/Assignment4/#3473" class="Bound">Γ</a> <a id="3504" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="3506" href="Assignment4.html#3475" class="Bound">A</a> <a id="3508" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3510" href="Assignment4.html#3477" class="Bound">B</a>
        <a id="3520" class="Comment">----------</a>
      <a id="3537" class="Symbol">→</a> <a id="3539" href="/PLFA-zh/TSPL/2018/Assignment4/#3473" class="Bound">Γ</a> <a id="3541" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3543" href="Assignment4.html#3477" class="Bound">B</a>

    <a id="3550" class="Comment">-- products</a>

    <a id="More._⊢_.`⟨_,_⟩"></a><a id="3567" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨_,_⟩</a> <a id="3574" class="Symbol">:</a> <a id="3576" class="Symbol">∀</a> <a id="3578" class="Symbol">{</a><a id="3579" href="Assignment4.html#3579" class="Bound">Γ</a> <a id="3581" href="Assignment4.html#3581" class="Bound">A</a> <a id="3583" href="Assignment4.html#3583" class="Bound">B</a><a id="3584" class="Symbol">}</a>
      <a id="3592" class="Symbol">→</a> <a id="3594" href="/PLFA-zh/TSPL/2018/Assignment4/#3579" class="Bound">Γ</a> <a id="3596" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3598" href="Assignment4.html#3581" class="Bound">A</a>
      <a id="3606" class="Symbol">→</a> <a id="3608" href="/PLFA-zh/TSPL/2018/Assignment4/#3579" class="Bound">Γ</a> <a id="3610" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3612" href="Assignment4.html#3583" class="Bound">B</a>
        <a id="3622" class="Comment">-----------</a>
      <a id="3640" class="Symbol">→</a> <a id="3642" href="/PLFA-zh/TSPL/2018/Assignment4/#3579" class="Bound">Γ</a> <a id="3644" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3646" href="Assignment4.html#3581" class="Bound">A</a> <a id="3648" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="3651" href="Assignment4.html#3583" class="Bound">B</a>

    <a id="More._⊢_.`proj₁"></a><a id="3658" href="/PLFA-zh/TSPL/2018/Assignment4/#3658" class="InductiveConstructor">`proj₁</a> <a id="3665" class="Symbol">:</a> <a id="3667" class="Symbol">∀</a> <a id="3669" class="Symbol">{</a><a id="3670" href="Assignment4.html#3670" class="Bound">Γ</a> <a id="3672" href="Assignment4.html#3672" class="Bound">A</a> <a id="3674" href="Assignment4.html#3674" class="Bound">B</a><a id="3675" class="Symbol">}</a>
      <a id="3683" class="Symbol">→</a> <a id="3685" href="/PLFA-zh/TSPL/2018/Assignment4/#3670" class="Bound">Γ</a> <a id="3687" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3689" href="Assignment4.html#3672" class="Bound">A</a> <a id="3691" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="3694" href="Assignment4.html#3674" class="Bound">B</a>
        <a id="3704" class="Comment">-----------</a>
      <a id="3722" class="Symbol">→</a> <a id="3724" href="/PLFA-zh/TSPL/2018/Assignment4/#3670" class="Bound">Γ</a> <a id="3726" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3728" href="Assignment4.html#3672" class="Bound">A</a>

    <a id="More._⊢_.`proj₂"></a><a id="3735" href="/PLFA-zh/TSPL/2018/Assignment4/#3735" class="InductiveConstructor">`proj₂</a> <a id="3742" class="Symbol">:</a> <a id="3744" class="Symbol">∀</a> <a id="3746" class="Symbol">{</a><a id="3747" href="Assignment4.html#3747" class="Bound">Γ</a> <a id="3749" href="Assignment4.html#3749" class="Bound">A</a> <a id="3751" href="Assignment4.html#3751" class="Bound">B</a><a id="3752" class="Symbol">}</a>
      <a id="3760" class="Symbol">→</a> <a id="3762" href="/PLFA-zh/TSPL/2018/Assignment4/#3747" class="Bound">Γ</a> <a id="3764" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3766" href="Assignment4.html#3749" class="Bound">A</a> <a id="3768" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="3771" href="Assignment4.html#3751" class="Bound">B</a>
        <a id="3781" class="Comment">-----------</a>
      <a id="3799" class="Symbol">→</a> <a id="3801" href="/PLFA-zh/TSPL/2018/Assignment4/#3747" class="Bound">Γ</a> <a id="3803" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3805" href="Assignment4.html#3751" class="Bound">B</a>

    <a id="3812" class="Comment">-- alternative formulation of products</a>

    <a id="More._⊢_.case×"></a><a id="3856" href="/PLFA-zh/TSPL/2018/Assignment4/#3856" class="InductiveConstructor">case×</a> <a id="3862" class="Symbol">:</a> <a id="3864" class="Symbol">∀</a> <a id="3866" class="Symbol">{</a><a id="3867" href="Assignment4.html#3867" class="Bound">Γ</a> <a id="3869" href="Assignment4.html#3869" class="Bound">A</a> <a id="3871" href="Assignment4.html#3871" class="Bound">B</a> <a id="3873" href="Assignment4.html#3873" class="Bound">C</a><a id="3874" class="Symbol">}</a>
      <a id="3882" class="Symbol">→</a> <a id="3884" href="/PLFA-zh/TSPL/2018/Assignment4/#3867" class="Bound">Γ</a> <a id="3886" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3888" href="Assignment4.html#3869" class="Bound">A</a> <a id="3890" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="3893" href="Assignment4.html#3871" class="Bound">B</a>
      <a id="3901" class="Symbol">→</a> <a id="3903" href="/PLFA-zh/TSPL/2018/Assignment4/#3867" class="Bound">Γ</a> <a id="3905" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="3907" href="Assignment4.html#3869" class="Bound">A</a> <a id="3909" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="3911" href="Assignment4.html#3871" class="Bound">B</a> <a id="3913" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3915" href="Assignment4.html#3873" class="Bound">C</a>
        <a id="3925" class="Comment">--------------</a>
      <a id="3946" class="Symbol">→</a> <a id="3948" href="/PLFA-zh/TSPL/2018/Assignment4/#3867" class="Bound">Γ</a> <a id="3950" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="3952" href="Assignment4.html#3873" class="Bound">C</a>

</pre>
<h3 id="abbreviating-de-bruijn-indices">Abbreviating de Bruijn indices</h3>

<pre class="Agda">  <a id="More.lookup"></a><a id="4002" href="/PLFA-zh/TSPL/2018/Assignment4/#4002" class="Function">lookup</a> <a id="4009" class="Symbol">:</a> <a id="4011" href="Assignment4.html#2342" class="Datatype">Context</a> <a id="4019" class="Symbol">→</a> <a id="4021" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="4023" class="Symbol">→</a> <a id="4025" href="Assignment4.html#2110" class="Datatype">Type</a>
  <a id="4032" href="/PLFA-zh/TSPL/2018/Assignment4/#4002" class="Function">lookup</a> <a id="4039" class="Symbol">(</a><a id="4040" href="Assignment4.html#4040" class="Bound">Γ</a> <a id="4042" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4044" href="Assignment4.html#4044" class="Bound">A</a><a id="4045" class="Symbol">)</a> <a id="4047" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>     <a id="4056" class="Symbol">=</a>  <a id="4059" href="Assignment4.html#4044" class="Bound">A</a>
  <a id="4063" href="/PLFA-zh/TSPL/2018/Assignment4/#4002" class="Function">lookup</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Assignment4.html#4071" class="Bound">Γ</a> <a id="4073" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4075" class="Symbol">_)</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="4083" href="Assignment4.html#4083" class="Bound">n</a><a id="4084" class="Symbol">)</a>  <a id="4087" class="Symbol">=</a>  <a id="4090" href="Assignment4.html#4002" class="Function">lookup</a> <a id="4097" href="Assignment4.html#4071" class="Bound">Γ</a> <a id="4099" href="Assignment4.html#4083" class="Bound">n</a>
  <a id="4103" href="/PLFA-zh/TSPL/2018/Assignment4/#4002" class="Function">lookup</a> <a id="4110" href="Assignment4.html#2366" class="InductiveConstructor">∅</a>       <a id="4118" class="Symbol">_</a>        <a id="4127" class="Symbol">=</a>  <a id="4130" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="4137" href="Assignment4.html#4168" class="Postulate">impossible</a>
    <a id="4152" class="Keyword">where</a> <a id="4158" class="Keyword">postulate</a> <a id="4168" href="/PLFA-zh/TSPL/2018/Assignment4/#4168" class="Postulate">impossible</a> <a id="4179" class="Symbol">:</a> <a id="4181" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a>

  <a id="More.count"></a><a id="4186" href="/PLFA-zh/TSPL/2018/Assignment4/#4186" class="Function">count</a> <a id="4192" class="Symbol">:</a> <a id="4194" class="Symbol">∀</a> <a id="4196" class="Symbol">{</a><a id="4197" href="Assignment4.html#4197" class="Bound">Γ</a><a id="4198" class="Symbol">}</a> <a id="4200" class="Symbol">→</a> <a id="4202" class="Symbol">(</a><a id="4203" href="Assignment4.html#4203" class="Bound">n</a> <a id="4205" class="Symbol">:</a> <a id="4207" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="4208" class="Symbol">)</a> <a id="4210" class="Symbol">→</a> <a id="4212" href="Assignment4.html#4197" class="Bound">Γ</a> <a id="4214" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4216" href="Assignment4.html#4002" class="Function">lookup</a> <a id="4223" href="Assignment4.html#4197" class="Bound">Γ</a> <a id="4225" href="Assignment4.html#4203" class="Bound">n</a>
  <a id="4229" href="/PLFA-zh/TSPL/2018/Assignment4/#4186" class="Function">count</a> <a id="4235" class="Symbol">{</a><a id="4236" href="Assignment4.html#4236" class="Bound">Γ</a> <a id="4238" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4240" class="Symbol">_}</a> <a id="4243" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>     <a id="4252" class="Symbol">=</a>  <a id="4255" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>
  <a id="4259" href="/PLFA-zh/TSPL/2018/Assignment4/#4186" class="Function">count</a> <a id="4265" class="Symbol">{</a><a id="4266" href="Assignment4.html#4266" class="Bound">Γ</a> <a id="4268" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4270" class="Symbol">_}</a> <a id="4273" class="Symbol">(</a><a id="4274" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="4278" href="Assignment4.html#4278" class="Bound">n</a><a id="4279" class="Symbol">)</a>  <a id="4282" class="Symbol">=</a>  <a id="4285" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="4287" class="Symbol">(</a><a id="4288" href="Assignment4.html#4186" class="Function">count</a> <a id="4294" href="Assignment4.html#4278" class="Bound">n</a><a id="4295" class="Symbol">)</a>
  <a id="4299" href="/PLFA-zh/TSPL/2018/Assignment4/#4186" class="Function">count</a> <a id="4305" class="Symbol">{</a><a id="4306" href="Assignment4.html#2366" class="InductiveConstructor">∅</a><a id="4307" class="Symbol">}</a>     <a id="4313" class="Symbol">_</a>        <a id="4322" class="Symbol">=</a>  <a id="4325" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="4332" href="Assignment4.html#4363" class="Postulate">impossible</a>
    <a id="4347" class="Keyword">where</a> <a id="4353" class="Keyword">postulate</a> <a id="4363" href="/PLFA-zh/TSPL/2018/Assignment4/#4363" class="Postulate">impossible</a> <a id="4374" class="Symbol">:</a> <a id="4376" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a>

  <a id="More.#_"></a><a id="4381" href="/PLFA-zh/TSPL/2018/Assignment4/#4381" class="Function Operator">#_</a> <a id="4384" class="Symbol">:</a> <a id="4386" class="Symbol">∀</a> <a id="4388" class="Symbol">{</a><a id="4389" href="Assignment4.html#4389" class="Bound">Γ</a><a id="4390" class="Symbol">}</a> <a id="4392" class="Symbol">→</a> <a id="4394" class="Symbol">(</a><a id="4395" href="Assignment4.html#4395" class="Bound">n</a> <a id="4397" class="Symbol">:</a> <a id="4399" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="4400" class="Symbol">)</a> <a id="4402" class="Symbol">→</a> <a id="4404" href="Assignment4.html#4389" class="Bound">Γ</a> <a id="4406" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="4408" href="Assignment4.html#4002" class="Function">lookup</a> <a id="4415" href="Assignment4.html#4389" class="Bound">Γ</a> <a id="4417" href="Assignment4.html#4395" class="Bound">n</a>
  <a id="4421" href="/PLFA-zh/TSPL/2018/Assignment4/#4381" class="Function Operator">#</a> <a id="4423" href="Assignment4.html#4423" class="Bound">n</a>  <a id="4426" class="Symbol">=</a>  <a id="4429" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="4431" href="Assignment4.html#4186" class="Function">count</a> <a id="4437" href="Assignment4.html#4423" class="Bound">n</a>
</pre>
<h2 id="renaming">Renaming</h2>

<pre class="Agda">  <a id="More.ext"></a><a id="4463" href="/PLFA-zh/TSPL/2018/Assignment4/#4463" class="Function">ext</a> <a id="4467" class="Symbol">:</a> <a id="4469" class="Symbol">∀</a> <a id="4471" class="Symbol">{</a><a id="4472" href="Assignment4.html#4472" class="Bound">Γ</a> <a id="4474" href="Assignment4.html#4474" class="Bound">Δ</a><a id="4475" class="Symbol">}</a> <a id="4477" class="Symbol">→</a> <a id="4479" class="Symbol">(∀</a> <a id="4482" class="Symbol">{</a><a id="4483" href="Assignment4.html#4483" class="Bound">A</a><a id="4484" class="Symbol">}</a> <a id="4486" class="Symbol">→</a> <a id="4488" href="Assignment4.html#4472" class="Bound">Γ</a> <a id="4490" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4492" href="Assignment4.html#4483" class="Bound">A</a> <a id="4494" class="Symbol">→</a> <a id="4496" href="Assignment4.html#4474" class="Bound">Δ</a> <a id="4498" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4500" href="Assignment4.html#4483" class="Bound">A</a><a id="4501" class="Symbol">)</a> <a id="4503" class="Symbol">→</a> <a id="4505" class="Symbol">(∀</a> <a id="4508" class="Symbol">{</a><a id="4509" href="Assignment4.html#4509" class="Bound">A</a> <a id="4511" href="Assignment4.html#4511" class="Bound">B</a><a id="4512" class="Symbol">}</a> <a id="4514" class="Symbol">→</a> <a id="4516" href="Assignment4.html#4472" class="Bound">Γ</a> <a id="4518" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4520" href="Assignment4.html#4509" class="Bound">A</a> <a id="4522" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4524" href="Assignment4.html#4511" class="Bound">B</a> <a id="4526" class="Symbol">→</a> <a id="4528" href="Assignment4.html#4474" class="Bound">Δ</a> <a id="4530" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="4532" href="Assignment4.html#4509" class="Bound">A</a> <a id="4534" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4536" href="Assignment4.html#4511" class="Bound">B</a><a id="4537" class="Symbol">)</a>
  <a id="4541" href="/PLFA-zh/TSPL/2018/Assignment4/#4463" class="Function">ext</a> <a id="4545" href="Assignment4.html#4545" class="Bound">ρ</a> <a id="4547" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>      <a id="4554" class="Symbol">=</a>  <a id="4557" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>
  <a id="4561" href="/PLFA-zh/TSPL/2018/Assignment4/#4463" class="Function">ext</a> <a id="4565" href="Assignment4.html#4565" class="Bound">ρ</a> <a id="4567" class="Symbol">(</a><a id="4568" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="4570" href="Assignment4.html#4570" class="Bound">x</a><a id="4571" class="Symbol">)</a>  <a id="4574" class="Symbol">=</a>  <a id="4577" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="4579" class="Symbol">(</a><a id="4580" href="Assignment4.html#4565" class="Bound">ρ</a> <a id="4582" href="Assignment4.html#4570" class="Bound">x</a><a id="4583" class="Symbol">)</a>

  <a id="More.rename"></a><a id="4588" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4595" class="Symbol">:</a> <a id="4597" class="Symbol">∀</a> <a id="4599" class="Symbol">{</a><a id="4600" href="Assignment4.html#4600" class="Bound">Γ</a> <a id="4602" href="Assignment4.html#4602" class="Bound">Δ</a><a id="4603" class="Symbol">}</a> <a id="4605" class="Symbol">→</a> <a id="4607" class="Symbol">(∀</a> <a id="4610" class="Symbol">{</a><a id="4611" href="Assignment4.html#4611" class="Bound">A</a><a id="4612" class="Symbol">}</a> <a id="4614" class="Symbol">→</a> <a id="4616" href="Assignment4.html#4600" class="Bound">Γ</a> <a id="4618" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4620" href="Assignment4.html#4611" class="Bound">A</a> <a id="4622" class="Symbol">→</a> <a id="4624" href="Assignment4.html#4602" class="Bound">Δ</a> <a id="4626" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="4628" href="Assignment4.html#4611" class="Bound">A</a><a id="4629" class="Symbol">)</a> <a id="4631" class="Symbol">→</a> <a id="4633" class="Symbol">(∀</a> <a id="4636" class="Symbol">{</a><a id="4637" href="Assignment4.html#4637" class="Bound">A</a><a id="4638" class="Symbol">}</a> <a id="4640" class="Symbol">→</a> <a id="4642" href="Assignment4.html#4600" class="Bound">Γ</a> <a id="4644" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="4646" href="Assignment4.html#4637" class="Bound">A</a> <a id="4648" class="Symbol">→</a> <a id="4650" href="Assignment4.html#4602" class="Bound">Δ</a> <a id="4652" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="4654" href="Assignment4.html#4637" class="Bound">A</a><a id="4655" class="Symbol">)</a>
  <a id="4659" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4666" href="Assignment4.html#4666" class="Bound">ρ</a> <a id="4668" class="Symbol">(</a><a id="4669" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="4671" href="Assignment4.html#4671" class="Bound">x</a><a id="4672" class="Symbol">)</a>          <a id="4683" class="Symbol">=</a>  <a id="4686" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="4688" class="Symbol">(</a><a id="4689" href="Assignment4.html#4666" class="Bound">ρ</a> <a id="4691" href="Assignment4.html#4671" class="Bound">x</a><a id="4692" class="Symbol">)</a>
  <a id="4696" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4703" href="Assignment4.html#4703" class="Bound">ρ</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="4708" href="Assignment4.html#4708" class="Bound">N</a><a id="4709" class="Symbol">)</a>          <a id="4720" class="Symbol">=</a>  <a id="4723" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Assignment4.html#4588" class="Function">rename</a> <a id="4733" class="Symbol">(</a><a id="4734" href="Assignment4.html#4463" class="Function">ext</a> <a id="4738" href="Assignment4.html#4703" class="Bound">ρ</a><a id="4739" class="Symbol">)</a> <a id="4741" href="Assignment4.html#4708" class="Bound">N</a><a id="4742" class="Symbol">)</a>
  <a id="4746" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4753" href="Assignment4.html#4753" class="Bound">ρ</a> <a id="4755" class="Symbol">(</a><a id="4756" href="Assignment4.html#4756" class="Bound">L</a> <a id="4758" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="4760" href="Assignment4.html#4760" class="Bound">M</a><a id="4761" class="Symbol">)</a>        <a id="4770" class="Symbol">=</a>  <a id="4773" class="Symbol">(</a><a id="4774" href="Assignment4.html#4588" class="Function">rename</a> <a id="4781" href="Assignment4.html#4753" class="Bound">ρ</a> <a id="4783" href="Assignment4.html#4756" class="Bound">L</a><a id="4784" class="Symbol">)</a> <a id="4786" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="4788" class="Symbol">(</a><a id="4789" href="Assignment4.html#4588" class="Function">rename</a> <a id="4796" href="Assignment4.html#4753" class="Bound">ρ</a> <a id="4798" href="Assignment4.html#4760" class="Bound">M</a><a id="4799" class="Symbol">)</a>
  <a id="4803" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4810" href="Assignment4.html#4810" class="Bound">ρ</a> <a id="4812" class="Symbol">(</a><a id="4813" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a><a id="4818" class="Symbol">)</a>        <a id="4827" class="Symbol">=</a>  <a id="4830" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a>
  <a id="4838" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4845" href="Assignment4.html#4845" class="Bound">ρ</a> <a id="4847" class="Symbol">(</a><a id="4848" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="4853" href="Assignment4.html#4853" class="Bound">M</a><a id="4854" class="Symbol">)</a>       <a id="4862" class="Symbol">=</a>  <a id="4865" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="4870" class="Symbol">(</a><a id="4871" href="Assignment4.html#4588" class="Function">rename</a> <a id="4878" href="Assignment4.html#4845" class="Bound">ρ</a> <a id="4880" href="Assignment4.html#4853" class="Bound">M</a><a id="4881" class="Symbol">)</a>
  <a id="4885" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4892" href="Assignment4.html#4892" class="Bound">ρ</a> <a id="4894" class="Symbol">(</a><a id="4895" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="4900" href="Assignment4.html#4900" class="Bound">L</a> <a id="4902" href="Assignment4.html#4902" class="Bound">M</a> <a id="4904" href="Assignment4.html#4904" class="Bound">N</a><a id="4905" class="Symbol">)</a>   <a id="4909" class="Symbol">=</a>  <a id="4912" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="4917" class="Symbol">(</a><a id="4918" href="Assignment4.html#4588" class="Function">rename</a> <a id="4925" href="Assignment4.html#4892" class="Bound">ρ</a> <a id="4927" href="Assignment4.html#4900" class="Bound">L</a><a id="4928" class="Symbol">)</a> <a id="4930" class="Symbol">(</a><a id="4931" href="Assignment4.html#4588" class="Function">rename</a> <a id="4938" href="Assignment4.html#4892" class="Bound">ρ</a> <a id="4940" href="Assignment4.html#4902" class="Bound">M</a><a id="4941" class="Symbol">)</a> <a id="4943" class="Symbol">(</a><a id="4944" href="Assignment4.html#4588" class="Function">rename</a> <a id="4951" class="Symbol">(</a><a id="4952" href="Assignment4.html#4463" class="Function">ext</a> <a id="4956" href="Assignment4.html#4892" class="Bound">ρ</a><a id="4957" class="Symbol">)</a> <a id="4959" href="Assignment4.html#4904" class="Bound">N</a><a id="4960" class="Symbol">)</a>
  <a id="4964" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="4971" href="Assignment4.html#4971" class="Bound">ρ</a> <a id="4973" class="Symbol">(</a><a id="4974" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="4976" href="Assignment4.html#4976" class="Bound">N</a><a id="4977" class="Symbol">)</a>          <a id="4988" class="Symbol">=</a>  <a id="4991" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="4993" class="Symbol">(</a><a id="4994" href="Assignment4.html#4588" class="Function">rename</a> <a id="5001" class="Symbol">(</a><a id="5002" href="Assignment4.html#4463" class="Function">ext</a> <a id="5006" href="Assignment4.html#4971" class="Bound">ρ</a><a id="5007" class="Symbol">)</a> <a id="5009" href="Assignment4.html#4976" class="Bound">N</a><a id="5010" class="Symbol">)</a>
  <a id="5014" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5021" href="Assignment4.html#5021" class="Bound">ρ</a> <a id="5023" class="Symbol">(</a><a id="5024" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="5028" href="Assignment4.html#5028" class="Bound">n</a><a id="5029" class="Symbol">)</a>        <a id="5038" class="Symbol">=</a>  <a id="5041" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="5045" href="Assignment4.html#5028" class="Bound">n</a>
  <a id="5049" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5056" href="Assignment4.html#5056" class="Bound">ρ</a> <a id="5058" class="Symbol">(</a><a id="5059" href="Assignment4.html#5059" class="Bound">M</a> <a id="5061" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="5064" href="Assignment4.html#5064" class="Bound">N</a><a id="5065" class="Symbol">)</a>       <a id="5073" class="Symbol">=</a>  <a id="5076" href="Assignment4.html#4588" class="Function">rename</a> <a id="5083" href="Assignment4.html#5056" class="Bound">ρ</a> <a id="5085" href="Assignment4.html#5059" class="Bound">M</a> <a id="5087" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="5090" href="Assignment4.html#4588" class="Function">rename</a> <a id="5097" href="Assignment4.html#5056" class="Bound">ρ</a> <a id="5099" href="Assignment4.html#5064" class="Bound">N</a>
  <a id="5103" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5110" href="Assignment4.html#5110" class="Bound">ρ</a> <a id="5112" class="Symbol">(</a><a id="5113" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="5118" href="Assignment4.html#5118" class="Bound">M</a> <a id="5120" href="Assignment4.html#5120" class="Bound">N</a><a id="5121" class="Symbol">)</a>     <a id="5127" class="Symbol">=</a>  <a id="5130" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="5135" class="Symbol">(</a><a id="5136" href="Assignment4.html#4588" class="Function">rename</a> <a id="5143" href="Assignment4.html#5110" class="Bound">ρ</a> <a id="5145" href="Assignment4.html#5118" class="Bound">M</a><a id="5146" class="Symbol">)</a> <a id="5148" class="Symbol">(</a><a id="5149" href="Assignment4.html#4588" class="Function">rename</a> <a id="5156" class="Symbol">(</a><a id="5157" href="Assignment4.html#4463" class="Function">ext</a> <a id="5161" href="Assignment4.html#5110" class="Bound">ρ</a><a id="5162" class="Symbol">)</a> <a id="5164" href="Assignment4.html#5120" class="Bound">N</a><a id="5165" class="Symbol">)</a>
  <a id="5169" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5176" href="Assignment4.html#5176" class="Bound">ρ</a> <a id="5178" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="5181" href="Assignment4.html#5181" class="Bound">M</a> <a id="5183" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="5185" href="Assignment4.html#5185" class="Bound">N</a> <a id="5187" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>     <a id="5193" class="Symbol">=</a>  <a id="5196" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="5199" href="Assignment4.html#4588" class="Function">rename</a> <a id="5206" href="Assignment4.html#5176" class="Bound">ρ</a> <a id="5208" href="Assignment4.html#5181" class="Bound">M</a> <a id="5210" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="5212" href="Assignment4.html#4588" class="Function">rename</a> <a id="5219" href="Assignment4.html#5176" class="Bound">ρ</a> <a id="5221" href="Assignment4.html#5185" class="Bound">N</a> <a id="5223" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
  <a id="5227" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5234" href="Assignment4.html#5234" class="Bound">ρ</a> <a id="5236" class="Symbol">(</a><a id="5237" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="5244" href="Assignment4.html#5244" class="Bound">L</a><a id="5245" class="Symbol">)</a>     <a id="5251" class="Symbol">=</a>  <a id="5254" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="5261" class="Symbol">(</a><a id="5262" href="Assignment4.html#4588" class="Function">rename</a> <a id="5269" href="Assignment4.html#5234" class="Bound">ρ</a> <a id="5271" href="Assignment4.html#5244" class="Bound">L</a><a id="5272" class="Symbol">)</a>
  <a id="5276" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5283" href="Assignment4.html#5283" class="Bound">ρ</a> <a id="5285" class="Symbol">(</a><a id="5286" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="5293" href="Assignment4.html#5293" class="Bound">L</a><a id="5294" class="Symbol">)</a>     <a id="5300" class="Symbol">=</a>  <a id="5303" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="5310" class="Symbol">(</a><a id="5311" href="Assignment4.html#4588" class="Function">rename</a> <a id="5318" href="Assignment4.html#5283" class="Bound">ρ</a> <a id="5320" href="Assignment4.html#5293" class="Bound">L</a><a id="5321" class="Symbol">)</a>
  <a id="5325" href="/PLFA-zh/TSPL/2018/Assignment4/#4588" class="Function">rename</a> <a id="5332" href="Assignment4.html#5332" class="Bound">ρ</a> <a id="5334" class="Symbol">(</a><a id="5335" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="5341" href="Assignment4.html#5341" class="Bound">L</a> <a id="5343" href="Assignment4.html#5343" class="Bound">M</a><a id="5344" class="Symbol">)</a>    <a id="5349" class="Symbol">=</a>  <a id="5352" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="5358" class="Symbol">(</a><a id="5359" href="Assignment4.html#4588" class="Function">rename</a> <a id="5366" href="Assignment4.html#5332" class="Bound">ρ</a> <a id="5368" href="Assignment4.html#5341" class="Bound">L</a><a id="5369" class="Symbol">)</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Assignment4.html#4588" class="Function">rename</a> <a id="5379" class="Symbol">(</a><a id="5380" href="Assignment4.html#4463" class="Function">ext</a> <a id="5384" class="Symbol">(</a><a id="5385" href="Assignment4.html#4463" class="Function">ext</a> <a id="5389" href="Assignment4.html#5332" class="Bound">ρ</a><a id="5390" class="Symbol">))</a> <a id="5393" href="Assignment4.html#5343" class="Bound">M</a><a id="5394" class="Symbol">)</a>
</pre>
<h2 id="simultaneous-substitution">Simultaneous Substitution</h2>

<pre class="Agda">  <a id="More.exts"></a><a id="5437" href="/PLFA-zh/TSPL/2018/Assignment4/#5437" class="Function">exts</a> <a id="5442" class="Symbol">:</a> <a id="5444" class="Symbol">∀</a> <a id="5446" class="Symbol">{</a><a id="5447" href="Assignment4.html#5447" class="Bound">Γ</a> <a id="5449" href="Assignment4.html#5449" class="Bound">Δ</a><a id="5450" class="Symbol">}</a> <a id="5452" class="Symbol">→</a> <a id="5454" class="Symbol">(∀</a> <a id="5457" class="Symbol">{</a><a id="5458" href="Assignment4.html#5458" class="Bound">A</a><a id="5459" class="Symbol">}</a> <a id="5461" class="Symbol">→</a> <a id="5463" href="Assignment4.html#5447" class="Bound">Γ</a> <a id="5465" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="5467" href="Assignment4.html#5458" class="Bound">A</a> <a id="5469" class="Symbol">→</a> <a id="5471" href="Assignment4.html#5449" class="Bound">Δ</a> <a id="5473" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="5475" href="Assignment4.html#5458" class="Bound">A</a><a id="5476" class="Symbol">)</a> <a id="5478" class="Symbol">→</a> <a id="5480" class="Symbol">(∀</a> <a id="5483" class="Symbol">{</a><a id="5484" href="Assignment4.html#5484" class="Bound">A</a> <a id="5486" href="Assignment4.html#5486" class="Bound">B</a><a id="5487" class="Symbol">}</a> <a id="5489" class="Symbol">→</a> <a id="5491" href="Assignment4.html#5447" class="Bound">Γ</a> <a id="5493" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="5495" href="Assignment4.html#5484" class="Bound">A</a> <a id="5497" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="5499" href="Assignment4.html#5486" class="Bound">B</a> <a id="5501" class="Symbol">→</a> <a id="5503" href="Assignment4.html#5449" class="Bound">Δ</a> <a id="5505" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="5507" href="Assignment4.html#5484" class="Bound">A</a> <a id="5509" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="5511" href="Assignment4.html#5486" class="Bound">B</a><a id="5512" class="Symbol">)</a>
  <a id="5516" href="/PLFA-zh/TSPL/2018/Assignment4/#5437" class="Function">exts</a> <a id="5521" href="Assignment4.html#5521" class="Bound">σ</a> <a id="5523" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>      <a id="5530" class="Symbol">=</a>  <a id="5533" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="5535" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>
  <a id="5539" href="/PLFA-zh/TSPL/2018/Assignment4/#5437" class="Function">exts</a> <a id="5544" href="Assignment4.html#5544" class="Bound">σ</a> <a id="5546" class="Symbol">(</a><a id="5547" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="5549" href="Assignment4.html#5549" class="Bound">x</a><a id="5550" class="Symbol">)</a>  <a id="5553" class="Symbol">=</a>  <a id="5556" href="Assignment4.html#4588" class="Function">rename</a> <a id="5563" href="Assignment4.html#2561" class="InductiveConstructor Operator">S_</a> <a id="5566" class="Symbol">(</a><a id="5567" href="Assignment4.html#5544" class="Bound">σ</a> <a id="5569" href="Assignment4.html#5549" class="Bound">x</a><a id="5570" class="Symbol">)</a>

  <a id="More.subst"></a><a id="5575" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5581" class="Symbol">:</a> <a id="5583" class="Symbol">∀</a> <a id="5585" class="Symbol">{</a><a id="5586" href="Assignment4.html#5586" class="Bound">Γ</a> <a id="5588" href="Assignment4.html#5588" class="Bound">Δ</a><a id="5589" class="Symbol">}</a> <a id="5591" class="Symbol">→</a> <a id="5593" class="Symbol">(∀</a> <a id="5596" class="Symbol">{</a><a id="5597" href="Assignment4.html#5597" class="Bound">C</a><a id="5598" class="Symbol">}</a> <a id="5600" class="Symbol">→</a> <a id="5602" href="Assignment4.html#5586" class="Bound">Γ</a> <a id="5604" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="5606" href="Assignment4.html#5597" class="Bound">C</a> <a id="5608" class="Symbol">→</a> <a id="5610" href="Assignment4.html#5588" class="Bound">Δ</a> <a id="5612" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="5614" href="Assignment4.html#5597" class="Bound">C</a><a id="5615" class="Symbol">)</a> <a id="5617" class="Symbol">→</a> <a id="5619" class="Symbol">(∀</a> <a id="5622" class="Symbol">{</a><a id="5623" href="Assignment4.html#5623" class="Bound">C</a><a id="5624" class="Symbol">}</a> <a id="5626" class="Symbol">→</a> <a id="5628" href="Assignment4.html#5586" class="Bound">Γ</a> <a id="5630" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="5632" href="Assignment4.html#5623" class="Bound">C</a> <a id="5634" class="Symbol">→</a> <a id="5636" href="Assignment4.html#5588" class="Bound">Δ</a> <a id="5638" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="5640" href="Assignment4.html#5623" class="Bound">C</a><a id="5641" class="Symbol">)</a>
  <a id="5645" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5651" href="Assignment4.html#5651" class="Bound">σ</a> <a id="5653" class="Symbol">(</a><a id="5654" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="5656" href="Assignment4.html#5656" class="Bound">k</a><a id="5657" class="Symbol">)</a>          <a id="5668" class="Symbol">=</a>  <a id="5671" href="Assignment4.html#5651" class="Bound">σ</a> <a id="5673" href="Assignment4.html#5656" class="Bound">k</a>
  <a id="5677" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5683" href="Assignment4.html#5683" class="Bound">σ</a> <a id="5685" class="Symbol">(</a><a id="5686" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="5688" href="Assignment4.html#5688" class="Bound">N</a><a id="5689" class="Symbol">)</a>          <a id="5700" class="Symbol">=</a>  <a id="5703" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="5705" class="Symbol">(</a><a id="5706" href="Assignment4.html#5575" class="Function">subst</a> <a id="5712" class="Symbol">(</a><a id="5713" href="Assignment4.html#5437" class="Function">exts</a> <a id="5718" href="Assignment4.html#5683" class="Bound">σ</a><a id="5719" class="Symbol">)</a> <a id="5721" href="Assignment4.html#5688" class="Bound">N</a><a id="5722" class="Symbol">)</a>
  <a id="5726" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5732" href="Assignment4.html#5732" class="Bound">σ</a> <a id="5734" class="Symbol">(</a><a id="5735" href="Assignment4.html#5735" class="Bound">L</a> <a id="5737" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="5739" href="Assignment4.html#5739" class="Bound">M</a><a id="5740" class="Symbol">)</a>        <a id="5749" class="Symbol">=</a>  <a id="5752" class="Symbol">(</a><a id="5753" href="Assignment4.html#5575" class="Function">subst</a> <a id="5759" href="Assignment4.html#5732" class="Bound">σ</a> <a id="5761" href="Assignment4.html#5735" class="Bound">L</a><a id="5762" class="Symbol">)</a> <a id="5764" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="5766" class="Symbol">(</a><a id="5767" href="Assignment4.html#5575" class="Function">subst</a> <a id="5773" href="Assignment4.html#5732" class="Bound">σ</a> <a id="5775" href="Assignment4.html#5739" class="Bound">M</a><a id="5776" class="Symbol">)</a>
  <a id="5780" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5786" href="Assignment4.html#5786" class="Bound">σ</a> <a id="5788" class="Symbol">(</a><a id="5789" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a><a id="5794" class="Symbol">)</a>        <a id="5803" class="Symbol">=</a>  <a id="5806" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a>
  <a id="5814" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5820" href="Assignment4.html#5820" class="Bound">σ</a> <a id="5822" class="Symbol">(</a><a id="5823" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="5828" href="Assignment4.html#5828" class="Bound">M</a><a id="5829" class="Symbol">)</a>       <a id="5837" class="Symbol">=</a>  <a id="5840" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="5845" class="Symbol">(</a><a id="5846" href="Assignment4.html#5575" class="Function">subst</a> <a id="5852" href="Assignment4.html#5820" class="Bound">σ</a> <a id="5854" href="Assignment4.html#5828" class="Bound">M</a><a id="5855" class="Symbol">)</a>
  <a id="5859" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5865" href="Assignment4.html#5865" class="Bound">σ</a> <a id="5867" class="Symbol">(</a><a id="5868" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="5873" href="Assignment4.html#5873" class="Bound">L</a> <a id="5875" href="Assignment4.html#5875" class="Bound">M</a> <a id="5877" href="Assignment4.html#5877" class="Bound">N</a><a id="5878" class="Symbol">)</a>   <a id="5882" class="Symbol">=</a>  <a id="5885" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="5890" class="Symbol">(</a><a id="5891" href="Assignment4.html#5575" class="Function">subst</a> <a id="5897" href="Assignment4.html#5865" class="Bound">σ</a> <a id="5899" href="Assignment4.html#5873" class="Bound">L</a><a id="5900" class="Symbol">)</a> <a id="5902" class="Symbol">(</a><a id="5903" href="Assignment4.html#5575" class="Function">subst</a> <a id="5909" href="Assignment4.html#5865" class="Bound">σ</a> <a id="5911" href="Assignment4.html#5875" class="Bound">M</a><a id="5912" class="Symbol">)</a> <a id="5914" class="Symbol">(</a><a id="5915" href="Assignment4.html#5575" class="Function">subst</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Assignment4.html#5437" class="Function">exts</a> <a id="5927" href="Assignment4.html#5865" class="Bound">σ</a><a id="5928" class="Symbol">)</a> <a id="5930" href="Assignment4.html#5877" class="Bound">N</a><a id="5931" class="Symbol">)</a>
  <a id="5935" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5941" href="Assignment4.html#5941" class="Bound">σ</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="5946" href="Assignment4.html#5946" class="Bound">N</a><a id="5947" class="Symbol">)</a>          <a id="5958" class="Symbol">=</a>  <a id="5961" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="5963" class="Symbol">(</a><a id="5964" href="Assignment4.html#5575" class="Function">subst</a> <a id="5970" class="Symbol">(</a><a id="5971" href="Assignment4.html#5437" class="Function">exts</a> <a id="5976" href="Assignment4.html#5941" class="Bound">σ</a><a id="5977" class="Symbol">)</a> <a id="5979" href="Assignment4.html#5946" class="Bound">N</a><a id="5980" class="Symbol">)</a>
  <a id="5984" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="5990" href="Assignment4.html#5990" class="Bound">σ</a> <a id="5992" class="Symbol">(</a><a id="5993" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="5997" href="Assignment4.html#5997" class="Bound">n</a><a id="5998" class="Symbol">)</a>        <a id="6007" class="Symbol">=</a>  <a id="6010" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="6014" href="Assignment4.html#5997" class="Bound">n</a>
  <a id="6018" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6024" href="Assignment4.html#6024" class="Bound">σ</a> <a id="6026" class="Symbol">(</a><a id="6027" href="Assignment4.html#6027" class="Bound">M</a> <a id="6029" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="6032" href="Assignment4.html#6032" class="Bound">N</a><a id="6033" class="Symbol">)</a>       <a id="6041" class="Symbol">=</a>  <a id="6044" href="Assignment4.html#5575" class="Function">subst</a> <a id="6050" href="Assignment4.html#6024" class="Bound">σ</a> <a id="6052" href="Assignment4.html#6027" class="Bound">M</a> <a id="6054" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="6057" href="Assignment4.html#5575" class="Function">subst</a> <a id="6063" href="Assignment4.html#6024" class="Bound">σ</a> <a id="6065" href="Assignment4.html#6032" class="Bound">N</a>
  <a id="6069" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6075" href="Assignment4.html#6075" class="Bound">σ</a> <a id="6077" class="Symbol">(</a><a id="6078" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="6083" href="Assignment4.html#6083" class="Bound">M</a> <a id="6085" href="Assignment4.html#6085" class="Bound">N</a><a id="6086" class="Symbol">)</a>     <a id="6092" class="Symbol">=</a>  <a id="6095" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="6100" class="Symbol">(</a><a id="6101" href="Assignment4.html#5575" class="Function">subst</a> <a id="6107" href="Assignment4.html#6075" class="Bound">σ</a> <a id="6109" href="Assignment4.html#6083" class="Bound">M</a><a id="6110" class="Symbol">)</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Assignment4.html#5575" class="Function">subst</a> <a id="6119" class="Symbol">(</a><a id="6120" href="Assignment4.html#5437" class="Function">exts</a> <a id="6125" href="Assignment4.html#6075" class="Bound">σ</a><a id="6126" class="Symbol">)</a> <a id="6128" href="Assignment4.html#6085" class="Bound">N</a><a id="6129" class="Symbol">)</a>
  <a id="6133" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6139" href="Assignment4.html#6139" class="Bound">σ</a> <a id="6141" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="6144" href="Assignment4.html#6144" class="Bound">M</a> <a id="6146" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="6148" href="Assignment4.html#6148" class="Bound">N</a> <a id="6150" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>     <a id="6156" class="Symbol">=</a>  <a id="6159" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="6162" href="Assignment4.html#5575" class="Function">subst</a> <a id="6168" href="Assignment4.html#6139" class="Bound">σ</a> <a id="6170" href="Assignment4.html#6144" class="Bound">M</a> <a id="6172" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="6174" href="Assignment4.html#5575" class="Function">subst</a> <a id="6180" href="Assignment4.html#6139" class="Bound">σ</a> <a id="6182" href="Assignment4.html#6148" class="Bound">N</a> <a id="6184" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
  <a id="6188" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6194" href="Assignment4.html#6194" class="Bound">σ</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="6204" href="Assignment4.html#6204" class="Bound">L</a><a id="6205" class="Symbol">)</a>     <a id="6211" class="Symbol">=</a>  <a id="6214" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="6221" class="Symbol">(</a><a id="6222" href="Assignment4.html#5575" class="Function">subst</a> <a id="6228" href="Assignment4.html#6194" class="Bound">σ</a> <a id="6230" href="Assignment4.html#6204" class="Bound">L</a><a id="6231" class="Symbol">)</a>
  <a id="6235" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6241" href="Assignment4.html#6241" class="Bound">σ</a> <a id="6243" class="Symbol">(</a><a id="6244" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="6251" href="Assignment4.html#6251" class="Bound">L</a><a id="6252" class="Symbol">)</a>     <a id="6258" class="Symbol">=</a>  <a id="6261" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="6268" class="Symbol">(</a><a id="6269" href="Assignment4.html#5575" class="Function">subst</a> <a id="6275" href="Assignment4.html#6241" class="Bound">σ</a> <a id="6277" href="Assignment4.html#6251" class="Bound">L</a><a id="6278" class="Symbol">)</a>
  <a id="6282" href="/PLFA-zh/TSPL/2018/Assignment4/#5575" class="Function">subst</a> <a id="6288" href="Assignment4.html#6288" class="Bound">σ</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="6297" href="Assignment4.html#6297" class="Bound">L</a> <a id="6299" href="Assignment4.html#6299" class="Bound">M</a><a id="6300" class="Symbol">)</a>    <a id="6305" class="Symbol">=</a>  <a id="6308" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="6314" class="Symbol">(</a><a id="6315" href="Assignment4.html#5575" class="Function">subst</a> <a id="6321" href="Assignment4.html#6288" class="Bound">σ</a> <a id="6323" href="Assignment4.html#6297" class="Bound">L</a><a id="6324" class="Symbol">)</a> <a id="6326" class="Symbol">(</a><a id="6327" href="Assignment4.html#5575" class="Function">subst</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Assignment4.html#5437" class="Function">exts</a> <a id="6339" class="Symbol">(</a><a id="6340" href="Assignment4.html#5437" class="Function">exts</a> <a id="6345" href="Assignment4.html#6288" class="Bound">σ</a><a id="6346" class="Symbol">))</a> <a id="6349" href="Assignment4.html#6299" class="Bound">M</a><a id="6350" class="Symbol">)</a>
</pre>
<h2 id="single-and-double-substitution">Single and double substitution</h2>

<pre class="Agda">  <a id="More._[_]"></a><a id="6398" href="/PLFA-zh/TSPL/2018/Assignment4/#6398" class="Function Operator">_[_]</a> <a id="6403" class="Symbol">:</a> <a id="6405" class="Symbol">∀</a> <a id="6407" class="Symbol">{</a><a id="6408" href="Assignment4.html#6408" class="Bound">Γ</a> <a id="6410" href="Assignment4.html#6410" class="Bound">A</a> <a id="6412" href="Assignment4.html#6412" class="Bound">B</a><a id="6413" class="Symbol">}</a>
    <a id="6419" class="Symbol">→</a> <a id="6421" href="/PLFA-zh/TSPL/2018/Assignment4/#6408" class="Bound">Γ</a> <a id="6423" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6425" href="Assignment4.html#6410" class="Bound">A</a> <a id="6427" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6429" href="Assignment4.html#6412" class="Bound">B</a>
    <a id="6435" class="Symbol">→</a> <a id="6437" href="/PLFA-zh/TSPL/2018/Assignment4/#6408" class="Bound">Γ</a> <a id="6439" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6441" href="Assignment4.html#6410" class="Bound">A</a>
    <a id="6447" class="Comment">------------</a>
    <a id="6464" class="Symbol">→</a> <a id="6466" href="/PLFA-zh/TSPL/2018/Assignment4/#6408" class="Bound">Γ</a> <a id="6468" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6470" href="Assignment4.html#6412" class="Bound">B</a>
  <a id="6474" href="/PLFA-zh/TSPL/2018/Assignment4/#6398" class="Function Operator">_[_]</a> <a id="6479" class="Symbol">{</a><a id="6480" href="Assignment4.html#6480" class="Bound">Γ</a><a id="6481" class="Symbol">}</a> <a id="6483" class="Symbol">{</a><a id="6484" href="Assignment4.html#6484" class="Bound">A</a><a id="6485" class="Symbol">}</a> <a id="6487" href="Assignment4.html#6487" class="Bound">N</a> <a id="6489" href="Assignment4.html#6489" class="Bound">V</a> <a id="6491" class="Symbol">=</a>  <a id="6494" href="Assignment4.html#5575" class="Function">subst</a> <a id="6500" class="Symbol">{</a><a id="6501" href="Assignment4.html#6480" class="Bound">Γ</a> <a id="6503" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6505" href="Assignment4.html#6484" class="Bound">A</a><a id="6506" class="Symbol">}</a> <a id="6508" class="Symbol">{</a><a id="6509" href="Assignment4.html#6480" class="Bound">Γ</a><a id="6510" class="Symbol">}</a> <a id="6512" href="Assignment4.html#6530" class="Function">σ</a> <a id="6514" href="Assignment4.html#6487" class="Bound">N</a>
    <a id="6520" class="Keyword">where</a>
    <a id="6530" href="/PLFA-zh/TSPL/2018/Assignment4/#6530" class="Function">σ</a> <a id="6532" class="Symbol">:</a> <a id="6534" class="Symbol">∀</a> <a id="6536" class="Symbol">{</a><a id="6537" href="Assignment4.html#6537" class="Bound">B</a><a id="6538" class="Symbol">}</a> <a id="6540" class="Symbol">→</a> <a id="6542" href="Assignment4.html#6480" class="Bound">Γ</a> <a id="6544" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6546" href="Assignment4.html#6484" class="Bound">A</a> <a id="6548" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="6550" href="Assignment4.html#6537" class="Bound">B</a> <a id="6552" class="Symbol">→</a> <a id="6554" href="Assignment4.html#6480" class="Bound">Γ</a> <a id="6556" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6558" href="Assignment4.html#6537" class="Bound">B</a>
    <a id="6564" href="/PLFA-zh/TSPL/2018/Assignment4/#6530" class="Function">σ</a> <a id="6566" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>      <a id="6573" class="Symbol">=</a>  <a id="6576" href="Assignment4.html#6489" class="Bound">V</a>
    <a id="6582" href="/PLFA-zh/TSPL/2018/Assignment4/#6530" class="Function">σ</a> <a id="6584" class="Symbol">(</a><a id="6585" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="6587" href="Assignment4.html#6587" class="Bound">x</a><a id="6588" class="Symbol">)</a>  <a id="6591" class="Symbol">=</a>  <a id="6594" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="6596" href="Assignment4.html#6587" class="Bound">x</a>

  <a id="More._[_][_]"></a><a id="6601" href="/PLFA-zh/TSPL/2018/Assignment4/#6601" class="Function Operator">_[_][_]</a> <a id="6609" class="Symbol">:</a> <a id="6611" class="Symbol">∀</a> <a id="6613" class="Symbol">{</a><a id="6614" href="Assignment4.html#6614" class="Bound">Γ</a> <a id="6616" href="Assignment4.html#6616" class="Bound">A</a> <a id="6618" href="Assignment4.html#6618" class="Bound">B</a> <a id="6620" href="Assignment4.html#6620" class="Bound">C</a><a id="6621" class="Symbol">}</a>
    <a id="6627" class="Symbol">→</a> <a id="6629" href="/PLFA-zh/TSPL/2018/Assignment4/#6614" class="Bound">Γ</a> <a id="6631" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6633" href="Assignment4.html#6616" class="Bound">A</a> <a id="6635" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6637" href="Assignment4.html#6618" class="Bound">B</a> <a id="6639" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6641" href="Assignment4.html#6620" class="Bound">C</a>
    <a id="6647" class="Symbol">→</a> <a id="6649" href="/PLFA-zh/TSPL/2018/Assignment4/#6614" class="Bound">Γ</a> <a id="6651" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6653" href="Assignment4.html#6616" class="Bound">A</a>
    <a id="6659" class="Symbol">→</a> <a id="6661" href="/PLFA-zh/TSPL/2018/Assignment4/#6614" class="Bound">Γ</a> <a id="6663" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6665" href="Assignment4.html#6618" class="Bound">B</a>
      <a id="6673" class="Comment">---------------</a>
    <a id="6693" class="Symbol">→</a> <a id="6695" href="/PLFA-zh/TSPL/2018/Assignment4/#6614" class="Bound">Γ</a> <a id="6697" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6699" href="Assignment4.html#6620" class="Bound">C</a>
  <a id="6703" href="/PLFA-zh/TSPL/2018/Assignment4/#6601" class="Function Operator">_[_][_]</a> <a id="6711" class="Symbol">{</a><a id="6712" href="Assignment4.html#6712" class="Bound">Γ</a><a id="6713" class="Symbol">}</a> <a id="6715" class="Symbol">{</a><a id="6716" href="Assignment4.html#6716" class="Bound">A</a><a id="6717" class="Symbol">}</a> <a id="6719" class="Symbol">{</a><a id="6720" href="Assignment4.html#6720" class="Bound">B</a><a id="6721" class="Symbol">}</a> <a id="6723" href="Assignment4.html#6723" class="Bound">N</a> <a id="6725" href="Assignment4.html#6725" class="Bound">V</a> <a id="6727" href="Assignment4.html#6727" class="Bound">W</a> <a id="6729" class="Symbol">=</a>  <a id="6732" href="Assignment4.html#5575" class="Function">subst</a> <a id="6738" class="Symbol">{</a><a id="6739" href="Assignment4.html#6712" class="Bound">Γ</a> <a id="6741" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6743" href="Assignment4.html#6716" class="Bound">A</a> <a id="6745" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6747" href="Assignment4.html#6720" class="Bound">B</a><a id="6748" class="Symbol">}</a> <a id="6750" class="Symbol">{</a><a id="6751" href="Assignment4.html#6712" class="Bound">Γ</a><a id="6752" class="Symbol">}</a> <a id="6754" href="Assignment4.html#6772" class="Function">σ</a> <a id="6756" href="Assignment4.html#6723" class="Bound">N</a>
    <a id="6762" class="Keyword">where</a>
    <a id="6772" href="/PLFA-zh/TSPL/2018/Assignment4/#6772" class="Function">σ</a> <a id="6774" class="Symbol">:</a> <a id="6776" class="Symbol">∀</a> <a id="6778" class="Symbol">{</a><a id="6779" href="Assignment4.html#6779" class="Bound">C</a><a id="6780" class="Symbol">}</a> <a id="6782" class="Symbol">→</a> <a id="6784" href="Assignment4.html#6712" class="Bound">Γ</a> <a id="6786" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6788" href="Assignment4.html#6716" class="Bound">A</a> <a id="6790" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6792" href="Assignment4.html#6720" class="Bound">B</a> <a id="6794" href="Assignment4.html#2470" class="Datatype Operator">∋</a> <a id="6796" href="Assignment4.html#6779" class="Bound">C</a> <a id="6798" class="Symbol">→</a> <a id="6800" href="Assignment4.html#6712" class="Bound">Γ</a> <a id="6802" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6804" href="Assignment4.html#6779" class="Bound">C</a>
    <a id="6810" href="/PLFA-zh/TSPL/2018/Assignment4/#6772" class="Function">σ</a> <a id="6812" href="Assignment4.html#2508" class="InductiveConstructor">Z</a>          <a id="6823" class="Symbol">=</a>  <a id="6826" href="Assignment4.html#6727" class="Bound">W</a>
    <a id="6832" href="/PLFA-zh/TSPL/2018/Assignment4/#6772" class="Function">σ</a> <a id="6834" class="Symbol">(</a><a id="6835" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="6837" href="Assignment4.html#2508" class="InductiveConstructor">Z</a><a id="6838" class="Symbol">)</a>      <a id="6845" class="Symbol">=</a>  <a id="6848" href="Assignment4.html#6725" class="Bound">V</a>
    <a id="6854" href="/PLFA-zh/TSPL/2018/Assignment4/#6772" class="Function">σ</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="6859" class="Symbol">(</a><a id="6860" href="Assignment4.html#2561" class="InductiveConstructor Operator">S</a> <a id="6862" href="Assignment4.html#6862" class="Bound">x</a><a id="6863" class="Symbol">))</a>  <a id="6867" class="Symbol">=</a>  <a id="6870" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="6872" href="Assignment4.html#6862" class="Bound">x</a>
</pre>
<h2 id="values">Values</h2>

<pre class="Agda">  <a id="6896" class="Keyword">data</a> <a id="More.Value"></a><a id="6901" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="6907" class="Symbol">:</a> <a id="6909" class="Symbol">∀</a> <a id="6911" class="Symbol">{</a><a id="6912" href="Assignment4.html#6912" class="Bound">Γ</a> <a id="6914" href="Assignment4.html#6914" class="Bound">A</a><a id="6915" class="Symbol">}</a> <a id="6917" class="Symbol">→</a> <a id="6919" href="Assignment4.html#6912" class="Bound">Γ</a> <a id="6921" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6923" href="Assignment4.html#6914" class="Bound">A</a> <a id="6925" class="Symbol">→</a> <a id="6927" class="PrimitiveType">Set</a> <a id="6931" class="Keyword">where</a>

    <a id="6942" class="Comment">-- functions</a>

    <a id="More.Value.V-ƛ"></a><a id="6960" href="/PLFA-zh/TSPL/2018/Assignment4/#6960" class="InductiveConstructor">V-ƛ</a> <a id="6964" class="Symbol">:</a> <a id="6966" class="Symbol">∀</a> <a id="6968" class="Symbol">{</a><a id="6969" href="Assignment4.html#6969" class="Bound">Γ</a> <a id="6971" href="Assignment4.html#6971" class="Bound">A</a> <a id="6973" href="Assignment4.html#6973" class="Bound">B</a><a id="6974" class="Symbol">}</a> <a id="6976" class="Symbol">{</a><a id="6977" href="Assignment4.html#6977" class="Bound">N</a> <a id="6979" class="Symbol">:</a> <a id="6981" href="Assignment4.html#6969" class="Bound">Γ</a> <a id="6983" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="6985" href="Assignment4.html#6971" class="Bound">A</a> <a id="6987" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="6989" href="Assignment4.html#6973" class="Bound">B</a><a id="6990" class="Symbol">}</a>
        <a id="7000" class="Comment">---------------------------</a>
      <a id="7034" class="Symbol">→</a> <a id="7036" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7042" class="Symbol">(</a><a id="7043" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="7045" href="Assignment4.html#6977" class="Bound">N</a><a id="7046" class="Symbol">)</a>

    <a id="7053" class="Comment">-- naturals</a>

    <a id="More.Value.V-zero"></a><a id="7070" href="/PLFA-zh/TSPL/2018/Assignment4/#7070" class="InductiveConstructor">V-zero</a> <a id="7077" class="Symbol">:</a> <a id="7079" class="Symbol">∀</a> <a id="7081" class="Symbol">{</a><a id="7082" href="Assignment4.html#7082" class="Bound">Γ</a><a id="7083" class="Symbol">}</a> <a id="7085" class="Symbol">→</a>
        <a id="7095" class="Comment">-----------------</a>
        <a id="7121" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7127" class="Symbol">(</a><a id="7128" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="7134" class="Symbol">{</a><a id="7135" href="Assignment4.html#7082" class="Bound">Γ</a><a id="7136" class="Symbol">})</a>

    <a id="More.Value.V-suc_"></a><a id="7144" href="/PLFA-zh/TSPL/2018/Assignment4/#7144" class="InductiveConstructor Operator">V-suc_</a> <a id="7151" class="Symbol">:</a> <a id="7153" class="Symbol">∀</a> <a id="7155" class="Symbol">{</a><a id="7156" href="Assignment4.html#7156" class="Bound">Γ</a><a id="7157" class="Symbol">}</a> <a id="7159" class="Symbol">{</a><a id="7160" href="Assignment4.html#7160" class="Bound">V</a> <a id="7162" class="Symbol">:</a> <a id="7164" href="Assignment4.html#7156" class="Bound">Γ</a> <a id="7166" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7168" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a><a id="7170" class="Symbol">}</a>
      <a id="7178" class="Symbol">→</a> <a id="7180" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7186" href="Assignment4.html#7160" class="Bound">V</a>
        <a id="7196" class="Comment">--------------</a>
      <a id="7217" class="Symbol">→</a> <a id="7219" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="7231" href="Assignment4.html#7160" class="Bound">V</a><a id="7232" class="Symbol">)</a>

    <a id="7239" class="Comment">-- primitives</a>

    <a id="More.Value.V-con"></a><a id="7258" href="/PLFA-zh/TSPL/2018/Assignment4/#7258" class="InductiveConstructor">V-con</a> <a id="7264" class="Symbol">:</a> <a id="7266" class="Symbol">∀</a> <a id="7268" class="Symbol">{</a><a id="7269" href="Assignment4.html#7269" class="Bound">Γ</a> <a id="7271" href="Assignment4.html#7271" class="Bound">n</a><a id="7272" class="Symbol">}</a>
        <a id="7282" class="Comment">---------------------</a>
      <a id="7310" class="Symbol">→</a> <a id="7312" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7318" class="Symbol">{</a><a id="7319" class="Argument">Γ</a> <a id="7321" class="Symbol">=</a> <a id="7323" href="Assignment4.html#7269" class="Bound">Γ</a><a id="7324" class="Symbol">}</a> <a id="7326" class="Symbol">(</a><a id="7327" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="7331" href="Assignment4.html#7271" class="Bound">n</a><a id="7332" class="Symbol">)</a>

    <a id="7339" class="Comment">-- products</a>

    <a id="More.Value.V-⟨_,_⟩"></a><a id="7356" href="/PLFA-zh/TSPL/2018/Assignment4/#7356" class="InductiveConstructor Operator">V-⟨_,_⟩</a> <a id="7364" class="Symbol">:</a> <a id="7366" class="Symbol">∀</a> <a id="7368" class="Symbol">{</a><a id="7369" href="Assignment4.html#7369" class="Bound">Γ</a> <a id="7371" href="Assignment4.html#7371" class="Bound">A</a> <a id="7373" href="Assignment4.html#7373" class="Bound">B</a><a id="7374" class="Symbol">}</a> <a id="7376" class="Symbol">{</a><a id="7377" href="Assignment4.html#7377" class="Bound">V</a> <a id="7379" class="Symbol">:</a> <a id="7381" href="Assignment4.html#7369" class="Bound">Γ</a> <a id="7383" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7385" href="Assignment4.html#7371" class="Bound">A</a><a id="7386" class="Symbol">}</a> <a id="7388" class="Symbol">{</a><a id="7389" href="Assignment4.html#7389" class="Bound">W</a> <a id="7391" class="Symbol">:</a> <a id="7393" href="Assignment4.html#7369" class="Bound">Γ</a> <a id="7395" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7397" href="Assignment4.html#7373" class="Bound">B</a><a id="7398" class="Symbol">}</a>
      <a id="7406" class="Symbol">→</a> <a id="7408" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7414" href="Assignment4.html#7377" class="Bound">V</a>
      <a id="7422" class="Symbol">→</a> <a id="7424" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7430" href="Assignment4.html#7389" class="Bound">W</a>
        <a id="7440" class="Comment">----------------</a>
      <a id="7463" class="Symbol">→</a> <a id="7465" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7471" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="7474" href="Assignment4.html#7377" class="Bound">V</a> <a id="7476" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="7478" href="Assignment4.html#7389" class="Bound">W</a> <a id="7480" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
</pre>
<p>Implicit arguments need to be supplied when they are
not fixed by the given arguments.</p>

<h2 id="reduction">Reduction</h2>

<pre class="Agda">  <a id="7595" class="Keyword">infix</a> <a id="7601" class="Number">2</a> <a id="7603" href="/PLFA-zh/TSPL/2018/Assignment4/#7616" class="Datatype Operator">_—→_</a>

  <a id="7611" class="Keyword">data</a> <a id="More._—→_"></a><a id="7616" href="/PLFA-zh/TSPL/2018/Assignment4/#7616" class="Datatype Operator">_—→_</a> <a id="7621" class="Symbol">:</a> <a id="7623" class="Symbol">∀</a> <a id="7625" class="Symbol">{</a><a id="7626" href="Assignment4.html#7626" class="Bound">Γ</a> <a id="7628" href="Assignment4.html#7628" class="Bound">A</a><a id="7629" class="Symbol">}</a> <a id="7631" class="Symbol">→</a> <a id="7633" class="Symbol">(</a><a id="7634" href="Assignment4.html#7626" class="Bound">Γ</a> <a id="7636" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7638" href="Assignment4.html#7628" class="Bound">A</a><a id="7639" class="Symbol">)</a> <a id="7641" class="Symbol">→</a> <a id="7643" class="Symbol">(</a><a id="7644" href="Assignment4.html#7626" class="Bound">Γ</a> <a id="7646" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7648" href="Assignment4.html#7628" class="Bound">A</a><a id="7649" class="Symbol">)</a> <a id="7651" class="Symbol">→</a> <a id="7653" class="PrimitiveType">Set</a> <a id="7657" class="Keyword">where</a>

    <a id="7668" class="Comment">-- functions</a>

    <a id="More._—→_.ξ-·₁"></a><a id="7686" href="/PLFA-zh/TSPL/2018/Assignment4/#7686" class="InductiveConstructor">ξ-·₁</a> <a id="7691" class="Symbol">:</a> <a id="7693" class="Symbol">∀</a> <a id="7695" class="Symbol">{</a><a id="7696" href="Assignment4.html#7696" class="Bound">Γ</a> <a id="7698" href="Assignment4.html#7698" class="Bound">A</a> <a id="7700" href="Assignment4.html#7700" class="Bound">B</a><a id="7701" class="Symbol">}</a> <a id="7703" class="Symbol">{</a><a id="7704" href="Assignment4.html#7704" class="Bound">L</a> <a id="7706" href="Assignment4.html#7706" class="Bound">L′</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Assignment4.html#7696" class="Bound">Γ</a> <a id="7713" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7715" href="Assignment4.html#7698" class="Bound">A</a> <a id="7717" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="7719" href="Assignment4.html#7700" class="Bound">B</a><a id="7720" class="Symbol">}</a> <a id="7722" class="Symbol">{</a><a id="7723" href="Assignment4.html#7723" class="Bound">M</a> <a id="7725" class="Symbol">:</a> <a id="7727" href="Assignment4.html#7696" class="Bound">Γ</a> <a id="7729" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7731" href="Assignment4.html#7698" class="Bound">A</a><a id="7732" class="Symbol">}</a>
      <a id="7740" class="Symbol">→</a> <a id="7742" href="/PLFA-zh/TSPL/2018/Assignment4/#7704" class="Bound">L</a> <a id="7744" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="7747" href="Assignment4.html#7706" class="Bound">L′</a>
        <a id="7758" class="Comment">---------------</a>
      <a id="7780" class="Symbol">→</a> <a id="7782" href="/PLFA-zh/TSPL/2018/Assignment4/#7704" class="Bound">L</a> <a id="7784" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="7786" href="Assignment4.html#7723" class="Bound">M</a> <a id="7788" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="7791" href="Assignment4.html#7706" class="Bound">L′</a> <a id="7794" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="7796" href="Assignment4.html#7723" class="Bound">M</a>

    <a id="More._—→_.ξ-·₂"></a><a id="7803" href="/PLFA-zh/TSPL/2018/Assignment4/#7803" class="InductiveConstructor">ξ-·₂</a> <a id="7808" class="Symbol">:</a> <a id="7810" class="Symbol">∀</a> <a id="7812" class="Symbol">{</a><a id="7813" href="Assignment4.html#7813" class="Bound">Γ</a> <a id="7815" href="Assignment4.html#7815" class="Bound">A</a> <a id="7817" href="Assignment4.html#7817" class="Bound">B</a><a id="7818" class="Symbol">}</a> <a id="7820" class="Symbol">{</a><a id="7821" href="Assignment4.html#7821" class="Bound">V</a> <a id="7823" class="Symbol">:</a> <a id="7825" href="Assignment4.html#7813" class="Bound">Γ</a> <a id="7827" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7829" href="Assignment4.html#7815" class="Bound">A</a> <a id="7831" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="7833" href="Assignment4.html#7817" class="Bound">B</a><a id="7834" class="Symbol">}</a> <a id="7836" class="Symbol">{</a><a id="7837" href="Assignment4.html#7837" class="Bound">M</a> <a id="7839" href="Assignment4.html#7839" class="Bound">M′</a> <a id="7842" class="Symbol">:</a> <a id="7844" href="Assignment4.html#7813" class="Bound">Γ</a> <a id="7846" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7848" href="Assignment4.html#7815" class="Bound">A</a><a id="7849" class="Symbol">}</a>
      <a id="7857" class="Symbol">→</a> <a id="7859" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7865" href="Assignment4.html#7821" class="Bound">V</a>
      <a id="7873" class="Symbol">→</a> <a id="7875" href="/PLFA-zh/TSPL/2018/Assignment4/#7837" class="Bound">M</a> <a id="7877" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="7880" href="Assignment4.html#7839" class="Bound">M′</a>
        <a id="7891" class="Comment">---------------</a>
      <a id="7913" class="Symbol">→</a> <a id="7915" href="/PLFA-zh/TSPL/2018/Assignment4/#7821" class="Bound">V</a> <a id="7917" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="7919" href="Assignment4.html#7837" class="Bound">M</a> <a id="7921" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="7924" href="Assignment4.html#7821" class="Bound">V</a> <a id="7926" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="7928" href="Assignment4.html#7839" class="Bound">M′</a>

    <a id="More._—→_.β-ƛ"></a><a id="7936" href="/PLFA-zh/TSPL/2018/Assignment4/#7936" class="InductiveConstructor">β-ƛ</a> <a id="7940" class="Symbol">:</a> <a id="7942" class="Symbol">∀</a> <a id="7944" class="Symbol">{</a><a id="7945" href="Assignment4.html#7945" class="Bound">Γ</a> <a id="7947" href="Assignment4.html#7947" class="Bound">A</a> <a id="7949" href="Assignment4.html#7949" class="Bound">B</a><a id="7950" class="Symbol">}</a> <a id="7952" class="Symbol">{</a><a id="7953" href="Assignment4.html#7953" class="Bound">N</a> <a id="7955" class="Symbol">:</a> <a id="7957" href="Assignment4.html#7945" class="Bound">Γ</a> <a id="7959" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="7961" href="Assignment4.html#7947" class="Bound">A</a> <a id="7963" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7965" href="Assignment4.html#7949" class="Bound">B</a><a id="7966" class="Symbol">}</a> <a id="7968" class="Symbol">{</a><a id="7969" href="Assignment4.html#7969" class="Bound">V</a> <a id="7971" class="Symbol">:</a> <a id="7973" href="Assignment4.html#7945" class="Bound">Γ</a> <a id="7975" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="7977" href="Assignment4.html#7947" class="Bound">A</a><a id="7978" class="Symbol">}</a>
      <a id="7986" class="Symbol">→</a> <a id="7988" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="7994" href="Assignment4.html#7969" class="Bound">V</a>
        <a id="8004" class="Comment">--------------------</a>
      <a id="8031" class="Symbol">→</a> <a id="8033" class="Symbol">(</a><a id="8034" href="/PLFA-zh/TSPL/2018/Assignment4/#2811" class="InductiveConstructor Operator">ƛ</a> <a id="8036" href="Assignment4.html#7953" class="Bound">N</a><a id="8037" class="Symbol">)</a> <a id="8039" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="8041" href="Assignment4.html#7969" class="Bound">V</a> <a id="8043" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8046" href="Assignment4.html#7953" class="Bound">N</a> <a id="8048" href="Assignment4.html#6398" class="Function Operator">[</a> <a id="8050" href="Assignment4.html#7969" class="Bound">V</a> <a id="8052" href="Assignment4.html#6398" class="Function Operator">]</a>

    <a id="8059" class="Comment">-- naturals</a>

    <a id="More._—→_.ξ-suc"></a><a id="8076" href="/PLFA-zh/TSPL/2018/Assignment4/#8076" class="InductiveConstructor">ξ-suc</a> <a id="8082" class="Symbol">:</a> <a id="8084" class="Symbol">∀</a> <a id="8086" class="Symbol">{</a><a id="8087" href="Assignment4.html#8087" class="Bound">Γ</a><a id="8088" class="Symbol">}</a> <a id="8090" class="Symbol">{</a><a id="8091" href="Assignment4.html#8091" class="Bound">M</a> <a id="8093" href="Assignment4.html#8093" class="Bound">M′</a> <a id="8096" class="Symbol">:</a> <a id="8098" href="Assignment4.html#8087" class="Bound">Γ</a> <a id="8100" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8102" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a><a id="8104" class="Symbol">}</a>
      <a id="8112" class="Symbol">→</a> <a id="8114" href="/PLFA-zh/TSPL/2018/Assignment4/#8091" class="Bound">M</a> <a id="8116" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8119" href="Assignment4.html#8093" class="Bound">M′</a>
        <a id="8130" class="Comment">-----------------</a>
      <a id="8154" class="Symbol">→</a> <a id="8156" href="/PLFA-zh/TSPL/2018/Assignment4/#3038" class="InductiveConstructor Operator">`suc</a> <a id="8161" href="Assignment4.html#8091" class="Bound">M</a> <a id="8163" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8166" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="8171" href="Assignment4.html#8093" class="Bound">M′</a>

    <a id="More._—→_.ξ-case"></a><a id="8179" href="/PLFA-zh/TSPL/2018/Assignment4/#8179" class="InductiveConstructor">ξ-case</a> <a id="8186" class="Symbol">:</a> <a id="8188" class="Symbol">∀</a> <a id="8190" class="Symbol">{</a><a id="8191" href="Assignment4.html#8191" class="Bound">Γ</a> <a id="8193" href="Assignment4.html#8193" class="Bound">A</a><a id="8194" class="Symbol">}</a> <a id="8196" class="Symbol">{</a><a id="8197" href="Assignment4.html#8197" class="Bound">L</a> <a id="8199" href="Assignment4.html#8199" class="Bound">L′</a> <a id="8202" class="Symbol">:</a> <a id="8204" href="Assignment4.html#8191" class="Bound">Γ</a> <a id="8206" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8208" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a><a id="8210" class="Symbol">}</a> <a id="8212" class="Symbol">{</a><a id="8213" href="Assignment4.html#8213" class="Bound">M</a> <a id="8215" class="Symbol">:</a> <a id="8217" href="Assignment4.html#8191" class="Bound">Γ</a> <a id="8219" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8221" href="Assignment4.html#8193" class="Bound">A</a><a id="8222" class="Symbol">}</a> <a id="8224" class="Symbol">{</a><a id="8225" href="Assignment4.html#8225" class="Bound">N</a> <a id="8227" class="Symbol">:</a> <a id="8229" href="Assignment4.html#8191" class="Bound">Γ</a> <a id="8231" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="8233" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a> <a id="8236" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8238" href="Assignment4.html#8193" class="Bound">A</a><a id="8239" class="Symbol">}</a>
      <a id="8247" class="Symbol">→</a> <a id="8249" href="/PLFA-zh/TSPL/2018/Assignment4/#8197" class="Bound">L</a> <a id="8251" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8254" href="Assignment4.html#8199" class="Bound">L′</a>
        <a id="8265" class="Comment">-------------------------</a>
      <a id="8297" class="Symbol">→</a> <a id="8299" href="/PLFA-zh/TSPL/2018/Assignment4/#3102" class="InductiveConstructor">case</a> <a id="8304" href="Assignment4.html#8197" class="Bound">L</a> <a id="8306" href="Assignment4.html#8213" class="Bound">M</a> <a id="8308" href="Assignment4.html#8225" class="Bound">N</a> <a id="8310" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8313" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="8318" href="Assignment4.html#8199" class="Bound">L′</a> <a id="8321" href="Assignment4.html#8213" class="Bound">M</a> <a id="8323" href="Assignment4.html#8225" class="Bound">N</a>

    <a id="More._—→_.β-zero"></a><a id="8330" href="/PLFA-zh/TSPL/2018/Assignment4/#8330" class="InductiveConstructor">β-zero</a> <a id="8337" class="Symbol">:</a>  <a id="8340" class="Symbol">∀</a> <a id="8342" class="Symbol">{</a><a id="8343" href="Assignment4.html#8343" class="Bound">Γ</a> <a id="8345" href="Assignment4.html#8345" class="Bound">A</a><a id="8346" class="Symbol">}</a> <a id="8348" class="Symbol">{</a><a id="8349" href="Assignment4.html#8349" class="Bound">M</a> <a id="8351" class="Symbol">:</a> <a id="8353" href="Assignment4.html#8343" class="Bound">Γ</a> <a id="8355" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8357" href="Assignment4.html#8345" class="Bound">A</a><a id="8358" class="Symbol">}</a> <a id="8360" class="Symbol">{</a><a id="8361" href="Assignment4.html#8361" class="Bound">N</a> <a id="8363" class="Symbol">:</a> <a id="8365" href="Assignment4.html#8343" class="Bound">Γ</a> <a id="8367" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="8369" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a> <a id="8372" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8374" href="Assignment4.html#8345" class="Bound">A</a><a id="8375" class="Symbol">}</a>
        <a id="8385" class="Comment">-------------------</a>
      <a id="8411" class="Symbol">→</a> <a id="8413" href="/PLFA-zh/TSPL/2018/Assignment4/#3102" class="InductiveConstructor">case</a> <a id="8418" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="8424" href="Assignment4.html#8349" class="Bound">M</a> <a id="8426" href="Assignment4.html#8361" class="Bound">N</a> <a id="8428" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8431" href="Assignment4.html#8349" class="Bound">M</a>

    <a id="More._—→_.β-suc"></a><a id="8438" href="/PLFA-zh/TSPL/2018/Assignment4/#8438" class="InductiveConstructor">β-suc</a> <a id="8444" class="Symbol">:</a> <a id="8446" class="Symbol">∀</a> <a id="8448" class="Symbol">{</a><a id="8449" href="Assignment4.html#8449" class="Bound">Γ</a> <a id="8451" href="Assignment4.html#8451" class="Bound">A</a><a id="8452" class="Symbol">}</a> <a id="8454" class="Symbol">{</a><a id="8455" href="Assignment4.html#8455" class="Bound">V</a> <a id="8457" class="Symbol">:</a> <a id="8459" href="Assignment4.html#8449" class="Bound">Γ</a> <a id="8461" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8463" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a><a id="8465" class="Symbol">}</a> <a id="8467" class="Symbol">{</a><a id="8468" href="Assignment4.html#8468" class="Bound">M</a> <a id="8470" class="Symbol">:</a> <a id="8472" href="Assignment4.html#8449" class="Bound">Γ</a> <a id="8474" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8476" href="Assignment4.html#8451" class="Bound">A</a><a id="8477" class="Symbol">}</a> <a id="8479" class="Symbol">{</a><a id="8480" href="Assignment4.html#8480" class="Bound">N</a> <a id="8482" class="Symbol">:</a> <a id="8484" href="Assignment4.html#8449" class="Bound">Γ</a> <a id="8486" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="8488" href="Assignment4.html#2131" class="InductiveConstructor">`ℕ</a> <a id="8491" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8493" href="Assignment4.html#8451" class="Bound">A</a><a id="8494" class="Symbol">}</a>
      <a id="8502" class="Symbol">→</a> <a id="8504" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="8510" href="Assignment4.html#8455" class="Bound">V</a>
        <a id="8520" class="Comment">----------------------------</a>
      <a id="8555" class="Symbol">→</a> <a id="8557" href="/PLFA-zh/TSPL/2018/Assignment4/#3102" class="InductiveConstructor">case</a> <a id="8562" class="Symbol">(</a><a id="8563" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="8568" href="Assignment4.html#8455" class="Bound">V</a><a id="8569" class="Symbol">)</a> <a id="8571" href="Assignment4.html#8468" class="Bound">M</a> <a id="8573" href="Assignment4.html#8480" class="Bound">N</a> <a id="8575" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8578" href="Assignment4.html#8480" class="Bound">N</a> <a id="8580" href="Assignment4.html#6398" class="Function Operator">[</a> <a id="8582" href="Assignment4.html#8455" class="Bound">V</a> <a id="8584" href="Assignment4.html#6398" class="Function Operator">]</a>

    <a id="8591" class="Comment">-- fixpoint</a>

    <a id="More._—→_.β-μ"></a><a id="8608" href="/PLFA-zh/TSPL/2018/Assignment4/#8608" class="InductiveConstructor">β-μ</a> <a id="8612" class="Symbol">:</a> <a id="8614" class="Symbol">∀</a> <a id="8616" class="Symbol">{</a><a id="8617" href="Assignment4.html#8617" class="Bound">Γ</a> <a id="8619" href="Assignment4.html#8619" class="Bound">A</a><a id="8620" class="Symbol">}</a> <a id="8622" class="Symbol">{</a><a id="8623" href="Assignment4.html#8623" class="Bound">N</a> <a id="8625" class="Symbol">:</a> <a id="8627" href="Assignment4.html#8617" class="Bound">Γ</a> <a id="8629" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="8631" href="Assignment4.html#8619" class="Bound">A</a> <a id="8633" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8635" href="Assignment4.html#8619" class="Bound">A</a><a id="8636" class="Symbol">}</a>
        <a id="8646" class="Comment">----------------</a>
      <a id="8669" class="Symbol">→</a> <a id="8671" href="/PLFA-zh/TSPL/2018/Assignment4/#3215" class="InductiveConstructor Operator">μ</a> <a id="8673" href="Assignment4.html#8623" class="Bound">N</a> <a id="8675" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8678" href="Assignment4.html#8623" class="Bound">N</a> <a id="8680" href="Assignment4.html#6398" class="Function Operator">[</a> <a id="8682" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="8684" href="Assignment4.html#8623" class="Bound">N</a> <a id="8686" href="Assignment4.html#6398" class="Function Operator">]</a>

    <a id="8693" class="Comment">-- primitive numbers</a>

    <a id="More._—→_.ξ-*₁"></a><a id="8719" href="/PLFA-zh/TSPL/2018/Assignment4/#8719" class="InductiveConstructor">ξ-*₁</a> <a id="8724" class="Symbol">:</a> <a id="8726" class="Symbol">∀</a> <a id="8728" class="Symbol">{</a><a id="8729" href="Assignment4.html#8729" class="Bound">Γ</a><a id="8730" class="Symbol">}</a> <a id="8732" class="Symbol">{</a><a id="8733" href="Assignment4.html#8733" class="Bound">L</a> <a id="8735" href="Assignment4.html#8735" class="Bound">L′</a> <a id="8738" href="Assignment4.html#8738" class="Bound">M</a> <a id="8740" class="Symbol">:</a> <a id="8742" href="Assignment4.html#8729" class="Bound">Γ</a> <a id="8744" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8746" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a><a id="8749" class="Symbol">}</a>
      <a id="8757" class="Symbol">→</a> <a id="8759" href="/PLFA-zh/TSPL/2018/Assignment4/#8733" class="Bound">L</a> <a id="8761" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8764" href="Assignment4.html#8735" class="Bound">L′</a>
        <a id="8775" class="Comment">-----------------</a>
      <a id="8799" class="Symbol">→</a> <a id="8801" href="/PLFA-zh/TSPL/2018/Assignment4/#8733" class="Bound">L</a> <a id="8803" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="8806" href="Assignment4.html#8738" class="Bound">M</a> <a id="8808" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8811" href="Assignment4.html#8735" class="Bound">L′</a> <a id="8814" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="8817" href="Assignment4.html#8738" class="Bound">M</a>

    <a id="More._—→_.ξ-*₂"></a><a id="8824" href="/PLFA-zh/TSPL/2018/Assignment4/#8824" class="InductiveConstructor">ξ-*₂</a> <a id="8829" class="Symbol">:</a> <a id="8831" class="Symbol">∀</a> <a id="8833" class="Symbol">{</a><a id="8834" href="Assignment4.html#8834" class="Bound">Γ</a><a id="8835" class="Symbol">}</a> <a id="8837" class="Symbol">{</a><a id="8838" href="Assignment4.html#8838" class="Bound">V</a> <a id="8840" href="Assignment4.html#8840" class="Bound">M</a> <a id="8842" href="Assignment4.html#8842" class="Bound">M′</a> <a id="8845" class="Symbol">:</a> <a id="8847" href="Assignment4.html#8834" class="Bound">Γ</a> <a id="8849" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="8851" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a><a id="8854" class="Symbol">}</a>
      <a id="8862" class="Symbol">→</a> <a id="8864" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="8870" href="Assignment4.html#8838" class="Bound">V</a>
      <a id="8878" class="Symbol">→</a> <a id="8880" href="/PLFA-zh/TSPL/2018/Assignment4/#8840" class="Bound">M</a> <a id="8882" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8885" href="Assignment4.html#8842" class="Bound">M′</a>
        <a id="8896" class="Comment">-----------------</a>
      <a id="8920" class="Symbol">→</a> <a id="8922" href="/PLFA-zh/TSPL/2018/Assignment4/#8838" class="Bound">V</a> <a id="8924" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="8927" href="Assignment4.html#8840" class="Bound">M</a> <a id="8929" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="8932" href="Assignment4.html#8838" class="Bound">V</a> <a id="8934" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="8937" href="Assignment4.html#8842" class="Bound">M′</a>

    <a id="More._—→_.δ-*"></a><a id="8945" href="/PLFA-zh/TSPL/2018/Assignment4/#8945" class="InductiveConstructor">δ-*</a> <a id="8949" class="Symbol">:</a> <a id="8951" class="Symbol">∀</a> <a id="8953" class="Symbol">{</a><a id="8954" href="Assignment4.html#8954" class="Bound">Γ</a> <a id="8956" href="Assignment4.html#8956" class="Bound">c</a> <a id="8958" href="Assignment4.html#8958" class="Bound">d</a><a id="8959" class="Symbol">}</a>
        <a id="8969" class="Comment">-------------------------------------</a>
      <a id="9013" class="Symbol">→</a> <a id="9015" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="9019" class="Symbol">{</a><a id="9020" class="Argument">Γ</a> <a id="9022" class="Symbol">=</a> <a id="9024" href="Assignment4.html#8954" class="Bound">Γ</a><a id="9025" class="Symbol">}</a> <a id="9027" href="Assignment4.html#8956" class="Bound">c</a> <a id="9029" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="9032" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="9036" href="Assignment4.html#8958" class="Bound">d</a> <a id="9038" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9041" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="9045" class="Symbol">(</a><a id="9046" href="Assignment4.html#8956" class="Bound">c</a> <a id="9048" href="Agda.Builtin.Nat.html#501" class="Primitive Operator">*</a> <a id="9050" href="Assignment4.html#8958" class="Bound">d</a><a id="9051" class="Symbol">)</a>

    <a id="9058" class="Comment">-- let</a>

    <a id="More._—→_.ξ-let"></a><a id="9070" href="/PLFA-zh/TSPL/2018/Assignment4/#9070" class="InductiveConstructor">ξ-let</a> <a id="9076" class="Symbol">:</a> <a id="9078" class="Symbol">∀</a> <a id="9080" class="Symbol">{</a><a id="9081" href="Assignment4.html#9081" class="Bound">Γ</a> <a id="9083" href="Assignment4.html#9083" class="Bound">A</a> <a id="9085" href="Assignment4.html#9085" class="Bound">B</a><a id="9086" class="Symbol">}</a> <a id="9088" class="Symbol">{</a><a id="9089" href="Assignment4.html#9089" class="Bound">M</a> <a id="9091" href="Assignment4.html#9091" class="Bound">M′</a> <a id="9094" class="Symbol">:</a> <a id="9096" href="Assignment4.html#9081" class="Bound">Γ</a> <a id="9098" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9100" href="Assignment4.html#9083" class="Bound">A</a><a id="9101" class="Symbol">}</a> <a id="9103" class="Symbol">{</a><a id="9104" href="Assignment4.html#9104" class="Bound">N</a> <a id="9106" class="Symbol">:</a> <a id="9108" href="Assignment4.html#9081" class="Bound">Γ</a> <a id="9110" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="9112" href="Assignment4.html#9083" class="Bound">A</a> <a id="9114" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9116" href="Assignment4.html#9085" class="Bound">B</a><a id="9117" class="Symbol">}</a>
      <a id="9125" class="Symbol">→</a> <a id="9127" href="/PLFA-zh/TSPL/2018/Assignment4/#9089" class="Bound">M</a> <a id="9129" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9132" href="Assignment4.html#9091" class="Bound">M′</a>
        <a id="9143" class="Comment">---------------------</a>
      <a id="9171" class="Symbol">→</a> <a id="9173" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="9178" href="Assignment4.html#9089" class="Bound">M</a> <a id="9180" href="Assignment4.html#9104" class="Bound">N</a> <a id="9182" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9185" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="9190" href="Assignment4.html#9091" class="Bound">M′</a> <a id="9193" href="Assignment4.html#9104" class="Bound">N</a>

    <a id="More._—→_.β-let"></a><a id="9200" href="/PLFA-zh/TSPL/2018/Assignment4/#9200" class="InductiveConstructor">β-let</a> <a id="9206" class="Symbol">:</a> <a id="9208" class="Symbol">∀</a> <a id="9210" class="Symbol">{</a><a id="9211" href="Assignment4.html#9211" class="Bound">Γ</a> <a id="9213" href="Assignment4.html#9213" class="Bound">A</a> <a id="9215" href="Assignment4.html#9215" class="Bound">B</a><a id="9216" class="Symbol">}</a> <a id="9218" class="Symbol">{</a><a id="9219" href="Assignment4.html#9219" class="Bound">V</a> <a id="9221" class="Symbol">:</a> <a id="9223" href="Assignment4.html#9211" class="Bound">Γ</a> <a id="9225" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9227" href="Assignment4.html#9213" class="Bound">A</a><a id="9228" class="Symbol">}</a> <a id="9230" class="Symbol">{</a><a id="9231" href="Assignment4.html#9231" class="Bound">N</a> <a id="9233" class="Symbol">:</a> <a id="9235" href="Assignment4.html#9211" class="Bound">Γ</a> <a id="9237" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="9239" href="Assignment4.html#9213" class="Bound">A</a> <a id="9241" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9243" href="Assignment4.html#9215" class="Bound">B</a><a id="9244" class="Symbol">}</a>
      <a id="9252" class="Symbol">→</a> <a id="9254" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="9260" href="Assignment4.html#9219" class="Bound">V</a>
        <a id="9270" class="Comment">-------------------</a>
      <a id="9296" class="Symbol">→</a> <a id="9298" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="9303" href="Assignment4.html#9219" class="Bound">V</a> <a id="9305" href="Assignment4.html#9231" class="Bound">N</a> <a id="9307" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9310" href="Assignment4.html#9231" class="Bound">N</a> <a id="9312" href="Assignment4.html#6398" class="Function Operator">[</a> <a id="9314" href="Assignment4.html#9219" class="Bound">V</a> <a id="9316" href="Assignment4.html#6398" class="Function Operator">]</a>

    <a id="9323" class="Comment">-- products</a>

    <a id="More._—→_.ξ-⟨,⟩₁"></a><a id="9340" href="/PLFA-zh/TSPL/2018/Assignment4/#9340" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="9347" class="Symbol">:</a> <a id="9349" class="Symbol">∀</a> <a id="9351" class="Symbol">{</a><a id="9352" href="Assignment4.html#9352" class="Bound">Γ</a> <a id="9354" href="Assignment4.html#9354" class="Bound">A</a> <a id="9356" href="Assignment4.html#9356" class="Bound">B</a><a id="9357" class="Symbol">}</a> <a id="9359" class="Symbol">{</a><a id="9360" href="Assignment4.html#9360" class="Bound">M</a> <a id="9362" href="Assignment4.html#9362" class="Bound">M′</a> <a id="9365" class="Symbol">:</a> <a id="9367" href="Assignment4.html#9352" class="Bound">Γ</a> <a id="9369" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9371" href="Assignment4.html#9354" class="Bound">A</a><a id="9372" class="Symbol">}</a> <a id="9374" class="Symbol">{</a><a id="9375" href="Assignment4.html#9375" class="Bound">N</a> <a id="9377" class="Symbol">:</a> <a id="9379" href="Assignment4.html#9352" class="Bound">Γ</a> <a id="9381" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9383" href="Assignment4.html#9356" class="Bound">B</a><a id="9384" class="Symbol">}</a>
      <a id="9392" class="Symbol">→</a> <a id="9394" href="/PLFA-zh/TSPL/2018/Assignment4/#9360" class="Bound">M</a> <a id="9396" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9399" href="Assignment4.html#9362" class="Bound">M′</a>
        <a id="9410" class="Comment">-------------------------</a>
      <a id="9442" class="Symbol">→</a> <a id="9444" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="9447" href="Assignment4.html#9360" class="Bound">M</a> <a id="9449" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="9451" href="Assignment4.html#9375" class="Bound">N</a> <a id="9453" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="9455" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9458" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="9461" href="Assignment4.html#9362" class="Bound">M′</a> <a id="9464" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="9466" href="Assignment4.html#9375" class="Bound">N</a> <a id="9468" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>

    <a id="More._—→_.ξ-⟨,⟩₂"></a><a id="9475" href="/PLFA-zh/TSPL/2018/Assignment4/#9475" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="9482" class="Symbol">:</a> <a id="9484" class="Symbol">∀</a> <a id="9486" class="Symbol">{</a><a id="9487" href="Assignment4.html#9487" class="Bound">Γ</a> <a id="9489" href="Assignment4.html#9489" class="Bound">A</a> <a id="9491" href="Assignment4.html#9491" class="Bound">B</a><a id="9492" class="Symbol">}</a> <a id="9494" class="Symbol">{</a><a id="9495" href="Assignment4.html#9495" class="Bound">V</a> <a id="9497" class="Symbol">:</a> <a id="9499" href="Assignment4.html#9487" class="Bound">Γ</a> <a id="9501" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9503" href="Assignment4.html#9489" class="Bound">A</a><a id="9504" class="Symbol">}</a> <a id="9506" class="Symbol">{</a><a id="9507" href="Assignment4.html#9507" class="Bound">N</a> <a id="9509" href="Assignment4.html#9509" class="Bound">N′</a> <a id="9512" class="Symbol">:</a> <a id="9514" href="Assignment4.html#9487" class="Bound">Γ</a> <a id="9516" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9518" href="Assignment4.html#9491" class="Bound">B</a><a id="9519" class="Symbol">}</a>
      <a id="9527" class="Symbol">→</a> <a id="9529" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="9535" href="Assignment4.html#9495" class="Bound">V</a>
      <a id="9543" class="Symbol">→</a> <a id="9545" href="/PLFA-zh/TSPL/2018/Assignment4/#9507" class="Bound">N</a> <a id="9547" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9550" href="Assignment4.html#9509" class="Bound">N′</a>
        <a id="9561" class="Comment">-------------------------</a>
      <a id="9593" class="Symbol">→</a> <a id="9595" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="9598" href="Assignment4.html#9495" class="Bound">V</a> <a id="9600" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="9602" href="Assignment4.html#9507" class="Bound">N</a> <a id="9604" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="9606" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9609" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="9612" href="Assignment4.html#9495" class="Bound">V</a> <a id="9614" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="9616" href="Assignment4.html#9509" class="Bound">N′</a> <a id="9619" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>

    <a id="More._—→_.ξ-proj₁"></a><a id="9626" href="/PLFA-zh/TSPL/2018/Assignment4/#9626" class="InductiveConstructor">ξ-proj₁</a> <a id="9634" class="Symbol">:</a> <a id="9636" class="Symbol">∀</a> <a id="9638" class="Symbol">{</a><a id="9639" href="Assignment4.html#9639" class="Bound">Γ</a> <a id="9641" href="Assignment4.html#9641" class="Bound">A</a> <a id="9643" href="Assignment4.html#9643" class="Bound">B</a><a id="9644" class="Symbol">}</a> <a id="9646" class="Symbol">{</a><a id="9647" href="Assignment4.html#9647" class="Bound">L</a> <a id="9649" href="Assignment4.html#9649" class="Bound">L′</a> <a id="9652" class="Symbol">:</a> <a id="9654" href="Assignment4.html#9639" class="Bound">Γ</a> <a id="9656" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9658" href="Assignment4.html#9641" class="Bound">A</a> <a id="9660" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="9663" href="Assignment4.html#9643" class="Bound">B</a><a id="9664" class="Symbol">}</a>
      <a id="9672" class="Symbol">→</a> <a id="9674" href="/PLFA-zh/TSPL/2018/Assignment4/#9647" class="Bound">L</a> <a id="9676" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9679" href="Assignment4.html#9649" class="Bound">L′</a>
        <a id="9690" class="Comment">---------------------</a>
      <a id="9718" class="Symbol">→</a> <a id="9720" href="/PLFA-zh/TSPL/2018/Assignment4/#3658" class="InductiveConstructor">`proj₁</a> <a id="9727" href="Assignment4.html#9647" class="Bound">L</a> <a id="9729" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9732" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="9739" href="Assignment4.html#9649" class="Bound">L′</a>

    <a id="More._—→_.ξ-proj₂"></a><a id="9747" href="/PLFA-zh/TSPL/2018/Assignment4/#9747" class="InductiveConstructor">ξ-proj₂</a> <a id="9755" class="Symbol">:</a> <a id="9757" class="Symbol">∀</a> <a id="9759" class="Symbol">{</a><a id="9760" href="Assignment4.html#9760" class="Bound">Γ</a> <a id="9762" href="Assignment4.html#9762" class="Bound">A</a> <a id="9764" href="Assignment4.html#9764" class="Bound">B</a><a id="9765" class="Symbol">}</a> <a id="9767" class="Symbol">{</a><a id="9768" href="Assignment4.html#9768" class="Bound">L</a> <a id="9770" href="Assignment4.html#9770" class="Bound">L′</a> <a id="9773" class="Symbol">:</a> <a id="9775" href="Assignment4.html#9760" class="Bound">Γ</a> <a id="9777" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9779" href="Assignment4.html#9762" class="Bound">A</a> <a id="9781" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="9784" href="Assignment4.html#9764" class="Bound">B</a><a id="9785" class="Symbol">}</a>
      <a id="9793" class="Symbol">→</a> <a id="9795" href="/PLFA-zh/TSPL/2018/Assignment4/#9768" class="Bound">L</a> <a id="9797" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9800" href="Assignment4.html#9770" class="Bound">L′</a>
        <a id="9811" class="Comment">---------------------</a>
      <a id="9839" class="Symbol">→</a> <a id="9841" href="/PLFA-zh/TSPL/2018/Assignment4/#3735" class="InductiveConstructor">`proj₂</a> <a id="9848" href="Assignment4.html#9768" class="Bound">L</a> <a id="9850" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="9853" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="9860" href="Assignment4.html#9770" class="Bound">L′</a>

    <a id="More._—→_.β-proj₁"></a><a id="9868" href="/PLFA-zh/TSPL/2018/Assignment4/#9868" class="InductiveConstructor">β-proj₁</a> <a id="9876" class="Symbol">:</a> <a id="9878" class="Symbol">∀</a> <a id="9880" class="Symbol">{</a><a id="9881" href="Assignment4.html#9881" class="Bound">Γ</a> <a id="9883" href="Assignment4.html#9883" class="Bound">A</a> <a id="9885" href="Assignment4.html#9885" class="Bound">B</a><a id="9886" class="Symbol">}</a> <a id="9888" class="Symbol">{</a><a id="9889" href="Assignment4.html#9889" class="Bound">V</a> <a id="9891" class="Symbol">:</a> <a id="9893" href="Assignment4.html#9881" class="Bound">Γ</a> <a id="9895" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9897" href="Assignment4.html#9883" class="Bound">A</a><a id="9898" class="Symbol">}</a> <a id="9900" class="Symbol">{</a><a id="9901" href="Assignment4.html#9901" class="Bound">W</a> <a id="9903" class="Symbol">:</a> <a id="9905" href="Assignment4.html#9881" class="Bound">Γ</a> <a id="9907" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="9909" href="Assignment4.html#9885" class="Bound">B</a><a id="9910" class="Symbol">}</a>
      <a id="9918" class="Symbol">→</a> <a id="9920" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="9926" href="Assignment4.html#9889" class="Bound">V</a>
      <a id="9934" class="Symbol">→</a> <a id="9936" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="9942" href="Assignment4.html#9901" class="Bound">W</a>
        <a id="9952" class="Comment">----------------------</a>
      <a id="9981" class="Symbol">→</a> <a id="9983" href="/PLFA-zh/TSPL/2018/Assignment4/#3658" class="InductiveConstructor">`proj₁</a> <a id="9990" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="9993" href="Assignment4.html#9889" class="Bound">V</a> <a id="9995" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="9997" href="Assignment4.html#9901" class="Bound">W</a> <a id="9999" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="10001" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10004" href="Assignment4.html#9889" class="Bound">V</a>

    <a id="More._—→_.β-proj₂"></a><a id="10011" href="/PLFA-zh/TSPL/2018/Assignment4/#10011" class="InductiveConstructor">β-proj₂</a> <a id="10019" class="Symbol">:</a> <a id="10021" class="Symbol">∀</a> <a id="10023" class="Symbol">{</a><a id="10024" href="Assignment4.html#10024" class="Bound">Γ</a> <a id="10026" href="Assignment4.html#10026" class="Bound">A</a> <a id="10028" href="Assignment4.html#10028" class="Bound">B</a><a id="10029" class="Symbol">}</a> <a id="10031" class="Symbol">{</a><a id="10032" href="Assignment4.html#10032" class="Bound">V</a> <a id="10034" class="Symbol">:</a> <a id="10036" href="Assignment4.html#10024" class="Bound">Γ</a> <a id="10038" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10040" href="Assignment4.html#10026" class="Bound">A</a><a id="10041" class="Symbol">}</a> <a id="10043" class="Symbol">{</a><a id="10044" href="Assignment4.html#10044" class="Bound">W</a> <a id="10046" class="Symbol">:</a> <a id="10048" href="Assignment4.html#10024" class="Bound">Γ</a> <a id="10050" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10052" href="Assignment4.html#10028" class="Bound">B</a><a id="10053" class="Symbol">}</a>
      <a id="10061" class="Symbol">→</a> <a id="10063" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="10069" href="Assignment4.html#10032" class="Bound">V</a>
      <a id="10077" class="Symbol">→</a> <a id="10079" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="10085" href="Assignment4.html#10044" class="Bound">W</a>
        <a id="10095" class="Comment">----------------------</a>
      <a id="10124" class="Symbol">→</a> <a id="10126" href="/PLFA-zh/TSPL/2018/Assignment4/#3735" class="InductiveConstructor">`proj₂</a> <a id="10133" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="10136" href="Assignment4.html#10032" class="Bound">V</a> <a id="10138" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="10140" href="Assignment4.html#10044" class="Bound">W</a> <a id="10142" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="10144" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10147" href="Assignment4.html#10044" class="Bound">W</a>

    <a id="10154" class="Comment">-- alternative formulation of products</a>

    <a id="More._—→_.ξ-case×"></a><a id="10198" href="/PLFA-zh/TSPL/2018/Assignment4/#10198" class="InductiveConstructor">ξ-case×</a> <a id="10206" class="Symbol">:</a> <a id="10208" class="Symbol">∀</a> <a id="10210" class="Symbol">{</a><a id="10211" href="Assignment4.html#10211" class="Bound">Γ</a> <a id="10213" href="Assignment4.html#10213" class="Bound">A</a> <a id="10215" href="Assignment4.html#10215" class="Bound">B</a> <a id="10217" href="Assignment4.html#10217" class="Bound">C</a><a id="10218" class="Symbol">}</a> <a id="10220" class="Symbol">{</a><a id="10221" href="Assignment4.html#10221" class="Bound">L</a> <a id="10223" href="Assignment4.html#10223" class="Bound">L′</a> <a id="10226" class="Symbol">:</a> <a id="10228" href="Assignment4.html#10211" class="Bound">Γ</a> <a id="10230" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10232" href="Assignment4.html#10213" class="Bound">A</a> <a id="10234" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="10237" href="Assignment4.html#10215" class="Bound">B</a><a id="10238" class="Symbol">}</a> <a id="10240" class="Symbol">{</a><a id="10241" href="Assignment4.html#10241" class="Bound">M</a> <a id="10243" class="Symbol">:</a> <a id="10245" href="Assignment4.html#10211" class="Bound">Γ</a> <a id="10247" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="10249" href="Assignment4.html#10213" class="Bound">A</a> <a id="10251" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="10253" href="Assignment4.html#10215" class="Bound">B</a> <a id="10255" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10257" href="Assignment4.html#10217" class="Bound">C</a><a id="10258" class="Symbol">}</a>
      <a id="10266" class="Symbol">→</a> <a id="10268" href="/PLFA-zh/TSPL/2018/Assignment4/#10221" class="Bound">L</a> <a id="10270" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10273" href="Assignment4.html#10223" class="Bound">L′</a>
        <a id="10284" class="Comment">-----------------------</a>
      <a id="10314" class="Symbol">→</a> <a id="10316" href="/PLFA-zh/TSPL/2018/Assignment4/#3856" class="InductiveConstructor">case×</a> <a id="10322" href="Assignment4.html#10221" class="Bound">L</a> <a id="10324" href="Assignment4.html#10241" class="Bound">M</a> <a id="10326" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10329" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="10335" href="Assignment4.html#10223" class="Bound">L′</a> <a id="10338" href="Assignment4.html#10241" class="Bound">M</a>

    <a id="More._—→_.β-case×"></a><a id="10345" href="/PLFA-zh/TSPL/2018/Assignment4/#10345" class="InductiveConstructor">β-case×</a> <a id="10353" class="Symbol">:</a> <a id="10355" class="Symbol">∀</a> <a id="10357" class="Symbol">{</a><a id="10358" href="Assignment4.html#10358" class="Bound">Γ</a> <a id="10360" href="Assignment4.html#10360" class="Bound">A</a> <a id="10362" href="Assignment4.html#10362" class="Bound">B</a> <a id="10364" href="Assignment4.html#10364" class="Bound">C</a><a id="10365" class="Symbol">}</a> <a id="10367" class="Symbol">{</a><a id="10368" href="Assignment4.html#10368" class="Bound">V</a> <a id="10370" class="Symbol">:</a> <a id="10372" href="Assignment4.html#10358" class="Bound">Γ</a> <a id="10374" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10376" href="Assignment4.html#10360" class="Bound">A</a><a id="10377" class="Symbol">}</a> <a id="10379" class="Symbol">{</a><a id="10380" href="Assignment4.html#10380" class="Bound">W</a> <a id="10382" class="Symbol">:</a> <a id="10384" href="Assignment4.html#10358" class="Bound">Γ</a> <a id="10386" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10388" href="Assignment4.html#10362" class="Bound">B</a><a id="10389" class="Symbol">}</a> <a id="10391" class="Symbol">{</a><a id="10392" href="Assignment4.html#10392" class="Bound">M</a> <a id="10394" class="Symbol">:</a> <a id="10396" href="Assignment4.html#10358" class="Bound">Γ</a> <a id="10398" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="10400" href="Assignment4.html#10360" class="Bound">A</a> <a id="10402" href="Assignment4.html#2384" class="InductiveConstructor Operator">,</a> <a id="10404" href="Assignment4.html#10362" class="Bound">B</a> <a id="10406" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10408" href="Assignment4.html#10364" class="Bound">C</a><a id="10409" class="Symbol">}</a>
      <a id="10417" class="Symbol">→</a> <a id="10419" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="10425" href="Assignment4.html#10368" class="Bound">V</a>
      <a id="10433" class="Symbol">→</a> <a id="10435" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="10441" href="Assignment4.html#10380" class="Bound">W</a>
        <a id="10451" class="Comment">----------------------------------</a>
      <a id="10492" class="Symbol">→</a> <a id="10494" href="/PLFA-zh/TSPL/2018/Assignment4/#3856" class="InductiveConstructor">case×</a> <a id="10500" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="10503" href="Assignment4.html#10368" class="Bound">V</a> <a id="10505" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="10507" href="Assignment4.html#10380" class="Bound">W</a> <a id="10509" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="10511" href="Assignment4.html#10392" class="Bound">M</a> <a id="10513" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10516" href="Assignment4.html#10392" class="Bound">M</a> <a id="10518" href="Assignment4.html#6601" class="Function Operator">[</a> <a id="10520" href="Assignment4.html#10368" class="Bound">V</a> <a id="10522" href="Assignment4.html#6601" class="Function Operator">][</a> <a id="10525" href="Assignment4.html#10380" class="Bound">W</a> <a id="10527" href="Assignment4.html#6601" class="Function Operator">]</a>
</pre>
<h2 id="reflexive-and-transitive-closure">Reflexive and transitive closure</h2>

<pre class="Agda">  <a id="10577" class="Keyword">infix</a>  <a id="10584" class="Number">2</a> <a id="10586" href="/PLFA-zh/TSPL/2018/Assignment4/#10650" class="Datatype Operator">_—↠_</a>
  <a id="10593" class="Keyword">infix</a>  <a id="10600" class="Number">1</a> <a id="10602" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin_</a>
  <a id="10611" class="Keyword">infixr</a> <a id="10618" class="Number">2</a> <a id="10620" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
  <a id="10630" class="Keyword">infix</a>  <a id="10637" class="Number">3</a> <a id="10639" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">_∎</a>

  <a id="10645" class="Keyword">data</a> <a id="More._—↠_"></a><a id="10650" href="/PLFA-zh/TSPL/2018/Assignment4/#10650" class="Datatype Operator">_—↠_</a> <a id="10655" class="Symbol">:</a> <a id="10657" class="Symbol">∀</a> <a id="10659" class="Symbol">{</a><a id="10660" href="Assignment4.html#10660" class="Bound">Γ</a> <a id="10662" href="Assignment4.html#10662" class="Bound">A</a><a id="10663" class="Symbol">}</a> <a id="10665" class="Symbol">→</a> <a id="10667" class="Symbol">(</a><a id="10668" href="Assignment4.html#10660" class="Bound">Γ</a> <a id="10670" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10672" href="Assignment4.html#10662" class="Bound">A</a><a id="10673" class="Symbol">)</a> <a id="10675" class="Symbol">→</a> <a id="10677" class="Symbol">(</a><a id="10678" href="Assignment4.html#10660" class="Bound">Γ</a> <a id="10680" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10682" href="Assignment4.html#10662" class="Bound">A</a><a id="10683" class="Symbol">)</a> <a id="10685" class="Symbol">→</a> <a id="10687" class="PrimitiveType">Set</a> <a id="10691" class="Keyword">where</a>

    <a id="More._—↠_._∎"></a><a id="10702" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">_∎</a> <a id="10705" class="Symbol">:</a> <a id="10707" class="Symbol">∀</a> <a id="10709" class="Symbol">{</a><a id="10710" href="Assignment4.html#10710" class="Bound">Γ</a> <a id="10712" href="Assignment4.html#10712" class="Bound">A</a><a id="10713" class="Symbol">}</a> <a id="10715" class="Symbol">(</a><a id="10716" href="Assignment4.html#10716" class="Bound">M</a> <a id="10718" class="Symbol">:</a> <a id="10720" href="Assignment4.html#10710" class="Bound">Γ</a> <a id="10722" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10724" href="Assignment4.html#10712" class="Bound">A</a><a id="10725" class="Symbol">)</a>
        <a id="10735" class="Comment">--------</a>
      <a id="10750" class="Symbol">→</a> <a id="10752" href="/PLFA-zh/TSPL/2018/Assignment4/#10716" class="Bound">M</a> <a id="10754" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="10757" href="Assignment4.html#10716" class="Bound">M</a>

    <a id="More._—↠_._—→⟨_⟩_"></a><a id="10764" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="10772" class="Symbol">:</a> <a id="10774" class="Symbol">∀</a> <a id="10776" class="Symbol">{</a><a id="10777" href="Assignment4.html#10777" class="Bound">Γ</a> <a id="10779" href="Assignment4.html#10779" class="Bound">A</a><a id="10780" class="Symbol">}</a> <a id="10782" class="Symbol">(</a><a id="10783" href="Assignment4.html#10783" class="Bound">L</a> <a id="10785" class="Symbol">:</a> <a id="10787" href="Assignment4.html#10777" class="Bound">Γ</a> <a id="10789" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10791" href="Assignment4.html#10779" class="Bound">A</a><a id="10792" class="Symbol">)</a> <a id="10794" class="Symbol">{</a><a id="10795" href="Assignment4.html#10795" class="Bound">M</a> <a id="10797" href="Assignment4.html#10797" class="Bound">N</a> <a id="10799" class="Symbol">:</a> <a id="10801" href="Assignment4.html#10777" class="Bound">Γ</a> <a id="10803" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10805" href="Assignment4.html#10779" class="Bound">A</a><a id="10806" class="Symbol">}</a>
      <a id="10814" class="Symbol">→</a> <a id="10816" href="/PLFA-zh/TSPL/2018/Assignment4/#10783" class="Bound">L</a> <a id="10818" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="10821" href="Assignment4.html#10795" class="Bound">M</a>
      <a id="10829" class="Symbol">→</a> <a id="10831" href="/PLFA-zh/TSPL/2018/Assignment4/#10795" class="Bound">M</a> <a id="10833" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="10836" href="Assignment4.html#10797" class="Bound">N</a>
        <a id="10846" class="Comment">------</a>
      <a id="10859" class="Symbol">→</a> <a id="10861" href="/PLFA-zh/TSPL/2018/Assignment4/#10783" class="Bound">L</a> <a id="10863" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="10866" href="Assignment4.html#10797" class="Bound">N</a>

  <a id="More.begin_"></a><a id="10871" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin_</a> <a id="10878" class="Symbol">:</a> <a id="10880" class="Symbol">∀</a> <a id="10882" class="Symbol">{</a><a id="10883" href="Assignment4.html#10883" class="Bound">Γ</a><a id="10884" class="Symbol">}</a> <a id="10886" class="Symbol">{</a><a id="10887" href="Assignment4.html#10887" class="Bound">A</a><a id="10888" class="Symbol">}</a> <a id="10890" class="Symbol">{</a><a id="10891" href="Assignment4.html#10891" class="Bound">M</a> <a id="10893" href="Assignment4.html#10893" class="Bound">N</a> <a id="10895" class="Symbol">:</a> <a id="10897" href="Assignment4.html#10883" class="Bound">Γ</a> <a id="10899" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="10901" href="Assignment4.html#10887" class="Bound">A</a><a id="10902" class="Symbol">}</a>
    <a id="10908" class="Symbol">→</a> <a id="10910" href="/PLFA-zh/TSPL/2018/Assignment4/#10891" class="Bound">M</a> <a id="10912" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="10915" href="Assignment4.html#10893" class="Bound">N</a>
      <a id="10923" class="Comment">------</a>
    <a id="10934" class="Symbol">→</a> <a id="10936" href="/PLFA-zh/TSPL/2018/Assignment4/#10891" class="Bound">M</a> <a id="10938" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="10941" href="Assignment4.html#10893" class="Bound">N</a>
  <a id="10945" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin</a> <a id="10951" href="Assignment4.html#10951" class="Bound">M—↠N</a> <a id="10956" class="Symbol">=</a> <a id="10958" href="Assignment4.html#10951" class="Bound">M—↠N</a>
</pre>

<h2 id="values-do-not-reduce">Values do not reduce</h2>

<pre class="Agda">  <a id="More.V¬—→"></a><a id="11000" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11005" class="Symbol">:</a> <a id="11007" class="Symbol">∀</a> <a id="11009" class="Symbol">{</a><a id="11010" href="Assignment4.html#11010" class="Bound">Γ</a> <a id="11012" href="Assignment4.html#11012" class="Bound">A</a><a id="11013" class="Symbol">}</a> <a id="11015" class="Symbol">{</a><a id="11016" href="Assignment4.html#11016" class="Bound">M</a> <a id="11018" href="Assignment4.html#11018" class="Bound">N</a> <a id="11020" class="Symbol">:</a> <a id="11022" href="Assignment4.html#11010" class="Bound">Γ</a> <a id="11024" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="11026" href="Assignment4.html#11012" class="Bound">A</a><a id="11027" class="Symbol">}</a>
    <a id="11033" class="Symbol">→</a> <a id="11035" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="11041" href="Assignment4.html#11016" class="Bound">M</a>
      <a id="11049" class="Comment">----------</a>
    <a id="11064" class="Symbol">→</a> <a id="11066" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="11068" class="Symbol">(</a><a id="11069" href="/PLFA-zh/TSPL/2018/Assignment4/#11016" class="Bound">M</a> <a id="11071" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="11074" href="Assignment4.html#11018" class="Bound">N</a><a id="11075" class="Symbol">)</a>
  <a id="11079" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11084" href="Assignment4.html#6960" class="InductiveConstructor">V-ƛ</a>          <a id="11097" class="Symbol">()</a>
  <a id="11102" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11107" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a>       <a id="11120" class="Symbol">()</a>
  <a id="11125" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11130" class="Symbol">(</a><a id="11131" href="Assignment4.html#7144" class="InductiveConstructor Operator">V-suc</a> <a id="11137" href="Assignment4.html#11137" class="Bound">VM</a><a id="11139" class="Symbol">)</a>   <a id="11143" class="Symbol">(</a><a id="11144" href="Assignment4.html#8076" class="InductiveConstructor">ξ-suc</a> <a id="11150" href="Assignment4.html#11150" class="Bound">M—→M′</a><a id="11155" class="Symbol">)</a>     <a id="11161" class="Symbol">=</a>  <a id="11164" href="Assignment4.html#11000" class="Function">V¬—→</a> <a id="11169" href="Assignment4.html#11137" class="Bound">VM</a> <a id="11172" href="Assignment4.html#11150" class="Bound">M—→M′</a>
  <a id="11180" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11185" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a>        <a id="11198" class="Symbol">()</a>
  <a id="11203" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11208" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="11212" href="Assignment4.html#11212" class="Bound">VM</a> <a id="11215" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="11217" class="Symbol">_</a> <a id="11219" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a> <a id="11221" class="Symbol">(</a><a id="11222" href="Assignment4.html#9340" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="11229" href="Assignment4.html#11229" class="Bound">M—→M′</a><a id="11234" class="Symbol">)</a>    <a id="11239" class="Symbol">=</a>  <a id="11242" href="Assignment4.html#11000" class="Function">V¬—→</a> <a id="11247" href="Assignment4.html#11212" class="Bound">VM</a> <a id="11250" href="Assignment4.html#11229" class="Bound">M—→M′</a>
  <a id="11258" href="/PLFA-zh/TSPL/2018/Assignment4/#11000" class="Function">V¬—→</a> <a id="11263" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="11267" class="Symbol">_</a> <a id="11269" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="11271" href="Assignment4.html#11271" class="Bound">VN</a> <a id="11274" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a> <a id="11276" class="Symbol">(</a><a id="11277" href="Assignment4.html#9475" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="11284" class="Symbol">_</a> <a id="11286" href="Assignment4.html#11286" class="Bound">N—→N′</a><a id="11291" class="Symbol">)</a>  <a id="11294" class="Symbol">=</a>  <a id="11297" href="Assignment4.html#11000" class="Function">V¬—→</a> <a id="11302" href="Assignment4.html#11271" class="Bound">VN</a> <a id="11305" href="Assignment4.html#11286" class="Bound">N—→N′</a>
</pre>

<h2 id="progress">Progress</h2>

<pre class="Agda">  <a id="11336" class="Keyword">data</a> <a id="More.Progress"></a><a id="11341" href="/PLFA-zh/TSPL/2018/Assignment4/#11341" class="Datatype">Progress</a> <a id="11350" class="Symbol">{</a><a id="11351" href="Assignment4.html#11351" class="Bound">A</a><a id="11352" class="Symbol">}</a> <a id="11354" class="Symbol">(</a><a id="11355" href="Assignment4.html#11355" class="Bound">M</a> <a id="11357" class="Symbol">:</a> <a id="11359" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="11361" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="11363" href="Assignment4.html#11351" class="Bound">A</a><a id="11364" class="Symbol">)</a> <a id="11366" class="Symbol">:</a> <a id="11368" class="PrimitiveType">Set</a> <a id="11372" class="Keyword">where</a>

    <a id="More.Progress.step"></a><a id="11383" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="11388" class="Symbol">:</a> <a id="11390" class="Symbol">∀</a> <a id="11392" class="Symbol">{</a><a id="11393" href="Assignment4.html#11393" class="Bound">N</a> <a id="11395" class="Symbol">:</a> <a id="11397" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="11399" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="11401" href="Assignment4.html#11351" class="Bound">A</a><a id="11402" class="Symbol">}</a>
      <a id="11410" class="Symbol">→</a> <a id="11412" href="/PLFA-zh/TSPL/2018/Assignment4/#11355" class="Bound">M</a> <a id="11414" href="Assignment4.html#7616" class="Datatype Operator">—→</a> <a id="11417" href="Assignment4.html#11393" class="Bound">N</a>
        <a id="11427" class="Comment">----------</a>
      <a id="11444" class="Symbol">→</a> <a id="11446" href="/PLFA-zh/TSPL/2018/Assignment4/#11341" class="Datatype">Progress</a> <a id="11455" href="Assignment4.html#11355" class="Bound">M</a>

    <a id="More.Progress.done"></a><a id="11462" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="11467" class="Symbol">:</a>
        <a id="11477" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="11483" href="Assignment4.html#11355" class="Bound">M</a>
        <a id="11493" class="Comment">----------</a>
      <a id="11510" class="Symbol">→</a> <a id="11512" href="/PLFA-zh/TSPL/2018/Assignment4/#11341" class="Datatype">Progress</a> <a id="11521" href="Assignment4.html#11355" class="Bound">M</a>

  <a id="More.progress"></a><a id="11526" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="11535" class="Symbol">:</a> <a id="11537" class="Symbol">∀</a> <a id="11539" class="Symbol">{</a><a id="11540" href="Assignment4.html#11540" class="Bound">A</a><a id="11541" class="Symbol">}</a>
    <a id="11547" class="Symbol">→</a> <a id="11549" class="Symbol">(</a><a id="11550" href="/PLFA-zh/TSPL/2018/Assignment4/#11550" class="Bound">M</a> <a id="11552" class="Symbol">:</a> <a id="11554" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="11556" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="11558" href="Assignment4.html#11540" class="Bound">A</a><a id="11559" class="Symbol">)</a>
      <a id="11567" class="Comment">-----------</a>
    <a id="11583" class="Symbol">→</a> <a id="11585" href="/PLFA-zh/TSPL/2018/Assignment4/#11341" class="Datatype">Progress</a> <a id="11594" href="Assignment4.html#11550" class="Bound">M</a>
  <a id="11598" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="11607" class="Symbol">(</a><a id="11608" href="Assignment4.html#2733" class="InductiveConstructor Operator">`</a> <a id="11610" class="Symbol">())</a>
  <a id="11616" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="11625" class="Symbol">(</a><a id="11626" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="11628" href="Assignment4.html#11628" class="Bound">N</a><a id="11629" class="Symbol">)</a>                              <a id="11660" class="Symbol">=</a>  <a id="11663" href="Assignment4.html#11462" class="InductiveConstructor">done</a> <a id="11668" href="Assignment4.html#6960" class="InductiveConstructor">V-ƛ</a>
  <a id="11674" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="11683" class="Symbol">(</a><a id="11684" href="Assignment4.html#11684" class="Bound">L</a> <a id="11686" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="11688" href="Assignment4.html#11688" class="Bound">M</a><a id="11689" class="Symbol">)</a> <a id="11691" class="Keyword">with</a> <a id="11696" href="Assignment4.html#11526" class="Function">progress</a> <a id="11705" href="Assignment4.html#11684" class="Bound">L</a>
  <a id="11709" class="Symbol">...</a>    <a id="11716" class="Symbol">|</a> <a id="11718" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="11723" href="Assignment4.html#11723" class="Bound">L—→L′</a>                         <a id="11753" class="Symbol">=</a>  <a id="11756" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="11761" class="Symbol">(</a><a id="11762" href="Assignment4.html#7686" class="InductiveConstructor">ξ-·₁</a> <a id="11767" href="Assignment4.html#11723" class="Bound">L—→L′</a><a id="11772" class="Symbol">)</a>
  <a id="11776" class="Symbol">...</a>    <a id="11783" class="Symbol">|</a> <a id="11785" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="11790" href="Assignment4.html#6960" class="InductiveConstructor">V-ƛ</a> <a id="11794" class="Keyword">with</a> <a id="11799" href="Assignment4.html#11526" class="Function">progress</a> <a id="11808" class="Bound">M</a>
  <a id="11812" class="Symbol">...</a>        <a id="11823" class="Symbol">|</a> <a id="11825" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="11830" href="Assignment4.html#11830" class="Bound">M—→M′</a>                     <a id="11856" class="Symbol">=</a>  <a id="11859" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="11864" class="Symbol">(</a><a id="11865" href="Assignment4.html#7803" class="InductiveConstructor">ξ-·₂</a> <a id="11870" href="Assignment4.html#6960" class="InductiveConstructor">V-ƛ</a> <a id="11874" href="Assignment4.html#11830" class="Bound">M—→M′</a><a id="11879" class="Symbol">)</a>
  <a id="11883" class="Symbol">...</a>        <a id="11894" class="Symbol">|</a> <a id="11896" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="11901" href="Assignment4.html#11901" class="Bound">VM</a>                        <a id="11927" class="Symbol">=</a>  <a id="11930" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="11935" class="Symbol">(</a><a id="11936" href="Assignment4.html#7936" class="InductiveConstructor">β-ƛ</a> <a id="11940" href="Assignment4.html#11901" class="Bound">VM</a><a id="11942" class="Symbol">)</a>
  <a id="11946" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="11955" class="Symbol">(</a><a id="11956" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a><a id="11961" class="Symbol">)</a>                            <a id="11990" class="Symbol">=</a>  <a id="11993" href="Assignment4.html#11462" class="InductiveConstructor">done</a> <a id="11998" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a>
  <a id="12007" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12016" class="Symbol">(</a><a id="12017" href="Assignment4.html#3038" class="InductiveConstructor Operator">`suc</a> <a id="12022" href="Assignment4.html#12022" class="Bound">M</a><a id="12023" class="Symbol">)</a> <a id="12025" class="Keyword">with</a> <a id="12030" href="Assignment4.html#11526" class="Function">progress</a> <a id="12039" href="Assignment4.html#12022" class="Bound">M</a>
  <a id="12043" class="Symbol">...</a>    <a id="12050" class="Symbol">|</a> <a id="12052" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="12057" href="Assignment4.html#12057" class="Bound">M—→M′</a>                         <a id="12087" class="Symbol">=</a>  <a id="12090" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12095" class="Symbol">(</a><a id="12096" href="Assignment4.html#8076" class="InductiveConstructor">ξ-suc</a> <a id="12102" href="Assignment4.html#12057" class="Bound">M—→M′</a><a id="12107" class="Symbol">)</a>
  <a id="12111" class="Symbol">...</a>    <a id="12118" class="Symbol">|</a> <a id="12120" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12125" href="Assignment4.html#12125" class="Bound">VM</a>                            <a id="12155" class="Symbol">=</a>  <a id="12158" href="Assignment4.html#11462" class="InductiveConstructor">done</a> <a id="12163" class="Symbol">(</a><a id="12164" href="Assignment4.html#7144" class="InductiveConstructor Operator">V-suc</a> <a id="12170" href="Assignment4.html#12125" class="Bound">VM</a><a id="12172" class="Symbol">)</a>
  <a id="12176" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12185" class="Symbol">(</a><a id="12186" href="Assignment4.html#3102" class="InductiveConstructor">case</a> <a id="12191" href="Assignment4.html#12191" class="Bound">L</a> <a id="12193" href="Assignment4.html#12193" class="Bound">M</a> <a id="12195" href="Assignment4.html#12195" class="Bound">N</a><a id="12196" class="Symbol">)</a> <a id="12198" class="Keyword">with</a> <a id="12203" href="Assignment4.html#11526" class="Function">progress</a> <a id="12212" href="Assignment4.html#12191" class="Bound">L</a>
  <a id="12216" class="Symbol">...</a>    <a id="12223" class="Symbol">|</a> <a id="12225" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="12230" href="Assignment4.html#12230" class="Bound">L—→L′</a>                         <a id="12260" class="Symbol">=</a>  <a id="12263" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12268" class="Symbol">(</a><a id="12269" href="Assignment4.html#8179" class="InductiveConstructor">ξ-case</a> <a id="12276" href="Assignment4.html#12230" class="Bound">L—→L′</a><a id="12281" class="Symbol">)</a>
  <a id="12285" class="Symbol">...</a>    <a id="12292" class="Symbol">|</a> <a id="12294" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12299" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a>                        <a id="12329" class="Symbol">=</a>  <a id="12332" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12337" href="Assignment4.html#8330" class="InductiveConstructor">β-zero</a>
  <a id="12346" class="Symbol">...</a>    <a id="12353" class="Symbol">|</a> <a id="12355" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12360" class="Symbol">(</a><a id="12361" href="Assignment4.html#7144" class="InductiveConstructor Operator">V-suc</a> <a id="12367" href="Assignment4.html#12367" class="Bound">VL</a><a id="12369" class="Symbol">)</a>                    <a id="12390" class="Symbol">=</a>  <a id="12393" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12398" class="Symbol">(</a><a id="12399" href="Assignment4.html#8438" class="InductiveConstructor">β-suc</a> <a id="12405" href="Assignment4.html#12367" class="Bound">VL</a><a id="12407" class="Symbol">)</a>
  <a id="12411" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12420" class="Symbol">(</a><a id="12421" href="Assignment4.html#3215" class="InductiveConstructor Operator">μ</a> <a id="12423" href="Assignment4.html#12423" class="Bound">N</a><a id="12424" class="Symbol">)</a>                              <a id="12455" class="Symbol">=</a>  <a id="12458" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12463" href="Assignment4.html#8608" class="InductiveConstructor">β-μ</a>
  <a id="12469" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12478" class="Symbol">(</a><a id="12479" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="12483" href="Assignment4.html#12483" class="Bound">n</a><a id="12484" class="Symbol">)</a>                            <a id="12513" class="Symbol">=</a>  <a id="12516" href="Assignment4.html#11462" class="InductiveConstructor">done</a> <a id="12521" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a>
  <a id="12529" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12538" class="Symbol">(</a><a id="12539" href="Assignment4.html#12539" class="Bound">L</a> <a id="12541" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="12544" href="Assignment4.html#12544" class="Bound">M</a><a id="12545" class="Symbol">)</a> <a id="12547" class="Keyword">with</a> <a id="12552" href="Assignment4.html#11526" class="Function">progress</a> <a id="12561" href="Assignment4.html#12539" class="Bound">L</a>
  <a id="12565" class="Symbol">...</a>    <a id="12572" class="Symbol">|</a> <a id="12574" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="12579" href="Assignment4.html#12579" class="Bound">L—→L′</a>                         <a id="12609" class="Symbol">=</a>  <a id="12612" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12617" class="Symbol">(</a><a id="12618" href="Assignment4.html#8719" class="InductiveConstructor">ξ-*₁</a> <a id="12623" href="Assignment4.html#12579" class="Bound">L—→L′</a><a id="12628" class="Symbol">)</a>
  <a id="12632" class="Symbol">...</a>    <a id="12639" class="Symbol">|</a> <a id="12641" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12646" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="12652" class="Keyword">with</a> <a id="12657" href="Assignment4.html#11526" class="Function">progress</a> <a id="12666" class="Bound">M</a>
  <a id="12670" class="Symbol">...</a>        <a id="12681" class="Symbol">|</a> <a id="12683" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="12688" href="Assignment4.html#12688" class="Bound">M—→M′</a>                     <a id="12714" class="Symbol">=</a>  <a id="12717" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12722" class="Symbol">(</a><a id="12723" href="Assignment4.html#8824" class="InductiveConstructor">ξ-*₂</a> <a id="12728" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="12734" href="Assignment4.html#12688" class="Bound">M—→M′</a><a id="12739" class="Symbol">)</a>
  <a id="12743" class="Symbol">...</a>        <a id="12754" class="Symbol">|</a> <a id="12756" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12761" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a>                     <a id="12787" class="Symbol">=</a>  <a id="12790" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12795" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a>
  <a id="12801" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12810" class="Symbol">(</a><a id="12811" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="12816" href="Assignment4.html#12816" class="Bound">M</a> <a id="12818" href="Assignment4.html#12818" class="Bound">N</a><a id="12819" class="Symbol">)</a> <a id="12821" class="Keyword">with</a> <a id="12826" href="Assignment4.html#11526" class="Function">progress</a> <a id="12835" href="Assignment4.html#12816" class="Bound">M</a>
  <a id="12839" class="Symbol">...</a>    <a id="12846" class="Symbol">|</a> <a id="12848" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="12853" href="Assignment4.html#12853" class="Bound">M—→M′</a>                         <a id="12883" class="Symbol">=</a>  <a id="12886" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12891" class="Symbol">(</a><a id="12892" href="Assignment4.html#9070" class="InductiveConstructor">ξ-let</a> <a id="12898" href="Assignment4.html#12853" class="Bound">M—→M′</a><a id="12903" class="Symbol">)</a>
  <a id="12907" class="Symbol">...</a>    <a id="12914" class="Symbol">|</a> <a id="12916" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="12921" href="Assignment4.html#12921" class="Bound">VM</a>                            <a id="12951" class="Symbol">=</a>  <a id="12954" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="12959" class="Symbol">(</a><a id="12960" href="Assignment4.html#9200" class="InductiveConstructor">β-let</a> <a id="12966" href="Assignment4.html#12921" class="Bound">VM</a><a id="12968" class="Symbol">)</a>
  <a id="12972" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="12981" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="12984" href="Assignment4.html#12984" class="Bound">M</a> <a id="12986" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="12988" href="Assignment4.html#12988" class="Bound">N</a> <a id="12990" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="12992" class="Keyword">with</a> <a id="12997" href="Assignment4.html#11526" class="Function">progress</a> <a id="13006" href="Assignment4.html#12984" class="Bound">M</a>
  <a id="13010" class="Symbol">...</a>    <a id="13017" class="Symbol">|</a> <a id="13019" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="13024" href="Assignment4.html#13024" class="Bound">M—→M′</a>                         <a id="13054" class="Symbol">=</a>  <a id="13057" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13062" class="Symbol">(</a><a id="13063" href="Assignment4.html#9340" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="13070" href="Assignment4.html#13024" class="Bound">M—→M′</a><a id="13075" class="Symbol">)</a>
  <a id="13079" class="Symbol">...</a>    <a id="13086" class="Symbol">|</a> <a id="13088" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="13093" href="Assignment4.html#13093" class="Bound">VM</a> <a id="13096" class="Keyword">with</a> <a id="13101" href="Assignment4.html#11526" class="Function">progress</a> <a id="13110" class="Bound">N</a>
  <a id="13114" class="Symbol">...</a>        <a id="13125" class="Symbol">|</a> <a id="13127" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="13132" href="Assignment4.html#13132" class="Bound">N—→N′</a>                     <a id="13158" class="Symbol">=</a>  <a id="13161" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13166" class="Symbol">(</a><a id="13167" href="Assignment4.html#9475" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="13174" class="Bound">VM</a> <a id="13177" href="Assignment4.html#13132" class="Bound">N—→N′</a><a id="13182" class="Symbol">)</a>
  <a id="13186" class="Symbol">...</a>        <a id="13197" class="Symbol">|</a> <a id="13199" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="13204" href="Assignment4.html#13204" class="Bound">VN</a>                        <a id="13230" class="Symbol">=</a>  <a id="13233" href="Assignment4.html#11462" class="InductiveConstructor">done</a> <a id="13238" class="Symbol">(</a><a id="13239" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="13243" class="Bound">VM</a> <a id="13246" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="13248" href="Assignment4.html#13204" class="Bound">VN</a> <a id="13251" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a><a id="13252" class="Symbol">)</a>
  <a id="13256" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="13265" class="Symbol">(</a><a id="13266" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="13273" href="Assignment4.html#13273" class="Bound">L</a><a id="13274" class="Symbol">)</a> <a id="13276" class="Keyword">with</a> <a id="13281" href="Assignment4.html#11526" class="Function">progress</a> <a id="13290" href="Assignment4.html#13273" class="Bound">L</a>
  <a id="13294" class="Symbol">...</a>    <a id="13301" class="Symbol">|</a> <a id="13303" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="13308" href="Assignment4.html#13308" class="Bound">L—→L′</a>                         <a id="13338" class="Symbol">=</a>  <a id="13341" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13346" class="Symbol">(</a><a id="13347" href="Assignment4.html#9626" class="InductiveConstructor">ξ-proj₁</a> <a id="13355" href="Assignment4.html#13308" class="Bound">L—→L′</a><a id="13360" class="Symbol">)</a>
  <a id="13364" class="Symbol">...</a>    <a id="13371" class="Symbol">|</a> <a id="13373" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="13378" class="Symbol">(</a><a id="13379" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="13383" href="Assignment4.html#13383" class="Bound">VM</a> <a id="13386" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="13388" href="Assignment4.html#13388" class="Bound">VN</a> <a id="13391" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a><a id="13392" class="Symbol">)</a>               <a id="13408" class="Symbol">=</a>  <a id="13411" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13416" class="Symbol">(</a><a id="13417" href="Assignment4.html#9868" class="InductiveConstructor">β-proj₁</a> <a id="13425" href="Assignment4.html#13383" class="Bound">VM</a> <a id="13428" href="Assignment4.html#13388" class="Bound">VN</a><a id="13430" class="Symbol">)</a>
  <a id="13434" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="13443" class="Symbol">(</a><a id="13444" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="13451" href="Assignment4.html#13451" class="Bound">L</a><a id="13452" class="Symbol">)</a> <a id="13454" class="Keyword">with</a> <a id="13459" href="Assignment4.html#11526" class="Function">progress</a> <a id="13468" href="Assignment4.html#13451" class="Bound">L</a>
  <a id="13472" class="Symbol">...</a>    <a id="13479" class="Symbol">|</a> <a id="13481" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="13486" href="Assignment4.html#13486" class="Bound">L—→L′</a>                         <a id="13516" class="Symbol">=</a>  <a id="13519" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13524" class="Symbol">(</a><a id="13525" href="Assignment4.html#9747" class="InductiveConstructor">ξ-proj₂</a> <a id="13533" href="Assignment4.html#13486" class="Bound">L—→L′</a><a id="13538" class="Symbol">)</a>
  <a id="13542" class="Symbol">...</a>    <a id="13549" class="Symbol">|</a> <a id="13551" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="13556" class="Symbol">(</a><a id="13557" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="13561" href="Assignment4.html#13561" class="Bound">VM</a> <a id="13564" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="13566" href="Assignment4.html#13566" class="Bound">VN</a> <a id="13569" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a><a id="13570" class="Symbol">)</a>               <a id="13586" class="Symbol">=</a>  <a id="13589" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13594" class="Symbol">(</a><a id="13595" href="Assignment4.html#10011" class="InductiveConstructor">β-proj₂</a> <a id="13603" href="Assignment4.html#13561" class="Bound">VM</a> <a id="13606" href="Assignment4.html#13566" class="Bound">VN</a><a id="13608" class="Symbol">)</a>
  <a id="13612" href="/PLFA-zh/TSPL/2018/Assignment4/#11526" class="Function">progress</a> <a id="13621" class="Symbol">(</a><a id="13622" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="13628" href="Assignment4.html#13628" class="Bound">L</a> <a id="13630" href="Assignment4.html#13630" class="Bound">M</a><a id="13631" class="Symbol">)</a> <a id="13633" class="Keyword">with</a> <a id="13638" href="Assignment4.html#11526" class="Function">progress</a> <a id="13647" href="Assignment4.html#13628" class="Bound">L</a>
  <a id="13651" class="Symbol">...</a>    <a id="13658" class="Symbol">|</a> <a id="13660" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="13665" href="Assignment4.html#13665" class="Bound">L—→L′</a>                         <a id="13695" class="Symbol">=</a>  <a id="13698" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13703" class="Symbol">(</a><a id="13704" href="Assignment4.html#10198" class="InductiveConstructor">ξ-case×</a> <a id="13712" href="Assignment4.html#13665" class="Bound">L—→L′</a><a id="13717" class="Symbol">)</a>
  <a id="13721" class="Symbol">...</a>    <a id="13728" class="Symbol">|</a> <a id="13730" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="13735" class="Symbol">(</a><a id="13736" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="13740" href="Assignment4.html#13740" class="Bound">VM</a> <a id="13743" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="13745" href="Assignment4.html#13745" class="Bound">VN</a> <a id="13748" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a><a id="13749" class="Symbol">)</a>               <a id="13765" class="Symbol">=</a>  <a id="13768" href="Assignment4.html#11383" class="InductiveConstructor">step</a> <a id="13773" class="Symbol">(</a><a id="13774" href="Assignment4.html#10345" class="InductiveConstructor">β-case×</a> <a id="13782" href="Assignment4.html#13740" class="Bound">VM</a> <a id="13785" href="Assignment4.html#13745" class="Bound">VN</a><a id="13787" class="Symbol">)</a>
</pre>

<h2 id="evaluation">Evaluation</h2>

<pre class="Agda">  <a id="13816" class="Keyword">data</a> <a id="More.Gas"></a><a id="13821" href="/PLFA-zh/TSPL/2018/Assignment4/#13821" class="Datatype">Gas</a> <a id="13825" class="Symbol">:</a> <a id="13827" class="PrimitiveType">Set</a> <a id="13831" class="Keyword">where</a>
    <a id="More.Gas.gas"></a><a id="13841" href="/PLFA-zh/TSPL/2018/Assignment4/#13841" class="InductiveConstructor">gas</a> <a id="13845" class="Symbol">:</a> <a id="13847" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="13849" class="Symbol">→</a> <a id="13851" href="Assignment4.html#13821" class="Datatype">Gas</a>

  <a id="13858" class="Keyword">data</a> <a id="More.Finished"></a><a id="13863" href="/PLFA-zh/TSPL/2018/Assignment4/#13863" class="Datatype">Finished</a> <a id="13872" class="Symbol">{</a><a id="13873" href="Assignment4.html#13873" class="Bound">Γ</a> <a id="13875" href="Assignment4.html#13875" class="Bound">A</a><a id="13876" class="Symbol">}</a> <a id="13878" class="Symbol">(</a><a id="13879" href="Assignment4.html#13879" class="Bound">N</a> <a id="13881" class="Symbol">:</a> <a id="13883" href="Assignment4.html#13873" class="Bound">Γ</a> <a id="13885" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="13887" href="Assignment4.html#13875" class="Bound">A</a><a id="13888" class="Symbol">)</a> <a id="13890" class="Symbol">:</a> <a id="13892" class="PrimitiveType">Set</a> <a id="13896" class="Keyword">where</a>

     <a id="More.Finished.done"></a><a id="13908" href="/PLFA-zh/TSPL/2018/Assignment4/#13908" class="InductiveConstructor">done</a> <a id="13913" class="Symbol">:</a>
         <a id="13924" href="/PLFA-zh/TSPL/2018/Assignment4/#6901" class="Datatype">Value</a> <a id="13930" href="Assignment4.html#13879" class="Bound">N</a>
         <a id="13941" class="Comment">----------</a>
       <a id="13959" class="Symbol">→</a> <a id="13961" href="/PLFA-zh/TSPL/2018/Assignment4/#13863" class="Datatype">Finished</a> <a id="13970" href="Assignment4.html#13879" class="Bound">N</a>

     <a id="More.Finished.out-of-gas"></a><a id="13978" href="/PLFA-zh/TSPL/2018/Assignment4/#13978" class="InductiveConstructor">out-of-gas</a> <a id="13989" class="Symbol">:</a>
         <a id="14000" class="Comment">----------</a>
         <a id="14020" href="/PLFA-zh/TSPL/2018/Assignment4/#13863" class="Datatype">Finished</a> <a id="14029" href="Assignment4.html#13879" class="Bound">N</a>

  <a id="14034" class="Keyword">data</a> <a id="More.Steps"></a><a id="14039" href="/PLFA-zh/TSPL/2018/Assignment4/#14039" class="Datatype">Steps</a> <a id="14045" class="Symbol">:</a> <a id="14047" class="Symbol">∀</a> <a id="14049" class="Symbol">{</a><a id="14050" href="Assignment4.html#14050" class="Bound">A</a><a id="14051" class="Symbol">}</a> <a id="14053" class="Symbol">→</a> <a id="14055" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="14057" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="14059" href="Assignment4.html#14050" class="Bound">A</a> <a id="14061" class="Symbol">→</a> <a id="14063" class="PrimitiveType">Set</a> <a id="14067" class="Keyword">where</a>

    <a id="More.Steps.steps"></a><a id="14078" href="/PLFA-zh/TSPL/2018/Assignment4/#14078" class="InductiveConstructor">steps</a> <a id="14084" class="Symbol">:</a> <a id="14086" class="Symbol">∀</a> <a id="14088" class="Symbol">{</a><a id="14089" href="Assignment4.html#14089" class="Bound">A</a><a id="14090" class="Symbol">}</a> <a id="14092" class="Symbol">{</a><a id="14093" href="Assignment4.html#14093" class="Bound">L</a> <a id="14095" href="Assignment4.html#14095" class="Bound">N</a> <a id="14097" class="Symbol">:</a> <a id="14099" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="14101" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="14103" href="Assignment4.html#14089" class="Bound">A</a><a id="14104" class="Symbol">}</a>
      <a id="14112" class="Symbol">→</a> <a id="14114" href="/PLFA-zh/TSPL/2018/Assignment4/#14093" class="Bound">L</a> <a id="14116" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="14119" href="Assignment4.html#14095" class="Bound">N</a>
      <a id="14127" class="Symbol">→</a> <a id="14129" href="/PLFA-zh/TSPL/2018/Assignment4/#13863" class="Datatype">Finished</a> <a id="14138" href="Assignment4.html#14095" class="Bound">N</a>
        <a id="14148" class="Comment">----------</a>
      <a id="14165" class="Symbol">→</a> <a id="14167" href="/PLFA-zh/TSPL/2018/Assignment4/#14039" class="Datatype">Steps</a> <a id="14173" href="Assignment4.html#14093" class="Bound">L</a>

  <a id="More.eval"></a><a id="14178" href="/PLFA-zh/TSPL/2018/Assignment4/#14178" class="Function">eval</a> <a id="14183" class="Symbol">:</a> <a id="14185" class="Symbol">∀</a> <a id="14187" class="Symbol">{</a><a id="14188" href="Assignment4.html#14188" class="Bound">A</a><a id="14189" class="Symbol">}</a>
    <a id="14195" class="Symbol">→</a> <a id="14197" href="/PLFA-zh/TSPL/2018/Assignment4/#13821" class="Datatype">Gas</a>
    <a id="14205" class="Symbol">→</a> <a id="14207" class="Symbol">(</a><a id="14208" href="/PLFA-zh/TSPL/2018/Assignment4/#14208" class="Bound">L</a> <a id="14210" class="Symbol">:</a> <a id="14212" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="14214" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="14216" href="Assignment4.html#14188" class="Bound">A</a><a id="14217" class="Symbol">)</a>
      <a id="14225" class="Comment">-----------</a>
    <a id="14241" class="Symbol">→</a> <a id="14243" href="/PLFA-zh/TSPL/2018/Assignment4/#14039" class="Datatype">Steps</a> <a id="14249" href="Assignment4.html#14208" class="Bound">L</a>
  <a id="14253" href="/PLFA-zh/TSPL/2018/Assignment4/#14178" class="Function">eval</a> <a id="14258" class="Symbol">(</a><a id="14259" href="Assignment4.html#13841" class="InductiveConstructor">gas</a> <a id="14263" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="14267" class="Symbol">)</a>    <a id="14272" href="Assignment4.html#14272" class="Bound">L</a>                     <a id="14294" class="Symbol">=</a>  <a id="14297" href="Assignment4.html#14078" class="InductiveConstructor">steps</a> <a id="14303" class="Symbol">(</a><a id="14304" href="Assignment4.html#14272" class="Bound">L</a> <a id="14306" href="Assignment4.html#10702" class="InductiveConstructor Operator">∎</a><a id="14307" class="Symbol">)</a> <a id="14309" href="Assignment4.html#13978" class="InductiveConstructor">out-of-gas</a>
  <a id="14322" href="/PLFA-zh/TSPL/2018/Assignment4/#14178" class="Function">eval</a> <a id="14327" class="Symbol">(</a><a id="14328" href="Assignment4.html#13841" class="InductiveConstructor">gas</a> <a id="14332" class="Symbol">(</a><a id="14333" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="14337" href="Assignment4.html#14337" class="Bound">m</a><a id="14338" class="Symbol">))</a> <a id="14341" href="Assignment4.html#14341" class="Bound">L</a> <a id="14343" class="Keyword">with</a> <a id="14348" href="Assignment4.html#11526" class="Function">progress</a> <a id="14357" href="Assignment4.html#14341" class="Bound">L</a>
  <a id="14361" class="Symbol">...</a> <a id="14365" class="Symbol">|</a> <a id="14367" href="/PLFA-zh/TSPL/2018/Assignment4/#11462" class="InductiveConstructor">done</a> <a id="14372" href="Assignment4.html#14372" class="Bound">VL</a>                            <a id="14402" class="Symbol">=</a>  <a id="14405" href="Assignment4.html#14078" class="InductiveConstructor">steps</a> <a id="14411" class="Symbol">(</a><a id="14412" class="Bound">L</a> <a id="14414" href="Assignment4.html#10702" class="InductiveConstructor Operator">∎</a><a id="14415" class="Symbol">)</a> <a id="14417" class="Symbol">(</a><a id="14418" href="Assignment4.html#13908" class="InductiveConstructor">done</a> <a id="14423" href="Assignment4.html#14372" class="Bound">VL</a><a id="14425" class="Symbol">)</a>
  <a id="14429" class="Symbol">...</a> <a id="14433" class="Symbol">|</a> <a id="14435" href="/PLFA-zh/TSPL/2018/Assignment4/#11383" class="InductiveConstructor">step</a> <a id="14440" class="Symbol">{</a><a id="14441" href="Assignment4.html#14441" class="Bound">M</a><a id="14442" class="Symbol">}</a> <a id="14444" href="Assignment4.html#14444" class="Bound">L—→M</a> <a id="14449" class="Keyword">with</a> <a id="14454" href="Assignment4.html#14178" class="Function">eval</a> <a id="14459" class="Symbol">(</a><a id="14460" href="Assignment4.html#13841" class="InductiveConstructor">gas</a> <a id="14464" class="Bound">m</a><a id="14465" class="Symbol">)</a> <a id="14467" href="Assignment4.html#14441" class="Bound">M</a>
  <a id="14471" class="Symbol">...</a>    <a id="14478" class="Symbol">|</a> <a id="14480" href="/PLFA-zh/TSPL/2018/Assignment4/#14078" class="InductiveConstructor">steps</a> <a id="14486" href="Assignment4.html#14486" class="Bound">M—↠N</a> <a id="14491" href="Assignment4.html#14491" class="Bound">fin</a>                  <a id="14512" class="Symbol">=</a>  <a id="14515" href="Assignment4.html#14078" class="InductiveConstructor">steps</a> <a id="14521" class="Symbol">(</a><a id="14522" class="Bound">L</a> <a id="14524" href="Assignment4.html#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="14528" class="Bound">L—→M</a> <a id="14533" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a> <a id="14535" href="Assignment4.html#14486" class="Bound">M—↠N</a><a id="14539" class="Symbol">)</a> <a id="14541" href="Assignment4.html#14491" class="Bound">fin</a>
</pre>
<h2 id="examples">Examples</h2>

<pre class="Agda">  <a id="More.cube"></a><a id="14569" href="/PLFA-zh/TSPL/2018/Assignment4/#14569" class="Function">cube</a> <a id="14574" class="Symbol">:</a> <a id="14576" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="14578" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="14580" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a> <a id="14584" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="14586" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>
  <a id="14592" href="/PLFA-zh/TSPL/2018/Assignment4/#14569" class="Function">cube</a> <a id="14597" class="Symbol">=</a> <a id="14599" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="14601" class="Symbol">(</a><a id="14602" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14604" class="Number">0</a> <a id="14606" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14609" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14611" class="Number">0</a> <a id="14613" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14616" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14618" class="Number">0</a><a id="14619" class="Symbol">)</a>

  <a id="14624" href="/PLFA-zh/TSPL/2018/Assignment4/#14624" class="Function">_</a> <a id="14626" class="Symbol">:</a> <a id="14628" href="Assignment4.html#14569" class="Function">cube</a> <a id="14633" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="14635" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14639" class="Number">2</a> <a id="14641" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="14644" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14648" class="Number">8</a>
  <a id="14652" class="Symbol">_</a> <a id="14654" class="Symbol">=</a>
    <a id="14660" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin</a>
      <a id="14672" href="/PLFA-zh/TSPL/2018/Assignment4/#14569" class="Function">cube</a> <a id="14677" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="14679" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14683" class="Number">2</a>
    <a id="14689" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="14693" href="Assignment4.html#7936" class="InductiveConstructor">β-ƛ</a> <a id="14697" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="14703" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="14711" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="14715" class="Number">2</a> <a id="14717" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14720" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14724" class="Number">2</a> <a id="14726" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14729" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14733" class="Number">2</a>
    <a id="14739" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="14743" href="Assignment4.html#8719" class="InductiveConstructor">ξ-*₁</a> <a id="14748" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="14752" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="14760" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="14764" class="Number">4</a> <a id="14766" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14769" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14773" class="Number">2</a>
    <a id="14779" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="14783" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="14787" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="14795" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="14799" class="Number">8</a>
    <a id="14805" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">∎</a>

  <a id="More.exp10"></a><a id="14810" href="/PLFA-zh/TSPL/2018/Assignment4/#14810" class="Function">exp10</a> <a id="14816" class="Symbol">:</a> <a id="14818" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="14820" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="14822" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a> <a id="14826" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="14828" href="Assignment4.html#2179" class="InductiveConstructor">Nat</a>
  <a id="14834" href="/PLFA-zh/TSPL/2018/Assignment4/#14810" class="Function">exp10</a> <a id="14840" class="Symbol">=</a> <a id="14842" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="14844" class="Symbol">(</a><a id="14845" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="14850" class="Symbol">(</a><a id="14851" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14853" class="Number">0</a> <a id="14855" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14858" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14860" class="Number">0</a><a id="14861" class="Symbol">)</a>
              <a id="14877" class="Symbol">(</a><a id="14878" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="14883" class="Symbol">(</a><a id="14884" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14886" class="Number">0</a> <a id="14888" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14891" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14893" class="Number">0</a><a id="14894" class="Symbol">)</a>
                <a id="14912" class="Symbol">(</a><a id="14913" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="14918" class="Symbol">(</a><a id="14919" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14921" class="Number">0</a> <a id="14923" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14926" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14928" class="Number">2</a><a id="14929" class="Symbol">)</a>
                  <a id="14949" class="Symbol">(</a><a id="14950" href="/PLFA-zh/TSPL/2018/Assignment4/#4381" class="Function Operator">#</a> <a id="14952" class="Number">0</a> <a id="14954" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="14957" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="14959" class="Number">0</a><a id="14960" class="Symbol">))))</a>

  <a id="14968" href="/PLFA-zh/TSPL/2018/Assignment4/#14968" class="Function">_</a> <a id="14970" class="Symbol">:</a> <a id="14972" href="Assignment4.html#14810" class="Function">exp10</a> <a id="14978" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="14980" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14984" class="Number">2</a> <a id="14986" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="14989" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="14993" class="Number">1024</a>
  <a id="15000" class="Symbol">_</a> <a id="15002" class="Symbol">=</a>
    <a id="15008" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin</a>
      <a id="15020" href="/PLFA-zh/TSPL/2018/Assignment4/#14810" class="Function">exp10</a> <a id="15026" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="15028" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15032" class="Number">2</a>
    <a id="15038" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15042" href="Assignment4.html#7936" class="InductiveConstructor">β-ƛ</a> <a id="15046" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15052" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15060" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15065" class="Symbol">(</a><a id="15066" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15070" class="Number">2</a> <a id="15072" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15075" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15079" class="Number">2</a><a id="15080" class="Symbol">)</a> <a id="15082" class="Symbol">(</a><a id="15083" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15088" class="Symbol">(</a><a id="15089" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15091" class="Number">0</a> <a id="15093" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15096" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15098" class="Number">0</a><a id="15099" class="Symbol">)</a> <a id="15101" class="Symbol">(</a><a id="15102" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15107" class="Symbol">(</a><a id="15108" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15110" class="Number">0</a> <a id="15112" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15115" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15119" class="Number">2</a><a id="15120" class="Symbol">)</a> <a id="15122" class="Symbol">(</a><a id="15123" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15125" class="Number">0</a> <a id="15127" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15130" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15132" class="Number">0</a><a id="15133" class="Symbol">)))</a>
    <a id="15141" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15145" href="Assignment4.html#9070" class="InductiveConstructor">ξ-let</a> <a id="15151" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="15155" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15163" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15168" class="Symbol">(</a><a id="15169" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15173" class="Number">4</a><a id="15174" class="Symbol">)</a> <a id="15176" class="Symbol">(</a><a id="15177" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15182" class="Symbol">(</a><a id="15183" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15185" class="Number">0</a> <a id="15187" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15190" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15192" class="Number">0</a><a id="15193" class="Symbol">)</a> <a id="15195" class="Symbol">(</a><a id="15196" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15201" class="Symbol">(</a><a id="15202" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15204" class="Number">0</a> <a id="15206" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15209" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15213" class="Number">2</a><a id="15214" class="Symbol">)</a> <a id="15216" class="Symbol">(</a><a id="15217" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15219" class="Number">0</a> <a id="15221" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15224" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15226" class="Number">0</a><a id="15227" class="Symbol">)))</a>
    <a id="15235" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15239" href="Assignment4.html#9200" class="InductiveConstructor">β-let</a> <a id="15245" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15251" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15259" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15264" class="Symbol">(</a><a id="15265" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15269" class="Number">4</a> <a id="15271" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15274" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15278" class="Number">4</a><a id="15279" class="Symbol">)</a> <a id="15281" class="Symbol">(</a><a id="15282" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15287" class="Symbol">(</a><a id="15288" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15290" class="Number">0</a> <a id="15292" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15295" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15299" class="Number">2</a><a id="15300" class="Symbol">)</a> <a id="15302" class="Symbol">(</a><a id="15303" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15305" class="Number">0</a> <a id="15307" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15310" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15312" class="Number">0</a><a id="15313" class="Symbol">))</a>
    <a id="15320" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15324" href="Assignment4.html#9070" class="InductiveConstructor">ξ-let</a> <a id="15330" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="15334" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15342" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15347" class="Symbol">(</a><a id="15348" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15352" class="Number">16</a><a id="15354" class="Symbol">)</a> <a id="15356" class="Symbol">(</a><a id="15357" href="Assignment4.html#3463" class="InductiveConstructor">`let</a> <a id="15362" class="Symbol">(</a><a id="15363" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15365" class="Number">0</a> <a id="15367" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15370" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15374" class="Number">2</a><a id="15375" class="Symbol">)</a> <a id="15377" class="Symbol">(</a><a id="15378" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15380" class="Number">0</a> <a id="15382" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15385" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15387" class="Number">0</a><a id="15388" class="Symbol">))</a>
    <a id="15395" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15399" href="Assignment4.html#9200" class="InductiveConstructor">β-let</a> <a id="15405" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15411" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15419" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15424" class="Symbol">(</a><a id="15425" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15429" class="Number">16</a> <a id="15432" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15435" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15439" class="Number">2</a><a id="15440" class="Symbol">)</a> <a id="15442" class="Symbol">(</a><a id="15443" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15445" class="Number">0</a> <a id="15447" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15450" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15452" class="Number">0</a><a id="15453" class="Symbol">)</a>
    <a id="15459" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15463" href="Assignment4.html#9070" class="InductiveConstructor">ξ-let</a> <a id="15469" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="15473" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15481" href="/PLFA-zh/TSPL/2018/Assignment4/#3463" class="InductiveConstructor">`let</a> <a id="15486" class="Symbol">(</a><a id="15487" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15491" class="Number">32</a><a id="15493" class="Symbol">)</a> <a id="15495" class="Symbol">(</a><a id="15496" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15498" class="Number">0</a> <a id="15500" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15503" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15505" class="Number">0</a><a id="15506" class="Symbol">)</a>
    <a id="15512" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15516" href="Assignment4.html#9200" class="InductiveConstructor">β-let</a> <a id="15522" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15528" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15536" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="15540" class="Number">32</a> <a id="15543" href="Assignment4.html#3369" class="InductiveConstructor Operator">`*</a> <a id="15546" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15550" class="Number">32</a>
    <a id="15557" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15561" href="Assignment4.html#8945" class="InductiveConstructor">δ-*</a> <a id="15565" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15573" href="/PLFA-zh/TSPL/2018/Assignment4/#3310" class="InductiveConstructor">con</a> <a id="15577" class="Number">1024</a>
    <a id="15586" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">∎</a>

  <a id="More.swap×"></a><a id="15591" href="/PLFA-zh/TSPL/2018/Assignment4/#15591" class="Function">swap×</a> <a id="15597" class="Symbol">:</a> <a id="15599" class="Symbol">∀</a> <a id="15601" class="Symbol">{</a><a id="15602" href="Assignment4.html#15602" class="Bound">A</a> <a id="15604" href="Assignment4.html#15604" class="Bound">B</a><a id="15605" class="Symbol">}</a> <a id="15607" class="Symbol">→</a> <a id="15609" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="15611" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="15613" href="Assignment4.html#15602" class="Bound">A</a> <a id="15615" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="15618" href="Assignment4.html#15604" class="Bound">B</a> <a id="15620" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="15622" href="Assignment4.html#15604" class="Bound">B</a> <a id="15624" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="15627" href="Assignment4.html#15602" class="Bound">A</a>
  <a id="15631" href="/PLFA-zh/TSPL/2018/Assignment4/#15591" class="Function">swap×</a> <a id="15637" class="Symbol">=</a> <a id="15639" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="15641" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15644" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="15651" class="Symbol">(</a><a id="15652" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15654" class="Number">0</a><a id="15655" class="Symbol">)</a> <a id="15657" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15659" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="15666" class="Symbol">(</a><a id="15667" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="15669" class="Number">0</a><a id="15670" class="Symbol">)</a> <a id="15672" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>

  <a id="15677" href="/PLFA-zh/TSPL/2018/Assignment4/#15677" class="Function">_</a> <a id="15679" class="Symbol">:</a> <a id="15681" href="Assignment4.html#15591" class="Function">swap×</a> <a id="15687" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="15689" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15692" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15696" class="Number">42</a> <a id="15699" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15701" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15707" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="15709" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="15712" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15715" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15721" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15723" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15727" class="Number">42</a> <a id="15730" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
  <a id="15734" class="Symbol">_</a> <a id="15736" class="Symbol">=</a>
    <a id="15742" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin</a>
      <a id="15754" href="/PLFA-zh/TSPL/2018/Assignment4/#15591" class="Function">swap×</a> <a id="15760" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="15762" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15765" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15769" class="Number">42</a> <a id="15772" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15774" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15780" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
    <a id="15786" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15790" href="Assignment4.html#7936" class="InductiveConstructor">β-ƛ</a> <a id="15794" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="15798" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15804" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="15806" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a> <a id="15813" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a> <a id="15815" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15823" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15826" href="Assignment4.html#3735" class="InductiveConstructor">`proj₂</a> <a id="15833" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15836" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15840" class="Number">42</a> <a id="15843" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15845" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15851" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="15853" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15855" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="15862" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15865" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15869" class="Number">42</a> <a id="15872" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15874" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15880" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="15882" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
    <a id="15888" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15892" href="Assignment4.html#9340" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="15899" class="Symbol">(</a><a id="15900" href="Assignment4.html#10011" class="InductiveConstructor">β-proj₂</a> <a id="15908" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="15914" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a><a id="15920" class="Symbol">)</a> <a id="15922" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="15930" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15933" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15939" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15941" href="Assignment4.html#3658" class="InductiveConstructor">`proj₁</a> <a id="15948" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="15951" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="15955" class="Number">42</a> <a id="15958" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="15960" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="15966" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="15968" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
    <a id="15974" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="15978" href="Assignment4.html#9475" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="15985" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a> <a id="15992" class="Symbol">(</a><a id="15993" href="Assignment4.html#9868" class="InductiveConstructor">β-proj₁</a> <a id="16001" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="16007" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a><a id="16013" class="Symbol">)</a> <a id="16015" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
      <a id="16023" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16026" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16032" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16034" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16038" class="Number">42</a> <a id="16041" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
    <a id="16047" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">∎</a>

  <a id="More.swap×-case"></a><a id="16052" href="/PLFA-zh/TSPL/2018/Assignment4/#16052" class="Function">swap×-case</a> <a id="16063" class="Symbol">:</a> <a id="16065" class="Symbol">∀</a> <a id="16067" class="Symbol">{</a><a id="16068" href="Assignment4.html#16068" class="Bound">A</a> <a id="16070" href="Assignment4.html#16070" class="Bound">B</a><a id="16071" class="Symbol">}</a> <a id="16073" class="Symbol">→</a> <a id="16075" href="Assignment4.html#2366" class="InductiveConstructor">∅</a> <a id="16077" href="Assignment4.html#2677" class="Datatype Operator">⊢</a> <a id="16079" href="Assignment4.html#16068" class="Bound">A</a> <a id="16081" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="16084" href="Assignment4.html#16070" class="Bound">B</a> <a id="16086" href="Assignment4.html#2148" class="InductiveConstructor Operator">⇒</a> <a id="16088" href="Assignment4.html#16070" class="Bound">B</a> <a id="16090" href="Assignment4.html#2196" class="InductiveConstructor Operator">`×</a> <a id="16093" href="Assignment4.html#16068" class="Bound">A</a>
  <a id="16097" href="/PLFA-zh/TSPL/2018/Assignment4/#16052" class="Function">swap×-case</a> <a id="16108" class="Symbol">=</a> <a id="16110" href="Assignment4.html#2811" class="InductiveConstructor Operator">ƛ</a> <a id="16112" href="Assignment4.html#3856" class="InductiveConstructor">case×</a> <a id="16118" class="Symbol">(</a><a id="16119" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="16121" class="Number">0</a><a id="16122" class="Symbol">)</a> <a id="16124" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16127" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="16129" class="Number">0</a> <a id="16131" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16133" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="16135" class="Number">1</a> <a id="16137" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>

  <a id="16142" href="/PLFA-zh/TSPL/2018/Assignment4/#16142" class="Function">_</a> <a id="16144" class="Symbol">:</a> <a id="16146" href="Assignment4.html#16052" class="Function">swap×-case</a> <a id="16157" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="16159" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16162" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16166" class="Number">42</a> <a id="16169" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16171" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16177" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="16179" href="Assignment4.html#10650" class="Datatype Operator">—↠</a> <a id="16182" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16185" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16191" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16193" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16197" class="Number">42</a> <a id="16200" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
  <a id="16204" class="Symbol">_</a> <a id="16206" class="Symbol">=</a>
    <a id="16212" href="/PLFA-zh/TSPL/2018/Assignment4/#10871" class="Function Operator">begin</a>
       <a id="16225" href="/PLFA-zh/TSPL/2018/Assignment4/#16052" class="Function">swap×-case</a> <a id="16236" href="Assignment4.html#2887" class="InductiveConstructor Operator">·</a> <a id="16238" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16241" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16245" class="Number">42</a> <a id="16248" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16250" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16256" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
     <a id="16263" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="16267" href="Assignment4.html#7936" class="InductiveConstructor">β-ƛ</a> <a id="16271" href="Assignment4.html#7356" class="InductiveConstructor Operator">V-⟨</a> <a id="16275" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="16281" href="Assignment4.html#7356" class="InductiveConstructor Operator">,</a> <a id="16283" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a> <a id="16290" href="Assignment4.html#7356" class="InductiveConstructor Operator">⟩</a> <a id="16292" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
       <a id="16301" href="/PLFA-zh/TSPL/2018/Assignment4/#3856" class="InductiveConstructor">case×</a> <a id="16307" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16310" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16314" class="Number">42</a> <a id="16317" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16319" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16325" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a> <a id="16327" href="Assignment4.html#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16330" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="16332" class="Number">0</a> <a id="16334" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16336" href="Assignment4.html#4381" class="Function Operator">#</a> <a id="16338" class="Number">1</a> <a id="16340" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
     <a id="16347" href="/PLFA-zh/TSPL/2018/Assignment4/#10764" class="InductiveConstructor Operator">—→⟨</a> <a id="16351" href="Assignment4.html#10345" class="InductiveConstructor">β-case×</a> <a id="16359" href="Assignment4.html#7258" class="InductiveConstructor">V-con</a> <a id="16365" href="Assignment4.html#7070" class="InductiveConstructor">V-zero</a> <a id="16372" href="Assignment4.html#10764" class="InductiveConstructor Operator">⟩</a>
       <a id="16381" href="/PLFA-zh/TSPL/2018/Assignment4/#3567" class="InductiveConstructor Operator">`⟨</a> <a id="16384" href="Assignment4.html#2989" class="InductiveConstructor">`zero</a> <a id="16390" href="Assignment4.html#3567" class="InductiveConstructor Operator">,</a> <a id="16392" href="Assignment4.html#3310" class="InductiveConstructor">con</a> <a id="16396" class="Number">42</a> <a id="16399" href="Assignment4.html#3567" class="InductiveConstructor Operator">⟩</a>
     <a id="16406" href="/PLFA-zh/TSPL/2018/Assignment4/#10702" class="InductiveConstructor Operator">∎</a>
</pre>

<h4 id="exercise-more-recommended-in-part">Exercise <code class="highlighter-rouge">More</code> (recommended in part)</h4>

<p>Formalise the remaining constructs defined in this chapter.
Evaluate each example, applied to data as needed,
to confirm it returns the expected answer.</p>

<ul>
  <li>sums (recommended)</li>
  <li>unit type</li>
  <li>an alternative formulation of unit type</li>
  <li>empty type (recommended)</li>
  <li>lists</li>
</ul>

<h2 id="bisimulation">Bisimulation</h2>

<p>(No recommended exercises for this chapter.)</p>

<h4 id="exercise-sim">Exercise <code class="highlighter-rouge">sim⁻¹</code></h4>

<p>Show that we also have a simulation in the other direction, and hence that we have
a bisimulation.</p>

<h4 id="exercise-products">Exercise <code class="highlighter-rouge">products</code></h4>

<p>Show that the two formulations of products in
Chapter [More][plfa.More]
are in bisimulation.  The only constructs you need to include are
variables, and those connected to functions and products.
In this case, the simulation is <em>not</em> lock-step.</p>

<h2 id="inference">Inference</h2>

<pre class="Agda"><a id="17210" class="Keyword">module</a> <a id="Inference"></a><a id="17217" href="/PLFA-zh/TSPL/2018/Assignment4/#17217" class="Module">Inference</a> <a id="17227" class="Keyword">where</a>
</pre>
<p>Remember to indent all code by two spaces.</p>

<h3 id="imports-1">Imports</h3>

<pre class="Agda">  <a id="17301" class="Keyword">import</a> <a id="17308" href="/PLFA-zh/More/" class="Module">plfa.More</a> <a id="17318" class="Symbol">as</a> <a id="17321" class="Module">DB</a>
</pre>
<h3 id="syntax-1">Syntax</h3>

<pre class="Agda">  <a id="17347" class="Keyword">infix</a>   <a id="17355" class="Number">4</a>  <a id="17358" href="/PLFA-zh/TSPL/2018/Assignment4/#18631" class="Datatype Operator">_∋_⦂_</a>
  <a id="17366" class="Keyword">infix</a>   <a id="17374" class="Number">4</a>  <a id="17377" href="/PLFA-zh/TSPL/2018/Assignment4/#18901" class="Datatype Operator">_⊢_↑_</a>
  <a id="17385" class="Keyword">infix</a>   <a id="17393" class="Number">4</a>  <a id="17396" href="/PLFA-zh/TSPL/2018/Assignment4/#18945" class="Datatype Operator">_⊢_↓_</a>
  <a id="17404" class="Keyword">infixl</a>  <a id="17412" class="Number">5</a>  <a id="17415" href="/PLFA-zh/TSPL/2018/Assignment4/#17758" class="InductiveConstructor Operator">_,_⦂_</a>

  <a id="17424" class="Keyword">infixr</a>  <a id="17432" class="Number">7</a>  <a id="17435" href="/PLFA-zh/TSPL/2018/Assignment4/#17679" class="InductiveConstructor Operator">_⇒_</a>

  <a id="17442" class="Keyword">infix</a>   <a id="17450" class="Number">5</a>  <a id="17453" href="/PLFA-zh/TSPL/2018/Assignment4/#18048" class="InductiveConstructor Operator">ƛ_⇒_</a>
  <a id="17460" class="Keyword">infix</a>   <a id="17468" class="Number">5</a>  <a id="17471" href="/PLFA-zh/TSPL/2018/Assignment4/#18246" class="InductiveConstructor Operator">μ_⇒_</a>
  <a id="17478" class="Keyword">infix</a>   <a id="17486" class="Number">6</a>  <a id="17489" href="/PLFA-zh/TSPL/2018/Assignment4/#18296" class="InductiveConstructor Operator">_↑</a>
  <a id="17494" class="Keyword">infix</a>   <a id="17502" class="Number">6</a>  <a id="17505" href="/PLFA-zh/TSPL/2018/Assignment4/#17975" class="InductiveConstructor Operator">_↓_</a>
  <a id="17511" class="Keyword">infixl</a>  <a id="17519" class="Number">7</a>  <a id="17522" href="/PLFA-zh/TSPL/2018/Assignment4/#19085" class="InductiveConstructor Operator">_·_</a>
  <a id="17528" class="Keyword">infix</a>   <a id="17536" class="Number">8</a>  <a id="17539" href="/PLFA-zh/TSPL/2018/Assignment4/#18135" class="InductiveConstructor Operator">`suc_</a>
  <a id="17547" class="Keyword">infix</a>   <a id="17555" class="Number">9</a>  <a id="17558" href="/PLFA-zh/TSPL/2018/Assignment4/#17878" class="InductiveConstructor Operator">`_</a>
</pre>
<h3 id="identifiers-types-and-contexts">Identifiers, types, and contexts</h3>

<pre class="Agda">  <a id="Inference.Id"></a><a id="17610" href="/PLFA-zh/TSPL/2018/Assignment4/#17610" class="Function">Id</a> <a id="17613" class="Symbol">:</a> <a id="17615" class="PrimitiveType">Set</a>
  <a id="17621" href="/PLFA-zh/TSPL/2018/Assignment4/#17610" class="Function">Id</a> <a id="17624" class="Symbol">=</a> <a id="17626" href="Agda.Builtin.String.html#206" class="Postulate">String</a>

  <a id="17636" class="Keyword">data</a> <a id="Inference.Type"></a><a id="17641" href="/PLFA-zh/TSPL/2018/Assignment4/#17641" class="Datatype">Type</a> <a id="17646" class="Symbol">:</a> <a id="17648" class="PrimitiveType">Set</a> <a id="17652" class="Keyword">where</a>
    <a id="Inference.Type.`ℕ"></a><a id="17662" href="/PLFA-zh/TSPL/2018/Assignment4/#17662" class="InductiveConstructor">`ℕ</a>    <a id="17668" class="Symbol">:</a> <a id="17670" href="Assignment4.html#17641" class="Datatype">Type</a>
    <a id="Inference.Type._⇒_"></a><a id="17679" href="/PLFA-zh/TSPL/2018/Assignment4/#17679" class="InductiveConstructor Operator">_⇒_</a>   <a id="17685" class="Symbol">:</a> <a id="17687" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="17692" class="Symbol">→</a> <a id="17694" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="17699" class="Symbol">→</a> <a id="17701" href="Assignment4.html#17641" class="Datatype">Type</a>

  <a id="17709" class="Keyword">data</a> <a id="Inference.Context"></a><a id="17714" href="/PLFA-zh/TSPL/2018/Assignment4/#17714" class="Datatype">Context</a> <a id="17722" class="Symbol">:</a> <a id="17724" class="PrimitiveType">Set</a> <a id="17728" class="Keyword">where</a>
    <a id="Inference.Context.∅"></a><a id="17738" href="/PLFA-zh/TSPL/2018/Assignment4/#17738" class="InductiveConstructor">∅</a>     <a id="17744" class="Symbol">:</a> <a id="17746" href="Assignment4.html#17714" class="Datatype">Context</a>
    <a id="Inference.Context._,_⦂_"></a><a id="17758" href="/PLFA-zh/TSPL/2018/Assignment4/#17758" class="InductiveConstructor Operator">_,_⦂_</a> <a id="17764" class="Symbol">:</a> <a id="17766" href="Assignment4.html#17714" class="Datatype">Context</a> <a id="17774" class="Symbol">→</a> <a id="17776" href="Assignment4.html#17610" class="Function">Id</a> <a id="17779" class="Symbol">→</a> <a id="17781" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="17786" class="Symbol">→</a> <a id="17788" href="Assignment4.html#17714" class="Datatype">Context</a>
</pre>
<h3 id="terms">Terms</h3>

<pre class="Agda">  <a id="17818" class="Keyword">data</a> <a id="Inference.Term⁺"></a><a id="17823" href="/PLFA-zh/TSPL/2018/Assignment4/#17823" class="Datatype">Term⁺</a> <a id="17829" class="Symbol">:</a> <a id="17831" class="PrimitiveType">Set</a>
  <a id="17837" class="Keyword">data</a> <a id="Inference.Term⁻"></a><a id="17842" href="/PLFA-zh/TSPL/2018/Assignment4/#17842" class="Datatype">Term⁻</a> <a id="17848" class="Symbol">:</a> <a id="17850" class="PrimitiveType">Set</a>

  <a id="17857" class="Keyword">data</a> <a id="17862" href="/PLFA-zh/TSPL/2018/Assignment4/#17823" class="Datatype">Term⁺</a> <a id="17868" class="Keyword">where</a>
    <a id="Inference.Term⁺.`_"></a><a id="17878" href="/PLFA-zh/TSPL/2018/Assignment4/#17878" class="InductiveConstructor Operator">`_</a>                        <a id="17904" class="Symbol">:</a> <a id="17906" href="Assignment4.html#17610" class="Function">Id</a> <a id="17909" class="Symbol">→</a> <a id="17911" href="Assignment4.html#17823" class="Datatype">Term⁺</a>
    <a id="Inference.Term⁺._·_"></a><a id="17921" href="/PLFA-zh/TSPL/2018/Assignment4/#17921" class="InductiveConstructor Operator">_·_</a>                       <a id="17947" class="Symbol">:</a> <a id="17949" href="Assignment4.html#17823" class="Datatype">Term⁺</a> <a id="17955" class="Symbol">→</a> <a id="17957" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="17963" class="Symbol">→</a> <a id="17965" href="Assignment4.html#17823" class="Datatype">Term⁺</a>
    <a id="Inference.Term⁺._↓_"></a><a id="17975" href="/PLFA-zh/TSPL/2018/Assignment4/#17975" class="InductiveConstructor Operator">_↓_</a>                       <a id="18001" class="Symbol">:</a> <a id="18003" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18009" class="Symbol">→</a> <a id="18011" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="18016" class="Symbol">→</a> <a id="18018" href="Assignment4.html#17823" class="Datatype">Term⁺</a>

  <a id="18027" class="Keyword">data</a> <a id="18032" href="/PLFA-zh/TSPL/2018/Assignment4/#17842" class="Datatype">Term⁻</a> <a id="18038" class="Keyword">where</a>
    <a id="Inference.Term⁻.ƛ_⇒_"></a><a id="18048" href="/PLFA-zh/TSPL/2018/Assignment4/#18048" class="InductiveConstructor Operator">ƛ_⇒_</a>                     <a id="18073" class="Symbol">:</a> <a id="18075" href="Assignment4.html#17610" class="Function">Id</a> <a id="18078" class="Symbol">→</a> <a id="18080" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18086" class="Symbol">→</a> <a id="18088" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
    <a id="Inference.Term⁻.`zero"></a><a id="18098" href="/PLFA-zh/TSPL/2018/Assignment4/#18098" class="InductiveConstructor">`zero</a>                    <a id="18123" class="Symbol">:</a> <a id="18125" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
    <a id="Inference.Term⁻.`suc_"></a><a id="18135" href="/PLFA-zh/TSPL/2018/Assignment4/#18135" class="InductiveConstructor Operator">`suc_</a>                    <a id="18160" class="Symbol">:</a> <a id="18162" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18168" class="Symbol">→</a> <a id="18170" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
    <a id="Inference.Term⁻.`case_[zero⇒_|suc_⇒_]"></a><a id="18180" href="/PLFA-zh/TSPL/2018/Assignment4/#18180" class="InductiveConstructor Operator">`case_[zero⇒_|suc_⇒_]</a>    <a id="18205" class="Symbol">:</a> <a id="18207" href="Assignment4.html#17823" class="Datatype">Term⁺</a> <a id="18213" class="Symbol">→</a> <a id="18215" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18221" class="Symbol">→</a> <a id="18223" href="Assignment4.html#17610" class="Function">Id</a> <a id="18226" class="Symbol">→</a> <a id="18228" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18234" class="Symbol">→</a> <a id="18236" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
    <a id="Inference.Term⁻.μ_⇒_"></a><a id="18246" href="/PLFA-zh/TSPL/2018/Assignment4/#18246" class="InductiveConstructor Operator">μ_⇒_</a>                     <a id="18271" class="Symbol">:</a> <a id="18273" href="Assignment4.html#17610" class="Function">Id</a> <a id="18276" class="Symbol">→</a> <a id="18278" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18284" class="Symbol">→</a> <a id="18286" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
    <a id="Inference.Term⁻._↑"></a><a id="18296" href="/PLFA-zh/TSPL/2018/Assignment4/#18296" class="InductiveConstructor Operator">_↑</a>                       <a id="18321" class="Symbol">:</a> <a id="18323" href="Assignment4.html#17823" class="Datatype">Term⁺</a> <a id="18329" class="Symbol">→</a> <a id="18331" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
</pre>
<h3 id="sample-terms">Sample terms</h3>

<pre class="Agda">  <a id="Inference.two"></a><a id="18366" href="/PLFA-zh/TSPL/2018/Assignment4/#18366" class="Function">two</a> <a id="18370" class="Symbol">:</a> <a id="18372" href="Assignment4.html#17842" class="Datatype">Term⁻</a>
  <a id="18380" href="/PLFA-zh/TSPL/2018/Assignment4/#18366" class="Function">two</a> <a id="18384" class="Symbol">=</a> <a id="18386" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="18391" class="Symbol">(</a><a id="18392" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="18397" href="Assignment4.html#18098" class="InductiveConstructor">`zero</a><a id="18402" class="Symbol">)</a>

  <a id="Inference.plus"></a><a id="18407" href="/PLFA-zh/TSPL/2018/Assignment4/#18407" class="Function">plus</a> <a id="18412" class="Symbol">:</a> <a id="18414" href="Assignment4.html#17823" class="Datatype">Term⁺</a>
  <a id="18422" href="/PLFA-zh/TSPL/2018/Assignment4/#18407" class="Function">plus</a> <a id="18427" class="Symbol">=</a> <a id="18429" class="Symbol">(</a><a id="18430" href="Assignment4.html#18246" class="InductiveConstructor Operator">μ</a> <a id="18432" class="String">&quot;p&quot;</a> <a id="18436" href="Assignment4.html#18246" class="InductiveConstructor Operator">⇒</a> <a id="18438" href="Assignment4.html#18048" class="InductiveConstructor Operator">ƛ</a> <a id="18440" class="String">&quot;m&quot;</a> <a id="18444" href="Assignment4.html#18048" class="InductiveConstructor Operator">⇒</a> <a id="18446" href="Assignment4.html#18048" class="InductiveConstructor Operator">ƛ</a> <a id="18448" class="String">&quot;n&quot;</a> <a id="18452" href="Assignment4.html#18048" class="InductiveConstructor Operator">⇒</a>
            <a id="18466" href="/PLFA-zh/TSPL/2018/Assignment4/#18180" class="InductiveConstructor Operator">`case</a> <a id="18472" class="Symbol">(</a><a id="18473" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="18475" class="String">&quot;m&quot;</a><a id="18478" class="Symbol">)</a> <a id="18480" href="Assignment4.html#18180" class="InductiveConstructor Operator">[zero⇒</a> <a id="18487" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="18489" class="String">&quot;n&quot;</a> <a id="18493" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a>
                          <a id="18521" href="/PLFA-zh/TSPL/2018/Assignment4/#18180" class="InductiveConstructor Operator">|suc</a> <a id="18526" class="String">&quot;m&quot;</a> <a id="18530" href="Assignment4.html#18180" class="InductiveConstructor Operator">⇒</a> <a id="18532" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="18537" class="Symbol">(</a><a id="18538" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="18540" class="String">&quot;p&quot;</a> <a id="18544" href="Assignment4.html#17921" class="InductiveConstructor Operator">·</a> <a id="18546" class="Symbol">(</a><a id="18547" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="18549" class="String">&quot;m&quot;</a> <a id="18553" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="18554" class="Symbol">)</a> <a id="18556" href="Assignment4.html#17921" class="InductiveConstructor Operator">·</a> <a id="18558" class="Symbol">(</a><a id="18559" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="18561" class="String">&quot;n&quot;</a> <a id="18565" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="18566" class="Symbol">)</a> <a id="18568" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="18569" class="Symbol">)</a> <a id="18571" href="Assignment4.html#18180" class="InductiveConstructor Operator">]</a><a id="18572" class="Symbol">)</a>
              <a id="18588" href="/PLFA-zh/TSPL/2018/Assignment4/#17975" class="InductiveConstructor Operator">↓</a> <a id="18590" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="18593" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="18595" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="18598" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="18600" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>
</pre>
<h3 id="lookup">Lookup</h3>

<pre class="Agda">  <a id="18626" class="Keyword">data</a> <a id="Inference._∋_⦂_"></a><a id="18631" href="/PLFA-zh/TSPL/2018/Assignment4/#18631" class="Datatype Operator">_∋_⦂_</a> <a id="18637" class="Symbol">:</a> <a id="18639" href="Assignment4.html#17714" class="Datatype">Context</a> <a id="18647" class="Symbol">→</a> <a id="18649" href="Assignment4.html#17610" class="Function">Id</a> <a id="18652" class="Symbol">→</a> <a id="18654" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="18659" class="Symbol">→</a> <a id="18661" class="PrimitiveType">Set</a> <a id="18665" class="Keyword">where</a>

    <a id="Inference._∋_⦂_.Z"></a><a id="18676" href="/PLFA-zh/TSPL/2018/Assignment4/#18676" class="InductiveConstructor">Z</a> <a id="18678" class="Symbol">:</a> <a id="18680" class="Symbol">∀</a> <a id="18682" class="Symbol">{</a><a id="18683" href="Assignment4.html#18683" class="Bound">Γ</a> <a id="18685" href="Assignment4.html#18685" class="Bound">x</a> <a id="18687" href="Assignment4.html#18687" class="Bound">A</a><a id="18688" class="Symbol">}</a>
        <a id="18698" class="Comment">--------------------</a>
      <a id="18725" class="Symbol">→</a> <a id="18727" href="/PLFA-zh/TSPL/2018/Assignment4/#18683" class="Bound">Γ</a> <a id="18729" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="18731" href="Assignment4.html#18685" class="Bound">x</a> <a id="18733" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="18735" href="Assignment4.html#18687" class="Bound">A</a> <a id="18737" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="18739" href="Assignment4.html#18685" class="Bound">x</a> <a id="18741" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="18743" href="Assignment4.html#18687" class="Bound">A</a>

    <a id="Inference._∋_⦂_.S"></a><a id="18750" href="/PLFA-zh/TSPL/2018/Assignment4/#18750" class="InductiveConstructor">S</a> <a id="18752" class="Symbol">:</a> <a id="18754" class="Symbol">∀</a> <a id="18756" class="Symbol">{</a><a id="18757" href="Assignment4.html#18757" class="Bound">Γ</a> <a id="18759" href="Assignment4.html#18759" class="Bound">x</a> <a id="18761" href="Assignment4.html#18761" class="Bound">y</a> <a id="18763" href="Assignment4.html#18763" class="Bound">A</a> <a id="18765" href="Assignment4.html#18765" class="Bound">B</a><a id="18766" class="Symbol">}</a>
      <a id="18774" class="Symbol">→</a> <a id="18776" href="/PLFA-zh/TSPL/2018/Assignment4/#18759" class="Bound">x</a> <a id="18778" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">≢</a> <a id="18780" href="Assignment4.html#18761" class="Bound">y</a>
      <a id="18788" class="Symbol">→</a> <a id="18790" href="/PLFA-zh/TSPL/2018/Assignment4/#18757" class="Bound">Γ</a> <a id="18792" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="18794" href="Assignment4.html#18759" class="Bound">x</a> <a id="18796" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="18798" href="Assignment4.html#18763" class="Bound">A</a>
        <a id="18808" class="Comment">-----------------</a>
      <a id="18832" class="Symbol">→</a> <a id="18834" href="/PLFA-zh/TSPL/2018/Assignment4/#18757" class="Bound">Γ</a> <a id="18836" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="18838" href="Assignment4.html#18761" class="Bound">y</a> <a id="18840" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="18842" href="Assignment4.html#18765" class="Bound">B</a> <a id="18844" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="18846" href="Assignment4.html#18759" class="Bound">x</a> <a id="18848" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="18850" href="Assignment4.html#18763" class="Bound">A</a>
</pre>
<h3 id="bidirectional-type-checking">Bidirectional type checking</h3>

<pre class="Agda">  <a id="18896" class="Keyword">data</a> <a id="Inference._⊢_↑_"></a><a id="18901" href="/PLFA-zh/TSPL/2018/Assignment4/#18901" class="Datatype Operator">_⊢_↑_</a> <a id="18907" class="Symbol">:</a> <a id="18909" href="Assignment4.html#17714" class="Datatype">Context</a> <a id="18917" class="Symbol">→</a> <a id="18919" href="Assignment4.html#17823" class="Datatype">Term⁺</a> <a id="18925" class="Symbol">→</a> <a id="18927" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="18932" class="Symbol">→</a> <a id="18934" class="PrimitiveType">Set</a>
  <a id="18940" class="Keyword">data</a> <a id="Inference._⊢_↓_"></a><a id="18945" href="/PLFA-zh/TSPL/2018/Assignment4/#18945" class="Datatype Operator">_⊢_↓_</a> <a id="18951" class="Symbol">:</a> <a id="18953" href="Assignment4.html#17714" class="Datatype">Context</a> <a id="18961" class="Symbol">→</a> <a id="18963" href="Assignment4.html#17842" class="Datatype">Term⁻</a> <a id="18969" class="Symbol">→</a> <a id="18971" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="18976" class="Symbol">→</a> <a id="18978" class="PrimitiveType">Set</a>

  <a id="18985" class="Keyword">data</a> <a id="18990" href="/PLFA-zh/TSPL/2018/Assignment4/#18901" class="Datatype Operator">_⊢_↑_</a> <a id="18996" class="Keyword">where</a>

    <a id="Inference._⊢_↑_.⊢`"></a><a id="19007" href="/PLFA-zh/TSPL/2018/Assignment4/#19007" class="InductiveConstructor">⊢`</a> <a id="19010" class="Symbol">:</a> <a id="19012" class="Symbol">∀</a> <a id="19014" class="Symbol">{</a><a id="19015" href="Assignment4.html#19015" class="Bound">Γ</a> <a id="19017" href="Assignment4.html#19017" class="Bound">A</a> <a id="19019" href="Assignment4.html#19019" class="Bound">x</a><a id="19020" class="Symbol">}</a>
      <a id="19028" class="Symbol">→</a> <a id="19030" href="/PLFA-zh/TSPL/2018/Assignment4/#19015" class="Bound">Γ</a> <a id="19032" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="19034" href="Assignment4.html#19019" class="Bound">x</a> <a id="19036" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="19038" href="Assignment4.html#19017" class="Bound">A</a>
        <a id="19048" class="Comment">-----------</a>
      <a id="19066" class="Symbol">→</a> <a id="19068" href="/PLFA-zh/TSPL/2018/Assignment4/#19015" class="Bound">Γ</a> <a id="19070" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19072" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="19074" href="Assignment4.html#19019" class="Bound">x</a> <a id="19076" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19078" href="Assignment4.html#19017" class="Bound">A</a>

    <a id="Inference._⊢_↑_._·_"></a><a id="19085" href="/PLFA-zh/TSPL/2018/Assignment4/#19085" class="InductiveConstructor Operator">_·_</a> <a id="19089" class="Symbol">:</a> <a id="19091" class="Symbol">∀</a> <a id="19093" class="Symbol">{</a><a id="19094" href="Assignment4.html#19094" class="Bound">Γ</a> <a id="19096" href="Assignment4.html#19096" class="Bound">L</a> <a id="19098" href="Assignment4.html#19098" class="Bound">M</a> <a id="19100" href="Assignment4.html#19100" class="Bound">A</a> <a id="19102" href="Assignment4.html#19102" class="Bound">B</a><a id="19103" class="Symbol">}</a>
      <a id="19111" class="Symbol">→</a> <a id="19113" href="/PLFA-zh/TSPL/2018/Assignment4/#19094" class="Bound">Γ</a> <a id="19115" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19117" href="Assignment4.html#19096" class="Bound">L</a> <a id="19119" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19121" href="Assignment4.html#19100" class="Bound">A</a> <a id="19123" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="19125" href="Assignment4.html#19102" class="Bound">B</a>
      <a id="19133" class="Symbol">→</a> <a id="19135" href="/PLFA-zh/TSPL/2018/Assignment4/#19094" class="Bound">Γ</a> <a id="19137" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19139" href="Assignment4.html#19098" class="Bound">M</a> <a id="19141" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19143" href="Assignment4.html#19100" class="Bound">A</a>
        <a id="19153" class="Comment">-------------</a>
      <a id="19173" class="Symbol">→</a> <a id="19175" href="/PLFA-zh/TSPL/2018/Assignment4/#19094" class="Bound">Γ</a> <a id="19177" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19179" href="Assignment4.html#19096" class="Bound">L</a> <a id="19181" href="Assignment4.html#17921" class="InductiveConstructor Operator">·</a> <a id="19183" href="Assignment4.html#19098" class="Bound">M</a> <a id="19185" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19187" href="Assignment4.html#19102" class="Bound">B</a>

    <a id="Inference._⊢_↑_.⊢↓"></a><a id="19194" href="/PLFA-zh/TSPL/2018/Assignment4/#19194" class="InductiveConstructor">⊢↓</a> <a id="19197" class="Symbol">:</a> <a id="19199" class="Symbol">∀</a> <a id="19201" class="Symbol">{</a><a id="19202" href="Assignment4.html#19202" class="Bound">Γ</a> <a id="19204" href="Assignment4.html#19204" class="Bound">M</a> <a id="19206" href="Assignment4.html#19206" class="Bound">A</a><a id="19207" class="Symbol">}</a>
      <a id="19215" class="Symbol">→</a> <a id="19217" href="/PLFA-zh/TSPL/2018/Assignment4/#19202" class="Bound">Γ</a> <a id="19219" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19221" href="Assignment4.html#19204" class="Bound">M</a> <a id="19223" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19225" href="Assignment4.html#19206" class="Bound">A</a>
        <a id="19235" class="Comment">---------------</a>
      <a id="19257" class="Symbol">→</a> <a id="19259" href="/PLFA-zh/TSPL/2018/Assignment4/#19202" class="Bound">Γ</a> <a id="19261" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19263" class="Symbol">(</a><a id="19264" href="Assignment4.html#19204" class="Bound">M</a> <a id="19266" href="Assignment4.html#17975" class="InductiveConstructor Operator">↓</a> <a id="19268" href="Assignment4.html#19206" class="Bound">A</a><a id="19269" class="Symbol">)</a> <a id="19271" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19273" href="Assignment4.html#19206" class="Bound">A</a>

  <a id="19278" class="Keyword">data</a> <a id="19283" href="/PLFA-zh/TSPL/2018/Assignment4/#18945" class="Datatype Operator">_⊢_↓_</a> <a id="19289" class="Keyword">where</a>

    <a id="Inference._⊢_↓_.⊢ƛ"></a><a id="19300" href="/PLFA-zh/TSPL/2018/Assignment4/#19300" class="InductiveConstructor">⊢ƛ</a> <a id="19303" class="Symbol">:</a> <a id="19305" class="Symbol">∀</a> <a id="19307" class="Symbol">{</a><a id="19308" href="Assignment4.html#19308" class="Bound">Γ</a> <a id="19310" href="Assignment4.html#19310" class="Bound">x</a> <a id="19312" href="Assignment4.html#19312" class="Bound">N</a> <a id="19314" href="Assignment4.html#19314" class="Bound">A</a> <a id="19316" href="Assignment4.html#19316" class="Bound">B</a><a id="19317" class="Symbol">}</a>
      <a id="19325" class="Symbol">→</a> <a id="19327" href="/PLFA-zh/TSPL/2018/Assignment4/#19308" class="Bound">Γ</a> <a id="19329" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="19331" href="Assignment4.html#19310" class="Bound">x</a> <a id="19333" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="19335" href="Assignment4.html#19314" class="Bound">A</a> <a id="19337" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19339" href="Assignment4.html#19312" class="Bound">N</a> <a id="19341" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19343" href="Assignment4.html#19316" class="Bound">B</a>
        <a id="19353" class="Comment">-------------------</a>
      <a id="19379" class="Symbol">→</a> <a id="19381" href="/PLFA-zh/TSPL/2018/Assignment4/#19308" class="Bound">Γ</a> <a id="19383" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19385" href="Assignment4.html#18048" class="InductiveConstructor Operator">ƛ</a> <a id="19387" href="Assignment4.html#19310" class="Bound">x</a> <a id="19389" href="Assignment4.html#18048" class="InductiveConstructor Operator">⇒</a> <a id="19391" href="Assignment4.html#19312" class="Bound">N</a> <a id="19393" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19395" href="Assignment4.html#19314" class="Bound">A</a> <a id="19397" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="19399" href="Assignment4.html#19316" class="Bound">B</a>

    <a id="Inference._⊢_↓_.⊢zero"></a><a id="19406" href="/PLFA-zh/TSPL/2018/Assignment4/#19406" class="InductiveConstructor">⊢zero</a> <a id="19412" class="Symbol">:</a> <a id="19414" class="Symbol">∀</a> <a id="19416" class="Symbol">{</a><a id="19417" href="Assignment4.html#19417" class="Bound">Γ</a><a id="19418" class="Symbol">}</a>
        <a id="19428" class="Comment">--------------</a>
      <a id="19449" class="Symbol">→</a> <a id="19451" href="/PLFA-zh/TSPL/2018/Assignment4/#19417" class="Bound">Γ</a> <a id="19453" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19455" href="Assignment4.html#18098" class="InductiveConstructor">`zero</a> <a id="19461" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19463" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>

    <a id="Inference._⊢_↓_.⊢suc"></a><a id="19471" href="/PLFA-zh/TSPL/2018/Assignment4/#19471" class="InductiveConstructor">⊢suc</a> <a id="19476" class="Symbol">:</a> <a id="19478" class="Symbol">∀</a> <a id="19480" class="Symbol">{</a><a id="19481" href="Assignment4.html#19481" class="Bound">Γ</a> <a id="19483" href="Assignment4.html#19483" class="Bound">M</a><a id="19484" class="Symbol">}</a>
      <a id="19492" class="Symbol">→</a> <a id="19494" href="/PLFA-zh/TSPL/2018/Assignment4/#19481" class="Bound">Γ</a> <a id="19496" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19498" href="Assignment4.html#19483" class="Bound">M</a> <a id="19500" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19502" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>
        <a id="19513" class="Comment">---------------</a>
      <a id="19535" class="Symbol">→</a> <a id="19537" href="/PLFA-zh/TSPL/2018/Assignment4/#19481" class="Bound">Γ</a> <a id="19539" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19541" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="19546" href="Assignment4.html#19483" class="Bound">M</a> <a id="19548" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19550" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>

    <a id="Inference._⊢_↓_.⊢case"></a><a id="19558" href="/PLFA-zh/TSPL/2018/Assignment4/#19558" class="InductiveConstructor">⊢case</a> <a id="19564" class="Symbol">:</a> <a id="19566" class="Symbol">∀</a> <a id="19568" class="Symbol">{</a><a id="19569" href="Assignment4.html#19569" class="Bound">Γ</a> <a id="19571" href="Assignment4.html#19571" class="Bound">L</a> <a id="19573" href="Assignment4.html#19573" class="Bound">M</a> <a id="19575" href="Assignment4.html#19575" class="Bound">x</a> <a id="19577" href="Assignment4.html#19577" class="Bound">N</a> <a id="19579" href="Assignment4.html#19579" class="Bound">A</a><a id="19580" class="Symbol">}</a>
      <a id="19588" class="Symbol">→</a> <a id="19590" href="/PLFA-zh/TSPL/2018/Assignment4/#19569" class="Bound">Γ</a> <a id="19592" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19594" href="Assignment4.html#19571" class="Bound">L</a> <a id="19596" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19598" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>
      <a id="19607" class="Symbol">→</a> <a id="19609" href="/PLFA-zh/TSPL/2018/Assignment4/#19569" class="Bound">Γ</a> <a id="19611" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19613" href="Assignment4.html#19573" class="Bound">M</a> <a id="19615" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19617" href="Assignment4.html#19579" class="Bound">A</a>
      <a id="19625" class="Symbol">→</a> <a id="19627" href="/PLFA-zh/TSPL/2018/Assignment4/#19569" class="Bound">Γ</a> <a id="19629" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="19631" href="Assignment4.html#19575" class="Bound">x</a> <a id="19633" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="19635" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="19638" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19640" href="Assignment4.html#19577" class="Bound">N</a> <a id="19642" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19644" href="Assignment4.html#19579" class="Bound">A</a>
        <a id="19654" class="Comment">-------------------------------------</a>
      <a id="19698" class="Symbol">→</a> <a id="19700" href="/PLFA-zh/TSPL/2018/Assignment4/#19569" class="Bound">Γ</a> <a id="19702" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19704" href="Assignment4.html#18180" class="InductiveConstructor Operator">`case</a> <a id="19710" href="Assignment4.html#19571" class="Bound">L</a> <a id="19712" href="Assignment4.html#18180" class="InductiveConstructor Operator">[zero⇒</a> <a id="19719" href="Assignment4.html#19573" class="Bound">M</a> <a id="19721" href="Assignment4.html#18180" class="InductiveConstructor Operator">|suc</a> <a id="19726" href="Assignment4.html#19575" class="Bound">x</a> <a id="19728" href="Assignment4.html#18180" class="InductiveConstructor Operator">⇒</a> <a id="19730" href="Assignment4.html#19577" class="Bound">N</a> <a id="19732" href="Assignment4.html#18180" class="InductiveConstructor Operator">]</a> <a id="19734" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19736" href="Assignment4.html#19579" class="Bound">A</a>

    <a id="Inference._⊢_↓_.⊢μ"></a><a id="19743" href="/PLFA-zh/TSPL/2018/Assignment4/#19743" class="InductiveConstructor">⊢μ</a> <a id="19746" class="Symbol">:</a> <a id="19748" class="Symbol">∀</a> <a id="19750" class="Symbol">{</a><a id="19751" href="Assignment4.html#19751" class="Bound">Γ</a> <a id="19753" href="Assignment4.html#19753" class="Bound">x</a> <a id="19755" href="Assignment4.html#19755" class="Bound">N</a> <a id="19757" href="Assignment4.html#19757" class="Bound">A</a><a id="19758" class="Symbol">}</a>
      <a id="19766" class="Symbol">→</a> <a id="19768" href="/PLFA-zh/TSPL/2018/Assignment4/#19751" class="Bound">Γ</a> <a id="19770" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="19772" href="Assignment4.html#19753" class="Bound">x</a> <a id="19774" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="19776" href="Assignment4.html#19757" class="Bound">A</a> <a id="19778" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19780" href="Assignment4.html#19755" class="Bound">N</a> <a id="19782" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19784" href="Assignment4.html#19757" class="Bound">A</a>
        <a id="19794" class="Comment">-----------------</a>
      <a id="19818" class="Symbol">→</a> <a id="19820" href="/PLFA-zh/TSPL/2018/Assignment4/#19751" class="Bound">Γ</a> <a id="19822" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19824" href="Assignment4.html#18246" class="InductiveConstructor Operator">μ</a> <a id="19826" href="Assignment4.html#19753" class="Bound">x</a> <a id="19828" href="Assignment4.html#18246" class="InductiveConstructor Operator">⇒</a> <a id="19830" href="Assignment4.html#19755" class="Bound">N</a> <a id="19832" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19834" href="Assignment4.html#19757" class="Bound">A</a>

    <a id="Inference._⊢_↓_.⊢↑"></a><a id="19841" href="/PLFA-zh/TSPL/2018/Assignment4/#19841" class="InductiveConstructor">⊢↑</a> <a id="19844" class="Symbol">:</a> <a id="19846" class="Symbol">∀</a> <a id="19848" class="Symbol">{</a><a id="19849" href="Assignment4.html#19849" class="Bound">Γ</a> <a id="19851" href="Assignment4.html#19851" class="Bound">M</a> <a id="19853" href="Assignment4.html#19853" class="Bound">A</a> <a id="19855" href="Assignment4.html#19855" class="Bound">B</a><a id="19856" class="Symbol">}</a>
      <a id="19864" class="Symbol">→</a> <a id="19866" href="/PLFA-zh/TSPL/2018/Assignment4/#19849" class="Bound">Γ</a> <a id="19868" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="19870" href="Assignment4.html#19851" class="Bound">M</a> <a id="19872" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="19874" href="Assignment4.html#19853" class="Bound">A</a>
      <a id="19882" class="Symbol">→</a> <a id="19884" href="/PLFA-zh/TSPL/2018/Assignment4/#19853" class="Bound">A</a> <a id="19886" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="19888" href="Assignment4.html#19855" class="Bound">B</a>
        <a id="19898" class="Comment">-------------</a>
      <a id="19918" class="Symbol">→</a> <a id="19920" href="/PLFA-zh/TSPL/2018/Assignment4/#19849" class="Bound">Γ</a> <a id="19922" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="19924" class="Symbol">(</a><a id="19925" href="Assignment4.html#19851" class="Bound">M</a> <a id="19927" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="19928" class="Symbol">)</a> <a id="19930" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="19932" href="Assignment4.html#19855" class="Bound">B</a>
</pre>

<h3 id="type-equality">Type equality</h3>

<pre class="Agda">  <a id="Inference._≟Tp_"></a><a id="19965" href="/PLFA-zh/TSPL/2018/Assignment4/#19965" class="Function Operator">_≟Tp_</a> <a id="19971" class="Symbol">:</a> <a id="19973" class="Symbol">(</a><a id="19974" href="Assignment4.html#19974" class="Bound">A</a> <a id="19976" href="Assignment4.html#19976" class="Bound">B</a> <a id="19978" class="Symbol">:</a> <a id="19980" href="Assignment4.html#17641" class="Datatype">Type</a><a id="19984" class="Symbol">)</a> <a id="19986" class="Symbol">→</a> <a id="19988" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="19992" class="Symbol">(</a><a id="19993" href="Assignment4.html#19974" class="Bound">A</a> <a id="19995" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="19997" href="Assignment4.html#19976" class="Bound">B</a><a id="19998" class="Symbol">)</a>
  <a id="20002" href="/PLFA-zh/TSPL/2018/Assignment4/#17662" class="InductiveConstructor">`ℕ</a>      <a id="20010" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20014" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>              <a id="20030" class="Symbol">=</a>  <a id="20033" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="20037" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
  <a id="20044" href="/PLFA-zh/TSPL/2018/Assignment4/#17662" class="InductiveConstructor">`ℕ</a>      <a id="20052" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20056" class="Symbol">(</a><a id="20057" href="Assignment4.html#20057" class="Bound">A</a> <a id="20059" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20061" href="Assignment4.html#20061" class="Bound">B</a><a id="20062" class="Symbol">)</a>         <a id="20072" class="Symbol">=</a>  <a id="20075" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20078" class="Symbol">λ()</a>
  <a id="20084" class="Symbol">(</a><a id="20085" href="/PLFA-zh/TSPL/2018/Assignment4/#20085" class="Bound">A</a> <a id="20087" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20089" href="Assignment4.html#20089" class="Bound">B</a><a id="20090" class="Symbol">)</a> <a id="20092" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20096" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>              <a id="20112" class="Symbol">=</a>  <a id="20115" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20118" class="Symbol">λ()</a>
  <a id="20124" class="Symbol">(</a><a id="20125" href="/PLFA-zh/TSPL/2018/Assignment4/#20125" class="Bound">A</a> <a id="20127" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20129" href="Assignment4.html#20129" class="Bound">B</a><a id="20130" class="Symbol">)</a> <a id="20132" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20136" class="Symbol">(</a><a id="20137" href="Assignment4.html#20137" class="Bound">A′</a> <a id="20140" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20142" href="Assignment4.html#20142" class="Bound">B′</a><a id="20144" class="Symbol">)</a>
    <a id="20150" class="Keyword">with</a> <a id="20155" href="/PLFA-zh/TSPL/2018/Assignment4/#20125" class="Bound">A</a> <a id="20157" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20161" href="Assignment4.html#20137" class="Bound">A′</a> <a id="20164" class="Symbol">|</a> <a id="20166" href="Assignment4.html#20129" class="Bound">B</a> <a id="20168" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="20172" href="Assignment4.html#20142" class="Bound">B′</a>
  <a id="20177" class="Symbol">...</a>  <a id="20182" class="Symbol">|</a> <a id="20184" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20187" href="/PLFA-zh/TSPL/2018/Assignment4/#20187" class="Bound">A≢</a>    <a id="20193" class="Symbol">|</a> <a id="20195" class="Symbol">_</a>         <a id="20205" class="Symbol">=</a>  <a id="20208" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20211" class="Symbol">λ{</a><a id="20213" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="20218" class="Symbol">→</a> <a id="20220" href="Assignment4.html#20187" class="Bound">A≢</a> <a id="20223" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="20227" class="Symbol">}</a>
  <a id="20231" class="Symbol">...</a>  <a id="20236" class="Symbol">|</a> <a id="20238" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="20242" class="Symbol">_</a>    <a id="20247" class="Symbol">|</a> <a id="20249" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20252" href="/PLFA-zh/TSPL/2018/Assignment4/#20252" class="Bound">B≢</a>     <a id="20259" class="Symbol">=</a>  <a id="20262" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="20265" class="Symbol">λ{</a><a id="20267" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="20272" class="Symbol">→</a> <a id="20274" href="Assignment4.html#20252" class="Bound">B≢</a> <a id="20277" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="20281" class="Symbol">}</a>
  <a id="20285" class="Symbol">...</a>  <a id="20290" class="Symbol">|</a> <a id="20292" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="20296" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="20301" class="Symbol">|</a> <a id="20303" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="20307" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>  <a id="20313" class="Symbol">=</a>  <a id="20316" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="20320" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre>
<h3 id="prerequisites">Prerequisites</h3>

<pre class="Agda">  <a id="Inference.dom≡"></a><a id="20355" href="/PLFA-zh/TSPL/2018/Assignment4/#20355" class="Function">dom≡</a> <a id="20360" class="Symbol">:</a> <a id="20362" class="Symbol">∀</a> <a id="20364" class="Symbol">{</a><a id="20365" href="Assignment4.html#20365" class="Bound">A</a> <a id="20367" href="Assignment4.html#20367" class="Bound">A′</a> <a id="20370" href="Assignment4.html#20370" class="Bound">B</a> <a id="20372" href="Assignment4.html#20372" class="Bound">B′</a><a id="20374" class="Symbol">}</a> <a id="20376" class="Symbol">→</a> <a id="20378" href="Assignment4.html#20365" class="Bound">A</a> <a id="20380" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20382" href="Assignment4.html#20370" class="Bound">B</a> <a id="20384" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20386" href="Assignment4.html#20367" class="Bound">A′</a> <a id="20389" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20391" href="Assignment4.html#20372" class="Bound">B′</a> <a id="20394" class="Symbol">→</a> <a id="20396" href="Assignment4.html#20365" class="Bound">A</a> <a id="20398" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20400" href="Assignment4.html#20367" class="Bound">A′</a>
  <a id="20405" href="/PLFA-zh/TSPL/2018/Assignment4/#20355" class="Function">dom≡</a> <a id="20410" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="20415" class="Symbol">=</a> <a id="20417" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

  <a id="Inference.rng≡"></a><a id="20425" href="/PLFA-zh/TSPL/2018/Assignment4/#20425" class="Function">rng≡</a> <a id="20430" class="Symbol">:</a> <a id="20432" class="Symbol">∀</a> <a id="20434" class="Symbol">{</a><a id="20435" href="Assignment4.html#20435" class="Bound">A</a> <a id="20437" href="Assignment4.html#20437" class="Bound">A′</a> <a id="20440" href="Assignment4.html#20440" class="Bound">B</a> <a id="20442" href="Assignment4.html#20442" class="Bound">B′</a><a id="20444" class="Symbol">}</a> <a id="20446" class="Symbol">→</a> <a id="20448" href="Assignment4.html#20435" class="Bound">A</a> <a id="20450" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20452" href="Assignment4.html#20440" class="Bound">B</a> <a id="20454" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20456" href="Assignment4.html#20437" class="Bound">A′</a> <a id="20459" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20461" href="Assignment4.html#20442" class="Bound">B′</a> <a id="20464" class="Symbol">→</a> <a id="20466" href="Assignment4.html#20440" class="Bound">B</a> <a id="20468" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20470" href="Assignment4.html#20442" class="Bound">B′</a>
  <a id="20475" href="/PLFA-zh/TSPL/2018/Assignment4/#20425" class="Function">rng≡</a> <a id="20480" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="20485" class="Symbol">=</a> <a id="20487" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

  <a id="Inference.ℕ≢⇒"></a><a id="20495" href="/PLFA-zh/TSPL/2018/Assignment4/#20495" class="Function">ℕ≢⇒</a> <a id="20499" class="Symbol">:</a> <a id="20501" class="Symbol">∀</a> <a id="20503" class="Symbol">{</a><a id="20504" href="Assignment4.html#20504" class="Bound">A</a> <a id="20506" href="Assignment4.html#20506" class="Bound">B</a><a id="20507" class="Symbol">}</a> <a id="20509" class="Symbol">→</a> <a id="20511" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="20514" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">≢</a> <a id="20516" href="Assignment4.html#20504" class="Bound">A</a> <a id="20518" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="20520" href="Assignment4.html#20506" class="Bound">B</a>
  <a id="20524" href="/PLFA-zh/TSPL/2018/Assignment4/#20495" class="Function">ℕ≢⇒</a> <a id="20528" class="Symbol">()</a>
</pre>

<h3 id="unique-lookup">Unique lookup</h3>

<pre class="Agda">  <a id="Inference.uniq-∋"></a><a id="20562" href="/PLFA-zh/TSPL/2018/Assignment4/#20562" class="Function">uniq-∋</a> <a id="20569" class="Symbol">:</a> <a id="20571" class="Symbol">∀</a> <a id="20573" class="Symbol">{</a><a id="20574" href="Assignment4.html#20574" class="Bound">Γ</a> <a id="20576" href="Assignment4.html#20576" class="Bound">x</a> <a id="20578" href="Assignment4.html#20578" class="Bound">A</a> <a id="20580" href="Assignment4.html#20580" class="Bound">B</a><a id="20581" class="Symbol">}</a> <a id="20583" class="Symbol">→</a> <a id="20585" href="Assignment4.html#20574" class="Bound">Γ</a> <a id="20587" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="20589" href="Assignment4.html#20576" class="Bound">x</a> <a id="20591" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="20593" href="Assignment4.html#20578" class="Bound">A</a> <a id="20595" class="Symbol">→</a> <a id="20597" href="Assignment4.html#20574" class="Bound">Γ</a> <a id="20599" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="20601" href="Assignment4.html#20576" class="Bound">x</a> <a id="20603" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="20605" href="Assignment4.html#20580" class="Bound">B</a> <a id="20607" class="Symbol">→</a> <a id="20609" href="Assignment4.html#20578" class="Bound">A</a> <a id="20611" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20613" href="Assignment4.html#20580" class="Bound">B</a>
  <a id="20617" href="/PLFA-zh/TSPL/2018/Assignment4/#20562" class="Function">uniq-∋</a> <a id="20624" href="Assignment4.html#18676" class="InductiveConstructor">Z</a> <a id="20626" href="Assignment4.html#18676" class="InductiveConstructor">Z</a>                 <a id="20644" class="Symbol">=</a>  <a id="20647" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
  <a id="20654" href="/PLFA-zh/TSPL/2018/Assignment4/#20562" class="Function">uniq-∋</a> <a id="20661" href="Assignment4.html#18676" class="InductiveConstructor">Z</a> <a id="20663" class="Symbol">(</a><a id="20664" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="20666" href="Assignment4.html#20666" class="Bound">x≢y</a> <a id="20670" class="Symbol">_)</a>         <a id="20681" class="Symbol">=</a>  <a id="20684" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="20691" class="Symbol">(</a><a id="20692" href="Assignment4.html#20666" class="Bound">x≢y</a> <a id="20696" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="20700" class="Symbol">)</a>
  <a id="20704" href="/PLFA-zh/TSPL/2018/Assignment4/#20562" class="Function">uniq-∋</a> <a id="20711" class="Symbol">(</a><a id="20712" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="20714" href="Assignment4.html#20714" class="Bound">x≢y</a> <a id="20718" class="Symbol">_)</a> <a id="20721" href="Assignment4.html#18676" class="InductiveConstructor">Z</a>         <a id="20731" class="Symbol">=</a>  <a id="20734" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="20741" class="Symbol">(</a><a id="20742" href="Assignment4.html#20714" class="Bound">x≢y</a> <a id="20746" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="20750" class="Symbol">)</a>
  <a id="20754" href="/PLFA-zh/TSPL/2018/Assignment4/#20562" class="Function">uniq-∋</a> <a id="20761" class="Symbol">(</a><a id="20762" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="20764" class="Symbol">_</a> <a id="20766" href="Assignment4.html#20766" class="Bound">∋x</a><a id="20768" class="Symbol">)</a> <a id="20770" class="Symbol">(</a><a id="20771" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="20773" class="Symbol">_</a> <a id="20775" href="Assignment4.html#20775" class="Bound">∋x′</a><a id="20778" class="Symbol">)</a>  <a id="20781" class="Symbol">=</a>  <a id="20784" href="Assignment4.html#20562" class="Function">uniq-∋</a> <a id="20791" href="Assignment4.html#20766" class="Bound">∋x</a> <a id="20794" href="Assignment4.html#20775" class="Bound">∋x′</a>
</pre>
<h3 id="unique-synthesis">Unique synthesis</h3>

<pre class="Agda">  <a id="Inference.uniq-↑"></a><a id="20831" href="/PLFA-zh/TSPL/2018/Assignment4/#20831" class="Function">uniq-↑</a> <a id="20838" class="Symbol">:</a> <a id="20840" class="Symbol">∀</a> <a id="20842" class="Symbol">{</a><a id="20843" href="Assignment4.html#20843" class="Bound">Γ</a> <a id="20845" href="Assignment4.html#20845" class="Bound">M</a> <a id="20847" href="Assignment4.html#20847" class="Bound">A</a> <a id="20849" href="Assignment4.html#20849" class="Bound">B</a><a id="20850" class="Symbol">}</a> <a id="20852" class="Symbol">→</a> <a id="20854" href="Assignment4.html#20843" class="Bound">Γ</a> <a id="20856" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="20858" href="Assignment4.html#20845" class="Bound">M</a> <a id="20860" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="20862" href="Assignment4.html#20847" class="Bound">A</a> <a id="20864" class="Symbol">→</a> <a id="20866" href="Assignment4.html#20843" class="Bound">Γ</a> <a id="20868" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="20870" href="Assignment4.html#20845" class="Bound">M</a> <a id="20872" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="20874" href="Assignment4.html#20849" class="Bound">B</a> <a id="20876" class="Symbol">→</a> <a id="20878" href="Assignment4.html#20847" class="Bound">A</a> <a id="20880" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="20882" href="Assignment4.html#20849" class="Bound">B</a>
  <a id="20886" href="/PLFA-zh/TSPL/2018/Assignment4/#20831" class="Function">uniq-↑</a> <a id="20893" class="Symbol">(</a><a id="20894" href="Assignment4.html#19007" class="InductiveConstructor">⊢`</a> <a id="20897" href="Assignment4.html#20897" class="Bound">∋x</a><a id="20899" class="Symbol">)</a> <a id="20901" class="Symbol">(</a><a id="20902" href="Assignment4.html#19007" class="InductiveConstructor">⊢`</a> <a id="20905" href="Assignment4.html#20905" class="Bound">∋x′</a><a id="20908" class="Symbol">)</a>       <a id="20916" class="Symbol">=</a>  <a id="20919" href="Assignment4.html#20562" class="Function">uniq-∋</a> <a id="20926" href="Assignment4.html#20897" class="Bound">∋x</a> <a id="20929" href="Assignment4.html#20905" class="Bound">∋x′</a>
  <a id="20935" href="/PLFA-zh/TSPL/2018/Assignment4/#20831" class="Function">uniq-↑</a> <a id="20942" class="Symbol">(</a><a id="20943" href="Assignment4.html#20943" class="Bound">⊢L</a> <a id="20946" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="20948" href="Assignment4.html#20948" class="Bound">⊢M</a><a id="20950" class="Symbol">)</a> <a id="20952" class="Symbol">(</a><a id="20953" href="Assignment4.html#20953" class="Bound">⊢L′</a> <a id="20957" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="20959" href="Assignment4.html#20959" class="Bound">⊢M′</a><a id="20962" class="Symbol">)</a>  <a id="20965" class="Symbol">=</a>  <a id="20968" href="Assignment4.html#20425" class="Function">rng≡</a> <a id="20973" class="Symbol">(</a><a id="20974" href="Assignment4.html#20831" class="Function">uniq-↑</a> <a id="20981" href="Assignment4.html#20943" class="Bound">⊢L</a> <a id="20984" href="Assignment4.html#20953" class="Bound">⊢L′</a><a id="20987" class="Symbol">)</a>
  <a id="20991" href="/PLFA-zh/TSPL/2018/Assignment4/#20831" class="Function">uniq-↑</a> <a id="20998" class="Symbol">(</a><a id="20999" href="Assignment4.html#19194" class="InductiveConstructor">⊢↓</a> <a id="21002" href="Assignment4.html#21002" class="Bound">⊢M</a><a id="21004" class="Symbol">)</a> <a id="21006" class="Symbol">(</a><a id="21007" href="Assignment4.html#19194" class="InductiveConstructor">⊢↓</a> <a id="21010" href="Assignment4.html#21010" class="Bound">⊢M′</a><a id="21013" class="Symbol">)</a>       <a id="21021" class="Symbol">=</a>  <a id="21024" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre>
<h2 id="lookup-type-of-a-variable-in-the-context">Lookup type of a variable in the context</h2>

<pre class="Agda">  <a id="Inference.ext∋"></a><a id="21085" href="/PLFA-zh/TSPL/2018/Assignment4/#21085" class="Function">ext∋</a> <a id="21090" class="Symbol">:</a> <a id="21092" class="Symbol">∀</a> <a id="21094" class="Symbol">{</a><a id="21095" href="Assignment4.html#21095" class="Bound">Γ</a> <a id="21097" href="Assignment4.html#21097" class="Bound">B</a> <a id="21099" href="Assignment4.html#21099" class="Bound">x</a> <a id="21101" href="Assignment4.html#21101" class="Bound">y</a><a id="21102" class="Symbol">}</a>
    <a id="21108" class="Symbol">→</a> <a id="21110" href="/PLFA-zh/TSPL/2018/Assignment4/#21099" class="Bound">x</a> <a id="21112" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">≢</a> <a id="21114" href="Assignment4.html#21101" class="Bound">y</a>
    <a id="21120" class="Symbol">→</a> <a id="21122" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="21124" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃[</a> <a id="21127" href="/PLFA-zh/TSPL/2018/Assignment4/#21127" class="Bound">A</a> <a id="21129" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">]</a><a id="21130" class="Symbol">(</a> <a id="21132" href="Assignment4.html#21095" class="Bound">Γ</a> <a id="21134" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="21136" href="Assignment4.html#21099" class="Bound">x</a> <a id="21138" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="21140" href="Assignment4.html#21127" class="Bound">A</a> <a id="21142" class="Symbol">)</a>
      <a id="21150" class="Comment">-----------------------------</a>
    <a id="21184" class="Symbol">→</a> <a id="21186" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="21188" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃[</a> <a id="21191" href="/PLFA-zh/TSPL/2018/Assignment4/#21191" class="Bound">A</a> <a id="21193" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">]</a><a id="21194" class="Symbol">(</a> <a id="21196" href="Assignment4.html#21095" class="Bound">Γ</a> <a id="21198" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="21200" href="Assignment4.html#21101" class="Bound">y</a> <a id="21202" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="21204" href="Assignment4.html#21097" class="Bound">B</a> <a id="21206" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="21208" href="Assignment4.html#21099" class="Bound">x</a> <a id="21210" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="21212" href="Assignment4.html#21191" class="Bound">A</a> <a id="21214" class="Symbol">)</a>
  <a id="21218" href="/PLFA-zh/TSPL/2018/Assignment4/#21085" class="Function">ext∋</a> <a id="21223" href="Assignment4.html#21223" class="Bound">x≢y</a> <a id="21227" class="Symbol">_</a>  <a id="21230" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21232" href="Assignment4.html#21232" class="Bound">A</a> <a id="21234" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21236" href="Assignment4.html#18676" class="InductiveConstructor">Z</a> <a id="21238" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>       <a id="21246" class="Symbol">=</a>  <a id="21249" href="Assignment4.html#21223" class="Bound">x≢y</a> <a id="21253" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
  <a id="21260" href="/PLFA-zh/TSPL/2018/Assignment4/#21085" class="Function">ext∋</a> <a id="21265" class="Symbol">_</a>   <a id="21269" href="Assignment4.html#21269" class="Bound">¬∃</a> <a id="21272" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21274" href="Assignment4.html#21274" class="Bound">A</a> <a id="21276" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21278" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="21280" class="Symbol">_</a> <a id="21282" href="Assignment4.html#21282" class="Bound">⊢x</a> <a id="21285" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="21288" class="Symbol">=</a>  <a id="21291" href="Assignment4.html#21269" class="Bound">¬∃</a> <a id="21294" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21296" href="Assignment4.html#21274" class="Bound">A</a> <a id="21298" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21300" href="Assignment4.html#21282" class="Bound">⊢x</a> <a id="21303" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>

  <a id="Inference.lookup"></a><a id="21308" href="/PLFA-zh/TSPL/2018/Assignment4/#21308" class="Function">lookup</a> <a id="21315" class="Symbol">:</a> <a id="21317" class="Symbol">∀</a> <a id="21319" class="Symbol">(</a><a id="21320" href="Assignment4.html#21320" class="Bound">Γ</a> <a id="21322" class="Symbol">:</a> <a id="21324" href="Assignment4.html#17714" class="Datatype">Context</a><a id="21331" class="Symbol">)</a> <a id="21333" class="Symbol">(</a><a id="21334" href="Assignment4.html#21334" class="Bound">x</a> <a id="21336" class="Symbol">:</a> <a id="21338" href="Assignment4.html#17610" class="Function">Id</a><a id="21340" class="Symbol">)</a>
      <a id="21348" class="Comment">-----------------------</a>
    <a id="21376" class="Symbol">→</a> <a id="21378" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="21382" class="Symbol">(</a><a id="21383" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃[</a> <a id="21386" href="/PLFA-zh/TSPL/2018/Assignment4/#21386" class="Bound">A</a> <a id="21388" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">]</a><a id="21389" class="Symbol">(</a><a id="21390" href="Assignment4.html#21320" class="Bound">Γ</a> <a id="21392" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="21394" href="Assignment4.html#21334" class="Bound">x</a> <a id="21396" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="21398" href="Assignment4.html#21386" class="Bound">A</a><a id="21399" class="Symbol">))</a>
  <a id="21404" href="/PLFA-zh/TSPL/2018/Assignment4/#21308" class="Function">lookup</a> <a id="21411" href="Assignment4.html#17738" class="InductiveConstructor">∅</a> <a id="21413" href="Assignment4.html#21413" class="Bound">x</a>                        <a id="21438" class="Symbol">=</a>  <a id="21441" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="21445" class="Symbol">(λ</a> <a id="21448" class="Symbol">())</a>
  <a id="21454" href="/PLFA-zh/TSPL/2018/Assignment4/#21308" class="Function">lookup</a> <a id="21461" class="Symbol">(</a><a id="21462" href="Assignment4.html#21462" class="Bound">Γ</a> <a id="21464" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="21466" href="Assignment4.html#21466" class="Bound">y</a> <a id="21468" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="21470" href="Assignment4.html#21470" class="Bound">B</a><a id="21471" class="Symbol">)</a> <a id="21473" href="Assignment4.html#21473" class="Bound">x</a> <a id="21475" class="Keyword">with</a> <a id="21480" href="Assignment4.html#21473" class="Bound">x</a> <a id="21482" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.Properties.html#2569" class="Function Operator">≟</a> <a id="21484" href="Assignment4.html#21466" class="Bound">y</a>
  <a id="21488" class="Symbol">...</a> <a id="21492" class="Symbol">|</a> <a id="21494" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="21498" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>                    <a id="21522" class="Symbol">=</a>  <a id="21525" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="21529" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21531" class="Bound">B</a> <a id="21533" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21535" href="/PLFA-zh/TSPL/2018/Assignment4/#18676" class="InductiveConstructor">Z</a> <a id="21537" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
  <a id="21541" class="Symbol">...</a> <a id="21545" class="Symbol">|</a> <a id="21547" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="21550" href="/PLFA-zh/TSPL/2018/Assignment4/#21550" class="Bound">x≢y</a> <a id="21554" class="Keyword">with</a> <a id="21559" href="Assignment4.html#21308" class="Function">lookup</a> <a id="21566" class="Bound">Γ</a> <a id="21568" class="Bound">x</a>
  <a id="21572" class="Symbol">...</a>             <a id="21588" class="Symbol">|</a> <a id="21590" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="21594" href="/PLFA-zh/TSPL/2018/Assignment4/#21594" class="Bound">¬∃</a>          <a id="21606" class="Symbol">=</a>  <a id="21609" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="21613" class="Symbol">(</a><a id="21614" href="Assignment4.html#21085" class="Function">ext∋</a> <a id="21619" class="Bound">x≢y</a> <a id="21623" href="Assignment4.html#21594" class="Bound">¬∃</a><a id="21625" class="Symbol">)</a>
  <a id="21629" class="Symbol">...</a>             <a id="21645" class="Symbol">|</a> <a id="21647" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="21651" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21653" href="/PLFA-zh/TSPL/2018/Assignment4/#21653" class="Bound">A</a> <a id="21655" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21657" href="Assignment4.html#21657" class="Bound">⊢x</a> <a id="21660" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="21663" class="Symbol">=</a>  <a id="21666" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="21670" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21672" href="Assignment4.html#21653" class="Bound">A</a> <a id="21674" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21676" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="21678" class="Bound">x≢y</a> <a id="21682" href="Assignment4.html#21657" class="Bound">⊢x</a> <a id="21685" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>
<h3 id="promoting-negations">Promoting negations</h3>

<pre class="Agda">  <a id="Inference.¬arg"></a><a id="21723" href="/PLFA-zh/TSPL/2018/Assignment4/#21723" class="Function">¬arg</a> <a id="21728" class="Symbol">:</a> <a id="21730" class="Symbol">∀</a> <a id="21732" class="Symbol">{</a><a id="21733" href="Assignment4.html#21733" class="Bound">Γ</a> <a id="21735" href="Assignment4.html#21735" class="Bound">A</a> <a id="21737" href="Assignment4.html#21737" class="Bound">B</a> <a id="21739" href="Assignment4.html#21739" class="Bound">L</a> <a id="21741" href="Assignment4.html#21741" class="Bound">M</a><a id="21742" class="Symbol">}</a>
    <a id="21748" class="Symbol">→</a> <a id="21750" href="/PLFA-zh/TSPL/2018/Assignment4/#21733" class="Bound">Γ</a> <a id="21752" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="21754" href="Assignment4.html#21739" class="Bound">L</a> <a id="21756" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="21758" href="Assignment4.html#21735" class="Bound">A</a> <a id="21760" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="21762" href="Assignment4.html#21737" class="Bound">B</a>
    <a id="21768" class="Symbol">→</a> <a id="21770" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="21772" href="/PLFA-zh/TSPL/2018/Assignment4/#21733" class="Bound">Γ</a> <a id="21774" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="21776" href="Assignment4.html#21741" class="Bound">M</a> <a id="21778" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="21780" href="Assignment4.html#21735" class="Bound">A</a>
      <a id="21788" class="Comment">-------------------------</a>
    <a id="21818" class="Symbol">→</a> <a id="21820" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="21822" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃[</a> <a id="21825" href="/PLFA-zh/TSPL/2018/Assignment4/#21825" class="Bound">B′</a> <a id="21828" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">]</a><a id="21829" class="Symbol">(</a><a id="21830" href="Assignment4.html#21733" class="Bound">Γ</a> <a id="21832" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="21834" href="Assignment4.html#21739" class="Bound">L</a> <a id="21836" href="Assignment4.html#17921" class="InductiveConstructor Operator">·</a> <a id="21838" href="Assignment4.html#21741" class="Bound">M</a> <a id="21840" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="21842" href="Assignment4.html#21825" class="Bound">B′</a><a id="21844" class="Symbol">)</a>
  <a id="21848" href="/PLFA-zh/TSPL/2018/Assignment4/#21723" class="Function">¬arg</a> <a id="21853" href="Assignment4.html#21853" class="Bound">⊢L</a> <a id="21856" href="Assignment4.html#21856" class="Bound">¬⊢M</a> <a id="21860" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="21862" href="Assignment4.html#21862" class="Bound">B′</a> <a id="21865" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="21867" href="Assignment4.html#21867" class="Bound">⊢L′</a> <a id="21871" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="21873" href="Assignment4.html#21873" class="Bound">⊢M′</a> <a id="21877" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="21879" class="Keyword">rewrite</a> <a id="21887" href="Assignment4.html#20355" class="Function">dom≡</a> <a id="21892" class="Symbol">(</a><a id="21893" href="Assignment4.html#20831" class="Function">uniq-↑</a> <a id="21900" href="Assignment4.html#21853" class="Bound">⊢L</a> <a id="21903" href="Assignment4.html#21867" class="Bound">⊢L′</a><a id="21906" class="Symbol">)</a> <a id="21908" class="Symbol">=</a> <a id="21910" href="Assignment4.html#21856" class="Bound">¬⊢M</a> <a id="21914" href="Assignment4.html#21873" class="Bound">⊢M′</a>

  <a id="Inference.¬switch"></a><a id="21921" href="/PLFA-zh/TSPL/2018/Assignment4/#21921" class="Function">¬switch</a> <a id="21929" class="Symbol">:</a> <a id="21931" class="Symbol">∀</a> <a id="21933" class="Symbol">{</a><a id="21934" href="Assignment4.html#21934" class="Bound">Γ</a> <a id="21936" href="Assignment4.html#21936" class="Bound">M</a> <a id="21938" href="Assignment4.html#21938" class="Bound">A</a> <a id="21940" href="Assignment4.html#21940" class="Bound">B</a><a id="21941" class="Symbol">}</a>
    <a id="21947" class="Symbol">→</a> <a id="21949" href="/PLFA-zh/TSPL/2018/Assignment4/#21934" class="Bound">Γ</a> <a id="21951" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="21953" href="Assignment4.html#21936" class="Bound">M</a> <a id="21955" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="21957" href="Assignment4.html#21938" class="Bound">A</a>
    <a id="21963" class="Symbol">→</a> <a id="21965" href="/PLFA-zh/TSPL/2018/Assignment4/#21938" class="Bound">A</a> <a id="21967" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#799" class="Function Operator">≢</a> <a id="21969" href="Assignment4.html#21940" class="Bound">B</a>
      <a id="21977" class="Comment">---------------</a>
    <a id="21997" class="Symbol">→</a> <a id="21999" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="22001" href="/PLFA-zh/TSPL/2018/Assignment4/#21934" class="Bound">Γ</a> <a id="22003" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="22005" class="Symbol">(</a><a id="22006" href="Assignment4.html#21936" class="Bound">M</a> <a id="22008" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="22009" class="Symbol">)</a> <a id="22011" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="22013" href="Assignment4.html#21940" class="Bound">B</a>
  <a id="22017" href="/PLFA-zh/TSPL/2018/Assignment4/#21921" class="Function">¬switch</a> <a id="22025" href="Assignment4.html#22025" class="Bound">⊢M</a> <a id="22028" href="Assignment4.html#22028" class="Bound">A≢B</a> <a id="22032" class="Symbol">(</a><a id="22033" href="Assignment4.html#19841" class="InductiveConstructor">⊢↑</a> <a id="22036" href="Assignment4.html#22036" class="Bound">⊢M′</a> <a id="22040" href="Assignment4.html#22040" class="Bound">A′≡B</a><a id="22044" class="Symbol">)</a> <a id="22046" class="Keyword">rewrite</a> <a id="22054" href="Assignment4.html#20831" class="Function">uniq-↑</a> <a id="22061" href="Assignment4.html#22025" class="Bound">⊢M</a> <a id="22064" href="Assignment4.html#22036" class="Bound">⊢M′</a> <a id="22068" class="Symbol">=</a> <a id="22070" href="Assignment4.html#22028" class="Bound">A≢B</a> <a id="22074" href="Assignment4.html#22040" class="Bound">A′≡B</a>
</pre>

<h2 id="synthesize-and-inherit-types">Synthesize and inherit types</h2>

<pre class="Agda">  <a id="Inference.synthesize"></a><a id="22124" href="/PLFA-zh/TSPL/2018/Assignment4/#22124" class="Function">synthesize</a> <a id="22135" class="Symbol">:</a> <a id="22137" class="Symbol">∀</a> <a id="22139" class="Symbol">(</a><a id="22140" href="Assignment4.html#22140" class="Bound">Γ</a> <a id="22142" class="Symbol">:</a> <a id="22144" href="Assignment4.html#17714" class="Datatype">Context</a><a id="22151" class="Symbol">)</a> <a id="22153" class="Symbol">(</a><a id="22154" href="Assignment4.html#22154" class="Bound">M</a> <a id="22156" class="Symbol">:</a> <a id="22158" href="Assignment4.html#17823" class="Datatype">Term⁺</a><a id="22163" class="Symbol">)</a>
      <a id="22171" class="Comment">-----------------------</a>
    <a id="22199" class="Symbol">→</a> <a id="22201" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="22205" class="Symbol">(</a><a id="22206" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">∃[</a> <a id="22209" href="/PLFA-zh/TSPL/2018/Assignment4/#22209" class="Bound">A</a> <a id="22211" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1783" class="Function">]</a><a id="22212" class="Symbol">(</a><a id="22213" href="Assignment4.html#22140" class="Bound">Γ</a> <a id="22215" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="22217" href="Assignment4.html#22154" class="Bound">M</a> <a id="22219" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="22221" href="Assignment4.html#22209" class="Bound">A</a><a id="22222" class="Symbol">))</a>

  <a id="Inference.inherit"></a><a id="22228" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="22236" class="Symbol">:</a> <a id="22238" class="Symbol">∀</a> <a id="22240" class="Symbol">(</a><a id="22241" href="Assignment4.html#22241" class="Bound">Γ</a> <a id="22243" class="Symbol">:</a> <a id="22245" href="Assignment4.html#17714" class="Datatype">Context</a><a id="22252" class="Symbol">)</a> <a id="22254" class="Symbol">(</a><a id="22255" href="Assignment4.html#22255" class="Bound">M</a> <a id="22257" class="Symbol">:</a> <a id="22259" href="Assignment4.html#17842" class="Datatype">Term⁻</a><a id="22264" class="Symbol">)</a> <a id="22266" class="Symbol">(</a><a id="22267" href="Assignment4.html#22267" class="Bound">A</a> <a id="22269" class="Symbol">:</a> <a id="22271" href="Assignment4.html#17641" class="Datatype">Type</a><a id="22275" class="Symbol">)</a>
      <a id="22283" class="Comment">---------------</a>
    <a id="22303" class="Symbol">→</a> <a id="22305" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="22309" class="Symbol">(</a><a id="22310" href="/PLFA-zh/TSPL/2018/Assignment4/#22241" class="Bound">Γ</a> <a id="22312" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="22314" href="Assignment4.html#22255" class="Bound">M</a> <a id="22316" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="22318" href="Assignment4.html#22267" class="Bound">A</a><a id="22319" class="Symbol">)</a>

  <a id="22324" href="/PLFA-zh/TSPL/2018/Assignment4/#22124" class="Function">synthesize</a> <a id="22335" href="Assignment4.html#22335" class="Bound">Γ</a> <a id="22337" class="Symbol">(</a><a id="22338" href="Assignment4.html#17878" class="InductiveConstructor Operator">`</a> <a id="22340" href="Assignment4.html#22340" class="Bound">x</a><a id="22341" class="Symbol">)</a> <a id="22343" class="Keyword">with</a> <a id="22348" href="Assignment4.html#21308" class="Function">lookup</a> <a id="22355" href="Assignment4.html#22335" class="Bound">Γ</a> <a id="22357" href="Assignment4.html#22340" class="Bound">x</a>
  <a id="22361" class="Symbol">...</a> <a id="22365" class="Symbol">|</a> <a id="22367" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22371" href="/PLFA-zh/TSPL/2018/Assignment4/#22371" class="Bound">¬∃</a>              <a id="22387" class="Symbol">=</a>  <a id="22390" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22394" class="Symbol">(λ{</a> <a id="22398" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22400" href="Assignment4.html#22400" class="Bound">A</a> <a id="22402" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22404" href="Assignment4.html#19007" class="InductiveConstructor">⊢`</a> <a id="22407" href="Assignment4.html#22407" class="Bound">∋x</a> <a id="22410" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="22412" class="Symbol">→</a> <a id="22414" href="Assignment4.html#22371" class="Bound">¬∃</a> <a id="22417" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22419" href="Assignment4.html#22400" class="Bound">A</a> <a id="22421" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22423" href="Assignment4.html#22407" class="Bound">∋x</a> <a id="22426" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="22428" class="Symbol">})</a>
  <a id="22433" class="Symbol">...</a> <a id="22437" class="Symbol">|</a> <a id="22439" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22443" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22445" href="/PLFA-zh/TSPL/2018/Assignment4/#22445" class="Bound">A</a> <a id="22447" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22449" href="Assignment4.html#22449" class="Bound">∋x</a> <a id="22452" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>      <a id="22459" class="Symbol">=</a>  <a id="22462" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22466" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22468" href="Assignment4.html#22445" class="Bound">A</a> <a id="22470" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22472" href="Assignment4.html#19007" class="InductiveConstructor">⊢`</a> <a id="22475" href="Assignment4.html#22449" class="Bound">∋x</a> <a id="22478" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
  <a id="22482" href="/PLFA-zh/TSPL/2018/Assignment4/#22124" class="Function">synthesize</a> <a id="22493" href="Assignment4.html#22493" class="Bound">Γ</a> <a id="22495" class="Symbol">(</a><a id="22496" href="Assignment4.html#22496" class="Bound">L</a> <a id="22498" href="Assignment4.html#17921" class="InductiveConstructor Operator">·</a> <a id="22500" href="Assignment4.html#22500" class="Bound">M</a><a id="22501" class="Symbol">)</a> <a id="22503" class="Keyword">with</a> <a id="22508" href="Assignment4.html#22124" class="Function">synthesize</a> <a id="22519" href="Assignment4.html#22493" class="Bound">Γ</a> <a id="22521" href="Assignment4.html#22496" class="Bound">L</a>
  <a id="22525" class="Symbol">...</a> <a id="22529" class="Symbol">|</a> <a id="22531" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22535" href="/PLFA-zh/TSPL/2018/Assignment4/#22535" class="Bound">¬∃</a>              <a id="22551" class="Symbol">=</a>  <a id="22554" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22558" class="Symbol">(λ{</a> <a id="22562" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22564" class="Symbol">_</a> <a id="22566" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22568" href="Assignment4.html#22568" class="Bound">⊢L</a>  <a id="22572" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="22574" class="Symbol">_</a>  <a id="22577" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="22580" class="Symbol">→</a>  <a id="22583" href="Assignment4.html#22535" class="Bound">¬∃</a> <a id="22586" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22588" class="Symbol">_</a> <a id="22590" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22592" href="Assignment4.html#22568" class="Bound">⊢L</a> <a id="22595" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="22597" class="Symbol">})</a>
  <a id="22602" class="Symbol">...</a> <a id="22606" class="Symbol">|</a> <a id="22608" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22612" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22614" href="/PLFA-zh/TSPL/2018/Assignment4/#17662" class="InductiveConstructor">`ℕ</a> <a id="22617" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a>    <a id="22622" href="Assignment4.html#22622" class="Bound">⊢L</a> <a id="22625" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="22628" class="Symbol">=</a>  <a id="22631" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22635" class="Symbol">(λ{</a> <a id="22639" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22641" class="Symbol">_</a> <a id="22643" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22645" href="Assignment4.html#22645" class="Bound">⊢L′</a> <a id="22649" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="22651" class="Symbol">_</a>  <a id="22654" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="22657" class="Symbol">→</a>  <a id="22660" href="Assignment4.html#20495" class="Function">ℕ≢⇒</a> <a id="22664" class="Symbol">(</a><a id="22665" href="Assignment4.html#20831" class="Function">uniq-↑</a> <a id="22672" href="Assignment4.html#22622" class="Bound">⊢L</a> <a id="22675" href="Assignment4.html#22645" class="Bound">⊢L′</a><a id="22678" class="Symbol">)</a> <a id="22680" class="Symbol">})</a>
  <a id="22685" class="Symbol">...</a> <a id="22689" class="Symbol">|</a> <a id="22691" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22695" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22697" href="/PLFA-zh/TSPL/2018/Assignment4/#22697" class="Bound">A</a> <a id="22699" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="22701" href="Assignment4.html#22701" class="Bound">B</a> <a id="22703" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22705" href="Assignment4.html#22705" class="Bound">⊢L</a> <a id="22708" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="22710" class="Keyword">with</a> <a id="22715" href="Assignment4.html#22228" class="Function">inherit</a> <a id="22723" class="Bound">Γ</a> <a id="22725" class="Bound">M</a> <a id="22727" href="Assignment4.html#22697" class="Bound">A</a>
  <a id="22731" class="Symbol">...</a>    <a id="22738" class="Symbol">|</a> <a id="22740" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22744" href="/PLFA-zh/TSPL/2018/Assignment4/#22744" class="Bound">¬⊢M</a>          <a id="22757" class="Symbol">=</a>  <a id="22760" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22764" class="Symbol">(</a><a id="22765" href="Assignment4.html#21723" class="Function">¬arg</a> <a id="22770" class="Bound">⊢L</a> <a id="22773" href="Assignment4.html#22744" class="Bound">¬⊢M</a><a id="22776" class="Symbol">)</a>
  <a id="22780" class="Symbol">...</a>    <a id="22787" class="Symbol">|</a> <a id="22789" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22793" href="/PLFA-zh/TSPL/2018/Assignment4/#22793" class="Bound">⊢M</a>           <a id="22806" class="Symbol">=</a>  <a id="22809" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22813" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22815" class="Bound">B</a> <a id="22817" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22819" class="Bound">⊢L</a> <a id="22822" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="22824" href="Assignment4.html#22793" class="Bound">⊢M</a> <a id="22827" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
  <a id="22831" href="/PLFA-zh/TSPL/2018/Assignment4/#22124" class="Function">synthesize</a> <a id="22842" href="Assignment4.html#22842" class="Bound">Γ</a> <a id="22844" class="Symbol">(</a><a id="22845" href="Assignment4.html#22845" class="Bound">M</a> <a id="22847" href="Assignment4.html#17975" class="InductiveConstructor Operator">↓</a> <a id="22849" href="Assignment4.html#22849" class="Bound">A</a><a id="22850" class="Symbol">)</a> <a id="22852" class="Keyword">with</a> <a id="22857" href="Assignment4.html#22228" class="Function">inherit</a> <a id="22865" href="Assignment4.html#22842" class="Bound">Γ</a> <a id="22867" href="Assignment4.html#22845" class="Bound">M</a> <a id="22869" href="Assignment4.html#22849" class="Bound">A</a>
  <a id="22873" class="Symbol">...</a> <a id="22877" class="Symbol">|</a> <a id="22879" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22883" href="/PLFA-zh/TSPL/2018/Assignment4/#22883" class="Bound">¬⊢M</a>             <a id="22899" class="Symbol">=</a>  <a id="22902" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="22906" class="Symbol">(λ{</a> <a id="22910" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22912" class="Symbol">_</a> <a id="22914" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22916" href="Assignment4.html#19194" class="InductiveConstructor">⊢↓</a> <a id="22919" href="Assignment4.html#22919" class="Bound">⊢M</a> <a id="22922" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>  <a id="22925" class="Symbol">→</a>  <a id="22928" href="Assignment4.html#22883" class="Bound">¬⊢M</a> <a id="22932" href="Assignment4.html#22919" class="Bound">⊢M</a> <a id="22935" class="Symbol">})</a>
  <a id="22940" class="Symbol">...</a> <a id="22944" class="Symbol">|</a> <a id="22946" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22950" href="/PLFA-zh/TSPL/2018/Assignment4/#22950" class="Bound">⊢M</a>              <a id="22966" class="Symbol">=</a>  <a id="22969" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="22973" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="22975" class="Bound">A</a> <a id="22977" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="22979" href="Assignment4.html#19194" class="InductiveConstructor">⊢↓</a> <a id="22982" href="Assignment4.html#22950" class="Bound">⊢M</a> <a id="22985" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>

  <a id="22990" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="22998" href="Assignment4.html#22998" class="Bound">Γ</a> <a id="23000" class="Symbol">(</a><a id="23001" href="Assignment4.html#18048" class="InductiveConstructor Operator">ƛ</a> <a id="23003" href="Assignment4.html#23003" class="Bound">x</a> <a id="23005" href="Assignment4.html#18048" class="InductiveConstructor Operator">⇒</a> <a id="23007" href="Assignment4.html#23007" class="Bound">N</a><a id="23008" class="Symbol">)</a> <a id="23010" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>      <a id="23018" class="Symbol">=</a>  <a id="23021" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23025" class="Symbol">(λ())</a>
  <a id="23033" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23041" href="Assignment4.html#23041" class="Bound">Γ</a> <a id="23043" class="Symbol">(</a><a id="23044" href="Assignment4.html#18048" class="InductiveConstructor Operator">ƛ</a> <a id="23046" href="Assignment4.html#23046" class="Bound">x</a> <a id="23048" href="Assignment4.html#18048" class="InductiveConstructor Operator">⇒</a> <a id="23050" href="Assignment4.html#23050" class="Bound">N</a><a id="23051" class="Symbol">)</a> <a id="23053" class="Symbol">(</a><a id="23054" href="Assignment4.html#23054" class="Bound">A</a> <a id="23056" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="23058" href="Assignment4.html#23058" class="Bound">B</a><a id="23059" class="Symbol">)</a> <a id="23061" class="Keyword">with</a> <a id="23066" href="Assignment4.html#22228" class="Function">inherit</a> <a id="23074" class="Symbol">(</a><a id="23075" href="Assignment4.html#23041" class="Bound">Γ</a> <a id="23077" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="23079" href="Assignment4.html#23046" class="Bound">x</a> <a id="23081" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="23083" href="Assignment4.html#23054" class="Bound">A</a><a id="23084" class="Symbol">)</a> <a id="23086" href="Assignment4.html#23050" class="Bound">N</a> <a id="23088" href="Assignment4.html#23058" class="Bound">B</a>
  <a id="23092" class="Symbol">...</a> <a id="23096" class="Symbol">|</a> <a id="23098" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="23101" href="/PLFA-zh/TSPL/2018/Assignment4/#23101" class="Bound">¬⊢N</a>                <a id="23120" class="Symbol">=</a>  <a id="23123" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23127" class="Symbol">(λ{</a> <a id="23131" class="Symbol">(</a><a id="23132" href="Assignment4.html#19300" class="InductiveConstructor">⊢ƛ</a> <a id="23135" href="Assignment4.html#23135" class="Bound">⊢N</a><a id="23137" class="Symbol">)</a>  <a id="23140" class="Symbol">→</a>  <a id="23143" href="Assignment4.html#23101" class="Bound">¬⊢N</a> <a id="23147" href="Assignment4.html#23135" class="Bound">⊢N</a> <a id="23150" class="Symbol">})</a>
  <a id="23155" class="Symbol">...</a> <a id="23159" class="Symbol">|</a> <a id="23161" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23165" href="/PLFA-zh/TSPL/2018/Assignment4/#23165" class="Bound">⊢N</a>                <a id="23183" class="Symbol">=</a>  <a id="23186" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23190" class="Symbol">(</a><a id="23191" href="Assignment4.html#19300" class="InductiveConstructor">⊢ƛ</a> <a id="23194" href="Assignment4.html#23165" class="Bound">⊢N</a><a id="23196" class="Symbol">)</a>
  <a id="23200" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23208" href="Assignment4.html#23208" class="Bound">Γ</a> <a id="23210" href="Assignment4.html#18098" class="InductiveConstructor">`zero</a> <a id="23216" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>          <a id="23228" class="Symbol">=</a>  <a id="23231" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23235" href="Assignment4.html#19406" class="InductiveConstructor">⊢zero</a>
  <a id="23243" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23251" href="Assignment4.html#23251" class="Bound">Γ</a> <a id="23253" href="Assignment4.html#18098" class="InductiveConstructor">`zero</a> <a id="23259" class="Symbol">(</a><a id="23260" href="Assignment4.html#23260" class="Bound">A</a> <a id="23262" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="23264" href="Assignment4.html#23264" class="Bound">B</a><a id="23265" class="Symbol">)</a>     <a id="23271" class="Symbol">=</a>  <a id="23274" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23278" class="Symbol">(λ())</a>
  <a id="23286" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23294" href="Assignment4.html#23294" class="Bound">Γ</a> <a id="23296" class="Symbol">(</a><a id="23297" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="23302" href="Assignment4.html#23302" class="Bound">M</a><a id="23303" class="Symbol">)</a> <a id="23305" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="23308" class="Keyword">with</a> <a id="23313" href="Assignment4.html#22228" class="Function">inherit</a> <a id="23321" href="Assignment4.html#23294" class="Bound">Γ</a> <a id="23323" href="Assignment4.html#23302" class="Bound">M</a> <a id="23325" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a>
  <a id="23330" class="Symbol">...</a> <a id="23334" class="Symbol">|</a> <a id="23336" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="23339" href="/PLFA-zh/TSPL/2018/Assignment4/#23339" class="Bound">¬⊢M</a>                <a id="23358" class="Symbol">=</a>  <a id="23361" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23365" class="Symbol">(λ{</a> <a id="23369" class="Symbol">(</a><a id="23370" href="Assignment4.html#19471" class="InductiveConstructor">⊢suc</a> <a id="23375" href="Assignment4.html#23375" class="Bound">⊢M</a><a id="23377" class="Symbol">)</a>  <a id="23380" class="Symbol">→</a>  <a id="23383" href="Assignment4.html#23339" class="Bound">¬⊢M</a> <a id="23387" href="Assignment4.html#23375" class="Bound">⊢M</a> <a id="23390" class="Symbol">})</a>
  <a id="23395" class="Symbol">...</a> <a id="23399" class="Symbol">|</a> <a id="23401" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23405" href="/PLFA-zh/TSPL/2018/Assignment4/#23405" class="Bound">⊢M</a>                <a id="23423" class="Symbol">=</a>  <a id="23426" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23430" class="Symbol">(</a><a id="23431" href="Assignment4.html#19471" class="InductiveConstructor">⊢suc</a> <a id="23436" href="Assignment4.html#23405" class="Bound">⊢M</a><a id="23438" class="Symbol">)</a>
  <a id="23442" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23450" href="Assignment4.html#23450" class="Bound">Γ</a> <a id="23452" class="Symbol">(</a><a id="23453" href="Assignment4.html#18135" class="InductiveConstructor Operator">`suc</a> <a id="23458" href="Assignment4.html#23458" class="Bound">M</a><a id="23459" class="Symbol">)</a> <a id="23461" class="Symbol">(</a><a id="23462" href="Assignment4.html#23462" class="Bound">A</a> <a id="23464" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="23466" href="Assignment4.html#23466" class="Bound">B</a><a id="23467" class="Symbol">)</a>  <a id="23470" class="Symbol">=</a>  <a id="23473" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23477" class="Symbol">(λ())</a>
  <a id="23485" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="23493" href="Assignment4.html#23493" class="Bound">Γ</a> <a id="23495" class="Symbol">(</a><a id="23496" href="Assignment4.html#18180" class="InductiveConstructor Operator">`case</a> <a id="23502" href="Assignment4.html#23502" class="Bound">L</a> <a id="23504" href="Assignment4.html#18180" class="InductiveConstructor Operator">[zero⇒</a> <a id="23511" href="Assignment4.html#23511" class="Bound">M</a> <a id="23513" href="Assignment4.html#18180" class="InductiveConstructor Operator">|suc</a> <a id="23518" href="Assignment4.html#23518" class="Bound">x</a> <a id="23520" href="Assignment4.html#18180" class="InductiveConstructor Operator">⇒</a> <a id="23522" href="Assignment4.html#23522" class="Bound">N</a> <a id="23524" href="Assignment4.html#18180" class="InductiveConstructor Operator">]</a><a id="23525" class="Symbol">)</a> <a id="23527" href="Assignment4.html#23527" class="Bound">A</a> <a id="23529" class="Keyword">with</a> <a id="23534" href="Assignment4.html#22124" class="Function">synthesize</a> <a id="23545" href="Assignment4.html#23493" class="Bound">Γ</a> <a id="23547" href="Assignment4.html#23502" class="Bound">L</a>
  <a id="23551" class="Symbol">...</a> <a id="23555" class="Symbol">|</a> <a id="23557" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="23560" href="/PLFA-zh/TSPL/2018/Assignment4/#23560" class="Bound">¬∃</a>                 <a id="23579" class="Symbol">=</a>  <a id="23582" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23586" class="Symbol">(λ{</a> <a id="23590" class="Symbol">(</a><a id="23591" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="23597" href="Assignment4.html#23597" class="Bound">⊢L</a>  <a id="23601" class="Symbol">_</a> <a id="23603" class="Symbol">_)</a> <a id="23606" class="Symbol">→</a> <a id="23608" href="Assignment4.html#23560" class="Bound">¬∃</a> <a id="23611" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="23613" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="23616" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="23618" href="Assignment4.html#23597" class="Bound">⊢L</a> <a id="23621" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a><a id="23622" class="Symbol">})</a>
  <a id="23627" class="Symbol">...</a> <a id="23631" class="Symbol">|</a> <a id="23633" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23637" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="23639" class="Symbol">_</a> <a id="23641" href="/PLFA-zh/TSPL/2018/Assignment4/#17679" class="InductiveConstructor Operator">⇒</a> <a id="23643" class="Symbol">_</a> <a id="23645" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="23647" href="Assignment4.html#23647" class="Bound">⊢L</a> <a id="23650" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>    <a id="23655" class="Symbol">=</a>  <a id="23658" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23662" class="Symbol">(λ{</a> <a id="23666" class="Symbol">(</a><a id="23667" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="23673" href="Assignment4.html#23673" class="Bound">⊢L′</a> <a id="23677" class="Symbol">_</a> <a id="23679" class="Symbol">_)</a> <a id="23682" class="Symbol">→</a> <a id="23684" href="Assignment4.html#20495" class="Function">ℕ≢⇒</a> <a id="23688" class="Symbol">(</a><a id="23689" href="Assignment4.html#20831" class="Function">uniq-↑</a> <a id="23696" href="Assignment4.html#23673" class="Bound">⊢L′</a> <a id="23700" href="Assignment4.html#23647" class="Bound">⊢L</a><a id="23702" class="Symbol">)</a> <a id="23704" class="Symbol">})</a>
  <a id="23709" class="Symbol">...</a> <a id="23713" class="Symbol">|</a> <a id="23715" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23719" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="23721" href="/PLFA-zh/TSPL/2018/Assignment4/#17662" class="InductiveConstructor">`ℕ</a> <a id="23724" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a>    <a id="23729" href="Assignment4.html#23729" class="Bound">⊢L</a> <a id="23732" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="23734" class="Keyword">with</a> <a id="23739" href="Assignment4.html#22228" class="Function">inherit</a> <a id="23747" class="Bound">Γ</a> <a id="23749" class="Bound">M</a> <a id="23751" class="Bound">A</a>
  <a id="23755" class="Symbol">...</a>    <a id="23762" class="Symbol">|</a> <a id="23764" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="23767" href="/PLFA-zh/TSPL/2018/Assignment4/#23767" class="Bound">¬⊢M</a>             <a id="23783" class="Symbol">=</a>  <a id="23786" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23790" class="Symbol">(λ{</a> <a id="23794" class="Symbol">(</a><a id="23795" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="23801" class="Symbol">_</a> <a id="23803" href="Assignment4.html#23803" class="Bound">⊢M</a> <a id="23806" class="Symbol">_)</a> <a id="23809" class="Symbol">→</a> <a id="23811" href="Assignment4.html#23767" class="Bound">¬⊢M</a> <a id="23815" href="Assignment4.html#23803" class="Bound">⊢M</a> <a id="23818" class="Symbol">})</a>
  <a id="23823" class="Symbol">...</a>    <a id="23830" class="Symbol">|</a> <a id="23832" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23836" href="/PLFA-zh/TSPL/2018/Assignment4/#23836" class="Bound">⊢M</a> <a id="23839" class="Keyword">with</a> <a id="23844" href="Assignment4.html#22228" class="Function">inherit</a> <a id="23852" class="Symbol">(</a><a id="23853" class="Bound">Γ</a> <a id="23855" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="23857" class="Bound">x</a> <a id="23859" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="23861" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a><a id="23863" class="Symbol">)</a> <a id="23865" class="Bound">N</a> <a id="23867" class="Bound">A</a>
  <a id="23871" class="Symbol">...</a>       <a id="23881" class="Symbol">|</a> <a id="23883" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="23886" href="/PLFA-zh/TSPL/2018/Assignment4/#23886" class="Bound">¬⊢N</a>          <a id="23899" class="Symbol">=</a>  <a id="23902" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="23906" class="Symbol">(λ{</a> <a id="23910" class="Symbol">(</a><a id="23911" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="23917" class="Symbol">_</a> <a id="23919" class="Symbol">_</a> <a id="23921" href="Assignment4.html#23921" class="Bound">⊢N</a><a id="23923" class="Symbol">)</a> <a id="23925" class="Symbol">→</a> <a id="23927" href="Assignment4.html#23886" class="Bound">¬⊢N</a> <a id="23931" href="Assignment4.html#23921" class="Bound">⊢N</a> <a id="23934" class="Symbol">})</a>
  <a id="23939" class="Symbol">...</a>       <a id="23949" class="Symbol">|</a> <a id="23951" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23955" href="/PLFA-zh/TSPL/2018/Assignment4/#23955" class="Bound">⊢N</a>          <a id="23967" class="Symbol">=</a>  <a id="23970" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="23974" class="Symbol">(</a><a id="23975" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="23981" class="Bound">⊢L</a> <a id="23984" class="Bound">⊢M</a> <a id="23987" href="Assignment4.html#23955" class="Bound">⊢N</a><a id="23989" class="Symbol">)</a>
  <a id="23993" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="24001" href="Assignment4.html#24001" class="Bound">Γ</a> <a id="24003" class="Symbol">(</a><a id="24004" href="Assignment4.html#18246" class="InductiveConstructor Operator">μ</a> <a id="24006" href="Assignment4.html#24006" class="Bound">x</a> <a id="24008" href="Assignment4.html#18246" class="InductiveConstructor Operator">⇒</a> <a id="24010" href="Assignment4.html#24010" class="Bound">N</a><a id="24011" class="Symbol">)</a> <a id="24013" href="Assignment4.html#24013" class="Bound">A</a> <a id="24015" class="Keyword">with</a> <a id="24020" href="Assignment4.html#22228" class="Function">inherit</a> <a id="24028" class="Symbol">(</a><a id="24029" href="Assignment4.html#24001" class="Bound">Γ</a> <a id="24031" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="24033" href="Assignment4.html#24006" class="Bound">x</a> <a id="24035" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="24037" href="Assignment4.html#24013" class="Bound">A</a><a id="24038" class="Symbol">)</a> <a id="24040" href="Assignment4.html#24010" class="Bound">N</a> <a id="24042" href="Assignment4.html#24013" class="Bound">A</a>
  <a id="24046" class="Symbol">...</a> <a id="24050" class="Symbol">|</a> <a id="24052" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="24055" href="/PLFA-zh/TSPL/2018/Assignment4/#24055" class="Bound">¬⊢N</a>                <a id="24074" class="Symbol">=</a>  <a id="24077" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="24081" class="Symbol">(λ{</a> <a id="24085" class="Symbol">(</a><a id="24086" href="Assignment4.html#19743" class="InductiveConstructor">⊢μ</a> <a id="24089" href="Assignment4.html#24089" class="Bound">⊢N</a><a id="24091" class="Symbol">)</a> <a id="24093" class="Symbol">→</a> <a id="24095" href="Assignment4.html#24055" class="Bound">¬⊢N</a> <a id="24099" href="Assignment4.html#24089" class="Bound">⊢N</a> <a id="24102" class="Symbol">})</a>
  <a id="24107" class="Symbol">...</a> <a id="24111" class="Symbol">|</a> <a id="24113" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="24117" href="/PLFA-zh/TSPL/2018/Assignment4/#24117" class="Bound">⊢N</a>                <a id="24135" class="Symbol">=</a>  <a id="24138" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="24142" class="Symbol">(</a><a id="24143" href="Assignment4.html#19743" class="InductiveConstructor">⊢μ</a> <a id="24146" href="Assignment4.html#24117" class="Bound">⊢N</a><a id="24148" class="Symbol">)</a>
  <a id="24152" href="/PLFA-zh/TSPL/2018/Assignment4/#22228" class="Function">inherit</a> <a id="24160" href="Assignment4.html#24160" class="Bound">Γ</a> <a id="24162" class="Symbol">(</a><a id="24163" href="Assignment4.html#24163" class="Bound">M</a> <a id="24165" href="Assignment4.html#18296" class="InductiveConstructor Operator">↑</a><a id="24166" class="Symbol">)</a> <a id="24168" href="Assignment4.html#24168" class="Bound">B</a> <a id="24170" class="Keyword">with</a> <a id="24175" href="Assignment4.html#22124" class="Function">synthesize</a> <a id="24186" href="Assignment4.html#24160" class="Bound">Γ</a> <a id="24188" href="Assignment4.html#24163" class="Bound">M</a>
  <a id="24192" class="Symbol">...</a> <a id="24196" class="Symbol">|</a> <a id="24198" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="24202" href="/PLFA-zh/TSPL/2018/Assignment4/#24202" class="Bound">¬∃</a>                <a id="24220" class="Symbol">=</a>  <a id="24223" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="24227" class="Symbol">(λ{</a> <a id="24231" class="Symbol">(</a><a id="24232" href="Assignment4.html#19841" class="InductiveConstructor">⊢↑</a> <a id="24235" href="Assignment4.html#24235" class="Bound">⊢M</a> <a id="24238" class="Symbol">_)</a> <a id="24241" class="Symbol">→</a> <a id="24243" href="Assignment4.html#24202" class="Bound">¬∃</a> <a id="24246" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="24248" class="Symbol">_</a> <a id="24250" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="24252" href="Assignment4.html#24235" class="Bound">⊢M</a> <a id="24255" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="24257" class="Symbol">})</a>
  <a id="24262" class="Symbol">...</a> <a id="24266" class="Symbol">|</a> <a id="24268" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="24272" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="24274" href="/PLFA-zh/TSPL/2018/Assignment4/#24274" class="Bound">A</a> <a id="24276" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="24278" href="Assignment4.html#24278" class="Bound">⊢M</a> <a id="24281" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="24283" class="Keyword">with</a> <a id="24288" href="Assignment4.html#24274" class="Bound">A</a> <a id="24290" href="Assignment4.html#19965" class="Function Operator">≟Tp</a> <a id="24294" class="Bound">B</a>
  <a id="24298" class="Symbol">...</a>   <a id="24304" class="Symbol">|</a> <a id="24306" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="24310" href="/PLFA-zh/TSPL/2018/Assignment4/#24310" class="Bound">A≢B</a>             <a id="24326" class="Symbol">=</a>  <a id="24329" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a>  <a id="24333" class="Symbol">(</a><a id="24334" href="Assignment4.html#21921" class="Function">¬switch</a> <a id="24342" class="Bound">⊢M</a> <a id="24345" href="Assignment4.html#24310" class="Bound">A≢B</a><a id="24348" class="Symbol">)</a>
  <a id="24352" class="Symbol">...</a>   <a id="24358" class="Symbol">|</a> <a id="24360" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="24364" href="/PLFA-zh/TSPL/2018/Assignment4/#24364" class="Bound">A≡B</a>             <a id="24380" class="Symbol">=</a>  <a id="24383" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="24387" class="Symbol">(</a><a id="24388" href="Assignment4.html#19841" class="InductiveConstructor">⊢↑</a> <a id="24391" class="Bound">⊢M</a> <a id="24394" href="Assignment4.html#24364" class="Bound">A≡B</a><a id="24397" class="Symbol">)</a>
</pre>
<h3 id="erasure">Erasure</h3>

<pre class="Agda">  <a id="Inference.∥_∥Tp"></a><a id="24423" href="/PLFA-zh/TSPL/2018/Assignment4/#24423" class="Function Operator">∥_∥Tp</a> <a id="24429" class="Symbol">:</a> <a id="24431" href="Assignment4.html#17641" class="Datatype">Type</a> <a id="24436" class="Symbol">→</a> <a id="24438" href="/PLFA-zh/More/#14500" class="Datatype">DB.Type</a>
  <a id="24448" href="/PLFA-zh/TSPL/2018/Assignment4/#24423" class="Function Operator">∥</a> <a id="24450" href="Assignment4.html#17662" class="InductiveConstructor">`ℕ</a> <a id="24453" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>             <a id="24469" class="Symbol">=</a>  <a id="24472" href="/PLFA-zh/More/#14519" class="InductiveConstructor">DB.`ℕ</a>
  <a id="24480" href="/PLFA-zh/TSPL/2018/Assignment4/#24423" class="Function Operator">∥</a> <a id="24482" href="Assignment4.html#24482" class="Bound">A</a> <a id="24484" href="Assignment4.html#17679" class="InductiveConstructor Operator">⇒</a> <a id="24486" href="Assignment4.html#24486" class="Bound">B</a> <a id="24488" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>          <a id="24501" class="Symbol">=</a>  <a id="24504" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24506" href="Assignment4.html#24482" class="Bound">A</a> <a id="24508" href="Assignment4.html#24423" class="Function Operator">∥Tp</a> <a id="24512" href="/PLFA-zh/More/#14534" class="InductiveConstructor Operator">DB.⇒</a> <a id="24517" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24519" href="Assignment4.html#24486" class="Bound">B</a> <a id="24521" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>

  <a id="Inference.∥_∥Cx"></a><a id="24528" href="/PLFA-zh/TSPL/2018/Assignment4/#24528" class="Function Operator">∥_∥Cx</a> <a id="24534" class="Symbol">:</a> <a id="24536" href="Assignment4.html#17714" class="Datatype">Context</a> <a id="24544" class="Symbol">→</a> <a id="24546" href="/PLFA-zh/More/#14633" class="Datatype">DB.Context</a>
  <a id="24559" href="/PLFA-zh/TSPL/2018/Assignment4/#24528" class="Function Operator">∥</a> <a id="24561" href="Assignment4.html#17738" class="InductiveConstructor">∅</a> <a id="24563" href="Assignment4.html#24528" class="Function Operator">∥Cx</a>              <a id="24580" class="Symbol">=</a>  <a id="24583" href="/PLFA-zh/More/#14655" class="InductiveConstructor">DB.∅</a>
  <a id="24590" href="/PLFA-zh/TSPL/2018/Assignment4/#24528" class="Function Operator">∥</a> <a id="24592" href="Assignment4.html#24592" class="Bound">Γ</a> <a id="24594" href="Assignment4.html#17758" class="InductiveConstructor Operator">,</a> <a id="24596" href="Assignment4.html#24596" class="Bound">x</a> <a id="24598" href="Assignment4.html#17758" class="InductiveConstructor Operator">⦂</a> <a id="24600" href="Assignment4.html#24600" class="Bound">A</a> <a id="24602" href="Assignment4.html#24528" class="Function Operator">∥Cx</a>      <a id="24611" class="Symbol">=</a>  <a id="24614" href="Assignment4.html#24528" class="Function Operator">∥</a> <a id="24616" href="Assignment4.html#24592" class="Bound">Γ</a> <a id="24618" href="Assignment4.html#24528" class="Function Operator">∥Cx</a> <a id="24622" href="/PLFA-zh/More/#14671" class="InductiveConstructor Operator">DB.,</a> <a id="24627" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24629" href="Assignment4.html#24600" class="Bound">A</a> <a id="24631" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>

  <a id="Inference.∥_∥∋"></a><a id="24638" href="/PLFA-zh/TSPL/2018/Assignment4/#24638" class="Function Operator">∥_∥∋</a> <a id="24643" class="Symbol">:</a> <a id="24645" class="Symbol">∀</a> <a id="24647" class="Symbol">{</a><a id="24648" href="Assignment4.html#24648" class="Bound">Γ</a> <a id="24650" href="Assignment4.html#24650" class="Bound">x</a> <a id="24652" href="Assignment4.html#24652" class="Bound">A</a><a id="24653" class="Symbol">}</a> <a id="24655" class="Symbol">→</a> <a id="24657" href="Assignment4.html#24648" class="Bound">Γ</a> <a id="24659" href="Assignment4.html#18631" class="Datatype Operator">∋</a> <a id="24661" href="Assignment4.html#24650" class="Bound">x</a> <a id="24663" href="Assignment4.html#18631" class="Datatype Operator">⦂</a> <a id="24665" href="Assignment4.html#24652" class="Bound">A</a> <a id="24667" class="Symbol">→</a> <a id="24669" href="Assignment4.html#24528" class="Function Operator">∥</a> <a id="24671" href="Assignment4.html#24648" class="Bound">Γ</a> <a id="24673" href="Assignment4.html#24528" class="Function Operator">∥Cx</a> <a id="24677" href="/PLFA-zh/More/#14755" class="Datatype Operator">DB.∋</a> <a id="24682" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24684" href="Assignment4.html#24652" class="Bound">A</a> <a id="24686" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>
  <a id="24692" href="/PLFA-zh/TSPL/2018/Assignment4/#24638" class="Function Operator">∥</a> <a id="24694" href="Assignment4.html#18676" class="InductiveConstructor">Z</a> <a id="24696" href="Assignment4.html#24638" class="Function Operator">∥∋</a>               <a id="24713" class="Symbol">=</a>  <a id="24716" href="/PLFA-zh/More/#14791" class="InductiveConstructor">DB.Z</a>
  <a id="24723" href="/PLFA-zh/TSPL/2018/Assignment4/#24638" class="Function Operator">∥</a> <a id="24725" href="Assignment4.html#18750" class="InductiveConstructor">S</a> <a id="24727" href="Assignment4.html#24727" class="Bound">x≢</a> <a id="24730" href="Assignment4.html#24730" class="Bound">⊢x</a> <a id="24733" href="Assignment4.html#24638" class="Function Operator">∥∋</a>         <a id="24744" class="Symbol">=</a>  <a id="24747" href="/PLFA-zh/More/#14838" class="InductiveConstructor Operator">DB.S</a> <a id="24752" href="Assignment4.html#24638" class="Function Operator">∥</a> <a id="24754" href="Assignment4.html#24730" class="Bound">⊢x</a> <a id="24757" href="Assignment4.html#24638" class="Function Operator">∥∋</a>

  <a id="Inference.∥_∥⁺"></a><a id="24763" href="/PLFA-zh/TSPL/2018/Assignment4/#24763" class="Function Operator">∥_∥⁺</a> <a id="24768" class="Symbol">:</a> <a id="24770" class="Symbol">∀</a> <a id="24772" class="Symbol">{</a><a id="24773" href="Assignment4.html#24773" class="Bound">Γ</a> <a id="24775" href="Assignment4.html#24775" class="Bound">M</a> <a id="24777" href="Assignment4.html#24777" class="Bound">A</a><a id="24778" class="Symbol">}</a> <a id="24780" class="Symbol">→</a> <a id="24782" href="Assignment4.html#24773" class="Bound">Γ</a> <a id="24784" href="Assignment4.html#18901" class="Datatype Operator">⊢</a> <a id="24786" href="Assignment4.html#24775" class="Bound">M</a> <a id="24788" href="Assignment4.html#18901" class="Datatype Operator">↑</a> <a id="24790" href="Assignment4.html#24777" class="Bound">A</a> <a id="24792" class="Symbol">→</a> <a id="24794" href="Assignment4.html#24528" class="Function Operator">∥</a> <a id="24796" href="Assignment4.html#24773" class="Bound">Γ</a> <a id="24798" href="Assignment4.html#24528" class="Function Operator">∥Cx</a> <a id="24802" href="/PLFA-zh/More/#14946" class="Datatype Operator">DB.⊢</a> <a id="24807" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24809" href="Assignment4.html#24777" class="Bound">A</a> <a id="24811" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>
  <a id="Inference.∥_∥⁻"></a><a id="24817" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥_∥⁻</a> <a id="24822" class="Symbol">:</a> <a id="24824" class="Symbol">∀</a> <a id="24826" class="Symbol">{</a><a id="24827" href="Assignment4.html#24827" class="Bound">Γ</a> <a id="24829" href="Assignment4.html#24829" class="Bound">M</a> <a id="24831" href="Assignment4.html#24831" class="Bound">A</a><a id="24832" class="Symbol">}</a> <a id="24834" class="Symbol">→</a> <a id="24836" href="Assignment4.html#24827" class="Bound">Γ</a> <a id="24838" href="Assignment4.html#18945" class="Datatype Operator">⊢</a> <a id="24840" href="Assignment4.html#24829" class="Bound">M</a> <a id="24842" href="Assignment4.html#18945" class="Datatype Operator">↓</a> <a id="24844" href="Assignment4.html#24831" class="Bound">A</a> <a id="24846" class="Symbol">→</a> <a id="24848" href="Assignment4.html#24528" class="Function Operator">∥</a> <a id="24850" href="Assignment4.html#24827" class="Bound">Γ</a> <a id="24852" href="Assignment4.html#24528" class="Function Operator">∥Cx</a> <a id="24856" href="/PLFA-zh/More/#14946" class="Datatype Operator">DB.⊢</a> <a id="24861" href="Assignment4.html#24423" class="Function Operator">∥</a> <a id="24863" href="Assignment4.html#24831" class="Bound">A</a> <a id="24865" href="Assignment4.html#24423" class="Function Operator">∥Tp</a>

  <a id="24872" href="/PLFA-zh/TSPL/2018/Assignment4/#24763" class="Function Operator">∥</a> <a id="24874" href="Assignment4.html#19007" class="InductiveConstructor">⊢`</a> <a id="24877" href="Assignment4.html#24877" class="Bound">⊢x</a> <a id="24880" href="Assignment4.html#24763" class="Function Operator">∥⁺</a>           <a id="24893" class="Symbol">=</a>  <a id="24896" href="/PLFA-zh/More/#14998" class="InductiveConstructor Operator">DB.`</a> <a id="24901" href="Assignment4.html#24638" class="Function Operator">∥</a> <a id="24903" href="Assignment4.html#24877" class="Bound">⊢x</a> <a id="24906" href="Assignment4.html#24638" class="Function Operator">∥∋</a>
  <a id="24911" href="/PLFA-zh/TSPL/2018/Assignment4/#24763" class="Function Operator">∥</a> <a id="24913" href="Assignment4.html#24913" class="Bound">⊢L</a> <a id="24916" href="Assignment4.html#19085" class="InductiveConstructor Operator">·</a> <a id="24918" href="Assignment4.html#24918" class="Bound">⊢M</a> <a id="24921" href="Assignment4.html#24763" class="Function Operator">∥⁺</a>         <a id="24932" class="Symbol">=</a>  <a id="24935" href="Assignment4.html#24763" class="Function Operator">∥</a> <a id="24937" href="Assignment4.html#24913" class="Bound">⊢L</a> <a id="24940" href="Assignment4.html#24763" class="Function Operator">∥⁺</a> <a id="24943" href="/PLFA-zh/More/#15134" class="InductiveConstructor Operator">DB.·</a> <a id="24948" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="24950" href="Assignment4.html#24918" class="Bound">⊢M</a> <a id="24953" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>
  <a id="24958" href="/PLFA-zh/TSPL/2018/Assignment4/#24763" class="Function Operator">∥</a> <a id="24960" href="Assignment4.html#19194" class="InductiveConstructor">⊢↓</a> <a id="24963" href="Assignment4.html#24963" class="Bound">⊢M</a> <a id="24966" href="Assignment4.html#24763" class="Function Operator">∥⁺</a>           <a id="24979" class="Symbol">=</a>  <a id="24982" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="24984" href="Assignment4.html#24963" class="Bound">⊢M</a> <a id="24987" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>

  <a id="24993" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="24995" href="Assignment4.html#19300" class="InductiveConstructor">⊢ƛ</a> <a id="24998" href="Assignment4.html#24998" class="Bound">⊢N</a> <a id="25001" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>           <a id="25014" class="Symbol">=</a>  <a id="25017" href="/PLFA-zh/More/#15066" class="InductiveConstructor Operator">DB.ƛ</a> <a id="25022" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="25024" href="Assignment4.html#24998" class="Bound">⊢N</a> <a id="25027" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>
  <a id="25032" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="25034" href="Assignment4.html#19406" class="InductiveConstructor">⊢zero</a> <a id="25040" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>           <a id="25053" class="Symbol">=</a>  <a id="25056" href="/PLFA-zh/More/#15224" class="InductiveConstructor">DB.`zero</a>
  <a id="25067" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="25069" href="Assignment4.html#19471" class="InductiveConstructor">⊢suc</a> <a id="25074" href="Assignment4.html#25074" class="Bound">⊢M</a> <a id="25077" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>         <a id="25088" class="Symbol">=</a>  <a id="25091" href="/PLFA-zh/More/#15267" class="InductiveConstructor Operator">DB.`suc</a> <a id="25099" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="25101" href="Assignment4.html#25074" class="Bound">⊢M</a> <a id="25104" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>
  <a id="25109" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="25111" href="Assignment4.html#19558" class="InductiveConstructor">⊢case</a> <a id="25117" href="Assignment4.html#25117" class="Bound">⊢L</a> <a id="25120" href="Assignment4.html#25120" class="Bound">⊢M</a> <a id="25123" href="Assignment4.html#25123" class="Bound">⊢N</a> <a id="25126" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>  <a id="25130" class="Symbol">=</a>  <a id="25133" href="/PLFA-zh/More/#15323" class="InductiveConstructor">DB.case</a> <a id="25141" href="Assignment4.html#24763" class="Function Operator">∥</a> <a id="25143" href="Assignment4.html#25117" class="Bound">⊢L</a> <a id="25146" href="Assignment4.html#24763" class="Function Operator">∥⁺</a> <a id="25149" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="25151" href="Assignment4.html#25120" class="Bound">⊢M</a> <a id="25154" href="Assignment4.html#24817" class="Function Operator">∥⁻</a> <a id="25157" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="25159" href="Assignment4.html#25123" class="Bound">⊢N</a> <a id="25162" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>
  <a id="25167" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="25169" href="Assignment4.html#19743" class="InductiveConstructor">⊢μ</a> <a id="25172" href="Assignment4.html#25172" class="Bound">⊢M</a> <a id="25175" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>           <a id="25188" class="Symbol">=</a>  <a id="25191" href="/PLFA-zh/More/#15422" class="InductiveConstructor Operator">DB.μ</a> <a id="25196" href="Assignment4.html#24817" class="Function Operator">∥</a> <a id="25198" href="Assignment4.html#25172" class="Bound">⊢M</a> <a id="25201" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>
  <a id="25206" href="/PLFA-zh/TSPL/2018/Assignment4/#24817" class="Function Operator">∥</a> <a id="25208" href="Assignment4.html#19841" class="InductiveConstructor">⊢↑</a> <a id="25211" href="Assignment4.html#25211" class="Bound">⊢M</a> <a id="25214" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="25219" href="Assignment4.html#24817" class="Function Operator">∥⁻</a>      <a id="25227" class="Symbol">=</a>  <a id="25230" href="Assignment4.html#24763" class="Function Operator">∥</a> <a id="25232" href="Assignment4.html#25211" class="Bound">⊢M</a> <a id="25235" href="Assignment4.html#24763" class="Function Operator">∥⁺</a>
</pre>
<h4 id="bidirectional-mul">Exercise <code class="highlighter-rouge">bidirectional-mul</code> (recommended)</h4>

<p>Rewrite your definition of multiplication from
Chapter [Lambda][plfa.Lambda], decorated to support inference.</p>

<h4 id="bidirectional-products">Exercise <code class="highlighter-rouge">bidirectional-products</code> (recommended)</h4>

<p>Extend the bidirectional type rules to include products from
Chapter [More][plfa.More].</p>

<h4 id="exercise-bidirectional-rest-stretch">Exercise <code class="highlighter-rouge">bidirectional-rest</code> (stretch)</h4>

<p>Extend the bidirectional type rules to include the rest of the constructs from
Chapter [More][plfa.More].</p>

<h4 id="exercise-inference-mul-recommended">Exercise <code class="highlighter-rouge">inference-mul</code> (recommended)</h4>

<p>Rewrite your definition of multiplication from
Chapter [Lambda][plfa.Lambda] decorated to support inference, and show
that erasure of the inferred typing yields your definition of
multiplication from Chapter [DeBruijn][plfa.DeBruijn].</p>

<h4 id="exercise-inference-products-recommended">Exercise <code class="highlighter-rouge">inference-products</code> (recommended)</h4>

<p>Extend bidirectional inference to include products from
Chapter [More][plfa.More].</p>

<h4 id="exercise-inference-rest-stretch">Exercise <code class="highlighter-rouge">inference-rest</code> (stretch)</h4>

<p>Extend bidirectional inference to include the rest of the constructs from
Chapter [More][plfa.More].</p>

<h2 id="untyped">Untyped</h2>

<h4 id="exercise-type">Exercise (<code class="highlighter-rouge">Type≃⊤</code>)</h4>

<p>Show that <code class="highlighter-rouge">Type</code> is isomorphic to <code class="highlighter-rouge">⊤</code>, the unit type.</p>

<h4 id="exercise-contextℕ">Exercise (<code class="highlighter-rouge">Context≃ℕ</code>)</h4>

<p>Show that <code class="highlighter-rouge">Context</code> is isomorphic to <code class="highlighter-rouge">ℕ</code>.</p>

<h4 id="exercise-variant-1">Exercise (<code class="highlighter-rouge">variant-1</code>)</h4>

<p>How would the rules change if we want call-by-value where terms
normalise completely?  Assume that <code class="highlighter-rouge">β</code> should not permit reduction
unless both terms are in normal form.</p>

<h4 id="exercise-variant-2">Exercise (<code class="highlighter-rouge">variant-2</code>)</h4>

<p>How would the rules change if we want call-by-value where terms
do not reduce underneath lambda?  Assume that <code class="highlighter-rouge">β</code>
permits reduction when both terms are values (that is, lambda
abstractions).  What would <code class="highlighter-rouge">plusᶜ · twoᶜ · twoᶜ</code> reduce to in this case?</p>

<h4 id="exercise-plus-eval">Exercise <code class="highlighter-rouge">plus-eval</code></h4>

<p>Use the evaluator to confirm that <code class="highlighter-rouge">plus · two · two</code> and <code class="highlighter-rouge">four</code>
normalise to the same term.</p>

<h4 id="exercise-multiplication-untyped-recommended">Exercise <code class="highlighter-rouge">multiplication-untyped</code> (recommended)</h4>

<p>Use the encodings above to translate your definition of
multiplication from previous chapters with the Scott
representation and the encoding of the fixpoint operator.
Confirm that two times two is four.</p>

<h4 id="exercise-encode-more-stretch">Exercise <code class="highlighter-rouge">encode-more</code> (stretch)</h4>

<p>Along the lines above, encode all of the constructs of
Chapter [More][plfa.More],
save for primitive numbers, in the untyped lambda calculus.</p>

  </div>

  <p style="text-align:center;">
    
    
    
    <a alt="Source code" href="https://github.com/Agda-zh/PLFA-zh/blob/dev/courses/tspl/2018/Assignment4.lagda.md">源代码</a>
    
    
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/PLFA-zh/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">编程语言基础：Agda 语言描述
</h2>

    <h3 class="footer-heading">原作者：</h3><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><h3 class="footer-heading">本章暂无翻译</h3>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">创作共用-署名 4.0 国际（CC BY 4.0）许可协议</a>授权。<br />
  </div>
</footer>
<!-- Import jQuery -->
<script type="text/javascript" src="/PLFA-zh/assets/jquery.js"></script>

<!-- Script which draws background for progress tags -->
<script type="text/javascript">
$('span.progress').each(function(){
    const progress = parseInt($(this).text());
    $(this).css({
        'border-style': 'solid',
        'border-radius': '5px',
        'border-width': 'thin',
        'border-color': progress === 100 ? 'limegreen' : 'dimgray',
        'font-size': '70%',
        'padding': '0% 0.5% 0% 0.5%',
        'margin': '0em 0em 0em 0.5em',
        'box-sizing': 'border-box',
        'vertical-align': '10%'
    });
    $(this).text(progress.toString() + " %");
})
</script>

<!-- Script which allows for foldable code blocks -->
<script type="text/javascript">

 // Makes sandwhich menu works
 $('.menu-icon').click(function(){
   $('.trigger').toggle();
 });

 // Script which allows for foldable code blocks
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/PLFA-zh/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
